{"version":3,"sources":["components/Card.jsx","services/EmojiService.js","components/UserAvatar.jsx","components/UsersTable.jsx","components/StatusTable.jsx","components/PollsTable.jsx","components/ErrorMessage.jsx","App.js","reportWebVitals.js","index.js"],"names":["Card","props","number","name","children","iconClass","cardClass","className","emojiConfigs","away","icon","intlId","defaultMessage","neutral","confused","sad","happy","applause","thumbsUp","thumbsDown","raiseHand","getUserEmojisSummary","user","skipNames","start","end","userEmojis","emojis","forEach","emoji","split","indexOf","sentOn","UserAvatar","isModerator","xmlns","fill","viewBox","stroke","isDialIn","strokeLinecap","strokeLinejoin","strokeWidth","d","UsersTable","state","activityscoreOrder","this","setState","allUsers","totalOfActivityTime","totalOfPolls","tab","getSumOfTime","eventsArr","reduce","prevVal","elem","stoppedOn","startedOn","Date","getTime","usersEmojisSummary","getOnlinePercentage","registeredOn","leftOn","totalUserOnlineTime","Math","ceil","tsToHHmmss","ts","toISOString","substr","Object","values","intId","usersActivityScore","allUsersArr","filter","currUser","userPoints","usersTalkTime","map","talk","totalTime","maxTalkTime","max","usersTotalOfMessages","totalOfMessages","maxMessages","usersRaiseHand","length","maxRaiseHand","userRaiseHand","usersEmojis","maxEmojis","answers","getActivityScore","id","onClick","toggleActivityScoreOrder","sort","a","b","toLowerCase","value","month","day","hour","minute","second","title","toString","style","width","role","webcams","keys","height","x","minimumFractionDigits","maximumFractionDigits","colSpan","React","Component","injectIntl","StatusTable","spanMinutes","intl","usersRegisteredTimes","usersLeftTimes","firstRegisteredOnTime","min","lastLeftOnTime","periods","currPeriod","push","period","userEmojisInPeriod","formatDate","PollsTable","polls","getUserAnswer","poll","pollId","index","question","anonymous","formatMessage","anonymousAnswers","answer","ErrorMessage","message","fillRule","clipRule","App","loading","activitiesJson","meetingId","learningDashboardAccessToken","ldAccessTokenCopied","sessionToken","setDashboardParams","setInterval","fetchActivitiesJson","urlSearchParams","URLSearchParams","window","location","search","params","fromEntries","entries","meeting","report","cookieName","decodeURIComponent","document","cookie","val","substring","cookieExpiresDate","setTime","toGMTString","fetch","then","response","json","catch","url","URL","returncode","jsonData","JSON","parse","data","href","locale","navigator","clipboard","writeText","setTimeout","totalOfActivity","minTime","users","getErrorMessage","type","copyPublicLink","createdOn","year","endedOn","u","formatNumber","meetingAveragePoints","nrOfUsers","totalTalkTime","prev","totalMessages","totalRaiseHand","totalEmojis","getAverageActivityScore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","RTL_LANGUAGES","getLanguage","language","lang","Dashboard","intlMessages","intlLocale","setMessages","setRtl","fetchMessages","Promise","resolve","reject","replace","ok","all","mergedMessages","assign","includes","body","parentNode","setAttribute","defaultLocale","messages","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.b9e4f4fe.chunk.js","sourcesContent":["import React from 'react';\n\nfunction Card(props) {\n  const {\n    number, name, children, iconClass, cardClass,\n  } = props;\n\n  return (\n    <div className={`flex items-center justify-between p-4 bg-white rounded-md shadow border-l-8 ${cardClass}`}>\n      <div className=\"w-70\">\n        <p className=\"text-lg font-semibold text-gray-700\">\n          { number }\n        </p>\n        <p className=\"mb-2 text-sm font-medium text-gray-600\">\n          { name }\n        </p>\n      </div>\n      <div className={`p-3 mr-4 text-orange-500 rounded-full ${iconClass}`}>\n        { children }\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","export const emojiConfigs = {\n  away: {\n    icon: 'icon-bbb-time',\n    intlId: 'app.actionsBar.emojiMenu.awayLabel',\n    defaultMessage: 'Away',\n  },\n  neutral: {\n    icon: 'icon-bbb-undecided',\n    intlId: 'app.actionsBar.emojiMenu.neutralLabel',\n    defaultMessage: 'Undecided',\n  },\n  confused: {\n    icon: 'icon-bbb-confused',\n    intlId: 'app.actionsBar.emojiMenu.confusedLabel',\n    defaultMessage: 'Confused',\n  },\n  sad: {\n    icon: 'icon-bbb-sad',\n    intlId: 'app.actionsBar.emojiMenu.sadLabel',\n    defaultMessage: 'Sad',\n  },\n  happy: {\n    icon: 'icon-bbb-happy',\n    intlId: 'app.actionsBar.emojiMenu.happyLabel',\n    defaultMessage: 'Happy',\n  },\n  applause: {\n    icon: 'icon-bbb-applause',\n    intlId: 'app.actionsBar.emojiMenu.applauseLabel',\n    defaultMessage: 'Applaud',\n  },\n  thumbsUp: {\n    icon: 'icon-bbb-thumbs_up',\n    intlId: 'app.actionsBar.emojiMenu.thumbsUpLabel',\n    defaultMessage: 'Thumbs up',\n  },\n  thumbsDown: {\n    icon: 'icon-bbb-thumbs_down',\n    intlId: 'app.actionsBar.emojiMenu.thumbsDownLabel',\n    defaultMessage: 'Thumbs down',\n  },\n  raiseHand: {\n    icon: 'icon-bbb-hand',\n    intlId: 'app.actionsBar.emojiMenu.raiseHandLabel',\n    defaultMessage: 'Raise hand',\n  },\n};\n\nexport function getUserEmojisSummary(user, skipNames = null, start = null, end = null) {\n  const userEmojis = {};\n  user.emojis.forEach((emoji) => {\n    if (typeof emojiConfigs[emoji.name] === 'undefined') return;\n    if (skipNames != null && skipNames.split(',').indexOf(emoji.name) > -1) return;\n    if (start != null && emoji.sentOn < start) return;\n    if (end != null && emoji.sentOn > end) return;\n    if (typeof userEmojis[emoji.name] === 'undefined') {\n      userEmojis[emoji.name] = 0;\n    }\n    userEmojis[emoji.name] += 1;\n  });\n  return userEmojis;\n}\n","import React from 'react';\n\nfunction UserAvatar(props) {\n  const {\n    user,\n  } = props;\n\n  return (\n    <div className={`border-2 border-gray-800 items-center ${user.isModerator ? 'rounded-md' : 'rounded-full'}`}>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className=\"h-full w-full p-1\"\n        fill=\"none\"\n        viewBox=\"0 0 24 24\"\n        stroke=\"currentColor\"\n      >\n        {user.isDialIn\n          ? (\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth=\"2\"\n              d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n            />\n          )\n          : (\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth=\"2\"\n              d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n            />\n          )}\n      </svg>\n    </div>\n  );\n}\n\nexport default UserAvatar;\n","import React from 'react';\nimport {\n  FormattedMessage, FormattedDate, FormattedNumber, injectIntl,\n} from 'react-intl';\nimport { getUserEmojisSummary, emojiConfigs } from '../services/EmojiService';\nimport UserAvatar from './UserAvatar';\n\nclass UsersTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activityscoreOrder: 'desc',\n    };\n  }\n\n  toggleActivityScoreOrder() {\n    const { activityscoreOrder } = this.state;\n\n    if (activityscoreOrder === 'asc') {\n      this.setState({ activityscoreOrder: 'desc' });\n    } else {\n      this.setState({ activityscoreOrder: 'asc' });\n    }\n  }\n\n  render() {\n    const {\n      allUsers, totalOfActivityTime, totalOfPolls, tab,\n    } = this.props;\n\n    const { activityscoreOrder } = this.state;\n\n    function getSumOfTime(eventsArr) {\n      return eventsArr.reduce((prevVal, elem) => {\n        if (elem.stoppedOn > 0) return prevVal + (elem.stoppedOn - elem.startedOn);\n        return prevVal + (new Date().getTime() - elem.startedOn);\n      }, 0);\n    }\n\n    function getActivityScore(user) {\n      if (user.isModerator) return 0;\n\n      const allUsersArr = Object.values(allUsers || {}).filter((currUser) => !currUser.isModerator);\n      let userPoints = 0;\n\n      // Calculate points of Talking\n      const usersTalkTime = allUsersArr.map((currUser) => currUser.talk.totalTime);\n      const maxTalkTime = Math.max(...usersTalkTime);\n      if (maxTalkTime > 0) {\n        userPoints += (user.talk.totalTime / maxTalkTime) * 2;\n      }\n\n      // Calculate points of Chatting\n      const usersTotalOfMessages = allUsersArr.map((currUser) => currUser.totalOfMessages);\n      const maxMessages = Math.max(...usersTotalOfMessages);\n      if (maxMessages > 0) {\n        userPoints += (user.totalOfMessages / maxMessages) * 2;\n      }\n\n      // Calculate points of Raise hand\n      const usersRaiseHand = allUsersArr.map((currUser) => currUser.emojis.filter((emoji) => emoji.name === 'raiseHand').length);\n      const maxRaiseHand = Math.max(...usersRaiseHand);\n      const userRaiseHand = user.emojis.filter((emoji) => emoji.name === 'raiseHand').length;\n      if (maxRaiseHand > 0) {\n        userPoints += (userRaiseHand / maxRaiseHand) * 2;\n      }\n\n      // Calculate points of Emojis\n      const usersEmojis = allUsersArr.map((currUser) => currUser.emojis.filter((emoji) => emoji.name !== 'raiseHand').length);\n      const maxEmojis = Math.max(...usersEmojis);\n      const userEmojis = user.emojis.filter((emoji) => emoji.name !== 'raiseHand').length;\n      if (maxEmojis > 0) {\n        userPoints += (userEmojis / maxEmojis) * 2;\n      }\n\n      // Calculate points of Polls\n      if (totalOfPolls > 0) {\n        userPoints += (Object.values(user.answers || {}).length / totalOfPolls) * 2;\n      }\n\n      return userPoints;\n    }\n\n    const usersEmojisSummary = {};\n    Object.values(allUsers || {}).forEach((user) => {\n      usersEmojisSummary[user.intId] = getUserEmojisSummary(user, 'raiseHand');\n    });\n\n    function getOnlinePercentage(registeredOn, leftOn) {\n      const totalUserOnlineTime = ((leftOn > 0 ? leftOn : (new Date()).getTime())) - registeredOn;\n      return Math.ceil((totalUserOnlineTime / totalOfActivityTime) * 100);\n    }\n\n    function tsToHHmmss(ts) {\n      return (new Date(ts).toISOString().substr(11, 8));\n    }\n\n    const usersActivityScore = {};\n    Object.values(allUsers || {}).forEach((user) => {\n      usersActivityScore[user.intId] = getActivityScore(user);\n    });\n\n    return (\n      <table className=\"w-full whitespace-nowrap\">\n        <thead>\n          <tr className=\"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b bg-gray-100\">\n            <th className=\"px-4 py-3 col-text-left\">\n              <FormattedMessage id=\"app.learningDashboard.user\" defaultMessage=\"User\" />\n              {\n                tab === 'overview'\n                  ? (\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      className=\"h-4 w-4 inline\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                    >\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17 13l-5 5m0 0l-5-5m5 5V6\" />\n                    </svg>\n                  )\n                  : null\n              }\n            </th>\n            <th className=\"px-4 py-3 text-center\">\n              <FormattedMessage id=\"app.learningDashboard.usersTable.colOnline\" defaultMessage=\"Online time\" />\n            </th>\n            <th className=\"px-4 py-3 text-center\">\n              <FormattedMessage id=\"app.learningDashboard.usersTable.colTalk\" defaultMessage=\"Talk time\" />\n            </th>\n            <th className=\"px-4 py-3 text-center\">\n              <FormattedMessage id=\"app.learningDashboard.usersTable.colWebcam\" defaultMessage=\"Webcam Time\" />\n            </th>\n            <th className=\"px-4 py-3 text-center\">\n              <FormattedMessage id=\"app.learningDashboard.usersTable.colMessages\" defaultMessage=\"Messages\" />\n            </th>\n            <th className=\"px-4 py-3 col-text-left\">\n              <FormattedMessage id=\"app.learningDashboard.usersTable.colEmojis\" defaultMessage=\"Emojis\" />\n            </th>\n            <th className=\"px-4 py-3 text-center\">\n              <FormattedMessage id=\"app.learningDashboard.usersTable.colRaiseHands\" defaultMessage=\"Raise Hand\" />\n            </th>\n            <th\n              className={`px-4 py-3 text-center ${tab === 'overview_activityscore' ? 'cursor-pointer' : ''}`}\n              onClick={() => { if (tab === 'overview_activityscore') this.toggleActivityScoreOrder(); }}\n            >\n              <FormattedMessage id=\"app.learningDashboard.usersTable.colActivityScore\" defaultMessage=\"Activity Score\" />\n              {\n                tab === 'overview_activityscore'\n                  ? (\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      className=\"h-4 w-4 inline\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth=\"2\"\n                        d={activityscoreOrder === 'asc' ? 'M17 13l-5 5m0 0l-5-5m5 5V6' : 'M7 11l5-5m0 0l5 5m-5-5v12'}\n                      />\n                    </svg>\n                  )\n                  : null\n              }\n            </th>\n            <th className=\"px-4 py-3 text-center\">\n              <FormattedMessage id=\"app.learningDashboard.usersTable.colStatus\" defaultMessage=\"Status\" />\n            </th>\n          </tr>\n        </thead>\n        <tbody className=\"bg-white divide-y\">\n          { typeof allUsers === 'object' && Object.values(allUsers || {}).length > 0 ? (\n            Object.values(allUsers || {})\n              .sort((a, b) => {\n                if (tab === 'overview_activityscore' && usersActivityScore[a.intId] < usersActivityScore[b.intId]) {\n                  return activityscoreOrder === 'desc' ? 1 : -1;\n                }\n                if (tab === 'overview_activityscore' && usersActivityScore[a.intId] > usersActivityScore[b.intId]) {\n                  return activityscoreOrder === 'desc' ? -1 : 1;\n                }\n                if (a.isModerator === false && b.isModerator === true) return 1;\n                if (a.isModerator === true && b.isModerator === false) return -1;\n                if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n                if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n                return 0;\n              })\n              .map((user) => (\n                <tr key={user} className=\"text-gray-700\">\n                  <td className=\"px-4 py-3 col-text-left text-sm\">\n                    <div className=\"inline-block relative w-8 h-8 rounded-full\">\n                      {/* <img className=\"object-cover w-full h-full rounded-full\" */}\n                      {/*     src=\"\" */}\n                      {/*     alt=\"\" loading=\"lazy\" /> */}\n                      <UserAvatar user={user} />\n                      <div\n                        className=\"absolute inset-0 rounded-full shadow-inner\"\n                        aria-hidden=\"true\"\n                      />\n                    </div>\n                    &nbsp;&nbsp;&nbsp;\n                    <div className=\"inline-block\">\n                      <p className=\"font-semibold\">\n                        {user.name}\n                      </p>\n                      <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          className=\"h-4 w-4 inline\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                          stroke=\"currentColor\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth=\"2\"\n                            d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"\n                          />\n                        </svg>\n                        <FormattedDate\n                          value={user.registeredOn}\n                          month=\"short\"\n                          day=\"numeric\"\n                          hour=\"2-digit\"\n                          minute=\"2-digit\"\n                          second=\"2-digit\"\n                        />\n                      </p>\n                      {\n                          user.leftOn > 0\n                            ? (\n                              <p className=\"text-xs text-gray-600 dark:text-gray-400\">\n                                <svg\n                                  xmlns=\"http://www.w3.org/2000/svg\"\n                                  className=\"h-4 w-4 inline\"\n                                  fill=\"none\"\n                                  viewBox=\"0 0 24 24\"\n                                  stroke=\"currentColor\"\n                                >\n                                  <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                                  />\n                                </svg>\n\n                                <FormattedDate\n                                  value={user.leftOn}\n                                  month=\"short\"\n                                  day=\"numeric\"\n                                  hour=\"2-digit\"\n                                  minute=\"2-digit\"\n                                  second=\"2-digit\"\n                                />\n                              </p>\n                            )\n                            : null\n                        }\n                    </div>\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-center items-center\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      className=\"h-4 w-4 inline\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth=\"2\"\n                        d=\"M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z\"\n                      />\n                    </svg>\n                    &nbsp;\n                    { tsToHHmmss(\n                      (user.leftOn > 0\n                        ? user.leftOn\n                        : (new Date()).getTime()) - user.registeredOn,\n                    ) }\n                    <br />\n                    <div\n                      className=\"bg-gray-200 transition-colors duration-500 rounded-full overflow-hidden\"\n                      title={`${getOnlinePercentage(user.registeredOn, user.leftOn).toString()}%`}\n                    >\n                      <div\n                        aria-label=\" \"\n                        className=\"bg-gradient-to-br from-green-100 to-green-600 transition-colors duration-900 h-1.5\"\n                        style={{ width: `${getOnlinePercentage(user.registeredOn, user.leftOn).toString()}%` }}\n                        role=\"progressbar\"\n                      />\n                    </div>\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-center\">\n                    { user.talk.totalTime > 0\n                      ? (\n                        <span className=\"text-center\">\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"h-4 w-4 inline\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth=\"2\"\n                              d=\"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z\"\n                            />\n                          </svg>\n                          &nbsp;\n                          { tsToHHmmss(user.talk.totalTime) }\n                        </span>\n                      ) : null }\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-center\">\n                    { getSumOfTime(user.webcams) > 0\n                      ? (\n                        <span className=\"text-center\">\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"h-4 w-4 inline\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth=\"2\"\n                              d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"\n                            />\n                          </svg>\n                          &nbsp;\n                          { tsToHHmmss(getSumOfTime(user.webcams)) }\n                        </span>\n                      ) : null }\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-center\">\n                    { user.totalOfMessages > 0\n                      ? (\n                        <span>\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"h-4 w-4 inline\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth=\"2\"\n                              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\n                            />\n                          </svg>\n                          &nbsp;\n                          {user.totalOfMessages}\n                        </span>\n                      ) : null }\n                  </td>\n                  <td className=\"px-4 py-3 text-sm col-text-left\">\n                    {\n                      Object.keys(usersEmojisSummary[user.intId] || {}).map((emoji) => (\n                        <div className=\"text-xs whitespace-nowrap\">\n                          <i className={`${emojiConfigs[emoji].icon} text-sm`} />\n                          &nbsp;\n                          { usersEmojisSummary[user.intId][emoji] }\n                          &nbsp;\n                          <FormattedMessage\n                            id={emojiConfigs[emoji].intlId}\n                            defaultMessage={emojiConfigs[emoji].defaultMessage}\n                          />\n                        </div>\n                      ))\n                    }\n                  </td>\n                  <td className=\"px-4 py-3 text-sm text-center\">\n                    { user.emojis.filter((emoji) => emoji.name === 'raiseHand').length > 0\n                      ? (\n                        <span>\n                          <svg\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            className=\"h-4 w-4 inline\"\n                            fill=\"none\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                          >\n                            <path\n                              strokeLinecap=\"round\"\n                              strokeLinejoin=\"round\"\n                              strokeWidth=\"2\"\n                              d=\"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11\"\n                            />\n                          </svg>\n                          &nbsp;\n                          {user.emojis.filter((emoji) => emoji.name === 'raiseHand').length}\n                        </span>\n                      ) : null }\n                  </td>\n                  {\n                      !user.isModerator ? (\n                        <td className=\"px-4 py-3 text-sm text-center items\">\n                          <svg viewBox=\"0 0 82 12\" width=\"82\" height=\"12\" className=\"flex-none m-auto inline\">\n                            <rect width=\"12\" height=\"12\" fill={usersActivityScore[user.intId] > 0 ? '#A7F3D0' : '#e4e4e7'} />\n                            <rect width=\"12\" height=\"12\" x=\"14\" fill={usersActivityScore[user.intId] > 2 ? '#6EE7B7' : '#e4e4e7'} />\n                            <rect width=\"12\" height=\"12\" x=\"28\" fill={usersActivityScore[user.intId] > 4 ? '#34D399' : '#e4e4e7'} />\n                            <rect width=\"12\" height=\"12\" x=\"42\" fill={usersActivityScore[user.intId] > 6 ? '#10B981' : '#e4e4e7'} />\n                            <rect width=\"12\" height=\"12\" x=\"56\" fill={usersActivityScore[user.intId] > 8 ? '#059669' : '#e4e4e7'} />\n                            <rect width=\"12\" height=\"12\" x=\"70\" fill={usersActivityScore[user.intId] === 10 ? '#047857' : '#e4e4e7'} />\n                          </svg>\n                          &nbsp;\n                          <span className=\"text-xs bg-gray-200 rounded-full px-2\">\n                            <FormattedNumber value={usersActivityScore[user.intId]} minimumFractionDigits=\"0\" maximumFractionDigits=\"1\" />\n                          </span>\n                        </td>\n                      ) : <td />\n                    }\n                  <td className=\"px-4 py-3 text-xs text-center\">\n                    {\n                                      user.leftOn > 0\n                                        ? (\n                                          <span className=\"px-2 py-1 font-semibold leading-tight text-red-700 bg-red-100 rounded-full\">\n                                            <FormattedMessage id=\"app.learningDashboard.usersTable.userStatusOffline\" defaultMessage=\"Offline\" />\n                                          </span>\n                                        )\n                                        : (\n                                          <span className=\"px-2 py-1 font-semibold leading-tight text-green-700 bg-green-100 rounded-full\">\n                                            <FormattedMessage id=\"app.learningDashboard.usersTable.userStatusOnline\" defaultMessage=\"Online\" />\n                                          </span>\n                                        )\n                                  }\n                  </td>\n                </tr>\n              ))\n          ) : (\n            <tr className=\"text-gray-700\">\n              <td colSpan=\"8\" className=\"px-4 py-3 text-sm text-center\">\n                <FormattedMessage id=\"app.learningDashboard.usersTable.noUsers\" defaultMessage=\"No users\" />\n              </td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default injectIntl(UsersTable);\n","import React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { getUserEmojisSummary, emojiConfigs } from '../services/EmojiService';\nimport UserAvatar from './UserAvatar';\n\nclass StatusTable extends React.Component {\n  render() {\n    const spanMinutes = 10 * 60000; // 10 minutes default\n    const { allUsers, intl } = this.props;\n\n    function tsToHHmmss(ts) {\n      return (new Date(ts).toISOString().substr(11, 8));\n    }\n\n    const usersRegisteredTimes = Object.values(allUsers || {}).map((user) => user.registeredOn);\n    const usersLeftTimes = Object.values(allUsers || {}).map((user) => {\n      if (user.leftOn === 0) return (new Date()).getTime();\n      return user.leftOn;\n    });\n\n    const firstRegisteredOnTime = Math.min(...usersRegisteredTimes);\n    const lastLeftOnTime = Math.max(...usersLeftTimes);\n\n    const periods = [];\n    let currPeriod = firstRegisteredOnTime;\n    while (currPeriod < lastLeftOnTime) {\n      periods.push(currPeriod);\n      currPeriod += spanMinutes;\n    }\n\n    return (\n      <table className=\"w-full whitespace-nowrap\">\n        <thead>\n          <tr className=\"text-xs font-semibold tracking-wide text-gray-500 uppercase border-b bg-gray-100\">\n            <th className=\"px-4 py-3 col-text-left\">\n              <FormattedMessage id=\"app.learningDashboard.user\" defaultMessage=\"User\" />\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-4 w-4 inline\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17 13l-5 5m0 0l-5-5m5 5V6\" />\n              </svg>\n            </th>\n            { periods.map((period) => <th className=\"px-4 py-3 col-text-left\">{ `${tsToHHmmss(period - firstRegisteredOnTime)}` }</th>) }\n          </tr>\n        </thead>\n        <tbody className=\"bg-white divide-y\">\n          { typeof allUsers === 'object' && Object.values(allUsers || {}).length > 0 ? (\n            Object.values(allUsers || {})\n              .sort((a, b) => {\n                if (a.isModerator === false && b.isModerator === true) return 1;\n                if (a.isModerator === true && b.isModerator === false) return -1;\n                if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n                if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n                return 0;\n              })\n              .map((user) => (\n                <tr className=\"text-gray-700\">\n                  <td className=\"px-4 py-3\">\n                    <div className=\"flex items-center text-sm\">\n                      <div className=\"relative hidden w-8 h-8 rounded-full md:block\">\n                        <UserAvatar user={user} />\n                      </div>\n                      &nbsp;&nbsp;\n                      <div>\n                        <p className=\"font-semibold\">{user.name}</p>\n                      </div>\n                    </div>\n                  </td>\n                  { periods.map((period) => {\n                    const userEmojisInPeriod = getUserEmojisSummary(user,\n                      null,\n                      period,\n                      period + spanMinutes);\n                    return (\n                      <td className=\"px-4 py-3 text-sm col-text-left\">\n                        {\n                          user.registeredOn > period && user.registeredOn < period + spanMinutes\n                            ? (\n                              <span title={intl.formatDate(user.registeredOn, {\n                                month: 'short',\n                                day: 'numeric',\n                                hour: '2-digit',\n                                minute: '2-digit',\n                                second: '2-digit',\n                              })}\n                              >\n                                <svg\n                                  xmlns=\"http://www.w3.org/2000/svg\"\n                                  className=\"h-4 w-4 text-xs text-green-400\"\n                                  fill=\"none\"\n                                  viewBox=\"0 0 24 24\"\n                                  stroke=\"currentColor\"\n                                >\n                                  <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"\n                                  />\n                                </svg>\n                              </span>\n                            ) : null\n                        }\n                        { Object.keys(userEmojisInPeriod)\n                          .map((emoji) => (\n                            <div className=\"text-sm text-gray-800\">\n                              <i className={`${emojiConfigs[emoji].icon} text-sm`} />\n                            &nbsp;\n                              { userEmojisInPeriod[emoji] }\n                            &nbsp;\n                              <FormattedMessage\n                                id={emojiConfigs[emoji].intlId}\n                                defaultMessage={emojiConfigs[emoji].defaultMessage}\n                              />\n                            </div>\n                          )) }\n                        {\n                          user.leftOn > period && user.leftOn < period + spanMinutes\n                            ? (\n                              <span title={intl.formatDate(user.leftOn, {\n                                month: 'short',\n                                day: 'numeric',\n                                hour: '2-digit',\n                                minute: '2-digit',\n                                second: '2-digit',\n                              })}\n                              >\n                                <svg\n                                  xmlns=\"http://www.w3.org/2000/svg\"\n                                  className=\"h-4 w-4 text-red-400\"\n                                  fill=\"none\"\n                                  viewBox=\"0 0 24 24\"\n                                  stroke=\"currentColor\"\n                                >\n                                  <path\n                                    strokeLinecap=\"round\"\n                                    strokeLinejoin=\"round\"\n                                    strokeWidth=\"2\"\n                                    d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n                                  />\n                                </svg>\n                              </span>\n                            ) : null\n                        }\n                      </td>\n                    );\n                  }) }\n                </tr>\n              ))) : null }\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default injectIntl(StatusTable);\n","import React from 'react';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport UserAvatar from './UserAvatar';\n\nclass PollsTable extends React.Component {\n  render() {\n    const { allUsers, polls } = this.props;\n    const { intl } = this.props;\n\n    function getUserAnswer(user, poll) {\n      if (typeof user.answers[poll.pollId] !== 'undefined') {\n        return user.answers[poll.pollId];\n      }\n      return '';\n    }\n\n    return (\n      <table className=\"w-full whitespace-nowrap\">\n        <thead>\n          <tr className=\"text-xs font-semibold tracking-wide col-text-left text-gray-500 uppercase border-b bg-gray-100\">\n            <th className=\"px-4 py-3\">\n              <FormattedMessage id=\"app.learningDashboard.user\" defaultMessage=\"User\" />\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-4 w-4 inline\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M17 13l-5 5m0 0l-5-5m5 5V6\" />\n              </svg>\n            </th>\n            {typeof polls === 'object' && Object.values(polls || {}).length > 0 ? (\n              Object.values(polls || {}).map((poll, index) => <th className=\"px-4 py-3 text-center\">{poll.question || `Poll ${index + 1}`}</th>)\n            ) : null }\n          </tr>\n        </thead>\n        <tbody className=\"bg-white divide-y\">\n          { typeof allUsers === 'object' && Object.values(allUsers || {}).length > 0 ? (\n            Object.values(allUsers || {})\n              .filter((user) => Object.values(user.answers).length > 0)\n              .sort((a, b) => {\n                if (a.isModerator === false && b.isModerator === true) return 1;\n                if (a.isModerator === true && b.isModerator === false) return -1;\n                if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n                if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n                return 0;\n              })\n              .map((user) => (\n                <tr className=\"text-gray-700\">\n                  <td className=\"px-4 py-3\">\n                    <div className=\"flex items-center text-sm\">\n                      <div className=\"relative hidden w-8 h-8 rounded-full md:block\">\n                        <UserAvatar user={user} />\n                      </div>\n                      &nbsp;&nbsp;\n                      <div>\n                        <p className=\"font-semibold\">{user.name}</p>\n                      </div>\n                    </div>\n                  </td>\n\n                  {typeof polls === 'object' && Object.values(polls || {}).length > 0 ? (\n                    Object.values(polls || {}).map((poll) => (\n                      <td className=\"px-4 py-3 text-sm text-center\">\n                        { getUserAnswer(user, poll) }\n                        { poll.anonymous\n                          ? (\n                            <span title={intl.formatMessage({\n                              id: 'app.learningDashboard.pollsTable.anonymousAnswer',\n                              defaultMessage: 'Anonymous Poll (answers in the last row)',\n                            })}\n                            >\n                              <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                className=\"h-4 w-4 inline\"\n                                fill=\"none\"\n                                viewBox=\"0 0 24 24\"\n                                stroke=\"currentColor\"\n                              >\n                                <path\n                                  strokeLinecap=\"round\"\n                                  strokeLinejoin=\"round\"\n                                  strokeWidth=\"2\"\n                                  d=\"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                                />\n                              </svg>\n                            </span>\n                          )\n                          : null }\n                      </td>\n                    ))\n                  ) : null }\n                </tr>\n              ))) : null }\n          <tr className=\"text-gray-700\">\n            <td className=\"px-4 py-3\">\n              <div className=\"flex items-center text-sm\">\n                <div className=\"relative hidden w-8 h-8 mr-3 rounded-full md:block\">\n                  {/* <img className=\"object-cover w-full h-full rounded-full\" */}\n                  {/*     src=\"\" */}\n                  {/*     alt=\"\" loading=\"lazy\" /> */}\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"relative hidden w-8 h-8 mr-3 rounded-full md:block\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth=\"2\"\n                      d=\"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                    />\n                  </svg>\n                  <div\n                    className=\"absolute inset-0 rounded-full shadow-inner\"\n                    aria-hidden=\"true\"\n                  />\n                </div>\n                <div>\n                  <p className=\"font-semibold\">\n                    <FormattedMessage id=\"app.learningDashboard.pollsTable.anonymousRowName\" defaultMessage=\"Anonymous\" />\n                  </p>\n                </div>\n              </div>\n            </td>\n            {typeof polls === 'object' && Object.values(polls || {}).length > 0 ? (\n              Object.values(polls || {}).map((poll) => (\n                <td className=\"px-4 py-3 text-sm text-center\">\n                  { poll.anonymousAnswers.map((answer) => <p>{answer}</p>) }\n                </td>\n              ))\n            ) : null }\n          </tr>\n        </tbody>\n      </table>\n    );\n  }\n}\n\nexport default injectIntl(PollsTable);\n","import React from 'react';\n\nfunction ErrorMessage(props) {\n  const { message } = props;\n\n  return (\n    <div className=\"container flex flex-col items-center px-6 mx-auto\">\n      <svg className=\"w-12 h-12 my-8 text-gray-700\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n        <path\n          fillRule=\"evenodd\"\n          d=\"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n      <h1 className=\"text-xl font-semibold text-gray-700 dark:text-gray-200\">\n        {message}\n      </h1>\n    </div>\n  );\n}\n\nexport default ErrorMessage;\n","import React from 'react';\nimport './App.css';\nimport './bbb-icons.css';\nimport { FormattedMessage, FormattedDate, injectIntl } from 'react-intl';\nimport Card from './components/Card';\nimport UsersTable from './components/UsersTable';\nimport StatusTable from './components/StatusTable';\nimport PollsTable from './components/PollsTable';\nimport ErrorMessage from './components/ErrorMessage';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      activitiesJson: {},\n      tab: 'overview',\n      meetingId: '',\n      learningDashboardAccessToken: '',\n      ldAccessTokenCopied: false,\n      sessionToken: '',\n    };\n  }\n\n  componentDidMount() {\n    this.setDashboardParams();\n    setInterval(() => {\n      this.fetchActivitiesJson();\n    }, 10000);\n  }\n\n  setDashboardParams() {\n    let learningDashboardAccessToken = '';\n    let meetingId = '';\n    let sessionToken = '';\n\n    const urlSearchParams = new URLSearchParams(window.location.search);\n    const params = Object.fromEntries(urlSearchParams.entries());\n\n    if (typeof params.meeting !== 'undefined') {\n      meetingId = params.meeting;\n    }\n\n    if (typeof params.sessionToken !== 'undefined') {\n      sessionToken = params.sessionToken;\n    }\n\n    if (typeof params.report !== 'undefined') {\n      learningDashboardAccessToken = params.report;\n    } else {\n      const cookieName = `learningDashboardAccessToken-${params.meeting}`;\n      const cDecoded = decodeURIComponent(document.cookie);\n      const cArr = cDecoded.split('; ');\n      cArr.forEach((val) => {\n        if (val.indexOf(`${cookieName}=`) === 0) learningDashboardAccessToken = val.substring((`${cookieName}=`).length);\n      });\n\n      // Extend AccessToken lifetime by 30d (in each access)\n      if (learningDashboardAccessToken !== '') {\n        const cookieExpiresDate = new Date();\n        cookieExpiresDate.setTime(cookieExpiresDate.getTime() + (3600000 * 24 * 30));\n        document.cookie = `learningDashboardAccessToken-${meetingId}=${learningDashboardAccessToken}; expires=${cookieExpiresDate.toGMTString()}; path=/;SameSite=None;Secure`;\n      }\n    }\n\n    this.setState({ learningDashboardAccessToken, meetingId, sessionToken },\n      this.fetchActivitiesJson);\n  }\n\n  fetchActivitiesJson() {\n    const { learningDashboardAccessToken, meetingId, sessionToken } = this.state;\n\n    if (learningDashboardAccessToken !== '') {\n      fetch(`${meetingId}/${learningDashboardAccessToken}/learning_dashboard_data.json`)\n        .then((response) => response.json())\n        .then((json) => {\n          this.setState({ activitiesJson: json, loading: false });\n          document.title = `Learning Dashboard - ${json.name}`;\n        }).catch(() => {\n          this.setState({ loading: false });\n        });\n    } else if (sessionToken !== '') {\n      const url = new URL('/bigbluebutton/api/learningDashboard', window.location);\n      fetch(`${url}?sessionToken=${sessionToken}`)\n        .then((response) => response.json())\n        .then((json) => {\n          if (json.response.returncode === 'SUCCESS') {\n            const jsonData = JSON.parse(json.response.data);\n            this.setState({ activitiesJson: jsonData, loading: false });\n            document.title = `Learning Dashboard - ${jsonData.name}`;\n          } else {\n            // When meeting is ended the sessionToken stop working, check for new cookies\n            this.setDashboardParams();\n            this.setState({ loading: false });\n          }\n        })\n        .catch(() => {\n          this.setState({ loading: false });\n        });\n    } else {\n      this.setState({ loading: false });\n    }\n  }\n\n  copyPublicLink() {\n    const { learningDashboardAccessToken, meetingId, ldAccessTokenCopied } = this.state;\n    const { intl } = this.props;\n\n    let url = window.location.href.split('?')[0];\n    url += `?meeting=${meetingId}&report=${learningDashboardAccessToken}&lang=${intl.locale}`;\n    navigator.clipboard.writeText(url);\n    if (ldAccessTokenCopied === false) {\n      this.setState({ ldAccessTokenCopied: true });\n      setTimeout(() => {\n        this.setState({ ldAccessTokenCopied: false });\n      }, 3000);\n    }\n  }\n\n  render() {\n    const {\n      activitiesJson, tab, sessionToken, loading,\n      learningDashboardAccessToken, ldAccessTokenCopied,\n    } = this.state;\n    const { intl } = this.props;\n\n    document.title = `${intl.formatMessage({ id: 'app.learningDashboard.dashboardTitle', defaultMessage: 'Learning Dashboard' })} - ${activitiesJson.name}`;\n\n    function totalOfRaiseHand() {\n      if (activitiesJson && activitiesJson.users) {\n        return Object.values(activitiesJson.users)\n          .reduce((prevVal, elem) => prevVal + elem.emojis.filter((emoji) => emoji.name === 'raiseHand').length, 0);\n      }\n      return 0;\n    }\n\n    function tsToHHmmss(ts) {\n      return (new Date(ts).toISOString().substr(11, 8));\n    }\n\n    function totalOfActivity() {\n      const minTime = Object.values(activitiesJson.users || {}).reduce((prevVal, elem) => {\n        if (prevVal === 0 || elem.registeredOn < prevVal) return elem.registeredOn;\n        return prevVal;\n      }, 0);\n\n      const maxTime = Object.values(activitiesJson.users || {}).reduce((prevVal, elem) => {\n        if (elem.leftOn === 0) return (new Date()).getTime();\n        if (elem.leftOn > prevVal) return elem.leftOn;\n        return prevVal;\n      }, 0);\n\n      return maxTime - minTime;\n    }\n\n    function getAverageActivityScore() {\n      let meetingAveragePoints = 0;\n\n      const allUsers = Object.values(activitiesJson.users || {})\n        .filter((currUser) => !currUser.isModerator);\n      const nrOfUsers = allUsers.length;\n\n      // Calculate points of Talking\n      const usersTalkTime = allUsers.map((currUser) => currUser.talk.totalTime);\n      const maxTalkTime = Math.max(...usersTalkTime);\n      const totalTalkTime = usersTalkTime.reduce((prev, val) => prev + val, 0);\n      if (totalTalkTime > 0) {\n        meetingAveragePoints += ((totalTalkTime / nrOfUsers) / maxTalkTime) * 2;\n      }\n\n      // Calculate points of Chatting\n      const usersTotalOfMessages = allUsers.map((currUser) => currUser.totalOfMessages);\n      const maxMessages = Math.max(...usersTotalOfMessages);\n      const totalMessages = usersTotalOfMessages.reduce((prev, val) => prev + val, 0);\n      if (maxMessages > 0) {\n        meetingAveragePoints += ((totalMessages / nrOfUsers) / maxMessages) * 2;\n      }\n\n      // Calculate points of Raise hand\n      const usersRaiseHand = allUsers.map((currUser) => currUser.emojis.filter((emoji) => emoji.name === 'raiseHand').length);\n      const maxRaiseHand = Math.max(...usersRaiseHand);\n      const totalRaiseHand = usersRaiseHand.reduce((prev, val) => prev + val, 0);\n      if (maxRaiseHand > 0) {\n        meetingAveragePoints += ((totalRaiseHand / nrOfUsers) / maxMessages) * 2;\n      }\n\n      // Calculate points of Emojis\n      const usersEmojis = allUsers.map((currUser) => currUser.emojis.filter((emoji) => emoji.name !== 'raiseHand').length);\n      const maxEmojis = Math.max(...usersEmojis);\n      const totalEmojis = usersEmojis.reduce((prev, val) => prev + val, 0);\n      if (maxEmojis > 0) {\n        meetingAveragePoints += ((totalEmojis / nrOfUsers) / maxEmojis) * 2;\n      }\n\n      // Calculate points of Polls\n      const totalOfPolls = Object.values(activitiesJson.polls || {}).length;\n      if (totalOfPolls > 0) {\n        const totalAnswers = allUsers\n          .reduce((prevVal, currUser) => prevVal + Object.values(currUser.answers || {}).length, 0);\n        meetingAveragePoints += ((totalAnswers / nrOfUsers) / totalOfPolls) * 2;\n      }\n\n      return meetingAveragePoints;\n    }\n\n    function getErrorMessage() {\n      if (learningDashboardAccessToken === '' && sessionToken === '') {\n        return intl.formatMessage({ id: 'app.learningDashboard.errors.invalidToken', defaultMessage: 'Invalid session token' });\n      }\n\n      if (activitiesJson === {} || typeof activitiesJson.name === 'undefined') {\n        return intl.formatMessage({ id: 'app.learningDashboard.errors.dataUnavailable', defaultMessage: 'Data is no longer available' });\n      }\n\n      return '';\n    }\n\n    if (loading === false && getErrorMessage() !== '') return <ErrorMessage message={getErrorMessage()} />;\n\n    return (\n      <div className=\"mx-10\">\n        <div className=\"flex items-start justify-between pb-3\">\n          <h1 className=\"mt-3 text-2xl font-semibold whitespace-nowrap inline-block\">\n            <FormattedMessage id=\"app.learningDashboard.dashboardTitle\" defaultMessage=\"Learning Dashboard\" />\n            &nbsp;\n            {\n              learningDashboardAccessToken !== ''\n                ? (\n                  <button type=\"button\" onClick={() => { this.copyPublicLink(); }} className=\"text-sm font-medium text-blue-500 ease-out\">\n                    (\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      className=\"h-4 w-4 inline\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth=\"2\"\n                        d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\"\n                      />\n                    </svg>\n                    &nbsp;\n                    <FormattedMessage id=\"app.learningDashboard.shareButton\" defaultMessage=\"Share with others\" />\n                    )\n                  </button>\n                )\n                : null\n            }\n            {\n              ldAccessTokenCopied === true\n                ? (\n                  <span className=\"text-xs text-gray-500 font-normal ml-2\">\n                    <FormattedMessage id=\"app.learningDashboard.linkCopied\" defaultMessage=\"Link successfully copied!\" />\n                  </span>\n                )\n                : null\n}\n            <br />\n            <span className=\"text-sm font-medium\">{activitiesJson.name || ''}</span>\n          </h1>\n          <div className=\"mt-3 col-text-right py-1 text-gray-500 inline-block\">\n            <p className=\"font-bold\">\n              <div className=\"inline\">\n                <FormattedDate\n                  value={activitiesJson.createdOn}\n                  year=\"numeric\"\n                  month=\"short\"\n                  day=\"numeric\"\n                />\n              </div>\n              &nbsp;&nbsp;\n              {\n                activitiesJson.endedOn > 0\n                  ? (\n                    <span className=\"px-2 py-1 font-semibold leading-tight text-red-700 bg-red-100 rounded-full\">\n                      <FormattedMessage id=\"app.learningDashboard.indicators.meetingStatusEnded\" defaultMessage=\"Ended\" />\n                    </span>\n                  )\n                  : null\n              }\n              {\n                activitiesJson.endedOn === 0\n                  ? (\n                    <span className=\"px-2 py-1 font-semibold leading-tight text-green-700 bg-green-100 rounded-full\">\n                      <FormattedMessage id=\"app.learningDashboard.indicators.meetingStatusActive\" defaultMessage=\"Active\" />\n                    </span>\n                  )\n                  : null\n              }\n            </p>\n            <p>\n              <FormattedMessage id=\"app.learningDashboard.indicators.duration\" defaultMessage=\"Duration\" />\n              :&nbsp;\n              {tsToHHmmss(totalOfActivity())}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"grid gap-6 mb-8 md:grid-cols-2 xl:grid-cols-4\">\n          <div aria-hidden=\"true\" className=\"cursor-pointer\" onClick={() => { this.setState({ tab: 'overview' }); }}>\n            <Card\n              name={\n                activitiesJson.endedOn === 0\n                  ? intl.formatMessage({ id: 'app.learningDashboard.indicators.usersOnline', defaultMessage: 'Active Users' })\n                  : intl.formatMessage({ id: 'app.learningDashboard.indicators.usersTotal', defaultMessage: 'Total Number Of Users' })\n              }\n              number={Object.values(activitiesJson.users || {})\n                .filter((u) => activitiesJson.endedOn > 0 || u.leftOn === 0).length}\n              cardClass=\"border-pink-500\"\n              iconClass=\"bg-pink-50 text-pink-500\"\n              onClick={() => {\n                this.setState({ tab: 'overview' });\n              }}\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth=\"2\"\n                  d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n                />\n              </svg>\n            </Card>\n          </div>\n          <div aria-hidden=\"true\" className=\"cursor-pointer\" onClick={() => { this.setState({ tab: 'polling' }); }}>\n            <Card\n              name={intl.formatMessage({ id: 'app.learningDashboard.indicators.polls', defaultMessage: 'Polls' })}\n              number={Object.values(activitiesJson.polls || {}).length}\n              cardClass=\"border-blue-500\"\n              iconClass=\"bg-blue-100 text-blue-500\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth=\"2\"\n                  d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01\"\n                />\n              </svg>\n            </Card>\n          </div>\n          <div aria-hidden=\"true\" className=\"cursor-pointer\" onClick={() => { this.setState({ tab: 'status_timeline' }); }}>\n            <Card\n              name={intl.formatMessage({ id: 'app.learningDashboard.indicators.raiseHand', defaultMessage: 'Raise Hand' })}\n              number={totalOfRaiseHand()}\n              cardClass=\"border-purple-500\"\n              iconClass=\"bg-purple-200 text-purple-500\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth=\"2\"\n                  d=\"M7 11.5V14m0-2.5v-6a1.5 1.5 0 113 0m-3 6a1.5 1.5 0 00-3 0v2a7.5 7.5 0 0015 0v-5a1.5 1.5 0 00-3 0m-6-3V11m0-5.5v-1a1.5 1.5 0 013 0v1m0 0V11m0-5.5a1.5 1.5 0 013 0v3m0 0V11\"\n                />\n              </svg>\n            </Card>\n          </div>\n          <div aria-hidden=\"true\" className=\"cursor-pointer\" onClick={() => { this.setState({ tab: 'overview_activityscore' }); }}>\n            <Card\n              name={intl.formatMessage({ id: 'app.learningDashboard.indicators.activityScore', defaultMessage: 'Activity Score' })}\n              number={intl.formatNumber((getAverageActivityScore() || 0), {\n                minimumFractionDigits: 0,\n                maximumFractionDigits: 1,\n              })}\n              cardClass=\"border-green-500\"\n              iconClass=\"bg-green-200 text-green-500\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth=\"2\"\n                  d=\"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z\"\n                />\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth=\"2\"\n                  d=\"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z\"\n                />\n              </svg>\n            </Card>\n          </div>\n        </div>\n        <h1 className=\"block my-1 pr-2 text-xl font-semibold\">\n          { tab === 'overview' || tab === 'overview_activityscore'\n            ? <FormattedMessage id=\"app.learningDashboard.usersTable.title\" defaultMessage=\"Overview\" />\n            : null }\n          { tab === 'status_timeline'\n            ? <FormattedMessage id=\"app.learningDashboard.statusTimelineTable.title\" defaultMessage=\"Status Timeline\" />\n            : null }\n          { tab === 'polling'\n            ? <FormattedMessage id=\"app.learningDashboard.pollsTable.title\" defaultMessage=\"Polling\" />\n            : null }\n        </h1>\n        <div className=\"w-full overflow-hidden rounded-md shadow-xs border-2 border-gray-100\">\n          <div className=\"w-full overflow-x-auto\">\n            { (tab === 'overview' || tab === 'overview_activityscore')\n              ? (\n                <UsersTable\n                  allUsers={activitiesJson.users}\n                  totalOfActivityTime={totalOfActivity()}\n                  totalOfPolls={Object.values(activitiesJson.polls || {}).length}\n                  tab={tab}\n                />\n              )\n              : null }\n            { (tab === 'status_timeline')\n              ? <StatusTable allUsers={activitiesJson.users} />\n              : null }\n            { tab === 'polling'\n              ? <PollsTable polls={activitiesJson.polls} allUsers={activitiesJson.users} />\n              : null }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default injectIntl(App);\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { IntlProvider } from 'react-intl';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst RTL_LANGUAGES = ['ar', 'dv', 'fa', 'he'];\n\nfunction getLanguage() {\n  let { language } = navigator;\n\n  const urlSearchParams = new URLSearchParams(window.location.search);\n  const params = Object.fromEntries(urlSearchParams.entries());\n  if (typeof params.lang !== 'undefined') {\n    language = params.lang;\n  }\n\n  return language;\n}\n\nclass Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      intlMessages: {},\n      intlLocale: getLanguage(),\n    };\n\n    this.setMessages();\n    this.setRtl();\n  }\n\n  setMessages() {\n    const fetchMessages = (lang) => new Promise((resolve, reject) => {\n      const url = `/html5client/locales/${lang.replace('-', '_')}.json`;\n      fetch(url).then((response) => {\n        if (!response.ok) return reject();\n        return resolve(response.json());\n      });\n    });\n\n    Promise.all([fetchMessages('en'), fetchMessages(getLanguage())])\n      .then((values) => {\n        let mergedMessages = {};\n\n        if (values[0]) {\n          mergedMessages = Object.assign(mergedMessages, values[0]);\n        }\n\n        if (values[1]) {\n          mergedMessages = Object.assign(mergedMessages, values[1]);\n        }\n\n        this.setState({ intlMessages: mergedMessages });\n      }).catch(() => {});\n  }\n\n  setRtl() {\n    const { intlLocale } = this.state;\n\n    if (RTL_LANGUAGES.includes(intlLocale.substring(0, 2))) {\n      document.body.parentNode.setAttribute('dir', 'rtl');\n    }\n  }\n\n  render() {\n    const { intlLocale, intlMessages } = this.state;\n\n    return (\n      <IntlProvider defaultLocale=\"en\" locale={intlLocale} messages={intlMessages}>\n        <App />\n      </IntlProvider>\n    );\n  }\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Dashboard />, rootElement);\n\nreportWebVitals();\n"],"sourceRoot":""}