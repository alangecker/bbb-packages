(this["webpackJsonpbbb-playback"]=this["webpackJsonpbbb-playback"]||[]).push([[0],{102:function(e,a,t){},112:function(e){e.exports=JSON.parse('{"button.about.aria":"\u062d\u0648\u0644","button.clear.aria":"\u0645\u0633\u062d \u0627\u0644\u0628\u062d\u062b","button.close.aria":"\u0625\u063a\u0644\u0627\u0642 \u0645\u0634\u0631\u0648\u0637","button.fullscreen.aria":"\u0645\u062d\u062a\u0648\u0649 \u0645\u0644\u0621 \u0627\u0644\u0634\u0627\u0634\u0629","button.restore.aria":"\u0627\u0633\u062a\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u062a\u0648\u0649","button.search.aria":"\u0628\u062d\u062b","button.section.aria":"\u0642\u0633\u0645 \u062c\u0627\u0646\u0628\u064a","button.swap.aria":"\u0645\u062d\u062a\u0648\u0649 \u0627\u0644\u0645\u0628\u0627\u062f\u0644\u0629","error.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062e\u0637\u0623","loader.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0644\u0648\u062f\u0631","player.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0644\u0627\u0639\u0628","player.chat.message.poll.name":"\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0627\u0633\u062a\u0637\u0644\u0627\u0639","player.chat.message.poll.question":"\u0633\u0624\u0627\u0644","player.chat.message.poll.options":"\u062e\u064a\u0627\u0631\u0627\u062a","player.chat.message.poll.option.yes":"\u0646\u0639\u0645","player.chat.message.poll.option.no":"\u0644\u0627","player.chat.message.poll.option.abstention":"\u0627\u0644\u0627\u0645\u062a\u0646\u0627\u0639","player.chat.message.poll.option.true":"\u062d\u0642\u064a\u0642\u064a","player.chat.message.poll.option.false":"\u062e\u0637\u0623 \u0634\u0646\u064a\u0639","player.chat.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u062f\u0631\u062f\u0634\u0629","player.notes.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0627\u062a","player.presentation.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0639\u0631\u0636","player.screenshare.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0645\u0634\u0627\u0631\u0643\u0629 \u0627\u0644\u0634\u0627\u0634\u0629","player.thumbnails.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0645\u0635\u063a\u0631\u0627\u062a","player.video.wrapper.aria":"\u0645\u0646\u0637\u0642\u0629 \u0627\u0644\u0641\u064a\u062f\u064a\u0648"}')},113:function(e){e.exports=JSON.parse('{"button.about.aria":"\xdcber","button.clear.aria":"Suche l\xf6schen","button.close.aria":"Fenster schlie\xdfen","button.fullscreen.aria":"Vollbildinhalt","button.restore.aria":"Inhalt wiederherstellen","button.search.aria":"Suche","button.section.aria":"Seitenleiste","button.swap.aria":"Inhalte austauschen","error.wrapper.aria":"Fehlerbereich","loader.wrapper.aria":"Ladebereich","player.wrapper.aria":"Aufzeichnungsbereich","player.chat.message.poll.name":"Umfrageergebnis","player.chat.message.poll.question":"Frage","player.chat.message.poll.options":"Optionen","player.chat.message.poll.option.yes":"Ja","player.chat.message.poll.option.no":"Nein","player.chat.message.poll.option.abstention":"Enthaltung","player.chat.message.poll.option.true":"Wahr","player.chat.message.poll.option.false":"Falsch","player.chat.wrapper.aria":"Chat-Bereich","player.notes.wrapper.aria":"Notizenbereich","player.presentation.wrapper.aria":"Pr\xe4sentationsfl\xe4che","player.screenshare.wrapper.aria":"Screenshare-Bereich","player.thumbnails.wrapper.aria":"Miniaturansichten","player.video.wrapper.aria":"Videobereich"}')},114:function(e){e.exports=JSON.parse('{"button.about.aria":"About","button.clear.aria":"Clear search","button.close.aria":"Close modal","button.fullscreen.aria":"Fullscreen content","button.restore.aria":"Restore content","button.search.aria":"Search","button.section.aria":"Side section","button.swap.aria":"Swap content","error.wrapper.aria":"Error area","loader.wrapper.aria":"Loader area","player.wrapper.aria":"Player area","player.chat.message.poll.name":"Poll result","player.chat.message.poll.question":"Question","player.chat.message.poll.options":"Options","player.chat.message.poll.option.yes":"Yes","player.chat.message.poll.option.no":"No","player.chat.message.poll.option.abstention":"Abstention","player.chat.message.poll.option.true":"True","player.chat.message.poll.option.false":"False","player.chat.wrapper.aria":"Chat area","player.notes.wrapper.aria":"Notes area","player.presentation.wrapper.aria":"Presentation area","player.screenshare.wrapper.aria":"Screenshare area","player.thumbnails.wrapper.aria":"Thumbnails area","player.video.wrapper.aria":"Video area"}')},115:function(e){e.exports=JSON.parse('{"button.about.aria":"Acerca","button.clear.aria":"Borrar b\xfasqueda","button.close.aria":"Cerrar modal","button.fullscreen.aria":"Contenido de pantalla completa","button.restore.aria":"Restaurar contenido","button.search.aria":"Buscar","button.section.aria":"Secci\xf3n lateral","button.swap.aria":"Intercambiar contenido","error.wrapper.aria":"\xc1rea de error","loader.wrapper.aria":"\xc1rea del cargador","player.wrapper.aria":"\xc1rea de reproductor","player.chat.message.poll.name":"Resultado de la encuesta","player.chat.message.poll.question":"Pregunta","player.chat.message.poll.options":"Opciones","player.chat.message.poll.option.yes":"S\xed","player.chat.message.poll.option.no":"No","player.chat.message.poll.option.abstention":"Abstenci\xf3n","player.chat.message.poll.option.true":"Verdadero","player.chat.message.poll.option.false":"Falso","player.chat.wrapper.aria":"\xc1rea de chat","player.notes.wrapper.aria":"\xc1rea de notas","player.presentation.wrapper.aria":"\xc1rea de presentaci\xf3n","player.screenshare.wrapper.aria":"\xc1rea de pantalla compartida","player.thumbnails.wrapper.aria":"\xc1rea de miniaturas","player.video.wrapper.aria":"\xc1rea de video"}')},116:function(e){e.exports=JSON.parse('{"button.about.aria":"\u062f\u0631\u0628\u0627\u0631\u0647","button.clear.aria":"\u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646 \u062c\u0633\u062a \u0648 \u062c\u0648","button.close.aria":"\u0628\u0633\u062a\u0646","button.fullscreen.aria":"\u0645\u062d\u062a\u0648\u0627\u06cc \u062a\u0645\u0627\u0645 \u0635\u0641\u062d\u0647","button.restore.aria":"\u0628\u0627\u0632\u06af\u0631\u062f\u0627\u0646\u062f\u0646 \u0645\u062d\u062a\u0648\u0627","button.search.aria":"\u062c\u0633\u062a \u0648 \u062c\u0648","button.section.aria":"\u0628\u062e\u0634 \u06a9\u0646\u0627\u0631\u06cc","button.swap.aria":"\u062c\u0627 \u0628\u0647 \u062c\u0627\u06cc\u06cc \u0645\u062d\u062a\u0648\u0627","error.wrapper.aria":"\u0646\u0627\u062d\u06cc\u0647 \u062e\u0637\u0627","loader.wrapper.aria":"\u0646\u0627\u062d\u06cc\u0647 \u0628\u0627\u0631\u06af\u0630\u0627\u0631\u06cc","player.wrapper.aria":"\u0646\u0627\u062d\u06cc\u0647 \u067e\u062e\u0634 \u06a9\u0646\u0646\u062f\u0647","player.chat.message.poll.name":"\u0646\u062a\u06cc\u062c\u0647 \u0646\u0638\u0631\u0633\u0646\u062c\u06cc","player.chat.message.poll.question":"\u0633\u0648\u0627\u0644","player.chat.message.poll.options":"\u06af\u0632\u06cc\u0646\u0647 \u0647\u0627","player.chat.message.poll.option.yes":"\u0628\u0644\u0647","player.chat.message.poll.option.no":"\u062e\u06cc\u0631","player.chat.message.poll.option.abstention":"\u0645\u0645\u062a\u0646\u0639","player.chat.message.poll.option.true":"\u062f\u0631\u0633\u062a","player.chat.message.poll.option.false":"\u0646\u0627\u062f\u0631\u0633\u062a","player.chat.wrapper.aria":"\u0646\u0627\u062d\u06cc\u0647 \u06af\u0641\u062a \u0648 \u06af\u0648","player.notes.wrapper.aria":"\u0646\u0627\u062d\u06cc\u0647 \u06cc\u0627\u062f\u062f\u0627\u0634\u062a \u0647\u0627","player.presentation.wrapper.aria":"\u0646\u0627\u062d\u06cc\u0647 \u0627\u0631\u0627\u06cc\u0647","player.screenshare.wrapper.aria":"\u0646\u0627\u062d\u06cc\u0647 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0635\u0641\u062d\u0647","player.thumbnails.wrapper.aria":"\u0646\u0627\u062d\u06cc\u0647 \u0628\u0646\u062f\u0627\u0646\u06af\u0634\u062a\u06cc \u0647\u0627","player.video.wrapper.aria":"\u0646\u0627\u062d\u06cc\u0647 \u0648\u06cc\u062f\u06cc\u0648"}')},117:function(e){e.exports=JSON.parse('{"button.about.aria":"\xc0 propos","button.clear.aria":"Effacer la recherche","button.close.aria":"Fermer modal","button.fullscreen.aria":"Contenu plein \xe9cran","button.restore.aria":"Restaurer le contenu","button.search.aria":"Chercher","button.section.aria":"Section lat\xe9rale","button.swap.aria":"Contenu d\'\xe9change","error.wrapper.aria":"Zone d\'erreur","loader.wrapper.aria":"Zone de chargement","player.wrapper.aria":"Zone de lecteur","player.chat.message.poll.name":"R\xe9sultat du sondage","player.chat.message.poll.question":"Question","player.chat.message.poll.options":"Options","player.chat.message.poll.option.yes":"Oui","player.chat.message.poll.option.no":"Non","player.chat.message.poll.option.abstention":"S\'abstenir","player.chat.message.poll.option.true":"Vrai","player.chat.message.poll.option.false":"Faux","player.chat.wrapper.aria":"Zone de chat","player.notes.wrapper.aria":"Zone de notes","player.presentation.wrapper.aria":"Zone de pr\xe9sentation","player.screenshare.wrapper.aria":"Zone de partage d\'\xe9cran","player.thumbnails.wrapper.aria":"Zone des miniatures","player.video.wrapper.aria":"Zone vid\xe9o"}')},118:function(e){e.exports=JSON.parse('{"button.about.aria":"Di","button.clear.aria":"Cancella ricerca","button.close.aria":"Chiudi modale","button.fullscreen.aria":"Contenuto a schermo intero","button.restore.aria":"Ripristina contenuto","button.search.aria":"Ricerca","button.section.aria":"Sezione laterale","button.swap.aria":"Scambia contenuto","error.wrapper.aria":"Area di errore","loader.wrapper.aria":"Area del caricatore","player.wrapper.aria":"Area del lettore","player.chat.message.poll.name":"Risultato del sondaggio","player.chat.message.poll.question":"Domanda","player.chat.message.poll.options":"Opzioni","player.chat.message.poll.option.yes":"S\xec","player.chat.message.poll.option.no":"No","player.chat.message.poll.option.abstention":"Astensione","player.chat.message.poll.option.true":"Vero","player.chat.message.poll.option.false":"Falso","player.chat.wrapper.aria":"Area di chat","player.notes.wrapper.aria":"Area note","player.presentation.wrapper.aria":"Area di presentazione","player.screenshare.wrapper.aria":"Area di condivisione schermo","player.thumbnails.wrapper.aria":"Area miniature","player.video.wrapper.aria":"Area video"}')},119:function(e){e.exports=JSON.parse('{"button.about.aria":"\u7d04","button.clear.aria":"\u691c\u7d22\u3092\u30af\u30ea\u30a2","button.close.aria":"\u30e2\u30fc\u30c0\u30eb\u3092\u9589\u3058\u308b","button.fullscreen.aria":"\u5168\u753b\u9762\u30b3\u30f3\u30c6\u30f3\u30c4","button.restore.aria":"\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5fa9\u5143","button.search.aria":"\u63a2\u3059","button.section.aria":"\u30b5\u30a4\u30c9\u30bb\u30af\u30b7\u30e7\u30f3","button.swap.aria":"\u30b3\u30f3\u30c6\u30f3\u30c4\u3092\u5165\u308c\u66ff\u3048","error.wrapper.aria":"\u30a8\u30e9\u30fc\u9818\u57df","loader.wrapper.aria":"\u30ed\u30fc\u30c0\u30fc\u30a8\u30ea\u30a2","player.wrapper.aria":"\u30d7\u30ec\u30a4\u30e4\u30fc\u30a8\u30ea\u30a2","player.chat.message.poll.name":"\u6295\u7968\u7d50\u679c","player.chat.message.poll.question":"\u8cea\u554f","player.chat.message.poll.options":"\u30aa\u30d7\u30b7\u30e7\u30f3","player.chat.message.poll.option.yes":"\u306f\u3044","player.chat.message.poll.option.no":"\u3044\u3044\u3048","player.chat.message.poll.option.abstention":"\u3069\u3061\u3089\u3067\u3082\u306a\u3044","player.chat.message.poll.option.true":"\u25cb","player.chat.message.poll.option.false":"\xd7","player.chat.wrapper.aria":"\u30c1\u30e3\u30c3\u30c8\u30a8\u30ea\u30a2","player.notes.wrapper.aria":"\u30ce\u30fc\u30c8\u30a8\u30ea\u30a2","player.presentation.wrapper.aria":"\u30d7\u30ec\u30bc\u30f3\u30c6\u30fc\u30b7\u30e7\u30f3\u30a8\u30ea\u30a2","player.screenshare.wrapper.aria":"\u753b\u9762\u5171\u6709\u30a8\u30ea\u30a2","player.thumbnails.wrapper.aria":"\u30b5\u30e0\u30cd\u30a4\u30eb\u30a8\u30ea\u30a2","player.video.wrapper.aria":"\u30d3\u30c7\u30aa\u30a8\u30ea\u30a2"}')},120:function(e){e.exports=JSON.parse('{"button.about.aria":"Sobre","button.clear.aria":"Limpar busca","button.close.aria":"Fechar modal","button.fullscreen.aria":"Conte\xfado em tela cheia","button.restore.aria":"Restaurar conte\xfado","button.search.aria":"Buscar","button.section.aria":"Se\xe7\xe3o lateral","button.swap.aria":"Trocar conte\xfado","error.wrapper.aria":"\xc1rea do erro","loader.wrapper.aria":"\xc1rea do carregador","player.wrapper.aria":"\xc1rea do tocador","player.chat.message.poll.name":"Resultado da enquete","player.chat.message.poll.question":"Pergunta","player.chat.message.poll.options":"Op\xe7\xf5es","player.chat.message.poll.option.yes":"Sim","player.chat.message.poll.option.no":"N\xe3o","player.chat.message.poll.option.abstention":"Absten\xe7\xe3o","player.chat.message.poll.option.true":"Verdadeiro","player.chat.message.poll.option.false":"Falso","player.chat.wrapper.aria":"\xc1rea do chat","player.notes.wrapper.aria":"\xc1rea das notas","player.presentation.wrapper.aria":"\xc1rea da apresenta\xe7\xe3o","player.screenshare.wrapper.aria":"\xc1rea do compartilhamento de tela","player.thumbnails.wrapper.aria":"\xc1rea das miniaturas","player.video.wrapper.aria":"\xc1rea do v\xeddeo"}')},121:function(e){e.exports=JSON.parse('{"button.about.aria":"\u041e\u043a\u043e\u043b\u043e","button.clear.aria":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a","button.close.aria":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435","button.fullscreen.aria":"\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442","button.restore.aria":"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442","button.search.aria":"\u041f\u043e\u0438\u0441\u043a","button.section.aria":"\u0411\u043e\u043a\u043e\u0432\u043e\u0439 \u0440\u0430\u0437\u0434\u0435\u043b","button.swap.aria":"\u041e\u0431\u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043e\u043c","error.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u043e\u0448\u0438\u0431\u043e\u043a","loader.wrapper.aria":"\u0417\u043e\u043d\u0430 \u043f\u043e\u0433\u0440\u0443\u0437\u0447\u0438\u043a\u0430","player.wrapper.aria":"\u0418\u0433\u0440\u043e\u0432\u0430\u044f \u0437\u043e\u043d\u0430","player.chat.message.poll.name":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043e\u043f\u0440\u043e\u0441\u0430","player.chat.message.poll.question":"\u0412\u043e\u043f\u0440\u043e\u0441","player.chat.message.poll.options":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b","player.chat.message.poll.option.yes":"\u0414\u0430","player.chat.message.poll.option.no":"\u041d\u0435\u0442","player.chat.message.poll.option.abstention":"\u0412\u043e\u0437\u0434\u0435\u0440\u0436\u0443\u0441\u044c","player.chat.message.poll.option.true":"\u041f\u0440\u0430\u0432\u0434\u0430","player.chat.message.poll.option.false":"\u041b\u043e\u0436\u044c","player.chat.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u0447\u0430\u0442\u0430","player.notes.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u0437\u0430\u043c\u0435\u0442\u043e\u043a","player.presentation.wrapper.aria":"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u0438","player.screenshare.wrapper.aria":"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u044d\u043a\u0440\u0430\u043d\u0430","player.thumbnails.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u043c\u0438\u043d\u0438\u0430\u0442\u044e\u0440","player.video.wrapper.aria":"\u041e\u0431\u043b\u0430\u0441\u0442\u044c \u0432\u0438\u0434\u0435\u043e"}')},122:function(e){e.exports=JSON.parse('{"button.about.aria":"Hakk\u0131nda","button.clear.aria":"Temizle","button.close.aria":"Kapat","button.fullscreen.aria":"Tam Ekran","button.restore.aria":"Geri y\xfckle","button.search.aria":"Ara","button.section.aria":"Yan b\xf6l\xfcm","button.swap.aria":"\u0130\xe7eri\u011fi de\u011fi\u015ftir","error.wrapper.aria":"Hata","loader.wrapper.aria":"Y\xfckleyici","player.wrapper.aria":"Oynat\u0131c\u0131 alan\u0131","player.chat.message.poll.name":"Anket sonucu","player.chat.message.poll.question":"Soru","player.chat.message.poll.options":"Se\xe7enekler","player.chat.message.poll.option.yes":"Evet","player.chat.message.poll.option.no":"Hay\u0131r","player.chat.message.poll.option.abstention":"\xc7ekimser","player.chat.message.poll.option.true":"Do\u011fru","player.chat.message.poll.option.false":"Yanl\u0131\u015f","player.chat.wrapper.aria":"Sohbet","player.notes.wrapper.aria":"Notlar","player.presentation.wrapper.aria":"Sunum","player.screenshare.wrapper.aria":"Ekran payla\u015f\u0131m\u0131","player.thumbnails.wrapper.aria":"\xd6nizleme","player.video.wrapper.aria":"Video"}')},127:function(e,a,t){e.exports=t(190)},148:function(e,a){},150:function(e,a){},160:function(e,a,t){},161:function(e,a,t){},162:function(e,a,t){},169:function(e,a,t){},170:function(e,a,t){},171:function(e,a,t){},172:function(e,a,t){},173:function(e,a,t){},174:function(e,a){},184:function(e,a,t){},185:function(e,a,t){},189:function(e,a,t){},190:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),i=t(103),s=t.n(i),o=t(73),l=t(6),c=t(7),u=t(11),p=t(10),h=t(12),d=t(24),m=t(5),f=t(98),y=t(74),v=t.n(y),b=t(104),g=t.n(b),w=new URLSearchParams(window.location.search),E=!!w&&w.has("debug"),O={info:function(){var e;return(e=console).info.apply(e,arguments)},debug:function(){var e;return E?(e=console).debug.apply(e,arguments):null},warn:function(){var e;return E?(e=console).warn.apply(e,arguments):null},error:function(){var e;return(e=console).error.apply(e,arguments)}},k=t(80),S=t(105),N=function(e){if(!e)return{};var a=e.$;return a||{}},A=function(e){if(!e)return[];var a=e.$$;return a||[]},C=function(e){if(!e)return-1;var a=e.match(/\d+$/);return a&&0!==a.length?parseInt(a.shift(),10):-1},T=function(e){if(!e)return[];var a=e.trim().replace(/  +/g," ");return 0===a.length?[]:a.split(" ").map((function(e){return parseFloat(e)}))},j=function(e){var a=[];return e&&(a=e.map((function(e){var a=N(e),t=C(a.id);return{draws:e.g.map((function(e){var a=N(e),t=parseFloat(a.timestamp),r=parseFloat(a.undo),n=function(e){var a=e.split(";"),t={};return a.forEach((function(e){var a=e.trim();if(0!==a.length){var r=a.split(":").map((function(e){return e.trim()}));"visibility"!==r[0]&&(t[r[0]]=r[1])}})),t}(a.style),i=C(a.shape),s={};if(e.image){s.type="poll";var o=N(e.image.shift());if(e.rect){var l=N(e.rect.shift());s.data=Object.assign({rect:l},{image:o})}else s.data=Object.assign({image:o})}else if(e.polyline)s.type="polyline",s.data=Object.assign({},N(e.polyline.shift()));else if(e.line)s.type="line",s.data=Object.assign({},N(e.line.shift()));else if(e.polygon)s.type="polygon",s.data=Object.assign({},N(e.polygon.shift()));else if(e.circle)s.type="circle",s.data=Object.assign({},N(e.circle.shift()));else if(e.path)s.type="path",s.data=Object.assign({},N(e.path.shift()));else if(e.switch){s.type="text";var c=e.switch.shift().foreignObject.shift(),u=function(e){var a="",t=A(e);if(!ee(t)){var r=t.shift(),n=A(r);ee(n)||(a=n.map((function(e){return"br"===e["#name"]?"\r":e._})).join(""))}return a}(c);s.data=Object.assign({text:u},N(c))}return{clear:r,id:i,shape:s,style:n,timestamp:t}})),id:t}}))),a},x=function(e){var a={},t=e.svg;if(t){var r=t.image,n=t.g;a.slides=function(e){var a=[];return e&&(e.forEach((function(e){var t=N(e),r=t["xlink:href"];if(r){var n=C(t.id);T(t.in).forEach((function(e){a.push({id:n,height:parseInt(t.height),src:r,timestamp:e,width:parseInt(t.width)})}))}})),a=a.sort((function(e,a){return e.timestamp-a.timestamp}))),a}(r),a.thumbnails=a.slides.reduce((function(e,a){var t=a.id,r=a.src,n=a.timestamp;return r.includes("deskshare")?e.push({id:t,src:"deskshare",timestamp:n}):e.push({id:t,src:r.replace("slide-","thumbnails/thumb-"),timestamp:n}),e}),[]),a.canvases=j(n)}return a},P=function(e,a){return new Promise((function(t,r){var n,i=K(e);if("json"===i){switch(e){case m.files.data.alternates:n=function(e){if(!e)return[];var a=[];for(var t in e)if($(e,t)){var r=e[t];for(var n in r)if($(r,n)){var i=r[n];a.push({src:"presentation/".concat(t,"/").concat(n,".png"),text:i})}}return a}(a);break;case m.files.data.captions:case m.files.data.polls:n=function(e){if(!e)return[];return e}(a);break;default:O.debug("unhandled","json",e),r(e)}t(n)}else if("html"===i){switch(e){case m.files.data.notes:n=function(e){if(!e)return"";var a=e.match(/<body>\n.*\n<\/body>/g),t="";return ee(a)||(t=a.shift()),t}(a);break;default:O.debug("unhandled","html",e),r(e)}t(n)}else{if(!a)return O.warn("missing",e),t(null);var s=function(e){var a={};switch(e){case m.files.data.shapes:a={explicitChildren:!0,preserveChildrenOrder:!0,charsAsChildren:!0}}return a}(e);Object(S.parseStringPromise)(a,s).then((function(a){switch(e){case m.files.data.chat:n=function(e){var a=e.popcorn,t=[];$(a,"chattimeline")&&(t=a.chattimeline.map((function(e){var a=N(e),t=a.out?parseFloat(a.out):-1,r=function(e){return e.replace(/&(quot|#34);/g,'"').replace(/&(amp|#38);/g,"&").replace(/&(apos|#39);/g,"'").replace(/&(lt|#60);/g,"<").replace(/&(gt|#62);/g,">")}(function(e){return e.replace(/<a href="(.*)" rel="nofollow"><u>\1<\/u><\/a>/g,"$1")}(a.message)),n=function(e){var a;return e&&(a=e.slice(0,2).toLowerCase().trim()),a}(a.name);return{clear:t,hyperlink:r!==a.message,initials:n,name:a.name,message:r,timestamp:parseFloat(a.in)}})));return t}(a);break;case m.files.data.cursor:n=function(e){var a=[],t=e.recording;return $(t,"event")&&(a=t.event.map((function(e){var a=N(e),t=T(e.cursor.shift());return{timestamp:parseFloat(a.timestamp),x:t.shift(),y:t.shift()}}))),a}(a);break;case m.files.data.metadata:n=function(e){var a={},t=e.recording;if($(t,"meeting")){var r=N(t.meeting.shift()),n=r.id,i=t.meta.shift();a={end:parseInt(t.end_time.shift(),10),id:n,name:i.name?i.name.shift():r.name,participants:parseInt(t.participants.shift(),10),start:parseInt(t.start_time.shift(),10)}}return a}(a);break;case m.files.data.panzooms:n=function(e){var a=[],t=e.recording;return $(t,"event")&&(a=t.event.map((function(e){var a=N(e),t=T(e.viewBox.shift());return{timestamp:parseFloat(a.timestamp),x:t.shift(),y:t.shift(),width:t.shift(),height:t.shift()}}))),a}(a);break;case m.files.data.screenshare:n=function(e){var a=[],t=e.recording;return $(t,"event")&&(a=t.event.map((function(e){var a=N(e);return{timestamp:parseFloat(a.start_timestamp),clear:parseFloat(a.stop_timestamp)}}))),a}(a);break;case m.files.data.shapes:n=x(a);break;default:O.debug("unhandled","xml",e),r(e)}t(n)})).catch((function(e){return r(e)}))}}))},R=function(e,a){return[].concat(Object(k.a)(e),Object(k.a)(a)).sort((function(e,a){return e.timestamp-a.timestamp}))},I="content",L="disabled",D="media",M={ABOUT:"about",ALTERNATES:"alternates",CAPTIONS:"captions",CHAT:"chat",CURSOR:"cursor",ERROR:"error",LOADER:"loader",METADATA:"metadata",NOTES:"notes",PANZOOMS:"panzooms",PLAYER:"player",POLLS:"polls",PRESENTATION:"presentation",SCREENSHARE:"screenshare",SEARCH:"search",SHAPES:"shapes",THUMBNAILS:"thumbnails",VIDEO:"video"},_=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen"],B="undefined"===typeof Object({NODE_ENV:"production",PUBLIC_URL:"/playback/presentation/2.3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BBB_PLAYBACK_BUILD:"e3511f1"}).REACT_APP_NO_ROUTER||!Object({NODE_ENV:"production",PUBLIC_URL:"/playback/presentation/2.3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BBB_PLAYBACK_BUILD:"e3511f1"}).REACT_APP_NO_ROUTER,U=Object({NODE_ENV:"production",PUBLIC_URL:"/playback/presentation/2.3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BBB_PLAYBACK_BUILD:"e3511f1"}).REACT_APP_MEDIA_ROOT_URL,H=function(e,a){if(!B)return a;var t=J(),r=U||"/presentation",n="".concat(e,"/").concat(a);return t&&(n="".concat(t,"/").concat(n)),"".concat(r,"/").concat(n)},F=function(e){var a=g()(e)%_.length;return"avatar-".concat(_[a])},q=function(e,a){if(ee(e))return-1;for(var t=0,r=e.length-1,n=Math.floor((t+r)/2);!X(e,n,a)&&t<r;){var i=e[n];if(!$(i,"timestamp"))return-1;ne(a,i.timestamp)?t=n+1:r=n-1,n=Math.floor((t+r)/2)}return X(e,n,a)?n:-1},z=function(e,a){var t=m.files.data[a];switch(a){case M.ALTERNATES:case M.CAPTIONS:case M.CHAT:case M.CURSOR:case M.NOTES:case M.PANZOOMS:case M.POLLS:case M.SCREENSHARE:case M.TALKERS:return t&&null!==e[V(t)]?e[V(t)]:[];case M.METADATA:return t&&null!==e[V(t)]?e[V(t)]:(O.error("missing",a),{});case M.SHAPES:return t&&null!==e[V(t)]?e[V(t)]:{canvases:[],slides:[],thumbnails:[]};default:return O.debug("unhandled",a),[]}},V=function(e){return e.split(".").shift()},K=function(e){return e.split(".").pop()},Y={YN:"YN",YNA:"YNA",TF:"TF"},W=["Yes","No","Abstention","True","False"],J=function(){var e=new URLSearchParams(window.location.search),a="";return e&&e.has("p")&&(a=e.get("p")),a},Z=function(e,a){return!(e<0)&&(!ee(a)&&(!(e>=a.length)||(O.error("out of bounds",e,a),!1)))},Q=function(e){if(ee(e))return!1;for(var a=0;a<e.length;a++){if(e[a].src.includes("slide"))return!0}return!1},$=function(e,a){return!(!e||!e.hasOwnProperty(a)||"undefined"===typeof e[a])||(O.warn("missing",a,e),!1)},G=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=le(e,t),n=ne(e,a);return n&&!r},X=function(e,a,t){if(!Z(a,e))return!1;var r=e[a];if(!$(r,"timestamp"))return!1;var n=!1;if(ne(t,r.timestamp))if(a+1<e.length){var i=e[a+1];$(i,"timestamp")&&(n=!ne(t,i.timestamp))}else n=!0;return n},ee=function(e){var a=re("array",e),t=re("string",e);return!a&&!t||0===e.length},ae=function(e,a){if(ee(e))return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!$(r,"timestamp")||!$(r,"clear"))return!1;var n=r.clear,i=r.timestamp;if(G(a,i,n))return!0;if(!ne(a,i))return!1}return!1},te=function(e,a,t){var r=!1;switch(t){case"array":return e.length===a.length&&(r=e.every((function(e,t){return e===a[t]}))),r;default:return r}},re=function(e,a){var t=!1;switch(e){case"array":Array.isArray(a)&&(t=!0);break;case"string":typeof a===e&&(t=!0);break;default:O.debug("unhandled",e)}return t},ne=function(e,a){return a<=e},ie=function(e){for(var a=[/^(\d+)h(\d+)m(\d+)s$/,/^(\d+)m(\d+)s$/,/^(\d+)s$/],t=0;t<a.length;t++)if(e.match(a[t])){var r=e.match(/(\d+)h/),n=e.match(/(\d+)m/),i=e.match(/(\d+)s/),s=0;if(r){var o=parseInt(r[1]);o>=0&&(s+=3600*o)}if(n){var l=parseInt(n[1]);if(!(l>=0&&l<60))return null;s+=60*l}if(i){var c=parseInt(i[1]);if(!(c>=0&&c<60))return null;s+=c}return s}return null},se=function(e,a){if(e.video){var t=e.video.duration(),r=e.video.currentTime()+a;r<0?e.video.currentTime(0):r>t?e.video.currentTime(t):e.video.currentTime(r)}},oe=function(e,a,t){var r=a.length-1,n=e.video.currentTime(),i=q(a,n);if(-1===i)return null;var s,o=i+t;"undefined"!==typeof(s=o<0?a[0].timestamp:o>r?a[r].timestamp:a[o].timestamp)&&e.video.currentTime(s)},le=function(e,a){return-1!==a&&a<=e},ce=(t(70),Object(h.c)({aria:{id:"error.wrapper.aria",description:"Aria label for the error wrapper"}}));function ue(e){var a=Object(f.a)(),t=e.code;return n.a.createElement("div",{"aria-label":a.formatMessage(ce.aria),className:"error-wrapper",id:M.ERROR},n.a.createElement("div",{className:"error-code"},t))}var pe=t(32),he=t(13),de=t.n(he),me=(t(160),{active:!1,circle:!1,disabled:!1,type:"default"}),fe=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props,a=e.active,t=e.aria,r=e.circle,i=e.disabled,s=e.handleOnClick,o=e.icon,l=e.type;if(!s)return null;var c="ghost"===l,u="solid"===l,p={default:!c&&!u&&!i,ghost:c&&!a&&!i,solid:(u||a)&&!i,circle:r,disabled:i};return n.a.createElement("div",{className:"button-wrapper"},n.a.createElement("button",{"aria-label":t,className:de()("button",p),disabled:i,onClick:function(){return s()}},n.a.createElement("span",{className:"icon-".concat(o)})))}}]),t}(r.PureComponent);fe.defaultProps=me;var ye=fe,ve=(t(161),Object(h.c)({close:{id:"button.close.aria",description:"Aria label for the close button"}})),be=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props,a=e.children,t=e.intl,r=e.onClose;return n.a.createElement("div",{className:"modal-wrapper"},n.a.createElement("div",{className:"modal"},n.a.createElement("div",{className:"modal-control"},n.a.createElement(ye,{aria:t.formatMessage(ve.close),circle:!0,handleOnClick:r,icon:"close"})),n.a.createElement("div",{className:"modal-content"},a)))}}]),t}(r.PureComponent),ge=(t(162),function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"renderItem",value:function(e,a){var t;if("boolean"===typeof a){var r=a?"icon-check":"icon-close";t=n.a.createElement("div",{className:de()(r,{green:a,red:!a})})}else t=a;return n.a.createElement("div",{className:"item"},n.a.createElement("div",{className:"icon-".concat(e)}),n.a.createElement("div",{className:"value"},t))}},{key:"renderBody",value:function(e){var a=this.props.content,t=a.captions,r=a.chat,i=a.notes,s=a.presentation,o=a.screenshare;return n.a.createElement("div",{className:"about-body"},this.renderItem("users",e.participants),this.renderItem("presentation",s),this.renderItem("chat",r),this.renderItem("notes",i),this.renderItem("screenshare",o),this.renderItem("captions",t))}},{key:"renderHeader",value:function(e){var a=e.end,t=e.name,r=e.start,i=[];return i.push(n.a.createElement(h.a,{value:new Date(r),day:"numeric",month:"long",year:"numeric"})),i.push(n.a.createElement(h.b,{value:new Date(r)})),i.push(n.a.createElement(h.b,{value:new Date(a)})),n.a.createElement("div",{className:"about-header"},n.a.createElement("div",{className:"title"},t),n.a.createElement("div",{className:"subtitle"},i.map((function(e){return n.a.createElement("div",{className:"item"},e)}))))}},{key:"renderFooter",value:function(){return n.a.createElement("div",{className:"about-footer"},this.renderItem("settings","e3511f1"))}},{key:"render",value:function(){var e=this.props,a=e.intl,t=e.metadata,r=e.toggleModal;return n.a.createElement(be,{intl:a,onClose:r},this.renderHeader(t),this.renderBody(t),this.renderFooter())}}]),t}(r.PureComponent)),we=t(107),Ee=t.n(we),Oe=(t(169),function(e){var a=e.name;return n.a.createElement("div",{className:"avatar-wrapper"},n.a.createElement("div",{className:de()("avatar",F(a))},function(e){var a=e.icon,t=e.initials;return a?n.a.createElement("span",{className:"icon-".concat(a)}):n.a.createElement("span",{className:"initials"},t)}(e)))}),ke=(t(72),function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"renderAvatar",value:function(e,a){var t=this.props,r=t.icon,i=t.initials,s=t.onClick;return n.a.createElement("div",{className:de()("interactive",{inactive:!e}),onClick:s,onKeyPress:function(e){return"Enter"===e.key?s():null},tabIndex:"0"},n.a.createElement(Oe,{active:e,icon:r,initials:i,name:a}))}},{key:"renderInfo",value:function(e,a){var t=function(e){return 1e3*e}(this.props.timestamp);return n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:de()("name",{inactive:!e})},a),n.a.createElement("div",{className:de()("time",{inactive:!e})},n.a.createElement(h.b,{hourCycle:"h23",hour:"numeric",minute:"numeric",second:"numeric",timeZone:"UTC",value:t})))}},{key:"render",value:function(){var e=this.props,a=e.active,t=e.children,r=e.name;return n.a.createElement("div",{className:"message"},this.renderAvatar(a,r),n.a.createElement("div",{className:"data"},this.renderInfo(a,r),n.a.createElement("div",{className:de()("text",{inactive:!a})},t)))}}]),t}(r.PureComponent)),Se=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.active!==e.active}},{key:"renderHyperlink",value:function(e,a){var t={className:de()("linkified",{inactive:!e})};return n.a.createElement(Ee.a,{options:t},a)}},{key:"renderContent",value:function(e){var a=this.props,t=a.hyperlink,r=a.text;return t?this.renderHyperlink(e,r):r}},{key:"render",value:function(){var e=this.props,a=e.active,t=e.initials,r=e.onClick,i=e.name,s=e.timestamp;return n.a.createElement(ke,{active:a,initials:t,onClick:r,name:i,timestamp:s},this.renderContent(a))}}]),t}(r.Component),Ne=Object(h.c)({name:{id:"player.chat.message.poll.name",description:"Label for the poll message name"},question:{id:"player.chat.message.poll.question",description:"Label for the poll message question"},options:{id:"player.chat.message.poll.options",description:"Label for the poll message answer options"},yes:{id:"player.chat.message.poll.option.yes",description:"Label for poll option yes"},no:{id:"player.chat.message.poll.option.no",description:"Label for poll option no"},abstention:{id:"player.chat.message.poll.option.abstention",description:"Label for poll option abstention"},true:{id:"player.chat.message.poll.option.true",description:"Label for poll option true"},false:{id:"player.chat.message.poll.option.false",description:"Label for poll option false"}}),Ae=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.active!==e.active}},{key:"renderQuestion",value:function(e){var a=this.props.question;return 0===a.length?null:n.a.createElement("div",{className:"poll-question"},n.a.createElement("div",{className:"poll-label"},e.formatMessage(Ne.question)),a)}},{key:"renderResult",value:function(){var e=this.props,a=e.answers,t=e.responders;return 0===a.length?null:n.a.createElement("div",{className:"poll-result"},a.map((function(e){var a,r,i=e.id,s=e.numVotes,o=(a=s,0===(r=t)?0:(a/r*100).toFixed(1));return n.a.createElement("div",{className:"poll-label"},i+1,": ",n.a.createElement("span",{className:"poll-bar"},function(e){var a,t=parseInt(e);if(0===t)a="-";else{var r=t%10>2;if(a="\u2588".repeat(t/10),r){var n="ltr"===document.dir;a=a.concat(n?"\u258c":"\u2590")}}return a}(o))," ",o,"%")})))}},{key:"renderOptions",value:function(e){var a=this.props,t=a.answers,r=a.type;return 0===t.length?null:n.a.createElement("div",{className:"poll-options"},n.a.createElement("div",{className:"poll-label"},e.formatMessage(Ne.options)),t.map((function(a){var t=a.id,i=a.key,s=function(e,a){return Y[a]&&W.includes(e)?e.toLowerCase():null}(i,r);return n.a.createElement("div",null,t+1,": ",s?e.formatMessage(Ne[s]):i)})))}},{key:"renderContent",value:function(e){return n.a.createElement("div",{className:"poll-wrapper"},this.renderQuestion(e),this.renderResult(),this.renderOptions(e))}},{key:"render",value:function(){var e=this.props,a=e.active,t=e.intl,r=e.onClick,i=e.timestamp;return n.a.createElement(ke,{active:a,icon:"polls",onClick:r,name:t.formatMessage(Ne.name),timestamp:i},this.renderContent(t))}}]),t}(r.Component),Ce=(t(170),Object(h.c)({aria:{id:"player.chat.wrapper.aria",description:"Aria label for the chat wrapper"}})),Te=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var r;return Object(l.a)(this,t),(r=a.call(this,e)).interaction=!1,r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.handleAutoScroll()}},{key:"shouldComponentUpdate",value:function(e){return this.props.currentDataIndex!==e.currentDataIndex}},{key:"componentDidUpdate",value:function(){this.handleAutoScroll()}},{key:"handleAutoScroll",value:function(){m.chat.scroll&&!this.interaction&&(this.firstNode&&this.currentNode&&(this.currentNode.parentNode.scrollTop=function(e,a,t){if(!a)return 0;var r=a.clientHeight,n=a.offsetTop,i=a.parentNode;if(!e||!i)return 0;var s=e.offsetTop,o=i.clientHeight,l=0;switch(t){case"top":l=n-s;break;case"middle":l=parseInt(n+(r-s-o)/2,10);break;case"bottom":l=n+r-o;break;default:O.debug("unhandled",t)}return l}(this.firstNode,this.currentNode,m.chat.align)))}},{key:"handleOnClick",value:function(e){var a=this.props.player;if(!a)return null;a.currentTime(e)}},{key:"setRef",value:function(e,a){var t=this.props.currentDataIndex;0===a&&(this.firstNode=e),a===t&&(this.currentNode=e)}},{key:"renderChatMessage",value:function(e,a,t){var r=this,i=e.hyperlink,s=e.initials,o=e.message,l=e.name,c=e.timestamp;return n.a.createElement("span",{ref:function(e){return r.setRef(e,a)}},n.a.createElement(Se,{active:t,hyperlink:i,initials:s,name:l,onClick:function(){return r.handleOnClick(c)},text:o,timestamp:c}))}},{key:"renderPollMessage",value:function(e,a,t,r){var i=this,s=e.answers,o=e.question,l=e.responders,c=e.timestamp,u=e.type;return n.a.createElement("span",{ref:function(e){return i.setRef(e,a)}},n.a.createElement(Ae,{active:t,answers:s,intl:r,onClick:function(){return i.handleOnClick(c)},question:o,responders:l,timestamp:c,type:u}))}},{key:"renderMessages",value:function(e){var a=this,t=this.props,r=t.chat,i=t.currentDataIndex;return r.map((function(t,r){var s=r<=i;switch(function(e){return"string"===typeof e.message?M.CHAT:"string"===typeof e.question?M.POLLS:"undefined"}(t)){case M.CHAT:return a.renderChatMessage(t,r,s);case M.POLLS:return a.renderPollMessage(t,r,s,e);default:return n.a.createElement("span",{ref:function(e){return a.setRef(e,r)}})}}))}},{key:"render",value:function(){var e=this,a=this.props.intl;return n.a.createElement("div",{"aria-label":a.formatMessage(Ce.aria),"aria-live":"polite",className:"chat-wrapper",id:M.CHAT,tabIndex:"0"},n.a.createElement("div",{className:"list"},n.a.createElement("div",{className:"message-wrapper",onMouseEnter:function(){return e.interaction=!0},onMouseLeave:function(){return e.interaction=!1}},this.renderMessages(a))))}}]),t}(r.Component),je=(t(171),Object(h.c)({aria:{id:"player.notes.wrapper.aria",description:"Aria label for the notes wrapper"}})),xe=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props,a=e.intl,t=e.notes;return n.a.createElement("div",{"aria-label":a.formatMessage(je.aria),className:"notes-wrapper",id:M.NOTES,tabIndex:"0"},n.a.createElement("div",{className:"notes"},n.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})))}}]),t}(r.PureComponent),Pe=(t(46),function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props,a=e.x,t=e.y;return-1===a||-1===t?null:n.a.createElement("circle",{className:"cursor",style:{cx:a,cy:t}})}}]),t}(r.PureComponent)),Re=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var r;Object(l.a)(this,t),r=a.call(this,e);var n=e.metadata;return r.recordId=n.id,r}return Object(c.a)(t,[{key:"getProxy",value:function(e,a,t){var r=this.props.thumbnails.find((function(a){return e===a.id}));if(!r)return null;var i=r.alt,s=r.src;if("deskshare"===s)return null;var o=s.includes("logo");return n.a.createElement("foreignObject",{height:a,x:0,width:t,y:0},n.a.createElement("img",{alt:i,className:de()("proxy",{logo:o}),src:H(this.recordId,s)}))}},{key:"render",value:function(){var e=this.props,a=e.id,t=e.slides.find((function(e){return a===e.id}));if(!t)return null;var r=t.height,i=t.src,s=t.width;return n.a.createElement("g",null,this.getProxy(a,r,s),n.a.createElement("image",{height:r,href:H(this.recordId,i),x:0,width:s,y:0}))}}]),t}(r.PureComponent),Ie=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var r;Object(l.a)(this,t),r=a.call(this,e);var n=e.metadata;return r.recordId=n.id,r}return Object(c.a)(t,[{key:"renderPolyline",value:function(e,a){return n.a.createElement("polyline",{style:e,points:a.points})}},{key:"renderLine",value:function(e,a){return n.a.createElement("line",{style:e,x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2})}},{key:"renderPolygon",value:function(e,a){return n.a.createElement("polygon",{style:e,points:a.points})}},{key:"renderPath",value:function(e,a){return n.a.createElement("path",{style:e,d:a.d})}},{key:"renderCircle",value:function(e,a){return n.a.createElement("circle",{style:e,cx:a.cx,cy:a.cy,r:a.r})}},{key:"renderText",value:function(e,a){return n.a.createElement("foreignObject",{style:e,height:a.height,width:a.width,x:a.x,y:a.y},n.a.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml"},a.text.split("\r").map((function(e){return n.a.createElement("span",null,e,n.a.createElement("br",null))}))))}},{key:"renderPoll",value:function(e,a){var t=a.image,r=a.rect;return r?n.a.createElement("g",{style:e},n.a.createElement("rect",{fill:r.fill,height:r.height,stroke:r.stroke,strokeWidth:r["stroke-width"],width:r.width,x:r.x,y:r.y}),n.a.createElement("image",{height:t.height,transform:t.transform,width:t.width,x:t.x,href:H(this.recordId,t["xlink:href"]),y:t.y})):n.a.createElement("g",{style:e},n.a.createElement("image",{height:t.height,width:t.width,x:t.x,href:H(this.recordId,t["xlink:href"]),y:t.y}))}},{key:"renderCanvas",value:function(e){for(var a=this.props.draws,t=[],r=0;r<e.length;r++)if(e[r]){var n=a[r],i=n.id,s=n.shape,o=n.style,l=r+1,c=!1;if(l<e.length&&(c=a[l].id===i),!c){var u=s.data;switch(s.type){case"poll":t.push(this.renderPoll(o,u));break;case"polyline":t.push(this.renderPolyline(o,u));break;case"line":t.push(this.renderLine(o,u));break;case"polygon":t.push(this.renderPolygon(o,u));break;case"path":t.push(this.renderPath(o,u));break;case"circle":t.push(this.renderCircle(o,u));break;case"text":t.push(this.renderText(o,u))}}}return t}},{key:"render",value:function(){var e=this.props.drawsInterval;return 0===e.length?null:n.a.createElement("g",null,this.renderCanvas(e))}}]),t}(r.PureComponent),Le=Object(h.c)({aria:{id:"player.presentation.wrapper.aria",description:"Aria label for the presentation wrapper"}}),De=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"getSlideId",value:function(){var e=this.props,a=e.currentSlideIndex,t=e.slides;return-1===a?-1:t[a].id}},{key:"getViewBox",value:function(){var e=this.props,a=e.currentPanzoomIndex,t=e.panzooms;if(-1===a)return{height:0,x:0,width:0,y:0};var r=t[a];return{height:r.height,x:r.x,width:r.width,y:r.y}}},{key:"buildViewBoxAttr",value:function(e){var a=e.height,t=e.x,r=e.width,n=e.y;return"".concat(t," ").concat(n," ").concat(r," ").concat(a)}},{key:"getCursor",value:function(e){var a=this.props,t=a.currentCursorIndex,r=a.cursor,n={x:-1,y:-1};if(-1===t)return n;var i=r[t];return-1===i.x&&-1===i.y?n:{x:e.x+i.x*e.width,y:e.y+i.y*e.height}}},{key:"render",value:function(){var e=this.props,a=e.active,t=e.draws,r=e.drawsInterval,i=e.intl,s=e.metadata,o=e.slides,l=e.thumbnails,c=this.getSlideId(),u=this.getViewBox(),p=this.getCursor(u),h=c;return n.a.createElement("div",{"aria-label":i.formatMessage(Le.aria),className:de()("presentation-wrapper",{inactive:!a}),id:M.PRESENTATION},n.a.createElement("div",{className:"presentation"},n.a.createElement("svg",{viewBox:this.buildViewBoxAttr(u),xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.a.createElement("defs",null,n.a.createElement("clipPath",{id:"viewBox"},n.a.createElement("rect",{height:u.height,x:u.x,width:u.width,y:u.y}))),n.a.createElement("g",{clipPath:"url(#viewBox)"},n.a.createElement(Re,{id:c,metadata:s,slides:o,thumbnails:l}),n.a.createElement(Ie,{draws:t,drawsInterval:r,id:h,metadata:s}),n.a.createElement(Pe,{x:p.x,y:p.y})))))}}]),t}(r.PureComponent),Me=(t(172),Object(h.c)({aria:{id:"player.thumbnails.wrapper.aria",description:"Aria label for the thumbnails wrapper"},clear:{id:"button.clear.aria",description:"Aria label for the clear button"}})),_e=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var r;Object(l.a)(this,t),r=a.call(this,e);var n=e.metadata;return r.recordId=n.id,r.interaction=!1,r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.handleAutoScroll()}},{key:"shouldComponentUpdate",value:function(e){var a=this.props,t=a.currentDataIndex,r=a.search;return t!==e.currentDataIndex||!te(r,e.search)}},{key:"componentDidUpdate",value:function(){this.handleAutoScroll()}},{key:"handleOnClick",value:function(e){var a=this.props.player;if(!a)return null;a.currentTime(e)}},{key:"handleAutoScroll",value:function(){m.thumbnails.scroll&&!this.interaction&&(this.firstNode&&this.currentNode&&(this.currentNode.parentNode.scrollLeft=function(e,a,t){if(!a)return 0;var r=a.clientWidth,n=a.offsetLeft,i=a.parentNode;if(!e||!i)return 0;var s="ltr"===document.dir?e.offsetLeft:0,o=i.clientWidth,l=0;switch(t){case"left":l=n-s;break;case"center":l=parseInt(n+(r-s-o)/2,10);break;case"right":l=n+r-o;break;default:O.debug("unhandled",t)}return l}(this.firstNode,this.currentNode,m.thumbnails.align)))}},{key:"setRef",value:function(e,a){var t=this.props.currentDataIndex;0===a&&(this.firstNode=e),a===t&&(this.currentNode=e)}},{key:"isFiltered",value:function(e){var a=this.props,t=a.interactive,r=a.search;return t?!ee(r)&&!r.includes(e):!r.includes(e)}},{key:"renderImage",value:function(e){var a=e.alt,t=e.src,r="deskshare"===t;if(r)return n.a.createElement("div",{className:de()("thumbnail-image",{screenshare:r})},n.a.createElement("span",{className:"icon-screenshare"}));var i=t.includes("logo");return n.a.createElement("img",{alt:a,className:de()("thumbnail-image",{logo:i}),src:H(this.recordId,t)})}},{key:"renderThumbnail",value:function(e,a){var t=this,r=this.props,i=r.currentDataIndex,s=r.interactive;if(!s)return n.a.createElement("div",{className:"thumbnail-wrapper",tabIndex:"0"},n.a.createElement("div",{className:"thumbnail"},this.renderImage(e),n.a.createElement("div",{className:"thumbnail-index"},a+1)));var o=function(){return t.handleOnClick(e.timestamp)},l={active:a===i,interactive:s};return n.a.createElement("div",{className:de()("thumbnail-wrapper",l),onClick:o,onKeyPress:function(e){return"Enter"===e.key?o():null},ref:function(e){return t.setRef(e,a)},tabIndex:"0"},n.a.createElement("div",{className:"thumbnail"},this.renderImage(e),n.a.createElement("div",{className:"thumbnail-index"},a+1)))}},{key:"renderThumbnails",value:function(){var e=this;return this.props.thumbnails.reduce((function(a,t,r){return e.isFiltered(r)||a.push(e.renderThumbnail(t,r)),a}),[])}},{key:"renderClearButton",value:function(){if(!this.props.interactive)return null;var e=this.props.search;if(ee(e))return null;var a=this.props,t=a.handleSearch,r=a.intl;return n.a.createElement("div",{className:"clear-button"},n.a.createElement(ye,{aria:r.formatMessage(Me.clear),handleOnClick:function(){return t?t([]):null},icon:"close",type:"solid"}))}},{key:"render",value:function(){var e=this,a=this.props.intl;return n.a.createElement("div",{"aria-label":a.formatMessage(Me.aria),className:"thumbnails-wrapper",id:M.THUMBNAILS,onMouseEnter:function(){return e.interaction=!0},onMouseLeave:function(){return e.interaction=!1},tabIndex:"0"},this.renderThumbnails(),this.renderClearButton())}}]),t}(r.Component),Be=(t(173),Object(h.c)({search:{id:"player.search.aria",description:"Aria label for the search button"}})),Ue=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var r;return Object(l.a)(this,t),(r=a.call(this,e)).state={disabled:!0,search:[]},r}return Object(c.a)(t,[{key:"handleOnChange",value:function(e){if(!e||!e.target)return null;var a=e.target.value;if(a){var t=a.length<m.search.length.min;if(t)ee(this.state.search)||this.setState({search:[]});else{var r=function(e,a){var t=[],r=e.toLowerCase();return a.forEach((function(e,a){-1!==e.alt.toLowerCase().indexOf(r)&&t.push(a)})),t}(a,this.props.thumbnails);te(this.state.search,r,"array")||this.setState({search:r})}this.state.disabled!==t&&this.setState({disabled:t})}}},{key:"handleOnClick",value:function(e){var a=this.props,t=a.handleSearch,r=a.toggleModal;t(this.state.search),r()}},{key:"renderBody",value:function(){var e=this,a=this.props,t=a.intl,r=a.metadata,i=a.thumbnails,s=this.state.search;return n.a.createElement("div",{className:"search-body"},n.a.createElement("input",{maxLength:m.search.length.max,minLength:m.search.length.min,onChange:function(a){return e.handleOnChange(a)},type:"text"}),n.a.createElement("div",{className:de()("result",{active:!0})},n.a.createElement(_e,{currentDataIndex:0,handleSearch:null,interactive:!1,intl:t,metadata:r,player:null,search:s,thumbnails:i})))}},{key:"renderFooter",value:function(){var e=this,a=this.props.intl,t=this.state.disabled;return n.a.createElement("div",{className:"search-footer"},n.a.createElement(ye,{aria:a.formatMessage(Be.search),disabled:t,handleOnClick:function(a){return e.handleOnClick(a)},icon:"search",type:"solid"}))}},{key:"render",value:function(){var e=this.props,a=e.intl,t=e.toggleModal;return n.a.createElement(be,{intl:a,onClose:t},this.renderBody(),this.renderFooter())}}]),t}(r.PureComponent),He=t(48),Fe=(t(184),Object(h.c)({aria:{id:"player.screenshare.wrapper.aria",description:"Aria label for the screenshare wrapper"}})),qe=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var r;Object(l.a)(this,t),r=a.call(this,e);var n=e.media,i=e.metadata,s=[{src:H(i.id,"deskshare/deskshare.mp4"),type:"video/mp4"},{src:H(i.id,"deskshare/deskshare.webm"),type:"video/webm"}].filter((function(e){var a=e.type;return n.find((function(e){return a.includes(e)}))}));return r.options={controls:!1,fill:!0,sources:s},r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.player=Object(He.a)(this.node,this.options,(function(){var a=e.props.onPlayerReady;a&&a(M.SCREENSHARE,e.player)}))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this,a=this.props,t=a.active,r=a.intl;return n.a.createElement("div",{"aria-label":r.formatMessage(Fe.aria),className:de()("screenshare-wrapper",{inactive:!t}),id:M.SCREENSHARE},n.a.createElement("div",{"data-vjs-player":!0},n.a.createElement("video",{className:"video-js",playsInline:!0,preload:"auto",ref:function(a){return e.node=a}})))}}]),t}(r.PureComponent),ze=(t(185),Object(h.c)({aria:{id:"player.video.wrapper.aria",description:"Aria label for the video wrapper"}})),Ve=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var r;Object(l.a)(this,t),r=a.call(this,e);var n=e.captions,i=e.media,s=e.metadata,o=[{src:H(s.id,"video/webcams.mp4"),type:"video/mp4"},{src:H(s.id,"video/webcams.webm"),type:"video/webm"}].filter((function(e){var a=e.type;return i.find((function(e){return a.includes(e)}))})),c=n.map((function(e){var a=e.locale,t=e.localeName;return{kind:"captions",src:H(s.id,"caption_".concat(a,".vtt")),srclang:a,label:t}}));return r.options={controlBar:{fullscreenToggle:!1,pictureInPictureToggle:!1,volumePanel:{inline:!1,vertical:!0}},controls:!0,fill:!0,inactivityTimeout:0,playbackRates:m.video.rates,sources:o,tracks:c},r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.player=Object(He.a)(this.node,this.options,(function(){var a=e.props,t=a.onPlayerReady,r=a.onTimeUpdate,n=a.time;r&&(e.player.on("play",(function(){setInterval((function(){var a=e.player.currentTime();r(a)}),1e3/m.video.rps)})),e.player.on("pause",(function(){return clearInterval()}))),n&&e.player.on("loadedmetadata",(function(){var a=e.player.duration();n<a&&e.player.currentTime(n)})),t&&t(M.VIDEO,e.player)}))}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"render",value:function(){var e=this,a=this.props.intl;return n.a.createElement("div",{"aria-label":a.formatMessage(ze.aria),className:"video-wrapper",id:M.VIDEO},n.a.createElement("div",{"data-vjs-player":!0},n.a.createElement("video",{className:"video-js",playsInline:!0,preload:"auto",ref:function(a){return e.node=a}})))}}]),t}(r.PureComponent),Ke=(t(102),function(){return n.a.createElement("div",{className:"bottom-bar"})}),Ye=Object(h.c)({about:{id:"button.about.aria",description:"Aria label for the about button"},section:{id:"button.section.aria",description:"Aria label for the section button"},search:{id:"button.search.aria",description:"Aria label for the search button"},swap:{id:"button.swap.aria",description:"Aria label for the swap button"}}),We=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(c.a)(t,[{key:"renderSearchButton",value:function(e){if(!e)return null;var a=this.props,t=a.intl,r=a.toggleSearch;return n.a.createElement(ye,{aria:t.formatMessage(Ye.search),circle:!0,handleOnClick:r,icon:"search"})}},{key:"renderSectionButton",value:function(e){if(!e)return null;var a=this.props,t=a.intl,r=a.section,i=a.toggleSection;return n.a.createElement(ye,{aria:t.formatMessage(Ye.section),circle:!0,handleOnClick:i,icon:r?"arrow-left":"arrow-right"})}},{key:"renderSwapButton",value:function(e){if(!e)return null;var a=this.props,t=a.intl,r=a.toggleSwap;return n.a.createElement(ye,{aria:t.formatMessage(Ye.swap),circle:!0,handleOnClick:r,icon:"swap"})}},{key:"renderTitle",value:function(e){var a=this.props,t=a.name,r=a.start,i=n.a.createElement(h.a,{value:new Date(r)});if(e){var s=this.props,o=s.intl,l=s.toggleAbout;return n.a.createElement("span",{aria:o.formatMessage(Ye.about),className:de()("title",{interactive:e}),onClick:l,onKeyPress:function(e){return"Enter"===e.key?l():null},tabIndex:"0"},t," - ",i)}return n.a.createElement("span",{className:"title"},t," - ",i)}},{key:"render",value:function(){var e=this.props,a=e.control,t=e.single,r=m.controls.about,i=m.controls.search,s=m.controls.section,o=m.controls.swap;return n.a.createElement("div",{className:"top-bar"},n.a.createElement("div",{className:"left"},this.renderSectionButton(a&&s)),n.a.createElement("div",{className:"center"},this.renderTitle(a&&r)),n.a.createElement("div",{className:"right"},this.renderSearchButton(a&&i&&!t),this.renderSwapButton(a&&o&&!t)))}}]),t}(r.PureComponent),Je=function(){function e(a,t){Object(l.a)(this,e),this.content=function(e){var a=z(e,M.CAPTIONS),t=R(z(e,M.CHAT),z(e,M.POOLS)),r=z(e,M.NOTES),n=z(e,M.SCREENSHARE),i=z(e,M.SHAPES).slides;return{captions:!ee(a),chat:!ee(t),notes:!ee(r),presentation:Q(i),screenshare:!ee(n)}}(a),this.layout=t}return Object(c.a)(e,[{key:"getContent",value:function(){return this.content}},{key:"initControl",value:function(){return function(e){var a=!0;switch(e){case L:a=!1}return a}(this.layout)}},{key:"initSection",value:function(){return function(e){var a=!0;switch(e){case I:case D:a=!1}return a}(this.layout)}},{key:"initSwap",value:function(){return function(e){var a=!1;switch(e){case I:a=!1;break;case D:a=!0}return a}(this.layout)}},{key:"getBottomContentStyle",value:function(e){var a=e.fullscreen;return{inactive:!(e.thumbnails&&!a)}}},{key:"getContentStyle",value:function(e){return{"swapped-content":e.swap}}},{key:"getMediaStyle",value:function(e){var a=e.swap,t=this.isSingle();return{"swapped-media":a||t}}},{key:"getPlayerStyle",value:function(e){return{"fullscreen-content":e.fullscreen,"hidden-section":!e.section,"single-content":this.isSingle()}}},{key:"hasFullscreenButton",value:function(e,a){var t=a.control,r=a.swap;if(!t||!m.controls.fullscreen)return!1;var n=this.isSingle();return!!function(e,a){var t;switch(e){case I:t=!a;break;case D:t=a;break;default:t=!1}return t}(e,r||n)}},{key:"hasScreenshare",value:function(){return this.content.screenshare}},{key:"isSingle",value:function(){var e=this.content,a=e.presentation,t=e.screenshare;return!a&&!t}}]),e}(),Ze=function(){function e(a){Object(l.a)(this,e),this.enabled=m.shortcuts.enabled,this.enabled?this.init(a):O.debug("shortcuts","disabled")}return Object(c.a)(e,[{key:"init",value:function(e){for(var a in this.listeners=[],e){var t=e[a];if("function"===typeof t){var r=m.shortcuts[a];this.add(r,t)}else for(var n in t){var i=m.shortcuts[a][n],s=t[n];this.add(i,s)}}}},{key:"add",value:function(e,a){if(!e||"string"!==typeof e)return O.warn("shortcuts","invalid","key"),null;if(0===e.length)return null;if(!a||"function"!==typeof a)return O.warn("shortcuts","invalid","action"),null;var t=document.addEventListener("keydown",(function(t){t.altKey&&t.shiftKey&&t.key===e&&a()}));this.listeners.push(t)}},{key:"destroy",value:function(){this.listeners.forEach((function(e){document.removeEventListener(e)}))}}]),e}(),Qe=["canplay","seeking","waiting"],$e=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","interruptbegin","interruptend","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","volumechange","waiting"],Ge=function(){function e(a,t){Object(l.a)(this,e),this.primary=a,this.secondary=t,this.status={primary:"waiting",secondary:"waiting"},this.synching=!1,this.init()}return Object(c.a)(e,[{key:"init",value:function(){var e=this;Qe.forEach((function(a){e.primary.on(a,(function(){return e.status.primary=a})),e.secondary.on(a,(function(){return e.status.secondary=a}))})),this.primary.on("play",(function(){return e.secondary.play()})),this.primary.on("pause",(function(){return e.secondary.pause()})),this.primary.on("seeking",(function(){var a=e.primary.currentTime();e.secondary.currentTime(a)})),this.primary.on("ratechange",(function(){var a=e.primary.playbackRate();e.secondary.playbackRate(a)})),this.primary.on("waiting",(function(){e.synching||"canplay"!==e.status.secondary||(e.synching=!0,e.primary.pause())})),this.primary.on("canplay",(function(){e.synching&&(e.synching=!1,e.primary.play())})),this.secondary.on("waiting",(function(){e.synching||"canplay"!==e.status.primary||(e.synching=!0,e.primary.pause())})),this.secondary.on("canplay",(function(){e.synching&&(e.synching=!1,e.primary.play())})),$e.forEach((function(a){e.primary.on(a,(function(){return O.debug("primary ".concat(a," ").concat(e.status.primary))})),e.secondary.on(a,(function(){return O.debug("secondary ".concat(a," ").concat(e.status.secondary))}))}))}}]),e}(),Xe=Object(h.c)({aria:{id:"player.wrapper.aria",description:"Aria label for the player wrapper"},fullscreen:{id:"button.fullscreen.aria",description:"Aria label for the fullscreen button"},restore:{id:"button.restore.aria",description:"Aria label for the restore button"}}),ea=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var r;Object(l.a)(this,t),r=a.call(this,e);var n=e.data,i=e.layout;return r.layout=new Je(n,i),r.state={application:M.CHAT,control:r.layout.initControl(),fullscreen:!1,modal:"",search:[],section:r.layout.initSection(),swap:r.layout.initSwap(),thumbnails:!0,time:0},r.player={video:null,screenshare:null},r.initData(n),r.handlePlayerReady=r.handlePlayerReady.bind(Object(pe.a)(r)),r.handleSearch=r.handleSearch.bind(Object(pe.a)(r)),r.handleTimeUpdate=r.handleTimeUpdate.bind(Object(pe.a)(r)),r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.initShortcuts()}},{key:"componentWillUnmount",value:function(){this.shortcuts&&this.shortcuts.destroy()}},{key:"initData",value:function(e){var a,t;this.alternates=z(e,M.ALTERNATES),this.captions=z(e,M.CAPTIONS),this.chat=R(z(e,M.CHAT),z(e,M.POLLS)),this.cursor=z(e,M.CURSOR),this.metadata=z(e,M.METADATA),this.notes=z(e,M.NOTES),this.panzooms=z(e,M.PANZOOMS),this.screenshare=z(e,M.SCREENSHARE),this.shapes=z(e,M.SHAPES),this.canvases=this.shapes.canvases,this.slides=this.shapes.slides,this.thumbnails=(a=this.shapes.thumbnails,t=this.alternates,a.map((function(e){var a=e.src;e.alt="";var r=t.find((function(e){return a.replace("thumbnails/thumb-","slide-")===e.src}));return r&&(e.alt=r.text),e}))),O.debug(M.PLAYER,e)}},{key:"handlePlayerReady",value:function(e,a){switch(e){case M.VIDEO:O.debug(M.PLAYER,"ready",M.VIDEO),this.player.video=a;break;case M.SCREENSHARE:O.debug(M.PLAYER,"ready",M.SCREENSHARE),this.player.screenshare=a;break;default:O.debug("unhandled",e)}this.player.video&&this.player.screenshare&&(this.synchronizer=new Ge(this.player.video,this.player.screenshare))}},{key:"handleSearch",value:function(e){var a=this.state.search;te(a,e,"array")||this.setState({search:e})}},{key:"handleTimeUpdate",value:function(e){this.state.time!==e&&this.setState({time:e})}},{key:"initShortcuts",value:function(){var e=this,a=m.shortcuts.video.seconds,t={fullscreen:function(){return e.toggleFullscreen()},section:function(){return e.toggleSection()},swap:function(){return e.toggleSwap()},thumbnails:function(){return e.toggleThumbnails()},slides:{next:function(){return oe(e.player,e.slides,1)},previous:function(){return oe(e.player,e.slides,-1)}},video:{backward:function(){return se(e.player,-a)},forward:function(){return se(e.player,+a)}}};this.shortcuts=new Ze(t)}},{key:"toggleApplication",value:function(e){if(this.state.application===e)return null;this.setState({application:e})}},{key:"toggleFullscreen",value:function(){var e=this.state.fullscreen;this.setState({fullscreen:!e})}},{key:"toggleModal",value:function(e){var a=this.state.modal.length>0;this.setState({modal:a?"":e})}},{key:"toggleSection",value:function(){var e=this.state.section;this.setState({section:!e})}},{key:"toggleSwap",value:function(){var e=this.state.swap;this.setState({swap:!e})}},{key:"toggleThumbnails",value:function(){var e=this.state.thumbnails;this.setState({thumbnails:!e})}},{key:"renderFullscreenButton",value:function(e){var a=this;if(!this.layout.hasFullscreenButton(e,this.state))return null;var t=this.props.intl,r=this.state.fullscreen,i=r?t.formatMessage(Xe.restore):t.formatMessage(Xe.fullscreen),s=r?"restore":"fullscreen";return n.a.createElement("div",{className:"fullscreen-button"},n.a.createElement(ye,{aria:i,handleOnClick:function(){return a.toggleFullscreen()},icon:s,type:"solid"}))}},{key:"renderModal",value:function(){var e=this,a=this.state.modal;if(!(a.length>0))return null;var t=this.props.intl,r=this.layout.getContent();switch(a){case M.ABOUT:return n.a.createElement(ge,{content:r,intl:t,metadata:this.metadata,toggleModal:function(){return e.toggleModal(M.ABOUT)}});case M.SEARCH:return n.a.createElement(Ue,{intl:t,handleSearch:this.handleSearch,metadata:this.metadata,thumbnails:this.thumbnails,toggleModal:function(){return e.toggleModal(M.SEARCH)}});default:return null}}},{key:"renderThumbnails",value:function(){var e=this.props.intl,a=this.state,t=a.search,r=a.time,i=this.player.video,s=q(this.thumbnails,r);return n.a.createElement(_e,{currentDataIndex:s,handleSearch:this.handleSearch,interactive:!0,intl:e,metadata:this.metadata,player:i,search:t,thumbnails:this.thumbnails})}},{key:"renderTopBar",value:function(){var e=this,a=this.props.intl,t=this.state,r=t.control,i=t.section,s=this.metadata,o=s.name,l=s.start,c=this.layout.isSingle();return n.a.createElement(We,{control:r,intl:a,name:o,section:i,single:c,start:l,toggleAbout:function(){return e.toggleModal(M.ABOUT)},toggleSearch:function(){return e.toggleModal(M.SEARCH)},toggleSection:function(){return e.toggleSection()},toggleSwap:function(){return e.toggleSwap()}})}},{key:"renderMedia",value:function(){var e=this.props,a=e.data,t=e.intl,r=e.time,i=a.media;return n.a.createElement("div",{className:de()("media",this.layout.getMediaStyle(this.state))},this.renderFullscreenButton(D),n.a.createElement(Ve,{captions:this.captions,intl:t,media:i,metadata:this.metadata,onPlayerReady:this.handlePlayerReady,onTimeUpdate:this.handleTimeUpdate,time:r}))}},{key:"renderApplicationIcon",value:function(e){var a=this,t=this.state.application===e;return n.a.createElement("div",{className:de()("application-icon",{inactive:!t}),onClick:function(){return t?null:a.toggleApplication(e)}},n.a.createElement("span",{className:"icon-".concat(e)}))}},{key:"renderApplicationContent",value:function(){var e=this.props.intl;switch(this.state.application){case M.CHAT:var a=this.state.time,t=this.player.video,r=q(this.chat,a);return n.a.createElement(Te,{chat:this.chat,currentDataIndex:r,intl:e,player:t});case M.NOTES:return n.a.createElement(xe,{notes:this.notes,intl:e});default:return null}}},{key:"renderApplicationControl",value:function(){return this.state.control?n.a.createElement("div",{className:"application-control"},this.renderApplicationIcon(M.CHAT),this.renderApplicationIcon(M.NOTES)):null}},{key:"renderApplication",value:function(){return n.a.createElement("div",{className:"application"},this.renderApplicationControl(),this.renderApplicationContent())}},{key:"renderPresentation",value:function(e){var a=this.props.intl,t=this.state.time,r=q(this.slides,t),i=q(this.panzooms,t),s=q(this.cursor,t),o=function(e,a,t){if(!Z(e,a))return[];var r=a[e];if(ee(t))return[];var n=t.find((function(e){return r.id===e.id}));return n?n.draws:[]}(r,this.slides,this.canvases),l=function(e,a){var t=[];if(ee(e))return t;for(var r=0;r<e.length;r++){var n=e[r];if($(n,"timestamp")&&$(n,"clear")){var i=n.clear,s=n.timestamp;if(!ne(a,s))break;t.push(!le(a,i))}}return t}(o,t);return n.a.createElement(De,{active:e,currentCursorIndex:s,currentPanzoomIndex:i,currentSlideIndex:r,cursor:this.cursor,draws:o,drawsInterval:l,intl:a,metadata:this.metadata,panzooms:this.panzooms,slides:this.slides,thumbnails:this.thumbnails})}},{key:"renderScreenshare",value:function(e){if(!this.layout.hasScreenshare())return null;var a=this.props,t=a.intl,r=a.data.media;return n.a.createElement(qe,{active:e,intl:t,media:r,metadata:this.metadata,onPlayerReady:this.handlePlayerReady})}},{key:"renderContent",value:function(){if(this.layout.isSingle())return null;var e=this.state.time,a=function(e,a){var t=M.SCREENSHARE,r=M.PRESENTATION;return ae(e,a)?t:r}(this.screenshare,e);return n.a.createElement("div",{className:de()("content",this.layout.getContentStyle(this.state))},this.renderFullscreenButton(I),n.a.createElement("div",{className:"top-content"},this.renderPresentation(a===M.PRESENTATION),this.renderScreenshare(a===M.SCREENSHARE)),n.a.createElement("div",{className:de()("bottom-content",this.layout.getBottomContentStyle(this.state))},this.renderThumbnails()))}},{key:"renderBottomBar",value:function(){return n.a.createElement(Ke,null)}},{key:"render",value:function(){var e=this.props.intl;return n.a.createElement("div",{"aria-label":e.formatMessage(Xe.aria),className:de()("player-wrapper",this.layout.getPlayerStyle(this.state)),id:M.PLAYER},this.renderTopBar(),this.renderMedia(),this.renderApplication(),this.renderContent(),this.renderBottomBar(),this.renderModal())}}]),t}(r.PureComponent),aa=Object(h.c)({aria:{id:"loader.wrapper.aria",description:"Aria label for the loader wrapper"}}),ta=function(e){Object(u.a)(t,e);var a=Object(p.a)(t);function t(e){var r;Object(l.a)(this,t),r=a.call(this,e);var n=e.location,i=e.match;return r.counter=0,r.data={},r.layout=function(e){if(e){var a=e.search;if(a){var t=v.a.parse(a,{ignoreQueryPrefix:!0}).l;if(t)return t}}return null}(n),r.recordId=function(e){if(!B)return"local";if(e){var a=e.params;if(a&&a.recordId){var t=a.recordId;if(t.match(/^[a-z0-9]{40}-[0-9]{13}$/))return t}}return O.error("missing","recordId"),null}(i),r.time=function(e){if(e){var a=e.search;if(a){var t=v.a.parse(a,{ignoreQueryPrefix:!0}).t;if(t)return ie(t)}}return null}(n),r.state={error:r.recordId?null:m.error.NOT_FOUND,loaded:!1},r}return Object(c.a)(t,[{key:"componentDidMount",value:function(){if(this.recordId){var e=m.files.data;for(var a in e)this.fetchFile(this.recordId,e[a]);this.fetchMedia()}}},{key:"fetchFile",value:function(e,a){var t=this,r=H(e,a);fetch(r).then((function(e){if(!e.ok)return O.warn("loader",a,e),null;switch(O.debug(M.LOADER,a,e),K(a)){case"json":return e.json();case"html":case"svg":case"xml":return e.text();default:throw t.setState({error:m.error.BAD_REQUEST}),ue(a)}})).then((function(e){P(a,e).then((function(e){e&&O.debug(M.LOADER,"builded",a),t.data[V(a)]=e,t.update()})).catch((function(e){return t.setState({error:m.error.BAD_REQUEST})}))})).catch((function(e){return t.setState({error:m.error.NOT_FOUND})}))}},{key:"fetchMedia",value:function(){var e=this,a=m.medias.map((function(a){var t=H(e.recordId,"video/webcams.".concat(a));return fetch(t,{method:"HEAD"})}));Promise.all(a).then((function(a){var t=[];a.forEach((function(e){var a=e.ok,r=e.url;a&&(O.debug(M.LOADER,"media",e),t.push(m.medias.find((function(e){return r.endsWith(e)}))))})),t.length>0?(e.data.media=t,e.update()):e.setState({error:m.error.NOT_FOUND})}))}},{key:"update",value:function(){(this.counter=this.counter+1,this.counter>Object.keys(m.files.data).length)&&(this.state.loaded||this.setState({loaded:!0}))}},{key:"render",value:function(){var e=this.props.intl,a=this.state,t=a.error,r=a.loaded;return t?n.a.createElement(ue,{code:t}):r?n.a.createElement(ea,{data:this.data,intl:e,layout:this.layout,time:this.time}):n.a.createElement("div",{"aria-label":e.formatMessage(aa.aria),className:"loader-wrapper",id:M.LOADER},n.a.createElement("div",{className:"loading-dots"},n.a.createElement("div",{className:"first"}),n.a.createElement("div",{className:"second"}),n.a.createElement("div",{className:"third"})))}}]),t}(r.PureComponent),ra=Object(d.c)(ta),na=t(111),ia=t(16),sa=function(){return n.a.createElement(na.a,{basename:"/playback/presentation/2.3"},n.a.createElement(ia.c,null,n.a.createElement(ia.a,{path:"/:recordId",component:ra}),n.a.createElement(ia.a,{render:function(e){return n.a.createElement(ue,Object.assign({},e,{code:m.error.NOT_FOUND}))}})))},oa={ar:t(112),de:t(113),en:t(114),es:t(115),fa:t(116),fr:t(117),it:t(118),ja:t(119),pt:t(120),ru:t(121),tr:t(122)},la=["ar","fa"],ca=(t(189),function(){var e=navigator.language.split(/[-_]/)[0];return function(e){la.includes(e)?document.body.parentNode.setAttribute("dir","rtl"):document.body.parentNode.setAttribute("dir","ltr")}(e),oa[e]?e:m.locale.default}()),ua=oa,pa=function(){var e=new URLSearchParams(window.location.search),a=m.styles,t=a.url,r=a.default?"".concat(t,"/").concat(a.default,".css"):null;if(e&&e.has("s")){var n=a.valid,i=e.get("s");n.includes(i)&&(r="".concat(t,"/").concat(i,".css"))}return r}();s.a.render(n.a.createElement(o.a,{locale:ca,messages:ua[ca]},pa?n.a.createElement("link",{rel:"stylesheet",type:"text/css",href:pa}):null,B?n.a.createElement(sa,null):n.a.createElement(ra,null)),document.getElementById("root"))},46:function(e,a,t){},5:function(e){e.exports=JSON.parse('{"chat":{"align":"bottom","scroll":true},"controls":{"about":true,"fullscreen":true,"search":true,"section":true,"swap":true,"thumbnails":true},"error":{"BAD_REQUEST":400,"UNAUTHORIZED":401,"PAYMENT_REQUIRED":402,"FORBIDDEN":403,"NOT_FOUND":404,"METHOD_NOT_ALLOWED":405,"NOT_ACCEPTABLE":406,"PROXY_AUTHENTICATION_REQUIRED":407,"REQUEST_TIMEOUT":408,"CONFLICT":409,"GONE":410},"files":{"data":{"alternates":"presentation_text.json","captions":"captions.json","chat":"slides_new.xml","cursor":"cursor.xml","metadata":"metadata.xml","notes":"notes.html","panzooms":"panzooms.xml","polls":"polls.json","screenshare":"deskshare.xml","shapes":"shapes.svg"}},"locale":{"default":"en"},"medias":["mp4","webm"],"search":{"length":{"min":3,"max":32}},"shortcuts":{"enabled":true,"fullscreen":"K","section":"L","slides":{"next":"ArrowUp","previous":"ArrowDown"},"swap":"M","thumbnails":"N","video":{"backward":"ArrowLeft","forward":"ArrowRight","seconds":15}},"styles":{"default":null,"url":"/playback/presentation/2.3","valid":[]},"thumbnails":{"align":"center","scroll":true},"video":{"rps":10,"rates":[0.5,1,1.25,1.5,1.75,2]}}')},70:function(e,a,t){},72:function(e,a,t){}},[[127,1,2]]]);
//# sourceMappingURL=main.da842e6d.chunk.js.map