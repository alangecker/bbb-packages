(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ECMAScript = Package.ecmascript.ECMAScript;
var meteorInstall = Package.modules.meteorInstall;
var meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;
var Promise = Package.promise.Promise;

/* Package-scope variables */
var Base64;

var require = meteorInstall({"node_modules":{"meteor":{"base64":{"base64.js":function(require,exports,module){

////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                        //
// packages/base64/base64.js                                                              //
//                                                                                        //
////////////////////////////////////////////////////////////////////////////////////////////
                                                                                          //
module.export({
  Base64: () => Base64
});
// Base 64 encoding
const BASE_64_CHARS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
const BASE_64_VALS = Object.create(null);

const getChar = val => BASE_64_CHARS.charAt(val);

const getVal = ch => ch === '=' ? -1 : BASE_64_VALS[ch];

for (let i = 0; i < BASE_64_CHARS.length; i++) {
  BASE_64_VALS[getChar(i)] = i;
}

;

const encode = array => {
  if (typeof array === "string") {
    const str = array;
    array = newBinary(str.length);

    for (let i = 0; i < str.length; i++) {
      const ch = str.charCodeAt(i);

      if (ch > 0xFF) {
        throw new Error("Not ascii. Base64.encode can only take ascii strings.");
      }

      array[i] = ch;
    }
  }

  const answer = [];
  let a = null;
  let b = null;
  let c = null;
  let d = null;
  array.forEach((elm, i) => {
    switch (i % 3) {
      case 0:
        a = elm >> 2 & 0x3F;
        b = (elm & 0x03) << 4;
        break;

      case 1:
        b = b | elm >> 4 & 0xF;
        c = (elm & 0xF) << 2;
        break;

      case 2:
        c = c | elm >> 6 & 0x03;
        d = elm & 0x3F;
        answer.push(getChar(a));
        answer.push(getChar(b));
        answer.push(getChar(c));
        answer.push(getChar(d));
        a = null;
        b = null;
        c = null;
        d = null;
        break;
    }
  });

  if (a != null) {
    answer.push(getChar(a));
    answer.push(getChar(b));

    if (c == null) {
      answer.push('=');
    } else {
      answer.push(getChar(c));
    }

    if (d == null) {
      answer.push('=');
    }
  }

  return answer.join("");
}; // XXX This is a weird place for this to live, but it's used both by
// this package and 'ejson', and we can't put it in 'ejson' without
// introducing a circular dependency. It should probably be in its own
// package or as a helper in a package that both 'base64' and 'ejson'
// use.


const newBinary = len => {
  if (typeof Uint8Array === 'undefined' || typeof ArrayBuffer === 'undefined') {
    const ret = [];

    for (let i = 0; i < len; i++) {
      ret.push(0);
    }

    ret.$Uint8ArrayPolyfill = true;
    return ret;
  }

  return new Uint8Array(new ArrayBuffer(len));
};

const decode = str => {
  let len = Math.floor(str.length * 3 / 4);

  if (str.charAt(str.length - 1) == '=') {
    len--;

    if (str.charAt(str.length - 2) == '=') {
      len--;
    }
  }

  const arr = newBinary(len);
  let one = null;
  let two = null;
  let three = null;
  let j = 0;

  for (let i = 0; i < str.length; i++) {
    const c = str.charAt(i);
    const v = getVal(c);

    switch (i % 4) {
      case 0:
        if (v < 0) {
          throw new Error('invalid base64 string');
        }

        one = v << 2;
        break;

      case 1:
        if (v < 0) {
          throw new Error('invalid base64 string');
        }

        one = one | v >> 4;
        arr[j++] = one;
        two = (v & 0x0F) << 4;
        break;

      case 2:
        if (v >= 0) {
          two = two | v >> 2;
          arr[j++] = two;
          three = (v & 0x03) << 6;
        }

        break;

      case 3:
        if (v >= 0) {
          arr[j++] = three | v;
        }

        break;
    }
  }

  return arr;
};

const Base64 = {
  encode,
  decode,
  newBinary
};
////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json"
  ]
});

var exports = require("/node_modules/meteor/base64/base64.js");

/* Exports */
Package._define("base64", exports, {
  Base64: Base64
});

})();

//# sourceURL=meteor://ðŸ’»app/packages/base64.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvYmFzZTY0L2Jhc2U2NC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnQiLCJCYXNlNjQiLCJCQVNFXzY0X0NIQVJTIiwiQkFTRV82NF9WQUxTIiwiT2JqZWN0IiwiY3JlYXRlIiwiZ2V0Q2hhciIsInZhbCIsImNoYXJBdCIsImdldFZhbCIsImNoIiwiaSIsImxlbmd0aCIsImVuY29kZSIsImFycmF5Iiwic3RyIiwibmV3QmluYXJ5IiwiY2hhckNvZGVBdCIsIkVycm9yIiwiYW5zd2VyIiwiYSIsImIiLCJjIiwiZCIsImZvckVhY2giLCJlbG0iLCJwdXNoIiwiam9pbiIsImxlbiIsIlVpbnQ4QXJyYXkiLCJBcnJheUJ1ZmZlciIsInJldCIsIiRVaW50OEFycmF5UG9seWZpbGwiLCJkZWNvZGUiLCJNYXRoIiwiZmxvb3IiLCJhcnIiLCJvbmUiLCJ0d28iLCJ0aHJlZSIsImoiLCJ2Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUFBLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQUNDLFFBQU0sRUFBQyxNQUFJQTtBQUFaLENBQWQ7QUFBQTtBQUVBLE1BQU1DLGFBQWEsR0FBRyxrRUFBdEI7QUFFQSxNQUFNQyxZQUFZLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjLElBQWQsQ0FBckI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHQyxHQUFHLElBQUlMLGFBQWEsQ0FBQ00sTUFBZCxDQUFxQkQsR0FBckIsQ0FBdkI7O0FBQ0EsTUFBTUUsTUFBTSxHQUFHQyxFQUFFLElBQUlBLEVBQUUsS0FBSyxHQUFQLEdBQWEsQ0FBQyxDQUFkLEdBQWtCUCxZQUFZLENBQUNPLEVBQUQsQ0FBbkQ7O0FBRUEsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHVCxhQUFhLENBQUNVLE1BQWxDLEVBQTBDRCxDQUFDLEVBQTNDLEVBQStDO0FBQzdDUixjQUFZLENBQUNHLE9BQU8sQ0FBQ0ss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Ii9wYWNrYWdlcy9iYXNlNjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCYXNlIDY0IGVuY29kaW5nXG5cbmNvbnN0IEJBU0VfNjRfQ0hBUlMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcblxuY29uc3QgQkFTRV82NF9WQUxTID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuY29uc3QgZ2V0Q2hhciA9IHZhbCA9PiBCQVNFXzY0X0NIQVJTLmNoYXJBdCh2YWwpO1xuY29uc3QgZ2V0VmFsID0gY2ggPT4gY2ggPT09ICc9JyA/IC0xIDogQkFTRV82NF9WQUxTW2NoXTtcblxuZm9yIChsZXQgaSA9IDA7IGkgPCBCQVNFXzY0X0NIQVJTLmxlbmd0aDsgaSsrKSB7XG4gIEJBU0VfNjRfVkFMU1tnZXRDaGFyKGkpXSA9IGk7XG59O1xuXG5jb25zdCBlbmNvZGUgPSBhcnJheSA9PiB7XG4gIGlmICh0eXBlb2YgYXJyYXkgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCBzdHIgPSBhcnJheTtcbiAgICBhcnJheSA9IG5ld0JpbmFyeShzdHIubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2ggPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjaCA+IDB4RkYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiTm90IGFzY2lpLiBCYXNlNjQuZW5jb2RlIGNhbiBvbmx5IHRha2UgYXNjaWkgc3RyaW5ncy5cIik7XG4gICAgICB9XG5cbiAgICAgIGFycmF5W2ldID0gY2g7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYW5zd2VyID0gW107XG4gIGxldCBhID0gbnVsbDtcbiAgbGV0IGIgPSBudWxsO1xuICBsZXQgYyA9IG51bGw7XG4gIGxldCBkID0gbnVsbDtcblxuICBhcnJheS5mb3JFYWNoKChlbG0sIGkpID0+IHtcbiAgICBzd2l0Y2ggKGkgJSAzKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGEgPSAoZWxtID4+IDIpICYgMHgzRjtcbiAgICAgICAgYiA9IChlbG0gJiAweDAzKSA8PCA0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgYiA9IGIgfCAoZWxtID4+IDQpICYgMHhGO1xuICAgICAgICBjID0gKGVsbSAmIDB4RikgPDwgMjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGMgPSBjIHwgKGVsbSA+PiA2KSAmIDB4MDM7XG4gICAgICAgIGQgPSBlbG0gJiAweDNGO1xuICAgICAgICBhbnN3ZXIucHVzaChnZXRDaGFyKGEpKTtcbiAgICAgICAgYW5zd2VyLnB1c2goZ2V0Q2hhcihiKSk7XG4gICAgICAgIGFuc3dlci5wdXNoKGdldENoYXIoYykpO1xuICAgICAgICBhbnN3ZXIucHVzaChnZXRDaGFyKGQpKTtcbiAgICAgICAgYSA9IG51bGw7XG4gICAgICAgIGIgPSBudWxsO1xuICAgICAgICBjID0gbnVsbDtcbiAgICAgICAgZCA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGEgIT0gbnVsbCkge1xuICAgIGFuc3dlci5wdXNoKGdldENoYXIoYSkpO1xuICAgIGFuc3dlci5wdXNoKGdldENoYXIoYikpO1xuICAgIGlmIChjID09IG51bGwpIHtcbiAgICAgIGFuc3dlci5wdXNoKCc9Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuc3dlci5wdXNoKGdldENoYXIoYykpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoZCA9PSBudWxsKSB7XG4gICAgICBhbnN3ZXIucHVzaCgnPScpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhbnN3ZXIuam9pbihcIlwiKTtcbn07XG5cblxuXG4vLyBYWFggVGhpcyBpcyBhIHdlaXJkIHBsYWNlIGZvciB0aGlzIHRvIGxpdmUsIGJ1dCBpdCdzIHVzZWQgYm90aCBieVxuLy8gdGhpcyBwYWNrYWdlIGFuZCAnZWpzb24nLCBhbmQgd2UgY2FuJ3QgcHV0IGl0IGluICdlanNvbicgd2l0aG91dFxuLy8gaW50cm9kdWNpbmcgYSBjaXJjdWxhciBkZXBlbmRlbmN5LiBJdCBzaG91bGQgcHJvYmFibHkgYmUgaW4gaXRzIG93blxuLy8gcGFja2FnZSBvciBhcyBhIGhlbHBlciBpbiBhIHBhY2thZ2UgdGhhdCBib3RoICdiYXNlNjQnIGFuZCAnZWpzb24nXG4vLyB1c2UuXG5jb25zdCBuZXdCaW5hcnkgPSBsZW4gPT4ge1xuICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zdCByZXQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICByZXQucHVzaCgwKTtcbiAgICB9XG5cbiAgICByZXQuJFVpbnQ4QXJyYXlQb2x5ZmlsbCA9IHRydWU7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKGxlbikpO1xufTtcblxuY29uc3QgZGVjb2RlID0gc3RyID0+IHtcbiAgbGV0IGxlbiA9IE1hdGguZmxvb3IoKHN0ci5sZW5ndGggKiAzKSAvIDQpO1xuICBpZiAoc3RyLmNoYXJBdChzdHIubGVuZ3RoIC0gMSkgPT0gJz0nKSB7XG4gICAgbGVuLS07XG4gICAgaWYgKHN0ci5jaGFyQXQoc3RyLmxlbmd0aCAtIDIpID09ICc9Jykge1xuICAgICAgbGVuLS07XG4gICAgfVxuICB9XG4gIFxuICBjb25zdCBhcnIgPSBuZXdCaW5hcnkobGVuKTtcblxuICBsZXQgb25lID0gbnVsbDtcbiAgbGV0IHR3byA9IG51bGw7XG4gIGxldCB0aHJlZSA9IG51bGw7XG5cbiAgbGV0IGogPSAwO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYyA9IHN0ci5jaGFyQXQoaSk7XG4gICAgY29uc3QgdiA9IGdldFZhbChjKTtcbiAgICBzd2l0Y2ggKGkgJSA0KSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGlmICh2IDwgMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBiYXNlNjQgc3RyaW5nJyk7XG4gICAgICAgIH1cblxuICAgICAgICBvbmUgPSB2IDw8IDI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICBpZiAodiA8IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgYmFzZTY0IHN0cmluZycpO1xuICAgICAgICB9XG5cbiAgICAgICAgb25lID0gb25lIHwgKHYgPj4gNCk7XG4gICAgICAgIGFycltqKytdID0gb25lO1xuICAgICAgICB0d28gPSAodiAmIDB4MEYpIDw8IDQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBpZiAodiA+PSAwKSB7XG4gICAgICAgICAgdHdvID0gdHdvIHwgKHYgPj4gMik7XG4gICAgICAgICAgYXJyW2orK10gPSB0d287XG4gICAgICAgICAgdGhyZWUgPSAodiAmIDB4MDMpIDw8IDY7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaWYgKHYgPj0gMCkge1xuICAgICAgICAgIGFycltqKytdID0gdGhyZWUgfCB2O1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gYXJyO1xufTtcblxuZXhwb3J0IGNvbnN0IEJhc2U2NCA9IHsgZW5jb2RlLCBkZWNvZGUsIG5ld0JpbmFyeSB9O1xuIl19
