var require = meteorInstall({"imports":{"api":{"annotations":{"server":{"handlers":{"whiteboardAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardAnnotations.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardAnnotations
});

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let modifyWhiteboardAccess;
module.link("/imports/api/whiteboard-multi-user/server/modifiers/modifyWhiteboardAccess", {
  default(v) {
    modifyWhiteboardAccess = v;
  }

}, 2);
let clearAnnotations;
module.link("../modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 3);
let addAnnotation;
module.link("../modifiers/addAnnotation", {
  default(v) {
    addAnnotation = v;
  }

}, 4);

function handleWhiteboardAnnotations({
  header,
  body
}, meetingId) {
  check(header, Object);

  if (header.userId !== 'nodeJSapp') {
    return false;
  }

  check(meetingId, String);
  check(body, Object);
  const {
    annotations,
    whiteboardId,
    multiUser
  } = body;
  check(annotations, Array);
  check(whiteboardId, String);
  check(multiUser, Boolean);
  clearAnnotations(meetingId, whiteboardId);
  const annotationsAdded = [];

  _.each(annotations, annotation => {
    const {
      wbId,
      userId
    } = annotation;
    annotationsAdded.push(addAnnotation(meetingId, wbId, userId, annotation));
  });

  modifyWhiteboardAccess(meetingId, whiteboardId, multiUser);
  return annotationsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardCleared.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardCleared.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardCleared
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let clearAnnotations;
module.link("../modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 2);

function handleWhiteboardCleared({
  body
}, meetingId) {
  check(body, {
    userId: String,
    whiteboardId: String,
    fullClear: Boolean
  });
  const {
    whiteboardId,
    fullClear,
    userId
  } = body;

  if (fullClear) {
    AnnotationsStreamer(meetingId).emit('removed', {
      meetingId,
      whiteboardId
    });
    return clearAnnotations(meetingId, whiteboardId);
  }

  AnnotationsStreamer(meetingId).emit('removed', {
    meetingId,
    whiteboardId,
    userId
  });
  return clearAnnotations(meetingId, whiteboardId, userId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardSend.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardSend.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardSend
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let addAnnotation;
module.link("../modifiers/addAnnotation", {
  default(v) {
    addAnnotation = v;
  }

}, 2);
const ANNOTATION_PROCCESS_INTERVAL = 60;
let annotationsQueue = {};
let annotationsRecieverIsRunning = false;

const proccess = () => {
  if (!Object.keys(annotationsQueue).length) {
    annotationsRecieverIsRunning = false;
    return;
  }

  annotationsRecieverIsRunning = true;
  Object.keys(annotationsQueue).forEach(meetingId => {
    AnnotationsStreamer(meetingId).emit('added', {
      meetingId,
      annotations: annotationsQueue[meetingId]
    });
  });
  annotationsQueue = {};
  Meteor.setTimeout(proccess, ANNOTATION_PROCCESS_INTERVAL);
};

function handleWhiteboardSend({
  header,
  body
}, meetingId) {
  const userId = header.userId;
  const annotation = body.annotation;
  check(userId, String);
  check(annotation, Object);
  const whiteboardId = annotation.wbId;
  check(whiteboardId, String);

  if (!annotationsQueue.hasOwnProperty(meetingId)) {
    annotationsQueue[meetingId] = [];
  }

  annotationsQueue[meetingId].push({
    meetingId,
    whiteboardId,
    userId,
    annotation
  });
  if (!annotationsRecieverIsRunning) proccess();
  return addAnnotation(meetingId, whiteboardId, userId, annotation);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardUndo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardUndo.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardUndo
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let removeAnnotation;
module.link("../modifiers/removeAnnotation", {
  default(v) {
    removeAnnotation = v;
  }

}, 2);

function handleWhiteboardUndo({
  body
}, meetingId) {
  const whiteboardId = body.whiteboardId;
  const shapeId = body.annotationId;
  check(whiteboardId, String);
  check(shapeId, String);
  AnnotationsStreamer(meetingId).emit('removed', {
    meetingId,
    whiteboardId,
    shapeId
  });
  return removeAnnotation(meetingId, whiteboardId, shapeId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"clearWhiteboard.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/clearWhiteboard.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearWhiteboard
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function clearWhiteboard(whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ClearWhiteboardPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(whiteboardId, String);
  const payload = {
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendAnnotation.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendAnnotation
});
let sendAnnotationHelper;
module.link("./sendAnnotationHelper", {
  default(v) {
    sendAnnotationHelper = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);

function sendAnnotation(annotation) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  sendAnnotationHelper(annotation, meetingId, requesterUserId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendAnnotationHelper.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendAnnotationHelper.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendAnnotationHelper
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function sendAnnotationHelper(annotation, meetingId, requesterUserId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendWhiteboardAnnotationPubMsg';
  const whiteboardId = annotation.wbId;
  check(annotation, Object);
  check(whiteboardId, String);

  if (annotation.annotationType === 'text') {
    check(annotation, {
      id: String,
      status: String,
      annotationType: String,
      annotationInfo: {
        x: Number,
        y: Number,
        fontColor: Number,
        calcedFontSize: Number,
        textBoxWidth: Number,
        text: String,
        textBoxHeight: Number,
        id: String,
        whiteboardId: String,
        status: String,
        fontSize: Number,
        dataPoints: String,
        type: String
      },
      wbId: String,
      userId: String,
      position: Number
    });
  } else {
    check(annotation, {
      id: String,
      status: String,
      annotationType: String,
      annotationInfo: {
        color: Number,
        thickness: Number,
        points: Array,
        id: String,
        whiteboardId: String,
        status: String,
        type: String,
        dimensions: Match.Maybe([Number])
      },
      wbId: String,
      userId: String,
      position: Number
    });
  }

  const payload = {
    annotation
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendBulkAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendBulkAnnotations.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendBulkAnnotations
});
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 0);
let sendAnnotationHelper;
module.link("./sendAnnotationHelper", {
  default(v) {
    sendAnnotationHelper = v;
  }

}, 1);

function sendBulkAnnotations(payload) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  payload.forEach(annotation => sendAnnotationHelper(annotation, meetingId, requesterUserId));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"undoAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/undoAnnotation.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => undoAnnotation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function undoAnnotation(whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UndoWhiteboardPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(whiteboardId, String);
  const payload = {
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/addAnnotation.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 2);
let addAnnotationQuery;
module.link("/imports/api/annotations/addAnnotation", {
  default(v) {
    addAnnotationQuery = v;
  }

}, 3);

function addAnnotation(meetingId, whiteboardId, userId, annotation) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(annotation, Object);
  const query = addAnnotationQuery(meetingId, whiteboardId, userId, annotation);

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding annotation to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added annotation id=${annotation.id} whiteboard=${whiteboardId}`);
    }

    return true;
  };

  return Annotations.upsert(query.selector, query.modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/clearAnnotations.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearAnnotations
});
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearAnnotations(meetingId, whiteboardId, userId) {
  const selector = {};

  if (meetingId) {
    selector.meetingId = meetingId;
  }

  if (whiteboardId) {
    selector.whiteboardId = whiteboardId;
  }

  if (userId) {
    selector.userId = userId;
  }

  const cb = err => {
    if (err) {
      return Logger.error(`Removing Annotations from collection: ${err}`);
    }

    if (userId) {
      return Logger.info(`Cleared Annotations for userId=${userId} where whiteboard=${whiteboardId}`);
    }

    if (whiteboardId) {
      return Logger.info(`Cleared Annotations for whiteboard=${whiteboardId}`);
    }

    if (meetingId) {
      return Logger.info(`Cleared Annotations (${meetingId})`);
    }

    return Logger.info('Cleared Annotations (all)');
  };

  return Annotations.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/removeAnnotation.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function removeAnnotation(meetingId, whiteboardId, shapeId) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(shapeId, String);
  const selector = {
    meetingId,
    whiteboardId,
    id: shapeId
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Removing annotation from collection: ${err}`);
    }

    return Logger.info(`Removed annotation id=${shapeId} whiteboard=${whiteboardId}`);
  };

  return Annotations.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleWhiteboardCleared;
module.link("./handlers/whiteboardCleared", {
  default(v) {
    handleWhiteboardCleared = v;
  }

}, 2);
let handleWhiteboardUndo;
module.link("./handlers/whiteboardUndo", {
  default(v) {
    handleWhiteboardUndo = v;
  }

}, 3);
let handleWhiteboardSend;
module.link("./handlers/whiteboardSend", {
  default(v) {
    handleWhiteboardSend = v;
  }

}, 4);
let handleWhiteboardAnnotations;
module.link("./handlers/whiteboardAnnotations", {
  default(v) {
    handleWhiteboardAnnotations = v;
  }

}, 5);
RedisPubSub.on('ClearWhiteboardEvtMsg', handleWhiteboardCleared);
RedisPubSub.on('UndoWhiteboardEvtMsg', handleWhiteboardUndo);
RedisPubSub.on('SendWhiteboardAnnotationEvtMsg', handleWhiteboardSend);
RedisPubSub.on('GetWhiteboardAnnotationsRespMsg', processForHTML5ServerOnly(handleWhiteboardAnnotations));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let undoAnnotation;
module.link("./methods/undoAnnotation", {
  default(v) {
    undoAnnotation = v;
  }

}, 1);
let clearWhiteboard;
module.link("./methods/clearWhiteboard", {
  default(v) {
    clearWhiteboard = v;
  }

}, 2);
let sendAnnotation;
module.link("./methods/sendAnnotation", {
  default(v) {
    sendAnnotation = v;
  }

}, 3);
let sendBulkAnnotations;
module.link("./methods/sendBulkAnnotations", {
  default(v) {
    sendBulkAnnotations = v;
  }

}, 4);
Meteor.methods({
  undoAnnotation,
  clearWhiteboard,
  sendAnnotation,
  sendBulkAnnotations
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function annotations() {
  if (!this.userId) {
    return Annotations.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Annotations for ${meetingId} ${requesterUserId}`);
  return Annotations.find({
    meetingId
  });
}

function publish(...args) {
  const boundAnnotations = annotations.bind(this);
  return boundAnnotations(...args);
}

Meteor.publish('annotations', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"streamer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/streamer.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  removeAnnotationsStreamer: () => removeAnnotationsStreamer,
  addAnnotationsStreamer: () => addAnnotationsStreamer,
  default: () => get
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

function removeAnnotationsStreamer(meetingId) {
  Logger.info(`Removing Annotations streamer object for meeting ${meetingId}`);
  delete Meteor.StreamerCentral.instances[`annotations-${meetingId}`];
}

function addAnnotationsStreamer(meetingId) {
  const streamer = new Meteor.Streamer(`annotations-${meetingId}`, {
    retransmit: false
  });
  streamer.allowRead(function allowRead() {
    if (!this.userId) return false;
    return this.userId && this.userId.includes(meetingId);
  });
  streamer.allowWrite(function allowWrite() {
    return false;
  });
}

function get(meetingId) {
  return Meteor.StreamerCentral.instances[`annotations-${meetingId}`];
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"addAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/addAnnotation.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
const ANNOTATION_TYPE_TEXT = 'text';
const ANNOTATION_TYPE_PENCIL = 'pencil'; // line, triangle, ellipse, rectangle

function handleCommonAnnotation(meetingId, whiteboardId, userId, annotation) {
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const selector = {
    meetingId,
    id,
    userId
  };
  const modifier = {
    $set: {
      whiteboardId,
      meetingId,
      id,
      status,
      annotationType,
      annotationInfo,
      wbId
    },
    $setOnInsert: {
      position
    },
    $inc: {
      version: 1
    }
  };
  return {
    selector,
    modifier
  };
}

function handleTextUpdate(meetingId, whiteboardId, userId, annotation) {
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const selector = {
    meetingId,
    id,
    userId
  };
  annotationInfo.text = annotationInfo.text.replace(/[\r]/g, '\n');
  const modifier = {
    $set: {
      whiteboardId,
      meetingId,
      id,
      status,
      annotationType,
      annotationInfo,
      wbId
    },
    $setOnInsert: {
      position
    },
    $inc: {
      version: 1
    }
  };
  return {
    selector,
    modifier
  };
}

function handlePencilUpdate(meetingId, whiteboardId, userId, annotation) {
  const DRAW_START = 'DRAW_START';
  const DRAW_UPDATE = 'DRAW_UPDATE';
  const DRAW_END = 'DRAW_END';
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const baseSelector = {
    meetingId,
    id,
    userId,
    whiteboardId
  };
  let baseModifier;

  switch (status) {
    case DRAW_START:
      // on start we split the points
      // create the 'pencil_base'
      // TODO: find and removed unused props (chunks, version, etc)
      baseModifier = {
        $set: {
          id,
          userId,
          meetingId,
          whiteboardId,
          position,
          status,
          annotationType,
          annotationInfo,
          wbId,
          version: 1
        }
      };
      break;

    case DRAW_UPDATE:
      baseModifier = {
        $push: {
          'annotationInfo.points': {
            $each: annotationInfo.points
          }
        },
        $set: {
          status
        },
        $inc: {
          version: 1
        }
      };
      break;

    case DRAW_END:
      // Updating the main pencil object with the final info
      baseModifier = {
        $set: {
          whiteboardId,
          meetingId,
          id,
          status,
          annotationType,
          annotationInfo,
          wbId,
          position
        },
        $inc: {
          version: 1
        }
      };
      break;

    default:
      break;
  }

  return {
    selector: baseSelector,
    modifier: baseModifier
  };
}

function addAnnotation(meetingId, whiteboardId, userId, annotation) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(annotation, Object);

  switch (annotation.annotationType) {
    case ANNOTATION_TYPE_TEXT:
      return handleTextUpdate(meetingId, whiteboardId, userId, annotation);

    case ANNOTATION_TYPE_PENCIL:
      return handlePencilUpdate(meetingId, whiteboardId, userId, annotation);

    default:
      return handleCommonAnnotation(meetingId, whiteboardId, userId, annotation);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Annotations = new Mongo.Collection('annotations');

if (Meteor.isServer) {
  // types of queries for the annotations  (Total):
  // 1. meetingId, id, userId               ( 8 )
  // 2. meetingId, id, userId, whiteboardId ( 1 )
  // 3. meetingId                           ( 1 )
  // 4. meetingId, whiteboardId             ( 1 )
  // 5. meetingId, whiteboardId, id         ( 1 )
  // 6. meetingId, whiteboardId, userId     ( 1 )
  // These 2 indexes seem to cover all of the cases
  Annotations._ensureIndex({
    id: 1
  });

  Annotations._ensureIndex({
    meetingId: 1,
    whiteboardId: 1,
    userId: 1
  });
}

module.exportDefault(Annotations);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"breakouts":{"server":{"handlers":{"breakoutClosed.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutClosed.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutClosed
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearBreakouts;
module.link("../modifiers/clearBreakouts", {
  default(v) {
    clearBreakouts = v;
  }

}, 1);

function handleBreakoutClosed({
  body
}) {
  const {
    breakoutId
  } = body;
  check(breakoutId, String);
  return clearBreakouts(breakoutId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"breakoutJoinURL.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutJoinURL.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutJoinURL
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 2);

function handleBreakoutJoinURL({
  body
}) {
  const {
    redirectToHtml5JoinURL,
    userId,
    breakoutId
  } = body;
  check(redirectToHtml5JoinURL, String);
  const selector = {
    breakoutId
  };
  const modifier = {
    $push: {
      users: {
        userId,
        redirectToHtml5JoinURL,
        insertedTime: new Date().getTime()
      }
    }
  };

  const cb = (cbErr, numChanged) => {
    if (cbErr) {
      return Logger.error(`Adding breakout to collection: ${cbErr}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added breakout id=${breakoutId}`);
    }

    return Logger.info(`Upserted breakout id=${breakoutId}`);
  };

  return Breakouts.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"breakoutStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutStarted.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutRoomStarted
});
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function handleBreakoutRoomStarted({
  body
}, meetingId) {
  // 0 seconds default breakout time, forces use of real expiration time
  const DEFAULT_TIME_REMAINING = 0;
  const {
    parentMeetingId,
    breakout
  } = body;
  const {
    breakoutId
  } = breakout;
  check(meetingId, String);
  const selector = {
    breakoutId
  };
  const modifier = {
    $set: Object.assign({
      users: [],
      joinedUsers: []
    }, {
      timeRemaining: DEFAULT_TIME_REMAINING
    }, {
      parentMeetingId
    }, flat(breakout))
  };

  const cb = err => {
    if (err) {
      return Logger.error(`updating breakout: ${err}`);
    }

    return Logger.info('Updated timeRemaining and externalMeetingId ' + `for breakout id=${breakoutId}`);
  };

  return Breakouts.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"joinedUsersChanged.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/joinedUsersChanged.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => joinedUsersChanged
});
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function joinedUsersChanged({
  body
}) {
  check(body, Object);
  const {
    parentId,
    breakoutId,
    users
  } = body;
  check(parentId, String);
  check(breakoutId, String);
  check(users, Array);
  const selector = {
    parentMeetingId: parentId,
    breakoutId
  };
  const usersMapped = users.map(user => ({
    userId: user.id,
    name: user.name
  }));
  const modifier = {
    $set: {
      joinedUsers: usersMapped
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`updating joined users in breakout: ${err}`);
    }

    return Logger.info('Updated joined users ' + `in breakout id=${breakoutId}`);
  };

  Breakouts.find(selector);
  Breakouts.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateTimeRemaining.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/updateTimeRemaining.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUpdateTimeRemaining
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 2);

function handleUpdateTimeRemaining({
  body
}, meetingId) {
  const {
    timeRemaining
  } = body;
  check(meetingId, String);
  check(timeRemaining, Number);
  const selector = {
    parentMeetingId: meetingId
  };
  const modifier = {
    $set: {
      timeRemaining
    }
  };
  const options = {
    multi: true
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating breakouts: ${err}`);
    }

    return Logger.info('Updated breakout time remaining for breakouts ' + `where parentMeetingId=${meetingId}`);
  };

  return Breakouts.update(selector, modifier, options, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createBreakout.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/createBreakout.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createBreakoutRoom
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function createBreakoutRoom(rooms, durationInMinutes, record = false) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const eventName = 'CreateBreakoutRoomsCmdMsg';
  if (rooms.length > 8) return Logger.info(`Attempt to create breakout rooms with invalid number of rooms in meeting id=${meetingId}`);
  const payload = {
    record,
    durationInMinutes,
    rooms,
    meetingId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"endAllBreakouts.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/endAllBreakouts.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => endAllBreakouts
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function endAllBreakouts() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const eventName = 'EndAllBreakoutRoomsMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, null);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"requestJoinURL.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/requestJoinURL.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => requestJoinURL
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function requestJoinURL({
  breakoutId,
  userId: userIdToInvite
}) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userId = userIdToInvite || requesterUserId;
  const eventName = 'RequestBreakoutJoinURLReqMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, {
    meetingId,
    breakoutId,
    userId
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearBreakouts.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/modifiers/clearBreakouts.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearBreakouts
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 1);

function clearBreakouts(breakoutId) {
  if (breakoutId) {
    const selector = {
      breakoutId
    };
    return Breakouts.remove(selector, () => {
      Logger.info(`Cleared Breakouts (${breakoutId})`);
    });
  }

  return Breakouts.remove({}, () => {
    Logger.info('Cleared Breakouts (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/eventHandlers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleBreakoutJoinURL;
module.link("./handlers/breakoutJoinURL", {
  default(v) {
    handleBreakoutJoinURL = v;
  }

}, 1);
let handleBreakoutStarted;
module.link("./handlers/breakoutStarted", {
  default(v) {
    handleBreakoutStarted = v;
  }

}, 2);
let handleUpdateTimeRemaining;
module.link("./handlers/updateTimeRemaining", {
  default(v) {
    handleUpdateTimeRemaining = v;
  }

}, 3);
let handleBreakoutClosed;
module.link("./handlers/breakoutClosed", {
  default(v) {
    handleBreakoutClosed = v;
  }

}, 4);
let joinedUsersChanged;
module.link("./handlers/joinedUsersChanged", {
  default(v) {
    joinedUsersChanged = v;
  }

}, 5);
RedisPubSub.on('BreakoutRoomStartedEvtMsg', handleBreakoutStarted);
RedisPubSub.on('BreakoutRoomJoinURLEvtMsg', handleBreakoutJoinURL);
RedisPubSub.on('RequestBreakoutJoinURLRespMsg', handleBreakoutJoinURL);
RedisPubSub.on('BreakoutRoomsTimeRemainingUpdateEvtMsg', handleUpdateTimeRemaining);
RedisPubSub.on('BreakoutRoomEndedEvtMsg', handleBreakoutClosed);
RedisPubSub.on('UpdateBreakoutUsersEvtMsg', joinedUsersChanged);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/index.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createBreakoutRoom;
module.link("/imports/api/breakouts/server/methods/createBreakout", {
  default(v) {
    createBreakoutRoom = v;
  }

}, 1);
let requestJoinURL;
module.link("./methods/requestJoinURL", {
  default(v) {
    requestJoinURL = v;
  }

}, 2);
let endAllBreakouts;
module.link("./methods/endAllBreakouts", {
  default(v) {
    endAllBreakouts = v;
  }

}, 3);
Meteor.methods({
  requestJoinURL,
  createBreakoutRoom,
  endAllBreakouts
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/publishers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function breakouts(role) {
  if (!this.userId) {
    return Breakouts.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Breakouts for ${meetingId} ${requesterUserId}`);
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    const presenterSelector = {
      $or: [{
        parentMeetingId: meetingId
      }, {
        breakoutId: meetingId
      }]
    };
    return Breakouts.find(presenterSelector);
  }

  const selector = {
    $or: [{
      parentMeetingId: meetingId,
      freeJoin: true
    }, {
      parentMeetingId: meetingId,
      'users.userId': requesterUserId
    }, {
      breakoutId: meetingId
    }]
  };
  return Breakouts.find(selector);
}

function publish(...args) {
  const boundBreakouts = breakouts.bind(this);
  return boundBreakouts(...args);
}

Meteor.publish('breakouts', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/index.js                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Breakouts = new Mongo.Collection('breakouts');

if (Meteor.isServer) {
  // types of queries for the breakouts:
  // 1. breakoutId ( handleJoinUrl, roomStarted, clearBreakouts )
  // 2. parentMeetingId ( updateTimeRemaining )
  Breakouts._ensureIndex({
    breakoutId: 1
  });

  Breakouts._ensureIndex({
    parentMeetingId: 1
  });
}

module.exportDefault(Breakouts);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"captions":{"server":{"handlers":{"padCreate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/handlers/padCreate.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadCreate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let fetchReadOnlyPadId;
module.link("/imports/api/captions/server/methods/fetchReadOnlyPadId", {
  default(v) {
    fetchReadOnlyPadId = v;
  }

}, 1);

function handlePadCreate({
  body
}) {
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  fetchReadOnlyPadId(id);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"padUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/handlers/padUpdate.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let getDataFromChangeset;
module.link("/imports/api/captions/server/helpers", {
  getDataFromChangeset(v) {
    getDataFromChangeset = v;
  }

}, 1);
let updatePad;
module.link("/imports/api/captions/server/modifiers/updatePad", {
  default(v) {
    updatePad = v;
  }

}, 2);

function handlePadUpdate({
  body
}) {
  const {
    pad,
    revs,
    changeset
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  check(changeset, String);
  check(revs, Number);
  const data = getDataFromChangeset(changeset);

  if (data !== '') {
    updatePad(id, data, revs);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"appendText.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/appendText.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => appendText
});
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let generatePadId;
module.link("/imports/api/captions/server/helpers", {
  generatePadId(v) {
    generatePadId = v;
  }

}, 3);
let appendTextURL;
module.link("/imports/api/note/server/helpers", {
  appendTextURL(v) {
    appendTextURL = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function appendText(text, locale) {
  const {
    meetingId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(text, String);
  check(locale, String);
  const padId = generatePadId(meetingId, locale);
  axios({
    method: 'get',
    url: appendTextURL(padId, text),
    responseType: 'json'
  }).then(response => {
    const {
      status
    } = response;

    if (status === 200) {
      Logger.verbose(`Appended text for padId:${padId}`);
    }
  }).catch(error => Logger.error(`Could not append captions for padId=${padId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"createCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/createCaptions.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createCaptions
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let generatePadId, isEnabled, getLocalesURL;
module.link("/imports/api/captions/server/helpers", {
  generatePadId(v) {
    generatePadId = v;
  },

  isEnabled(v) {
    isEnabled = v;
  },

  getLocalesURL(v) {
    getLocalesURL = v;
  }

}, 2);
let addCaption;
module.link("/imports/api/captions/server/modifiers/addCaption", {
  default(v) {
    addCaption = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function createCaptions(meetingId) {
  // Avoid captions creation if this feature is disabled
  if (!isEnabled()) {
    Logger.warn(`Captions are disabled for ${meetingId}`);
    return;
  }

  check(meetingId, String);
  axios({
    method: 'get',
    url: getLocalesURL(),
    responseType: 'json'
  }).then(response => {
    const {
      status
    } = response;

    if (status !== 200) {
      Logger.error(`Could not get locales info for ${meetingId} ${status}`);
    }

    const locales = response.data;
    locales.forEach(locale => {
      const padId = generatePadId(meetingId, locale.locale);
      addCaption(meetingId, padId, locale);
    });
  }).catch(error => Logger.error(`Could not create captions for ${meetingId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"editCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/editCaptions.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => editCaptions
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

const getIndex = (data, length) => length - data.length;

function editCaptions(padId, data) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EditCaptionHistoryPubMsg';
  check(padId, String);
  check(data, String);
  const pad = Captions.findOne({
    padId
  });
  if (!pad) return Logger.error(`Editing captions history: ${padId}`);
  const {
    meetingId,
    ownerId,
    locale,
    length
  } = pad;
  check(meetingId, String);
  check(ownerId, String);
  check(locale, {
    locale: String,
    name: String
  });
  check(length, Number);
  const index = getIndex(data, length);
  const payload = {
    startIndex: index,
    localeCode: locale.locale,
    locale: locale.name,
    endIndex: index,
    text: data
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, ownerId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"fetchReadOnlyPadId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/fetchReadOnlyPadId.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => fetchReadOnlyPadId
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let getReadOnlyIdURL, getDataFromResponse;
module.link("/imports/api/note/server/helpers", {
  getReadOnlyIdURL(v) {
    getReadOnlyIdURL = v;
  },

  getDataFromResponse(v) {
    getDataFromResponse = v;
  }

}, 2);
let updateReadOnlyPadId;
module.link("/imports/api/captions/server/modifiers/updateReadOnlyPadId", {
  default(v) {
    updateReadOnlyPadId = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function fetchReadOnlyPadId(padId) {
  check(padId, String);
  const readOnlyURL = getReadOnlyIdURL(padId);
  axios({
    method: 'get',
    url: readOnlyURL,
    responseType: 'json'
  }).then(response => {
    const readOnlyPadId = getDataFromResponse(response.data, 'readOnlyID');

    if (readOnlyPadId) {
      updateReadOnlyPadId(padId, readOnlyPadId);
    } else {
      Logger.error(`Could not get pad readOnlyID for ${padId}`);
    }
  }).catch(error => Logger.error(`Could not get pad readOnlyID for ${padId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"takeOwnership.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/takeOwnership.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => takeOwnership
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let updateOwnerId;
module.link("/imports/api/captions/server/modifiers/updateOwnerId", {
  default(v) {
    updateOwnerId = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function takeOwnership(locale) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(locale, String);
  const pad = Captions.findOne({
    meetingId,
    padId: {
      $regex: `_captions_${locale}$`
    }
  });

  if (pad) {
    updateOwnerId(meetingId, requesterUserId, pad.padId);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateOwner.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/updateOwner.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => editCaptions
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

function editCaptions(meetingId, userId, padId) {
  // TODO
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UpdateCaptionOwnerPubMsg';
  check(meetingId, String);
  check(userId, String);
  check(padId, String);
  const pad = Captions.findOne({
    meetingId,
    padId
  });
  if (!pad) return Logger.error(`Editing captions owner: ${padId}`);
  const {
    locale
  } = pad;
  check(locale, {
    locale: String,
    name: String
  });
  const payload = {
    ownerId: userId,
    locale: locale.name,
    localeCode: locale.locale
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addCaption.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/addCaption.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addCaption
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addCaption(meetingId, padId, locale) {
  check(meetingId, String);
  check(padId, String);
  check(locale, {
    locale: String,
    name: String
  });
  const selector = {
    meetingId,
    padId
  };
  const modifier = {
    meetingId,
    padId,
    locale,
    ownerId: '',
    readOnlyPadId: '',
    data: '',
    revs: 0,
    length: 0
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding caption to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.verbose(`Added caption locale=${locale.locale} meeting=${meetingId}`);
    }

    return Logger.verbose(`Upserted caption locale=${locale.locale} meeting=${meetingId}`);
  };

  return Captions.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/clearCaptions.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearCaptions
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearCaptions(meetingId) {
  if (meetingId) {
    return Captions.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Captions (${meetingId})`);
    });
  }

  return Captions.remove({}, () => {
    Logger.info('Cleared Captions (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateOwnerId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updateOwnerId.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateOwnerId
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let updateOwner;
module.link("/imports/api/captions/server/methods/updateOwner", {
  default(v) {
    updateOwner = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function updateOwnerId(meetingId, userId, padId) {
  check(meetingId, String);
  check(userId, String);
  check(padId, String);
  const selector = {
    meetingId,
    padId
  };
  const modifier = {
    $set: {
      ownerId: userId
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating captions pad: ${err}`);
    }

    updateOwner(meetingId, userId, padId);
    return Logger.verbose(`Update captions pad=${padId} ownerId=${userId}`);
  };

  return Captions.update(selector, modifier, {
    multi: true
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updatePad.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updatePad.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updatePad
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let editCaptions;
module.link("/imports/api/captions/server/methods/editCaptions", {
  default(v) {
    editCaptions = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function updatePad(padId, data, revs) {
  check(padId, String);
  check(data, String);
  check(revs, Number);
  const selector = {
    padId
  };
  const modifier = {
    $set: {
      data,
      revs
    },
    $inc: {
      length: data.length
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating captions pad: ${err}`);
    }

    editCaptions(padId, data, revs);
    return Logger.verbose(`Update captions pad=${padId} revs=${revs}`);
  };

  return Captions.update(selector, modifier, {
    multi: true
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateReadOnlyPadId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updateReadOnlyPadId.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateReadOnlyPadId
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function updateReadOnlyPadId(padId, readOnlyPadId) {
  check(padId, String);
  check(readOnlyPadId, String);
  const selector = {
    padId
  };
  const modifier = {
    $set: {
      readOnlyPadId
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Adding readOnlyPadId captions pad: ${err}`);
    }

    return Logger.verbose(`Added readOnlyPadId captions pad=${padId} readOnlyPadId=${readOnlyPadId}`);
  };

  return Captions.update(selector, modifier, {
    multi: true
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/eventHandlers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForCaptionsPadOnly;
module.link("/imports/api/captions/server/helpers", {
  processForCaptionsPadOnly(v) {
    processForCaptionsPadOnly = v;
  }

}, 1);
let handlePadCreate;
module.link("./handlers/padCreate", {
  default(v) {
    handlePadCreate = v;
  }

}, 2);
let handlePadUpdate;
module.link("./handlers/padUpdate", {
  default(v) {
    handlePadUpdate = v;
  }

}, 3);
RedisPubSub.on('PadCreateSysMsg', processForCaptionsPadOnly(handlePadCreate));
RedisPubSub.on('PadUpdateSysMsg', processForCaptionsPadOnly(handlePadUpdate));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/helpers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  generatePadId: () => generatePadId,
  processForCaptionsPadOnly: () => processForCaptionsPadOnly,
  isEnabled: () => isEnabled,
  getLocalesURL: () => getLocalesURL,
  getDataFromChangeset: () => getDataFromChangeset
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let hashFNV32a;
module.link("/imports/api/common/server/helpers", {
  hashFNV32a(v) {
    hashFNV32a = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
const CAPTIONS_CONFIG = Meteor.settings.public.captions;
const BASENAME = Meteor.settings.public.app.basename;
const APP = Meteor.settings.private.app;
const LOCALES_URL = `http://${APP.host}:${APP.port}${BASENAME}${APP.localesUrl}`;
const CAPTIONS = '_captions_';
const TOKEN = '$'; // Captions padId should look like: {padId}_captions_{locale}

const generatePadId = (meetingId, locale) => {
  const padId = `${hashFNV32a(meetingId, true)}${CAPTIONS}${locale}`;
  return padId;
};

const isCaptionsPad = padId => {
  const splitPadId = padId.split(CAPTIONS);
  return splitPadId.length === 2;
};

const getDataFromChangeset = changeset => {
  const splitChangeset = changeset.split(TOKEN);

  if (splitChangeset.length > 1) {
    splitChangeset.shift();
    return splitChangeset.join(TOKEN);
  }

  return '';
};

const isEnabled = () => CAPTIONS_CONFIG.enabled;

const getLocalesURL = () => LOCALES_URL;

const processForCaptionsPadOnly = fn => (message, ...args) => {
  const {
    body
  } = message;
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  if (isCaptionsPad(id)) return fn(message, ...args);
  return () => {};
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/index.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let takeOwnership;
module.link("/imports/api/captions/server/methods/takeOwnership", {
  default(v) {
    takeOwnership = v;
  }

}, 1);
let appendText;
module.link("/imports/api/captions/server/methods/appendText", {
  default(v) {
    appendText = v;
  }

}, 2);
Meteor.methods({
  takeOwnership,
  appendText
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/publishers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function captions() {
  if (!this.userId) {
    return Captions.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Captions for ${meetingId}`);
  return Captions.find({
    meetingId
  });
}

function publish(...args) {
  const boundCaptions = captions.bind(this);
  return boundCaptions(...args);
}

Meteor.publish('captions', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/index.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Captions = new Mongo.Collection('captions');

if (Meteor.isServer) {
  Captions._ensureIndex({
    meetingId: 1,
    padId: 1
  });
}

module.exportDefault(Captions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cursor":{"server":{"handlers":{"cursorUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/handlers/cursorUpdate.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleCursorUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let CursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  default(v) {
    CursorStreamer = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 3);
const {
  streamerLog
} = Meteor.settings.private.serverLog;
const CURSOR_PROCCESS_INTERVAL = 30;
const cursorQueue = {};

const proccess = _.throttle(() => {
  try {
    Object.keys(cursorQueue).forEach(meetingId => {
      try {
        const cursors = cursorQueue[meetingId];
        delete cursorQueue[meetingId];
        CursorStreamer(meetingId).emit('message', {
          meetingId,
          cursors
        });

        if (streamerLog) {
          Logger.debug(`CursorUpdate process for meeting ${meetingId} has finished`);
        }
      } catch (error) {
        Logger.error(`Error while trying to send cursor streamer data for meeting ${meetingId}. ${error}`);
      }
    });
  } catch (error) {
    Logger.error(`Error while processing cursor queue. ${error}`);
  }
}, CURSOR_PROCCESS_INTERVAL);

function handleCursorUpdate({
  header,
  body
}, meetingId) {
  const {
    userId
  } = header;
  check(body, Object);
  check(meetingId, String);
  check(userId, String);

  if (!cursorQueue[meetingId]) {
    cursorQueue[meetingId] = {};
  } // overwrite since we dont care about the other positions


  cursorQueue[meetingId][userId] = body;
  proccess();
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"publishCursorUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/methods/publishCursorUpdate.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishCursorUpdate
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);

function publishCursorUpdate(meetingId, requesterUserId, payload) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendCursorPositionPubMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/eventHandlers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleCursorUpdate;
module.link("./handlers/cursorUpdate", {
  default(v) {
    handleCursorUpdate = v;
  }

}, 1);
RedisPubSub.on('SendCursorPositionEvtMsg', handleCursorUpdate);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/methods.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let publishCursorUpdate;
module.link("./methods/publishCursorUpdate", {
  default(v) {
    publishCursorUpdate = v;
  }

}, 1);
Meteor.methods({
  publishCursorUpdate
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"streamer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/streamer.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  removeCursorStreamer: () => removeCursorStreamer,
  addCursorStreamer: () => addCursorStreamer,
  default: () => get
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let publishCursorUpdate;
module.link("./methods/publishCursorUpdate", {
  default(v) {
    publishCursorUpdate = v;
  }

}, 1);
const {
  streamerLog
} = Meteor.settings.private.serverLog;

function removeCursorStreamer(meetingId) {
  Logger.info(`Removing Cursor streamer object for meeting ${meetingId}`);
  delete Meteor.StreamerCentral.instances[`cursor-${meetingId}`];
}

function addCursorStreamer(meetingId) {
  const streamer = new Meteor.Streamer(`cursor-${meetingId}`, {
    retransmit: false
  });

  if (streamerLog) {
    Logger.debug(`Cursor streamer created for meeting ${meetingId}`);
  }

  streamer.allowRead(function allowRead() {
    if (streamerLog) {
      Logger.debug(`Cursor streamer called allowRead for user ${this.userId} in meeting ${meetingId}`);
    }

    return this.userId && this.userId.includes(meetingId);
  });
  streamer.allowWrite(function allowWrite() {
    return this.userId && this.userId.includes(meetingId);
  });
  streamer.on('publish', message => {
    publishCursorUpdate(meetingId, message.userId, message.payload);
  });
}

function get(meetingId) {
  return Meteor.StreamerCentral.instances[`cursor-${meetingId}`];
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"external-videos":{"server":{"methods":{"destroyExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/destroyExternalVideo.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => destroyExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function destroyExternalVideo(meetingId) {
  const streamName = `external-videos-${meetingId}`;

  if (Meteor.StreamerCentral.instances[streamName]) {
    Logger.info(`Destroying External Video streamer object for ${streamName}`);
    delete Meteor.StreamerCentral.instances[streamName];
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"emitExternalVideoEvent.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/emitExternalVideoEvent.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => emitExternalVideoEvent
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function emitExternalVideoEvent(messageName, ...rest) {
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const user = Users.findOne({
    userId,
    meetingId
  });

  if (user && user.presenter) {
    const streamerName = `external-videos-${meetingId}`;
    const streamer = Meteor.StreamerCentral.instances[streamerName];

    if (streamer) {
      streamer.emit(messageName, ...rest);
    } else {
      Logger.error(`External Video Streamer not found for meetingId: ${meetingId} userId: ${userId}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"initializeExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/initializeExternalVideo.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => initializeExternalVideo
});
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

const allowRecentMessages = (eventName, message) => {
  const {
    userId,
    meetingId,
    time,
    rate,
    state
  } = message;
  Logger.debug(`ExternalVideo Streamer auth allowed userId: ${userId}, meetingId: ${meetingId}, event: ${eventName}, time: ${time} rate: ${rate}, state: ${state}`);
  return true;
};

function initializeExternalVideo() {
  const {
    meetingId
  } = extractCredentials(this.userId);
  const streamName = `external-videos-${meetingId}`;

  if (!Meteor.StreamerCentral.instances[streamName]) {
    const streamer = new Meteor.Streamer(streamName);
    streamer.allowRead('all');
    streamer.allowWrite('none');
    streamer.allowEmit(allowRecentMessages);
    Logger.info(`Created External Video streamer for ${streamName}`);
  } else {
    Logger.debug(`External Video streamer is already created for ${streamName}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startWatchingExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/startWatchingExternalVideo.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startWatchingExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function startWatchingExternalVideo(options) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StartExternalVideoMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const {
    externalVideoUrl
  } = options;
  check(externalVideoUrl, String);
  Meetings.update({
    meetingId
  }, {
    $set: {
      externalVideoUrl
    }
  });
  const payload = {
    externalVideoUrl
  };
  Logger.info(`User id=${requesterUserId} sharing an external video: ${externalVideoUrl} for meeting ${meetingId}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopWatchingExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/stopWatchingExternalVideo.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopWatchingExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function stopWatchingExternalVideo(options) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StopExternalVideoMsg';

  if (this.userId) {
    options = extractCredentials(this.userId);
  }

  const {
    meetingId,
    requesterUserId
  } = options;
  const meeting = Meetings.findOne({
    meetingId
  });
  if (!meeting || meeting.externalVideoUrl === null) return;
  Meetings.update({
    meetingId
  }, {
    $set: {
      externalVideoUrl: null
    }
  });
  const payload = {};
  Logger.info(`User id=${requesterUserId} stopped sharing an external video for meeting=${meetingId}`);
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/index.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let startWatchingExternalVideo;
module.link("./methods/startWatchingExternalVideo", {
  default(v) {
    startWatchingExternalVideo = v;
  }

}, 1);
let stopWatchingExternalVideo;
module.link("./methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 2);
let initializeExternalVideo;
module.link("./methods/initializeExternalVideo", {
  default(v) {
    initializeExternalVideo = v;
  }

}, 3);
let emitExternalVideoEvent;
module.link("./methods/emitExternalVideoEvent", {
  default(v) {
    emitExternalVideoEvent = v;
  }

}, 4);
Meteor.methods({
  initializeExternalVideo,
  startWatchingExternalVideo,
  stopWatchingExternalVideo,
  emitExternalVideoEvent
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"group-chat":{"server":{"handlers":{"groupChatCreated.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChatCreated.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatCreated
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChatCreated({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  return addGroupChat(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatDestroyed.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChatDestroyed.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatDestroyed
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChatDestroyed({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  return addGroupChat(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChats.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChats.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChats
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChats({
  body
}, meetingId) {
  const {
    chats
  } = body;
  check(meetingId, String);
  check(chats, Array);
  const chatsAdded = [];
  chats.forEach(chat => {
    chatsAdded.push(addGroupChat(meetingId, chat));
  });
  return chatsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods/createGroupChat.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createGroupChat
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let CHAT_ACCESS_PRIVATE;
module.link("/imports/api/group-chat", {
  CHAT_ACCESS_PRIVATE(v) {
    CHAT_ACCESS_PRIVATE = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function createGroupChat(receiver) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'CreateGroupChatReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(receiver, Object);
  const payload = {
    correlationId: `${requesterUserId}-${Date.now()}`,
    msg: [],
    users: [receiver.userId],
    access: CHAT_ACCESS_PRIVATE,
    name: receiver.name
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"destroyGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods/destroyGroupChat.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createGroupChat
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function createGroupChat() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const eventName = 'DestroyGroupChatReqMsg';
  const payload = {// TODO: Implement this together with #4988
    // chats: Array[String],
  };
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/modifiers/addGroupChat.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addGroupChat
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 3);

function addGroupChat(meetingId, chat) {
  check(meetingId, String);
  check(chat, {
    id: Match.Maybe(String),
    chatId: Match.Maybe(String),
    correlationId: Match.Maybe(String),
    name: String,
    access: String,
    createdBy: Object,
    users: Array,
    msg: Match.Maybe(Array)
  });
  const chatDocument = {
    meetingId,
    chatId: chat.chatId || chat.id,
    name: chat.name,
    access: chat.access,
    users: chat.users.map(u => u.id),
    createdBy: chat.createdBy.id
  };
  const selector = {
    chatId: chatDocument.chatId,
    meetingId
  };
  const modifier = {
    $set: flat(chatDocument, {
      safe: true
    })
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding group-chat to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added group-chat name=${chat.name} meetingId=${meetingId}`);
    }

    return Logger.info(`Upserted group-chat name=${chat.name} meetingId=${meetingId}`);
  };

  return GroupChat.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/modifiers/clearGroupChat.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGroupChat
});
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let clearGroupChatMsg;
module.link("/imports/api/group-chat-msg/server/modifiers/clearGroupChatMsg", {
  default(v) {
    clearGroupChatMsg = v;
  }

}, 2);

function clearGroupChat(meetingId) {
  clearGroupChatMsg(meetingId);
  return GroupChat.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared GroupChat (${meetingId})`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/eventHandlers.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleGroupChats;
module.link("./handlers/groupChats", {
  default(v) {
    handleGroupChats = v;
  }

}, 1);
let handleGroupChatCreated;
module.link("./handlers/groupChatCreated", {
  default(v) {
    handleGroupChatCreated = v;
  }

}, 2);
let handleGroupChatDestroyed;
module.link("./handlers/groupChatDestroyed", {
  default(v) {
    handleGroupChatDestroyed = v;
  }

}, 3);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 4);
RedisPubSub.on('GetGroupChatsRespMsg', processForHTML5ServerOnly(handleGroupChats));
RedisPubSub.on('GroupChatCreatedEvtMsg', handleGroupChatCreated);
RedisPubSub.on('GroupChatDestroyedEvtMsg', handleGroupChatDestroyed);
RedisPubSub.on('SyncGetGroupChatsRespMsg', handleGroupChats);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("/imports/api/group-chat-msg/server");
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createGroupChat;
module.link("./methods/createGroupChat", {
  default(v) {
    createGroupChat = v;
  }

}, 1);
let destroyGroupChat;
module.link("./methods/destroyGroupChat", {
  default(v) {
    destroyGroupChat = v;
  }

}, 2);
Meteor.methods({
  createGroupChat,
  destroyGroupChat
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/publishers.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function groupChat() {
  if (!this.userId) {
    return GroupChat.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_CHAT_TYPE = CHAT_CONFIG.type_public;
  Logger.debug(`Publishing group-chat for ${meetingId} ${requesterUserId}`);
  return GroupChat.find({
    $or: [{
      meetingId,
      access: PUBLIC_CHAT_TYPE
    }, {
      meetingId,
      users: {
        $all: [requesterUserId]
      }
    }]
  });
}

function publish(...args) {
  const boundGroupChat = groupChat.bind(this);
  return boundGroupChat(...args);
}

Meteor.publish('group-chat', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/index.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  CHAT_ACCESS_PUBLIC: () => CHAT_ACCESS_PUBLIC,
  CHAT_ACCESS_PRIVATE: () => CHAT_ACCESS_PRIVATE
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const GroupChat = new Mongo.Collection('group-chat');

if (Meteor.isServer) {
  GroupChat._ensureIndex({
    meetingId: 1,
    chatId: 1,
    access: 1,
    users: 1
  });
}

module.exportDefault(GroupChat);
const CHAT_ACCESS = {
  PUBLIC: 'PUBLIC_ACCESS',
  PRIVATE: 'PRIVATE_ACCESS'
};
const CHAT_ACCESS_PUBLIC = CHAT_ACCESS.PUBLIC;
const CHAT_ACCESS_PRIVATE = CHAT_ACCESS.PRIVATE;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"group-chat-msg":{"server":{"handlers":{"clearPublicGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/clearPublicGroupChat.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPublicChatHistory
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearGroupChatMsg;
module.link("../modifiers/clearGroupChatMsg", {
  default(v) {
    clearGroupChatMsg = v;
  }

}, 1);

function clearPublicChatHistory({
  header,
  body
}) {
  const {
    meetingId
  } = header;
  const {
    chatId
  } = body;
  check(meetingId, String);
  check(chatId, String);
  return clearGroupChatMsg(meetingId, chatId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatMsgBroadcast.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/groupChatMsgBroadcast.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatMsgBroadcast
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChatMsg;
module.link("../modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 1);

function handleGroupChatMsgBroadcast({
  body
}, meetingId) {
  const {
    chatId,
    msg
  } = body;
  check(meetingId, String);
  check(chatId, String);
  check(msg, Object);
  return addGroupChatMsg(meetingId, chatId, msg);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatsMsgs.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/groupChatsMsgs.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatsMsgs
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let addGroupChatMsg;
module.link("../modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 1);

function handleGroupChatsMsgs({
  body
}, meetingId) {
  const {
    chatId,
    msgs,
    msg
  } = body;
  check(meetingId, String);
  check(chatId, String);
  check(msgs, Match.Maybe(Array));
  check(msg, Match.Maybe(Array));
  const msgsAdded = [];
  (msgs || msg).forEach(m => {
    msgsAdded.push(addGroupChatMsg(meetingId, chatId, m));
  });
  return msgsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/userTyping.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let startTyping;
module.link("../modifiers/startTyping", {
  default(v) {
    startTyping = v;
  }

}, 1);

function handleUserTyping({
  body
}, meetingId) {
  const {
    chatId,
    userId
  } = body;
  check(meetingId, String);
  check(userId, String);
  check(chatId, String);
  startTyping(meetingId, userId, chatId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"clearPublicChatHistory.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/clearPublicChatHistory.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPublicChatHistory
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function clearPublicChatHistory() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ClearPublicChatHistoryPubMsg';
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    chatId: PUBLIC_GROUP_CHAT_ID
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/sendGroupChatMsg.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendGroupChatMsg
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let RegexWebUrl;
module.link("/imports/utils/regex-weburl", {
  default(v) {
    RegexWebUrl = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const HTML_SAFE_MAP = {
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;'
};

const parseMessage = message => {
  let parsedMessage = message || '';
  parsedMessage = parsedMessage.trim(); // Replace <br/> with \n\r

  parsedMessage = parsedMessage.replace(/<br\s*[\\/]?>/gi, '\n\r'); // Sanitize. See: http://shebang.brandonmintern.com/foolproof-html-escaping-in-javascript/

  parsedMessage = parsedMessage.replace(/[<>'"]/g, c => HTML_SAFE_MAP[c]); // Replace flash links to flash valid ones

  parsedMessage = parsedMessage.replace(RegexWebUrl, "<a href='event:$&'><u>$&</u></a>");
  return parsedMessage;
};

function sendGroupChatMsg(chatId, message) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendGroupChatMessageMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(message, Object);
  const parsedMessage = parseMessage(message.message);
  message.message = parsedMessage;
  const payload = {
    msg: message,
    chatId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startUserTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/startUserTyping.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startUserTyping
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function startUserTyping(chatId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserTypingPubMsg';
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(chatId, String);
  const payload = {
    chatId: chatId || PUBLIC_GROUP_CHAT_ID
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopUserTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/stopUserTyping.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopUserTyping
});
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 0);
let stopTyping;
module.link("../modifiers/stopTyping", {
  default(v) {
    stopTyping = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function stopUserTyping() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userTyping = UsersTyping.findOne({
    meetingId,
    userId: requesterUserId
  });

  if (userTyping) {
    stopTyping(meetingId, requesterUserId, true);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/addGroupChatMsg.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => addGroupChatMsg
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 3);
let BREAK_LINE;
module.link("/imports/utils/lineEndings", {
  BREAK_LINE(v) {
    BREAK_LINE = v;
  }

}, 4);

const parseMessage = message => {
  let parsedMessage = message || ''; // Replace \r and \n to <br/>

  parsedMessage = parsedMessage.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, `$1${BREAK_LINE}$2`); // Replace flash links to html valid ones

  parsedMessage = parsedMessage.split('<a href=\'event:').join('<a target="_blank" href=\'');
  parsedMessage = parsedMessage.split('<a href="event:').join('<a target="_blank" href="');
  return parsedMessage;
};

function addGroupChatMsg(meetingId, chatId, msg) {
  check(meetingId, String);
  check(chatId, String);
  check(msg, {
    id: Match.Maybe(String),
    timestamp: Number,
    sender: Object,
    color: String,
    message: String,
    correlationId: Match.Maybe(String)
  });
  const msgDocument = (0, _objectSpread2.default)({}, msg, {
    meetingId,
    chatId,
    message: parseMessage(msg.message),
    sender: msg.sender.id
  });
  const selector = {
    meetingId,
    chatId,
    id: msg.id
  };
  const modifier = {
    $set: flat(msgDocument, {
      safe: true
    })
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding group-chat-msg to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added group-chat-msg msgId=${msg.id} chatId=${chatId} meetingId=${meetingId}`);
    }

    return Logger.info(`Upserted group-chat-msg msgId=${msg.id} chatId=${chatId} meetingId=${meetingId}`);
  };

  return GroupChatMsg.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/clearGroupChatMsg.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGroupChatMsg
});
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let addGroupChatMsg;
module.link("/imports/api/group-chat-msg/server/modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 2);

function clearGroupChatMsg(meetingId, chatId) {
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_CHAT_SYSTEM_ID = CHAT_CONFIG.system_userid;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const CHAT_CLEAR_MESSAGE = CHAT_CONFIG.system_messages_keys.chat_clear;

  if (chatId) {
    GroupChatMsg.remove({
      meetingId,
      chatId
    }, () => {
      Logger.info(`Cleared GroupChatMsg (${meetingId}, ${chatId})`);
      const clearMsg = {
        color: '0',
        timestamp: Date.now(),
        correlationId: `${PUBLIC_CHAT_SYSTEM_ID}-${Date.now()}`,
        sender: {
          id: PUBLIC_CHAT_SYSTEM_ID,
          name: ''
        },
        message: CHAT_CLEAR_MESSAGE
      };
      addGroupChatMsg(meetingId, PUBLIC_GROUP_CHAT_ID, clearMsg);
    });
    return true;
  }

  if (meetingId) {
    return GroupChatMsg.remove({
      meetingId,
      chatId: {
        $eq: PUBLIC_GROUP_CHAT_ID
      }
    }, () => {
      Logger.info(`Cleared GroupChatMsg (${meetingId})`);
    });
  }

  return GroupChatMsg.remove({
    chatId: {
      $eq: PUBLIC_GROUP_CHAT_ID
    }
  }, () => {
    Logger.info('Cleared GroupChatMsg (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/startTyping.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 3);
let stopTyping;
module.link("./stopTyping", {
  default(v) {
    stopTyping = v;
  }

}, 4);
const TYPING_TIMEOUT = 5000;

function startTyping(meetingId, userId, chatId) {
  check(meetingId, String);
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };
  const user = Users.findOne(selector);
  const mod = {
    meetingId,
    userId,
    name: user.name,
    isTypingTo: chatId,
    role: user.role,
    time: new Date()
  };
  const typingUser = UsersTyping.findOne(selector, {
    fields: {
      time: 1
    }
  });

  if (typingUser) {
    if (mod.time - typingUser.time <= TYPING_TIMEOUT - 100) return;
  }

  const cb = err => {
    if (err) {
      return Logger.error(`Typing indicator update error: ${err}`);
    }

    Meteor.setTimeout(() => {
      stopTyping(meetingId, userId);
    }, TYPING_TIMEOUT);
    return Logger.debug(`Typing indicator update for userId={${userId}} chatId={${chatId}}`);
  };

  return UsersTyping.upsert(selector, mod, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/stopTyping.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 2);

function stopTyping(meetingId, userId, sendMsgInitiated = false) {
  check(meetingId, String);
  check(userId, String);
  check(sendMsgInitiated, Boolean);
  const selector = {
    meetingId,
    userId
  };
  const user = UsersTyping.findOne(selector);
  const stillTyping = !sendMsgInitiated && user && new Date() - user.time < 3000;
  if (stillTyping) return;

  const cb = err => {
    if (err) {
      return Logger.error(`Stop user=${userId} typing indicator error: ${err}`);
    }

    return Logger.debug(`Stopped typing indicator for user=${userId}`);
  };

  UsersTyping.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/eventHandlers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleGroupChatsMsgs;
module.link("./handlers/groupChatsMsgs", {
  default(v) {
    handleGroupChatsMsgs = v;
  }

}, 1);
let handleGroupChatMsgBroadcast;
module.link("./handlers/groupChatMsgBroadcast", {
  default(v) {
    handleGroupChatMsgBroadcast = v;
  }

}, 2);
let handleClearPublicGroupChat;
module.link("./handlers/clearPublicGroupChat", {
  default(v) {
    handleClearPublicGroupChat = v;
  }

}, 3);
let handleUserTyping;
module.link("./handlers/userTyping", {
  default(v) {
    handleUserTyping = v;
  }

}, 4);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 5);
RedisPubSub.on('GetGroupChatMsgsRespMsg', processForHTML5ServerOnly(handleGroupChatsMsgs));
RedisPubSub.on('GroupChatMessageBroadcastEvtMsg', handleGroupChatMsgBroadcast);
RedisPubSub.on('ClearPublicChatHistoryEvtMsg', handleClearPublicGroupChat);
RedisPubSub.on('SyncGetGroupChatMsgsRespMsg', handleGroupChatsMsgs);
RedisPubSub.on('UserTypingEvtMsg', handleUserTyping);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let sendGroupChatMsg;
module.link("./methods/sendGroupChatMsg", {
  default(v) {
    sendGroupChatMsg = v;
  }

}, 1);
let clearPublicChatHistory;
module.link("./methods/clearPublicChatHistory", {
  default(v) {
    clearPublicChatHistory = v;
  }

}, 2);
let startUserTyping;
module.link("./methods/startUserTyping", {
  default(v) {
    startUserTyping = v;
  }

}, 3);
let stopUserTyping;
module.link("./methods/stopUserTyping", {
  default(v) {
    stopUserTyping = v;
  }

}, 4);
Meteor.methods({
  sendGroupChatMsg,
  clearPublicChatHistory,
  startUserTyping,
  stopUserTyping
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GroupChatMsg, UsersTyping;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  },

  UsersTyping(v) {
    UsersTyping = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function groupChatMsg(chatsIds) {
  if (!this.userId) {
    return GroupChatMsg.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  Logger.debug(`Publishing group-chat-msg for ${meetingId} ${requesterUserId}`);
  return GroupChatMsg.find({
    $or: [{
      meetingId,
      chatId: {
        $eq: PUBLIC_GROUP_CHAT_ID
      }
    }, {
      chatId: {
        $in: chatsIds
      }
    }]
  });
}

function publish(...args) {
  const boundGroupChat = groupChatMsg.bind(this);
  return boundGroupChat(...args);
}

Meteor.publish('group-chat-msg', publish);

function usersTyping() {
  if (!this.userId) {
    return UsersTyping.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing users-typing for ${meetingId} ${requesterUserId}`);
  return UsersTyping.find({
    meetingId
  });
}

function pubishUsersTyping(...args) {
  const boundUsersTyping = usersTyping.bind(this);
  return boundUsersTyping(...args);
}

Meteor.publish('users-typing', pubishUsersTyping);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  GroupChatMsg: () => GroupChatMsg,
  UsersTyping: () => UsersTyping
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const GroupChatMsg = new Mongo.Collection('group-chat-msg');
const UsersTyping = new Mongo.Collection('users-typing');

if (Meteor.isServer) {
  GroupChatMsg._ensureIndex({
    meetingId: 1,
    chatId: 1
  });

  UsersTyping._ensureIndex({
    meetingId: 1,
    isTypingTo: 1
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"guest-users":{"server":{"handlers":{"guestApproved.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/handlers/guestApproved.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGuestApproved
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setGuestStatus;
module.link("../modifiers/setGuestStatus", {
  default(v) {
    setGuestStatus = v;
  }

}, 1);

function handleGuestApproved({
  body
}, meetingId) {
  const {
    approvedBy,
    guests
  } = body;
  check(meetingId, String);
  check(approvedBy, String);
  check(guests, Array);
  return guests.forEach(guest => setGuestStatus(meetingId, guest.guest, guest.status, approvedBy));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"guestsWaitingForApproval.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/handlers/guestsWaitingForApproval.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => handleGuestsWaitingForApproval
});
let stringHash;
module.link("string-hash", {
  default(v) {
    stringHash = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GuestUsers;
module.link("/imports/api/guest-users/", {
  default(v) {
    GuestUsers = v;
  }

}, 3);
const COLOR_LIST = ['#7b1fa2', '#6a1b9a', '#4a148c', '#5e35b1', '#512da8', '#4527a0', '#311b92', '#3949ab', '#303f9f', '#283593', '#1a237e', '#1976d2', '#1565c0', '#0d47a1', '#0277bd', '#01579b'];

function handleGuestsWaitingForApproval({
  body
}, meetingId) {
  const {
    guests
  } = body;
  check(guests, Array);
  check(meetingId, String);

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding guest user to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added guest user meeting=${meetingId}`);
    }

    return Logger.info(`Upserted guest user meeting=${meetingId}`);
  };

  return guests.map(guest => GuestUsers.upsert({
    meetingId,
    intId: guest.intId
  }, (0, _objectSpread2.default)({
    approved: false,
    denied: false
  }, guest, {
    meetingId,
    loginTime: new Date().getTime(),
    color: COLOR_LIST[stringHash(guest.intId) % COLOR_LIST.length]
  }), cb));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"allowPendingUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods/allowPendingUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => allowPendingUsers
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const REDIS_CONFIG = Meteor.settings.private.redis;
const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
const EVENT_NAME = 'GuestsWaitingApprovedMsg';

function allowPendingUsers(guests, status) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(guests, Array);
  const mappedGuests = guests.map(guest => ({
    status,
    guest: guest.intId
  }));
  const payload = {
    approvedBy: requesterUserId,
    guests: mappedGuests
  };
  Logger.info(`User=${requesterUserId} ${status} guests ${JSON.stringify(mappedGuests)}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeGuestPolicy.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods/changeGuestPolicy.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeGuestPolicy
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const REDIS_CONFIG = Meteor.settings.private.redis;
const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
const EVENT_NAME = 'SetGuestPolicyCmdMsg';

function changeGuestPolicy(policyRule) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(policyRule, String);
  const payload = {
    setBy: requesterUserId,
    policy: policyRule
  };
  Logger.info(`User=${requesterUserId} change guest policy to ${policyRule}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"setGuestStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/modifiers/setGuestStatus.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setGuestStatus
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let GuestUsers;
module.link("/imports/api/guest-users", {
  default(v) {
    GuestUsers = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
const GUEST_STATUS_ALLOW = 'ALLOW';
const GUEST_STATUS_DENY = 'DENY';

function setGuestStatus(meetingId, intId, status, approvedBy = null) {
  check(meetingId, String);
  check(intId, String);
  check(status, String);
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: {
      approved: status === GUEST_STATUS_ALLOW,
      denied: status === GUEST_STATUS_DENY,
      approvedBy
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating status=${status} user=${intId}: ${err}`);
    }

    return Logger.info(`Updated status=${status} user=${intId} meeting=${meetingId}`);
  };

  return GuestUsers.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleGuestApproved;
module.link("./handlers/guestApproved", {
  default(v) {
    handleGuestApproved = v;
  }

}, 2);
let handleGuestsWaitingForApproval;
module.link("./handlers/guestsWaitingForApproval", {
  default(v) {
    handleGuestsWaitingForApproval = v;
  }

}, 3);
RedisPubSub.on('GuestsWaitingForApprovalEvtMsg', processForHTML5ServerOnly(handleGuestsWaitingForApproval));
RedisPubSub.on('GuestsWaitingApprovedEvtMsg', processForHTML5ServerOnly(handleGuestApproved));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let allowPendingUsers;
module.link("/imports/api/guest-users/server/methods/allowPendingUsers", {
  default(v) {
    allowPendingUsers = v;
  }

}, 1);
let changeGuestPolicy;
module.link("/imports/api/guest-users/server/methods/changeGuestPolicy", {
  default(v) {
    changeGuestPolicy = v;
  }

}, 2);
Meteor.methods({
  allowPendingUsers,
  changeGuestPolicy
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GuestUsers;
module.link("/imports/api/guest-users/", {
  default(v) {
    GuestUsers = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function guestUsers() {
  if (!this.userId) {
    return GuestUsers.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`Publishing Slides for ${meetingId} ${requesterUserId}`);
  return GuestUsers.find({
    meetingId
  });
}

function publish(...args) {
  const boundSlides = guestUsers.bind(this);
  return boundSlides(...args);
}

Meteor.publish('guestUser', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Mongo;
module.link("meteor/mongo", {
  Mongo(v) {
    Mongo = v;
  }

}, 1);
const GuestUsers = new Mongo.Collection('guestUsers');
module.exportDefault(GuestUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"local-settings":{"server":{"methods":{"userChangedLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/methods/userChangedLocalSettings.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userChangedLocalSettings
});

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 2);
let setChangedLocalSettings;
module.link("../modifiers/setChangedLocalSettings", {
  default(v) {
    setChangedLocalSettings = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userChangedLocalSettings(settings) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  if (!meetingId || !requesterUserId) return;
  check(settings, Object);
  const userLocalSettings = LocalSettings.findOne({
    meetingId,
    userId: requesterUserId
  }, {
    fields: {
      settings: 1
    }
  });

  if (!userLocalSettings || !_.isEqual(userLocalSettings.settings, settings)) {
    setChangedLocalSettings(meetingId, requesterUserId, settings);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/modifiers/clearLocalSettings.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearLocalSettings
});
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearLocalSettings(meetingId) {
  return LocalSettings.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared Local Settings (${meetingId})`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setChangedLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/modifiers/setChangedLocalSettings.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setChangedLocalSettings
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setChangedLocalSettings(meetingId, userId, settings) {
  check(meetingId, String);
  check(userId, String);
  check(settings, Object);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      settings
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`${err}`);
    }

    if (numChanged) {
      Logger.info(`Updated settings for user ${userId} on meeting ${meetingId}`);
    }
  };

  return LocalSettings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userChangedLocalSettings;
module.link("./methods/userChangedLocalSettings", {
  default(v) {
    userChangedLocalSettings = v;
  }

}, 1);
Meteor.methods({
  userChangedLocalSettings
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function localSettings() {
  if (!this.userId) {
    return LocalSettings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing local settings for user=${requesterUserId}`);
  return LocalSettings.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundLocalSettings = localSettings.bind(this);
  return boundLocalSettings(...args);
}

Meteor.publish('local-settings', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const LocalSettings = new Mongo.Collection('local-settings');

if (Meteor.isServer) {
  LocalSettings._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(LocalSettings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"log-client":{"server":{"methods":{"logClient.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/methods/logClient.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);

const logClient = function (type, logDescription, logCode = 'was_not_provided', extraInfo = {}, userInfo = {}) {
  const connectionId = this.connection.id;
  const User = Users.findOne({
    connectionId
  });
  const logContents = {
    logCode,
    logDescription,
    connectionId,
    extraInfo,
    userInfo
  };

  if (User) {
    // TODO--
    if (userInfo.credentials && User.meetingId === userInfo.credentials.meetingId || userInfo.meetingId && User.meetingId === userInfo.meetingId) {
      logContents.extraInfo.validUser = 'valid';
    } else {
      logContents.extraInfo.validUser = 'invalid';
    }
  } else {
    logContents.extraInfo.validUser = 'notFound';
  } // If I don't pass message, logs will start with `undefined`


  Logger.log({
    message: JSON.stringify(logContents),
    level: type
  }); // Logger.log({ message: 'client->server', level: type, logContents });
};

module.exportDefault(logClient);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/methods.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let logClient;
module.link("./methods/logClient", {
  default(v) {
    logClient = v;
  }

}, 1);
Meteor.methods({
  logClient
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"meetings":{"server":{"handlers":{"getAllMeetings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/getAllMeetings.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetAllMeetings
});
let handleMeetingCreation;
module.link("./meetingCreation", {
  default(v) {
    handleMeetingCreation = v;
  }

}, 0);

function handleGetAllMeetings({
  body
}) {
  return handleMeetingCreation({
    body
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingCreation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingCreation.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingCreation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addMeeting;
module.link("../modifiers/addMeeting", {
  default(v) {
    addMeeting = v;
  }

}, 1);

function handleMeetingCreation({
  body
}) {
  const meeting = body.props;
  const durationInSecods = meeting.durationProps.duration * 60;
  meeting.durationProps.timeRemaining = durationInSecods;
  check(meeting, Object);
  return addMeeting(meeting);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingDestruction.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingDestruction.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingDestruction
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let destroyExternalVideo;
module.link("/imports/api/external-videos/server/methods/destroyExternalVideo", {
  default(v) {
    destroyExternalVideo = v;
  }

}, 2);
let removeAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  removeAnnotationsStreamer(v) {
    removeAnnotationsStreamer = v;
  }

}, 3);
let removeCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  removeCursorStreamer(v) {
    removeCursorStreamer = v;
  }

}, 4);

function handleMeetingDestruction({
  body
}) {
  check(body, Object);
  const {
    meetingId
  } = body;
  check(meetingId, String);
  destroyExternalVideo(meetingId);
  removeAnnotationsStreamer(meetingId);
  removeCursorStreamer(meetingId);
  return RedisPubSub.destroyMeetingQueue(meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingEnd.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingEnd.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingEnd
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let meetingHasEnded;
module.link("../modifiers/meetingHasEnded", {
  default(v) {
    meetingHasEnded = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 3);
let Users;
module.link("/imports/api/users/", {
  default(v) {
    Users = v;
  }

}, 4);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 5);

function handleMeetingEnd({
  body
}) {
  check(body, Object);
  const {
    meetingId
  } = body;
  check(meetingId, String);

  const cb = (err, num, meetingType) => {
    if (err) {
      Logger.error(`${meetingType} ending error: ${err}`);
      return;
    }

    if (num) {
      Users.update({
        meetingId
      }, {
        $set: {
          connectionStatus: 'offline'
        }
      }, (error, numAffected) => {
        if (error) {
          Logger.error(`Error marking ending ${meetingType} users as offline: ${meetingId} ${err}`);
          return;
        }

        if (numAffected) {
          Logger.info(`Success marking ending ${meetingType} users as offline: ${meetingId}`);
        }
      });
      Meteor.setTimeout(() => {
        meetingHasEnded(meetingId);
      }, 10000);
    }
  };

  Meetings.update({
    meetingId
  }, {
    $set: {
      meetingEnded: true
    }
  }, (err, num) => {
    cb(err, num, 'Meeting');
  });
  Breakouts.update({
    parentMeetingId: meetingId
  }, {
    $set: {
      meetingEnded: true
    }
  }, (err, num) => {
    cb(err, num, 'Breakout');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingLockChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingLockChange.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleLockSettingsInMeeting
});
let changeLockSettings;
module.link("../modifiers/changeLockSettings", {
  default(v) {
    changeLockSettings = v;
  }

}, 0);

function handleLockSettingsInMeeting({
  body
}, meetingId) {
  return changeLockSettings(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"recordingStatusChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/recordingStatusChange.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRecordingStatusChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleRecordingStatusChange({
  body
}, meetingId) {
  const {
    recording
  } = body;
  check(recording, Boolean);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      recording
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Changing record status: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Changed meeting record status id=${meetingId} recording=${recording}`);
    }
  };

  return RecordMeetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"recordingTimerChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/recordingTimerChange.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRecordingStatusChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleRecordingStatusChange({
  body
}, meetingId) {
  const {
    time
  } = body;
  check(meetingId, String);
  check(body, {
    time: Number
  });
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      time
    }
  };

  const cb = err => {
    if (err) {
      Logger.error(`Changing recording time: ${err}`);
    }
  };

  return RecordMeetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeRemainingUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/timeRemainingUpdate.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleTimeRemainingUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleTimeRemainingUpdate({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, {
    timeLeftInSec: Number
  });
  const {
    timeLeftInSec
  } = body;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      timeRemaining: timeLeftInSec
    }
  };

  const cb = err => {
    if (err) {
      Logger.error(`Changing recording time: ${err}`);
    }
  };

  return MeetingTimeRemaining.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLockChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/userLockChange.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleLockSettingsInMeeting
});
let changeUserLock;
module.link("../modifiers/changeUserLock", {
  default(v) {
    changeUserLock = v;
  }

}, 0);

function handleLockSettingsInMeeting({
  body
}, meetingId) {
  return changeUserLock(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webcamOnlyModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/webcamOnlyModerator.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleChangeWebcamOnlyModerator
});
let changeWebcamOnlyModerator;
module.link("../modifiers/webcamOnlyModerator", {
  default(v) {
    changeWebcamOnlyModerator = v;
  }

}, 0);

function handleChangeWebcamOnlyModerator({
  body
}, meetingId) {
  return changeWebcamOnlyModerator(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"endMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/endMeeting.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => endMeeting
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function endMeeting() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'LogoutAndEndMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    userId: requesterUserId
  };
  Logger.verbose(`Meeting '${meetingId}' is destroyed by '${requesterUserId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleLockSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleLockSettings.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleLockSettings
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function toggleLockSettings(lockSettingsProps) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeLockSettingsInMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(lockSettingsProps, {
    disableCam: Boolean,
    disableMic: Boolean,
    disablePrivateChat: Boolean,
    disablePublicChat: Boolean,
    disableNote: Boolean,
    hideUserList: Boolean,
    lockedLayout: Boolean,
    lockOnJoin: Boolean,
    lockOnJoinConfigurable: Boolean,
    setBy: Match.Maybe(String)
  });
  const {
    disableCam,
    disableMic,
    disablePrivateChat: disablePrivChat,
    disablePublicChat: disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable
  } = lockSettingsProps;
  const payload = {
    disableCam,
    disableMic,
    disablePrivChat,
    disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable,
    setBy: requesterUserId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleRecording.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleRecording.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleRecording
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function toggleRecording() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const EVENT_NAME = 'SetRecordingStatusCmdMsg';
  let meetingRecorded;
  let allowedToRecord;
  const recordObject = RecordMeetings.findOne({
    meetingId
  });

  if (recordObject != null) {
    const {
      allowStartStopRecording,
      recording,
      record
    } = recordObject;
    meetingRecorded = recording;
    allowedToRecord = record && allowStartStopRecording; // TODO-- remove some day
  }

  const payload = {
    recording: !meetingRecorded,
    setBy: requesterUserId
  };
  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const user = Users.findOne(selector);

  if (allowedToRecord && !!user && user.role === ROLE_MODERATOR) {
    Logger.info(`Setting the record parameter to ${!meetingRecorded} for ${meetingId} by ${requesterUserId}`);
    return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
  }

  return null;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleWebcamsOnlyForModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleWebcamsOnlyForModerator.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleWebcamsOnlyForModerator
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("../../../common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function toggleWebcamsOnlyForModerator(webcamsOnlyForModerator) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UpdateWebcamsOnlyForModeratorCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(webcamsOnlyForModerator, Boolean);
  const payload = {
    webcamsOnlyForModerator,
    setBy: requesterUserId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"transferUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/transferUser.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => transferUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function transferUser(fromMeetingId, toMeetingId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'TransferUserToMeetingRequestMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    fromMeetingId,
    toMeetingId,
    userId: requesterUserId
  };
  Logger.verbose(`userId ${requesterUserId} was transferred from 
  meeting ${fromMeetingId}' to meeting '${toMeetingId}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/addMeeting.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

module.export({
  default: () => addMeeting
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let check, Match;
module.link("meteor/check", {
  check(v) {
    check = v;
  },

  Match(v) {
    Match = v;
  }

}, 1);
let Meetings, RecordMeetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  },

  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let createNote;
module.link("/imports/api/note/server/methods/createNote", {
  default(v) {
    createNote = v;
  }

}, 4);
let createCaptions;
module.link("/imports/api/captions/server/methods/createCaptions", {
  default(v) {
    createCaptions = v;
  }

}, 5);
let addAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  addAnnotationsStreamer(v) {
    addAnnotationsStreamer = v;
  }

}, 6);
let addCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  addCursorStreamer(v) {
    addCursorStreamer = v;
  }

}, 7);

function addMeeting(meeting) {
  const meetingId = meeting.meetingProp.intId;
  check(meetingId, String);
  check(meeting, {
    breakoutProps: {
      sequence: Number,
      freeJoin: Boolean,
      breakoutRooms: Array,
      parentId: String,
      enabled: Boolean,
      record: Boolean,
      privateChatEnabled: Boolean
    },
    meetingProp: {
      intId: String,
      extId: String,
      isBreakout: Boolean,
      name: String
    },
    usersProp: {
      webcamsOnlyForModerator: Boolean,
      guestPolicy: String,
      maxUsers: Number,
      allowModsToUnmuteUsers: Boolean
    },
    durationProps: {
      createdTime: Number,
      duration: Number,
      createdDate: String,
      maxInactivityTimeoutMinutes: Number,
      warnMinutesBeforeMax: Number,
      meetingExpireIfNoUserJoinedInMinutes: Number,
      meetingExpireWhenLastUserLeftInMinutes: Number,
      userInactivityInspectTimerInMinutes: Number,
      userInactivityThresholdInMinutes: Number,
      userActivitySignResponseDelayInMinutes: Number,
      timeRemaining: Number
    },
    welcomeProp: {
      welcomeMsg: String,
      modOnlyMessage: String,
      welcomeMsgTemplate: String
    },
    recordProp: Match.ObjectIncluding({
      allowStartStopRecording: Boolean,
      autoStartRecording: Boolean,
      record: Boolean
    }),
    password: {
      viewerPass: String,
      moderatorPass: String
    },
    voiceProp: {
      voiceConf: String,
      dialNumber: String,
      telVoice: String,
      muteOnStart: Boolean
    },
    screenshareProps: {
      red5ScreenshareIp: String,
      red5ScreenshareApp: String,
      screenshareConf: String
    },
    metadataProp: Object,
    lockSettingsProps: {
      disableCam: Boolean,
      disableMic: Boolean,
      disablePrivateChat: Boolean,
      disablePublicChat: Boolean,
      disableNote: Boolean,
      hideUserList: Boolean,
      lockOnJoin: Boolean,
      lockOnJoinConfigurable: Boolean,
      lockedLayout: Boolean
    }
  });
  const {
    recordProp
  } = meeting,
        restProps = (0, _objectWithoutProperties2.default)(meeting, ["recordProp"]);
  const newMeeting = restProps;
  const selector = {
    meetingId
  };
  newMeeting.lockSettingsProps = Object.assign(meeting.lockSettingsProps, {
    setBy: 'temp'
  });
  const meetingEnded = false;
  newMeeting.welcomeProp.welcomeMsg = newMeeting.welcomeProp.welcomeMsg.replace('href="event:', 'href="');

  const insertBlankTarget = (s, i) => `${s.substr(0, i)} target="_blank"${s.substr(i)}`;

  const linkWithoutTarget = new RegExp('<a href="(.*?)">', 'g');
  linkWithoutTarget.test(newMeeting.welcomeProp.welcomeMsg);

  if (linkWithoutTarget.lastIndex > 0) {
    newMeeting.welcomeProp.welcomeMsg = insertBlankTarget(newMeeting.welcomeProp.welcomeMsg, linkWithoutTarget.lastIndex - 1);
  }

  const modifier = {
    $set: Object.assign({
      meetingId,
      meetingEnded,
      publishedPoll: false
    }, flat(newMeeting, {
      safe: true
    }))
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Adding meeting to collection: ${err}`);
      return;
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      Logger.info(`Added meeting id=${meetingId}`); // TODO: Here we call Etherpad API to create this meeting notes. Is there a
      // better place we can run this post-creation routine?

      createNote(meetingId);
      createCaptions(meetingId);
    }

    if (numChanged) {
      Logger.info(`Upserted meeting id=${meetingId}`);
    }
  };

  const cbRecord = (err, numChanged) => {
    if (err) {
      Logger.error(`Adding record prop to collection: ${err}`);
      return;
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      Logger.info(`Added record prop id=${meetingId}`);
    }

    if (numChanged) {
      Logger.info(`Upserted record prop id=${meetingId}`);
    }
  };

  RecordMeetings.upsert(selector, (0, _objectSpread2.default)({
    meetingId
  }, recordProp), cbRecord);
  addAnnotationsStreamer(meetingId);
  addCursorStreamer(meetingId);
  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeLockSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/changeLockSettings.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeLockSettings
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeLockSettings(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    disableCam: Boolean,
    disableMic: Boolean,
    disablePrivChat: Boolean,
    disablePubChat: Boolean,
    disableNote: Boolean,
    hideUserList: Boolean,
    lockedLayout: Boolean,
    lockOnJoin: Boolean,
    lockOnJoinConfigurable: Boolean,
    setBy: Match.Maybe(String)
  });
  const {
    disableCam,
    disableMic,
    disablePrivChat,
    disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable,
    setBy
  } = payload;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      lockSettingsProps: {
        disableCam,
        disableMic,
        disablePrivateChat: disablePrivChat,
        disablePublicChat: disablePubChat,
        disableNote,
        hideUserList,
        lockedLayout,
        lockOnJoin,
        lockOnJoinConfigurable,
        setBy
      }
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changing meeting={${meetingId}} lock settings: ${err}`);
    }

    if (!numChanged) {
      return Logger.info(`meeting={${meetingId}} lock settings were not updated`);
    }

    return Logger.info(`Changed meeting={${meetingId}} updated lock settings`);
  };

  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeUserLock.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/changeUserLock.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeUserLock
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeUserLock(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    userId: String,
    locked: Boolean,
    lockedBy: String
  });
  const {
    userId,
    locked,
    lockedBy
  } = payload;
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      locked
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changing user lock setting: ${err}`);
    }

    if (!numChanged) {
      return Logger.info(`User's userId=${userId} lock status wasn't updated`);
    }

    return Logger.info(`User's userId=${userId} lock status was changed to: ${locked} by user userId=${lockedBy}`);
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearRecordMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/clearRecordMeeting.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => meetingHasEnded
});
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function meetingHasEnded(meetingId) {
  return RecordMeetings.remove({
    meetingId
  }, () => Logger.info(`Cleared record prop from meeting with id ${meetingId}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingHasEnded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/meetingHasEnded.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => meetingHasEnded
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let removeAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  removeAnnotationsStreamer(v) {
    removeAnnotationsStreamer = v;
  }

}, 2);
let removeCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  removeCursorStreamer(v) {
    removeCursorStreamer = v;
  }

}, 3);
let clearUsers;
module.link("/imports/api/users/server/modifiers/clearUsers", {
  default(v) {
    clearUsers = v;
  }

}, 4);
let clearUsersSettings;
module.link("/imports/api/users-settings/server/modifiers/clearUsersSettings", {
  default(v) {
    clearUsersSettings = v;
  }

}, 5);
let clearGroupChat;
module.link("/imports/api/group-chat/server/modifiers/clearGroupChat", {
  default(v) {
    clearGroupChat = v;
  }

}, 6);
let clearBreakouts;
module.link("/imports/api/breakouts/server/modifiers/clearBreakouts", {
  default(v) {
    clearBreakouts = v;
  }

}, 7);
let clearAnnotations;
module.link("/imports/api/annotations/server/modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 8);
let clearSlides;
module.link("/imports/api/slides/server/modifiers/clearSlides", {
  default(v) {
    clearSlides = v;
  }

}, 9);
let clearPolls;
module.link("/imports/api/polls/server/modifiers/clearPolls", {
  default(v) {
    clearPolls = v;
  }

}, 10);
let clearCaptions;
module.link("/imports/api/captions/server/modifiers/clearCaptions", {
  default(v) {
    clearCaptions = v;
  }

}, 11);
let clearPresentationPods;
module.link("/imports/api/presentation-pods/server/modifiers/clearPresentationPods", {
  default(v) {
    clearPresentationPods = v;
  }

}, 12);
let clearVoiceUsers;
module.link("/imports/api/voice-users/server/modifiers/clearVoiceUsers", {
  default(v) {
    clearVoiceUsers = v;
  }

}, 13);
let clearUserInfo;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfo", {
  default(v) {
    clearUserInfo = v;
  }

}, 14);
let clearNote;
module.link("/imports/api/note/server/modifiers/clearNote", {
  default(v) {
    clearNote = v;
  }

}, 15);
let clearNetworkInformation;
module.link("/imports/api/network-information/server/modifiers/clearNetworkInformation", {
  default(v) {
    clearNetworkInformation = v;
  }

}, 16);
let clearLocalSettings;
module.link("/imports/api/local-settings/server/modifiers/clearLocalSettings", {
  default(v) {
    clearLocalSettings = v;
  }

}, 17);
let clearRecordMeeting;
module.link("./clearRecordMeeting", {
  default(v) {
    clearRecordMeeting = v;
  }

}, 18);
let clearVoiceCallStates;
module.link("/imports/api/voice-call-states/server/modifiers/clearVoiceCallStates", {
  default(v) {
    clearVoiceCallStates = v;
  }

}, 19);

function meetingHasEnded(meetingId) {
  removeAnnotationsStreamer(meetingId);
  removeCursorStreamer(meetingId);
  return Meetings.remove({
    meetingId
  }, () => {
    clearCaptions(meetingId);
    clearGroupChat(meetingId);
    clearPresentationPods(meetingId);
    clearBreakouts(meetingId);
    clearPolls(meetingId);
    clearAnnotations(meetingId);
    clearSlides(meetingId);
    clearUsers(meetingId);
    clearUsersSettings(meetingId);
    clearVoiceUsers(meetingId);
    clearUserInfo(meetingId);
    clearNote(meetingId);
    clearNetworkInformation(meetingId);
    clearLocalSettings(meetingId);
    clearRecordMeeting(meetingId);
    clearVoiceCallStates(meetingId);
    return Logger.info(`Cleared Meetings with id ${meetingId}`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPublishedPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/setPublishedPoll.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPublishedPoll
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function setPublishedPoll(meetingId, isPublished) {
  check(meetingId, String);
  check(isPublished, Boolean);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      publishedPoll: isPublished
    }
  };

  const cb = err => {
    if (err != null) {
      return Logger.error(`Setting publishedPoll=${isPublished} for meetingId=${meetingId}`);
    }

    return Logger.info(`Set publishedPoll=${isPublished} in meeitingId=${meetingId}`);
  };

  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webcamOnlyModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/webcamOnlyModerator.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeWebcamOnlyModerator
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeWebcamOnlyModerator(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    webcamsOnlyForModerator: Boolean,
    setBy: String
  });
  const {
    webcamsOnlyForModerator
  } = payload;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      'usersProp.webcamsOnlyForModerator': webcamsOnlyForModerator
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changwing meeting={${meetingId}} webcam Only for Moderator: ${err}`);
    }

    if (!numChanged) {
      return Logger.info(`meeting={${meetingId}} webcam Only for Moderator were not updated`);
    }

    return Logger.info(`Changed meeting={${meetingId}} updated webcam Only for Moderator`);
  };

  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/eventHandlers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleMeetingCreation;
module.link("./handlers/meetingCreation", {
  default(v) {
    handleMeetingCreation = v;
  }

}, 1);
let handleGetAllMeetings;
module.link("./handlers/getAllMeetings", {
  default(v) {
    handleGetAllMeetings = v;
  }

}, 2);
let handleMeetingEnd;
module.link("./handlers/meetingEnd", {
  default(v) {
    handleMeetingEnd = v;
  }

}, 3);
let handleMeetingDestruction;
module.link("./handlers/meetingDestruction", {
  default(v) {
    handleMeetingDestruction = v;
  }

}, 4);
let handleMeetingLocksChange;
module.link("./handlers/meetingLockChange", {
  default(v) {
    handleMeetingLocksChange = v;
  }

}, 5);
let handleUserLockChange;
module.link("./handlers/userLockChange", {
  default(v) {
    handleUserLockChange = v;
  }

}, 6);
let handleRecordingStatusChange;
module.link("./handlers/recordingStatusChange", {
  default(v) {
    handleRecordingStatusChange = v;
  }

}, 7);
let handleRecordingTimerChange;
module.link("./handlers/recordingTimerChange", {
  default(v) {
    handleRecordingTimerChange = v;
  }

}, 8);
let handleTimeRemainingUpdate;
module.link("./handlers/timeRemainingUpdate", {
  default(v) {
    handleTimeRemainingUpdate = v;
  }

}, 9);
let handleChangeWebcamOnlyModerator;
module.link("./handlers/webcamOnlyModerator", {
  default(v) {
    handleChangeWebcamOnlyModerator = v;
  }

}, 10);
RedisPubSub.on('MeetingCreatedEvtMsg', handleMeetingCreation);
RedisPubSub.on('SyncGetMeetingInfoRespMsg', handleGetAllMeetings);
RedisPubSub.on('MeetingEndingEvtMsg', handleMeetingEnd);
RedisPubSub.on('MeetingDestroyedEvtMsg', handleMeetingDestruction);
RedisPubSub.on('LockSettingsInMeetingChangedEvtMsg', handleMeetingLocksChange);
RedisPubSub.on('UserLockedInMeetingEvtMsg', handleUserLockChange);
RedisPubSub.on('RecordingStatusChangedEvtMsg', handleRecordingStatusChange);
RedisPubSub.on('UpdateRecordingTimerEvtMsg', handleRecordingTimerChange);
RedisPubSub.on('WebcamsOnlyForModeratorChangedEvtMsg', handleChangeWebcamOnlyModerator);
RedisPubSub.on('GetLockSettingsRespMsg', handleMeetingLocksChange);
RedisPubSub.on('MeetingTimeRemainingUpdateEvtMsg', handleTimeRemainingUpdate);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/index.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let endMeeting;
module.link("./methods/endMeeting", {
  default(v) {
    endMeeting = v;
  }

}, 1);
let toggleRecording;
module.link("./methods/toggleRecording", {
  default(v) {
    toggleRecording = v;
  }

}, 2);
let transferUser;
module.link("./methods/transferUser", {
  default(v) {
    transferUser = v;
  }

}, 3);
let toggleLockSettings;
module.link("./methods/toggleLockSettings", {
  default(v) {
    toggleLockSettings = v;
  }

}, 4);
let toggleWebcamsOnlyForModerator;
module.link("./methods/toggleWebcamsOnlyForModerator", {
  default(v) {
    toggleWebcamsOnlyForModerator = v;
  }

}, 5);
Meteor.methods({
  endMeeting,
  toggleRecording,
  toggleLockSettings,
  transferUser,
  toggleWebcamsOnlyForModerator
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/publishers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Meetings, RecordMeetings, MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  },

  RecordMeetings(v) {
    RecordMeetings = v;
  },

  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function meetings(role) {
  if (!this.userId) {
    return Meetings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing meeting =${meetingId} ${requesterUserId}`);
  const selector = {
    $or: [{
      meetingId
    }]
  };
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    selector.$or.push({
      'meetingProp.isBreakout': true,
      'breakoutProps.parentId': meetingId
    });
  }

  const options = {
    fields: {
      password: false,
      'welcomeProp.modOnlyMessage': false
    }
  };
  return Meetings.find(selector, options);
}

function publish(...args) {
  const boundMeetings = meetings.bind(this);
  return boundMeetings(...args);
}

Meteor.publish('meetings', publish);

function recordMeetings() {
  if (!this.userId) {
    return RecordMeetings.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return RecordMeetings.find({
    meetingId
  });
}

function recordPublish(...args) {
  const boundRecordMeetings = recordMeetings.bind(this);
  return boundRecordMeetings(...args);
}

Meteor.publish('record-meetings', recordPublish);

function meetingTimeRemaining() {
  if (!this.userId) {
    return MeetingTimeRemaining.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return MeetingTimeRemaining.find({
    meetingId
  });
}

function timeRemainingPublish(...args) {
  const boundtimeRemaining = meetingTimeRemaining.bind(this);
  return boundtimeRemaining(...args);
}

Meteor.publish('meeting-time-remaining', timeRemainingPublish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/index.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  RecordMeetings: () => RecordMeetings,
  MeetingTimeRemaining: () => MeetingTimeRemaining
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Meetings = new Mongo.Collection('meetings');
const RecordMeetings = new Mongo.Collection('record-meetings');
const MeetingTimeRemaining = new Mongo.Collection('meeting-time-remaining');

if (Meteor.isServer) {
  // types of queries for the meetings:
  // 1. meetingId
  Meetings._ensureIndex({
    meetingId: 1
  });

  RecordMeetings._ensureIndex({
    meetingId: 1
  });

  MeetingTimeRemaining._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Meetings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"network-information":{"server":{"methods":{"userInstabilityDetected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/methods/userInstabilityDetected.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userInstabilityDetected
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function userInstabilityDetected(sender) {
  const {
    meetingId,
    requesterUserId: receiver
  } = extractCredentials(this.userId);
  check(sender, String);
  const payload = {
    time: new Date().getTime(),
    meetingId,
    receiver,
    sender
  };
  Logger.debug(`Receiver ${receiver} reported a network instability in meeting ${meetingId}`);
  return NetworkInformation.insert(payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearNetworkInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/modifiers/clearNetworkInformation.js                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearNetworkInformation
});
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearNetworkInformation(meetingId) {
  if (meetingId) {
    return NetworkInformation.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Network Information (${meetingId})`);
    });
  }

  return NetworkInformation.remove({}, () => {
    Logger.info('Cleared Network Information (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/index.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publisher");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/methods.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userInstabilityDetected;
module.link("./methods/userInstabilityDetected", {
  default(v) {
    userInstabilityDetected = v;
  }

}, 1);
Meteor.methods({
  userInstabilityDetected
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publisher.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/publisher.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function networkInformation() {
  if (!this.userId) {
    return NetworkInformation.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return NetworkInformation.find({
    meetingId
  });
}

function publish(...args) {
  const boundNetworkInformation = networkInformation.bind(this);
  return boundNetworkInformation(...args);
}

Meteor.publish('network-information', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/index.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const NetworkInformation = new Mongo.Collection('network-information');

if (Meteor.isServer) {
  NetworkInformation._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(NetworkInformation);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"note":{"server":{"handlers":{"padUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/handlers/padUpdate.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateNote;
module.link("/imports/api/note/server/modifiers/updateNote", {
  default(v) {
    updateNote = v;
  }

}, 1);

function handlePadUpdate({
  body
}) {
  const {
    pad,
    revs
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  check(revs, Number);
  updateNote(id, revs);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/methods/createNote.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createNote
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let generateNoteId, createPadURL, getReadOnlyIdURL, isEnabled, getDataFromResponse;
module.link("/imports/api/note/server/helpers", {
  generateNoteId(v) {
    generateNoteId = v;
  },

  createPadURL(v) {
    createPadURL = v;
  },

  getReadOnlyIdURL(v) {
    getReadOnlyIdURL = v;
  },

  isEnabled(v) {
    isEnabled = v;
  },

  getDataFromResponse(v) {
    getDataFromResponse = v;
  }

}, 2);
let addNote;
module.link("/imports/api/note/server/modifiers/addNote", {
  default(v) {
    addNote = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function createNote(meetingId) {
  // Avoid note creation if this feature is disabled
  if (!isEnabled()) {
    Logger.warn(`Notes are disabled for ${meetingId}`);
    return;
  }

  check(meetingId, String);
  const noteId = generateNoteId(meetingId);
  const createURL = createPadURL(noteId);
  axios({
    method: 'get',
    url: createURL,
    responseType: 'json'
  }).then(responseOuter => {
    const {
      status
    } = responseOuter;

    if (status !== 200) {
      Logger.error(`Could not get note info for ${meetingId} ${status}`);
    }

    const readOnlyURL = getReadOnlyIdURL(noteId);
    axios({
      method: 'get',
      url: readOnlyURL,
      responseType: 'json'
    }).then(response => {
      const readOnlyNoteId = getDataFromResponse(response.data, 'readOnlyID');

      if (readOnlyNoteId) {
        addNote(meetingId, noteId, readOnlyNoteId);
      } else {
        Logger.error(`Could not get note readOnlyID for ${meetingId}`);
      }
    }).catch(error => Logger.error(`Could not get note readOnlyID for ${meetingId}: ${error}`));
  }).catch(error => Logger.error(`Could not create note for ${meetingId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/addNote.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addNote
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addNote(meetingId, noteId, readOnlyNoteId) {
  check(meetingId, String);
  check(noteId, String);
  check(readOnlyNoteId, String);
  const selector = {
    meetingId,
    noteId
  };
  const modifier = {
    meetingId,
    noteId,
    readOnlyNoteId,
    revs: 0
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding note to the collection: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Added note id=${noteId} readOnlyId=${readOnlyNoteId} meeting=${meetingId}`);
    }

    return Logger.info(`Upserted note id=${noteId} readOnlyId=${readOnlyNoteId} meeting=${meetingId}`);
  };

  return Note.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/clearNote.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearNote
});
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearNote(meetingId) {
  if (meetingId) {
    return Note.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Note (${meetingId})`);
    });
  }

  return Note.remove({}, () => {
    Logger.info('Cleared Note (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/updateNote.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateNote
});
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function updateNote(noteId, revs) {
  check(noteId, String);
  check(revs, Number);
  const selector = {
    noteId
  };
  const modifier = {
    $set: {
      revs
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating note pad: ${err}`);
    }

    return Logger.verbose(`Update note pad=${noteId} revs=${revs}`);
  };

  return Note.update(selector, modifier, {
    multi: true
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/eventHandlers.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForNotePadOnly;
module.link("/imports/api/note/server/helpers", {
  processForNotePadOnly(v) {
    processForNotePadOnly = v;
  }

}, 1);
let handlePadUpdate;
module.link("./handlers/padUpdate", {
  default(v) {
    handlePadUpdate = v;
  }

}, 2);
RedisPubSub.on('PadUpdateSysMsg', processForNotePadOnly(handlePadUpdate));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/helpers.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  generateNoteId: () => generateNoteId,
  createPadURL: () => createPadURL,
  getReadOnlyIdURL: () => getReadOnlyIdURL,
  isEnabled: () => isEnabled,
  getDataFromResponse: () => getDataFromResponse,
  appendTextURL: () => appendTextURL,
  processForNotePadOnly: () => processForNotePadOnly
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let hashFNV32a;
module.link("/imports/api/common/server/helpers", {
  hashFNV32a(v) {
    hashFNV32a = v;
  }

}, 1);
const ETHERPAD = Meteor.settings.private.etherpad;
const NOTE_CONFIG = Meteor.settings.public.note;
const BASE_URL = `http://${ETHERPAD.host}:${ETHERPAD.port}/api/${ETHERPAD.version}`;
const TOKEN = '_';

const createPadURL = padId => `${BASE_URL}/createPad?apikey=${ETHERPAD.apikey}&padID=${padId}`;

const getReadOnlyIdURL = padId => `${BASE_URL}/getReadOnlyID?apikey=${ETHERPAD.apikey}&padID=${padId}`;

const appendTextURL = (padId, text) => `${BASE_URL}/appendText?apikey=${ETHERPAD.apikey}&padID=${padId}&text=${encodeURIComponent(text)}`;

const generateNoteId = meetingId => {
  const noteId = hashFNV32a(meetingId, true);
  return noteId;
};

const isEnabled = () => NOTE_CONFIG.enabled;

const getDataFromResponse = (data, key) => {
  if (data) {
    const innerData = data.data;

    if (innerData && innerData[key]) {
      return innerData[key];
    }
  }

  return null;
};

const isNotePad = padId => padId.search(TOKEN);

const processForNotePadOnly = fn => (message, ...args) => {
  const {
    body
  } = message;
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  if (isNotePad(id)) return fn(message, ...args);
  return () => {};
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./publishers");
module.link("./eventHandlers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/publishers.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function note() {
  if (!this.userId) {
    return Note.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`Publishing note for ${meetingId} ${requesterUserId}`);
  return Note.find({
    meetingId
  });
}

function publish(...args) {
  const boundNote = note.bind(this);
  return boundNote(...args);
}

Meteor.publish('note', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/index.js                                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Note = new Mongo.Collection('note');

if (Meteor.isServer) {
  Note._ensureIndex({
    meetingId: 1,
    noteId: 1
  });
}

module.exportDefault(Note);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"ping-pong":{"server":{"methods":{"ping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/methods/ping.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => ping
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function ping() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const modifier = {
    $set: {
      lastPing: Date.now()
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Error updating lastPing for ${requesterUserId}: ${err}`);
    }
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/index.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./publishers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/methods.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let ping;
module.link("./methods/ping", {
  default(v) {
    ping = v;
  }

}, 1);
Meteor.methods({
  ping
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/publishers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
const COLLECTION_NAME = 'ping-pong';
const INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.clearUsersInSeconds * 1000;
const INTERVAL_TIME = INTERVAL_IN_SETTINGS < 10000 ? 10000 : INTERVAL_IN_SETTINGS;
const PONG_INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.pongTimeInSeconds * 1000;
const PONG_INTERVAL = PONG_INTERVAL_IN_SETTINGS >= INTERVAL_TIME / 2 ? INTERVAL_TIME / 2 : PONG_INTERVAL_IN_SETTINGS;

function pingPong() {
  if (!this.userId) {
    return; // TODO-- is there a more appropriate set to return?
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);

  const id = _.uniqueId('pong-');

  Logger.info(`Starting ping-pong publish for userId: ${requesterUserId}`);

  const pongSender = interval => {
    const payload = {
      pong: {
        message: 'pong',
        time: Date.now(),
        meetingId
      }
    };
    let fn = this.added.bind(this);
    if (interval) fn = this.changed.bind(this);
    fn(COLLECTION_NAME, id, payload);
  };

  pongSender();
  this.ready();
  const interval = Meteor.setInterval(() => pongSender(true), PONG_INTERVAL);
  this.onStop(() => {
    Meteor.clearInterval(interval);
  });
}

Meteor.publish('ping-pong', pingPong);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"polls":{"server":{"handlers":{"pollPublished.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollPublished.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollPublished
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePoll;
module.link("../modifiers/removePoll", {
  default(v) {
    removePoll = v;
  }

}, 1);
let setPublishedPoll;
module.link("../../../meetings/server/modifiers/setPublishedPoll", {
  default(v) {
    setPublishedPoll = v;
  }

}, 2);

function pollPublished({
  body
}, meetingId) {
  const {
    pollId
  } = body;
  check(meetingId, String);
  check(pollId, String);
  setPublishedPoll(meetingId, true);
  return removePoll(meetingId, pollId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pollStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollStarted.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollStarted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPoll;
module.link("../modifiers/addPoll", {
  default(v) {
    addPoll = v;
  }

}, 1);
let setPublishedPoll;
module.link("../../../meetings/server/modifiers/setPublishedPoll", {
  default(v) {
    setPublishedPoll = v;
  }

}, 2);

function pollStarted({
  body
}, meetingId) {
  const {
    userId
  } = body;
  const {
    poll
  } = body;
  check(meetingId, String);
  check(userId, String);
  check(poll, Object);
  setPublishedPoll(meetingId, false);
  return addPoll(meetingId, userId, poll);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pollStopped.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollStopped.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollStopped
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePoll;
module.link("../modifiers/removePoll", {
  default(v) {
    removePoll = v;
  }

}, 1);
let clearPolls;
module.link("../modifiers/clearPolls", {
  default(v) {
    clearPolls = v;
  }

}, 2);

function pollStopped({
  body
}, meetingId) {
  const {
    poll
  } = body;
  check(meetingId, String);

  if (poll) {
    const {
      pollId
    } = poll;
    check(pollId, String);
    return removePoll(meetingId, pollId);
  }

  return clearPolls(meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userResponded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/userResponded.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userResponded
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function userResponded({
  body
}) {
  const {
    pollId,
    userId,
    answerId
  } = body;
  check(pollId, String);
  check(userId, String);
  check(answerId, Number);
  const selector = {
    id: pollId
  };
  const modifier = {
    $pull: {
      users: userId
    },
    $push: {
      responses: {
        userId,
        answerId
      }
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating Poll responses: ${err}`);
    }

    return Logger.info(`Updating Poll response (userId: ${userId},` + `response: ${answerId}, pollId: ${pollId})`);
  };

  return Polls.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userVoted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/userVoted.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userVoted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVotes;
module.link("../modifiers/updateVotes", {
  default(v) {
    updateVotes = v;
  }

}, 1);

function userVoted({
  body
}, meetingId) {
  const {
    poll
  } = body;
  check(meetingId, String);
  check(poll, {
    id: String,
    answers: [{
      id: Number,
      key: String,
      numVotes: Number
    }],
    numRespondents: Number,
    numResponders: Number
  });
  return updateVotes(poll, meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"publishPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/publishPoll.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function publishPoll() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ShowPollResultReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const poll = Polls.findOne({
    meetingId
  }); // TODO--send pollid from client

  if (!poll) {
    Logger.error(`Attempted to publish inexisting poll for meetingId: ${meetingId}`);
    return false;
  }

  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, {
    requesterId: requesterUserId,
    pollId: poll.id
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishVote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/publishVote.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishVote
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function publishVote(id, pollAnswerId) {
  // TODO discuss location
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'RespondToPollReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  /*
   We keep an array of people who were in the meeting at the time the poll
   was started. The poll is published to them only.
   Once they vote - their ID is removed and they cannot see the poll anymore
   */

  const currentPoll = Polls.findOne({
    users: requesterUserId,
    meetingId,
    'answers.id': pollAnswerId,
    id
  });
  check(pollAnswerId, Number);
  check(currentPoll, Object);
  check(currentPoll.meetingId, String);
  const payload = {
    requesterId: requesterUserId,
    pollId: currentPoll.id,
    questionId: 0,
    answerId: pollAnswerId
  };
  const selector = {
    users: requesterUserId,
    meetingId,
    'answers.id': pollAnswerId
  };
  const modifier = {
    $pull: {
      users: requesterUserId
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating Polls collection: ${err}`);
    }

    return Logger.info(`Updating Polls collection (meetingId: ${meetingId}, ` + `pollId: ${currentPoll.id}!)`);
  };

  Polls.update(selector, modifier, cb);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/startPoll.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function startPoll(pollType, pollId, answers) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  let EVENT_NAME = 'StartPollReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(pollId, String);
  check(pollType, String);
  const payload = {
    requesterId: requesterUserId,
    pollId: `${pollId}/${new Date().getTime()}`,
    pollType
  };

  if (pollType === 'custom') {
    EVENT_NAME = 'StartCustomPollReqMsg';
    check(answers, Array);
    payload.answers = answers;
  }

  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/stopPoll.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);

function stopPoll() {
  const {
    meetingId,
    requesterUserId: requesterId
  } = extractCredentials(this.userId);
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StopPollReqMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterId, {
    requesterId
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/addPoll.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPoll
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

function addPoll(meetingId, requesterId, poll) {
  check(requesterId, String);
  check(meetingId, String);
  check(poll, {
    id: String,
    answers: [{
      id: Number,
      key: String
    }]
  });
  const userSelector = {
    meetingId,
    userId: {
      $ne: requesterId
    },
    clientType: {
      $ne: 'dial-in-user'
    }
  };
  const userIds = Users.find(userSelector, {
    fields: {
      userId: 1
    }
  }).fetch().map(user => user.userId);
  const selector = {
    meetingId,
    requester: requesterId,
    id: poll.id
  };
  const modifier = Object.assign({
    meetingId
  }, {
    requester: requesterId
  }, {
    users: userIds
  }, flat(poll, {
    safe: true
  }));

  const cb = (err, numChanged) => {
    if (err != null) {
      return Logger.error(`Adding Poll to collection: ${poll.id}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added Poll id=${poll.id}`);
    }

    return Logger.info(`Upserted Poll id=${poll.id}`);
  };

  return Polls.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPolls.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/clearPolls.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPolls
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPolls(meetingId) {
  if (meetingId) {
    return Polls.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Polls (${meetingId})`);
    });
  }

  return Polls.remove({}, () => {
    Logger.info('Cleared Polls (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/removePoll.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePoll
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function removePoll(meetingId, id) {
  check(meetingId, String);
  check(id, String);
  const selector = {
    meetingId,
    id
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Removing Poll from collection: ${err}`);
    }

    return Logger.info(`Removed Poll id=${id}`);
  };

  return Polls.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateVotes.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/updateVotes.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateVotes
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function updateVotes(poll, meetingId) {
  check(meetingId, String);
  check(poll, Object);
  const {
    id,
    answers,
    numResponders,
    numRespondents
  } = poll;
  check(id, String);
  check(answers, Array);
  check(numResponders, Number);
  check(numRespondents, Number);
  const selector = {
    meetingId,
    id
  };
  const modifier = {
    $set: flat(poll, {
      safe: true
    })
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating Polls collection: ${err}`);
    }

    return Logger.info(`Updating Polls collection (meetingId: ${meetingId}, pollId: ${id}!)`);
  };

  return Polls.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/eventHandlers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handlePollStarted;
module.link("./handlers/pollStarted", {
  default(v) {
    handlePollStarted = v;
  }

}, 1);
let handlePollStopped;
module.link("./handlers/pollStopped", {
  default(v) {
    handlePollStopped = v;
  }

}, 2);
let handlePollPublished;
module.link("./handlers/pollPublished", {
  default(v) {
    handlePollPublished = v;
  }

}, 3);
let handleUserVoted;
module.link("./handlers/userVoted", {
  default(v) {
    handleUserVoted = v;
  }

}, 4);
let handleUserResponded;
module.link("./handlers/userResponded", {
  default(v) {
    handleUserResponded = v;
  }

}, 5);
RedisPubSub.on('PollShowResultEvtMsg', handlePollPublished);
RedisPubSub.on('PollStartedEvtMsg', handlePollStarted);
RedisPubSub.on('PollStoppedEvtMsg', handlePollStopped);
RedisPubSub.on('PollUpdatedEvtMsg', handleUserVoted);
RedisPubSub.on('UserRespondedToPollRespMsg', handleUserResponded);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/index.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let publishVote;
module.link("./methods/publishVote", {
  default(v) {
    publishVote = v;
  }

}, 1);
let publishPoll;
module.link("./methods/publishPoll", {
  default(v) {
    publishPoll = v;
  }

}, 2);
let startPoll;
module.link("./methods/startPoll", {
  default(v) {
    startPoll = v;
  }

}, 3);
let stopPoll;
module.link("./methods/stopPoll", {
  default(v) {
    stopPoll = v;
  }

}, 4);
Meteor.methods({
  publishVote,
  publishPoll,
  startPoll,
  stopPoll
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/publishers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function currentPoll() {
  if (!this.userId) {
    return Polls.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId
  };
  Logger.debug(`Publishing poll for meeting=${meetingId}`);
  return Polls.find(selector);
}

function publishCurrentPoll(...args) {
  const boundPolls = currentPoll.bind(this);
  return boundPolls(...args);
}

Meteor.publish('current-poll', publishCurrentPoll);

function polls() {
  if (!this.userId) {
    return Polls.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing polls =${meetingId} ${requesterUserId}`);
  const selector = {
    meetingId,
    users: requesterUserId
  };
  return Polls.find(selector);
}

function publish(...args) {
  const boundPolls = polls.bind(this);
  return boundPolls(...args);
}

Meteor.publish('polls', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/index.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Polls = new Mongo.Collection('polls');

if (Meteor.isServer) {
  // We can have just one active poll per meeting
  // makes no sense to index it by anything other than meetingId
  Polls._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Polls);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentation-pods":{"server":{"handlers":{"createNewPresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/createNewPresentationPod.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleCreateNewPresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPresentationPod;
module.link("../modifiers/addPresentationPod", {
  default(v) {
    addPresentationPod = v;
  }

}, 1);

function handleCreateNewPresentationPod({
  body
}, meetingId) {
  check(body, {
    currentPresenterId: String,
    podId: String
  });
  check(meetingId, String);
  const {
    currentPresenterId,
    podId
  } = body;
  const pod = {
    currentPresenterId,
    podId
  };
  addPresentationPod(meetingId, pod);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/removePresentationPod.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRemovePresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePresentationPod;
module.link("../modifiers/removePresentationPod", {
  default(v) {
    removePresentationPod = v;
  }

}, 1);

function handleRemovePresentationPod({
  body
}, meetingId) {
  check(body, Object);
  check(meetingId, String);
  const {
    podId
  } = body;
  check(podId, String);
  removePresentationPod(meetingId, podId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresenterInPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/setPresenterInPod.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSetPresenterInPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setPresenterInPod;
module.link("../modifiers/setPresenterInPod", {
  default(v) {
    setPresenterInPod = v;
  }

}, 1);

function handleSetPresenterInPod({
  body
}, meetingId) {
  check(body, Object);
  const {
    podId,
    nextPresenterId
  } = body;
  check(podId, String);
  check(nextPresenterId, String);
  setPresenterInPod(meetingId, podId, nextPresenterId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"syncGetPresentationPods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/syncGetPresentationPods.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSyncGetPresentationPods
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let removePresentationPod;
module.link("../modifiers/removePresentationPod", {
  default(v) {
    removePresentationPod = v;
  }

}, 2);
let addPresentationPod;
module.link("../modifiers/addPresentationPod", {
  default(v) {
    addPresentationPod = v;
  }

}, 3);

function handleSyncGetPresentationPods({
  body
}, meetingId) {
  check(body, Object);
  check(meetingId, String);
  const {
    pods
  } = body;
  check(pods, Array);
  const presentationPodIds = pods.map(pod => pod.id);
  const presentationPodsToRemove = PresentationPods.find({
    meetingId,
    podId: {
      $nin: presentationPodIds
    }
  }, {
    fields: {
      podId: 1
    }
  }).fetch();
  presentationPodsToRemove.forEach(p => removePresentationPod(meetingId, p.podId));
  pods.forEach(pod => {
    // 'podId' and 'currentPresenterId' for some reason called 'id' and 'currentPresenter'
    // in this message
    const {
      id: podId,
      currentPresenter: currentPresenterId,
      presentations
    } = pod;
    addPresentationPod(meetingId, {
      podId,
      currentPresenterId
    }, presentations);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/addPresentationPod.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPresentationPod
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let addPresentation;
module.link("/imports/api/presentations/server/modifiers/addPresentation", {
  default(v) {
    addPresentation = v;
  }

}, 3);

function addPresentationPod(meetingId, pod, presentations = undefined) {
  check(meetingId, String);
  check(presentations, Match.Maybe(Array));
  check(pod, {
    currentPresenterId: String,
    podId: String
  });
  const {
    currentPresenterId,
    podId
  } = pod;
  const selector = {
    meetingId,
    podId
  };
  const modifier = {
    meetingId,
    podId,
    currentPresenterId
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding presentation pod to the collection: ${err}`);
    } // if it's a Sync message - continue adding the attached presentations


    if (presentations) {
      presentations.forEach(presentation => addPresentation(meetingId, podId, presentation));
    }

    if (numChanged) {
      return Logger.info(`Added presentation pod id=${podId} meeting=${meetingId}`);
    }

    return Logger.info(`Upserted presentation pod id=${podId} meeting=${meetingId}`);
  };

  return PresentationPods.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPresentationPods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/clearPresentationPods.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentationPods
});
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let clearPresentations;
module.link("/imports/api/presentations/server/modifiers/clearPresentations", {
  default(v) {
    clearPresentations = v;
  }

}, 2);
let clearPresentationUploadToken;
module.link("/imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken", {
  default(v) {
    clearPresentationUploadToken = v;
  }

}, 3);

function clearPresentationPods(meetingId) {
  if (meetingId) {
    return PresentationPods.remove({
      meetingId
    }, () => {
      clearPresentations(meetingId);
      clearPresentationUploadToken(meetingId);
      Logger.info(`Cleared Presentations Pods (${meetingId})`);
    });
  }

  return PresentationPods.remove({}, () => {
    clearPresentations();
    clearPresentationUploadToken();
    Logger.info('Cleared Presentations Pods (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/removePresentationPod.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let clearPresentations;
module.link("/imports/api/presentations/server/modifiers/clearPresentations", {
  default(v) {
    clearPresentations = v;
  }

}, 3);
let clearPresentationUploadToken;
module.link("/imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken", {
  default(v) {
    clearPresentationUploadToken = v;
  }

}, 4);

function removePresentationPod(meetingId, podId) {
  check(meetingId, String);
  check(podId, String);
  const selector = {
    meetingId,
    podId
  };

  const cb = err => {
    if (err) {
      Logger.error(`Removing presentation pod from collection: ${err}`);
      return;
    }

    if (podId) {
      Logger.info(`Removed presentation pod id=${podId} meeting=${meetingId}`);
      clearPresentations(meetingId, podId);
      clearPresentationUploadToken(meetingId, podId);
    }
  };

  return PresentationPods.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresenterInPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/setPresenterInPod.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresenterInPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setPresenterInPod(meetingId, podId, nextPresenterId) {
  check(meetingId, String);
  check(podId, String);
  check(nextPresenterId, String);
  const selector = {
    meetingId,
    podId
  };
  const modifier = {
    $set: {
      currentPresenterId: nextPresenterId
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Setting a presenter in pod: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Set a new presenter in pod id=${podId} meeting=${meetingId}`);
    }
  };

  return PresentationPods.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/eventHandlers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleCreateNewPresentationPod;
module.link("./handlers/createNewPresentationPod", {
  default(v) {
    handleCreateNewPresentationPod = v;
  }

}, 1);
let handleRemovePresentationPod;
module.link("./handlers/removePresentationPod", {
  default(v) {
    handleRemovePresentationPod = v;
  }

}, 2);
let handleSyncGetPresentationPods;
module.link("./handlers/syncGetPresentationPods", {
  default(v) {
    handleSyncGetPresentationPods = v;
  }

}, 3);
let handleSetPresenterInPod;
module.link("./handlers/setPresenterInPod", {
  default(v) {
    handleSetPresenterInPod = v;
  }

}, 4);
RedisPubSub.on('CreateNewPresentationPodEvtMsg', handleCreateNewPresentationPod);
RedisPubSub.on('RemovePresentationPodEvtMsg', handleRemovePresentationPod);
RedisPubSub.on('SetPresenterInPodRespMsg', handleSetPresenterInPod);
RedisPubSub.on('SyncGetPresentationPodsRespMsg', handleSyncGetPresentationPods);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/index.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/methods.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/publishers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function presentationPods() {
  if (!this.userId) {
    return PresentationPods.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing presentation-pods for ${meetingId} ${requesterUserId}`);
  return PresentationPods.find({
    meetingId
  });
}

function publish(...args) {
  const boundPresentationPods = presentationPods.bind(this);
  return boundPresentationPods(...args);
}

Meteor.publish('presentation-pods', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const PresentationPods = new Mongo.Collection('presentation-pods');

if (Meteor.isServer) {
  // types of queries for the presentation pods:
  // 1. meetingId, podId  ( 4 )
  PresentationPods._ensureIndex({
    meetingId: 1,
    podId: 1
  });
}

module.exportDefault(PresentationPods);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentation-upload-token":{"server":{"handlers":{"presentationUploadTokenFail.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/handlers/presentationUploadTokenFail.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationUploadTokenFail
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);

function handlePresentationUploadTokenFail({
  body,
  header
}, meetingId) {
  check(body, Object);
  const {
    userId
  } = header;
  const {
    podId,
    filename
  } = body;
  check(userId, String);
  check(podId, String);
  check(filename, String);
  const selector = {
    meetingId,
    userId,
    podId,
    filename
  };

  const cb = err => {
    if (err) {
      Logger.error(`Removing presentationToken from collection: ${err}`);
      return;
    }

    Logger.info(`Removing presentationToken filename=${filename} podId=${podId} meeting=${meetingId}`);
  };

  return PresentationUploadToken.upsert(selector, {
    failed: true,
    authzToken: null
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationUploadTokenPass.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/handlers/presentationUploadTokenPass.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationUploadTokenPass
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);

function handlePresentationUploadTokenPass({
  body,
  header
}, meetingId) {
  check(body, Object);
  const {
    userId
  } = header;
  const {
    podId,
    authzToken,
    filename
  } = body;
  check(userId, String);
  check(podId, String);
  check(authzToken, String);
  check(filename, String);
  const selector = {
    meetingId,
    podId,
    userId,
    filename
  };
  const doc = {
    meetingId,
    podId,
    userId,
    filename,
    authzToken,
    failed: false,
    used: false
  };

  const cb = err => {
    if (err) {
      Logger.error(`Inserting presentationToken from collection: ${err}`);
      return;
    }

    Logger.info(`Inserting presentationToken filename=${filename} podId=${podId} meeting=${meetingId}`);
  };

  return PresentationUploadToken.upsert(selector, doc, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"requestPresentationUploadToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods/requestPresentationUploadToken.js                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => requestPresentationUploadToken
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function requestPresentationUploadToken(podId, filename) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'PresentationUploadTokenReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(podId, String);
  check(filename, String);
  const payload = {
    podId,
    filename
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUsedToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods/setUsedToken.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUsedToken
});
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setUsedToken(authzToken) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    $set: {
      used: true
    }
  };

  const cb = err => {
    if (err) {
      Logger.error(`Unable to set token as used : ${err}`);
      return;
    }

    Logger.info(`Token: ${authzToken} has been set as used in meeting=${meetingId}`);
  };

  return PresentationUploadToken.update({
    meetingId,
    userId: requesterUserId,
    authzToken
  }, payload, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearPresentationUploadToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken.js                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentationUploadToken
});
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPresentationUploadToken(meetingId, podId) {
  if (meetingId && podId) {
    return PresentationUploadToken.remove({
      meetingId,
      podId
    }, () => {
      Logger.info(`Cleared Presentations Upload Token (${meetingId}, ${podId})`);
    });
  }

  if (meetingId) {
    return PresentationUploadToken.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Presentations Upload Token (${meetingId})`);
    });
  } // clearing presentations for the whole server


  return PresentationUploadToken.remove({}, () => {
    Logger.info('Cleared Presentations Upload Token (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/eventHandlers.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handlePresentationUploadTokenPass;
module.link("./handlers/presentationUploadTokenPass", {
  default(v) {
    handlePresentationUploadTokenPass = v;
  }

}, 2);
let handlePresentationUploadTokenFail;
module.link("./handlers/presentationUploadTokenFail", {
  default(v) {
    handlePresentationUploadTokenFail = v;
  }

}, 3);
RedisPubSub.on('PresentationUploadTokenPassRespMsg', processForHTML5ServerOnly(handlePresentationUploadTokenPass));
RedisPubSub.on('PresentationUploadTokenFailRespMsg', processForHTML5ServerOnly(handlePresentationUploadTokenFail));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/index.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let requestPresentationUploadToken;
module.link("./methods/requestPresentationUploadToken", {
  default(v) {
    requestPresentationUploadToken = v;
  }

}, 1);
let setUsedToken;
module.link("./methods/setUsedToken", {
  default(v) {
    setUsedToken = v;
  }

}, 2);
Meteor.methods({
  requestPresentationUploadToken,
  setUsedToken
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/publishers.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function presentationUploadToken(podId, filename) {
  if (!this.userId) {
    return PresentationUploadToken.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(podId, String);
  check(filename, String);
  const selector = {
    meetingId,
    podId,
    userId: requesterUserId,
    filename
  };
  Logger.debug(`Publishing PresentationUploadToken for ${meetingId} ${requesterUserId}`);
  return PresentationUploadToken.find(selector);
}

function publish(...args) {
  const boundPresentationUploadToken = presentationUploadToken.bind(this);
  return boundPresentationUploadToken(...args);
}

Meteor.publish('presentation-upload-token', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/index.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
const PresentationUploadToken = new Mongo.Collection('presentation-upload-token');
module.exportDefault(PresentationUploadToken);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentations":{"server":{"handlers":{"presentationAdded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationAdded.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationAdded
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPresentation;
module.link("../modifiers/addPresentation", {
  default(v) {
    addPresentation = v;
  }

}, 1);

function handlePresentationAdded({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentation,
    podId
  } = body;
  check(meetingId, String);
  check(podId, String);
  check(presentation, Object);
  return addPresentation(meetingId, podId, presentation);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationConversionUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationConversionUpdate.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationConversionUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 2);
// const OFFICE_DOC_CONVERSION_SUCCESS_KEY = 'OFFICE_DOC_CONVERSION_SUCCESS';
const OFFICE_DOC_CONVERSION_FAILED_KEY = 'OFFICE_DOC_CONVERSION_FAILED';
const OFFICE_DOC_CONVERSION_INVALID_KEY = 'OFFICE_DOC_CONVERSION_INVALID';
const SUPPORTED_DOCUMENT_KEY = 'SUPPORTED_DOCUMENT';
const UNSUPPORTED_DOCUMENT_KEY = 'UNSUPPORTED_DOCUMENT';
const PAGE_COUNT_FAILED_KEY = 'PAGE_COUNT_FAILED';
const PAGE_COUNT_EXCEEDED_KEY = 'PAGE_COUNT_EXCEEDED';
const PDF_HAS_BIG_PAGE_KEY = 'PDF_HAS_BIG_PAGE';
const GENERATED_SLIDE_KEY = 'GENERATED_SLIDE'; // const GENERATING_THUMBNAIL_KEY = 'GENERATING_THUMBNAIL';
// const GENERATED_THUMBNAIL_KEY = 'GENERATED_THUMBNAIL';
// const GENERATING_TEXTFILES_KEY = 'GENERATING_TEXTFILES';
// const GENERATED_TEXTFILES_KEY = 'GENERATED_TEXTFILES';
// const GENERATING_SVGIMAGES_KEY = 'GENERATING_SVGIMAGES';
// const GENERATED_SVGIMAGES_KEY = 'GENERATED_SVGIMAGES';
// const CONVERSION_COMPLETED_KEY = 'CONVERSION_COMPLETED';

function handlePresentationConversionUpdate({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId,
    messageKey: status,
    presName: presentationName
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(status, String);
  const statusModifier = {
    'conversion.status': status,
    'conversion.error': false,
    'conversion.done': false
  };

  switch (status) {
    case SUPPORTED_DOCUMENT_KEY:
      statusModifier.id = presentationId;
      statusModifier.name = presentationName;
      break;

    case UNSUPPORTED_DOCUMENT_KEY:
    case OFFICE_DOC_CONVERSION_FAILED_KEY:
    case OFFICE_DOC_CONVERSION_INVALID_KEY:
    case PAGE_COUNT_FAILED_KEY:
    case PAGE_COUNT_EXCEEDED_KEY:
    case PDF_HAS_BIG_PAGE_KEY:
      statusModifier.id = presentationId;
      statusModifier.name = presentationName;
      statusModifier['conversion.error'] = true;
      break;

    case GENERATED_SLIDE_KEY:
      statusModifier['conversion.pagesCompleted'] = body.pagesCompleted;
      statusModifier['conversion.numPages'] = body.numberOfPages;
      break;

    default:
      break;
  }

  const selector = {
    meetingId,
    podId,
    id: presentationId
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      podId
    }, statusModifier)
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Updating conversion status presentation to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Updated presentation conversion status=${status} id=${presentationId} meeting=${meetingId}`);
    }

    return Logger.debug(`Upserted presentation conversion status=${status} id=${presentationId} meeting=${meetingId}`);
  };

  return Presentations.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationCurrentSet.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationCurrentSet.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationCurrentSet
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setCurrentPresentation;
module.link("../modifiers/setCurrentPresentation", {
  default(v) {
    setCurrentPresentation = v;
  }

}, 1);

function handlePresentationCurrentSet({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  return setCurrentPresentation(meetingId, podId, presentationId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationDownloadableSet.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationDownloadableSet.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationDownloadableSet
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setPresentationDownloadable;
module.link("../modifiers/setPresentationDownloadable", {
  default(v) {
    setPresentationDownloadable = v;
  }

}, 1);

function handlePresentationDownloadableSet({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId,
    downloadable
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(downloadable, Boolean);
  return setPresentationDownloadable(meetingId, podId, presentationId, downloadable);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationRemove.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationRemove.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationRemove
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePresentation;
module.link("../modifiers/removePresentation", {
  default(v) {
    removePresentation = v;
  }

}, 1);

function handlePresentationRemove({
  body
}, meetingId) {
  const {
    podId,
    presentationId
  } = body;
  check(meetingId, String);
  check(podId, String);
  check(presentationId, String);
  return removePresentation(meetingId, podId, presentationId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"removePresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/removePresentation.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function removePresentation(presentationId, podId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'RemovePresentationPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(presentationId, String);
  check(podId, String);
  const payload = {
    presentationId,
    podId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/setPresentation.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setPresentation(presentationId, podId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetCurrentPresentationPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(presentationId, String);
  check(podId, String);
  const payload = {
    presentationId,
    podId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentationDownloadable.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/setPresentationDownloadable.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentationDownloadable
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setPresentationDownloadable(presentationId, downloadable) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetPresentationDownloadablePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(downloadable, Boolean);
  check(presentationId, String);
  const payload = {
    presentationId,
    podId: 'DEFAULT_PRESENTATION_POD',
    downloadable
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/addPresentation.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPresentation
});
let HTTP;
module.link("meteor/http", {
  HTTP(v) {
    HTTP = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 4);
let addSlide;
module.link("/imports/api/slides/server/modifiers/addSlide", {
  default(v) {
    addSlide = v;
  }

}, 5);
let setCurrentPresentation;
module.link("./setCurrentPresentation", {
  default(v) {
    setCurrentPresentation = v;
  }

}, 6);

const getSlideText = url => Promise.asyncApply(() => {
  let content = '';

  try {
    content = Promise.await(HTTP.get(url).content);
  } catch (error) {
    Logger.error(`No file found. ${error}`);
  }

  return content;
});

const addSlides = (meetingId, podId, presentationId, slides) => {
  slides.forEach(slide => Promise.asyncApply(() => {
    const content = Promise.await(getSlideText(slide.txtUri));
    Object.assign(slide, {
      content
    });
    addSlide(meetingId, podId, presentationId, slide);
  }));
};

function addPresentation(meetingId, podId, presentation) {
  check(meetingId, String);
  check(podId, String);
  check(presentation, {
    id: String,
    name: String,
    current: Boolean,
    pages: [{
      id: String,
      num: Number,
      thumbUri: String,
      swfUri: String,
      txtUri: String,
      svgUri: String,
      current: Boolean,
      xOffset: Number,
      yOffset: Number,
      widthRatio: Number,
      heightRatio: Number
    }],
    downloadable: Boolean
  });
  const selector = {
    meetingId,
    podId,
    id: presentation.id
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      podId,
      'conversion.done': true,
      'conversion.error': false
    }, flat(presentation, {
      safe: true
    }))
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding presentation to collection: ${err}`);
    }

    addSlides(meetingId, podId, presentation.id, presentation.pages);
    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      if (presentation.current) {
        setCurrentPresentation(meetingId, podId, presentation.id);
      }

      return Logger.info(`Added presentation id=${presentation.id} meeting=${meetingId}`);
    }

    return Logger.info(`Upserted presentation id=${presentation.id} meeting=${meetingId}`);
  };

  return Presentations.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPresentations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/clearPresentations.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentations
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPresentations(meetingId, podId) {
  // clearing presentations for 1 pod
  if (meetingId && podId) {
    return Presentations.remove({
      meetingId,
      podId
    }, () => {
      Logger.info(`Cleared Presentations (${meetingId}, ${podId})`);
    });
  } // clearing presentations for the whole meeting


  if (meetingId) {
    return Presentations.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Presentations (${meetingId})`);
    });
  } // clearing presentations for the whole server


  return Presentations.remove({}, () => {
    Logger.info('Cleared Presentations (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/removePresentation.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let clearSlidesPresentation;
module.link("/imports/api/slides/server/modifiers/clearSlidesPresentation", {
  default(v) {
    clearSlidesPresentation = v;
  }

}, 3);

function removePresentation(meetingId, podId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  const selector = {
    meetingId,
    podId,
    id: presentationId
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Removing presentation from collection: ${err}`);
      return;
    }

    if (numChanged) {
      clearSlidesPresentation(meetingId, presentationId);
      Logger.info(`Removed presentation id=${presentationId} meeting=${meetingId}`);
    }
  };

  return Presentations.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setCurrentPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/setCurrentPresentation.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setCurrentPresentation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setCurrentPresentation(meetingId, podId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  const oldCurrent = {
    selector: {
      meetingId,
      podId,
      current: true
    },
    modifier: {
      $set: {
        current: false
      }
    },
    callback: err => {
      if (err) {
        return Logger.error(`Unsetting the current presentation: ${err}`);
      }

      return Logger.info('Unsetted as current presentation');
    }
  };
  const newCurrent = {
    selector: {
      meetingId,
      podId,
      id: presentationId
    },
    modifier: {
      $set: {
        current: true
      }
    },
    callback: err => {
      if (err) {
        return Logger.error(`Setting as current presentation id=${presentationId}: ${err}`);
      }

      return Logger.info(`Setted as current presentation id=${presentationId}`);
    }
  };
  const oldPresentation = Presentations.findOne(oldCurrent.selector);
  const newPresentation = Presentations.findOne(newCurrent.selector); // Prevent bug with presentation being unset, same happens in the slide
  // See: https://github.com/bigbluebutton/bigbluebutton/pull/4431

  if (oldPresentation && newPresentation && oldPresentation._id === newPresentation._id) {
    return;
  }

  if (newPresentation) {
    Presentations.update(newPresentation._id, newCurrent.modifier, newCurrent.callback);
  }

  if (oldPresentation) {
    Presentations.update(oldPresentation._id, oldCurrent.modifier, oldCurrent.callback);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentationDownloadable.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/setPresentationDownloadable.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentationDownloadable
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setPresentationDownloadable(meetingId, podId, presentationId, downloadable) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(downloadable, Boolean);
  const selector = {
    meetingId,
    podId,
    id: presentationId
  };
  const modifier = {
    $set: {
      downloadable
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Could not set downloadable on pres {${presentationId} in meeting {${meetingId}} ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Set downloadable status on presentation {${presentationId} in meeting {${meetingId}}`);
    }
  };

  return Presentations.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/eventHandlers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handlePresentationAdded;
module.link("./handlers/presentationAdded", {
  default(v) {
    handlePresentationAdded = v;
  }

}, 1);
let handlePresentationRemove;
module.link("./handlers/presentationRemove", {
  default(v) {
    handlePresentationRemove = v;
  }

}, 2);
let handlePresentationCurrentSet;
module.link("./handlers/presentationCurrentSet", {
  default(v) {
    handlePresentationCurrentSet = v;
  }

}, 3);
let handlePresentationConversionUpdate;
module.link("./handlers/presentationConversionUpdate", {
  default(v) {
    handlePresentationConversionUpdate = v;
  }

}, 4);
let handlePresentationDownloadableSet;
module.link("./handlers/presentationDownloadableSet", {
  default(v) {
    handlePresentationDownloadableSet = v;
  }

}, 5);
RedisPubSub.on('PdfConversionInvalidErrorEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationPageGeneratedEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationPageCountErrorEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationConversionUpdateEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationConversionCompletedEvtMsg', handlePresentationAdded);
RedisPubSub.on('RemovePresentationEvtMsg', handlePresentationRemove);
RedisPubSub.on('SetCurrentPresentationEvtMsg', handlePresentationCurrentSet);
RedisPubSub.on('SetPresentationDownloadableEvtMsg', handlePresentationDownloadableSet);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/index.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let removePresentation;
module.link("./methods/removePresentation", {
  default(v) {
    removePresentation = v;
  }

}, 1);
let setPresentation;
module.link("./methods/setPresentation", {
  default(v) {
    setPresentation = v;
  }

}, 2);
let setPresentationDownloadable;
module.link("./methods/setPresentationDownloadable", {
  default(v) {
    setPresentationDownloadable = v;
  }

}, 3);
Meteor.methods({
  removePresentation,
  setPresentation,
  setPresentationDownloadable
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/publishers.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function presentations() {
  if (!this.userId) {
    return Presentations.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Presentations for ${meetingId} ${requesterUserId}`);
  return Presentations.find({
    meetingId
  });
}

function publish(...args) {
  const boundPresentations = presentations.bind(this);
  return boundPresentations(...args);
}

Meteor.publish('presentations', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Presentations = new Mongo.Collection('presentations');

if (Meteor.isServer) {
  // types of queries for the presentations:
  // 1. meetingId, podId, id        ( 3 )
  // 2. meetingId, id               ( 1 )
  // 3. meetingId, id, current      ( 2 )
  // 4. meetingId                   ( 1 )
  Presentations._ensureIndex({
    meetingId: 1,
    podId: 1,
    id: 1
  });
}

module.exportDefault(Presentations);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"screenshare":{"server":{"handlers":{"screenshareStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/handlers/screenshareStarted.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleScreenshareStarted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let addScreenshare;
module.link("../modifiers/addScreenshare", {
  default(v) {
    addScreenshare = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 5);

function handleScreenshareStarted({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  const meeting = Meetings.findOne({
    meetingId
  });
  const presenter = Users.findOne({
    meetingId,
    presenter: true
  });
  const presenterId = presenter && presenter.userId ? presenter.userId : 'system-screenshare-starting';

  if (meeting && meeting.externalVideoUrl) {
    Logger.info(`ScreenshareStarted: There is external video being shared. Stopping it due to presenter change, ${meeting.externalVideoUrl}`);
    stopWatchingExternalVideo({
      meetingId,
      requesterUserId: presenterId
    });
  }

  return addScreenshare(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"screenshareStopped.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/handlers/screenshareStopped.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleScreenshareStopped
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearScreenshare;
module.link("../modifiers/clearScreenshare", {
  default(v) {
    clearScreenshare = v;
  }

}, 1);

function handleScreenshareStopped({
  body
}, meetingId) {
  const {
    screenshareConf
  } = body;
  check(meetingId, String);
  check(screenshareConf, String);
  return clearScreenshare(meetingId, screenshareConf);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addScreenshare.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/modifiers/addScreenshare.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addScreenshare
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 3);

function addScreenshare(meetingId, body) {
  check(meetingId, String);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      meetingId,
      screenshare: flat(body)
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Adding screenshare to collection: ${err}`);
    }

    return Logger.info(`Upserted screenshare id=${body.screenshareConf}`);
  };

  return Screenshare.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearScreenshare.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/modifiers/clearScreenshare.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearScreenshare
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 1);

function clearScreenshare(meetingId, screenshareConf) {
  const cb = err => {
    if (err) {
      return Logger.error(`removing screenshare to collection: ${err}`);
    }

    return Logger.info(`removed screenshare meetingId=${meetingId} id=${screenshareConf}`);
  };

  if (meetingId && screenshareConf) {
    return Screenshare.remove({
      meetingId,
      'screenshare.screenshareConf': screenshareConf
    }, cb);
  }

  return Screenshare.remove({}, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleScreenshareStarted;
module.link("./handlers/screenshareStarted", {
  default(v) {
    handleScreenshareStarted = v;
  }

}, 1);
let handleScreenshareStopped;
module.link("./handlers/screenshareStopped", {
  default(v) {
    handleScreenshareStopped = v;
  }

}, 2);
RedisPubSub.on('ScreenshareRtmpBroadcastStartedEvtMsg', handleScreenshareStarted);
RedisPubSub.on('ScreenshareRtmpBroadcastStoppedEvtMsg', handleScreenshareStopped);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
Meteor.methods({});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function screenshare() {
  if (!this.userId) {
    return Screenshare.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Screenshare for ${meetingId} ${requesterUserId}`);
  return Screenshare.find({
    meetingId
  });
}

function publish(...args) {
  const boundScreenshare = screenshare.bind(this);
  return boundScreenshare(...args);
}

Meteor.publish('screenshare', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Screenshare = new Mongo.Collection('screenshare');

if (Meteor.isServer) {
  // types of queries for the screenshare:
  // 1. meetingId
  Screenshare._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Screenshare);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"slides":{"server":{"handlers":{"slideChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/handlers/slideChange.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSlideChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let changeCurrentSlide;
module.link("../modifiers/changeCurrentSlide", {
  default(v) {
    changeCurrentSlide = v;
  }

}, 1);

function handleSlideChange({
  body
}, meetingId) {
  const {
    pageId,
    presentationId,
    podId
  } = body;
  check(pageId, String);
  check(presentationId, String);
  check(podId, String);
  return changeCurrentSlide(meetingId, podId, presentationId, pageId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"slideResize.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/handlers/slideResize.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSlideResize
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let resizeSlide;
module.link("../modifiers/resizeSlide", {
  default(v) {
    resizeSlide = v;
  }

}, 1);

function handleSlideResize({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  return resizeSlide(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"switchSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods/switchSlide.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => switchSlide
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function switchSlide(slideNumber, podId) {
  // TODO-- send presentationId and SlideId
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetCurrentPagePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(slideNumber, Number);
  const selector = {
    meetingId,
    podId,
    current: true
  };
  const Presentation = Presentations.findOne(selector);

  if (!Presentation) {
    throw new Meteor.Error('presentation-not-found', 'You need a presentation to be able to switch slides');
  }

  const Slide = Slides.findOne({
    meetingId,
    podId,
    presentationId: Presentation.id,
    num: slideNumber
  });

  if (!Slide) {
    throw new Meteor.Error('slide-not-found', `Slide number ${slideNumber} not found in the current presentation`);
  }

  const payload = {
    podId,
    presentationId: Presentation.id,
    pageId: Slide.id
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zoomSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods/zoomSlide.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => zoomSlide
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function zoomSlide(slideNumber, podId, widthRatio, heightRatio, x, y) {
  // TODO-- send presentationId and SlideId
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ResizeAndMovePagePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    podId,
    current: true
  };
  const Presentation = Presentations.findOne(selector);

  if (!Presentation) {
    throw new Meteor.Error('presentation-not-found', 'You need a presentation to be able to switch slides');
  }

  const Slide = Slides.findOne({
    meetingId,
    podId,
    presentationId: Presentation.id,
    num: slideNumber
  });

  if (!Slide) {
    throw new Meteor.Error('slide-not-found', `Slide number ${slideNumber} not found in the current presentation`);
  }

  const payload = {
    podId,
    presentationId: Presentation.id,
    pageId: Slide.id,
    xOffset: x,
    yOffset: y,
    widthRatio,
    heightRatio
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/addSlide.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

module.export({
  default: () => addSlide
});
let probe;
module.link("probe-image-size", {
  default(v) {
    probe = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 5);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 6);
let SVG, PNG;
module.link("/imports/utils/mimeTypes", {
  SVG(v) {
    SVG = v;
  },

  PNG(v) {
    PNG = v;
  }

}, 7);
let calculateSlideData;
module.link("/imports/api/slides/server/helpers", {
  default(v) {
    calculateSlideData = v;
  }

}, 8);
let addSlidePositions;
module.link("./addSlidePositions", {
  default(v) {
    addSlidePositions = v;
  }

}, 9);
const loadSlidesFromHttpAlways = Meteor.settings.private.app.loadSlidesFromHttpAlways || false;

const requestWhiteboardHistory = (meetingId, slideId) => {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'GetWhiteboardAnnotationsReqMsg';
  const USER_ID = 'nodeJSapp';
  const payload = {
    whiteboardId: slideId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, USER_ID, payload);
};

const SUPPORTED_TYPES = [SVG, PNG];

const fetchImageSizes = imageUri => probe(imageUri).then(result => {
  if (!SUPPORTED_TYPES.includes(result.mime)) {
    throw new Meteor.Error('invalid-image-type', `received ${result.mime} expecting ${SUPPORTED_TYPES.join()}`);
  }

  return {
    width: result.width,
    height: result.height
  };
}).catch(reason => {
  Logger.error(`Error parsing image size. ${reason}. uri=${imageUri}`);
  return reason;
});

function addSlide(meetingId, podId, presentationId, slide) {
  check(podId, String);
  check(presentationId, String);
  check(slide, {
    id: String,
    num: Number,
    thumbUri: String,
    swfUri: String,
    txtUri: String,
    svgUri: String,
    current: Boolean,
    xOffset: Number,
    yOffset: Number,
    widthRatio: Number,
    heightRatio: Number,
    content: String
  });
  const {
    id: slideId,
    xOffset,
    yOffset,
    widthRatio,
    heightRatio
  } = slide,
        restSlide = (0, _objectWithoutProperties2.default)(slide, ["id", "xOffset", "yOffset", "widthRatio", "heightRatio"]);
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: slideId
  };
  const imageUri = slide.svgUri || slide.pngUri;
  const modifier = {
    $set: Object.assign({
      meetingId
    }, {
      podId
    }, {
      presentationId
    }, {
      id: slideId
    }, {
      imageUri
    }, flat(restSlide), {
      safe: true
    })
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding slide to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;
    requestWhiteboardHistory(meetingId, slideId);

    if (insertedId) {
      return Logger.info(`Added slide id=${slideId} pod=${podId} presentation=${presentationId}`);
    }

    return Logger.info(`Upserted slide id=${slideId} pod=${podId} presentation=${presentationId}`);
  };

  const imageSizeUri = loadSlidesFromHttpAlways ? imageUri.replace(/^https/i, 'http') : imageUri;
  return fetchImageSizes(imageSizeUri).then(({
    width,
    height
  }) => {
    // there is a rare case when for a very long not-active meeting the presentation
    // files just disappear and width/height can't be retrieved
    if (width && height) {
      // pre-calculating the width, height, and vieBox coordinates / dimensions
      // to unload the client-side
      const slideData = {
        width,
        height,
        xOffset,
        yOffset,
        widthRatio,
        heightRatio
      };
      const slidePosition = calculateSlideData(slideData);
      addSlidePositions(meetingId, podId, presentationId, slideId, slidePosition);
    }

    return Slides.upsert(selector, modifier, cb);
  }).catch(reason => Logger.error(`Error parsing image size. ${reason}. slide=${slideId} uri=${imageUri}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addSlidePositions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/addSlidePositions.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addSlidePositions
});
let SlidePositions;
module.link("/imports/api/slides", {
  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function addSlidePositions(meetingId, podId, presentationId, slideId, slidePosition) {
  check(meetingId, String);
  check(podId, String);
  check(presentationId, String);
  check(slideId, String);
  check(slidePosition, {
    width: Number,
    height: Number,
    x: Number,
    y: Number,
    viewBoxWidth: Number,
    viewBoxHeight: Number
  });
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: slideId
  };
  const modifier = {
    $set: Object.assign({
      meetingId
    }, {
      podId
    }, {
      presentationId
    }, {
      id: slideId
    }, flat(slidePosition), {
      safe: true
    })
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding slide position to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added slide position id=${slideId} pod=${podId} presentation=${presentationId}`);
    }

    return Logger.info(`Upserted slide position id=${slideId} pod=${podId} presentation=${presentationId}`);
  };

  return SlidePositions.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeCurrentSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/changeCurrentSlide.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeCurrentSlide
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function changeCurrentSlide(meetingId, podId, presentationId, slideId) {
  check(meetingId, String);
  check(presentationId, String);
  check(slideId, String);
  check(podId, String);
  const oldCurrent = {
    selector: {
      meetingId,
      podId,
      presentationId,
      current: true
    },
    modifier: {
      $set: {
        current: false
      }
    },
    callback: err => {
      if (err) {
        return Logger.error(`Unsetting the current slide: ${err}`);
      }

      return Logger.info('Unsetted the current slide');
    }
  };
  const newCurrent = {
    selector: {
      meetingId,
      podId,
      presentationId,
      id: slideId
    },
    modifier: {
      $set: {
        current: true
      }
    },
    callback: err => {
      if (err) {
        return Logger.error(`Setting as current slide id=${slideId}: ${err}`);
      }

      return Logger.info(`Setted as current slide id=${slideId}`);
    }
  };
  const oldSlide = Slides.findOne(oldCurrent.selector);
  const newSlide = Slides.findOne(newCurrent.selector); // if the oldCurrent and newCurrent have the same ids

  if (oldSlide && newSlide && oldSlide._id === newSlide._id) {
    return;
  }

  if (newSlide) {
    Slides.update(newSlide._id, newCurrent.modifier, newCurrent.callback);
  }

  if (oldSlide) {
    Slides.update(oldSlide._id, oldCurrent.modifier, oldCurrent.callback);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearSlides.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/clearSlides.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearSlides
});
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearSlides(meetingId) {
  if (meetingId) {
    SlidePositions.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared SlidePositions (${meetingId})`);
    });
    return Slides.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Slides (${meetingId})`);
    });
  }

  SlidePositions.remove({}, () => {
    Logger.info('Cleared SlidePositions (all)');
  });
  return Slides.remove({}, () => {
    Logger.info('Cleared Slides (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearSlidesPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/clearSlidesPresentation.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearSlidesPresentation
});
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let clearAnnotations;
module.link("/imports/api/annotations/server/modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 3);

function clearSlidesPresentation(meetingId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  const selector = {
    meetingId,
    presentationId
  };
  const whiteboardIds = Slides.find(selector, {
    fields: {
      id: 1
    }
  }).map(row => row.id);

  const cb = err => {
    if (err) {
      return Logger.error(`Removing Slides from collection: ${err}`);
    }

    whiteboardIds.forEach(whiteboardId => clearAnnotations(meetingId, whiteboardId));
    return Logger.info(`Removed Slides where presentationId=${presentationId}`);
  };

  SlidePositions.remove(selector);
  return Slides.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"resizeSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/resizeSlide.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => resizeSlide
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let SlidePositions;
module.link("/imports/api/slides", {
  SlidePositions(v) {
    SlidePositions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let calculateSlideData;
module.link("/imports/api/slides/server/helpers", {
  default(v) {
    calculateSlideData = v;
  }

}, 3);

function resizeSlide(meetingId, slide) {
  check(meetingId, String);
  const {
    podId,
    presentationId,
    pageId,
    widthRatio,
    heightRatio,
    xOffset,
    yOffset
  } = slide;
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: pageId
  }; // fetching the current slide data
  // and pre-calculating the width, height, and vieBox coordinates / sizes
  // to reduce the client-side load

  const SlidePosition = SlidePositions.findOne(selector);

  if (SlidePosition) {
    const {
      width,
      height
    } = SlidePosition;
    const slideData = {
      width,
      height,
      xOffset,
      yOffset,
      widthRatio,
      heightRatio
    };
    const calculatedData = calculateSlideData(slideData);
    const modifier = {
      $set: calculatedData
    };

    const cb = (err, numChanged) => {
      if (err) {
        return Logger.error(`Resizing slide positions id=${pageId}: ${err}`);
      }

      if (numChanged) {
        return Logger.debug(`Resized slide positions id=${pageId}`);
      }

      return Logger.info(`No slide positions found with id=${pageId}`);
    };

    return SlidePositions.update(selector, modifier, cb);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/eventHandlers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleSlideResize;
module.link("./handlers/slideResize", {
  default(v) {
    handleSlideResize = v;
  }

}, 1);
let handleSlideChange;
module.link("./handlers/slideChange", {
  default(v) {
    handleSlideChange = v;
  }

}, 2);
RedisPubSub.on('ResizeAndMovePageEvtMsg', handleSlideResize);
RedisPubSub.on('SetCurrentPageEvtMsg', handleSlideChange);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/helpers.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
const calculateSlideData = slideData => {
  const {
    width,
    height,
    xOffset,
    yOffset,
    widthRatio,
    heightRatio
  } = slideData; // calculating viewBox and offsets for the current presentation

  return {
    width,
    height,
    x: -xOffset * 2 * width / 100,
    y: -yOffset * 2 * height / 100,
    viewBoxWidth: width * widthRatio / 100,
    viewBoxHeight: height * heightRatio / 100
  };
};

module.exportDefault(calculateSlideData);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let switchSlide;
module.link("./methods/switchSlide", {
  default(v) {
    switchSlide = v;
  }

}, 1);
let zoomSlide;
module.link("./methods/zoomSlide", {
  default(v) {
    zoomSlide = v;
  }

}, 2);
Meteor.methods({
  switchSlide,
  zoomSlide
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/publishers.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function slides() {
  if (!this.userId) {
    return Slides.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Slides for ${meetingId} ${requesterUserId}`);
  return Slides.find({
    meetingId
  });
}

function publish(...args) {
  const boundSlides = slides.bind(this);
  return boundSlides(...args);
}

Meteor.publish('slides', publish);

function slidePositions() {
  if (!this.userId) {
    return SlidePositions.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing SlidePositions for ${meetingId} ${requesterUserId}`);
  return SlidePositions.find({
    meetingId
  });
}

function publishPositions(...args) {
  const boundSlidePositions = slidePositions.bind(this);
  return boundSlidePositions(...args);
}

Meteor.publish('slide-positions', publishPositions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/index.js                                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  Slides: () => Slides,
  SlidePositions: () => SlidePositions
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Slides = new Mongo.Collection('slides');
const SlidePositions = new Mongo.Collection('slide-positions');

if (Meteor.isServer) {
  // types of queries for the slides:
  // 1. meetingId                                  ( 1 )
  // 2. meetingId, podId                           ( 1 )
  // 3. meetingId, presentationId                  ( 1 )
  // 3. meetingId, presentationId, num             ( 1 )
  // 4. meetingId, podId, presentationId, id       ( 3 ) - incl. resizeSlide, which can be intense
  // 5. meetingId, podId, presentationId, current  ( 1 )
  Slides._ensureIndex({
    meetingId: 1,
    podId: 1,
    presentationId: 1,
    id: 1
  });

  SlidePositions._ensureIndex({
    meetingId: 1,
    podId: 1,
    presentationId: 1,
    id: 1
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users":{"server":{"handlers":{"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/changeRole.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleChangeRole
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let changeRole;
module.link("/imports/api/users/server/modifiers/changeRole", {
  default(v) {
    changeRole = v;
  }

}, 1);

function handleChangeRole(payload, meetingId) {
  check(payload.body, Object);
  check(meetingId, String);
  const {
    userId,
    role,
    changedBy
  } = payload.body;
  return changeRole(role, userId, meetingId, changedBy);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"emojiStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/emojiStatus.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleEmojiStatus
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);

function handleEmojiStatus({
  body
}, meetingId) {
  const {
    userId,
    emoji
  } = body;
  check(userId, String);
  check(emoji, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      emojiTime: new Date().getTime(),
      emoji
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Assigning user emoji status: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Assigned user emoji status ${emoji} id=${userId} meeting=${meetingId}`);
    }
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/getUsers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetUsers
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users/", {
  default(v) {
    Users = v;
  }

}, 1);
let addUser;
module.link("../modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 2);
let removeUser;
module.link("../modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 3);

function handleGetUsers({
  body
}, meetingId) {
  const {
    users
  } = body;
  check(meetingId, String);
  check(users, Array);
  const usersIds = users.map(m => m.intId);
  const usersToRemove = Users.find({
    meetingId,
    userId: {
      $nin: usersIds
    }
  }, {
    fields: {
      userId: 1
    }
  }).fetch();
  usersToRemove.forEach(user => removeUser(meetingId, user.userId));
  const usersAdded = [];
  users.forEach(user => {
    usersAdded.push(addUser(meetingId, user));
  });
  return usersAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presenterAssigned.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/presenterAssigned.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresenterAssigned
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let changePresenter;
module.link("/imports/api/users/server/modifiers/changePresenter", {
  default(v) {
    changePresenter = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);

function setPresenterInPodReqMsg(credentials) {
  // TODO-- switch to meetingId, etc
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetPresenterInPodReqMsg';
  const {
    meetingId,
    requesterUserId,
    presenterId
  } = credentials;
  const payload = {
    podId: 'DEFAULT_PRESENTATION_POD',
    nextPresenterId: presenterId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}

function handlePresenterAssigned({
  body
}, meetingId) {
  const {
    presenterId,
    assignedBy
  } = body;
  changePresenter(true, presenterId, meetingId, assignedBy);
  const selector = {
    meetingId,
    userId: {
      $ne: presenterId
    },
    presenter: true
  };
  const prevPresenter = Users.findOne(selector); // no previous presenters
  // The below code is responsible for set Meeting presenter to be default pod presenter as well.
  // It's been handled here because right now akka-apps don't handle all cases scenarios.

  if (!prevPresenter) {
    const setPresenterPayload = {
      meetingId,
      requesterUserId: assignedBy,
      presenterId
    };
    const defaultPodSelector = {
      meetingId,
      podId: 'DEFAULT_PRESENTATION_POD'
    };
    const currentDefaultPodPresenter = PresentationPods.findOne(defaultPodSelector);
    const {
      currentPresenterId
    } = currentDefaultPodPresenter;

    if (currentPresenterId === '') {
      return setPresenterInPodReqMsg(setPresenterPayload);
    }

    const oldPresenter = Users.findOne({
      meetingId,
      userId: currentPresenterId,
      connectionStatus: 'offline'
    });

    if (oldPresenter) {
      return setPresenterInPodReqMsg(setPresenterPayload);
    }

    return true;
  }

  return changePresenter(false, prevPresenter.userId, meetingId, assignedBy);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/removeUser.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRemoveUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removeUser;
module.link("../modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 1);

function handleRemoveUser({
  body
}, meetingId) {
  const {
    intId
  } = body;
  check(meetingId, String);
  check(intId, String);
  return removeUser(meetingId, intId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userEjected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userEjected.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleEjectedUser
});
let userEjected;
module.link("../modifiers/userEjected", {
  default(v) {
    userEjected = v;
  }

}, 0);

function handleEjectedUser({
  header,
  body
}) {
  const {
    meetingId,
    userId
  } = header;
  const {
    reasonCode
  } = body;
  return userEjected(meetingId, userId, reasonCode);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userInactivityInspect.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userInactivityInspect.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserInactivityInspect
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let userInactivityInspect;
module.link("../modifiers/userInactivityInspect", {
  default(v) {
    userInactivityInspect = v;
  }

}, 1);

function handleUserInactivityInspect({
  header,
  body
}, meetingId) {
  const {
    userId
  } = header;
  const {
    responseDelay
  } = body;
  check(userId, String);
  check(responseDelay, Match.Integer);
  check(meetingId, String);
  return userInactivityInspect(userId, responseDelay);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userJoin.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userJoin.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userJoin
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);

function userJoin(meetingId, userId, authToken) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserJoinMeetingReqMsg';
  check(authToken, String);
  const payload = {
    userId,
    authToken,
    clientType: 'HTML5'
  };
  Logger.info(`User='${userId}' is joining meeting='${meetingId}' authToken='${authToken}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userJoined.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userJoined.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserJoined
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUser;
module.link("../modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 1);

function handleUserJoined({
  body
}, meetingId) {
  const user = body;
  check(user, Object);
  return addUser(meetingId, user);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"validateAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/validateAuthToken.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleValidateAuthToken
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let userJoin;
module.link("./userJoin", {
  default(v) {
    userJoin = v;
  }

}, 3);
let pendingAuthenticationsStore;
module.link("../store/pendingAuthentications", {
  default(v) {
    pendingAuthenticationsStore = v;
  }

}, 4);
let createDummyUser;
module.link("../modifiers/createDummyUser", {
  default(v) {
    createDummyUser = v;
  }

}, 5);
let setConnectionIdAndAuthToken;
module.link("../modifiers/setConnectionIdAndAuthToken", {
  default(v) {
    setConnectionIdAndAuthToken = v;
  }

}, 6);

const clearOtherSessions = (sessionUserId, current = false) => {
  const serverSessions = Meteor.server.sessions;
  Object.keys(serverSessions).filter(i => serverSessions[i].userId === sessionUserId).filter(i => i !== current).forEach(i => serverSessions[i].close());
};

function handleValidateAuthToken({
  body
}, meetingId) {
  const {
    userId,
    valid,
    authToken,
    waitForApproval
  } = body;
  check(userId, String);
  check(authToken, String);
  check(valid, Boolean);
  check(waitForApproval, Boolean);
  const pendingAuths = pendingAuthenticationsStore.take(meetingId, userId, authToken);

  if (!valid) {
    pendingAuths.forEach(pendingAuth => {
      try {
        const {
          methodInvocationObject
        } = pendingAuth;
        const connectionId = methodInvocationObject.connection.id; // Schedule socket disconnection for this user, giving some time for client receiving the reason of disconnection

        Meteor.setTimeout(() => {
          methodInvocationObject.connection.close();
        }, 2000);
        Logger.info(`Closed connection ${connectionId} due to invalid auth token.`);
      } catch (e) {
        Logger.error(`Error closing socket for meetingId '${meetingId}', userId '${userId}', authToken ${authToken}`);
      }
    });
    return;
  }

  if (valid) {
    // Define user ID on connections
    pendingAuths.forEach(pendingAuth => {
      const {
        methodInvocationObject
      } = pendingAuth;
      /* Logic migrated from validateAuthToken method ( postponed to only run in case of success response ) - Begin */

      const sessionId = `${meetingId}--${userId}`;
      methodInvocationObject.setUserId(sessionId);
      const User = Users.findOne({
        meetingId,
        userId: userId
      });

      if (!User) {
        createDummyUser(meetingId, userId, authToken);
      }

      setConnectionIdAndAuthToken(meetingId, userId, methodInvocationObject.connection.id, authToken);
      /* End of logic migrated from validateAuthToken */
    });
  }

  const selector = {
    meetingId,
    userId,
    clientType: 'HTML5'
  };
  const User = Users.findOne(selector); // If we dont find the user on our collection is a flash user and we can skip

  if (!User) return; // Publish user join message

  if (valid && !waitForApproval) {
    Logger.info('User=', User);
    userJoin(meetingId, userId, User.authToken);
  }

  const modifier = {
    $set: {
      validated: valid,
      approved: !waitForApproval,
      loginTime: Date.now(),
      inactivityCheck: false
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Validating auth token: ${err}`);
    }

    if (numChanged) {
      if (valid) {
        const sessionUserId = `${meetingId}-${userId}`;
        const currentConnectionId = User.connectionId ? User.connectionId : false;
        clearOtherSessions(sessionUserId, currentConnectionId);
      }

      return Logger.info(`Validated auth token as ${valid} user=${userId} meeting=${meetingId}`);
    }

    return Logger.info('No auth to validate');
  };

  Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"assignPresenter.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/assignPresenter.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => assignPresenter
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function assignPresenter(userId) {
  // TODO-- send username from client side
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'AssignPresenterReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const User = Users.findOne({
    meetingId,
    userId
  });

  if (!User) {
    throw new Meteor.Error('user-not-found', 'You need a valid user to be able to set presenter');
  }

  const payload = {
    newPresenterId: userId,
    newPresenterName: User.name,
    assignedBy: requesterUserId,
    requesterId: requesterUserId
  };
  Logger.verbose(`User '${userId}' setted as presenter by '${requesterUserId}' from meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/changeRole.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeRole
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function changeRole(userId, role) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserRoleCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  check(role, String);
  const payload = {
    userId,
    role,
    changedBy: requesterUserId
  };
  Logger.verbose(`User '${userId}' set as '${role} role by '${requesterUserId}' from meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/removeUser.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function removeUser(userId, banUser) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EjectUserFromMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId: ejectedBy
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    userId,
    ejectedBy,
    banUser
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, ejectedBy, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setEmojiStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/setEmojiStatus.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setEmojiStatus
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function setEmojiStatus(userId, status) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserEmojiCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    emoji: status,
    userId
  };
  Logger.verbose(`User '${userId}' emoji status updated to '${status}' by '${requesterUserId}' from meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUserEffectiveConnectionType.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/setUserEffectiveConnectionType.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUserEffectiveConnectionType
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
let setEffectiveConnectionType;
module.link("../modifiers/setUserEffectiveConnectionType", {
  default(v) {
    setEffectiveConnectionType = v;
  }

}, 5);

function setUserEffectiveConnectionType(effectiveConnectionType) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserEffectiveConnectionMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(effectiveConnectionType, String);
  const payload = {
    meetingId,
    userId: requesterUserId,
    effectiveConnectionType
  };
  setEffectiveConnectionType(meetingId, requesterUserId, effectiveConnectionType);
  Logger.verbose(`User ${requesterUserId} effective connection updated to ${effectiveConnectionType}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleUserLock.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/toggleUserLock.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleUserLock
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function toggleUserLock(userId, lock) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'LockUserInMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId: lockedBy
  } = extractCredentials(this.userId);
  check(lockedBy, String);
  check(userId, String);
  check(lock, Boolean);
  const payload = {
    lockedBy,
    userId,
    lock
  };
  Logger.verbose(`User ${lockedBy} updated lock status from ${userId} to ${lock}
  in meeting ${meetingId}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, lockedBy, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userActivitySign.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userActivitySign.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userActivitySign
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userActivitySign() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserActivitySignCmdMsg';
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const payload = {
    userId
  };
  const selector = {
    userId
  };
  const modifier = {
    $set: {
      inactivityCheck: false
    }
  };
  Users.update(selector, modifier); // TODO-- we should move this to a modifier

  Logger.info(`User ${userId} sent a activity sign for meeting ${meetingId}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLeaving.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userLeaving.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userLeaving
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);

function userLeaving(meetingId, userId, connectionId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserLeaveReqMsg';
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };
  const User = Users.findOne(selector);

  if (!User) {
    return Logger.info(`Skipping userLeaving. Could not find ${userId} in ${meetingId}`);
  } // If the current user connection is not the same that triggered the leave we skip


  if (User.connectionId !== connectionId) {
    return false;
  }

  const payload = {
    userId,
    sessionId: meetingId
  };
  Logger.info(`User '${userId}' is leaving meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLeftMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userLeftMeeting.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userLeftMeeting
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function userLeftMeeting() {
  // TODO-- spread the code to method/modifier/handler
  // so we don't update the db in a method
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    userId: requesterUserId
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`leaving dummy user to collection: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`user left id=${requesterUserId} meeting=${meetingId}`);
    }
  };

  return Users.update(selector, {
    $set: {
      loggedOut: true
    }
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"validateAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/validateAuthToken.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => validateAuthToken
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let pendingAuthenticationsStore;
module.link("../store/pendingAuthentications", {
  default(v) {
    pendingAuthenticationsStore = v;
  }

}, 3);

function validateAuthToken(meetingId, requesterUserId, requesterToken) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ValidateAuthTokenReqMsg'; // Store reference of methodInvocationObject ( to postpone the connection userId definition )

  pendingAuthenticationsStore.add(meetingId, requesterUserId, requesterToken, this);
  const payload = {
    userId: requesterUserId,
    authToken: requesterToken
  };
  Logger.info(`User '${requesterUserId}' is trying to validate auth token for meeting '${meetingId}' from connection '${this.connection.id}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addDialInUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/addDialInUser.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addDialInUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUser;
module.link("/imports/api/users/server/modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 1);

function addDialInUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, Object);
  const USER_CONFIG = Meteor.settings.public.user;
  const ROLE_VIEWER = USER_CONFIG.role_viewer;
  const {
    intId,
    callerName
  } = voiceUser;
  const voiceOnlyUser = {
    intId,
    extId: intId,
    // TODO
    name: callerName,
    role: ROLE_VIEWER.toLowerCase(),
    guest: false,
    authed: true,
    waitingForAcceptance: false,
    guestStatus: 'ALLOW',
    emoji: 'none',
    presenter: false,
    locked: false,
    // TODO
    avatar: '',
    clientType: 'dial-in-user'
  };
  return addUser(meetingId, voiceOnlyUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/addUser.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 3);
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 4);
let stringHash;
module.link("string-hash", {
  default(v) {
    stringHash = v;
  }

}, 5);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 6);
let addVoiceUser;
module.link("/imports/api/voice-users/server/modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 7);
const COLOR_LIST = ['#7b1fa2', '#6a1b9a', '#4a148c', '#5e35b1', '#512da8', '#4527a0', '#311b92', '#3949ab', '#303f9f', '#283593', '#1a237e', '#1976d2', '#1565c0', '#0d47a1', '#0277bd', '#01579b'];

function addUser(meetingId, user) {
  check(meetingId, String);
  check(user, {
    intId: String,
    extId: String,
    name: String,
    role: String,
    guest: Boolean,
    authed: Boolean,
    waitingForAcceptance: Match.Maybe(Boolean),
    guestStatus: String,
    emoji: String,
    presenter: Boolean,
    locked: Boolean,
    avatar: String,
    clientType: String
  });
  const userId = user.intId;
  const selector = {
    meetingId,
    userId
  };
  const Meeting = Meetings.findOne({
    meetingId
  });
  /* While the akka-apps dont generate a color we just pick one
    from a list based on the userId */

  const color = COLOR_LIST[stringHash(user.intId) % COLOR_LIST.length];
  const modifier = {
    $set: Object.assign({
      meetingId,
      connectionStatus: 'online',
      sortName: user.name.trim().toLowerCase(),
      color,
      breakoutProps: {
        isBreakoutUser: Meeting.meetingProp.isBreakout,
        parentId: Meeting.breakoutProps.parentId
      },
      effectiveConnectionType: null,
      inactivityCheck: false,
      responseDelay: 0,
      loggedOut: false
    }, flat(user))
  }; // Only add an empty VoiceUser if there isn't one already and if the user coming in isn't a
  // dial-in user. We want to avoid overwriting good data

  if (user.clientType !== 'dial-in-user' && !VoiceUsers.findOne({
    meetingId,
    intId: userId
  })) {
    addVoiceUser(meetingId, {
      voiceUserId: '',
      intId: userId,
      callerName: user.name,
      callerNum: '',
      muted: false,
      talking: false,
      callingWith: '',
      listenOnly: false,
      voiceConf: '',
      joined: false
    });
  }

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding user to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added user id=${userId} meeting=${meetingId}`);
    }

    return Logger.info(`Upserted user id=${userId} meeting=${meetingId}`);
  };

  return Users.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changePresenter.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/changePresenter.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changePresenter
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 3);

function changePresenter(presenter, userId, meetingId, changedBy) {
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      presenter
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changed user role: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Changed presenter=${presenter} id=${userId} meeting=${meetingId}` + `${changedBy ? ` changedBy=${changedBy}` : ''}`);
    }

    return null;
  };

  const meeting = Meetings.findOne({
    meetingId
  });

  if (meeting && meeting.externalVideoUrl) {
    Logger.info(`ChangePresenter:There is external video being shared. Stopping it due to presenter change, ${meeting.externalVideoUrl}`);
    stopWatchingExternalVideo({
      meetingId,
      requesterUserId: userId
    });
  }

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/changeRole.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeRole
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);

function changeRole(role, userId, meetingId, changedBy) {
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      role
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changed user role: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Changed user role=${role} id=${userId} meeting=${meetingId}` + `${changedBy ? ` changedBy=${changedBy}` : ''}`);
    }

    return null;
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/clearUsers.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users/index", {
  default(v) {
    Users = v;
  }

}, 1);

const clearUsers = meetingId => {
  if (meetingId) {
    return Users.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Users (${meetingId})`);
    });
  }

  return Users.remove({}, () => {
    Logger.info('Cleared Users (all)');
  });
};

module.exportDefault(clearUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"createDummyUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/createDummyUser.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createDummyUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);

function createDummyUser(meetingId, userId, authToken) {
  check(meetingId, String);
  check(userId, String);
  check(authToken, String);
  const User = Users.findOne({
    meetingId,
    userId
  });

  if (User) {
    throw new Meteor.Error('existing-user', 'Tried to create a dummy user for an existing user');
  }

  const doc = {
    meetingId,
    userId,
    authToken,
    clientType: 'HTML5',
    validated: null
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Creating dummy user to collection: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Created dummy user id=${userId} token=${authToken} meeting=${meetingId}`);
    }
  };

  return Users.insert(doc, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/removeUser.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 4);
let clearUserInfoForRequester;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfoForRequester", {
  default(v) {
    clearUserInfoForRequester = v;
  }

}, 5);

const clearAllSessions = sessionUserId => {
  const serverSessions = Meteor.server.sessions;
  Object.keys(serverSessions).filter(i => serverSessions[i].userId === sessionUserId).forEach(i => serverSessions[i].close());
};

function removeUser(meetingId, userId) {
  check(meetingId, String);
  check(userId, String);
  const userToRemove = Users.findOne({
    userId,
    meetingId
  });

  if (userToRemove) {
    const {
      presenter
    } = userToRemove;

    if (presenter) {
      stopWatchingExternalVideo({
        meetingId,
        requesterUserId: userId
      });
    }
  }

  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      connectionStatus: 'offline',
      validated: false,
      emoji: 'none',
      presenter: false,
      role: 'VIEWER'
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Removing user from collection: ${err}`);
    }

    const sessionUserId = `${meetingId}-${userId}`;
    clearAllSessions(sessionUserId);
    clearUserInfoForRequester(meetingId, userId);
    return Logger.info(`Removed user id=${userId} meeting=${meetingId}`);
  };

  VideoStreams.remove({
    meetingId,
    userId
  });
  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setConnectionIdAndAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/setConnectionIdAndAuthToken.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setConnectionIdAndAuthToken
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setConnectionIdAndAuthToken(meetingId, userId, connectionId, authToken) {
  check(meetingId, String);
  check(userId, String);
  check(authToken, String);
  check(connectionId, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      connectionId,
      authToken
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Updating connectionId user=${userId}: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Updated connectionId and authToken user=${userId} connectionId=${connectionId} meeting=${meetingId} authToken=${authToken}`);
    }
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUserEffectiveConnectionType.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/setUserEffectiveConnectionType.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUserEffectiveConnectionType
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setUserEffectiveConnectionType(meetingId, userId, effectiveConnectionType) {
  check(meetingId, String);
  check(userId, String);
  check(effectiveConnectionType, String);
  const selector = {
    meetingId,
    userId,
    effectiveConnectionType: {
      $ne: effectiveConnectionType
    }
  };
  const modifier = {
    $set: {
      effectiveConnectionType
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Updating user ${userId}: ${err}`);
    }

    if (numChanged) {
      Logger.info(`Updated user ${userId} effective connection to ${effectiveConnectionType} in meeting ${meetingId}`);
    }
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userEjected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/userEjected.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userEjected
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let clearUserInfoForRequester;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfoForRequester", {
  default(v) {
    clearUserInfoForRequester = v;
  }

}, 3);

function userEjected(meetingId, userId, ejectedReason) {
  check(meetingId, String);
  check(userId, String);
  check(ejectedReason, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      ejected: true,
      ejectedReason
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Ejecting user from collection: ${err}`);
    }

    if (numChanged) {
      clearUserInfoForRequester(meetingId, userId);
      return Logger.info(`Ejected user id=${userId} meeting=${meetingId} reason=${ejectedReason}`);
    }

    return null;
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userInactivityInspect.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/userInactivityInspect.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userInactivityInspect
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);

function userInactivityInspect(userId, responseDelay) {
  check(userId, String);
  check(responseDelay, Match.Integer);
  const selector = {
    userId,
    inactivityCheck: false
  };
  const modifier = {
    $set: {
      inactivityCheck: true,
      responseDelay
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Inactivity check for user ${userId}: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Updated user ${userId} with inactivity inspect`);
    }

    return null;
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"store":{"pendingAuthentications.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/store/pendingAuthentications.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

class PendingAuthentitcations {
  constructor() {
    Logger.debug("PendingAuthentitcations :: constructor");
    this.store = [];
  }

  generateKey(meetingId, userId, authToken) {
    // Protect against separator injection
    meetingId = meetingId.replace(/ /g, '');
    userId = userId.replace(/ /g, '');
    authToken = authToken.replace(/ /g, ''); // Space separated key

    return `${meetingId} ${userId} ${authToken}`;
  }

  add(meetingId, userId, authToken, methodInvocationObject) {
    Logger.debug("PendingAuthentitcations :: add", {
      meetingId,
      userId,
      authToken
    });
    this.store.push({
      key: this.generateKey(meetingId, userId, authToken),
      meetingId,
      userId,
      authToken,
      methodInvocationObject
    });
  }

  take(meetingId, userId, authToken) {
    const key = this.generateKey(meetingId, userId, authToken);
    Logger.debug("PendingAuthentitcations :: take", {
      key,
      meetingId,
      userId,
      authToken
    }); // find matches

    const matches = this.store.filter(e => e.key === key); // remove matches (if any)

    if (matches.length) {
      this.store = this.store.filter(e => e.key !== key);
    } // return matches


    return matches;
  }

}

module.exportDefault(new PendingAuthentitcations());
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/eventHandlers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleRemoveUser;
module.link("./handlers/removeUser", {
  default(v) {
    handleRemoveUser = v;
  }

}, 1);
let handleUserJoined;
module.link("./handlers/userJoined", {
  default(v) {
    handleUserJoined = v;
  }

}, 2);
let handleValidateAuthToken;
module.link("./handlers/validateAuthToken", {
  default(v) {
    handleValidateAuthToken = v;
  }

}, 3);
let handlePresenterAssigned;
module.link("./handlers/presenterAssigned", {
  default(v) {
    handlePresenterAssigned = v;
  }

}, 4);
let handleEmojiStatus;
module.link("./handlers/emojiStatus", {
  default(v) {
    handleEmojiStatus = v;
  }

}, 5);
let handleGetUsers;
module.link("./handlers/getUsers", {
  default(v) {
    handleGetUsers = v;
  }

}, 6);
let handleUserEjected;
module.link("./handlers/userEjected", {
  default(v) {
    handleUserEjected = v;
  }

}, 7);
let handleChangeRole;
module.link("./handlers/changeRole", {
  default(v) {
    handleChangeRole = v;
  }

}, 8);
let handleUserInactivityInspect;
module.link("./handlers/userInactivityInspect", {
  default(v) {
    handleUserInactivityInspect = v;
  }

}, 9);
RedisPubSub.on('PresenterAssignedEvtMsg', handlePresenterAssigned);
RedisPubSub.on('UserJoinedMeetingEvtMsg', handleUserJoined);
RedisPubSub.on('UserLeftMeetingEvtMsg', handleRemoveUser);
RedisPubSub.on('ValidateAuthTokenRespMsg', handleValidateAuthToken);
RedisPubSub.on('UserEmojiChangedEvtMsg', handleEmojiStatus);
RedisPubSub.on('SyncGetUsersMeetingRespMsg', handleGetUsers);
RedisPubSub.on('UserEjectedFromMeetingEvtMsg', handleUserEjected);
RedisPubSub.on('UserRoleChangedEvtMsg', handleChangeRole);
RedisPubSub.on('UserInactivityInspectMsg', handleUserInactivityInspect);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/index.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let validateAuthToken;
module.link("./methods/validateAuthToken", {
  default(v) {
    validateAuthToken = v;
  }

}, 1);
let setEmojiStatus;
module.link("./methods/setEmojiStatus", {
  default(v) {
    setEmojiStatus = v;
  }

}, 2);
let assignPresenter;
module.link("./methods/assignPresenter", {
  default(v) {
    assignPresenter = v;
  }

}, 3);
let changeRole;
module.link("./methods/changeRole", {
  default(v) {
    changeRole = v;
  }

}, 4);
let removeUser;
module.link("./methods/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 5);
let toggleUserLock;
module.link("./methods/toggleUserLock", {
  default(v) {
    toggleUserLock = v;
  }

}, 6);
let setUserEffectiveConnectionType;
module.link("./methods/setUserEffectiveConnectionType", {
  default(v) {
    setUserEffectiveConnectionType = v;
  }

}, 7);
let userActivitySign;
module.link("./methods/userActivitySign", {
  default(v) {
    userActivitySign = v;
  }

}, 8);
let userLeftMeeting;
module.link("./methods/userLeftMeeting", {
  default(v) {
    userLeftMeeting = v;
  }

}, 9);
Meteor.methods({
  setEmojiStatus,
  assignPresenter,
  changeRole,
  removeUser,
  validateAuthToken,
  toggleUserLock,
  setUserEffectiveConnectionType,
  userActivitySign,
  userLeftMeeting
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/publishers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let userLeaving;
module.link("./methods/userLeaving", {
  default(v) {
    userLeaving = v;
  }

}, 5);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 6);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function currentUser() {
  if (!this.userId) {
    return Users.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const connectionId = this.connection.id;
  const onCloseConnection = Meteor.bindEnvironment(() => {
    try {
      userLeaving(meetingId, requesterUserId, connectionId);
    } catch (e) {
      Logger.error(`Exception while executing userLeaving: ${e}`);
    }
  });

  this._session.socket.on('close', _.debounce(onCloseConnection, 100));

  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const options = {
    fields: {
      user: false,
      authToken: false // Not asking for authToken from client side but also not exposing it

    }
  };
  return Users.find(selector, options);
}

function publishCurrentUser(...args) {
  const boundUsers = currentUser.bind(this);
  return boundUsers(...args);
}

Meteor.publish('current-user', publishCurrentUser);

function users(role) {
  if (!this.userId) {
    return Users.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    $or: [{
      meetingId
    }]
  };
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    selector.$or.push({
      'breakoutProps.isBreakoutUser': true,
      'breakoutProps.parentId': meetingId,
      connectionStatus: 'online'
    });
  }

  const options = {
    fields: {
      authToken: false,
      lastPing: false
    }
  };
  Logger.debug(`Publishing Users for ${meetingId} ${requesterUserId}`);
  return Users.find(selector, options);
}

function publish(...args) {
  const boundUsers = users.bind(this);
  return boundUsers(...args);
}

Meteor.publish('users', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/index.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Users = new Mongo.Collection('users');

if (Meteor.isServer) {
  // types of queries for the users:
  // 1. meetingId
  // 2. meetingId, userId
  Users._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(Users);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users-infos":{"server":{"handlers":{"userInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/handlers/userInformation.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserInformation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUserInfo;
module.link("../modifiers/addUserInfo", {
  default(v) {
    addUserInfo = v;
  }

}, 1);

function handleUserInformation({
  header,
  body
}) {
  check(body, Object);
  check(header, Object);
  const {
    userInfo
  } = body;
  const {
    userId,
    meetingId
  } = header;
  check(userInfo, Array);
  check(userId, String);
  check(meetingId, String);
  return addUserInfo(userInfo, userId, meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"removeUserInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods/removeUserInformation.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUserInformation
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function removeUserInformation() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    requesterUserId
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Removing user information from collection: ${err}`);
    }

    return Logger.info(`Removed user information: requester id=${requesterUserId} meeting=${meetingId}`);
  };

  return UserInfos.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"requestUserInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods/requestUserInformation.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => getUserInformation
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function getUserInformation(externalUserId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toThirdParty;
  const EVENT_NAME = 'LookUpUserReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(externalUserId, String);
  const payload = {
    externalUserId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addUserInfo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/addUserInfo.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUserInfo
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function addUserInfo(userInfo, requesterUserId, meetingId) {
  const info = {
    meetingId,
    requesterUserId,
    userInfo
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Adding user information to collection: ${err}`);
    }

    return Logger.info(`Added user information: requester id=${requesterUserId} meeting=${meetingId}`);
  };

  return UserInfos.insert(info, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUserInfo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/clearUserInfo.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersInfo
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersInfo(meetingId) {
  return UserInfos.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared User Infos (${meetingId})`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUserInfoForRequester.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/clearUserInfoForRequester.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersInfoForRequester
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersInfoForRequester(meetingId, requesterUserId) {
  return UserInfos.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared User Infos requested by user=${requesterUserId}`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleUserInformation;
module.link("./handlers/userInformation", {
  default(v) {
    handleUserInformation = v;
  }

}, 1);
RedisPubSub.on('LookUpUserRespMsg', handleUserInformation);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let requestUserInformation;
module.link("./methods/requestUserInformation", {
  default(v) {
    requestUserInformation = v;
  }

}, 1);
let removeUserInformation;
module.link("./methods/removeUserInformation", {
  default(v) {
    removeUserInformation = v;
  }

}, 2);
Meteor.methods({
  requestUserInformation,
  removeUserInformation
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function userInfos() {
  if (!this.userId) {
    return UserInfos.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing user infos requested by user=${requesterUserId}`);
  return UserInfos.find({
    meetingId,
    requesterUserId
  });
}

function publish(...args) {
  const boundUserInfos = userInfos.bind(this);
  return boundUserInfos(...args);
}

Meteor.publish('users-infos', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const UserInfos = new Mongo.Collection('users-infos');

if (Meteor.isServer) {
  UserInfos._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(UserInfos);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users-settings":{"server":{"methods":{"addUserSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/methods/addUserSettings.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => addUserSettings
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUserSetting;
module.link("/imports/api/users-settings/server/modifiers/addUserSetting", {
  default(v) {
    addUserSetting = v;
  }

}, 1);
let logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
const oldParameters = {
  askForFeedbackOnLogout: 'bbb_ask_for_feedback_on_logout',
  autoJoin: 'bbb_auto_join_audio',
  autoShareWebcam: 'bbb_auto_share_webcam',
  autoSwapLayout: 'bbb_auto_swap_layout',
  clientTitle: 'bbb_client_title',
  customStyle: 'bbb_custom_style',
  customStyleUrl: 'bbb_custom_style_url',
  displayBrandingArea: 'bbb_display_branding_area',
  enableScreensharing: 'bbb_enable_screen_sharing',
  enableVideo: 'bbb_enable_video',
  enableVideoStats: 'bbb_enable_video_stats',
  forceListenOnly: 'bbb_force_listen_only',
  hidePresentation: 'bbb_hide_presentation',
  listenOnlyMode: 'bbb_listen_only_mode',
  multiUserPenOnly: 'bbb_multi_user_pen_only',
  multiUserTools: 'bbb_multi_user_tools',
  outsideToggleRecording: 'bbb_outside_toggle_recording',
  outsideToggleSelfVoice: 'bbb_outside_toggle_self_voice',
  presenterTools: 'bbb_presenter_tools',
  shortcuts: 'bbb_shortcuts',
  skipCheck: 'bbb_skip_check_audio'
};
const oldParametersKeys = Object.keys(oldParameters);
const currentParameters = [// APP
'bbb_ask_for_feedback_on_logout', 'bbb_auto_join_audio', 'bbb_client_title', 'bbb_force_listen_only', 'bbb_listen_only_mode', 'bbb_skip_check_audio', // BRANDING
'bbb_display_branding_area', // SHORTCUTS
'bbb_shortcuts', // KURENTO
'bbb_auto_share_webcam', 'bbb_preferred_camera_profile', 'bbb_enable_screen_sharing', 'bbb_enable_video', 'bbb_enable_video_stats', 'bbb_skip_video_preview', // PRESENTATION
'bbb_force_restore_presentation_on_new_events', // WHITEBOARD
'bbb_multi_user_pen_only', 'bbb_presenter_tools', 'bbb_multi_user_tools', // SKINNING/THEMMING
'bbb_custom_style', 'bbb_custom_style_url', // LAYOUT
'bbb_auto_swap_layout', 'bbb_hide_presentation', 'bbb_show_participants_on_login', 'bbb_show_public_chat_on_login', // OUTSIDE COMMANDS
'bbb_outside_toggle_self_voice', 'bbb_outside_toggle_recording'];

function valueParser(val) {
  try {
    const parsedValue = JSON.parse(val.toLowerCase());
    return parsedValue;
  } catch (error) {
    logger.error('Parameter value could not ber parsed');
    return val;
  }
}

function addUserSettings(settings) {
  check(settings, [Object]);
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  let parameters = {};
  settings.forEach(el => {
    const settingKey = Object.keys(el).shift();

    if (currentParameters.includes(settingKey)) {
      if (!Object.keys(parameters).includes(settingKey)) {
        parameters = (0, _objectSpread2.default)({
          [settingKey]: valueParser(el[settingKey])
        }, parameters);
      } else {
        parameters[settingKey] = el[settingKey];
      }

      return;
    }

    if (oldParametersKeys.includes(settingKey)) {
      const matchingNewKey = oldParameters[settingKey];

      if (!Object.keys(parameters).includes(matchingNewKey)) {
        parameters = (0, _objectSpread2.default)({
          [matchingNewKey]: valueParser(el[settingKey])
        }, parameters);
      }

      return;
    }

    logger.warn(`Parameter ${settingKey} not handled`);
  });
  const settingsAdded = [];
  Object.entries(parameters).forEach(el => {
    const setting = el[0];
    const value = el[1];
    settingsAdded.push(addUserSetting(meetingId, userId, setting, value));
  });
  return settingsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addUserSetting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/modifiers/addUserSetting.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUserSetting
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addUserSetting(meetingId, userId, setting, value) {
  check(meetingId, String);
  check(userId, String);
  check(setting, String);
  check(value, Match.Any);
  const selector = {
    meetingId,
    userId,
    setting
  };
  const modifier = {
    $set: {
      meetingId,
      userId,
      setting,
      value
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Adding user setting to collection: ${err}`);
    }

    return Logger.verbose(`Upserted user setting for meetingId=${meetingId} userId=${userId} setting=${setting}`);
  };

  return UserSettings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUsersSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/modifiers/clearUsersSettings.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersSettings
});
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersSettings(meetingId) {
  return UserSettings.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared User Settings (${meetingId})`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let addUserSettings;
module.link("./methods/addUserSettings", {
  default(v) {
    addUserSettings = v;
  }

}, 1);
Meteor.methods({
  addUserSettings
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function userSettings() {
  if (!this.userId) {
    return UserSettings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing user settings for user=${requesterUserId}`);
  return UserSettings.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundUserSettings = userSettings.bind(this);
  return boundUserSettings(...args);
}

Meteor.publish('users-settings', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const UserSettings = new Mongo.Collection('users-settings');

if (Meteor.isServer) {
  UserSettings._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(UserSettings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"video-streams":{"server":{"handlers":{"userSharedHtml5Webcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/handlers/userSharedHtml5Webcam.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserSharedHtml5Webcam
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let sharedWebcam;
module.link("../modifiers/sharedWebcam", {
  default(v) {
    sharedWebcam = v;
  }

}, 1);

function handleUserSharedHtml5Webcam({
  header,
  body
}, meetingId) {
  const {
    userId,
    stream
  } = body;

  const isValidStream = testString => {
    // Checking if the stream name is a flash one
    const regexp = /^([A-z0-9]+)-([A-z0-9]+)-([A-z0-9]+)(-recorded)?$/;
    return !regexp.test(testString);
  };

  check(header, Object);
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  if (!isValidStream(stream)) return false;
  return sharedWebcam(meetingId, userId, stream);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userUnsharedHtml5Webcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/handlers/userUnsharedHtml5Webcam.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserUnsharedHtml5Webcam
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let unsharedWebcam;
module.link("../modifiers/unsharedWebcam", {
  default(v) {
    unsharedWebcam = v;
  }

}, 1);

function handleUserUnsharedHtml5Webcam({
  header,
  body
}, meetingId) {
  const {
    userId,
    stream
  } = body;

  const isValidStream = testString => {
    // Checking if the stream name is a flash one
    const regexp = /^([A-z0-9]+)-([A-z0-9]+)-([A-z0-9]+)(-recorded)?$/;
    return !regexp.test(testString);
  };

  check(header, Object);
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  if (!isValidStream(stream)) return false;
  return unsharedWebcam(meetingId, userId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"userShareWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods/userShareWebcam.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userShareWebcam
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userShareWebcam(stream) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserBroadcastCamStartMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`user sharing webcam: ${meetingId} ${requesterUserId}`);
  check(stream, String); // const actionName = 'joinVideo';

  /* TODO throw an error if user has no permission to share webcam
  if (!isAllowedTo(actionName, credentials)) {
    throw new Meteor.Error('not-allowed', `You are not allowed to share webcam`);
  } */

  const payload = {
    stream
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userUnshareWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods/userUnshareWebcam.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userUnshareWebcam
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userUnshareWebcam(stream) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserBroadcastCamStopMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`user unsharing webcam: ${meetingId} ${requesterUserId}`);
  check(stream, String); // const actionName = 'joinVideo';

  /* TODO throw an error if user has no permission to share webcam
  if (!isAllowedTo(actionName, credentials)) {
    throw new Meteor.Error('not-allowed', `You are not allowed to share webcam`);
  } */

  const payload = {
    stream
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"sharedWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/sharedWebcam.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sharedWebcam
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function sharedWebcam(meetingId, userId, stream) {
  check(meetingId, String);
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      stream
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Error setting hasStream to true: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Updated hasStream for user id=${userId} meeting=${meetingId}`);
    }
  };

  return VideoStreams.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"unsharedWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/unsharedWebcam.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => unsharedWebcam
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function unsharedWebcam(meetingId, userId) {
  check(meetingId, String);
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Error setting hasStream to false: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Updated hasStream for user id=${userId} meeting=${meetingId}`);
    }
  };

  return VideoStreams.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/eventHandlers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleUserSharedHtml5Webcam;
module.link("./handlers/userSharedHtml5Webcam", {
  default(v) {
    handleUserSharedHtml5Webcam = v;
  }

}, 1);
let handleUserUnsharedHtml5Webcam;
module.link("./handlers/userUnsharedHtml5Webcam", {
  default(v) {
    handleUserUnsharedHtml5Webcam = v;
  }

}, 2);
RedisPubSub.on('UserBroadcastCamStartedEvtMsg', handleUserSharedHtml5Webcam);
RedisPubSub.on('UserBroadcastCamStoppedEvtMsg', handleUserUnsharedHtml5Webcam);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/index.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publisher");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userShareWebcam;
module.link("./methods/userShareWebcam", {
  default(v) {
    userShareWebcam = v;
  }

}, 1);
let userUnshareWebcam;
module.link("./methods/userUnshareWebcam", {
  default(v) {
    userUnshareWebcam = v;
  }

}, 2);
Meteor.methods({
  userShareWebcam,
  userUnshareWebcam
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publisher.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/publisher.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function videoStreams() {
  if (!this.userId) {
    return VideoStreams.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  Logger.debug(`video users of meeting id=${meetingId}`);
  const selector = {
    meetingId
  };
  return VideoStreams.find(selector);
}

function publish(...args) {
  const boundVideoStreams = videoStreams.bind(this);
  return boundVideoStreams(...args);
}

Meteor.publish('video-streams', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VideoStreams = new Mongo.Collection('video-streams');

if (Meteor.isServer) {
  // types of queries for the video users:
  // 2. meetingId
  VideoStreams._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(VideoStreams);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"voice-call-states":{"server":{"handlers":{"voiceCallStateEvent.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/handlers/voiceCallStateEvent.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceCallStateEvent
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let VoiceCallState;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallState = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleVoiceCallStateEvent({
  body
}, meetingId) {
  const {
    voiceConf,
    clientSession,
    userId,
    callerName,
    callState
  } = body;
  check(meetingId, String);
  check(voiceConf, String);
  check(clientSession, String);
  check(userId, String);
  check(callerName, String);
  check(callState, String);
  const selector = {
    meetingId,
    userId,
    clientSession
  };
  const modifier = {
    $set: {
      meetingId,
      userId,
      voiceConf,
      clientSession,
      callState
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Update voice call state=${userId}: ${err}`);
    }

    return Logger.debug(`Update voice call state=${userId} meeting=${meetingId} clientSession=${clientSession} callState=${callState}`);
  };

  return VoiceCallState.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearVoiceCallStates.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/modifiers/clearVoiceCallStates.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVoiceCallStates
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VoiceCallStates;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceCallStates = v;
  }

}, 1);

function clearVoiceCallStates(meetingId) {
  if (meetingId) {
    return VoiceCallStates.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared VoiceCallStates in (${meetingId})`);
    });
  }

  return VoiceCallStates.remove({}, () => {
    Logger.info('Cleared VoiceCallStates in all meetings');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/eventHandlers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleVoiceCallStateEvent;
module.link("./handlers/voiceCallStateEvent", {
  default(v) {
    handleVoiceCallStateEvent = v;
  }

}, 1);
RedisPubSub.on('VoiceCallStateEvtMsg', handleVoiceCallStateEvent);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/index.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/publishers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let VoiceCallStates;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallStates = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function voiceCallStates() {
  if (!this.userId) {
    return VoiceCallStates.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Voice Call States for ${meetingId} ${requesterUserId}`);
  return VoiceCallStates.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundVoiceCallStates = voiceCallStates.bind(this);
  return boundVoiceCallStates(...args);
}

Meteor.publish('voice-call-states', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VoiceCallStates = new Mongo.Collection('voiceCallStates');

if (Meteor.isServer) {
  // types of queries for the voice users:
  // 1. intId
  // 2. meetingId, intId
  VoiceCallStates._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(VoiceCallStates);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"voice-users":{"server":{"handlers":{"getVoiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/getVoiceUsers.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetVoiceUsers
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 3);
let removeVoiceUser;
module.link("../modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 4);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 5);

function handleGetVoiceUsers({
  body
}, meetingId) {
  const {
    users
  } = body;
  check(meetingId, String);
  check(users, Array);
  const meeting = Meetings.findOne({
    meetingId
  }, {
    fields: {
      'voiceProp.voiceConf': 1
    }
  });
  const usersIds = users.map(m => m.intId);
  const voiceUsersIdsToUpdate = VoiceUsers.find({
    meetingId,
    intId: {
      $in: usersIds
    }
  }, {
    fields: {
      intId: 1
    }
  }).fetch().map(m => m.intId);
  const voiceUsersUpdated = [];
  users.forEach(user => {
    if (voiceUsersIdsToUpdate.indexOf(user.intId) >= 0) {
      // user already exist, then update
      voiceUsersUpdated.push(updateVoiceUser(meetingId, {
        intId: user.intId,
        voiceUserId: user.voiceUserId,
        talking: user.talking,
        muted: user.muted,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      }));
    } else {
      // user doesn't exist yet, then add it
      addVoiceUser(meetingId, {
        voiceUserId: user.voiceUserId,
        intId: user.intId,
        callerName: user.callerName,
        callerNum: user.callerNum,
        muted: user.muted,
        talking: user.talking,
        callingWith: user.callingWith,
        listenOnly: user.listenOnly,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      });
    }
  }); // removing extra users already existing in Mongo

  const voiceUsersToRemove = VoiceUsers.find({
    meetingId,
    intId: {
      $nin: usersIds
    }
  }).fetch();
  voiceUsersToRemove.forEach(user => removeVoiceUser(meetingId, {
    voiceConf: meeting.voiceProp.voiceConf,
    voiceUserId: user.voiceUserId,
    intId: user.intId
  }));
  return voiceUsersUpdated;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"joinVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/joinVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleJoinVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let addDialInUser;
module.link("/imports/api/users/server/modifiers/addDialInUser", {
  default(v) {
    addDialInUser = v;
  }

}, 2);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 3);

function handleJoinVoiceUser({
  body
}, meetingId) {
  const voiceUser = body;
  voiceUser.joined = true;
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    intId: String,
    voiceUserId: String,
    callerName: String,
    callerNum: String,
    muted: Boolean,
    talking: Boolean,
    callingWith: String,
    listenOnly: Boolean,
    joined: Boolean
  });
  const {
    intId
  } = voiceUser;
  const User = Users.findOne({
    meetingId,
    intId,
    connectionStatus: 'online'
  });

  if (!User) {
    /* voice-only user - called into the conference */
    addDialInUser(meetingId, voiceUser);
  }

  return addVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"leftVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/leftVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removeVoiceUser;
module.link("/imports/api/voice-users/server/modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 1);
let removeUser;
module.link("/imports/api/users/server/modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    intId: String,
    voiceUserId: String
  });
  const {
    intId,
    voiceUserId
  } = voiceUser;

  const isDialInUser = (userId, meetingID) => !!Users.findOne({
    meetingId: meetingID,
    userId,
    clientType: 'dial-in-user'
  }); // if the user is dial-in, leaving voice also means leaving userlist


  if (isDialInUser(voiceUserId, meetingId)) removeUser(meetingId, intId);
  return removeVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingMuted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/meetingMuted.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingMuted
});
let changeMuteMeeting;
module.link("../modifiers/changeMuteMeeting", {
  default(v) {
    changeMuteMeeting = v;
  }

}, 0);

function handleMeetingMuted({
  body
}, meetingId) {
  return changeMuteMeeting(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mutedVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/mutedVoiceUser.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 1);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String); // If a person is muted we have to force them to not talking

  if (voiceUser.muted) {
    voiceUser.talking = false;
  }

  return updateVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"talkingVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/talkingVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 1);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String);
  return updateVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"voiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/voiceUsers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUsers
});
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let addDialInUser;
module.link("/imports/api/users/server/modifiers/addDialInUser", {
  default(v) {
    addDialInUser = v;
  }

}, 2);
let removeVoiceUser;
module.link("../modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 3);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 4);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 5);

function handleVoiceUsers({
  header,
  body
}) {
  const {
    voiceUsers
  } = body;
  const {
    meetingId
  } = header;
  const meeting = Meetings.findOne({
    meetingId
  }, {
    fields: {
      'voiceProp.voiceConf': 1
    }
  });
  const usersIds = voiceUsers.map(m => m.intId);
  const voiceUsersIdsToUpdate = VoiceUsers.find({
    meetingId,
    intId: {
      $in: usersIds
    }
  }, {
    fields: {
      intId: 1
    }
  }).fetch().map(m => m.intId);
  const voiceUsersUpdated = [];
  voiceUsers.forEach(voice => {
    if (voiceUsersIdsToUpdate.indexOf(voice.intId) >= 0) {
      // user already exist, then update
      voiceUsersUpdated.push(updateVoiceUser(meetingId, {
        intId: voice.intId,
        voiceUserId: voice.voiceUserId,
        talking: voice.talking,
        muted: voice.muted,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      }));
    } else {
      // user doesn't exist yet, then add it
      addVoiceUser(meetingId, {
        voiceUserId: voice.voiceUserId,
        intId: voice.intId,
        callerName: voice.callerName,
        callerNum: voice.callerNum,
        muted: voice.muted,
        talking: voice.talking,
        callingWith: voice.callingWith,
        listenOnly: voice.listenOnly,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      });
      addDialInUser(meetingId, voice);
    }
  }); // removing extra users already existing in Mongo

  const voiceUsersToRemove = VoiceUsers.find({
    meetingId,
    intId: {
      $nin: usersIds
    }
  }, {
    fields: {
      voiceUserId: 1,
      intId: 1
    }
  }).fetch();
  voiceUsersToRemove.forEach(user => removeVoiceUser(meetingId, {
    voiceConf: meeting.voiceProp.voiceConf,
    voiceUserId: user.voiceUserId,
    intId: user.intId
  }));
  return voiceUsersUpdated;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"ejectUserFromVoice.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/ejectUserFromVoice.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => ejectUserFromVoice
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function ejectUserFromVoice(userId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EjectUserFromVoiceCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    userId,
    ejectedBy: requesterUserId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteAllExceptPresenterToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteAllExceptPresenterToggle.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteAllExceptPresenterToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function muteAllExceptPresenterToggle() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteAllExceptPresentersCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const meeting = Meetings.findOne({
    meetingId
  });
  const toggleMeetingMuted = !meeting.voiceProp.muteOnStart;
  const payload = {
    mutedBy: requesterUserId,
    mute: toggleMeetingMuted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteAllToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteAllToggle.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteAllToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function muteAllToggle() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const meeting = Meetings.findOne({
    meetingId
  });
  const toggleMeetingMuted = !meeting.voiceProp.muteOnStart;
  const payload = {
    mutedBy: requesterUserId,
    mute: toggleMeetingMuted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteToggle.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 4);

function muteToggle(uId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteUserCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userToMute = uId || requesterUserId;
  const requester = Users.findOne({
    meetingId,
    userId: requesterUserId
  });
  const voiceUser = VoiceUsers.findOne({
    intId: userToMute,
    meetingId
  });
  if (!requester || !voiceUser) return;
  const {
    listenOnly,
    muted
  } = voiceUser;
  if (listenOnly) return;
  const payload = {
    userId: userToMute,
    mutedBy: requesterUserId,
    mute: !muted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/addVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 4);

function addVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    voiceUserId: String,
    intId: String,
    callerName: String,
    callerNum: String,
    muted: Boolean,
    talking: Boolean,
    callingWith: String,
    listenOnly: Boolean,
    voiceConf: String,
    joined: Boolean // This is a HTML5 only param.

  });
  const {
    intId,
    talking
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      spoke: talking
    }, flat(voiceUser))
  };
  const user = Users.findOne({
    meetingId,
    userId: intId
  }, {
    fields: {
      color: 1
    }
  });
  if (user) modifier.$set.color = user.color;

  const cb = err => {
    if (err) {
      return Logger.error(`Add voice user=${intId}: ${err}`);
    }

    return Logger.info(`Add voice user=${intId} meeting=${meetingId}`);
  };

  return VoiceUsers.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeMuteMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/changeMuteMeeting.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeMuteMeeting
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function changeMuteMeeting(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    muted: Boolean,
    mutedBy: String
  });
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      'voiceProp.muteOnStart': payload.muted
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Changing meeting mute status meeting={${meetingId}} ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Changed meeting mute status meeting=${meetingId}`);
    }
  };

  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearVoiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/clearVoiceUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVoiceUser
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 1);

function clearVoiceUser(meetingId) {
  if (meetingId) {
    return VoiceUsers.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared VoiceUsers in (${meetingId})`);
    });
  }

  return VoiceUsers.remove({}, () => {
    Logger.info('Cleared VoiceUsers in all meetings');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/removeVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let clearSpokeTimeout;
module.link("/imports/api/common/server/helpers", {
  clearSpokeTimeout(v) {
    clearSpokeTimeout = v;
  }

}, 3);

function removeVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    voiceUserId: String,
    intId: String
  });
  const {
    intId
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: {
      muted: false,
      talking: false,
      listenOnly: false,
      joined: false,
      spoke: false
    }
  };
  clearSpokeTimeout(meetingId, intId);

  const cb = err => {
    if (err) {
      return Logger.error(`Remove voiceUser=${intId}: ${err}`);
    }

    return Logger.info(`Remove voiceUser=${intId} meeting=${meetingId}`);
  };

  return VoiceUsers.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/updateVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateVoiceUser
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let spokeTimeoutHandles, clearSpokeTimeout;
module.link("/imports/api/common/server/helpers", {
  spokeTimeoutHandles(v) {
    spokeTimeoutHandles = v;
  },

  clearSpokeTimeout(v) {
    clearSpokeTimeout = v;
  }

}, 4);
const TALKING_TIMEOUT = 6000;

function updateVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    intId: String,
    voiceUserId: String,
    talking: Match.Maybe(Boolean),
    muted: Match.Maybe(Boolean),
    voiceConf: String,
    joined: Match.Maybe(Boolean)
  });
  const {
    intId
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: Object.assign(flat(voiceUser))
  };

  if (voiceUser.talking) {
    const user = VoiceUsers.findOne({
      meetingId,
      intId
    }, {
      fields: {
        startTime: 1
      }
    });
    if (user && !user.startTime) modifier.$set.startTime = Date.now();
    modifier.$set.spoke = true;
    modifier.$set.endTime = null;
    clearSpokeTimeout(meetingId, intId);
  }

  const cb = err => {
    if (err) {
      return Logger.error(`Update voiceUser=${intId}: ${err}`);
    }

    return Logger.debug(`Update voiceUser=${intId} meeting=${meetingId}`);
  };

  if (!voiceUser.talking) {
    const timeoutHandle = Meteor.setTimeout(() => {
      const user = VoiceUsers.findOne({
        meetingId,
        intId
      }, {
        fields: {
          endTime: 1,
          talking: 1
        }
      });

      if (user) {
        const {
          endTime,
          talking
        } = user;
        const spokeDelay = Date.now() - endTime < TALKING_TIMEOUT;
        if (talking || spokeDelay) return;
        modifier.$set.spoke = false;
        modifier.$set.startTime = null;
        VoiceUsers.update(selector, modifier, cb);
      }
    }, TALKING_TIMEOUT);
    spokeTimeoutHandles[`${meetingId}-${intId}`] = timeoutHandle;
    modifier.$set.endTime = Date.now();
  }

  return VoiceUsers.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleJoinVoiceUser;
module.link("./handlers/joinVoiceUser", {
  default(v) {
    handleJoinVoiceUser = v;
  }

}, 2);
let handleLeftVoiceUser;
module.link("./handlers/leftVoiceUser", {
  default(v) {
    handleLeftVoiceUser = v;
  }

}, 3);
let handleTalkingVoiceUser;
module.link("./handlers/talkingVoiceUser", {
  default(v) {
    handleTalkingVoiceUser = v;
  }

}, 4);
let handleMutedVoiceUser;
module.link("./handlers/mutedVoiceUser", {
  default(v) {
    handleMutedVoiceUser = v;
  }

}, 5);
let handleGetVoiceUsers;
module.link("./handlers/getVoiceUsers", {
  default(v) {
    handleGetVoiceUsers = v;
  }

}, 6);
let handleVoiceUsers;
module.link("./handlers/voiceUsers", {
  default(v) {
    handleVoiceUsers = v;
  }

}, 7);
let handleMeetingMuted;
module.link("./handlers/meetingMuted", {
  default(v) {
    handleMeetingMuted = v;
  }

}, 8);
RedisPubSub.on('UserLeftVoiceConfToClientEvtMsg', handleLeftVoiceUser);
RedisPubSub.on('UserJoinedVoiceConfToClientEvtMsg', handleJoinVoiceUser);
RedisPubSub.on('UserTalkingVoiceEvtMsg', handleTalkingVoiceUser);
RedisPubSub.on('UserMutedVoiceEvtMsg', handleMutedVoiceUser);
RedisPubSub.on('GetVoiceUsersMeetingRespMsg', processForHTML5ServerOnly(handleGetVoiceUsers));
RedisPubSub.on('SyncGetVoiceUsersRespMsg', handleVoiceUsers);
RedisPubSub.on('MeetingMutedEvtMsg', handleMeetingMuted);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./publishers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let muteToggle;
module.link("./methods/muteToggle", {
  default(v) {
    muteToggle = v;
  }

}, 1);
let muteAllToggle;
module.link("./methods/muteAllToggle", {
  default(v) {
    muteAllToggle = v;
  }

}, 2);
let muteAllExceptPresenterToggle;
module.link("./methods/muteAllExceptPresenterToggle", {
  default(v) {
    muteAllExceptPresenterToggle = v;
  }

}, 3);
let ejectUserFromVoice;
module.link("./methods/ejectUserFromVoice", {
  default(v) {
    ejectUserFromVoice = v;
  }

}, 4);
Meteor.methods({
  toggleVoice: muteToggle,
  muteAllUsers: muteAllToggle,
  muteAllExceptPresenter: muteAllExceptPresenterToggle,
  ejectUserFromVoice
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function voiceUser() {
  if (!this.userId) {
    return VoiceUsers.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Voice User for ${meetingId} ${requesterUserId}`);
  return VoiceUsers.find({
    meetingId
  });
}

function publish(...args) {
  const boundVoiceUser = voiceUser.bind(this);
  return boundVoiceUser(...args);
}

Meteor.publish('voiceUsers', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VoiceUsers = new Mongo.Collection('voiceUsers');

if (Meteor.isServer) {
  // types of queries for the voice users:
  // 1. intId
  // 2. meetingId, intId
  VoiceUsers._ensureIndex({
    intId: 1
  });

  VoiceUsers._ensureIndex({
    meetingId: 1,
    intId: 1
  });
}

module.exportDefault(VoiceUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"whiteboard-multi-user":{"server":{"handlers":{"modifyWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/handlers/modifyWhiteboardAccess.js                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleModifyWhiteboardAccess
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let modifyWhiteboardAccess;
module.link("../modifiers/modifyWhiteboardAccess", {
  default(v) {
    modifyWhiteboardAccess = v;
  }

}, 1);

function handleModifyWhiteboardAccess({
  body
}, meetingId) {
  const {
    multiUser,
    whiteboardId
  } = body;
  check(multiUser, Boolean);
  check(whiteboardId, String);
  check(meetingId, String);
  return modifyWhiteboardAccess(meetingId, whiteboardId, multiUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"changeWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/methods/changeWhiteboardAccess.js                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeWhiteboardAccess
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function changeWhiteboardAccess(multiUser, whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ModifyWhiteboardAccessPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(multiUser, Boolean);
  check(whiteboardId, String);
  const payload = {
    multiUser,
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"modifyWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/modifiers/modifyWhiteboardAccess.js                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => modifyWhiteboardAccess
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 2);

function modifyWhiteboardAccess(meetingId, whiteboardId, multiUser) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(multiUser, Boolean);
  const selector = {
    meetingId,
    whiteboardId
  };
  const modifier = {
    meetingId,
    whiteboardId,
    multiUser
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Error while adding an entry to Multi-User collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added multiUser flag=${multiUser} meetingId=${meetingId} whiteboardId=${whiteboardId}`);
    }

    return Logger.info(`Upserted multiUser flag=${multiUser} meetingId=${meetingId} whiteboardId=${whiteboardId}`);
  };

  return WhiteboardMultiUser.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/eventHandlers.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleGetWhiteboardAccess;
module.link("./handlers/modifyWhiteboardAccess", {
  default(v) {
    handleGetWhiteboardAccess = v;
  }

}, 2);
RedisPubSub.on('GetWhiteboardAccessRespMsg', processForHTML5ServerOnly(handleGetWhiteboardAccess));
RedisPubSub.on('SyncGetWhiteboardAccessRespMsg', handleGetWhiteboardAccess);
RedisPubSub.on('ModifyWhiteboardAccessEvtMsg', handleGetWhiteboardAccess);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/index.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/methods.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let changeWhiteboardAccess;
module.link("./methods/changeWhiteboardAccess", {
  default(v) {
    changeWhiteboardAccess = v;
  }

}, 1);
Meteor.methods({
  changeWhiteboardAccess
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/publishers.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function whiteboardMultiUser() {
  if (!this.userId) {
    return WhiteboardMultiUser.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing whiteboard-multi-user for ${meetingId} ${requesterUserId}`);
  return WhiteboardMultiUser.find({
    meetingId
  });
}

function publish(...args) {
  const boundMultiUser = whiteboardMultiUser.bind(this);
  return boundMultiUser(...args);
}

Meteor.publish('whiteboard-multi-user', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const WhiteboardMultiUser = new Mongo.Collection('whiteboard-multi-user');

if (Meteor.isServer) {
  // types of queries for the whiteboard-multi-user:
  // 1. meetingId
  WhiteboardMultiUser._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(WhiteboardMultiUser);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"common":{"server":{"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/common/server/helpers.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  spokeTimeoutHandles: () => spokeTimeoutHandles,
  clearSpokeTimeout: () => clearSpokeTimeout,
  indexOf: () => indexOf,
  processForHTML5ServerOnly: () => processForHTML5ServerOnly,
  hashFNV32a: () => hashFNV32a,
  extractCredentials: () => extractCredentials
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
const MSG_DIRECT_TYPE = 'DIRECT';
const NODE_USER = 'nodeJSapp';
const spokeTimeoutHandles = {};

const clearSpokeTimeout = (meetingId, userId) => {
  if (spokeTimeoutHandles[`${meetingId}-${userId}`]) {
    Meteor.clearTimeout(spokeTimeoutHandles[`${meetingId}-${userId}`]);
    delete spokeTimeoutHandles[`${meetingId}-${userId}`];
  }
};

const indexOf = [].indexOf || function (item) {
  for (let i = 0, l = this.length; i < l; i += 1) {
    if (i in this && this[i] === item) {
      return i;
    }
  }

  return -1;
};

const processForHTML5ServerOnly = fn => (message, ...args) => {
  const {
    envelope
  } = message;
  const {
    routing
  } = envelope;
  const {
    msgType,
    meetingId,
    userId
  } = routing;
  const selector = {
    userId,
    meetingId
  };
  const user = Users.findOne(selector);
  const shouldSkip = user && msgType === MSG_DIRECT_TYPE && userId !== NODE_USER && user.clientType !== 'HTML5';
  if (shouldSkip) return () => {};
  return fn(message, ...args);
};

const hashFNV32a = (str, asString, seed) => {
  let hval = seed === undefined ? 0x811c9dc5 : seed;

  for (let i = 0, l = str.length; i < l; i++) {
    hval ^= str.charCodeAt(i);
    hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);
  }

  if (asString) {
    return `0000000${(hval >>> 0).toString(16)}`.substr(-8);
  }

  return hval >>> 0;
};

const extractCredentials = credentials => {
  if (!credentials) return {};
  const credentialsArray = credentials.split('--');
  const meetingId = credentialsArray[0];
  const requesterUserId = credentialsArray[1];
  return {
    meetingId,
    requesterUserId
  };
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"startup":{"server":{"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/index.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  eventEmitter: () => eventEmitter,
  redisPubSub: () => redisPubSub
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let WebAppInternals;
module.link("meteor/webapp", {
  WebAppInternals(v) {
    WebAppInternals = v;
  }

}, 1);
let Langmap;
module.link("langmap", {
  default(v) {
    Langmap = v;
  }

}, 2);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 3);
let heapdump;
module.link("heapdump", {
  default(v) {
    heapdump = v;
  }

}, 4);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 5);
module.link("./settings");
let lookupUserAgent;
module.link("useragent", {
  lookup(v) {
    lookupUserAgent = v;
  }

}, 6);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 7);
let memwatch;
module.link("memwatch-next", {
  default(v) {
    memwatch = v;
  }

}, 8);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 9);
let Redis;
module.link("./redis", {
  default(v) {
    Redis = v;
  }

}, 10);
let setMinBrowserVersions;
module.link("./minBrowserVersion", {
  default(v) {
    setMinBrowserVersions = v;
  }

}, 11);
let userLeaving;
module.link("/imports/api/users/server/methods/userLeaving", {
  default(v) {
    userLeaving = v;
  }

}, 12);
const AVAILABLE_LOCALES = fs.readdirSync('assets/app/locales');
Meteor.startup(() => {
  const APP_CONFIG = Meteor.settings.public.app;
  const INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.clearUsersInSeconds * 1000;
  const INTERVAL_TIME = INTERVAL_IN_SETTINGS < 10000 ? 10000 : INTERVAL_IN_SETTINGS;
  const env = Meteor.isDevelopment ? 'development' : 'production';
  const CDN_URL = APP_CONFIG.cdn;
  let heapDumpMbThreshold = 100;
  const memoryMonitoringSettings = Meteor.settings.private.memoryMonitoring;

  if (memoryMonitoringSettings.stat.enabled) {
    memwatch.on('stats', stats => {
      let heapDumpTriggered = false;

      if (memoryMonitoringSettings.heapdump.enabled) {
        heapDumpTriggered = stats.current_base / 1048576 > heapDumpMbThreshold;
      }

      Logger.info('memwatch stats', (0, _objectSpread2.default)({}, stats, {
        heapDumpEnabled: memoryMonitoringSettings.heapdump.enabled,
        heapDumpTriggered
      }));

      if (heapDumpTriggered) {
        heapdump.writeSnapshot(`./heapdump-stats-${Date.now()}.heapsnapshot`);
        heapDumpMbThreshold += 100;
      }
    });
  }

  if (memoryMonitoringSettings.leak.enabled) {
    memwatch.on('leak', info => {
      Logger.info('memwatch leak', info);
    });
  }

  if (CDN_URL.trim()) {
    // Add CDN
    BrowserPolicy.content.disallowEval();
    BrowserPolicy.content.allowInlineScripts();
    BrowserPolicy.content.allowInlineStyles();
    BrowserPolicy.content.allowImageDataUrl(CDN_URL);
    BrowserPolicy.content.allowFontDataUrl(CDN_URL);
    BrowserPolicy.content.allowOriginForAll(CDN_URL);
    WebAppInternals.setBundledJsCssPrefix(CDN_URL + APP_CONFIG.basename);
    const fontRegExp = /\.(eot|ttf|otf|woff|woff2)$/;
    WebApp.rawConnectHandlers.use('/', (req, res, next) => {
      if (fontRegExp.test(req._parsedUrl.pathname)) {
        res.setHeader('Access-Control-Allow-Origin', '*');
        res.setHeader('Vary', 'Origin');
        res.setHeader('Pragma', 'public');
        res.setHeader('Cache-Control', '"public"');
      }

      return next();
    });
  }

  setMinBrowserVersions();
  Meteor.setInterval(() => {
    const currentTime = Date.now();
    Logger.info('Checking for inactive users');
    const users = Users.find({
      connectionStatus: 'online',
      clientType: 'HTML5',
      lastPing: {
        $lt: currentTime - INTERVAL_TIME // get user who has not pinged in the last 10 seconds

      },
      loginTime: {
        $lt: currentTime - INTERVAL_TIME
      }
    }).fetch();
    if (!users.length) return Logger.info('No inactive users');
    Logger.info('Removing inactive users');
    users.forEach(user => {
      Logger.info(`Detected inactive user, userId:${user.userId}, meetingId:${user.meetingId}`);
      return userLeaving(user.meetingId, user.userId, user.connectionId);
    });
    return Logger.info('All inactive users have been removed');
  }, INTERVAL_TIME);
  Logger.warn(`SERVER STARTED.\nENV=${env},\nnodejs version=${process.version}\nCDN=${CDN_URL}\n`, APP_CONFIG);
});
WebApp.connectHandlers.use('/check', (req, res) => {
  const payload = {
    html5clientStatus: 'running'
  };
  res.setHeader('Content-Type', 'application/json');
  res.writeHead(200);
  res.end(JSON.stringify(payload));
});
WebApp.connectHandlers.use('/locale', (req, res) => {
  const APP_CONFIG = Meteor.settings.public.app;
  const fallback = APP_CONFIG.defaultSettings.application.fallbackLocale;
  const override = APP_CONFIG.defaultSettings.application.overrideLocale;
  const browserLocale = override && req.query.init === 'true' ? override.split(/[-_]/g) : req.query.locale.split(/[-_]/g);
  const localeList = [fallback];
  const usableLocales = AVAILABLE_LOCALES.map(file => file.replace('.json', '')).reduce((locales, locale) => locale.match(browserLocale[0]) ? [...locales, locale] : locales, []);
  const regionDefault = usableLocales.find(locale => browserLocale[0] === locale);
  if (regionDefault) localeList.push(regionDefault);
  if (!regionDefault && usableLocales.length) localeList.push(usableLocales[0]);
  let normalizedLocale;
  let messages = {};

  if (browserLocale.length > 1) {
    normalizedLocale = `${browserLocale[0]}_${browserLocale[1].toUpperCase()}`;
    localeList.push(normalizedLocale);
  }

  localeList.forEach(locale => {
    try {
      const data = Assets.getText(`locales/${locale}.json`);
      messages = Object.assign(messages, JSON.parse(data));
      normalizedLocale = locale;
    } catch (e) {
      Logger.warn(`'Could not process locale ${locale}:${e}`); // Getting here means the locale is not available in the current locale files.
    }
  });
  res.setHeader('Content-Type', 'application/json');
  res.end(JSON.stringify({
    normalizedLocale,
    messages
  }));
});
WebApp.connectHandlers.use('/locales', (req, res) => {
  let locales = [];

  try {
    locales = AVAILABLE_LOCALES.map(file => file.replace('.json', '')).map(file => file.replace('_', '-')).map(locale => ({
      locale,
      name: Langmap[locale].nativeName
    }));
  } catch (e) {
    Logger.warn(`'Could not process locales error: ${e}`);
  }

  res.setHeader('Content-Type', 'application/json');
  res.writeHead(200);
  res.end(JSON.stringify(locales));
});
WebApp.connectHandlers.use('/feedback', (req, res) => {
  req.on('data', Meteor.bindEnvironment(data => {
    const body = JSON.parse(data);
    const {
      meetingId,
      userId,
      authToken,
      userName: reqUserName,
      comment,
      rating
    } = body;
    check(meetingId, String);
    check(userId, String);
    check(authToken, String);
    check(reqUserName, String);
    check(comment, String);
    check(rating, Number);
    const user = Users.findOne({
      meetingId,
      userId,
      connectionStatus: 'offline',
      authToken
    });

    if (!user) {
      Logger.warn('Couldn\'t find user for feedback');
    }

    res.setHeader('Content-Type', 'application/json');
    res.writeHead(200);
    res.end(JSON.stringify({
      status: 'ok'
    }));
    body.userName = user ? user.name : `[unconfirmed] ${reqUserName}`;
    const feedback = (0, _objectSpread2.default)({}, body);
    Logger.info('FEEDBACK LOG:', feedback);
  }));
});
WebApp.connectHandlers.use('/useragent', (req, res) => {
  const userAgent = req.headers['user-agent'];
  let response = 'No user agent found in header';

  if (userAgent) {
    response = lookupUserAgent(userAgent).toString();
  }

  Logger.info(`The requesting user agent is ${response}`); // res.setHeader('Content-Type', 'application/json');

  res.writeHead(200);
  res.end(response);
});
const eventEmitter = Redis.emitter;
const redisPubSub = Redis;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"logger.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/logger.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  logger: () => logger
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createLogger, format, transports;
module.link("winston", {
  createLogger(v) {
    createLogger = v;
  },

  format(v) {
    format = v;
  },

  transports(v) {
    transports = v;
  }

}, 1);
const LOG_CONFIG = Meteor.settings.private.serverLog || {};
const {
  level
} = LOG_CONFIG;
const Logger = createLogger({
  level,
  format: format.combine(format.colorize({
    level: true
  }), format.splat(), format.simple()),
  transports: [// console logging
  new transports.Console({
    prettyPrint: false,
    humanReadableUnhandledException: true,
    colorize: true,
    handleExceptions: true,
    level
  })]
});
module.exportDefault(Logger);
const logger = Logger;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"minBrowserVersion.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/minBrowserVersion.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let setMinimumBrowserVersions;
module.link("meteor/modern-browsers", {
  setMinimumBrowserVersions(v) {
    setMinimumBrowserVersions = v;
  }

}, 1);

const setMinBrowserVersions = () => {
  const {
    minBrowserVersions
  } = Meteor.settings.private;
  const versions = {};
  minBrowserVersions.forEach(elem => {
    let {
      version
    } = elem;
    if (version === 'Infinity') version = Infinity;
    versions[elem.browser] = version;
  });
  setMinimumBrowserVersions(versions, 'bbb-min');
};

module.exportDefault(setMinBrowserVersions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"redis.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/redis.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Redis;
module.link("redis", {
  default(v) {
    Redis = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let EventEmitter2;
module.link("eventemitter2", {
  EventEmitter2(v) {
    EventEmitter2 = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 4);
// Fake meetingId used for messages that have no meetingId
const NO_MEETING_ID = '_';

const makeEnvelope = (channel, eventName, header, body, routing) => {
  const envelope = {
    envelope: {
      name: eventName,
      routing: routing || {
        sender: 'bbb-apps-akka' // sender: 'html5-server', // TODO

      },
      timestamp: Date.now()
    },
    core: {
      header,
      body
    }
  };
  return JSON.stringify(envelope);
};

const makeDebugger = enabled => message => {
  if (!enabled) return;
  Logger.debug(`REDIS: ${message}`);
};

class MeetingMessageQueue {
  constructor(eventEmitter, asyncMessages = [], debug = () => {}) {
    this.asyncMessages = asyncMessages;
    this.emitter = eventEmitter;
    this.queue = new PowerQueue();
    this.debug = debug;
    this.handleTask = this.handleTask.bind(this);
    this.queue.taskHandler = this.handleTask;
  }

  handleTask(data, next) {
    const {
      channel
    } = data;
    const {
      envelope
    } = data.parsedMessage;
    const {
      header
    } = data.parsedMessage.core;
    const {
      body
    } = data.parsedMessage.core;
    const {
      meetingId
    } = header;
    const eventName = header.name;
    const isAsync = this.asyncMessages.includes(channel) || this.asyncMessages.includes(eventName);
    let called = false;
    check(eventName, String);
    check(body, Object);

    const callNext = () => {
      if (called) return;
      this.debug(`${eventName} completed ${isAsync ? 'async' : 'sync'}`);
      called = true;
      const queueLength = this.queue.length();

      if (queueLength > 100) {
        Logger.error(`prev queue size=${queueLength} `);
      }

      next();
    };

    const onError = reason => {
      Logger.error(`${eventName}: ${reason.stack ? reason.stack : reason}`);
      callNext();
    };

    try {
      this.debug(`${JSON.stringify(data.parsedMessage.core)} emitted`);

      if (isAsync) {
        callNext();
      }

      this.emitter.emitAsync(eventName, {
        envelope,
        header,
        body
      }, meetingId).then(callNext).catch(onError);
    } catch (reason) {
      onError(reason);
    }
  }

  add(...args) {
    return this.queue.add(...args);
  }

}

class RedisPubSub {
  static handlePublishError(err) {
    if (err) {
      Logger.error(err);
    }
  }

  constructor(config = {}) {
    this.config = config;
    this.didSendRequestEvent = false;
    const host = process.env.REDIS_HOST || Meteor.settings.private.redis.host;
    const redisConf = Meteor.settings.private.redis;
    const {
      password,
      port
    } = redisConf;

    if (password) {
      this.pub = Redis.createClient({
        host,
        port,
        password
      });
      this.sub = Redis.createClient({
        host,
        port,
        password
      });
      this.pub.auth(password);
      this.sub.auth(password);
    } else {
      this.pub = Redis.createClient({
        host,
        port
      });
      this.sub = Redis.createClient({
        host,
        port
      });
    }

    this.emitter = new EventEmitter2();
    this.mettingsQueues = {};
    this.handleSubscribe = this.handleSubscribe.bind(this);
    this.handleMessage = this.handleMessage.bind(this);
    this.debug = makeDebugger(this.config.debug);
  }

  init() {
    this.sub.on('psubscribe', Meteor.bindEnvironment(this.handleSubscribe));
    this.sub.on('pmessage', Meteor.bindEnvironment(this.handleMessage));
    const channelsToSubscribe = this.config.subscribeTo;
    channelsToSubscribe.forEach(channel => {
      this.sub.psubscribe(channel);
    });
    this.debug(`Subscribed to '${channelsToSubscribe}'`);
  }

  updateConfig(config) {
    this.config = Object.assign({}, this.config, config);
    this.debug = makeDebugger(this.config.debug);
  } // TODO: Move this out of this class, maybe pass as a callback to init?


  handleSubscribe() {
    if (this.didSendRequestEvent) return; // populate collections with pre-existing data

    const REDIS_CONFIG = Meteor.settings.private.redis;
    const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
    const EVENT_NAME = 'GetAllMeetingsReqMsg';
    const body = {
      requesterId: 'nodeJSapp'
    };
    this.publishSystemMessage(CHANNEL, EVENT_NAME, body);
    this.didSendRequestEvent = true;
  }

  handleMessage(pattern, channel, message) {
    const parsedMessage = JSON.parse(message);
    const {
      name: eventName,
      meetingId
    } = parsedMessage.core.header;
    const {
      ignored: ignoredMessages,
      async
    } = this.config;

    if (ignoredMessages.includes(channel) || ignoredMessages.includes(eventName)) {
      if (eventName === 'CheckAlivePongSysMsg') {
        return;
      }

      this.debug(`${eventName} skipped`);
      return;
    }

    const queueId = meetingId || NO_MEETING_ID;

    if (!(queueId in this.mettingsQueues)) {
      this.mettingsQueues[meetingId] = new MeetingMessageQueue(this.emitter, async, this.debug);
    }

    this.mettingsQueues[meetingId].add({
      pattern,
      channel,
      eventName,
      parsedMessage
    });
  }

  destroyMeetingQueue(id) {
    delete this.mettingsQueues[id];
  }

  on(...args) {
    return this.emitter.on(...args);
  }

  publishVoiceMessage(channel, eventName, voiceConf, payload) {
    const header = {
      name: eventName,
      voiceConf
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishSystemMessage(channel, eventName, payload) {
    const header = {
      name: eventName
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishMeetingMessage(channel, eventName, meetingId, payload) {
    const header = {
      name: eventName,
      meetingId
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishUserMessage(channel, eventName, meetingId, userId, payload) {
    const header = {
      name: eventName,
      meetingId,
      userId
    };

    if (!meetingId || !userId) {
      Logger.warn(`Publishing ${eventName} with potentially missing data userId=${userId} meetingId=${meetingId}`);
    }

    const envelope = makeEnvelope(channel, eventName, header, payload, {
      meetingId,
      userId
    });
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

}

const RedisPubSubSingleton = new RedisPubSub();
Meteor.startup(() => {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  RedisPubSubSingleton.updateConfig(REDIS_CONFIG);
  RedisPubSubSingleton.init();
});
module.exportDefault(RedisPubSubSingleton);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"settings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/settings.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 1);
let YAML;
module.link("yaml", {
  default(v) {
    YAML = v;
  }

}, 2);
const YAML_FILE_PATH = 'assets/app/config/settings.yml';

try {
  if (fs.existsSync(YAML_FILE_PATH)) {
    const SETTINGS = YAML.parse(fs.readFileSync(YAML_FILE_PATH, 'utf-8'));
    Meteor.settings = SETTINGS;
    __meteor_runtime_config__.PUBLIC_SETTINGS = SETTINGS.public;
  } else {
    throw new Error('File doesn\'t exists');
  }
} catch (error) {
  console.error('Error on load configuration file.', error);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"utils":{"lineEndings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/lineEndings.js                                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  BREAK_LINE: () => BREAK_LINE,
  CARRIAGE_RETURN: () => CARRIAGE_RETURN,
  NEW_LINE: () => NEW_LINE
});
// Used in Flash and HTML to show a legitimate break in the line
const BREAK_LINE = '<br/>'; // Soft return in HTML to signify a broken line without
// displaying the escaped '<br/>' line break text

const CARRIAGE_RETURN = '\r'; // Handle this the same as carriage return, in case text copied has this

const NEW_LINE = '\n';
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mimeTypes.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/mimeTypes.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  XLS: () => XLS,
  XLSX: () => XLSX,
  DOC: () => DOC,
  DOCX: () => DOCX,
  PPT: () => PPT,
  PPTX: () => PPTX,
  ODT: () => ODT,
  RTF: () => RTF,
  TXT: () => TXT,
  ODS: () => ODS,
  ODP: () => ODP,
  PDF: () => PDF,
  JPEG: () => JPEG,
  PNG: () => PNG,
  SVG: () => SVG,
  UPLOAD_SUPORTED: () => UPLOAD_SUPORTED
});
const XLS = 'application/vnd.ms-excel';
const XLSX = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';
const DOC = 'application/msword';
const DOCX = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';
const PPT = 'application/vnd.ms-powerpoint';
const PPTX = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';
const ODT = 'application/vnd.oasis.opendocument.text';
const RTF = 'application/rtf';
const TXT = 'text/plain';
const ODS = 'application/vnd.oasis.opendocument.spreadsheet';
const ODP = 'application/vnd.oasis.opendocument.presentation';
const PDF = 'application/pdf';
const JPEG = 'image/jpeg';
const PNG = 'image/png';
const SVG = 'image/svg+xml';
const UPLOAD_SUPORTED = [XLS, XLSX, DOC, DOCX, PPT, PPTX, ODT, RTF, TXT, ODS, ODP, PDF, JPEG, PNG];
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"regex-weburl.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/regex-weburl.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.exportDefault(new RegExp( // protocol identifier
'(?:(?:https?|ftp)://)' + // user:pass authentication
'(?:\\S+(?::\\S*)?@)?' + '(?:' + // IP address exclusion
// private & local networks
'(?!(?:10|127)(?:\\.\\d{1,3}){3})' + '(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})' + '(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})' + // IP address dotted notation octets
// excludes loopback network 0.0.0.0
// excludes reserved space >= 224.0.0.0
// excludes network & broacast addresses
// (first & last IP address of each class)
'(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])' + '(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}' + '(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))' + '|' + // host name
'(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)' + // domain name
'(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*' + // TLD identifier
'(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))' + // TLD may end with dot
'\\.?' + ')' + // port number
'(?::\\d{2,5})?' + // resource path
'(?:[/?#]\\S*)?', 'img'));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"server":{"main.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// server/main.js                                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("/imports/startup/server");
module.link("/imports/api/meetings/server");
module.link("/imports/api/users/server");
module.link("/imports/api/annotations/server");
module.link("/imports/api/cursor/server");
module.link("/imports/api/polls/server");
module.link("/imports/api/captions/server");
module.link("/imports/api/presentations/server");
module.link("/imports/api/presentation-pods/server");
module.link("/imports/api/presentation-upload-token/server");
module.link("/imports/api/slides/server");
module.link("/imports/api/breakouts/server");
module.link("/imports/api/group-chat/server");
module.link("/imports/api/group-chat-msg/server");
module.link("/imports/api/screenshare/server");
module.link("/imports/api/users-settings/server");
module.link("/imports/api/voice-users/server");
module.link("/imports/api/whiteboard-multi-user/server");
module.link("/imports/api/video-streams/server");
module.link("/imports/api/network-information/server");
module.link("/imports/api/users-infos/server");
module.link("/imports/api/note/server");
module.link("/imports/api/external-videos/server");
module.link("/imports/api/guest-users/server");
module.link("/imports/api/ping-pong/server");
module.link("/imports/api/local-settings/server");
module.link("/imports/api/voice-call-states/server");
module.link("/imports/api/log-client/server");
module.link("/imports/api/common/server/helpers");
module.link("/imports/startup/server/logger");

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
global._ = _;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},{
  "extensions": [
    ".js",
    ".json",
    ".jsx"
  ]
});

var exports = require("/server/main.js");
//# sourceURL=meteor://app/app/app.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3doaXRlYm9hcmRBbm5vdGF0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3doaXRlYm9hcmRDbGVhcmVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvd2hpdGVib2FyZFNlbmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9oYW5kbGVycy93aGl0ZWJvYXJkVW5kby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21ldGhvZHMvY2xlYXJXaGl0ZWJvYXJkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9zZW5kQW5ub3RhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21ldGhvZHMvc2VuZEFubm90YXRpb25IZWxwZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tZXRob2RzL3NlbmRCdWxrQW5ub3RhdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tZXRob2RzL3VuZG9Bbm5vdGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEFubm90YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJBbm5vdGF0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVBbm5vdGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvYWRkQW5ub3RhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvYnJlYWtvdXRDbG9zZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvYnJlYWtvdXRKb2luVVJMLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL2hhbmRsZXJzL2JyZWFrb3V0U3RhcnRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9oYW5kbGVycy9qb2luZWRVc2Vyc0NoYW5nZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvdXBkYXRlVGltZVJlbWFpbmluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9tZXRob2RzL2NyZWF0ZUJyZWFrb3V0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvZW5kQWxsQnJlYWtvdXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvcmVxdWVzdEpvaW5VUkwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQnJlYWtvdXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oYW5kbGVycy9wYWRDcmVhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oYW5kbGVycy9wYWRVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2FwcGVuZFRleHQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2NyZWF0ZUNhcHRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9lZGl0Q2FwdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2ZldGNoUmVhZE9ubHlQYWRJZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvdGFrZU93bmVyc2hpcC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvdXBkYXRlT3duZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvYWRkQ2FwdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhckNhcHRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZU93bmVySWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlUGFkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZVJlYWRPbmx5UGFkSWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvaGVscGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL2hhbmRsZXJzL2N1cnNvclVwZGF0ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9tZXRob2RzL3B1Ymxpc2hDdXJzb3JVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvZGVzdHJveUV4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9lbWl0RXh0ZXJuYWxWaWRlb0V2ZW50LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvaW5pdGlhbGl6ZUV4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9zdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL3N0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvaGFuZGxlcnMvZ3JvdXBDaGF0Q3JlYXRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvaGFuZGxlcnMvZ3JvdXBDaGF0RGVzdHJveWVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9oYW5kbGVycy9ncm91cENoYXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tZXRob2RzL2NyZWF0ZUdyb3VwQ2hhdC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvbWV0aG9kcy9kZXN0cm95R3JvdXBDaGF0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tb2RpZmllcnMvYWRkR3JvdXBDaGF0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tb2RpZmllcnMvY2xlYXJHcm91cENoYXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvaGFuZGxlcnMvY2xlYXJQdWJsaWNHcm91cENoYXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9oYW5kbGVycy9ncm91cENoYXRNc2dCcm9hZGNhc3QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9oYW5kbGVycy9ncm91cENoYXRzTXNncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL2hhbmRsZXJzL3VzZXJUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL2NsZWFyUHVibGljQ2hhdEhpc3RvcnkuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL3NlbmRHcm91cENoYXRNc2cuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL3N0YXJ0VXNlclR5cGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21ldGhvZHMvc3RvcFVzZXJUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tb2RpZmllcnMvYWRkR3JvdXBDaGF0TXNnLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyR3JvdXBDaGF0TXNnLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL3N0YXJ0VHlwaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL3N0b3BUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9oYW5kbGVycy9ndWVzdEFwcHJvdmVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvZ3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9hbGxvd1BlbmRpbmdVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyL21ldGhvZHMvY2hhbmdlR3Vlc3RQb2xpY3kuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tb2RpZmllcnMvc2V0R3Vlc3RTdGF0dXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tZXRob2RzL3VzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9jbGVhckxvY2FsU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvc2V0Q2hhbmdlZExvY2FsU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3Mvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9nLWNsaWVudC9zZXJ2ZXIvbWV0aG9kcy9sb2dDbGllbnQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvZy1jbGllbnQvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2ctY2xpZW50L3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvZ2V0QWxsTWVldGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nQ3JlYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nRGVzdHJ1Y3Rpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nRW5kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvbWVldGluZ0xvY2tDaGFuZ2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9yZWNvcmRpbmdTdGF0dXNDaGFuZ2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9yZWNvcmRpbmdUaW1lckNoYW5nZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2hhbmRsZXJzL3RpbWVSZW1haW5pbmdVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy91c2VyTG9ja0NoYW5nZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2hhbmRsZXJzL3dlYmNhbU9ubHlNb2RlcmF0b3IuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tZXRob2RzL2VuZE1lZXRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tZXRob2RzL3RvZ2dsZUxvY2tTZXR0aW5ncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21ldGhvZHMvdG9nZ2xlUmVjb3JkaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbWV0aG9kcy90b2dnbGVXZWJjYW1zT25seUZvck1vZGVyYXRvci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21ldGhvZHMvdHJhbnNmZXJVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZE1lZXRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tb2RpZmllcnMvY2hhbmdlTG9ja1NldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZVVzZXJMb2NrLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUmVjb3JkTWVldGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9tZWV0aW5nSGFzRW5kZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tb2RpZmllcnMvc2V0UHVibGlzaGVkUG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9tZXRob2RzL3VzZXJJbnN0YWJpbGl0eURldGVjdGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9tb2RpZmllcnMvY2xlYXJOZXR3b3JrSW5mb3JtYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9wdWJsaXNoZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hhbmRsZXJzL3BhZFVwZGF0ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbWV0aG9kcy9jcmVhdGVOb3RlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvYWRkTm90ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyTm90ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZU5vdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hlbHBlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9waW5nLXBvbmcvc2VydmVyL21ldGhvZHMvcGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcGluZy1wb25nL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcGluZy1wb25nL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9waW5nLXBvbmcvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9oYW5kbGVycy9wb2xsUHVibGlzaGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvaGFuZGxlcnMvcG9sbFN0YXJ0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9oYW5kbGVycy9wb2xsU3RvcHBlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL2hhbmRsZXJzL3VzZXJSZXNwb25kZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9oYW5kbGVycy91c2VyVm90ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tZXRob2RzL3B1Ymxpc2hQb2xsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbWV0aG9kcy9wdWJsaXNoVm90ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21ldGhvZHMvc3RhcnRQb2xsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbWV0aG9kcy9zdG9wUG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21vZGlmaWVycy9hZGRQb2xsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUG9sbHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tb2RpZmllcnMvcmVtb3ZlUG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21vZGlmaWVycy91cGRhdGVWb3Rlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL2hhbmRsZXJzL2NyZWF0ZU5ld1ByZXNlbnRhdGlvblBvZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL2hhbmRsZXJzL3JlbW92ZVByZXNlbnRhdGlvblBvZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL2hhbmRsZXJzL3NldFByZXNlbnRlckluUG9kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvaGFuZGxlcnMvc3luY0dldFByZXNlbnRhdGlvblBvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9tb2RpZmllcnMvYWRkUHJlc2VudGF0aW9uUG9kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9uUG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVQcmVzZW50YXRpb25Qb2QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9tb2RpZmllcnMvc2V0UHJlc2VudGVySW5Qb2QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uVXBsb2FkVG9rZW5GYWlsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25VcGxvYWRUb2tlblBhc3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL21ldGhvZHMvcmVxdWVzdFByZXNlbnRhdGlvblVwbG9hZFRva2VuLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9tZXRob2RzL3NldFVzZWRUb2tlbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25BZGRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uQ3VycmVudFNldC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uRG93bmxvYWRhYmxlU2V0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25SZW1vdmUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21ldGhvZHMvcmVtb3ZlUHJlc2VudGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tZXRob2RzL3NldFByZXNlbnRhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9zZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9hZGRQcmVzZW50YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVQcmVzZW50YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9zZXRDdXJyZW50UHJlc2VudGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL2hhbmRsZXJzL3NjcmVlbnNoYXJlU3RhcnRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL2hhbmRsZXJzL3NjcmVlbnNoYXJlU3RvcHBlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL21vZGlmaWVycy9hZGRTY3JlZW5zaGFyZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL21vZGlmaWVycy9jbGVhclNjcmVlbnNoYXJlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2hhbmRsZXJzL3NsaWRlQ2hhbmdlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2hhbmRsZXJzL3NsaWRlUmVzaXplLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21ldGhvZHMvc3dpdGNoU2xpZGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbWV0aG9kcy96b29tU2xpZGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFNsaWRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9hZGRTbGlkZVBvc2l0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvY2hhbmdlQ3VycmVudFNsaWRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9jbGVhclNsaWRlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJTbGlkZXNQcmVzZW50YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL3Jlc2l6ZVNsaWRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvaGVscGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL2NoYW5nZVJvbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy9lbW9qaVN0YXR1cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL2dldFVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGVyQXNzaWduZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy9yZW1vdmVVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvdXNlckVqZWN0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy91c2VySW5hY3Rpdml0eUluc3BlY3QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy91c2VySm9pbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL3VzZXJKb2luZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy92YWxpZGF0ZUF1dGhUb2tlbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvYXNzaWduUHJlc2VudGVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy9jaGFuZ2VSb2xlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy9yZW1vdmVVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy9zZXRFbW9qaVN0YXR1cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy90b2dnbGVVc2VyTG9jay5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvdXNlckFjdGl2aXR5U2lnbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvdXNlckxlYXZpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3VzZXJMZWZ0TWVldGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvdmFsaWRhdGVBdXRoVG9rZW4uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkRGlhbEluVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9hZGRVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZVByZXNlbnRlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VSb2xlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvY3JlYXRlRHVtbXlVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3JlbW92ZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvc2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3NldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy91c2VyRWplY3RlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy91c2VySW5hY3Rpdml0eUluc3BlY3QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9zdG9yZS9wZW5kaW5nQXV0aGVudGljYXRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvaGFuZGxlcnMvdXNlckluZm9ybWF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbWV0aG9kcy9yZW1vdmVVc2VySW5mb3JtYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tZXRob2RzL3JlcXVlc3RVc2VySW5mb3JtYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tb2RpZmllcnMvYWRkVXNlckluZm8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2VySW5mby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL21vZGlmaWVycy9jbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvbWV0aG9kcy9hZGRVc2VyU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvYWRkVXNlclNldHRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2Vyc1NldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3MvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2hhbmRsZXJzL3VzZXJTaGFyZWRIdG1sNVdlYmNhbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGFuZGxlcnMvdXNlclVuc2hhcmVkSHRtbDVXZWJjYW0uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL21ldGhvZHMvdXNlclNoYXJlV2ViY2FtLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tZXRob2RzL3VzZXJVbnNoYXJlV2ViY2FtLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tb2RpZmllcnMvc2hhcmVkV2ViY2FtLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tb2RpZmllcnMvdW5zaGFyZWRXZWJjYW0uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9wdWJsaXNoZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL3NlcnZlci9oYW5kbGVycy92b2ljZUNhbGxTdGF0ZUV2ZW50LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVm9pY2VDYWxsU3RhdGVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy9nZXRWb2ljZVVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvam9pblZvaWNlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2hhbmRsZXJzL2xlZnRWb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nTXV0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy9tdXRlZFZvaWNlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2hhbmRsZXJzL3RhbGtpbmdWb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy92b2ljZVVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9lamVjdFVzZXJGcm9tVm9pY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tZXRob2RzL211dGVBbGxFeGNlcHRQcmVzZW50ZXJUb2dnbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tZXRob2RzL211dGVBbGxUb2dnbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tZXRob2RzL211dGVUb2dnbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkVm9pY2VVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZU11dGVNZWV0aW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVm9pY2VVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVWb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlVm9pY2VVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL2hhbmRsZXJzL21vZGlmeVdoaXRlYm9hcmRBY2Nlc3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvbWV0aG9kcy9jaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL21vZGlmaWVycy9tb2RpZnlXaGl0ZWJvYXJkQWNjZXNzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbWluQnJvd3NlclZlcnNpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvc2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvdXRpbHMvbGluZUVuZGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvdXRpbHMvbWltZVR5cGVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3V0aWxzL3JlZ2V4LXdlYnVybC5qcyIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21haW4uanMiXSwibmFtZXMiOlsiYm9keSIsImNoZWNrIiwiaGVhZGVyIiwibXVsdGlVc2VyIiwiY2xlYXJBbm5vdGF0aW9ucyIsImFubm90YXRpb25zQWRkZWQiLCJfIiwiYW5ub3RhdGlvbiIsInVzZXJJZCIsImFkZEFubm90YXRpb24iLCJtb2RpZnlXaGl0ZWJvYXJkQWNjZXNzIiwid2hpdGVib2FyZElkIiwiZnVsbENsZWFyIiwiQm9vbGVhbiIsIkFubm90YXRpb25zU3RyZWFtZXIiLCJBTk5PVEFUSU9OX1BST0NDRVNTX0lOVEVSVkFMIiwiYW5ub3RhdGlvbnNRdWV1ZSIsImFubm90YXRpb25zUmVjaWV2ZXJJc1J1bm5pbmciLCJwcm9jY2VzcyIsIk9iamVjdCIsIm1lZXRpbmdJZCIsImFubm90YXRpb25zIiwiTWV0ZW9yIiwic2hhcGVJZCIsInJlbW92ZUFubm90YXRpb24iLCJSZWRpc1B1YlN1YiIsIlJFRElTX0NPTkZJRyIsIkNIQU5ORUwiLCJFVkVOVF9OQU1FIiwicmVxdWVzdGVyVXNlcklkIiwiZXh0cmFjdENyZWRlbnRpYWxzIiwicGF5bG9hZCIsInNlbmRBbm5vdGF0aW9uSGVscGVyIiwiaWQiLCJzdGF0dXMiLCJhbm5vdGF0aW9uVHlwZSIsImFubm90YXRpb25JbmZvIiwieCIsInkiLCJmb250Q29sb3IiLCJjYWxjZWRGb250U2l6ZSIsInRleHRCb3hXaWR0aCIsInRleHQiLCJ0ZXh0Qm94SGVpZ2h0IiwiZm9udFNpemUiLCJkYXRhUG9pbnRzIiwidHlwZSIsIlN0cmluZyIsIndiSWQiLCJwb3NpdGlvbiIsIk51bWJlciIsImNvbG9yIiwidGhpY2tuZXNzIiwicG9pbnRzIiwiZGltZW5zaW9ucyIsIk1hdGNoIiwicXVlcnkiLCJhZGRBbm5vdGF0aW9uUXVlcnkiLCJjYiIsIkxvZ2dlciIsImVyciIsImluc2VydGVkSWQiLCJBbm5vdGF0aW9ucyIsInNlbGVjdG9yIiwicHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSIsInNlbmRCdWxrQW5ub3RhdGlvbnMiLCJib3VuZEFubm90YXRpb25zIiwic3RyZWFtZXIiLCJyZXRyYW5zbWl0IiwiQU5OT1RBVElPTl9UWVBFX1RFWFQiLCJBTk5PVEFUSU9OX1RZUEVfUEVOQ0lMIiwibW9kaWZpZXIiLCIkc2V0IiwiJHNldE9uSW5zZXJ0IiwiJGluYyIsInZlcnNpb24iLCJEUkFXX1NUQVJUIiwiRFJBV19VUERBVEUiLCJEUkFXX0VORCIsImJhc2VTZWxlY3RvciIsImJhc2VNb2RpZmllciIsIiRwdXNoIiwiJGVhY2giLCJoYW5kbGVUZXh0VXBkYXRlIiwiaGFuZGxlUGVuY2lsVXBkYXRlIiwiaGFuZGxlQ29tbW9uQW5ub3RhdGlvbiIsIk1vbmdvIiwiYnJlYWtvdXRJZCIsImNsZWFyQnJlYWtvdXRzIiwidXNlcnMiLCJpbnNlcnRlZFRpbWUiLCJjYkVyciIsIkJyZWFrb3V0cyIsIkRFRkFVTFRfVElNRV9SRU1BSU5JTkciLCJicmVha291dCIsImpvaW5lZFVzZXJzIiwidGltZVJlbWFpbmluZyIsInBhcmVudE1lZXRpbmdJZCIsImZsYXQiLCJ1c2Vyc01hcHBlZCIsInVzZXIiLCJuYW1lIiwib3B0aW9ucyIsIm11bHRpIiwicmVjb3JkIiwiZXZlbnROYW1lIiwicm9vbXMiLCJ1c2VySWRUb0ludml0ZSIsImVuZEFsbEJyZWFrb3V0cyIsIlJPTEVfTU9ERVJBVE9SIiwiVXNlciIsImZpZWxkcyIsInJvbGUiLCJwcmVzZW50ZXJTZWxlY3RvciIsIiRvciIsImZyZWVKb2luIiwiYm91bmRCcmVha291dHMiLCJicmVha291dHMiLCJwYWQiLCJmZXRjaFJlYWRPbmx5UGFkSWQiLCJjaGFuZ2VzZXQiLCJkYXRhIiwiZ2V0RGF0YUZyb21DaGFuZ2VzZXQiLCJ1cGRhdGVQYWQiLCJwYWRJZCIsImdlbmVyYXRlUGFkSWQiLCJheGlvcyIsIm1ldGhvZCIsInVybCIsImFwcGVuZFRleHRVUkwiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZSIsImVycm9yIiwiaXNFbmFibGVkIiwiZ2V0TG9jYWxlc1VSTCIsImxvY2FsZXMiLCJsb2NhbGUiLCJhZGRDYXB0aW9uIiwiZ2V0SW5kZXgiLCJsZW5ndGgiLCJpbmRleCIsInN0YXJ0SW5kZXgiLCJsb2NhbGVDb2RlIiwiZW5kSW5kZXgiLCJyZWFkT25seVVSTCIsImdldFJlYWRPbmx5SWRVUkwiLCJyZWFkT25seVBhZElkIiwiZ2V0RGF0YUZyb21SZXNwb25zZSIsInVwZGF0ZVJlYWRPbmx5UGFkSWQiLCIkcmVnZXgiLCJ1cGRhdGVPd25lcklkIiwib3duZXJJZCIsInJldnMiLCJDYXB0aW9ucyIsInVwZGF0ZU93bmVyIiwiZWRpdENhcHRpb25zIiwicHJvY2Vzc0ZvckNhcHRpb25zUGFkT25seSIsIkNBUFRJT05TX0NPTkZJRyIsIkJBU0VOQU1FIiwiQVBQIiwiTE9DQUxFU19VUkwiLCJob3N0IiwicG9ydCIsImxvY2FsZXNVcmwiLCJDQVBUSU9OUyIsIlRPS0VOIiwiaGFzaEZOVjMyYSIsImlzQ2FwdGlvbnNQYWQiLCJzcGxpdFBhZElkIiwic3BsaXRDaGFuZ2VzZXQiLCJmbiIsImFwcGVuZFRleHQiLCJib3VuZENhcHRpb25zIiwiY2FwdGlvbnMiLCJzdHJlYW1lckxvZyIsIkNVUlNPUl9QUk9DQ0VTU19JTlRFUlZBTCIsImN1cnNvclF1ZXVlIiwiY3Vyc29ycyIsIkN1cnNvclN0cmVhbWVyIiwicHVibGlzaEN1cnNvclVwZGF0ZSIsIm1lc3NhZ2UiLCJzdHJlYW1OYW1lIiwic3RyZWFtZXJOYW1lIiwiYWxsb3dSZWNlbnRNZXNzYWdlcyIsInN0YXRlIiwidGltZSIsInJhdGUiLCJleHRlcm5hbFZpZGVvVXJsIiwiTWVldGluZ3MiLCJtZWV0aW5nIiwiZW1pdEV4dGVybmFsVmlkZW9FdmVudCIsImFkZEdyb3VwQ2hhdCIsImNoYXRzIiwiY2hhdHNBZGRlZCIsImNoYXQiLCJjb3JyZWxhdGlvbklkIiwiRGF0ZSIsIm1zZyIsInJlY2VpdmVyIiwiYWNjZXNzIiwiY2hhdElkIiwiY3JlYXRlZEJ5IiwiY2hhdERvY3VtZW50IiwidSIsInNhZmUiLCJHcm91cENoYXQiLCJjbGVhckdyb3VwQ2hhdE1zZyIsImRlc3Ryb3lHcm91cENoYXQiLCJDSEFUX0NPTkZJRyIsIlBVQkxJQ19DSEFUX1RZUEUiLCIkYWxsIiwiYm91bmRHcm91cENoYXQiLCJncm91cENoYXQiLCJDSEFUX0FDQ0VTUyIsIlBVQkxJQyIsIlBSSVZBVEUiLCJDSEFUX0FDQ0VTU19QVUJMSUMiLCJDSEFUX0FDQ0VTU19QUklWQVRFIiwiYWRkR3JvdXBDaGF0TXNnIiwibXNnc0FkZGVkIiwibXNncyIsIm0iLCJzdGFydFR5cGluZyIsIlBVQkxJQ19HUk9VUF9DSEFUX0lEIiwiSFRNTF9TQUZFX01BUCIsInBhcnNlTWVzc2FnZSIsInBhcnNlZE1lc3NhZ2UiLCJjIiwiVXNlcnNUeXBpbmciLCJ1c2VyVHlwaW5nIiwic3RvcFR5cGluZyIsIkJSRUFLX0xJTkUiLCJ0aW1lc3RhbXAiLCJzZW5kZXIiLCJtc2dEb2N1bWVudCIsIkdyb3VwQ2hhdE1zZyIsIlBVQkxJQ19DSEFUX1NZU1RFTV9JRCIsIkNIQVRfQ0xFQVJfTUVTU0FHRSIsImNsZWFyTXNnIiwiJGVxIiwiVFlQSU5HX1RJTUVPVVQiLCJVc2VycyIsIm1vZCIsImlzVHlwaW5nVG8iLCJ0eXBpbmdVc2VyIiwic2VuZE1zZ0luaXRpYXRlZCIsInN0aWxsVHlwaW5nIiwic3RvcFVzZXJUeXBpbmciLCIkaW4iLCJjaGF0c0lkcyIsImdyb3VwQ2hhdE1zZyIsImJvdW5kVXNlcnNUeXBpbmciLCJ1c2Vyc1R5cGluZyIsImd1ZXN0cyIsImd1ZXN0Iiwic2V0R3Vlc3RTdGF0dXMiLCJzdHJpbmdIYXNoIiwiQ09MT1JfTElTVCIsImludElkIiwiYXBwcm92ZWQiLCJkZW5pZWQiLCJsb2dpblRpbWUiLCJtYXBwZWRHdWVzdHMiLCJhcHByb3ZlZEJ5IiwiSlNPTiIsInNldEJ5IiwicG9saWN5IiwicG9saWN5UnVsZSIsIkdVRVNUX1NUQVRVU19BTExPVyIsIkdVRVNUX1NUQVRVU19ERU5ZIiwiR3Vlc3RVc2VycyIsImNoYW5nZUd1ZXN0UG9saWN5IiwiYm91bmRTbGlkZXMiLCJndWVzdFVzZXJzIiwidXNlckxvY2FsU2V0dGluZ3MiLCJzZXR0aW5ncyIsInNldENoYW5nZWRMb2NhbFNldHRpbmdzIiwiTG9jYWxTZXR0aW5ncyIsInVzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncyIsImJvdW5kTG9jYWxTZXR0aW5ncyIsImxvY2FsU2V0dGluZ3MiLCJsb2dDbGllbnQiLCJsb2dDb2RlIiwiZXh0cmFJbmZvIiwidXNlckluZm8iLCJjb25uZWN0aW9uSWQiLCJsb2dDb250ZW50cyIsImxldmVsIiwiaGFuZGxlTWVldGluZ0NyZWF0aW9uIiwiZHVyYXRpb25JblNlY29kcyIsImFkZE1lZXRpbmciLCJkZXN0cm95RXh0ZXJuYWxWaWRlbyIsInJlbW92ZUFubm90YXRpb25zU3RyZWFtZXIiLCJyZW1vdmVDdXJzb3JTdHJlYW1lciIsIm1lZXRpbmdUeXBlIiwiY29ubmVjdGlvblN0YXR1cyIsIm1lZXRpbmdIYXNFbmRlZCIsIm1lZXRpbmdFbmRlZCIsImNoYW5nZUxvY2tTZXR0aW5ncyIsInJlY29yZGluZyIsIlJlY29yZE1lZXRpbmdzIiwidGltZUxlZnRJblNlYyIsIk1lZXRpbmdUaW1lUmVtYWluaW5nIiwiY2hhbmdlVXNlckxvY2siLCJjaGFuZ2VXZWJjYW1Pbmx5TW9kZXJhdG9yIiwiZGlzYWJsZUNhbSIsImRpc2FibGVNaWMiLCJkaXNhYmxlUHJpdmF0ZUNoYXQiLCJkaXNhYmxlUHVibGljQ2hhdCIsImRpc2FibGVOb3RlIiwiaGlkZVVzZXJMaXN0IiwibG9ja2VkTGF5b3V0IiwibG9ja09uSm9pbiIsImxvY2tPbkpvaW5Db25maWd1cmFibGUiLCJyZWNvcmRPYmplY3QiLCJtZWV0aW5nUmVjb3JkZWQiLCJhbGxvd2VkVG9SZWNvcmQiLCJmcm9tTWVldGluZ0lkIiwidG9NZWV0aW5nSWQiLCJicmVha291dFByb3BzIiwic2VxdWVuY2UiLCJicmVha291dFJvb21zIiwicGFyZW50SWQiLCJlbmFibGVkIiwicHJpdmF0ZUNoYXRFbmFibGVkIiwibWVldGluZ1Byb3AiLCJleHRJZCIsImlzQnJlYWtvdXQiLCJ1c2Vyc1Byb3AiLCJ3ZWJjYW1zT25seUZvck1vZGVyYXRvciIsImd1ZXN0UG9saWN5IiwibWF4VXNlcnMiLCJhbGxvd01vZHNUb1VubXV0ZVVzZXJzIiwiZHVyYXRpb25Qcm9wcyIsImNyZWF0ZWRUaW1lIiwiZHVyYXRpb24iLCJjcmVhdGVkRGF0ZSIsIm1heEluYWN0aXZpdHlUaW1lb3V0TWludXRlcyIsIndhcm5NaW51dGVzQmVmb3JlTWF4IiwibWVldGluZ0V4cGlyZUlmTm9Vc2VySm9pbmVkSW5NaW51dGVzIiwibWVldGluZ0V4cGlyZVdoZW5MYXN0VXNlckxlZnRJbk1pbnV0ZXMiLCJ1c2VySW5hY3Rpdml0eUluc3BlY3RUaW1lckluTWludXRlcyIsInVzZXJJbmFjdGl2aXR5VGhyZXNob2xkSW5NaW51dGVzIiwidXNlckFjdGl2aXR5U2lnblJlc3BvbnNlRGVsYXlJbk1pbnV0ZXMiLCJ3ZWxjb21lUHJvcCIsIndlbGNvbWVNc2ciLCJtb2RPbmx5TWVzc2FnZSIsIndlbGNvbWVNc2dUZW1wbGF0ZSIsInJlY29yZFByb3AiLCJhbGxvd1N0YXJ0U3RvcFJlY29yZGluZyIsImF1dG9TdGFydFJlY29yZGluZyIsInBhc3N3b3JkIiwidmlld2VyUGFzcyIsIm1vZGVyYXRvclBhc3MiLCJ2b2ljZVByb3AiLCJ2b2ljZUNvbmYiLCJkaWFsTnVtYmVyIiwidGVsVm9pY2UiLCJtdXRlT25TdGFydCIsInNjcmVlbnNoYXJlUHJvcHMiLCJyZWQ1U2NyZWVuc2hhcmVJcCIsInJlZDVTY3JlZW5zaGFyZUFwcCIsInNjcmVlbnNoYXJlQ29uZiIsIm1ldGFkYXRhUHJvcCIsImxvY2tTZXR0aW5nc1Byb3BzIiwicmVzdFByb3BzIiwibmV3TWVldGluZyIsImluc2VydEJsYW5rVGFyZ2V0IiwicyIsImxpbmtXaXRob3V0VGFyZ2V0IiwicHVibGlzaGVkUG9sbCIsImNyZWF0ZU5vdGUiLCJjcmVhdGVDYXB0aW9ucyIsImNiUmVjb3JkIiwiYWRkQW5ub3RhdGlvbnNTdHJlYW1lciIsImFkZEN1cnNvclN0cmVhbWVyIiwiZGlzYWJsZVByaXZDaGF0IiwiZGlzYWJsZVB1YkNoYXQiLCJsb2NrZWQiLCJsb2NrZWRCeSIsImNsZWFyQ2FwdGlvbnMiLCJjbGVhckdyb3VwQ2hhdCIsImNsZWFyUHJlc2VudGF0aW9uUG9kcyIsImNsZWFyUG9sbHMiLCJjbGVhclNsaWRlcyIsImNsZWFyVXNlcnMiLCJjbGVhclVzZXJzU2V0dGluZ3MiLCJjbGVhclZvaWNlVXNlcnMiLCJjbGVhclVzZXJJbmZvIiwiY2xlYXJOb3RlIiwiY2xlYXJOZXR3b3JrSW5mb3JtYXRpb24iLCJjbGVhckxvY2FsU2V0dGluZ3MiLCJjbGVhclJlY29yZE1lZXRpbmciLCJjbGVhclZvaWNlQ2FsbFN0YXRlcyIsImlzUHVibGlzaGVkIiwidG9nZ2xlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3IiLCJib3VuZE1lZXRpbmdzIiwibWVldGluZ3MiLCJib3VuZFJlY29yZE1lZXRpbmdzIiwicmVjb3JkTWVldGluZ3MiLCJib3VuZHRpbWVSZW1haW5pbmciLCJtZWV0aW5nVGltZVJlbWFpbmluZyIsIk5ldHdvcmtJbmZvcm1hdGlvbiIsInVzZXJJbnN0YWJpbGl0eURldGVjdGVkIiwiYm91bmROZXR3b3JrSW5mb3JtYXRpb24iLCJuZXR3b3JrSW5mb3JtYXRpb24iLCJ1cGRhdGVOb3RlIiwibm90ZUlkIiwiZ2VuZXJhdGVOb3RlSWQiLCJjcmVhdGVVUkwiLCJjcmVhdGVQYWRVUkwiLCJyZXNwb25zZU91dGVyIiwicmVhZE9ubHlOb3RlSWQiLCJhZGROb3RlIiwiTm90ZSIsInByb2Nlc3NGb3JOb3RlUGFkT25seSIsIkVUSEVSUEFEIiwiTk9URV9DT05GSUciLCJCQVNFX1VSTCIsImFwaWtleSIsImVuY29kZVVSSUNvbXBvbmVudCIsImlubmVyRGF0YSIsImlzTm90ZVBhZCIsImJvdW5kTm90ZSIsIm5vdGUiLCJsYXN0UGluZyIsInBpbmciLCJDT0xMRUNUSU9OX05BTUUiLCJJTlRFUlZBTF9JTl9TRVRUSU5HUyIsIklOVEVSVkFMX1RJTUUiLCJQT05HX0lOVEVSVkFMX0lOX1NFVFRJTkdTIiwiUE9OR19JTlRFUlZBTCIsInBvbmdTZW5kZXIiLCJpbnRlcnZhbCIsInBvbmciLCJwb2xsSWQiLCJzZXRQdWJsaXNoZWRQb2xsIiwicmVtb3ZlUG9sbCIsInBvbGwiLCJhZGRQb2xsIiwiYW5zd2VySWQiLCIkcHVsbCIsInJlc3BvbnNlcyIsIlBvbGxzIiwiYW5zd2VycyIsImtleSIsIm51bVZvdGVzIiwibnVtUmVzcG9uZGVudHMiLCJudW1SZXNwb25kZXJzIiwidXBkYXRlVm90ZXMiLCJyZXF1ZXN0ZXJJZCIsImN1cnJlbnRQb2xsIiwicXVlc3Rpb25JZCIsInBvbGxBbnN3ZXJJZCIsInBvbGxUeXBlIiwidXNlclNlbGVjdG9yIiwiJG5lIiwiY2xpZW50VHlwZSIsInVzZXJJZHMiLCJyZXF1ZXN0ZXIiLCJzdG9wUG9sbCIsImJvdW5kUG9sbHMiLCJwb2xscyIsImN1cnJlbnRQcmVzZW50ZXJJZCIsInBvZElkIiwicG9kIiwiYWRkUHJlc2VudGF0aW9uUG9kIiwicmVtb3ZlUHJlc2VudGF0aW9uUG9kIiwibmV4dFByZXNlbnRlcklkIiwic2V0UHJlc2VudGVySW5Qb2QiLCJwb2RzIiwicHJlc2VudGF0aW9uUG9kSWRzIiwicHJlc2VudGF0aW9uUG9kc1RvUmVtb3ZlIiwiJG5pbiIsInAiLCJjdXJyZW50UHJlc2VudGVyIiwicHJlc2VudGF0aW9ucyIsInByZXNlbnRhdGlvbiIsImFkZFByZXNlbnRhdGlvbiIsIlByZXNlbnRhdGlvblBvZHMiLCJjbGVhclByZXNlbnRhdGlvbnMiLCJjbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuIiwiYm91bmRQcmVzZW50YXRpb25Qb2RzIiwicHJlc2VudGF0aW9uUG9kcyIsImZpbGVuYW1lIiwiZmFpbGVkIiwiYXV0aHpUb2tlbiIsImRvYyIsInVzZWQiLCJQcmVzZW50YXRpb25VcGxvYWRUb2tlbiIsInNldFVzZWRUb2tlbiIsImJvdW5kUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4iLCJwcmVzZW50YXRpb25VcGxvYWRUb2tlbiIsIk9GRklDRV9ET0NfQ09OVkVSU0lPTl9GQUlMRURfS0VZIiwiT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0lOVkFMSURfS0VZIiwiU1VQUE9SVEVEX0RPQ1VNRU5UX0tFWSIsIlVOU1VQUE9SVEVEX0RPQ1VNRU5UX0tFWSIsIlBBR0VfQ09VTlRfRkFJTEVEX0tFWSIsIlBBR0VfQ09VTlRfRVhDRUVERURfS0VZIiwiUERGX0hBU19CSUdfUEFHRV9LRVkiLCJHRU5FUkFURURfU0xJREVfS0VZIiwibWVzc2FnZUtleSIsInByZXNOYW1lIiwicHJlc2VudGF0aW9uTmFtZSIsInN0YXR1c01vZGlmaWVyIiwicHJlc2VudGF0aW9uSWQiLCJQcmVzZW50YXRpb25zIiwic2V0Q3VycmVudFByZXNlbnRhdGlvbiIsImRvd25sb2FkYWJsZSIsInNldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZSIsInJlbW92ZVByZXNlbnRhdGlvbiIsImdldFNsaWRlVGV4dCIsImNvbnRlbnQiLCJIVFRQIiwiYWRkU2xpZGVzIiwic2xpZGVzIiwic2xpZGUiLCJhZGRTbGlkZSIsImN1cnJlbnQiLCJwYWdlcyIsIm51bSIsInRodW1iVXJpIiwic3dmVXJpIiwidHh0VXJpIiwic3ZnVXJpIiwieE9mZnNldCIsInlPZmZzZXQiLCJ3aWR0aFJhdGlvIiwiaGVpZ2h0UmF0aW8iLCJjbGVhclNsaWRlc1ByZXNlbnRhdGlvbiIsIm9sZEN1cnJlbnQiLCJjYWxsYmFjayIsIm5ld0N1cnJlbnQiLCJvbGRQcmVzZW50YXRpb24iLCJuZXdQcmVzZW50YXRpb24iLCJib3VuZFByZXNlbnRhdGlvbnMiLCJwcmVzZW50ZXIiLCJwcmVzZW50ZXJJZCIsInN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8iLCJhZGRTY3JlZW5zaGFyZSIsImNsZWFyU2NyZWVuc2hhcmUiLCJzY3JlZW5zaGFyZSIsIlNjcmVlbnNoYXJlIiwiYm91bmRTY3JlZW5zaGFyZSIsImNoYW5nZUN1cnJlbnRTbGlkZSIsInJlc2l6ZVNsaWRlIiwiUHJlc2VudGF0aW9uIiwiU2xpZGUiLCJzbGlkZU51bWJlciIsInBhZ2VJZCIsImxvYWRTbGlkZXNGcm9tSHR0cEFsd2F5cyIsInJlcXVlc3RXaGl0ZWJvYXJkSGlzdG9yeSIsIlVTRVJfSUQiLCJzbGlkZUlkIiwiU1VQUE9SVEVEX1RZUEVTIiwiZmV0Y2hJbWFnZVNpemVzIiwiaW1hZ2VVcmkiLCJyZXN1bHQiLCJtaW1lIiwid2lkdGgiLCJoZWlnaHQiLCJyZWFzb24iLCJyZXN0U2xpZGUiLCJpbWFnZVNpemVVcmkiLCJzbGlkZURhdGEiLCJzbGlkZVBvc2l0aW9uIiwiY2FsY3VsYXRlU2xpZGVEYXRhIiwiYWRkU2xpZGVQb3NpdGlvbnMiLCJTbGlkZXMiLCJTbGlkZVBvc2l0aW9ucyIsInZpZXdCb3hXaWR0aCIsInZpZXdCb3hIZWlnaHQiLCJvbGRTbGlkZSIsIm5ld1NsaWRlIiwid2hpdGVib2FyZElkcyIsInJvdyIsIlNsaWRlUG9zaXRpb24iLCJjYWxjdWxhdGVkRGF0YSIsInpvb21TbGlkZSIsImJvdW5kU2xpZGVQb3NpdGlvbnMiLCJzbGlkZVBvc2l0aW9ucyIsImNoYW5nZWRCeSIsImNoYW5nZVJvbGUiLCJlbW9qaSIsImVtb2ppVGltZSIsInVzZXJzSWRzIiwidXNlcnNUb1JlbW92ZSIsInJlbW92ZVVzZXIiLCJ1c2Vyc0FkZGVkIiwiYWRkVXNlciIsImFzc2lnbmVkQnkiLCJjaGFuZ2VQcmVzZW50ZXIiLCJwcmV2UHJlc2VudGVyIiwic2V0UHJlc2VudGVyUGF5bG9hZCIsImRlZmF1bHRQb2RTZWxlY3RvciIsImN1cnJlbnREZWZhdWx0UG9kUHJlc2VudGVyIiwic2V0UHJlc2VudGVySW5Qb2RSZXFNc2ciLCJvbGRQcmVzZW50ZXIiLCJ1c2VyRWplY3RlZCIsInJlYXNvbkNvZGUiLCJyZXNwb25zZURlbGF5IiwidXNlckluYWN0aXZpdHlJbnNwZWN0IiwiYXV0aFRva2VuIiwiY2xlYXJPdGhlclNlc3Npb25zIiwic2VydmVyU2Vzc2lvbnMiLCJpIiwid2FpdEZvckFwcHJvdmFsIiwicGVuZGluZ0F1dGhzIiwicGVuZGluZ0F1dGhlbnRpY2F0aW9uc1N0b3JlIiwicGVuZGluZ0F1dGgiLCJtZXRob2RJbnZvY2F0aW9uT2JqZWN0Iiwic2Vzc2lvbklkIiwiY3JlYXRlRHVtbXlVc2VyIiwic2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuIiwidmFsaWQiLCJ1c2VySm9pbiIsInZhbGlkYXRlZCIsImluYWN0aXZpdHlDaGVjayIsInNlc3Npb25Vc2VySWQiLCJjdXJyZW50Q29ubmVjdGlvbklkIiwibmV3UHJlc2VudGVySWQiLCJuZXdQcmVzZW50ZXJOYW1lIiwiZWplY3RlZEJ5IiwiYmFuVXNlciIsImVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlIiwic2V0RWZmZWN0aXZlQ29ubmVjdGlvblR5cGUiLCJsb2NrIiwibG9nZ2VkT3V0IiwicmVxdWVzdGVyVG9rZW4iLCJVU0VSX0NPTkZJRyIsIlJPTEVfVklFV0VSIiwiY2FsbGVyTmFtZSIsInZvaWNlT25seVVzZXIiLCJhdXRoZWQiLCJ3YWl0aW5nRm9yQWNjZXB0YW5jZSIsImd1ZXN0U3RhdHVzIiwiYXZhdGFyIiwiTWVldGluZyIsInNvcnROYW1lIiwiaXNCcmVha291dFVzZXIiLCJhZGRWb2ljZVVzZXIiLCJ2b2ljZVVzZXJJZCIsImNhbGxlck51bSIsIm11dGVkIiwidGFsa2luZyIsImNhbGxpbmdXaXRoIiwibGlzdGVuT25seSIsImpvaW5lZCIsImNsZWFyQWxsU2Vzc2lvbnMiLCJ1c2VyVG9SZW1vdmUiLCJjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyIiwiVmlkZW9TdHJlYW1zIiwiZWplY3RlZCIsImVqZWN0ZWRSZWFzb24iLCJjb25zdHJ1Y3RvciIsImdlbmVyYXRlS2V5IiwiYWRkIiwidGFrZSIsIm1hdGNoZXMiLCJlIiwidXNlckxlZnRNZWV0aW5nIiwib25DbG9zZUNvbm5lY3Rpb24iLCJ1c2VyTGVhdmluZyIsImJvdW5kVXNlcnMiLCJjdXJyZW50VXNlciIsImFkZFVzZXJJbmZvIiwiVXNlckluZm9zIiwiZXh0ZXJuYWxVc2VySWQiLCJpbmZvIiwicmVtb3ZlVXNlckluZm9ybWF0aW9uIiwiYm91bmRVc2VySW5mb3MiLCJ1c2VySW5mb3MiLCJvbGRQYXJhbWV0ZXJzIiwiYXNrRm9yRmVlZGJhY2tPbkxvZ291dCIsImF1dG9Kb2luIiwiYXV0b1NoYXJlV2ViY2FtIiwiYXV0b1N3YXBMYXlvdXQiLCJjbGllbnRUaXRsZSIsImN1c3RvbVN0eWxlIiwiY3VzdG9tU3R5bGVVcmwiLCJkaXNwbGF5QnJhbmRpbmdBcmVhIiwiZW5hYmxlU2NyZWVuc2hhcmluZyIsImVuYWJsZVZpZGVvIiwiZW5hYmxlVmlkZW9TdGF0cyIsImZvcmNlTGlzdGVuT25seSIsImhpZGVQcmVzZW50YXRpb24iLCJsaXN0ZW5Pbmx5TW9kZSIsIm11bHRpVXNlclBlbk9ubHkiLCJtdWx0aVVzZXJUb29scyIsIm91dHNpZGVUb2dnbGVSZWNvcmRpbmciLCJvdXRzaWRlVG9nZ2xlU2VsZlZvaWNlIiwicHJlc2VudGVyVG9vbHMiLCJzaG9ydGN1dHMiLCJza2lwQ2hlY2siLCJvbGRQYXJhbWV0ZXJzS2V5cyIsImN1cnJlbnRQYXJhbWV0ZXJzIiwicGFyc2VkVmFsdWUiLCJ2YWwiLCJsb2dnZXIiLCJwYXJhbWV0ZXJzIiwiZWwiLCJzZXR0aW5nS2V5IiwidmFsdWVQYXJzZXIiLCJtYXRjaGluZ05ld0tleSIsInNldHRpbmdzQWRkZWQiLCJzZXR0aW5nIiwidmFsdWUiLCJhZGRVc2VyU2V0dGluZyIsIlVzZXJTZXR0aW5ncyIsImFkZFVzZXJTZXR0aW5ncyIsImJvdW5kVXNlclNldHRpbmdzIiwidXNlclNldHRpbmdzIiwic3RyZWFtIiwiaXNWYWxpZFN0cmVhbSIsInRlc3RTdHJpbmciLCJyZWdleHAiLCJzaGFyZWRXZWJjYW0iLCJ1bnNoYXJlZFdlYmNhbSIsInVzZXJVbnNoYXJlV2ViY2FtIiwiYm91bmRWaWRlb1N0cmVhbXMiLCJ2aWRlb1N0cmVhbXMiLCJjYWxsU3RhdGUiLCJjbGllbnRTZXNzaW9uIiwiVm9pY2VDYWxsU3RhdGUiLCJib3VuZFZvaWNlQ2FsbFN0YXRlcyIsInZvaWNlQ2FsbFN0YXRlcyIsIlZvaWNlQ2FsbFN0YXRlcyIsInZvaWNlVXNlcnNJZHNUb1VwZGF0ZSIsInZvaWNlVXNlcnNVcGRhdGVkIiwidXBkYXRlVm9pY2VVc2VyIiwidm9pY2VVc2Vyc1RvUmVtb3ZlIiwicmVtb3ZlVm9pY2VVc2VyIiwidm9pY2VVc2VyIiwiYWRkRGlhbEluVXNlciIsImlzRGlhbEluVXNlciIsImNoYW5nZU11dGVNZWV0aW5nIiwiVm9pY2VVc2VycyIsInZvaWNlVXNlcnMiLCJ2b2ljZSIsInRvZ2dsZU1lZXRpbmdNdXRlZCIsIm11dGVkQnkiLCJtdXRlIiwidXNlclRvTXV0ZSIsInVJZCIsInNwb2tlIiwiY2xlYXJTcG9rZVRpbWVvdXQiLCJUQUxLSU5HX1RJTUVPVVQiLCJzdGFydFRpbWUiLCJ0aW1lb3V0SGFuZGxlIiwiZW5kVGltZSIsInNwb2tlRGVsYXkiLCJzcG9rZVRpbWVvdXRIYW5kbGVzIiwidG9nZ2xlVm9pY2UiLCJtdXRlQWxsVXNlcnMiLCJtdXRlQWxsRXhjZXB0UHJlc2VudGVyIiwiZWplY3RVc2VyRnJvbVZvaWNlIiwiYm91bmRWb2ljZVVzZXIiLCJXaGl0ZWJvYXJkTXVsdGlVc2VyIiwiY2hhbmdlV2hpdGVib2FyZEFjY2VzcyIsImJvdW5kTXVsdGlVc2VyIiwid2hpdGVib2FyZE11bHRpVXNlciIsIk1TR19ESVJFQ1RfVFlQRSIsIk5PREVfVVNFUiIsImluZGV4T2YiLCJsIiwiZW52ZWxvcGUiLCJyb3V0aW5nIiwic2hvdWxkU2tpcCIsIm1zZ1R5cGUiLCJodmFsIiwic2VlZCIsInN0ciIsImNyZWRlbnRpYWxzIiwiY3JlZGVudGlhbHNBcnJheSIsIkFWQUlMQUJMRV9MT0NBTEVTIiwiZnMiLCJBUFBfQ09ORklHIiwiZW52IiwiQ0ROX1VSTCIsImhlYXBEdW1wTWJUaHJlc2hvbGQiLCJtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MiLCJtZW13YXRjaCIsInN0YXRzIiwiaGVhcER1bXBUcmlnZ2VyZWQiLCJoZWFwRHVtcEVuYWJsZWQiLCJoZWFwZHVtcCIsIkJyb3dzZXJQb2xpY3kiLCJXZWJBcHBJbnRlcm5hbHMiLCJmb250UmVnRXhwIiwiV2ViQXBwIiwicmVxIiwicmVzIiwibmV4dCIsInNldE1pbkJyb3dzZXJWZXJzaW9ucyIsImN1cnJlbnRUaW1lIiwiJGx0IiwicHJvY2VzcyIsImh0bWw1Y2xpZW50U3RhdHVzIiwiZmFsbGJhY2siLCJvdmVycmlkZSIsImJyb3dzZXJMb2NhbGUiLCJsb2NhbGVMaXN0IiwidXNhYmxlTG9jYWxlcyIsImZpbGUiLCJyZWdpb25EZWZhdWx0IiwibWVzc2FnZXMiLCJub3JtYWxpemVkTG9jYWxlIiwiQXNzZXRzIiwiTGFuZ21hcCIsIm5hdGl2ZU5hbWUiLCJ1c2VyTmFtZSIsInJhdGluZyIsInJlcVVzZXJOYW1lIiwiZmVlZGJhY2siLCJ1c2VyQWdlbnQiLCJsb29rdXBVc2VyQWdlbnQiLCJldmVudEVtaXR0ZXIiLCJSZWRpcyIsInJlZGlzUHViU3ViIiwiTE9HX0NPTkZJRyIsImNyZWF0ZUxvZ2dlciIsImZvcm1hdCIsInRyYW5zcG9ydHMiLCJwcmV0dHlQcmludCIsImh1bWFuUmVhZGFibGVVbmhhbmRsZWRFeGNlcHRpb24iLCJjb2xvcml6ZSIsImhhbmRsZUV4Y2VwdGlvbnMiLCJtaW5Ccm93c2VyVmVyc2lvbnMiLCJ2ZXJzaW9ucyIsImVsZW0iLCJzZXRNaW5pbXVtQnJvd3NlclZlcnNpb25zIiwiTk9fTUVFVElOR19JRCIsIm1ha2VFbnZlbG9wZSIsImNvcmUiLCJtYWtlRGVidWdnZXIiLCJhc3luY01lc3NhZ2VzIiwiZGVidWciLCJoYW5kbGVUYXNrIiwiY2hhbm5lbCIsImlzQXN5bmMiLCJjYWxsZWQiLCJjYWxsTmV4dCIsInF1ZXVlTGVuZ3RoIiwib25FcnJvciIsImNvbmZpZyIsInJlZGlzQ29uZiIsImluaXQiLCJjaGFubmVsc1RvU3Vic2NyaWJlIiwidXBkYXRlQ29uZmlnIiwiaGFuZGxlU3Vic2NyaWJlIiwiaGFuZGxlTWVzc2FnZSIsImlnbm9yZWQiLCJhc3luYyIsImlnbm9yZWRNZXNzYWdlcyIsInF1ZXVlSWQiLCJkZXN0cm95TWVldGluZ1F1ZXVlIiwib24iLCJwdWJsaXNoVm9pY2VNZXNzYWdlIiwicHVibGlzaFN5c3RlbU1lc3NhZ2UiLCJwdWJsaXNoTWVldGluZ01lc3NhZ2UiLCJwdWJsaXNoVXNlck1lc3NhZ2UiLCJSZWRpc1B1YlN1YlNpbmdsZXRvbiIsIllBTUxfRklMRV9QQVRIIiwiU0VUVElOR1MiLCJZQU1MIiwiX19tZXRlb3JfcnVudGltZV9jb25maWdfXyIsImNvbnNvbGUiLCJDQVJSSUFHRV9SRVRVUk4iLCJORVdfTElORSIsIlhMUyIsIlhMU1giLCJET0MiLCJET0NYIiwiUFBUIiwiUFBUWCIsIk9EVCIsIlJURiIsIlRYVCIsIk9EUyIsIk9EUCIsIlBERiIsIkpQRUciLCJQTkciLCJTVkciLCJVUExPQURfU1VQT1JURUQiLCJnbG9iYWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsY0FBYztBQUFBLFNBQWQ7QUFBYyxDQUFkOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFNZSxxQ0FBcUM7QUFBQTtBQUFVQTtBQUFWLENBQXJDLGFBQWtFO0FBQy9FQyxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7O0FBQ0EsTUFBSUMsTUFBTSxDQUFOQSxXQUFKLGFBQW1DO0FBQUU7QUFBZTs7QUFFcERELE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNO0FBQUE7QUFBQTtBQUE2QkU7QUFBN0IsTUFBTjtBQUVBRixPQUFLLGNBQUxBLEtBQUssQ0FBTEE7QUFDQUEsT0FBSyxlQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssWUFBTEEsT0FBSyxDQUFMQTtBQUVBRyxrQkFBZ0IsWUFBaEJBLFlBQWdCLENBQWhCQTtBQUVBLFFBQU1DLGdCQUFnQixHQUF0Qjs7QUFDQUMsR0FBQyxDQUFEQSxrQkFBcUJDLFVBQUQsSUFBZ0I7QUFDbEMsVUFBTTtBQUFBO0FBQVFDO0FBQVIsUUFBTjtBQUNBSCxvQkFBZ0IsQ0FBaEJBLEtBQXNCSSxhQUFhLDBCQUFuQ0osVUFBbUMsQ0FBbkNBO0FBRkZDOztBQUtBSSx3QkFBc0IsMEJBQXRCQSxTQUFzQixDQUF0QkE7QUFFQTtBQUNELEM7Ozs7Ozs7Ozs7O0FDOUJEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLZSxpQ0FBaUM7QUFBRVY7QUFBRixDQUFqQyxhQUFzRDtBQUNuRUMsT0FBSyxPQUFPO0FBQ1ZPLFVBQU0sRUFESTtBQUVWRyxnQkFBWSxFQUZGO0FBR1ZDLGFBQVMsRUFBRUM7QUFIRCxHQUFQLENBQUxaO0FBTUEsUUFBTTtBQUFBO0FBQUE7QUFBMkJPO0FBQTNCLE1BQU47O0FBRUEsaUJBQWU7QUFDYk0sdUJBQW1CLENBQW5CQSxTQUFtQixDQUFuQkEsaUJBQStDO0FBQUE7QUFBYUg7QUFBYixLQUEvQ0c7QUFDQSxXQUFPVixnQkFBZ0IsWUFBdkIsWUFBdUIsQ0FBdkI7QUFDRDs7QUFFRFUscUJBQW1CLENBQW5CQSxTQUFtQixDQUFuQkEsaUJBQStDO0FBQUE7QUFBQTtBQUEyQk47QUFBM0IsR0FBL0NNO0FBQ0EsU0FBT1YsZ0JBQWdCLDBCQUF2QixNQUF1QixDQUF2QjtBQUNELEM7Ozs7Ozs7Ozs7O0FDckJEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUlBLE1BQU1XLDRCQUE0QixHQUFsQztBQUVBLElBQUlDLGdCQUFnQixHQUFwQjtBQUNBLElBQUlDLDRCQUE0QixHQUFoQzs7QUFFQSxNQUFNQyxRQUFRLEdBQUcsTUFBTTtBQUNyQixNQUFJLENBQUNDLE1BQU0sQ0FBTkEsdUJBQUwsUUFBMkM7QUFDekNGLGdDQUE0QixHQUE1QkE7QUFDQTtBQUNEOztBQUNEQSw4QkFBNEIsR0FBNUJBO0FBQ0FFLFFBQU0sQ0FBTkEsK0JBQXVDQyxTQUFELElBQWU7QUFDbkROLHVCQUFtQixDQUFuQkEsU0FBbUIsQ0FBbkJBLGVBQTZDO0FBQUE7QUFBYU8saUJBQVcsRUFBRUwsZ0JBQWdCO0FBQTFDLEtBQTdDRjtBQURGSztBQUdBSCxrQkFBZ0IsR0FBaEJBO0FBRUFNLFFBQU0sQ0FBTkE7QUFYRjs7QUFjZSw4QkFBOEI7QUFBQTtBQUFVdEI7QUFBVixDQUE5QixhQUEyRDtBQUN4RSxRQUFNUSxNQUFNLEdBQUdOLE1BQU0sQ0FBckI7QUFDQSxRQUFNSyxVQUFVLEdBQUdQLElBQUksQ0FBdkI7QUFFQUMsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssYUFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU1VLFlBQVksR0FBR0osVUFBVSxDQUEvQjtBQUNBTixPQUFLLGVBQUxBLE1BQUssQ0FBTEE7O0FBRUEsTUFBRyxDQUFDZSxnQkFBZ0IsQ0FBaEJBLGVBQUosU0FBSUEsQ0FBSixFQUFnRDtBQUM5Q0Esb0JBQWdCLENBQWhCQSxTQUFnQixDQUFoQkE7QUFDRDs7QUFFREEsa0JBQWdCLENBQWhCQSxTQUFnQixDQUFoQkEsTUFBaUM7QUFBQTtBQUFBO0FBQUE7QUFBbUNUO0FBQW5DLEdBQWpDUztBQUNBLE1BQUksQ0FBSiw4QkFBbUNFLFFBQVE7QUFFM0MsU0FBT1QsYUFBYSxrQ0FBcEIsVUFBb0IsQ0FBcEI7QUFDRCxDOzs7Ozs7Ozs7OztBQ3pDRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2UsOEJBQThCO0FBQUVUO0FBQUYsQ0FBOUIsYUFBbUQ7QUFDaEUsUUFBTVcsWUFBWSxHQUFHWCxJQUFJLENBQXpCO0FBQ0EsUUFBTXVCLE9BQU8sR0FBR3ZCLElBQUksQ0FBcEI7QUFFQUMsT0FBSyxlQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssVUFBTEEsTUFBSyxDQUFMQTtBQUVBYSxxQkFBbUIsQ0FBbkJBLFNBQW1CLENBQW5CQSxpQkFBK0M7QUFBQTtBQUFBO0FBQTJCUztBQUEzQixHQUEvQ1Q7QUFDQSxTQUFPVSxnQkFBZ0IsMEJBQXZCLE9BQXVCLENBQXZCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNkRCxPQUFPQyxNQUFQLENBQU9BO0FBQVAsaUJBQXdCO0FBQWpCQSxDQUFQO0FBQXdCLElBQXhCLFdBQXdCO0FBQXhCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLHVDQUF1QztBQUNwRCxRQUFNQyxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBN0IsT0FBSyxlQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThCLE9BQU8sR0FBRztBQUNkcEI7QUFEYyxHQUFoQjtBQUlBLFNBQU9jLFdBQVcsQ0FBWEEsb0VBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDbkJELE9BQU9PLE1BQVAsQ0FBT0E7QUFBQUEsaUJBQVA7QUFBT0EsQ0FBUDtBQUFpQyxJQUFqQyxvQkFBaUM7QUFBakM7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLG9DQUFvQztBQUNqRCxRQUFNO0FBQUE7QUFBYUg7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQUUsc0JBQW9CLHdCQUFwQkEsZUFBb0IsQ0FBcEJBO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNQRCxPQUFPUCxNQUFQLENBQU9BO0FBQVAsaUJBQXdCO0FBQWpCQSxDQUFQO0FBQXdCLElBQXhCLFdBQXdCO0FBQXhCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsc0VBQXNFO0FBQ25GLFFBQU1DLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxRQUFNRSxVQUFVLEdBQWhCO0FBRUEsUUFBTWpCLFlBQVksR0FBR0osVUFBVSxDQUEvQjtBQUVBTixPQUFLLGFBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxlQUFMQSxNQUFLLENBQUxBOztBQUVBLE1BQUlNLFVBQVUsQ0FBVkEsbUJBQUosUUFBMEM7QUFDeENOLFNBQUssYUFBYTtBQUNoQmdDLFFBQUUsRUFEYztBQUVoQkMsWUFBTSxFQUZVO0FBR2hCQyxvQkFBYyxFQUhFO0FBSWhCQyxvQkFBYyxFQUFFO0FBQ2RDLFNBQUMsRUFEYTtBQUVkQyxTQUFDLEVBRmE7QUFHZEMsaUJBQVMsRUFISztBQUlkQyxzQkFBYyxFQUpBO0FBS2RDLG9CQUFZLEVBTEU7QUFNZEMsWUFBSSxFQU5VO0FBT2RDLHFCQUFhLEVBUEM7QUFRZFYsVUFBRSxFQVJZO0FBU2R0QixvQkFBWSxFQVRFO0FBVWR1QixjQUFNLEVBVlE7QUFXZFUsZ0JBQVEsRUFYTTtBQVlkQyxrQkFBVSxFQVpJO0FBYWRDLFlBQUksRUFBRUM7QUFiUSxPQUpBO0FBbUJoQkMsVUFBSSxFQW5CWTtBQW9CaEJ4QyxZQUFNLEVBcEJVO0FBcUJoQnlDLGNBQVEsRUFBRUM7QUFyQk0sS0FBYixDQUFMakQ7QUFERixTQXdCTztBQUNMQSxTQUFLLGFBQWE7QUFDaEJnQyxRQUFFLEVBRGM7QUFFaEJDLFlBQU0sRUFGVTtBQUdoQkMsb0JBQWMsRUFIRTtBQUloQkMsb0JBQWMsRUFBRTtBQUNkZSxhQUFLLEVBRFM7QUFFZEMsaUJBQVMsRUFGSztBQUdkQyxjQUFNLEVBSFE7QUFJZHBCLFVBQUUsRUFKWTtBQUtkdEIsb0JBQVksRUFMRTtBQU1kdUIsY0FBTSxFQU5RO0FBT2RZLFlBQUksRUFQVTtBQVFkUSxrQkFBVSxFQUFFQyxLQUFLLENBQUxBLE1BQVksQ0FBWkEsTUFBWSxDQUFaQTtBQVJFLE9BSkE7QUFjaEJQLFVBQUksRUFkWTtBQWVoQnhDLFlBQU0sRUFmVTtBQWdCaEJ5QyxjQUFRLEVBQUVDO0FBaEJNLEtBQWIsQ0FBTGpEO0FBa0JEOztBQUVELFFBQU04QixPQUFPLEdBQUc7QUFDZHhCO0FBRGMsR0FBaEI7QUFJQSxTQUFPa0IsV0FBVyxDQUFYQSxvRUFBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNoRUQsY0FBU0s7QUFBQUEsaUJBQVQ7QUFBU0EsQ0FBVDtBQUFtQyxJQUFuQyxrQkFBbUM7QUFBbkM7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLHNDQUFzQztBQUNuRCxRQUFNO0FBQUE7QUFBYUQ7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQUMsU0FBTyxDQUFQQSxRQUFnQnhCLFVBQVUsSUFBSXlCLG9CQUFvQix3QkFBbERELGVBQWtELENBQWxEQTtBQUNELEM7Ozs7Ozs7Ozs7O0FDUEQsT0FBT04sTUFBUCxDQUFPQTtBQUFQLGlCQUF3QjtBQUFqQkEsQ0FBUDtBQUF3QixJQUF4QixXQUF3QjtBQUF4QjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLZSxzQ0FBc0M7QUFDbkQsUUFBTUMsWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7QUFFQSxRQUFNO0FBQUE7QUFBYUM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTdCLE9BQUssZUFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04QixPQUFPLEdBQUc7QUFDZHBCO0FBRGMsR0FBaEI7QUFJQSxTQUFPYyxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ25CRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLG9FQUFvRTtBQUNqRnhCLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGVBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxhQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTXVELEtBQUssR0FBR0Msa0JBQWtCLGtDQUFoQyxVQUFnQyxDQUFoQzs7QUFFQSxRQUFNQyxFQUFFLEdBQUcscUJBQXFCO0FBQzlCLGFBQVM7QUFDUCxhQUFPQyxNQUFNLENBQU5BLE1BQWMsb0NBQW1DQyxHQUF4RCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsVUFBTTtBQUFFRTtBQUFGLFFBQU47O0FBQ0Esb0JBQWdCO0FBQ2QsYUFBT0YsTUFBTSxDQUFOQSxLQUFhLHVCQUFzQnBELFVBQVUsQ0FBQzBCLEVBQUcsZUFBY3RCLFlBQXRFLEVBQU9nRCxDQUFQO0FBQ0Q7O0FBQ0Q7QUFURjs7QUFZQSxTQUFPRyxXQUFXLENBQVhBLE9BQW1CTixLQUFLLENBQXhCTSxVQUFtQ04sS0FBSyxDQUF4Q00sVUFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUN6QkQsT0FBT0EsTUFBUCxDQUFPQTtBQUFQLGlCQUF3QjtBQUFqQkEsQ0FBUDtBQUF3QixJQUF4QixXQUF3QjtBQUF4QjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UsMkRBQTJEO0FBQ3hFLFFBQU1DLFFBQVEsR0FBZDs7QUFFQSxpQkFBZTtBQUNiQSxZQUFRLENBQVJBO0FBQ0Q7O0FBRUQsb0JBQWtCO0FBQ2hCQSxZQUFRLENBQVJBO0FBQ0Q7O0FBRUQsY0FBWTtBQUNWQSxZQUFRLENBQVJBO0FBQ0Q7O0FBRUQsUUFBTUwsRUFBRSxHQUFJRSxHQUFELElBQVM7QUFDbEIsYUFBUztBQUNQLGFBQU9ELE1BQU0sQ0FBTkEsTUFBYyx5Q0FBd0NDLEdBQTdELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxnQkFBWTtBQUNWLGFBQU9BLE1BQU0sQ0FBTkEsS0FBYSxrQ0FBaUNuRCxNQUFPLHFCQUFvQkcsWUFBaEYsRUFBT2dELENBQVA7QUFDRDs7QUFFRCxzQkFBa0I7QUFDaEIsYUFBT0EsTUFBTSxDQUFOQSxLQUFhLHNDQUFxQ2hELFlBQXpELEVBQU9nRCxDQUFQO0FBQ0Q7O0FBRUQsbUJBQWU7QUFDYixhQUFPQSxNQUFNLENBQU5BLEtBQWEsd0JBQXVCdkMsU0FBM0MsR0FBT3VDLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLEtBQVAsMkJBQU9BLENBQVA7QUFqQkY7O0FBb0JBLFNBQU9HLFdBQVcsQ0FBWEEsaUJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDdkNEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSw0REFBNEQ7QUFDekU3RCxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxlQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssVUFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUFBO0FBR2Y5QixNQUFFLEVBQUVWO0FBSFcsR0FBakI7O0FBTUEsUUFBTW1DLEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUCxhQUFPRCxNQUFNLENBQU5BLE1BQWMsd0NBQXVDQyxHQUE1RCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFhLHlCQUF3QnBDLE9BQVEsZUFBY1osWUFBbEUsRUFBT2dELENBQVA7QUFMRjs7QUFRQSxTQUFPRyxXQUFXLENBQVhBLGlCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3hCRDtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFPQXJDLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEEsc0NBQWtEdUMseUJBQXlCLENBQTNFdkMsMkJBQTJFLENBQTNFQSxFOzs7Ozs7Ozs7OztBQ1ZBLE9BQU8sSUFBUDtBQUFBO0FBQUEsNEI7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFNQUgsTUFBTSxDQUFOQSxRQUFlO0FBQUE7QUFBQTtBQUFBO0FBSWIyQztBQUphLENBQWYzQyxFOzs7Ozs7Ozs7OztBQ05BO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS0EsdUJBQXVCO0FBQ3JCLE1BQUksQ0FBQyxLQUFMLFFBQWtCO0FBQ2hCLFdBQU8sV0FBVyxDQUFYLEtBQWlCO0FBQUVGLGVBQVMsRUFBRTtBQUFiLEtBQWpCLENBQVA7QUFDRDs7QUFFRCxRQUFNO0FBQUE7QUFBYVM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTZCLFFBQU0sQ0FBTkEsTUFBYyw4QkFBNkJ2QyxTQUFVLElBQUdTLGVBQXhEOEI7QUFFQSxTQUFPLFdBQVcsQ0FBWCxLQUFpQjtBQUFFdkM7QUFBRixHQUFqQixDQUFQO0FBQ0Q7O0FBRUQsaUJBQWlCLEdBQWpCLE1BQTBCO0FBQ3hCLFFBQU04QyxnQkFBZ0IsR0FBRzdDLFdBQVcsQ0FBWEEsS0FBekIsSUFBeUJBLENBQXpCO0FBQ0EsU0FBTzZDLGdCQUFnQixDQUFDLEdBQXhCLElBQXVCLENBQXZCO0FBQ0Q7O0FBRUQ1QyxNQUFNLENBQU5BLGdDOzs7Ozs7Ozs7OztBQ3RCQTtBQUFBLDJCQUFtQixRQUFuQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBRU8sOENBQThDO0FBQ25EcUMsUUFBTSxDQUFOQSxLQUFhLG9EQUFtRHZDLFNBQWhFdUM7QUFDQSxTQUFPckMsTUFBTSxDQUFOQSwwQkFBa0MsZUFBY0YsU0FBdkQsRUFBT0UsQ0FBUDtBQUNEOztBQUVNLDJDQUEyQztBQUNoRCxRQUFNNkMsUUFBUSxHQUFHLElBQUk3QyxNQUFNLENBQVYsU0FBcUIsZUFBY0YsU0FBbkMsSUFBZ0Q7QUFBRWdELGNBQVUsRUFBRTtBQUFkLEdBQWhELENBQWpCO0FBRUFELFVBQVEsQ0FBUkEsVUFBbUIscUJBQXFCO0FBQ3RDLFFBQUksQ0FBQyxLQUFMLFFBQWtCO0FBRWxCLFdBQU8sZUFBZSxxQkFBdEIsU0FBc0IsQ0FBdEI7QUFIRkE7QUFNQUEsVUFBUSxDQUFSQSxXQUFvQixzQkFBc0I7QUFDeEM7QUFERkE7QUFHRDs7QUFFYyx3QkFBd0I7QUFDckMsU0FBTzdDLE1BQU0sQ0FBTkEsMEJBQWtDLGVBQWNGLFNBQXZELEVBQU9FLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3ZCRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBRUEsTUFBTStDLG9CQUFvQixHQUExQjtBQUNBLE1BQU1DLHNCQUFzQixHQUE1QixTLENBRUE7O0FBQ0EsNkVBQTZFO0FBQzNFLFFBQU07QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQzhDckI7QUFEOUMsTUFBTjtBQUlBLFFBQU1jLFFBQVEsR0FBRztBQUFBO0FBQUE7QUFHZnZEO0FBSGUsR0FBakI7QUFNQSxRQUFNK0QsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU9KeEI7QUFQSSxLQURTO0FBVWZ5QixnQkFBWSxFQUFFO0FBQ1p4QjtBQURZLEtBVkM7QUFhZnlCLFFBQUksRUFBRTtBQUFFQyxhQUFPLEVBQUU7QUFBWDtBQWJTLEdBQWpCO0FBZ0JBLFNBQU87QUFBQTtBQUFZSjtBQUFaLEdBQVA7QUFDRDs7QUFFRCx1RUFBdUU7QUFDckUsUUFBTTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDOEN0QjtBQUQ5QyxNQUFOO0FBSUEsUUFBTWMsUUFBUSxHQUFHO0FBQUE7QUFBQTtBQUdmdkQ7QUFIZSxHQUFqQjtBQU1BNEIsZ0JBQWMsQ0FBZEEsT0FBc0JBLGNBQWMsQ0FBZEEsc0JBQXRCQSxJQUFzQkEsQ0FBdEJBO0FBRUEsUUFBTW1DLFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPSnhCO0FBUEksS0FEUztBQVVmeUIsZ0JBQVksRUFBRTtBQUNaeEI7QUFEWSxLQVZDO0FBYWZ5QixRQUFJLEVBQUU7QUFBRUMsYUFBTyxFQUFFO0FBQVg7QUFiUyxHQUFqQjtBQWdCQSxTQUFPO0FBQUE7QUFBWUo7QUFBWixHQUFQO0FBQ0Q7O0FBRUQseUVBQXlFO0FBQ3ZFLFFBQU1LLFVBQVUsR0FBaEI7QUFDQSxRQUFNQyxXQUFXLEdBQWpCO0FBQ0EsUUFBTUMsUUFBUSxHQUFkO0FBRUEsUUFBTTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDOEM3QjtBQUQ5QyxNQUFOO0FBSUEsUUFBTThCLFlBQVksR0FBRztBQUFBO0FBQUE7QUFBQTtBQUluQnBFO0FBSm1CLEdBQXJCO0FBT0E7O0FBQ0E7QUFDRTtBQUNFO0FBRUE7QUFDQTtBQUNBcUUsa0JBQVksR0FBRztBQUNiUixZQUFJLEVBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVSkcsaUJBQU8sRUFBRTtBQVZMO0FBRE8sT0FBZks7QUFjQTs7QUFDRjtBQUNFQSxrQkFBWSxHQUFHO0FBQ2JDLGFBQUssRUFBRTtBQUNMLG1DQUF5QjtBQUFFQyxpQkFBSyxFQUFFOUMsY0FBYyxDQUFDaUI7QUFBeEI7QUFEcEIsU0FETTtBQUlibUIsWUFBSSxFQUFFO0FBQ0p0QztBQURJLFNBSk87QUFPYndDLFlBQUksRUFBRTtBQUFFQyxpQkFBTyxFQUFFO0FBQVg7QUFQTyxPQUFmSztBQVNBOztBQUNGO0FBQ0U7QUFDQUEsa0JBQVksR0FBRztBQUNiUixZQUFJLEVBQUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVFKdkI7QUFSSSxTQURPO0FBV2J5QixZQUFJLEVBQUU7QUFBRUMsaUJBQU8sRUFBRTtBQUFYO0FBWE8sT0FBZks7QUFhQTs7QUFDRjtBQUNFO0FBakRKOztBQW9EQSxTQUFPO0FBQUVqQixZQUFRLEVBQVY7QUFBMEJRLFlBQVEsRUFBRVM7QUFBcEMsR0FBUDtBQUNEOztBQUVjLG9FQUFvRTtBQUNqRi9FLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGVBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxhQUFMQSxNQUFLLENBQUxBOztBQUVBLFVBQVFNLFVBQVUsQ0FBbEI7QUFDRTtBQUNFLGFBQU80RSxnQkFBZ0Isa0NBQXZCLFVBQXVCLENBQXZCOztBQUNGO0FBQ0UsYUFBT0Msa0JBQWtCLGtDQUF6QixVQUF5QixDQUF6Qjs7QUFDRjtBQUNFLGFBQU9DLHNCQUFzQixrQ0FBN0IsVUFBNkIsQ0FBN0I7QUFOSjtBQVFELEM7Ozs7Ozs7Ozs7O0FDekpEO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFFQSxNQUFNdkIsV0FBVyxHQUFHLElBQUl3QixLQUFLLENBQVQsV0FBcEIsYUFBb0IsQ0FBcEI7O0FBRUEsSUFBSWhFLE1BQU0sQ0FBVixVQUFxQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUF3QyxhQUFXLENBQVhBLGFBQXlCO0FBQUU3QixNQUFFLEVBQUU7QUFBTixHQUF6QjZCOztBQUNBQSxhQUFXLENBQVhBLGFBQXlCO0FBQUUxQyxhQUFTLEVBQVg7QUFBZ0JULGdCQUFZLEVBQTVCO0FBQWlDSCxVQUFNLEVBQUU7QUFBekMsR0FBekJzRDtBQUNEOztBQWhCRCxxQkFrQkEsV0FsQkEsRTs7Ozs7Ozs7Ozs7QUNBQTtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSw4QkFBOEI7QUFBRTlEO0FBQUYsQ0FBOUIsRUFBd0M7QUFDckQsUUFBTTtBQUFFdUY7QUFBRixNQUFOO0FBQ0F0RixPQUFLLGFBQUxBLE1BQUssQ0FBTEE7QUFFQSxTQUFPdUYsY0FBYyxDQUFyQixVQUFxQixDQUFyQjtBQUNELEM7Ozs7Ozs7Ozs7O0FDUkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLCtCQUErQjtBQUFFeEY7QUFBRixDQUEvQixFQUF5QztBQUN0RCxRQUFNO0FBQUE7QUFBQTtBQUdKdUY7QUFISSxNQUFOO0FBTUF0RixPQUFLLHlCQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUNmd0I7QUFEZSxHQUFqQjtBQUlBLFFBQU1oQixRQUFRLEdBQUc7QUFDZlUsU0FBSyxFQUFFO0FBQ0xRLFdBQUssRUFBRTtBQUFBO0FBQUE7QUFHTEMsb0JBQVksRUFBRTtBQUhUO0FBREY7QUFEUSxHQUFqQjs7QUFVQSxRQUFNaEMsRUFBRSxHQUFHLHVCQUF1QjtBQUNoQyxlQUFXO0FBQ1QsYUFBT0MsTUFBTSxDQUFOQSxNQUFjLGtDQUFpQ2dDLEtBQXRELEVBQU9oQyxDQUFQO0FBQ0Q7O0FBRUQsVUFBTTtBQUNKRTtBQURJLFFBQU47O0FBR0Esb0JBQWdCO0FBQ2QsYUFBT0YsTUFBTSxDQUFOQSxLQUFhLHFCQUFvQjRCLFVBQXhDLEVBQU81QixDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFhLHdCQUF1QjRCLFVBQTNDLEVBQU81QixDQUFQO0FBWkY7O0FBZUEsU0FBT2lDLFNBQVMsQ0FBVEEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDM0NELE9BQU9BLE1BQVAsQ0FBT0E7QUFBUCxTQUFzQixRQUF0QjtBQUFPQSxDQUFQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLZSxtQ0FBbUM7QUFBRTVGO0FBQUYsQ0FBbkMsYUFBd0Q7QUFDckU7QUFDQSxRQUFNNkYsc0JBQXNCLEdBQTVCO0FBRUEsUUFBTTtBQUFBO0FBRUpDO0FBRkksTUFBTjtBQUtBLFFBQU07QUFBRVA7QUFBRixNQUFOO0FBRUF0RixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQ2Z3QjtBQURlLEdBQWpCO0FBSUEsUUFBTWhCLFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUUsTUFBTSxDQUFOLE9BQ0o7QUFDRWlCLFdBQUssRUFEUDtBQUVFTSxpQkFBVyxFQUFFO0FBRmYsS0FESSxFQUtKO0FBQUVDLG1CQUFhLEVBQUVIO0FBQWpCLEtBTEksRUFNSjtBQUFFSTtBQUFGLEtBTkksRUFPSkMsSUFBSSxDQVBBLFFBT0EsQ0FQQTtBQURTLEdBQWpCOztBQVlBLFFBQU14QyxFQUFFLEdBQUlFLEdBQUQsSUFBUztBQUNsQixhQUFTO0FBQ1AsYUFBT0QsTUFBTSxDQUFOQSxNQUFjLHNCQUFxQkMsR0FBMUMsRUFBT0QsQ0FBUDtBQUNEOztBQUVELFdBQU9BLE1BQU0sQ0FBTkEsS0FBWSxpREFDZCxtQkFBa0I0QixVQUR2QixFQUFPNUIsQ0FBUDtBQUxGOztBQVNBLFNBQU9pQyxTQUFTLENBQVRBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQzVDRCxPQUFPQSxNQUFQLENBQU9BO0FBQVAsU0FBc0IsUUFBdEI7QUFBT0EsQ0FBUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSw0QkFBNEI7QUFBRTVGO0FBQUYsQ0FBNUIsRUFBc0M7QUFDbkRDLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU07QUFBQTtBQUFBO0FBR0p3RjtBQUhJLE1BQU47QUFNQXhGLE9BQUssV0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGFBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxLQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUNma0MsbUJBQWUsRUFEQTtBQUVmVjtBQUZlLEdBQWpCO0FBS0EsUUFBTVksV0FBVyxHQUFHLEtBQUssQ0FBTCxJQUFVQyxJQUFJLEtBQUs7QUFBRTVGLFVBQU0sRUFBRTRGLElBQUksQ0FBZDtBQUFtQkMsUUFBSSxFQUFFRCxJQUFJLENBQUNDO0FBQTlCLEdBQUwsQ0FBZCxDQUFwQjtBQUNBLFFBQU05QixRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFO0FBQ0p1QixpQkFBVyxFQUFFSTtBQURUO0FBRFMsR0FBakI7O0FBT0EsUUFBTXpDLEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUCxhQUFPRCxNQUFNLENBQU5BLE1BQWMsc0NBQXFDQyxHQUExRCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFZLDBCQUNkLGtCQUFpQjRCLFVBRHRCLEVBQU81QixDQUFQO0FBTEY7O0FBUUFpQyxXQUFTLENBQVRBO0FBQ0FBLFdBQVMsQ0FBVEE7QUFDRCxDOzs7Ozs7Ozs7OztBQ3hDRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsbUNBQW1DO0FBQUU1RjtBQUFGLENBQW5DLGFBQXdEO0FBQ3JFLFFBQU07QUFDSmdHO0FBREksTUFBTjtBQUlBL0YsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssZ0JBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQ2ZrQyxtQkFBZSxFQUFFN0U7QUFERixHQUFqQjtBQUlBLFFBQU1tRCxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFO0FBQ0p3QjtBQURJO0FBRFMsR0FBakI7QUFNQSxRQUFNTSxPQUFPLEdBQUc7QUFDZEMsU0FBSyxFQUFFO0FBRE8sR0FBaEI7O0FBSUEsUUFBTTdDLEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUCxhQUFPRCxNQUFNLENBQU5BLE1BQWMsdUJBQXNCQyxHQUEzQyxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFZLG1EQUNoQix5QkFBd0J2QyxTQUQzQixFQUFPdUMsQ0FBUDtBQUxGOztBQVNBLFNBQU9pQyxTQUFTLENBQVRBLG9DQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3BDRCxjQUFTdEU7QUFBVCxXQUF1QixNQUF2QjtBQUFTQSxDQUFUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLZSxzREFBc0RrRixNQUFNLEdBQTVELE9BQXNFO0FBQ25GLFFBQU05RSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBRUEsUUFBTTtBQUFBO0FBQWFHO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUEsUUFBTTJFLFNBQVMsR0FBZjtBQUNBLE1BQUlDLEtBQUssQ0FBTEEsU0FBSixHQUFzQixPQUFPL0MsTUFBTSxDQUFOQSxLQUFhLCtFQUE4RXZDLFNBQWxHLEVBQU91QyxDQUFQO0FBQ3RCLFFBQU01QixPQUFPLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFJZFg7QUFKYyxHQUFoQjtBQU9BLFNBQU9LLFdBQVcsQ0FBWEEsbUVBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDckJELGNBQVNIO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2UsMkJBQTJCO0FBQ3hDLFFBQU1JLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFFQSxRQUFNO0FBQUE7QUFBYUc7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTdCLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGtCQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTXdHLFNBQVMsR0FBZjtBQUNBLFNBQU9oRixXQUFXLENBQVhBLG1FQUFQLElBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ2hCRCxjQUFTSDtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsd0JBQXdCO0FBQUE7QUFBY2QsUUFBTSxFQUFFbUc7QUFBdEIsQ0FBeEIsRUFBZ0U7QUFDN0UsUUFBTWpGLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFFQSxRQUFNO0FBQUE7QUFBYUc7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQSxRQUFNdEIsTUFBTSxHQUFHbUcsY0FBYyxJQUE3QjtBQUNBLFFBQU1GLFNBQVMsR0FBZjtBQUVBLFNBQU8sV0FBVyxDQUFYLG1FQUVMO0FBQUE7QUFBQTtBQUdFakc7QUFIRixHQUZLLENBQVA7QUFRRCxDOzs7Ozs7Ozs7OztBQ3JCRDtBQUFBLFNBQW1CO0FBQW5CO0FBQW1CLElBQW5CLE1BQW1CO0FBQW5CO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSxvQ0FBb0M7QUFDakQsa0JBQWdCO0FBQ2QsVUFBTXVELFFBQVEsR0FBRztBQUNmd0I7QUFEZSxLQUFqQjtBQUlBLFdBQU8sU0FBUyxDQUFULGlCQUEyQixNQUFNO0FBQ3RDNUIsWUFBTSxDQUFOQSxLQUFhLHNCQUFxQjRCLFVBQWxDNUI7QUFERixLQUFPLENBQVA7QUFHRDs7QUFFRCxTQUFPLFNBQVMsQ0FBVCxXQUFxQixNQUFNO0FBQ2hDQSxVQUFNLENBQU5BO0FBREYsR0FBTyxDQUFQO0FBR0QsQzs7Ozs7Ozs7Ozs7QUNqQkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBT0FsQyxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQSxvRDs7Ozs7Ozs7Ozs7QUNaQSxPQUFPLElBQVA7QUFBQTtBQUFBLDRCOzs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFLQUgsTUFBTSxDQUFOQSxRQUFlO0FBQUE7QUFBQTtBQUdic0Y7QUFIYSxDQUFmdEYsRTs7Ozs7Ozs7Ozs7QUNMQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU1BLE1BQU11RixjQUFjLEdBQUd2RixNQUFNLENBQU5BLHFCQUF2Qjs7QUFFQSx5QkFBeUI7QUFDdkIsTUFBSSxDQUFDLEtBQUwsUUFBa0I7QUFDaEIsV0FBTyxTQUFTLENBQVQsS0FBZTtBQUFFRixlQUFTLEVBQUU7QUFBYixLQUFmLENBQVA7QUFDRDs7QUFFRCxRQUFNO0FBQUE7QUFBYVM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFDQTZCLFFBQU0sQ0FBTkEsTUFBYyw0QkFBMkJ2QyxTQUFVLElBQUdTLGVBQXREOEI7QUFFQSxRQUFNbUQsSUFBSSxHQUFHLEtBQUssQ0FBTCxRQUFjO0FBQUV0RyxVQUFNLEVBQVI7QUFBMkJZO0FBQTNCLEdBQWQsRUFBc0Q7QUFBRTJGLFVBQU0sRUFBRTtBQUFFQyxVQUFJLEVBQUU7QUFBUjtBQUFWLEdBQXRELENBQWI7O0FBQ0EsTUFBSSxDQUFDLENBQUQsUUFBVUYsSUFBSSxDQUFKQSxTQUFkLGdCQUE0QztBQUMxQyxVQUFNRyxpQkFBaUIsR0FBRztBQUN4QkMsU0FBRyxFQUFFLENBQ0g7QUFBRWpCLHVCQUFlLEVBQUU3RTtBQUFuQixPQURHLEVBRUg7QUFBRW1FLGtCQUFVLEVBQUVuRTtBQUFkLE9BRkc7QUFEbUIsS0FBMUI7QUFPQSxXQUFPd0UsU0FBUyxDQUFUQSxLQUFQLGlCQUFPQSxDQUFQO0FBQ0Q7O0FBRUQsUUFBTTdCLFFBQVEsR0FBRztBQUNmbUQsT0FBRyxFQUFFLENBQ0g7QUFDRWpCLHFCQUFlLEVBRGpCO0FBRUVrQixjQUFRLEVBQUU7QUFGWixLQURHLEVBS0g7QUFDRWxCLHFCQUFlLEVBRGpCO0FBRUUsc0JBQWdCcEU7QUFGbEIsS0FMRyxFQVNIO0FBQ0UwRCxnQkFBVSxFQUFFbkU7QUFEZCxLQVRHO0FBRFUsR0FBakI7QUFnQkEsU0FBT3dFLFNBQVMsQ0FBVEEsS0FBUCxRQUFPQSxDQUFQO0FBQ0Q7O0FBRUQsaUJBQWlCLEdBQWpCLE1BQTBCO0FBQ3hCLFFBQU13QixjQUFjLEdBQUdDLFNBQVMsQ0FBVEEsS0FBdkIsSUFBdUJBLENBQXZCO0FBQ0EsU0FBT0QsY0FBYyxDQUFDLEdBQXRCLElBQXFCLENBQXJCO0FBQ0Q7O0FBRUQ5RixNQUFNLENBQU5BLDhCOzs7Ozs7Ozs7OztBQ3BEQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBRUEsTUFBTXNFLFNBQVMsR0FBRyxJQUFJTixLQUFLLENBQVQsV0FBbEIsV0FBa0IsQ0FBbEI7O0FBRUEsSUFBSWhFLE1BQU0sQ0FBVixVQUFxQjtBQUNuQjtBQUNBO0FBQ0E7QUFFQXNFLFdBQVMsQ0FBVEEsYUFBdUI7QUFBRUwsY0FBVSxFQUFFO0FBQWQsR0FBdkJLOztBQUNBQSxXQUFTLENBQVRBLGFBQXVCO0FBQUVLLG1CQUFlLEVBQUU7QUFBbkIsR0FBdkJMO0FBQ0Q7O0FBWEQscUJBYUEsU0FiQSxFOzs7Ozs7Ozs7OztBQ0FBO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLHlCQUF5QjtBQUFFNUY7QUFBRixDQUF6QixFQUFtQztBQUNoRCxRQUFNO0FBQUVzSDtBQUFGLE1BQU47QUFDQSxRQUFNO0FBQUVyRjtBQUFGLE1BQU47QUFFQWhDLE9BQUssS0FBTEEsTUFBSyxDQUFMQTtBQUVBc0gsb0JBQWtCLENBQWxCQSxFQUFrQixDQUFsQkE7QUFDRCxDOzs7Ozs7Ozs7OztBQ1ZEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSx5QkFBeUI7QUFBRXZIO0FBQUYsQ0FBekIsRUFBbUM7QUFDaEQsUUFBTTtBQUFBO0FBQUE7QUFBYXdIO0FBQWIsTUFBTjtBQUNBLFFBQU07QUFBRXZGO0FBQUYsTUFBTjtBQUVBaEMsT0FBSyxLQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNd0gsSUFBSSxHQUFHQyxvQkFBb0IsQ0FBakMsU0FBaUMsQ0FBakM7O0FBRUEsTUFBSUQsSUFBSSxLQUFSLElBQWlCO0FBQ2ZFLGFBQVMsV0FBVEEsSUFBUyxDQUFUQTtBQUNEO0FBQ0YsQzs7Ozs7Ozs7Ozs7QUNqQkQ7QUFBQSxTQUFrQixFQUFsQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQVdlLGtDQUFrQztBQUMvQyxRQUFNO0FBQUV2RztBQUFGLE1BQWdCVSxrQkFBa0IsQ0FBQyxLQUF6QyxNQUF3QyxDQUF4QztBQUNBN0IsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNMkgsS0FBSyxHQUFHQyxhQUFhLFlBQTNCLE1BQTJCLENBQTNCO0FBRUFDLE9BQUssQ0FBQztBQUNKQyxVQUFNLEVBREY7QUFFSkMsT0FBRyxFQUFFQyxhQUFhLFFBRmQsSUFFYyxDQUZkO0FBR0pDLGdCQUFZLEVBQUU7QUFIVixHQUFELENBQUxKLE1BSVNLLFFBQUQsSUFBYztBQUNwQixVQUFNO0FBQUVqRztBQUFGLFFBQU47O0FBQ0EsUUFBSUEsTUFBTSxLQUFWLEtBQW9CO0FBQ2xCeUIsWUFBTSxDQUFOQSxRQUFnQiwyQkFBMEJpRSxLQUExQ2pFO0FBQ0Q7QUFSSG1FLFdBU1NNLEtBQUssSUFBSXpFLE1BQU0sQ0FBTkEsTUFBYyx1Q0FBc0NpRSxLQUFNLEtBQUlRLEtBVGhGTixFQVNrQm5FLENBVGxCbUU7QUFVRCxDOzs7Ozs7Ozs7OztBQzdCRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQVVlLG1DQUFtQztBQUNoRDtBQUNBLE1BQUksQ0FBQ08sU0FBTCxJQUFrQjtBQUNoQjFFLFVBQU0sQ0FBTkEsS0FBYSw2QkFBNEJ2QyxTQUF6Q3VDO0FBQ0E7QUFDRDs7QUFFRDFELE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUVBNkgsT0FBSyxDQUFDO0FBQ0pDLFVBQU0sRUFERjtBQUVKQyxPQUFHLEVBQUVNLGFBRkQ7QUFHSkosZ0JBQVksRUFBRTtBQUhWLEdBQUQsQ0FBTEosTUFJU0ssUUFBRCxJQUFjO0FBQ3BCLFVBQU07QUFBRWpHO0FBQUYsUUFBTjs7QUFDQSxRQUFJQSxNQUFNLEtBQVYsS0FBb0I7QUFDbEJ5QixZQUFNLENBQU5BLE1BQWMsa0NBQWlDdkMsU0FBVSxJQUFHYyxNQUE1RHlCO0FBQ0Q7O0FBQ0QsVUFBTTRFLE9BQU8sR0FBR0osUUFBUSxDQUF4QjtBQUNBSSxXQUFPLENBQVBBLFFBQWlCQyxNQUFELElBQVk7QUFDMUIsWUFBTVosS0FBSyxHQUFHQyxhQUFhLFlBQVlXLE1BQU0sQ0FBN0MsTUFBMkIsQ0FBM0I7QUFDQUMsZ0JBQVUsbUJBQVZBLE1BQVUsQ0FBVkE7QUFGRkY7QUFWRlQsV0FjU00sS0FBSyxJQUFJekUsTUFBTSxDQUFOQSxNQUFjLGlDQUFnQ3ZDLFNBQVUsS0FBSWdILEtBZDlFTixFQWNrQm5FLENBZGxCbUU7QUFlRCxDOzs7Ozs7Ozs7OztBQ2xDRCxPQUFPckcsTUFBUCxDQUFPQTtBQUFQLGlCQUF3QjtBQUFqQkEsQ0FBUDtBQUF3QixJQUF4QixXQUF3QjtBQUF4QjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBTUEsTUFBTWlILFFBQVEsR0FBRyxrQkFBa0JDLE1BQU0sR0FBR2xCLElBQUksQ0FBaEQ7O0FBRWUsbUNBQW1DO0FBQ2hELFFBQU0vRixZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBM0IsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU1xSCxHQUFHLEdBQUcsUUFBUSxDQUFSLFFBQWlCO0FBQUVNO0FBQUYsR0FBakIsQ0FBWjtBQUVBLE1BQUksQ0FBSixLQUFVLE9BQU9qRSxNQUFNLENBQU5BLE1BQWMsNkJBQTRCaUUsS0FBakQsRUFBT2pFLENBQVA7QUFFVixRQUFNO0FBQUE7QUFBQTtBQUFBO0FBSUpnRjtBQUpJLE1BQU47QUFPQTFJLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFVBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxTQUFTO0FBQUV1SSxVQUFNLEVBQVI7QUFBa0JuQyxRQUFJLEVBQUV0RDtBQUF4QixHQUFULENBQUw5QztBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNMkksS0FBSyxHQUFHRixRQUFRLE9BQXRCLE1BQXNCLENBQXRCO0FBRUEsUUFBTTNHLE9BQU8sR0FBRztBQUNkOEcsY0FBVSxFQURJO0FBRWRDLGNBQVUsRUFBRU4sTUFBTSxDQUZKO0FBR2RBLFVBQU0sRUFBRUEsTUFBTSxDQUhBO0FBSWRPLFlBQVEsRUFKTTtBQUtkckcsUUFBSSxFQUFFK0U7QUFMUSxHQUFoQjtBQVFBLFNBQU9oRyxXQUFXLENBQVhBLDREQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQzNDRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBU2UsbUNBQW1DO0FBQ2hEeEIsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTStJLFdBQVcsR0FBR0MsZ0JBQWdCLENBQXBDLEtBQW9DLENBQXBDO0FBQ0FuQixPQUFLLENBQUM7QUFDSkMsVUFBTSxFQURGO0FBRUpDLE9BQUcsRUFGQztBQUdKRSxnQkFBWSxFQUFFO0FBSFYsR0FBRCxDQUFMSixNQUlTSyxRQUFELElBQWM7QUFDcEIsVUFBTWUsYUFBYSxHQUFHQyxtQkFBbUIsQ0FBQ2hCLFFBQVEsQ0FBVCxNQUF6QyxZQUF5QyxDQUF6Qzs7QUFDQSx1QkFBbUI7QUFDakJpQix5QkFBbUIsUUFBbkJBLGFBQW1CLENBQW5CQTtBQURGLFdBRU87QUFDTHpGLFlBQU0sQ0FBTkEsTUFBYyxvQ0FBbUNpRSxLQUFqRGpFO0FBQ0Q7QUFWSG1FLFdBV1NNLEtBQUssSUFBSXpFLE1BQU0sQ0FBTkEsTUFBYyxvQ0FBbUNpRSxLQUFNLEtBQUlRLEtBWDdFTixFQVdrQm5FLENBWGxCbUU7QUFZRCxDOzs7Ozs7Ozs7OztBQ3pCRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLCtCQUErQjtBQUM1QyxRQUFNO0FBQUE7QUFBYWpHO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUE3QixPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNcUgsR0FBRyxHQUFHLFFBQVEsQ0FBUixRQUFpQjtBQUFBO0FBQWFNLFNBQUssRUFBRTtBQUFFeUIsWUFBTSxFQUFHLGFBQVliLE1BQU87QUFBOUI7QUFBcEIsR0FBakIsQ0FBWjs7QUFFQSxXQUFTO0FBQ1BjLGlCQUFhLDZCQUE2QmhDLEdBQUcsQ0FBN0NnQyxLQUFhLENBQWJBO0FBQ0Q7QUFDRixDOzs7Ozs7Ozs7OztBQ2ZELE9BQU83SCxNQUFQLENBQU9BO0FBQVAsaUJBQXdCO0FBQWpCQSxDQUFQO0FBQXdCLElBQXhCLFdBQXdCO0FBQXhCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFNZSxnREFBZ0Q7QUFBRTtBQUMvRCxRQUFNQyxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBM0IsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFFBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNcUgsR0FBRyxHQUFHLFFBQVEsQ0FBUixRQUFpQjtBQUFBO0FBQWFNO0FBQWIsR0FBakIsQ0FBWjtBQUVBLE1BQUksQ0FBSixLQUFVLE9BQU9qRSxNQUFNLENBQU5BLE1BQWMsMkJBQTBCaUUsS0FBL0MsRUFBT2pFLENBQVA7QUFFVixRQUFNO0FBQUU2RTtBQUFGLE1BQU47QUFFQXZJLE9BQUssU0FBUztBQUFFdUksVUFBTSxFQUFSO0FBQWtCbkMsUUFBSSxFQUFFdEQ7QUFBeEIsR0FBVCxDQUFMOUM7QUFFQSxRQUFNOEIsT0FBTyxHQUFHO0FBQ2R3SCxXQUFPLEVBRE87QUFFZGYsVUFBTSxFQUFFQSxNQUFNLENBRkE7QUFHZE0sY0FBVSxFQUFFTixNQUFNLENBQUNBO0FBSEwsR0FBaEI7QUFNQSxTQUFPL0csV0FBVyxDQUFYQSwyREFBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUM5QkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLDhDQUE4QztBQUMzRHhCLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFFBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxTQUFTO0FBQ1p1SSxVQUFNLEVBRE07QUFFWm5DLFFBQUksRUFBRXREO0FBRk0sR0FBVCxDQUFMOUM7QUFLQSxRQUFNOEQsUUFBUSxHQUFHO0FBQUE7QUFFZjZEO0FBRmUsR0FBakI7QUFLQSxRQUFNckQsUUFBUSxHQUFHO0FBQUE7QUFBQTtBQUFBO0FBSWZnRixXQUFPLEVBSlE7QUFLZkwsaUJBQWEsRUFMRTtBQU1mekIsUUFBSSxFQU5XO0FBT2YrQixRQUFJLEVBUFc7QUFRZmIsVUFBTSxFQUFFO0FBUk8sR0FBakI7O0FBV0EsUUFBTWpGLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyxpQ0FBZ0NDLEdBQXJELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxVQUFNO0FBQUVFO0FBQUYsUUFBTjs7QUFDQSxvQkFBZ0I7QUFDZCxhQUFPRixNQUFNLENBQU5BLFFBQWdCLHdCQUF1QjZFLE1BQU0sQ0FBQ0EsTUFBTyxZQUFXcEgsU0FBdkUsRUFBT3VDLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLFFBQWdCLDJCQUEwQjZFLE1BQU0sQ0FBQ0EsTUFBTyxZQUFXcEgsU0FBMUUsRUFBT3VDLENBQVA7QUFWRjs7QUFhQSxTQUFPOEYsUUFBUSxDQUFSQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUMxQ0QsT0FBT0EsTUFBUCxDQUFPQTtBQUFQLFNBQXFCO0FBQWRBLENBQVA7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSxrQ0FBa0M7QUFDL0MsaUJBQWU7QUFDYixXQUFPLFFBQVEsQ0FBUixPQUFnQjtBQUFFckk7QUFBRixLQUFoQixFQUErQixNQUFNO0FBQzFDdUMsWUFBTSxDQUFOQSxLQUFhLHFCQUFvQnZDLFNBQWpDdUM7QUFERixLQUFPLENBQVA7QUFHRDs7QUFFRCxTQUFPLFFBQVEsQ0FBUixXQUFvQixNQUFNO0FBQy9CQSxVQUFNLENBQU5BO0FBREYsR0FBTyxDQUFQO0FBR0QsQzs7Ozs7Ozs7Ozs7QUNiRCxPQUFPOEYsTUFBUCxDQUFPQTtBQUFQLFNBQXFCO0FBQWRBLENBQVA7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLGlEQUFpRDtBQUM5RHhKLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUFBO0FBRWY2RDtBQUZlLEdBQWpCO0FBS0EsUUFBTXJELFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFDSitFLGFBQU8sRUFBRS9JO0FBREw7QUFEUyxHQUFqQjs7QUFNQSxRQUFNa0QsRUFBRSxHQUFJRSxHQUFELElBQVM7QUFDbEIsYUFBUztBQUNQLGFBQU9ELE1BQU0sQ0FBTkEsTUFBYywwQkFBeUJDLEdBQTlDLEVBQU9ELENBQVA7QUFDRDs7QUFDRCtGLGVBQVcsb0JBQVhBLEtBQVcsQ0FBWEE7QUFDQSxXQUFPL0YsTUFBTSxDQUFOQSxRQUFnQix1QkFBc0JpRSxLQUFNLFlBQVdwSCxNQUE5RCxFQUFPbUQsQ0FBUDtBQUxGOztBQVFBLFNBQU8sUUFBUSxDQUFSLDJCQUFvQztBQUFFNEMsU0FBSyxFQUFFO0FBQVQsR0FBcEMsRUFBUCxFQUFPLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQzlCRCxPQUFPa0QsTUFBUCxDQUFPQTtBQUFQLFNBQXFCO0FBQWRBLENBQVA7QUFBcUIsSUFBckIsUUFBcUI7QUFBckI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2Usc0NBQXNDO0FBQ25EeEosT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQ2Y2RDtBQURlLEdBQWpCO0FBSUEsUUFBTXJELFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFBQTtBQUVKZ0Y7QUFGSSxLQURTO0FBS2Y5RSxRQUFJLEVBQUU7QUFDSmlFLFlBQU0sRUFBRWxCLElBQUksQ0FBQ2tCO0FBRFQ7QUFMUyxHQUFqQjs7QUFVQSxRQUFNakYsRUFBRSxHQUFJRSxHQUFELElBQVM7QUFDbEIsYUFBUztBQUNQLGFBQU9ELE1BQU0sQ0FBTkEsTUFBYywwQkFBeUJDLEdBQTlDLEVBQU9ELENBQVA7QUFDRDs7QUFDRGdHLGdCQUFZLGNBQVpBLElBQVksQ0FBWkE7QUFDQSxXQUFPaEcsTUFBTSxDQUFOQSxRQUFnQix1QkFBc0JpRSxLQUFNLFNBQVE0QixJQUEzRCxFQUFPN0YsQ0FBUDtBQUxGOztBQVFBLFNBQU8sUUFBUSxDQUFSLDJCQUFvQztBQUFFNEMsU0FBSyxFQUFFO0FBQVQsR0FBcEMsRUFBUCxFQUFPLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ2pDRCxPQUFPa0QsTUFBUCxDQUFPQTtBQUFQLFNBQXFCLFFBQXJCO0FBQU9BLENBQVA7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsbURBQW1EO0FBQ2hFeEosT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssZ0JBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQ2Y2RDtBQURlLEdBQWpCO0FBSUEsUUFBTXJELFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFDSjBFO0FBREk7QUFEUyxHQUFqQjs7QUFNQSxRQUFNeEYsRUFBRSxHQUFJRSxHQUFELElBQVM7QUFDbEIsYUFBUztBQUNQLGFBQU9ELE1BQU0sQ0FBTkEsTUFBYyxzQ0FBcUNDLEdBQTFELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLFFBQWdCLG9DQUFtQ2lFLEtBQU0sa0JBQWlCc0IsYUFBakYsRUFBT3ZGLENBQVA7QUFMRjs7QUFRQSxTQUFPLFFBQVEsQ0FBUiwyQkFBb0M7QUFBRTRDLFNBQUssRUFBRTtBQUFULEdBQXBDLEVBQVAsRUFBTyxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUMzQkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUtBOUUsV0FBVyxDQUFYQSxzQkFBa0NtSSx5QkFBeUIsQ0FBM0RuSSxlQUEyRCxDQUEzREE7QUFDQUEsV0FBVyxDQUFYQSxzQkFBa0NtSSx5QkFBeUIsQ0FBM0RuSSxlQUEyRCxDQUEzREEsRTs7Ozs7Ozs7Ozs7QUNOQSxjQUFTSDtBQUFULGVBQXVCLFFBQXZCLGFBQVNBO0FBQVQsNERBQVNBO0FBQVQsNEJBQVNBO0FBQVQsb0NBQVNBO0FBQVQ7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUlBLE1BQU11SSxlQUFlLEdBQUd2SSxNQUFNLENBQU5BLGdCQUF4QjtBQUNBLE1BQU13SSxRQUFRLEdBQUd4SSxNQUFNLENBQU5BLG9CQUFqQjtBQUNBLE1BQU15SSxHQUFHLEdBQUd6SSxNQUFNLENBQU5BLGlCQUFaO0FBQ0EsTUFBTTBJLFdBQVcsR0FBSSxVQUFTRCxHQUFHLENBQUNFLElBQUssSUFBR0YsR0FBRyxDQUFDRyxJQUFLLEdBQUVKLFFBQVMsR0FBRUMsR0FBRyxDQUFDSSxVQUFwRTtBQUNBLE1BQU1DLFFBQVEsR0FBZDtBQUNBLE1BQU1DLEtBQUssR0FBWCxJLENBRUE7O0FBQ0EsTUFBTXhDLGFBQWEsR0FBRyx1QkFBdUI7QUFDM0MsUUFBTUQsS0FBSyxHQUFJLEdBQUUwQyxVQUFVLGlCQUFrQixHQUFFRixRQUFTLEdBQUU1QixNQUExRDtBQUNBO0FBRkY7O0FBS0EsTUFBTStCLGFBQWEsR0FBSTNDLEtBQUQsSUFBVztBQUMvQixRQUFNNEMsVUFBVSxHQUFHNUMsS0FBSyxDQUFMQSxNQUFuQixRQUFtQkEsQ0FBbkI7QUFDQSxTQUFPNEMsVUFBVSxDQUFWQSxXQUFQO0FBRkY7O0FBS0EsTUFBTTlDLG9CQUFvQixHQUFJRixTQUFELElBQWU7QUFDMUMsUUFBTWlELGNBQWMsR0FBR2pELFNBQVMsQ0FBVEEsTUFBdkIsS0FBdUJBLENBQXZCOztBQUNBLE1BQUlpRCxjQUFjLENBQWRBLFNBQUosR0FBK0I7QUFDN0JBLGtCQUFjLENBQWRBO0FBQ0EsV0FBT0EsY0FBYyxDQUFkQSxLQUFQLEtBQU9BLENBQVA7QUFDRDs7QUFDRDtBQU5GOztBQVNBLE1BQU1wQyxTQUFTLEdBQUcsTUFBTXdCLGVBQWUsQ0FBdkM7O0FBRUEsTUFBTXZCLGFBQWEsR0FBRyxNQUF0Qjs7QUFFQSxNQUFNc0IseUJBQXlCLEdBQUdjLEVBQUUsSUFBSSxVQUFVLEdBQVYsU0FBc0I7QUFDNUQsUUFBTTtBQUFFMUs7QUFBRixNQUFOO0FBQ0EsUUFBTTtBQUFFc0g7QUFBRixNQUFOO0FBQ0EsUUFBTTtBQUFFckY7QUFBRixNQUFOO0FBRUFoQyxPQUFLLEtBQUxBLE1BQUssQ0FBTEE7QUFFQSxNQUFJc0ssYUFBYSxDQUFqQixFQUFpQixDQUFqQixFQUF1QixPQUFPRyxFQUFFLFVBQVUsR0FBbkIsSUFBUyxDQUFUO0FBQ3ZCLFNBQU8sTUFBTSxDQUFiO0FBUkYsRTs7Ozs7Ozs7Ozs7QUNuQ0EsT0FBTyxJQUFQO0FBQUE7QUFBQSw0Qjs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFJQXBKLE1BQU0sQ0FBTkEsUUFBZTtBQUFBO0FBRWJxSjtBQUZhLENBQWZySixFOzs7Ozs7Ozs7OztBQ0pBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS0Esb0JBQW9CO0FBQ2xCLE1BQUksQ0FBQyxLQUFMLFFBQWtCO0FBQ2hCLFdBQU8sUUFBUSxDQUFSLEtBQWM7QUFBRUYsZUFBUyxFQUFFO0FBQWIsS0FBZCxDQUFQO0FBQ0Q7O0FBQ0QsUUFBTTtBQUFFQTtBQUFGLE1BQWdCVSxrQkFBa0IsQ0FBQyxLQUF6QyxNQUF3QyxDQUF4QztBQUNBNkIsUUFBTSxDQUFOQSxNQUFjLDJCQUEwQnZDLFNBQXhDdUM7QUFFQSxTQUFPLFFBQVEsQ0FBUixLQUFjO0FBQUV2QztBQUFGLEdBQWQsQ0FBUDtBQUNEOztBQUVELGlCQUFpQixHQUFqQixNQUEwQjtBQUN4QixRQUFNd0osYUFBYSxHQUFHQyxRQUFRLENBQVJBLEtBQXRCLElBQXNCQSxDQUF0QjtBQUNBLFNBQU9ELGFBQWEsQ0FBQyxHQUFyQixJQUFvQixDQUFwQjtBQUNEOztBQUVEdEosTUFBTSxDQUFOQSw2Qjs7Ozs7Ozs7Ozs7QUNwQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUVBLE1BQU1tSSxRQUFRLEdBQUcsSUFBSW5FLEtBQUssQ0FBVCxXQUFqQixVQUFpQixDQUFqQjs7QUFFQSxJQUFJaEUsTUFBTSxDQUFWLFVBQXFCO0FBQ25CbUksVUFBUSxDQUFSQSxhQUFzQjtBQUFFckksYUFBUyxFQUFYO0FBQWdCd0csU0FBSyxFQUFFO0FBQXZCLEdBQXRCNkI7QUFDRDs7QUFORCxxQkFRQSxRQVJBLEU7Ozs7Ozs7Ozs7O0FDQUE7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBS0EsTUFBTTtBQUFFcUI7QUFBRixJQUFrQnhKLE1BQU0sQ0FBTkEsaUJBQXhCO0FBRUEsTUFBTXlKLHdCQUF3QixHQUE5QjtBQUVBLE1BQU1DLFdBQVcsR0FBakI7O0FBRUEsTUFBTTlKLFFBQVEsR0FBRyxDQUFDLENBQUQsU0FBVyxNQUFNO0FBQ2hDLE1BQUk7QUFDRkMsVUFBTSxDQUFOQSwwQkFBa0NDLFNBQUQsSUFBZTtBQUM5QyxVQUFJO0FBQ0YsY0FBTTZKLE9BQU8sR0FBR0QsV0FBVyxDQUEzQixTQUEyQixDQUEzQjtBQUNBLGVBQU9BLFdBQVcsQ0FBbEIsU0FBa0IsQ0FBbEI7QUFDQUUsc0JBQWMsQ0FBZEEsU0FBYyxDQUFkQSxpQkFBMEM7QUFBQTtBQUFhRDtBQUFiLFNBQTFDQzs7QUFFQSx5QkFBaUI7QUFDZnZILGdCQUFNLENBQU5BLE1BQWMsb0NBQW1DdkMsU0FBakR1QztBQUNEO0FBUEgsUUFRRSxjQUFjO0FBQ2RBLGNBQU0sQ0FBTkEsTUFBYywrREFBOER2QyxTQUFVLEtBQUlnSCxLQUExRnpFO0FBQ0Q7QUFYSHhDO0FBREYsSUFjRSxjQUFjO0FBQ2R3QyxVQUFNLENBQU5BLE1BQWMsd0NBQXVDeUUsS0FBckR6RTtBQUNEO0FBakJjLEdBQWpCLHdCQUFpQixDQUFqQjs7QUFvQmUsNEJBQTRCO0FBQUE7QUFBVTNEO0FBQVYsQ0FBNUIsYUFBeUQ7QUFDdEUsUUFBTTtBQUFFUTtBQUFGLE1BQU47QUFDQVAsT0FBSyxPQUFMQSxNQUFLLENBQUxBO0FBRUFBLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7O0FBRUEsTUFBSSxDQUFDK0ssV0FBVyxDQUFoQixTQUFnQixDQUFoQixFQUE2QjtBQUMzQkEsZUFBVyxDQUFYQSxTQUFXLENBQVhBO0FBUm9FLElBV3RFOzs7QUFDQUEsYUFBVyxDQUFYQSxTQUFXLENBQVhBO0FBRUE5SixVQUFRO0FBQ1QsQzs7Ozs7Ozs7Ozs7QUM5Q0QsT0FBT08sTUFBUCxDQUFPQTtBQUFQLGlCQUF3QjtBQUFqQkEsQ0FBUDtBQUF3QixJQUF4QixXQUF3QjtBQUF4QjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2Usa0VBQWtFO0FBQy9FLFFBQU1DLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxRQUFNRSxVQUFVLEdBQWhCO0FBRUEsU0FBT0gsV0FBVyxDQUFYQSxvRUFBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNURDtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUdBQSxXQUFXLENBQVhBLG1EOzs7Ozs7Ozs7OztBQ0hBLE9BQU8sSUFBUDtBQUFBLHlCOzs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBR0FILE1BQU0sQ0FBTkEsUUFBZTtBQUNiNko7QUFEYSxDQUFmN0osRTs7Ozs7Ozs7Ozs7QUNIQTtBQUFBLHNCQUFtQixRQUFuQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBR0EsTUFBTTtBQUFFd0o7QUFBRixJQUFrQnhKLE1BQU0sQ0FBTkEsaUJBQXhCOztBQUVPLHlDQUF5QztBQUM5Q3FDLFFBQU0sQ0FBTkEsS0FBYSwrQ0FBOEN2QyxTQUEzRHVDO0FBQ0EsU0FBT3JDLE1BQU0sQ0FBTkEsMEJBQWtDLFVBQVNGLFNBQWxELEVBQU9FLENBQVA7QUFDRDs7QUFFTSxzQ0FBc0M7QUFDM0MsUUFBTTZDLFFBQVEsR0FBRyxJQUFJN0MsTUFBTSxDQUFWLFNBQXFCLFVBQVNGLFNBQTlCLElBQTJDO0FBQUVnRCxjQUFVLEVBQUU7QUFBZCxHQUEzQyxDQUFqQjs7QUFDQSxtQkFBaUI7QUFDZlQsVUFBTSxDQUFOQSxNQUFjLHVDQUFzQ3ZDLFNBQXBEdUM7QUFDRDs7QUFFRFEsVUFBUSxDQUFSQSxVQUFtQixxQkFBcUI7QUFDdEMscUJBQWlCO0FBQ2ZSLFlBQU0sQ0FBTkEsTUFBYyw2Q0FBNEMsS0FBS25ELE1BQU8sZUFBY1ksU0FBcEZ1QztBQUNEOztBQUNELFdBQU8sZUFBZSxxQkFBdEIsU0FBc0IsQ0FBdEI7QUFKRlE7QUFPQUEsVUFBUSxDQUFSQSxXQUFvQixzQkFBc0I7QUFDeEMsV0FBTyxlQUFlLHFCQUF0QixTQUFzQixDQUF0QjtBQURGQTtBQUlBQSxVQUFRLENBQVJBLGNBQXdCaUgsT0FBRCxJQUFhO0FBQ2xDRCx1QkFBbUIsWUFBWUMsT0FBTyxDQUFuQixRQUE0QkEsT0FBTyxDQUF0REQsT0FBbUIsQ0FBbkJBO0FBREZoSDtBQUdEOztBQUVjLHdCQUF3QjtBQUNyQyxTQUFPN0MsTUFBTSxDQUFOQSwwQkFBa0MsVUFBU0YsU0FBbEQsRUFBT0UsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDbENELGNBQVNBO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLHlDQUF5QztBQUN0RCxRQUFNK0osVUFBVSxHQUFJLG1CQUFrQmpLLFNBQXRDOztBQUVBLE1BQUlFLE1BQU0sQ0FBTkEsMEJBQUosVUFBSUEsQ0FBSixFQUFrRDtBQUNoRHFDLFVBQU0sQ0FBTkEsS0FBYSxpREFBZ0QwSCxVQUE3RDFIO0FBQ0EsV0FBT3JDLE1BQU0sQ0FBTkEsMEJBQVAsVUFBT0EsQ0FBUDtBQUNEO0FBQ0YsQzs7Ozs7Ozs7Ozs7QUNWRDtBQUFBLFNBQWtCLFFBQWxCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsNkNBQTZDLEdBQTdDLE1BQXNEO0FBQ25FLFFBQU07QUFBQTtBQUFhTyxtQkFBZSxFQUFFckI7QUFBOUIsTUFBeUNzQixrQkFBa0IsQ0FBQyxLQUFsRSxNQUFpRSxDQUFqRTtBQUVBLFFBQU1zRSxJQUFJLEdBQUcsS0FBSyxDQUFMLFFBQWM7QUFBQTtBQUFVaEY7QUFBVixHQUFkLENBQWI7O0FBRUEsTUFBSWdGLElBQUksSUFBSUEsSUFBSSxDQUFoQixXQUE0QjtBQUMxQixVQUFNa0YsWUFBWSxHQUFJLG1CQUFrQmxLLFNBQXhDO0FBQ0EsVUFBTStDLFFBQVEsR0FBRzdDLE1BQU0sQ0FBTkEsMEJBQWpCLFlBQWlCQSxDQUFqQjs7QUFFQSxrQkFBYztBQUNaNkMsY0FBUSxDQUFSQSxrQkFBMkIsR0FBM0JBO0FBREYsV0FFTztBQUNMUixZQUFNLENBQU5BLE1BQWMsb0RBQW1EdkMsU0FBVSxZQUFXWixNQUF0Rm1EO0FBQ0Q7QUFDRjtBQUNGLEM7Ozs7Ozs7Ozs7O0FDbkJELGNBQVM3QjtBQUFBQSxpQkFBVDtBQUFTQSxDQUFUO0FBQW1DLElBQW5DLGtCQUFtQztBQUFuQztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR0EsTUFBTXlKLG1CQUFtQixHQUFHLHdCQUF3QjtBQUVsRCxRQUFNO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLSkM7QUFMSSxNQUFOO0FBUUE3SCxRQUFNLENBQU5BLE1BQWMsK0NBQThDbkQsTUFBTyxnQkFBZVksU0FBVSxZQUFXcUYsU0FBVSxXQUFVZ0YsSUFBSyxVQUFTQyxJQUFLLFlBQVdGLEtBQXpKN0g7QUFDQTtBQVhGOztBQWNlLG1DQUFtQztBQUNoRCxRQUFNO0FBQUV2QztBQUFGLE1BQWdCVSxrQkFBa0IsQ0FBQyxLQUF6QyxNQUF3QyxDQUF4QztBQUVBLFFBQU11SixVQUFVLEdBQUksbUJBQWtCakssU0FBdEM7O0FBQ0EsTUFBSSxDQUFDRSxNQUFNLENBQU5BLDBCQUFMLFVBQUtBLENBQUwsRUFBbUQ7QUFDakQsVUFBTTZDLFFBQVEsR0FBRyxJQUFJN0MsTUFBTSxDQUFWLFNBQWpCLFVBQWlCLENBQWpCO0FBQ0E2QyxZQUFRLENBQVJBO0FBQ0FBLFlBQVEsQ0FBUkE7QUFDQUEsWUFBUSxDQUFSQTtBQUNBUixVQUFNLENBQU5BLEtBQWEsdUNBQXNDMEgsVUFBbkQxSDtBQUxGLFNBTU87QUFDTEEsVUFBTSxDQUFOQSxNQUFjLGtEQUFpRDBILFVBQS9EMUg7QUFDRDtBQUNGLEM7Ozs7Ozs7Ozs7O0FDOUJELGNBQVNyQztBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBT2UsNkNBQTZDO0FBQzFELFFBQU1JLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxRQUFNRSxVQUFVLEdBQWhCO0FBRUEsUUFBTTtBQUFBO0FBQWFDO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBQ0EsUUFBTTtBQUFFNko7QUFBRixNQUFOO0FBRUExTCxPQUFLLG1CQUFMQSxNQUFLLENBQUxBO0FBRUEyTCxVQUFRLENBQVJBLE9BQWdCO0FBQUV4SztBQUFGLEdBQWhCd0ssRUFBK0I7QUFBRXBILFFBQUksRUFBRTtBQUFFbUg7QUFBRjtBQUFSLEdBQS9CQztBQUVBLFFBQU03SixPQUFPLEdBQUc7QUFBRTRKO0FBQUYsR0FBaEI7QUFFQWhJLFFBQU0sQ0FBTkEsS0FBYSxXQUFVOUIsZUFBZ0IsK0JBQThCOEosZ0JBQWlCLGdCQUFldkssU0FBckd1QztBQUVBLFNBQU9sQyxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3hCRCxjQUFTSDtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFNZSw0Q0FBNEM7QUFDekQsUUFBTUksWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7O0FBRUEsTUFBSSxLQUFKLFFBQWlCO0FBQ2YwRSxXQUFPLEdBQUd4RSxrQkFBa0IsQ0FBQyxLQUE3QndFLE1BQTRCLENBQTVCQTtBQUNEOztBQUVELFFBQU07QUFBQTtBQUFhekU7QUFBYixNQUFOO0FBRUEsUUFBTWdLLE9BQU8sR0FBRyxRQUFRLENBQVIsUUFBaUI7QUFBRXpLO0FBQUYsR0FBakIsQ0FBaEI7QUFDQSxNQUFJLFlBQVl5SyxPQUFPLENBQVBBLHFCQUFoQixNQUFtRDtBQUVuREQsVUFBUSxDQUFSQSxPQUFnQjtBQUFFeEs7QUFBRixHQUFoQndLLEVBQStCO0FBQUVwSCxRQUFJLEVBQUU7QUFBRW1ILHNCQUFnQixFQUFFO0FBQXBCO0FBQVIsR0FBL0JDO0FBQ0EsUUFBTTdKLE9BQU8sR0FBYjtBQUVBNEIsUUFBTSxDQUFOQSxLQUFhLFdBQVU5QixlQUFnQixrREFBaURULFNBQXhGdUM7QUFFQWxDLGFBQVcsQ0FBWEE7QUFDRCxDOzs7Ozs7Ozs7OztBQzFCRCxPQUFPLElBQVAsYzs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU1BSCxNQUFNLENBQU5BLFFBQWU7QUFBQTtBQUFBO0FBQUE7QUFJYndLO0FBSmEsQ0FBZnhLLEU7Ozs7Ozs7Ozs7O0FDTkE7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UsZ0NBQWdDO0FBQUV0QjtBQUFGLENBQWhDLGFBQXFEO0FBQ2xFQyxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxPQUFMQSxNQUFLLENBQUxBO0FBRUEsU0FBTzhMLFlBQVksWUFBbkIsSUFBbUIsQ0FBbkI7QUFDRCxDOzs7Ozs7Ozs7OztBQ1JEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLGtDQUFrQztBQUFFL0w7QUFBRixDQUFsQyxhQUF1RDtBQUNwRUMsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUVBLFNBQU84TCxZQUFZLFlBQW5CLElBQW1CLENBQW5CO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNSRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSwwQkFBMEI7QUFBRS9MO0FBQUYsQ0FBMUIsYUFBK0M7QUFDNUQsUUFBTTtBQUFFZ007QUFBRixNQUFOO0FBRUEvTCxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxLQUFLLENBQUxBO0FBRUEsUUFBTWdNLFVBQVUsR0FBaEI7QUFFQUQsT0FBSyxDQUFMQSxRQUFlRSxJQUFELElBQVU7QUFDdEJELGNBQVUsQ0FBVkEsS0FBZ0JGLFlBQVksWUFBNUJFLElBQTRCLENBQTVCQTtBQURGRDtBQUlBO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNoQkQsY0FBUzFLO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU1lLG1DQUFtQztBQUNoRCxRQUFNSSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBN0IsT0FBSyxXQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThCLE9BQU8sR0FBRztBQUNkb0ssaUJBQWEsRUFBRyxHQUFFdEssZUFBZ0IsSUFBR3VLLElBQUksQ0FBSkEsS0FEdkI7QUFFZEMsT0FBRyxFQUZXO0FBR2Q1RyxTQUFLLEVBQUUsQ0FBQzZHLFFBQVEsQ0FIRixNQUdQLENBSE87QUFJZEMsVUFBTSxFQUpRO0FBS2RsRyxRQUFJLEVBQUVpRyxRQUFRLENBQUNqRztBQUxELEdBQWhCO0FBUUEsU0FBTzVFLFdBQVcsQ0FBWEEsb0VBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDeEJELGNBQVNIO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSwyQkFBMkI7QUFDeEMsUUFBTUksWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU07QUFBQTtBQUFhRztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBLFFBQU0yRSxTQUFTLEdBQWY7QUFFQSxRQUFNMUUsT0FBTyxHQUFHLENBQ2Q7QUFDQTtBQUZjLEdBQWhCO0FBS0EsU0FBT04sV0FBVyxDQUFYQSxtRUFBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNqQkQ7QUFBQSxTQUFpQixFQUFqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2UsdUNBQXVDO0FBQ3BEeEIsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTztBQUNWZ0MsTUFBRSxFQUFFc0IsS0FBSyxDQUFMQSxNQURNLE1BQ05BLENBRE07QUFFVmlKLFVBQU0sRUFBRWpKLEtBQUssQ0FBTEEsTUFGRSxNQUVGQSxDQUZFO0FBR1Y0SSxpQkFBYSxFQUFFNUksS0FBSyxDQUFMQSxNQUhMLE1BR0tBLENBSEw7QUFJVjhDLFFBQUksRUFKTTtBQUtWa0csVUFBTSxFQUxJO0FBTVZFLGFBQVMsRUFOQztBQU9WaEgsU0FBSyxFQVBLO0FBUVY0RyxPQUFHLEVBQUU5SSxLQUFLLENBQUxBO0FBUkssR0FBUCxDQUFMdEQ7QUFXQSxRQUFNeU0sWUFBWSxHQUFHO0FBQUE7QUFFbkJGLFVBQU0sRUFBRU4sSUFBSSxDQUFKQSxVQUFlQSxJQUFJLENBRlI7QUFHbkI3RixRQUFJLEVBQUU2RixJQUFJLENBSFM7QUFJbkJLLFVBQU0sRUFBRUwsSUFBSSxDQUpPO0FBS25CekcsU0FBSyxFQUFFeUcsSUFBSSxDQUFKQSxVQUFlUyxDQUFDLElBQUlBLENBQUMsQ0FMVCxFQUtaVCxDQUxZO0FBTW5CTyxhQUFTLEVBQUVQLElBQUksQ0FBSkEsVUFBZWpLO0FBTlAsR0FBckI7QUFTQSxRQUFNOEIsUUFBUSxHQUFHO0FBQ2Z5SSxVQUFNLEVBQUVFLFlBQVksQ0FETDtBQUVmdEw7QUFGZSxHQUFqQjtBQUtBLFFBQU1tRCxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFMEIsSUFBSSxlQUFlO0FBQUUwRyxVQUFJLEVBQUU7QUFBUixLQUFmO0FBREssR0FBakI7O0FBSUEsUUFBTWxKLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyxvQ0FBbUNDLEdBQXhELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxVQUFNO0FBQUVFO0FBQUYsUUFBTjs7QUFFQSxvQkFBZ0I7QUFDZCxhQUFPRixNQUFNLENBQU5BLEtBQWEseUJBQXdCdUksSUFBSSxDQUFDN0YsSUFBSyxjQUFhakYsU0FBbkUsRUFBT3VDLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLEtBQWEsNEJBQTJCdUksSUFBSSxDQUFDN0YsSUFBSyxjQUFhakYsU0FBdEUsRUFBT3VDLENBQVA7QUFYRjs7QUFjQSxTQUFPa0osU0FBUyxDQUFUQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNuREQsT0FBT0EsTUFBUCxDQUFPQTtBQUFQLFNBQXNCO0FBQWZBLENBQVA7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsbUNBQW1DO0FBQ2hEQyxtQkFBaUIsQ0FBakJBLFNBQWlCLENBQWpCQTtBQUNBLFNBQU8sU0FBUyxDQUFULE9BQWlCO0FBQUUxTDtBQUFGLEdBQWpCLEVBQWdDLE1BQU07QUFDM0N1QyxVQUFNLENBQU5BLEtBQWEsc0JBQXFCdkMsU0FBbEN1QztBQURGLEdBQU8sQ0FBUDtBQUdELEM7Ozs7Ozs7Ozs7O0FDVEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFNQWxDLFdBQVcsQ0FBWEEsMkJBQXVDdUMseUJBQXlCLENBQWhFdkMsZ0JBQWdFLENBQWhFQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQSxpRDs7Ozs7Ozs7Ozs7QUNUQSxPQUFPLElBQVA7QUFBQTtBQUFBO0FBQUEsNEI7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBSUFILE1BQU0sQ0FBTkEsUUFBZTtBQUFBO0FBRWJ5TDtBQUZhLENBQWZ6TCxFOzs7Ozs7Ozs7OztBQ0pBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBTUEscUJBQXFCO0FBQ25CLE1BQUksQ0FBQyxLQUFMLFFBQWtCO0FBQ2hCLFdBQU8sU0FBUyxDQUFULEtBQWU7QUFBRUYsZUFBUyxFQUFFO0FBQWIsS0FBZixDQUFQO0FBQ0Q7O0FBQ0QsUUFBTTtBQUFBO0FBQWFTO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUEsUUFBTWtMLFdBQVcsR0FBRzFMLE1BQU0sQ0FBTkEsZ0JBQXBCO0FBQ0EsUUFBTTJMLGdCQUFnQixHQUFHRCxXQUFXLENBQXBDO0FBRUFySixRQUFNLENBQU5BLE1BQWMsNkJBQTRCdkMsU0FBVSxJQUFHUyxlQUF2RDhCO0FBRUEsU0FBTyxTQUFTLENBQVQsS0FBZTtBQUNwQnVELE9BQUcsRUFBRSxDQUNIO0FBQUE7QUFBYXFGLFlBQU0sRUFBRVU7QUFBckIsS0FERyxFQUVIO0FBQUE7QUFBYXhILFdBQUssRUFBRTtBQUFFeUgsWUFBSSxFQUFFO0FBQVI7QUFBcEIsS0FGRztBQURlLEdBQWYsQ0FBUDtBQU9EOztBQUVELGlCQUFpQixHQUFqQixNQUEwQjtBQUN4QixRQUFNQyxjQUFjLEdBQUdDLFNBQVMsQ0FBVEEsS0FBdkIsSUFBdUJBLENBQXZCO0FBQ0EsU0FBT0QsY0FBYyxDQUFDLEdBQXRCLElBQXFCLENBQXJCO0FBQ0Q7O0FBRUQ3TCxNQUFNLENBQU5BLCtCOzs7Ozs7Ozs7OztBQy9CQSxjQUFTQTtBQUFULG9CQUF1QixRQUF2QixrQkFBU0E7QUFBVDtBQUFTQSxDQUFUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUVBLE1BQU11TCxTQUFTLEdBQUcsSUFBSXZILEtBQUssQ0FBVCxXQUFsQixZQUFrQixDQUFsQjs7QUFFQSxJQUFJaEUsTUFBTSxDQUFWLFVBQXFCO0FBQ25CdUwsV0FBUyxDQUFUQSxhQUF1QjtBQUNyQnpMLGFBQVMsRUFEWTtBQUNQb0wsVUFBTSxFQURDO0FBQ0lELFVBQU0sRUFEVjtBQUNlOUcsU0FBSyxFQUFFO0FBRHRCLEdBQXZCb0g7QUFHRDs7QUFSRCxxQkFVQSxTQVZBO0FBWUEsTUFBTVEsV0FBVyxHQUFHO0FBQ2xCQyxRQUFNLEVBRFk7QUFFbEJDLFNBQU8sRUFBRTtBQUZTLENBQXBCO0FBS08sTUFBTUMsa0JBQWtCLEdBQUdILFdBQVcsQ0FBdEM7QUFDQSxNQUFNSSxtQkFBbUIsR0FBR0osV0FBVyxDQUF2QyxROzs7Ozs7Ozs7OztBQ2xCUDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSxnQ0FBZ0M7QUFBQTtBQUFVck47QUFBVixDQUFoQyxFQUFrRDtBQUMvRCxRQUFNO0FBQUVvQjtBQUFGLE1BQU47QUFDQSxRQUFNO0FBQUVvTDtBQUFGLE1BQU47QUFFQXZNLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFFQSxTQUFPNk0saUJBQWlCLFlBQXhCLE1BQXdCLENBQXhCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNYRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSxxQ0FBcUM7QUFBRTlNO0FBQUYsQ0FBckMsYUFBMEQ7QUFDdkUsUUFBTTtBQUFBO0FBQVVxTTtBQUFWLE1BQU47QUFFQXBNLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxNQUFMQSxNQUFLLENBQUxBO0FBRUEsU0FBT3lOLGVBQWUsb0JBQXRCLEdBQXNCLENBQXRCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNYRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UsOEJBQThCO0FBQUUxTjtBQUFGLENBQTlCLGFBQW1EO0FBQ2hFLFFBQU07QUFBQTtBQUFBO0FBQWdCcU07QUFBaEIsTUFBTjtBQUVBcE0sT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLE9BQU9zRCxLQUFLLENBQUxBLE1BQVp0RCxLQUFZc0QsQ0FBUCxDQUFMdEQ7QUFDQUEsT0FBSyxNQUFNc0QsS0FBSyxDQUFMQSxNQUFYdEQsS0FBV3NELENBQU4sQ0FBTHREO0FBRUEsUUFBTTBOLFNBQVMsR0FBZjtBQUVBLEdBQUNDLElBQUksSUFBTCxhQUF1QkMsQ0FBRCxJQUFPO0FBQzNCRixhQUFTLENBQVRBLEtBQWVELGVBQWUsb0JBQTlCQyxDQUE4QixDQUE5QkE7QUFERjtBQUlBO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNsQkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UsMEJBQTBCO0FBQUUzTjtBQUFGLENBQTFCLGFBQStDO0FBQzVELFFBQU07QUFBQTtBQUFVUTtBQUFWLE1BQU47QUFFQVAsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFFQTZOLGFBQVcsb0JBQVhBLE1BQVcsQ0FBWEE7QUFDRCxDOzs7Ozs7Ozs7OztBQ1hELGNBQVN4TTtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsa0NBQWtDO0FBQy9DLFFBQU1JLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxRQUFNRSxVQUFVLEdBQWhCO0FBQ0EsUUFBTW9MLFdBQVcsR0FBRzFMLE1BQU0sQ0FBTkEsZ0JBQXBCO0FBQ0EsUUFBTXlNLG9CQUFvQixHQUFHZixXQUFXLENBQXhDO0FBRUEsUUFBTTtBQUFBO0FBQWFuTDtBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBLFFBQU1DLE9BQU8sR0FBRztBQUNkeUssVUFBTSxFQUFFdUI7QUFETSxHQUFoQjtBQUlBLFNBQU90TSxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ2xCRCxjQUFTSDtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU1BLE1BQU0wTSxhQUFhLEdBQUc7QUFDcEIsT0FEb0I7QUFFcEIsT0FGb0I7QUFHcEIsT0FIb0I7QUFJcEIsT0FBSztBQUplLENBQXRCOztBQU9BLE1BQU1DLFlBQVksR0FBSTdDLE9BQUQsSUFBYTtBQUNoQyxNQUFJOEMsYUFBYSxHQUFHOUMsT0FBTyxJQUEzQjtBQUNBOEMsZUFBYSxHQUFHQSxhQUFhLENBRkcsSUFFaEJBLEVBQWhCQSxDQUZnQyxDQUloQzs7QUFDQUEsZUFBYSxHQUFHQSxhQUFhLENBQWJBLDJCQUxnQixNQUtoQkEsQ0FBaEJBLENBTGdDLENBT2hDOztBQUNBQSxlQUFhLEdBQUdBLGFBQWEsQ0FBYkEsbUJBQWlDQyxDQUFDLElBQUlILGFBQWEsQ0FSbkMsQ0FRbUMsQ0FBbkRFLENBQWhCQSxDQVJnQyxDQVVoQzs7QUFDQUEsZUFBYSxHQUFHQSxhQUFhLENBQWJBLHFCQUFoQkEsa0NBQWdCQSxDQUFoQkE7QUFFQTtBQWJGOztBQWdCZSwyQ0FBMkM7QUFDeEQsUUFBTXhNLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxRQUFNRSxVQUFVLEdBQWhCO0FBRUEsUUFBTTtBQUFBO0FBQWFDO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUE3QixPQUFLLFVBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNaU8sYUFBYSxHQUFHRCxZQUFZLENBQUM3QyxPQUFPLENBQTFDLE9BQWtDLENBQWxDO0FBRUFBLFNBQU8sQ0FBUEE7QUFFQSxRQUFNckosT0FBTyxHQUFHO0FBQ2RzSyxPQUFHLEVBRFc7QUFFZEc7QUFGYyxHQUFoQjtBQUtBLFNBQU8vSyxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ2hERCxjQUFTSDtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLGlDQUFpQztBQUM5QyxRQUFNSSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUNBLFFBQU1vTCxXQUFXLEdBQUcxTCxNQUFNLENBQU5BLGdCQUFwQjtBQUNBLFFBQU15TSxvQkFBb0IsR0FBR2YsV0FBVyxDQUF4QztBQUNBLFFBQU07QUFBQTtBQUFhbkw7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTdCLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04QixPQUFPLEdBQUc7QUFDZHlLLFVBQU0sRUFBRUEsTUFBTSxJQUFJdUI7QUFESixHQUFoQjtBQUlBLFNBQU90TSxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3BCRCxjQUFTMk07QUFBVDtBQUFTQSxDQUFUO0FBQTRCLElBQTVCLFdBQTRCO0FBQTVCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsMEJBQTBCO0FBQ3ZDLFFBQU07QUFBQTtBQUFhdk07QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQSxRQUFNdU0sVUFBVSxHQUFHLFdBQVcsQ0FBWCxRQUFvQjtBQUFBO0FBRXJDN04sVUFBTSxFQUFFcUI7QUFGNkIsR0FBcEIsQ0FBbkI7O0FBS0Esa0JBQWdCO0FBQ2R5TSxjQUFVLDZCQUFWQSxJQUFVLENBQVZBO0FBQ0Q7QUFDRixDOzs7Ozs7Ozs7Ozs7Ozs7QUNmRDtBQUFBLFNBQWlCLEVBQWpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBTUEsTUFBTUwsWUFBWSxHQUFJN0MsT0FBRCxJQUFhO0FBQ2hDLE1BQUk4QyxhQUFhLEdBQUc5QyxPQUFPLElBREssRUFDaEMsQ0FEZ0MsQ0FHaEM7O0FBQ0E4QyxlQUFhLEdBQUdBLGFBQWEsQ0FBYkEseUNBQXdELEtBQUlLLFVBSjVDLElBSWhCTCxDQUFoQkEsQ0FKZ0MsQ0FNaEM7O0FBQ0FBLGVBQWEsR0FBR0EsYUFBYSxDQUFiQSwrQkFBaEJBLDRCQUFnQkEsQ0FBaEJBO0FBQ0FBLGVBQWEsR0FBR0EsYUFBYSxDQUFiQSw4QkFBaEJBLDJCQUFnQkEsQ0FBaEJBO0FBRUE7QUFWRjs7QUFhZSxpREFBaUQ7QUFDOURqTyxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssTUFBTTtBQUNUZ0MsTUFBRSxFQUFFc0IsS0FBSyxDQUFMQSxNQURLLE1BQ0xBLENBREs7QUFFVGlMLGFBQVMsRUFGQTtBQUdUQyxVQUFNLEVBSEc7QUFJVHRMLFNBQUssRUFKSTtBQUtUaUksV0FBTyxFQUxFO0FBTVRlLGlCQUFhLEVBQUU1SSxLQUFLLENBQUxBO0FBTk4sR0FBTixDQUFMdEQ7QUFTQSxRQUFNeU8sV0FBVyxtQ0FBRyxHQUFIO0FBQUcsYUFBSDtBQUFHLFVBQUg7QUFJZnRELFdBQU8sRUFBRTZDLFlBQVksQ0FBQzVCLEdBQUcsQ0FKUCxPQUlHLENBSk47QUFLZm9DLFVBQU0sRUFBRXBDLEdBQUcsQ0FBSEEsT0FBV3BLO0FBTEosSUFBakI7QUFRQSxRQUFNOEIsUUFBUSxHQUFHO0FBQUE7QUFBQTtBQUdmOUIsTUFBRSxFQUFFb0ssR0FBRyxDQUFDcEs7QUFITyxHQUFqQjtBQU1BLFFBQU1zQyxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFMEIsSUFBSSxjQUFjO0FBQUUwRyxVQUFJLEVBQUU7QUFBUixLQUFkO0FBREssR0FBakI7O0FBSUEsUUFBTWxKLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyx3Q0FBdUNDLEdBQTVELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxVQUFNO0FBQUVFO0FBQUYsUUFBTjs7QUFFQSxvQkFBZ0I7QUFDZCxhQUFPRixNQUFNLENBQU5BLEtBQWEsOEJBQTZCMEksR0FBRyxDQUFDcEssRUFBRyxXQUFVdUssTUFBTyxjQUFhcEwsU0FBdEYsRUFBT3VDLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLEtBQWEsaUNBQWdDMEksR0FBRyxDQUFDcEssRUFBRyxXQUFVdUssTUFBTyxjQUFhcEwsU0FBekYsRUFBT3VDLENBQVA7QUFYRjs7QUFjQSxTQUFPZ0wsWUFBWSxDQUFaQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNoRUQsY0FBU0E7QUFBVDtBQUFTQSxDQUFUO0FBQTZCLElBQTdCLFlBQTZCO0FBQTdCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsOENBQThDO0FBQzNELFFBQU0zQixXQUFXLEdBQUcxTCxNQUFNLENBQU5BLGdCQUFwQjtBQUNBLFFBQU1zTixxQkFBcUIsR0FBRzVCLFdBQVcsQ0FBekM7QUFDQSxRQUFNZSxvQkFBb0IsR0FBR2YsV0FBVyxDQUF4QztBQUNBLFFBQU02QixrQkFBa0IsR0FBRzdCLFdBQVcsQ0FBWEEscUJBQTNCOztBQUVBLGNBQVk7QUFDVjJCLGdCQUFZLENBQVpBLE9BQW9CO0FBQUE7QUFBYW5DO0FBQWIsS0FBcEJtQyxFQUEyQyxNQUFNO0FBQy9DaEwsWUFBTSxDQUFOQSxLQUFhLHlCQUF3QnZDLFNBQVUsS0FBSW9MLE1BQW5EN0k7QUFDQSxZQUFNbUwsUUFBUSxHQUFHO0FBQ2YzTCxhQUFLLEVBRFU7QUFFZnFMLGlCQUFTLEVBQUVwQyxJQUFJLENBRkEsR0FFSkEsRUFGSTtBQUdmRCxxQkFBYSxFQUFHLEdBQUV5QyxxQkFBc0IsSUFBR3hDLElBQUksQ0FBSkEsS0FINUI7QUFJZnFDLGNBQU0sRUFBRTtBQUNOeE0sWUFBRSxFQURJO0FBRU5vRSxjQUFJLEVBQUU7QUFGQSxTQUpPO0FBUWYrRSxlQUFPLEVBQUV5RDtBQVJNLE9BQWpCO0FBVUFuQixxQkFBZSxrQ0FBZkEsUUFBZSxDQUFmQTtBQVpGaUI7QUFjQTtBQUNEOztBQUVELGlCQUFlO0FBQ2IsV0FBTyxZQUFZLENBQVosT0FBb0I7QUFBQTtBQUFhbkMsWUFBTSxFQUFFO0FBQUV1QyxXQUFHLEVBQUVoQjtBQUFQO0FBQXJCLEtBQXBCLEVBQTBFLE1BQU07QUFDckZwSyxZQUFNLENBQU5BLEtBQWEseUJBQXdCdkMsU0FBckN1QztBQURGLEtBQU8sQ0FBUDtBQUdEOztBQUVELFNBQU8sWUFBWSxDQUFaLE9BQW9CO0FBQUU2SSxVQUFNLEVBQUU7QUFBRXVDLFNBQUcsRUFBRWhCO0FBQVA7QUFBVixHQUFwQixFQUErRCxNQUFNO0FBQzFFcEssVUFBTSxDQUFOQTtBQURGLEdBQU8sQ0FBUDtBQUdELEM7Ozs7Ozs7Ozs7O0FDckNEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBTUEsTUFBTXFMLGNBQWMsR0FBcEI7O0FBRWUsZ0RBQWdEO0FBQzdEL08sT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUVmdkQ7QUFGZSxHQUFqQjtBQUtBLFFBQU00RixJQUFJLEdBQUc2SSxLQUFLLENBQUxBLFFBQWIsUUFBYUEsQ0FBYjtBQUVBLFFBQU1DLEdBQUcsR0FBRztBQUFBO0FBQUE7QUFHVjdJLFFBQUksRUFBRUQsSUFBSSxDQUhBO0FBSVYrSSxjQUFVLEVBSkE7QUFLVm5JLFFBQUksRUFBRVosSUFBSSxDQUxBO0FBTVZxRixRQUFJLEVBQUc7QUFORyxHQUFaO0FBU0EsUUFBTTJELFVBQVUsR0FBRyxXQUFXLENBQVgsa0JBQThCO0FBQy9DckksVUFBTSxFQUFFO0FBQ04wRSxVQUFJLEVBQUU7QUFEQTtBQUR1QyxHQUE5QixDQUFuQjs7QUFNQSxrQkFBZ0I7QUFDZCxRQUFJeUQsR0FBRyxDQUFIQSxPQUFXRSxVQUFVLENBQXJCRixRQUE4QkYsY0FBYyxHQUFoRCxLQUF3RDtBQUN6RDs7QUFFRCxRQUFNdEwsRUFBRSxHQUFJRSxHQUFELElBQVM7QUFDbEIsYUFBUztBQUNQLGFBQU9ELE1BQU0sQ0FBTkEsTUFBYyxrQ0FBaUNDLEdBQXRELEVBQU9ELENBQVA7QUFDRDs7QUFFRHJDLFVBQU0sQ0FBTkEsV0FBa0IsTUFBTTtBQUN0QmdOLGdCQUFVLFlBQVZBLE1BQVUsQ0FBVkE7QUFERmhOO0FBR0EsV0FBT3FDLE1BQU0sQ0FBTkEsTUFBYyx1Q0FBc0NuRCxNQUFPLGFBQVlnTSxNQUE5RSxHQUFPN0ksQ0FBUDtBQVJGOztBQVdBLFNBQU95SyxXQUFXLENBQVhBLHNCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ2xERDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsdUNBQXVDaUIsZ0JBQWdCLEdBQXZELE9BQWlFO0FBQzlFcFAsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLG1CQUFMQSxPQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUFBO0FBRWZ2RDtBQUZlLEdBQWpCO0FBS0EsUUFBTTRGLElBQUksR0FBR2dJLFdBQVcsQ0FBWEEsUUFBYixRQUFhQSxDQUFiO0FBQ0EsUUFBTWtCLFdBQVcsR0FBRyw2QkFBOEIsSUFBRCxJQUFDLEtBQWNsSixJQUFJLENBQW5CLElBQUMsR0FBbEQ7QUFDQSxtQkFBaUI7O0FBRWpCLFFBQU0xQyxFQUFFLEdBQUlFLEdBQUQsSUFBUztBQUNsQixhQUFTO0FBQ1AsYUFBT0QsTUFBTSxDQUFOQSxNQUFjLGFBQVluRCxNQUFPLDRCQUEyQm9ELEdBQW5FLEVBQU9ELENBQVA7QUFDRDs7QUFDRCxXQUFPQSxNQUFNLENBQU5BLE1BQWMscUNBQW9DbkQsTUFBekQsRUFBT21ELENBQVA7QUFKRjs7QUFPQXlLLGFBQVcsQ0FBWEE7QUFDRCxDOzs7Ozs7Ozs7OztBQzFCRDtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFPQTNNLFdBQVcsQ0FBWEEsOEJBQTBDdUMseUJBQXlCLENBQW5FdkMsb0JBQW1FLENBQW5FQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBLHlDOzs7Ozs7Ozs7OztBQ1hBLE9BQU8sSUFBUDtBQUFBO0FBQUEsNEI7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFNQUgsTUFBTSxDQUFOQSxRQUFlO0FBQUE7QUFBQTtBQUFBO0FBSWJpTztBQUphLENBQWZqTyxFOzs7Ozs7Ozs7OztBQ05BO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU1BLGdDQUFnQztBQUM5QixNQUFJLENBQUMsS0FBTCxRQUFrQjtBQUNoQixXQUFPLFlBQVksQ0FBWixLQUFrQjtBQUFFRixlQUFTLEVBQUU7QUFBYixLQUFsQixDQUFQO0FBQ0Q7O0FBQ0QsUUFBTTtBQUFBO0FBQWFTO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUEsUUFBTWtMLFdBQVcsR0FBRzFMLE1BQU0sQ0FBTkEsZ0JBQXBCO0FBQ0EsUUFBTXlNLG9CQUFvQixHQUFHZixXQUFXLENBQXhDO0FBRUFySixRQUFNLENBQU5BLE1BQWMsaUNBQWdDdkMsU0FBVSxJQUFHUyxlQUEzRDhCO0FBRUEsU0FBTyxZQUFZLENBQVosS0FBa0I7QUFDdkJ1RCxPQUFHLEVBQUUsQ0FDSDtBQUFBO0FBQWFzRixZQUFNLEVBQUU7QUFBRXVDLFdBQUcsRUFBRWhCO0FBQVA7QUFBckIsS0FERyxFQUVIO0FBQUV2QixZQUFNLEVBQUU7QUFBRWdELFdBQUcsRUFBRUM7QUFBUDtBQUFWLEtBRkc7QUFEa0IsR0FBbEIsQ0FBUDtBQU1EOztBQUVELGlCQUFpQixHQUFqQixNQUEwQjtBQUN4QixRQUFNdEMsY0FBYyxHQUFHdUMsWUFBWSxDQUFaQSxLQUF2QixJQUF1QkEsQ0FBdkI7QUFDQSxTQUFPdkMsY0FBYyxDQUFDLEdBQXRCLElBQXFCLENBQXJCO0FBQ0Q7O0FBRUQ3TCxNQUFNLENBQU5BOztBQUVBLHVCQUF1QjtBQUNyQixNQUFJLENBQUMsS0FBTCxRQUFrQjtBQUNoQixXQUFPLFdBQVcsQ0FBWCxLQUFpQjtBQUFFRixlQUFTLEVBQUU7QUFBYixLQUFqQixDQUFQO0FBQ0Q7O0FBRUQsUUFBTTtBQUFBO0FBQWFTO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUE2QixRQUFNLENBQU5BLE1BQWMsK0JBQThCdkMsU0FBVSxJQUFHUyxlQUF6RDhCO0FBRUEsU0FBTyxXQUFXLENBQVgsS0FBaUI7QUFBRXZDO0FBQUYsR0FBakIsQ0FBUDtBQUNEOztBQUVELDJCQUEyQixHQUEzQixNQUFvQztBQUNsQyxRQUFNdU8sZ0JBQWdCLEdBQUdDLFdBQVcsQ0FBWEEsS0FBekIsSUFBeUJBLENBQXpCO0FBQ0EsU0FBT0QsZ0JBQWdCLENBQUMsR0FBeEIsSUFBdUIsQ0FBdkI7QUFDRDs7QUFFRHJPLE1BQU0sQ0FBTkEsMkM7Ozs7Ozs7Ozs7O0FDakRBLGNBQVNBO0FBQVQsY0FBdUIsUUFBdkIsWUFBU0E7QUFBVDtBQUFTQSxDQUFUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUVBLE1BQU1xTixZQUFZLEdBQUcsSUFBSXJKLEtBQUssQ0FBVCxXQUFyQixnQkFBcUIsQ0FBckI7QUFDQSxNQUFNOEksV0FBVyxHQUFHLElBQUk5SSxLQUFLLENBQVQsV0FBcEIsY0FBb0IsQ0FBcEI7O0FBRUEsSUFBSWhFLE1BQU0sQ0FBVixVQUFxQjtBQUNuQnFOLGNBQVksQ0FBWkEsYUFBMEI7QUFBRXZOLGFBQVMsRUFBWDtBQUFnQm9MLFVBQU0sRUFBRTtBQUF4QixHQUExQm1DOztBQUNBUCxhQUFXLENBQVhBLGFBQXlCO0FBQUVoTixhQUFTLEVBQVg7QUFBZ0IrTixjQUFVLEVBQUU7QUFBNUIsR0FBekJmO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNSRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSw2QkFBNkI7QUFBRXBPO0FBQUYsQ0FBN0IsYUFBa0Q7QUFDL0QsUUFBTTtBQUFBO0FBQWM2UDtBQUFkLE1BQU47QUFDQTVQLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGFBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxTQUFMQSxLQUFLLENBQUxBO0FBRUEsU0FBTzRQLE1BQU0sQ0FBTkEsUUFBZUMsS0FBSyxJQUFJQyxjQUFjLFlBQVlELEtBQUssQ0FBakIsT0FBeUJBLEtBQUssQ0FBOUIsUUFBN0MsVUFBNkMsQ0FBdENELENBQVA7QUFDRCxDOzs7Ozs7Ozs7Ozs7Ozs7QUNWRCxPQUFPRyxNQUFQLENBQU9BO0FBQVAsV0FBdUIsTUFBdkI7QUFBT0EsQ0FBUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFLQSxNQUFNQyxVQUFVLEdBQUcsc0tBQW5CLFNBQW1CLENBQW5COztBQU1lLHdDQUF3QztBQUFFalE7QUFBRixDQUF4QyxhQUE2RDtBQUMxRSxRQUFNO0FBQUU2UDtBQUFGLE1BQU47QUFDQTVQLE9BQUssU0FBTEEsS0FBSyxDQUFMQTtBQUNBQSxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7O0FBRUEsUUFBTXlELEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyxvQ0FBbUNDLEdBQXhELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxVQUFNO0FBQUVFO0FBQUYsUUFBTjs7QUFDQSxvQkFBZ0I7QUFDZCxhQUFPRixNQUFNLENBQU5BLEtBQWEsNEJBQTJCdkMsU0FBL0MsRUFBT3VDLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLEtBQWEsK0JBQThCdkMsU0FBbEQsRUFBT3VDLENBQVA7QUFWRjs7QUFhQSxTQUFPLE1BQU0sQ0FBTixJQUFXbU0sS0FBSyxJQUFJLFVBQVUsQ0FBVixPQUFrQjtBQUFBO0FBRTNDSSxTQUFLLEVBQUVKLEtBQUssQ0FBQ0k7QUFGOEIsR0FBbEI7QUFJekJDLFlBQVEsRUFEUCxLQUh3QjtBQUt6QkMsVUFBTSxFQUZMO0FBSHdCLEtBR3hCLEtBSHdCO0FBR3hCLGFBSHdCO0FBUXpCQyxhQUFTLEVBQUUsV0FMVixPQUtVLEVBUmM7QUFTekJsTixTQUFLLEVBQUU4TSxVQUFVLENBQUNELFVBQVUsQ0FBQ0YsS0FBSyxDQUFoQkUsS0FBVSxDQUFWQSxHQUEwQkMsVUFBVSxDQUFyQztBQVRRLE1BQTNCLEVBQTJCLENBQXBCLENBQVA7QUFXRCxDOzs7Ozs7Ozs7OztBQ3hDRCxjQUFTM087QUFBVCxXQUF1QixNQUF2QjtBQUFTQSxDQUFUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFNQSxNQUFNSSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsTUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsTUFBTUUsVUFBVSxHQUFoQjs7QUFFZSwyQ0FBMkM7QUFDeEQsUUFBTTtBQUFBO0FBQWFDO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUE3QixPQUFLLFNBQUxBLEtBQUssQ0FBTEE7QUFDQSxRQUFNcVEsWUFBWSxHQUFHLE1BQU0sQ0FBTixJQUFXUixLQUFLLEtBQUs7QUFBQTtBQUFVQSxTQUFLLEVBQUVBLEtBQUssQ0FBQ0k7QUFBdkIsR0FBTCxDQUFoQixDQUFyQjtBQUVBLFFBQU1uTyxPQUFPLEdBQUc7QUFDZHdPLGNBQVUsRUFESTtBQUVkVixVQUFNLEVBQUVTO0FBRk0sR0FBaEI7QUFLQTNNLFFBQU0sQ0FBTkEsS0FBYSxRQUFPOUIsZUFBZ0IsSUFBR0ssTUFBTyxXQUFVc08sSUFBSSxDQUFKQSx1QkFBeEQ3TTtBQUVBLFNBQU9sQyxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3hCRCxjQUFTSDtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU1BLE1BQU1JLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxNQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxNQUFNRSxVQUFVLEdBQWhCOztBQUVlLHVDQUF1QztBQUNwRCxRQUFNO0FBQUE7QUFBYUM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTdCLE9BQUssYUFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04QixPQUFPLEdBQUc7QUFDZDBPLFNBQUssRUFEUztBQUVkQyxVQUFNLEVBQUVDO0FBRk0sR0FBaEI7QUFLQWhOLFFBQU0sQ0FBTkEsS0FBYSxRQUFPOUIsZUFBZ0IsMkJBQTBCOE8sVUFBOURoTjtBQUVBLFNBQU9sQyxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3ZCRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFJQSxNQUFNbVAsa0JBQWtCLEdBQXhCO0FBQ0EsTUFBTUMsaUJBQWlCLEdBQXZCOztBQUNlLGtEQUFrRE4sVUFBVSxHQUE1RCxNQUFxRTtBQUNsRnRRLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFFBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUFBO0FBRWZtTTtBQUZlLEdBQWpCO0FBS0EsUUFBTTNMLFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFDSjJMLGNBQVEsRUFBRWpPLE1BQU0sS0FEWjtBQUVKa08sWUFBTSxFQUFFbE8sTUFBTSxLQUZWO0FBR0pxTztBQUhJO0FBRFMsR0FBakI7O0FBT0EsUUFBTTdNLEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUCxhQUFPRCxNQUFNLENBQU5BLE1BQWMsbUJBQWtCekIsTUFBTyxTQUFRZ08sS0FBTSxLQUFJdE0sR0FBaEUsRUFBT0QsQ0FBUDtBQUNEOztBQUVELFdBQU9BLE1BQU0sQ0FBTkEsS0FBYSxrQkFBaUJ6QixNQUFPLFNBQVFnTyxLQUFNLFlBQVc5TyxTQUFyRSxFQUFPdUMsQ0FBUDtBQUxGOztBQVFBLFNBQU9tTixVQUFVLENBQVZBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ2hDRDtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBS0FyUCxXQUFXLENBQVhBLHFDQUFpRHVDLHlCQUF5QixDQUExRXZDLDhCQUEwRSxDQUExRUE7QUFDQUEsV0FBVyxDQUFYQSxrQ0FBOEN1Qyx5QkFBeUIsQ0FBdkV2QyxtQkFBdUUsQ0FBdkVBLEU7Ozs7Ozs7Ozs7O0FDTkEsT0FBTyxJQUFQO0FBQUE7QUFBQSw0Qjs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFJQUgsTUFBTSxDQUFOQSxRQUFlO0FBQUE7QUFFYnlQO0FBRmEsQ0FBZnpQLEU7Ozs7Ozs7Ozs7O0FDSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLQSxzQkFBc0I7QUFDcEIsTUFBSSxDQUFDLEtBQUwsUUFBa0I7QUFDaEIsV0FBTyxVQUFVLENBQVYsS0FBZ0I7QUFBRUYsZUFBUyxFQUFFO0FBQWIsS0FBaEIsQ0FBUDtBQUNEOztBQUVELFFBQU07QUFBQTtBQUFhUztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBNkIsUUFBTSxDQUFOQSxLQUFhLHlCQUF3QnZDLFNBQVUsSUFBR1MsZUFBbEQ4QjtBQUVBLFNBQU8sVUFBVSxDQUFWLEtBQWdCO0FBQUV2QztBQUFGLEdBQWhCLENBQVA7QUFDRDs7QUFFRCxpQkFBaUIsR0FBakIsTUFBMEI7QUFDeEIsUUFBTTRQLFdBQVcsR0FBR0MsVUFBVSxDQUFWQSxLQUFwQixJQUFvQkEsQ0FBcEI7QUFDQSxTQUFPRCxXQUFXLENBQUMsR0FBbkIsSUFBa0IsQ0FBbEI7QUFDRDs7QUFFRDFQLE1BQU0sQ0FBTkEsOEI7Ozs7Ozs7Ozs7O0FDdEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBR0EsTUFBTXdQLFVBQVUsR0FBRyxJQUFJeEwsS0FBSyxDQUFULFdBQW5CLFlBQW1CLENBQW5CO0FBSEEscUJBS0EsVUFMQSxFOzs7Ozs7Ozs7OztBQ0FBLGNBQWM7QUFBQSxTQUFkO0FBQWMsQ0FBZDs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBTWUsNENBQTRDO0FBQ3pELFFBQU07QUFBQTtBQUFhekQ7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQSxNQUFJLGNBQWMsQ0FBbEIsaUJBQW9DO0FBRXBDN0IsT0FBSyxXQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTWlSLGlCQUFpQixHQUFHLGFBQWEsQ0FBYixRQUNmO0FBQUE7QUFBYTFRLFVBQU0sRUFBRXFCO0FBQXJCLEdBRGUsRUFFdEI7QUFDRWtGLFVBQU0sRUFBRTtBQUFFb0ssY0FBUSxFQUFFO0FBQVo7QUFEVixHQUZzQixDQUExQjs7QUFNQSxNQUFJLHNCQUFzQixDQUFDN1EsQ0FBQyxDQUFEQSxRQUFVNFEsaUJBQWlCLENBQTNCNVEsVUFBM0IsUUFBMkJBLENBQTNCLEVBQTRFO0FBQzFFOFEsMkJBQXVCLDZCQUF2QkEsUUFBdUIsQ0FBdkJBO0FBQ0Q7QUFDRixDOzs7Ozs7Ozs7OztBQ3RCRCxPQUFPQyxNQUFQLENBQU9BO0FBQVAsaUJBQTBCO0FBQW5CQSxDQUFQO0FBQTBCLElBQTFCLGFBQTBCO0FBQTFCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSx1Q0FBdUM7QUFDcEQsU0FBTyxhQUFhLENBQWIsT0FBcUI7QUFBRWpRO0FBQUYsR0FBckIsRUFBb0MsTUFBTTtBQUMvQ3VDLFVBQU0sQ0FBTkEsS0FBYSwyQkFBMEJ2QyxTQUF2Q3VDO0FBREYsR0FBTyxDQUFQO0FBR0QsQzs7Ozs7Ozs7Ozs7QUNQRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsOERBQThEO0FBQzNFMUQsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFdBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQUE7QUFFZnZEO0FBRmUsR0FBakI7QUFLQSxRQUFNK0QsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKMk07QUFESTtBQURTLEdBQWpCOztBQU1BLFFBQU16TixFQUFFLEdBQUcscUJBQXFCO0FBQzlCLGFBQVM7QUFDUEMsWUFBTSxDQUFOQSxNQUFjLEdBQUVDLEdBQWhCRDtBQUNEOztBQUVELG9CQUFnQjtBQUNkQSxZQUFNLENBQU5BLEtBQWEsNkJBQTRCbkQsTUFBTyxlQUFjWSxTQUE5RHVDO0FBQ0Q7QUFQSDs7QUFVQSxTQUFPME4sYUFBYSxDQUFiQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUMvQkQsT0FBTyxJQUFQO0FBQUEsNEI7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFHQS9QLE1BQU0sQ0FBTkEsUUFBZTtBQUNiZ1E7QUFEYSxDQUFmaFEsRTs7Ozs7Ozs7Ozs7QUNIQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtBLHlCQUF5QjtBQUN2QixNQUFJLENBQUMsS0FBTCxRQUFrQjtBQUNoQixXQUFPLGFBQWEsQ0FBYixLQUFtQjtBQUFFRixlQUFTLEVBQUU7QUFBYixLQUFuQixDQUFQO0FBQ0Q7O0FBQ0QsUUFBTTtBQUFBO0FBQWFTO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUE2QixRQUFNLENBQU5BLE1BQWMsc0NBQXFDOUIsZUFBbkQ4QjtBQUVBLFNBQU8sYUFBYSxDQUFiLEtBQW1CO0FBQUE7QUFBYW5ELFVBQU0sRUFBRXFCO0FBQXJCLEdBQW5CLENBQVA7QUFDRDs7QUFFRCxpQkFBaUIsR0FBakIsTUFBMEI7QUFDeEIsUUFBTTBQLGtCQUFrQixHQUFHQyxhQUFhLENBQWJBLEtBQTNCLElBQTJCQSxDQUEzQjtBQUNBLFNBQU9ELGtCQUFrQixDQUFDLEdBQTFCLElBQXlCLENBQXpCO0FBQ0Q7O0FBRURqUSxNQUFNLENBQU5BLG1DOzs7Ozs7Ozs7OztBQ3JCQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBRUEsTUFBTStQLGFBQWEsR0FBRyxJQUFJL0wsS0FBSyxDQUFULFdBQXRCLGdCQUFzQixDQUF0Qjs7QUFFQSxJQUFJaEUsTUFBTSxDQUFWLFVBQXFCO0FBQ25CK1AsZUFBYSxDQUFiQSxhQUEyQjtBQUN6QmpRLGFBQVMsRUFEZ0I7QUFDWFosVUFBTSxFQUFFO0FBREcsR0FBM0I2UTtBQUdEOztBQVJELHFCQVVBLGFBVkEsRTs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHQSxNQUFNSSxTQUFTLEdBQUcsZ0NBQWdDQyxPQUFPLEdBQXZDLG9CQUE4REMsU0FBUyxHQUF2RSxJQUE4RUMsUUFBUSxHQUF0RixJQUE2RjtBQUM3RyxRQUFNQyxZQUFZLEdBQUcsZ0JBQXJCO0FBQ0EsUUFBTS9LLElBQUksR0FBRyxLQUFLLENBQUwsUUFBYztBQUFFK0s7QUFBRixHQUFkLENBQWI7QUFDQSxRQUFNQyxXQUFXLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUtsQkY7QUFMa0IsR0FBcEI7O0FBUUEsWUFBVTtBQUFFO0FBQ1YsUUFBS0EsUUFBUSxDQUFSQSxlQUF3QjlLLElBQUksQ0FBSkEsY0FBbUI4SyxRQUFRLENBQVJBLFlBQTVDLFNBQUNBLElBQ0VBLFFBQVEsQ0FBUkEsYUFBc0I5SyxJQUFJLENBQUpBLGNBQW1COEssUUFBUSxDQUR4RCxXQUNzRTtBQUNwRUUsaUJBQVcsQ0FBWEE7QUFGRixXQUdPO0FBQ0xBLGlCQUFXLENBQVhBO0FBQ0Q7QUFOSCxTQU9PO0FBQ0xBLGVBQVcsQ0FBWEE7QUFuQjJHLElBc0I3Rzs7O0FBQ0FuTyxRQUFNLENBQU5BLElBQVc7QUFBRXlILFdBQU8sRUFBRW9GLElBQUksQ0FBSkEsVUFBWCxXQUFXQSxDQUFYO0FBQXdDdUIsU0FBSyxFQUFFalA7QUFBL0MsR0FBWGEsRUF2QjZHLENBd0I3RztBQXhCRjs7QUFIQSxPQUFPQSxhQUFQLENBOEJBLFNBOUJBLEU7Ozs7Ozs7Ozs7O0FDQUEsT0FBTyxJQUFQLGM7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFHQXJDLE1BQU0sQ0FBTkEsUUFBZTtBQUFFbVE7QUFBRixDQUFmblEsRTs7Ozs7Ozs7Ozs7QUNIQSxPQUFPMFEsTUFBUCxDQUFPQTtBQUFBQSxpQkFBUDtBQUFPQSxDQUFQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFFZSw4QkFBOEI7QUFBRWhTO0FBQUYsQ0FBOUIsRUFBd0M7QUFDckQsU0FBT2dTLHFCQUFxQixDQUFDO0FBQUVoUztBQUFGLEdBQUQsQ0FBNUI7QUFDRCxDOzs7Ozs7Ozs7OztBQ0pEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLCtCQUErQjtBQUFFQTtBQUFGLENBQS9CLEVBQXlDO0FBQ3RELFFBQU02TCxPQUFPLEdBQUc3TCxJQUFJLENBQXBCO0FBQ0EsUUFBTWlTLGdCQUFnQixHQUFJcEcsT0FBTyxDQUFQQSx5QkFBMUI7QUFDQUEsU0FBTyxDQUFQQTtBQUNBNUwsT0FBSyxVQUFMQSxNQUFLLENBQUxBO0FBRUEsU0FBT2lTLFVBQVUsQ0FBakIsT0FBaUIsQ0FBakI7QUFDRCxDOzs7Ozs7Ozs7OztBQ1ZELE9BQU96USxNQUFQLENBQU9BO0FBQVAsaUJBQXdCO0FBQWpCQSxDQUFQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBT2Usa0NBQWtDO0FBQUV6QjtBQUFGLENBQWxDLEVBQTRDO0FBQ3pEQyxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFDQSxRQUFNO0FBQUVtQjtBQUFGLE1BQU47QUFDQW5CLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUVBa1Msc0JBQW9CLENBQXBCQSxTQUFvQixDQUFwQkE7QUFDQUMsMkJBQXlCLENBQXpCQSxTQUF5QixDQUF6QkE7QUFDQUMsc0JBQW9CLENBQXBCQSxTQUFvQixDQUFwQkE7QUFFQSxTQUFPNVEsV0FBVyxDQUFYQSxvQkFBUCxTQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNqQkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU9lLDBCQUEwQjtBQUFFekI7QUFBRixDQUExQixFQUFvQztBQUNqREMsT0FBSyxPQUFMQSxNQUFLLENBQUxBO0FBQ0EsUUFBTTtBQUFFbUI7QUFBRixNQUFOO0FBQ0FuQixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7O0FBRUEsUUFBTXlELEVBQUUsR0FBRywyQkFBMkI7QUFDcEMsYUFBUztBQUNQQyxZQUFNLENBQU5BLE1BQWMsR0FBRTJPLFdBQVksa0JBQWlCMU8sR0FBN0NEO0FBQ0E7QUFDRDs7QUFDRCxhQUFTO0FBQ1BzTCxXQUFLLENBQUxBLE9BQWE7QUFBRTdOO0FBQUYsT0FBYjZOLEVBQ0U7QUFBRXpLLFlBQUksRUFBRTtBQUFFK04sMEJBQWdCLEVBQUU7QUFBcEI7QUFBUixPQURGdEQsRUFFRSx3QkFBd0I7QUFDdEIsbUJBQVc7QUFDVHRMLGdCQUFNLENBQU5BLE1BQWMsd0JBQXVCMk8sV0FBWSxzQkFBcUJsUixTQUFVLElBQUd3QyxHQUFuRkQ7QUFDQTtBQUNEOztBQUVELHlCQUFpQjtBQUNmQSxnQkFBTSxDQUFOQSxLQUFhLDBCQUF5QjJPLFdBQVksc0JBQXFCbFIsU0FBdkV1QztBQUNEO0FBVkxzTDtBQVlBM04sWUFBTSxDQUFOQSxXQUFrQixNQUFNO0FBQUVrUix1QkFBZSxDQUFmQSxTQUFlLENBQWZBO0FBQTFCbFI7QUFDRDtBQW5CSDs7QUFzQkFzSyxVQUFRLENBQVJBLE9BQWdCO0FBQUV4SztBQUFGLEdBQWhCd0ssRUFDRTtBQUFFcEgsUUFBSSxFQUFFO0FBQUVpTyxrQkFBWSxFQUFFO0FBQWhCO0FBQVIsR0FERjdHLEVBRUUsY0FBYztBQUFFbEksTUFBRSxXQUFGQSxTQUFFLENBQUZBO0FBRmxCa0k7QUFJQWhHLFdBQVMsQ0FBVEEsT0FBaUI7QUFBRUssbUJBQWUsRUFBRTdFO0FBQW5CLEdBQWpCd0UsRUFDRTtBQUFFcEIsUUFBSSxFQUFFO0FBQUVpTyxrQkFBWSxFQUFFO0FBQWhCO0FBQVIsR0FERjdNLEVBRUUsY0FBYztBQUFFbEMsTUFBRSxXQUFGQSxVQUFFLENBQUZBO0FBRmxCa0M7QUFHRCxDOzs7Ozs7Ozs7OztBQ3pDRCxPQUFPOE0sTUFBUCxDQUFPQTtBQUFBQSxXQUFQO0FBQU9BLENBQVA7QUFBK0IsSUFBL0Isa0JBQStCO0FBQS9CO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUVlLHFDQUFxQztBQUFFMVM7QUFBRixDQUFyQyxhQUEwRDtBQUN2RSxTQUFPMFMsa0JBQWtCLFlBQXpCLElBQXlCLENBQXpCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNKRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUscUNBQXFDO0FBQUUxUztBQUFGLENBQXJDLGFBQTBEO0FBQ3ZFLFFBQU07QUFBRTJTO0FBQUYsTUFBTjtBQUNBMVMsT0FBSyxZQUFMQSxPQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUNmM0M7QUFEZSxHQUFqQjtBQUlBLFFBQU1tRCxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFO0FBQUVtTztBQUFGO0FBRFMsR0FBakI7O0FBSUEsUUFBTWpQLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQQyxZQUFNLENBQU5BLE1BQWMsMkJBQTBCQyxHQUF4Q0Q7QUFDQTtBQUNEOztBQUVELG9CQUFnQjtBQUNkQSxZQUFNLENBQU5BLEtBQWEsb0NBQW1DdkMsU0FBVSxjQUFhdVIsU0FBdkVoUDtBQUNEO0FBUkg7O0FBV0EsU0FBT2lQLGNBQWMsQ0FBZEEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDNUJEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSxxQ0FBcUM7QUFBRTVTO0FBQUYsQ0FBckMsYUFBMEQ7QUFDdkUsUUFBTTtBQUFFeUw7QUFBRixNQUFOO0FBRUF4TCxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFFQUEsT0FBSyxPQUFPO0FBQ1Z3TCxRQUFJLEVBQUV2STtBQURJLEdBQVAsQ0FBTGpEO0FBSUEsUUFBTThELFFBQVEsR0FBRztBQUNmM0M7QUFEZSxHQUFqQjtBQUlBLFFBQU1tRCxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFO0FBQUVpSDtBQUFGO0FBRFMsR0FBakI7O0FBSUEsUUFBTS9ILEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUEQsWUFBTSxDQUFOQSxNQUFjLDRCQUEyQkMsR0FBekNEO0FBQ0Q7QUFISDs7QUFNQSxTQUFPaVAsY0FBYyxDQUFkQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUM1QkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLG1DQUFtQztBQUFFNVM7QUFBRixDQUFuQyxhQUF3RDtBQUNyRUMsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBRUFBLE9BQUssT0FBTztBQUNWNFMsaUJBQWEsRUFBRTNQO0FBREwsR0FBUCxDQUFMakQ7QUFHQSxRQUFNO0FBQUU0UztBQUFGLE1BQU47QUFFQSxRQUFNOU8sUUFBUSxHQUFHO0FBQ2YzQztBQURlLEdBQWpCO0FBSUEsUUFBTW1ELFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFDSndCLG1CQUFhLEVBQUU2TTtBQURYO0FBRFMsR0FBakI7O0FBTUEsUUFBTW5QLEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUEQsWUFBTSxDQUFOQSxNQUFjLDRCQUEyQkMsR0FBekNEO0FBQ0Q7QUFISDs7QUFNQSxTQUFPbVAsb0JBQW9CLENBQXBCQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUM3QkQsT0FBT0MsTUFBUCxDQUFPQTtBQUFQO0FBQU9BLENBQVA7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUVlLHFDQUFxQztBQUFFL1M7QUFBRixDQUFyQyxhQUEwRDtBQUN2RSxTQUFPK1MsY0FBYyxZQUFyQixJQUFxQixDQUFyQjtBQUNELEM7Ozs7Ozs7Ozs7O0FDSkQsT0FBT0MsTUFBUCxDQUFPQTtBQUFBQSxpQkFBUDtBQUFPQSxDQUFQO0FBQXNDLElBQXRDLHlCQUFzQztBQUF0QztBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFFZSx5Q0FBeUM7QUFBRWhUO0FBQUYsQ0FBekMsYUFBOEQ7QUFDM0UsU0FBT2dULHlCQUF5QixZQUFoQyxJQUFnQyxDQUFoQztBQUNELEM7Ozs7Ozs7Ozs7O0FDSkQsY0FBUzFSO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2Usc0JBQXNCO0FBQ25DLFFBQU1JLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxRQUFNRSxVQUFVLEdBQWhCO0FBQ0EsUUFBTTtBQUFBO0FBQWFDO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUEsUUFBTUMsT0FBTyxHQUFHO0FBQ2R2QixVQUFNLEVBQUVxQjtBQURNLEdBQWhCO0FBR0E4QixRQUFNLENBQU5BLFFBQWdCLFlBQVd2QyxTQUFVLHNCQUFxQlMsZUFBMUQ4QjtBQUVBLFNBQU9sQyxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ2pCRCxjQUFTSDtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLCtDQUErQztBQUM1RCxRQUFNSSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUNBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBN0IsT0FBSyxvQkFBb0I7QUFDdkJnVCxjQUFVLEVBRGE7QUFFdkJDLGNBQVUsRUFGYTtBQUd2QkMsc0JBQWtCLEVBSEs7QUFJdkJDLHFCQUFpQixFQUpNO0FBS3ZCQyxlQUFXLEVBTFk7QUFNdkJDLGdCQUFZLEVBTlc7QUFPdkJDLGdCQUFZLEVBUFc7QUFRdkJDLGNBQVUsRUFSYTtBQVN2QkMsMEJBQXNCLEVBVEM7QUFVdkJoRCxTQUFLLEVBQUVsTixLQUFLLENBQUxBO0FBVmdCLEdBQXBCLENBQUx0RDtBQWFBLFFBQU07QUFBQTtBQUFBO0FBR0prVCxzQkFBa0IsRUFIZDtBQUlKQyxxQkFBaUIsRUFKYjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0pLO0FBVEksTUFBTjtBQVlBLFFBQU0xUixPQUFPLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVZDBPLFNBQUssRUFBRTVPO0FBVk8sR0FBaEI7QUFhQUosYUFBVyxDQUFYQTtBQUNELEM7Ozs7Ozs7Ozs7O0FDbEREO0FBQUEsU0FBbUI7QUFBbkI7QUFBbUIsSUFBbkIsTUFBbUI7QUFBbkI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFPZSwyQkFBMkI7QUFDeEMsUUFBTUMsWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1tRixjQUFjLEdBQUd2RixNQUFNLENBQU5BLHFCQUF2QjtBQUVBLFFBQU07QUFBQTtBQUFhTztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUNBLFFBQU1GLFVBQVUsR0FBaEI7QUFFQTtBQUNBO0FBRUEsUUFBTThSLFlBQVksR0FBRyxjQUFjLENBQWQsUUFBdUI7QUFBRXRTO0FBQUYsR0FBdkIsQ0FBckI7O0FBRUEsTUFBSXNTLFlBQVksSUFBaEIsTUFBMEI7QUFDeEIsVUFBTTtBQUFBO0FBQUE7QUFHSmxOO0FBSEksUUFBTjtBQU1BbU4sbUJBQWUsR0FBZkE7QUFDQUMsbUJBQWUsR0FBR3BOLE1BQU0sSUFSQSx1QkFReEJvTixDQVJ3QixDQVE2QjtBQUN0RDs7QUFFRCxRQUFNN1IsT0FBTyxHQUFHO0FBQ2Q0USxhQUFTLEVBQUUsQ0FERztBQUVkbEMsU0FBSyxFQUFFNU87QUFGTyxHQUFoQjtBQUtBLFFBQU1rQyxRQUFRLEdBQUc7QUFBQTtBQUVmdkQsVUFBTSxFQUFFcUI7QUFGTyxHQUFqQjtBQUlBLFFBQU11RSxJQUFJLEdBQUc2SSxLQUFLLENBQUxBLFFBQWIsUUFBYUEsQ0FBYjs7QUFFQSxNQUFJMkUsZUFBZSxJQUFJLENBQUMsQ0FBcEJBLFFBQTZCeE4sSUFBSSxDQUFKQSxTQUFqQyxnQkFBK0Q7QUFDN0R6QyxVQUFNLENBQU5BLEtBQWEsbUNBQWtDLENBQUNnUSxlQUFnQixRQUFPdlMsU0FBVSxPQUFNUyxlQUF2RjhCO0FBQ0EsV0FBT2xDLFdBQVcsQ0FBWEEsb0VBQVAsT0FBT0EsQ0FBUDtBQUNEOztBQUNEO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUMvQ0QsY0FBU0g7QUFBVCxXQUF1QixNQUF2QjtBQUFTQSxDQUFUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLZSxnRUFBZ0U7QUFDN0UsUUFBTUksWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7QUFFQSxRQUFNO0FBQUE7QUFBYUM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFDQTdCLE9BQUssMEJBQUxBLE9BQUssQ0FBTEE7QUFFQSxRQUFNOEIsT0FBTyxHQUFHO0FBQUE7QUFFZDBPLFNBQUssRUFBRTVPO0FBRk8sR0FBaEI7QUFLQUosYUFBVyxDQUFYQTtBQUNELEM7Ozs7Ozs7Ozs7O0FDbkJELGNBQVNIO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBTWUsa0RBQWtEO0FBQy9ELFFBQU1JLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxRQUFNRSxVQUFVLEdBQWhCO0FBRUEsUUFBTTtBQUFBO0FBQWFDO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUEsUUFBTUMsT0FBTyxHQUFHO0FBQUE7QUFBQTtBQUdkdkIsVUFBTSxFQUFFcUI7QUFITSxHQUFoQjtBQU1BOEIsUUFBTSxDQUFOQSxRQUFnQixVQUFTOUIsZUFBZ0I7WUFDL0JnUyxhQUFjLGlCQUFnQkMsV0FEeENuUTtBQUdBLFNBQU9sQyxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3ZCRDtBQUFBLFNBQWlCLEVBQWpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQVllLDZCQUE2QjtBQUMxQyxRQUFNTCxTQUFTLEdBQUd5SyxPQUFPLENBQVBBLFlBQWxCO0FBRUE1TCxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxVQUFVO0FBQ2I4VCxpQkFBYSxFQUFFO0FBQ2JDLGNBQVEsRUFESztBQUViN00sY0FBUSxFQUZLO0FBR2I4TSxtQkFBYSxFQUhBO0FBSWJDLGNBQVEsRUFKSztBQUtiQyxhQUFPLEVBTE07QUFNYjNOLFlBQU0sRUFOTztBQU9iNE4sd0JBQWtCLEVBQUV2VDtBQVBQLEtBREY7QUFVYndULGVBQVcsRUFBRTtBQUNYbkUsV0FBSyxFQURNO0FBRVhvRSxXQUFLLEVBRk07QUFHWEMsZ0JBQVUsRUFIQztBQUlYbE8sVUFBSSxFQUFFdEQ7QUFKSyxLQVZBO0FBZ0JieVIsYUFBUyxFQUFFO0FBQ1RDLDZCQUF1QixFQURkO0FBRVRDLGlCQUFXLEVBRkY7QUFHVEMsY0FBUSxFQUhDO0FBSVRDLDRCQUFzQixFQUFFL1Q7QUFKZixLQWhCRTtBQXNCYmdVLGlCQUFhLEVBQUU7QUFDYkMsaUJBQVcsRUFERTtBQUViQyxjQUFRLEVBRks7QUFHYkMsaUJBQVcsRUFIRTtBQUliQyxpQ0FBMkIsRUFKZDtBQUtiQywwQkFBb0IsRUFMUDtBQU1iQywwQ0FBb0MsRUFOdkI7QUFPYkMsNENBQXNDLEVBUHpCO0FBUWJDLHlDQUFtQyxFQVJ0QjtBQVNiQyxzQ0FBZ0MsRUFUbkI7QUFVYkMsNENBQXNDLEVBVnpCO0FBV2J2UCxtQkFBYSxFQUFFOUM7QUFYRixLQXRCRjtBQW1DYnNTLGVBQVcsRUFBRTtBQUNYQyxnQkFBVSxFQURDO0FBRVhDLG9CQUFjLEVBRkg7QUFHWEMsd0JBQWtCLEVBQUU1UztBQUhULEtBbkNBO0FBd0NiNlMsY0FBVSxFQUFFLEtBQUssQ0FBTCxnQkFBc0I7QUFDaENDLDZCQUF1QixFQURTO0FBRWhDQyx3QkFBa0IsRUFGYztBQUdoQ3RQLFlBQU0sRUFBRTNGO0FBSHdCLEtBQXRCLENBeENDO0FBNkNia1YsWUFBUSxFQUFFO0FBQ1JDLGdCQUFVLEVBREY7QUFFUkMsbUJBQWEsRUFBRWxUO0FBRlAsS0E3Q0c7QUFpRGJtVCxhQUFTLEVBQUU7QUFDVEMsZUFBUyxFQURBO0FBRVRDLGdCQUFVLEVBRkQ7QUFHVEMsY0FBUSxFQUhDO0FBSVRDLGlCQUFXLEVBQUV6VjtBQUpKLEtBakRFO0FBdURiMFYsb0JBQWdCLEVBQUU7QUFDaEJDLHVCQUFpQixFQUREO0FBRWhCQyx3QkFBa0IsRUFGRjtBQUdoQkMscUJBQWUsRUFBRTNUO0FBSEQsS0F2REw7QUE0RGI0VCxnQkFBWSxFQTVEQztBQTZEYkMscUJBQWlCLEVBQUU7QUFDakIzRCxnQkFBVSxFQURPO0FBRWpCQyxnQkFBVSxFQUZPO0FBR2pCQyx3QkFBa0IsRUFIRDtBQUlqQkMsdUJBQWlCLEVBSkE7QUFLakJDLGlCQUFXLEVBTE07QUFNakJDLGtCQUFZLEVBTks7QUFPakJFLGdCQUFVLEVBUE87QUFRakJDLDRCQUFzQixFQVJMO0FBU2pCRixrQkFBWSxFQUFFMVM7QUFURztBQTdETixHQUFWLENBQUxaO0FBMEVBLFFBQU07QUFBQTtBQUFBLE1BQU47QUFBQSxRQUVLNFcsU0FGTDtBQUtBLFFBQU1DLFVBQVUsR0FBaEI7QUFFQSxRQUFNL1MsUUFBUSxHQUFHO0FBQ2YzQztBQURlLEdBQWpCO0FBSUEwVixZQUFVLENBQVZBLG9CQUErQixNQUFNLENBQU4sT0FBY2pMLE9BQU8sQ0FBckIsbUJBQXlDO0FBQUU0RSxTQUFLLEVBQUU7QUFBVCxHQUF6QyxDQUEvQnFHO0FBRUEsUUFBTXJFLFlBQVksR0FBbEI7QUFFQXFFLFlBQVUsQ0FBVkEseUJBQW9DQSxVQUFVLENBQVZBLCtDQUFwQ0EsUUFBb0NBLENBQXBDQTs7QUFLQSxRQUFNQyxpQkFBaUIsR0FBRyxVQUFXLEdBQUVDLENBQUMsQ0FBREEsWUFBZSxtQkFBa0JBLENBQUMsQ0FBREEsU0FBeEU7O0FBQ0EsUUFBTUMsaUJBQWlCLEdBQUcsK0JBQTFCLEdBQTBCLENBQTFCO0FBQ0FBLG1CQUFpQixDQUFqQkEsS0FBdUJILFVBQVUsQ0FBVkEsWUFBdkJHOztBQUVBLE1BQUlBLGlCQUFpQixDQUFqQkEsWUFBSixHQUFxQztBQUNuQ0gsY0FBVSxDQUFWQSx5QkFBb0NDLGlCQUFpQixDQUNuREQsVUFBVSxDQUFWQSxZQURtRCxZQUVuREcsaUJBQWlCLENBQWpCQSxZQUZGSCxDQUFxRCxDQUFyREE7QUFJRDs7QUFFRCxRQUFNdlMsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRSxNQUFNLENBQU4sT0FBYztBQUFBO0FBQUE7QUFHbEIwUyxtQkFBYSxFQUFFO0FBSEcsS0FBZCxFQUlIaFIsSUFBSSxhQUFhO0FBQ2xCMEcsVUFBSSxFQUFFO0FBRFksS0FBYixDQUpEO0FBRFMsR0FBakI7O0FBVUEsUUFBTWxKLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQQyxZQUFNLENBQU5BLE1BQWMsaUNBQWdDQyxHQUE5Q0Q7QUFDQTtBQUNEOztBQUVELFVBQU07QUFDSkU7QUFESSxRQUFOOztBQUlBLG9CQUFnQjtBQUNkRixZQUFNLENBQU5BLEtBQWEsb0JBQW1CdkMsU0FEbEIsRUFDZHVDLEVBRGMsQ0FFZDtBQUNBOztBQUNBd1QsZ0JBQVUsQ0FBVkEsU0FBVSxDQUFWQTtBQUNBQyxvQkFBYyxDQUFkQSxTQUFjLENBQWRBO0FBQ0Q7O0FBRUQsb0JBQWdCO0FBQ2R6VCxZQUFNLENBQU5BLEtBQWEsdUJBQXNCdkMsU0FBbkN1QztBQUNEO0FBcEJIOztBQXVCQSxRQUFNMFQsUUFBUSxHQUFHLHFCQUFxQjtBQUNwQyxhQUFTO0FBQ1AxVCxZQUFNLENBQU5BLE1BQWMscUNBQW9DQyxHQUFsREQ7QUFDQTtBQUNEOztBQUVELFVBQU07QUFDSkU7QUFESSxRQUFOOztBQUlBLG9CQUFnQjtBQUNkRixZQUFNLENBQU5BLEtBQWEsd0JBQXVCdkMsU0FBcEN1QztBQUNEOztBQUVELG9CQUFnQjtBQUNkQSxZQUFNLENBQU5BLEtBQWEsMkJBQTBCdkMsU0FBdkN1QztBQUNEO0FBaEJIOztBQW1CQWlQLGdCQUFjLENBQWRBO0FBQWdDO0FBQWhDQSxLQUVLZ0QsVUFGTGhEO0FBS0EwRSx3QkFBc0IsQ0FBdEJBLFNBQXNCLENBQXRCQTtBQUNBQyxtQkFBaUIsQ0FBakJBLFNBQWlCLENBQWpCQTtBQUVBLFNBQU8zTCxRQUFRLENBQVJBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3RMRDtBQUFBLFNBQW1CO0FBQW5CO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLGdEQUFnRDtBQUM3RDNMLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFVBQVU7QUFDYmdULGNBQVUsRUFERztBQUViQyxjQUFVLEVBRkc7QUFHYnNFLG1CQUFlLEVBSEY7QUFJYkMsa0JBQWMsRUFKRDtBQUticEUsZUFBVyxFQUxFO0FBTWJDLGdCQUFZLEVBTkM7QUFPYkMsZ0JBQVksRUFQQztBQVFiQyxjQUFVLEVBUkc7QUFTYkMsMEJBQXNCLEVBVFQ7QUFVYmhELFNBQUssRUFBRWxOLEtBQUssQ0FBTEE7QUFWTSxHQUFWLENBQUx0RDtBQWFBLFFBQU07QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFVSndRO0FBVkksTUFBTjtBQWFBLFFBQU0xTSxRQUFRLEdBQUc7QUFDZjNDO0FBRGUsR0FBakI7QUFJQSxRQUFNbUQsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKb1MsdUJBQWlCLEVBQUU7QUFBQTtBQUFBO0FBR2pCekQsMEJBQWtCLEVBSEQ7QUFJakJDLHlCQUFpQixFQUpBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVqQjNDO0FBVmlCO0FBRGY7QUFEUyxHQUFqQjs7QUFpQkEsUUFBTS9NLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyxxQkFBb0J2QyxTQUFVLG9CQUFtQndDLEdBQXRFLEVBQU9ELENBQVA7QUFDRDs7QUFFRCxRQUFJLENBQUosWUFBaUI7QUFDZixhQUFPQSxNQUFNLENBQU5BLEtBQWEsWUFBV3ZDLFNBQS9CLGtDQUFPdUMsQ0FBUDtBQUNEOztBQUVELFdBQU9BLE1BQU0sQ0FBTkEsS0FBYSxvQkFBbUJ2QyxTQUF2Qyx5QkFBT3VDLENBQVA7QUFURjs7QUFZQSxTQUFPaUksUUFBUSxDQUFSQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNsRUQ7QUFBQSxTQUFtQjtBQUFuQjtBQUFtQixJQUFuQixNQUFtQjtBQUFuQjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLDRDQUE0QztBQUN6RDNMLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFVBQVU7QUFDYk8sVUFBTSxFQURPO0FBRWJrWCxVQUFNLEVBRk87QUFHYkMsWUFBUSxFQUFFNVU7QUFIRyxHQUFWLENBQUw5QztBQU1BLFFBQU07QUFBQTtBQUFBO0FBQWtCMFg7QUFBbEIsTUFBTjtBQUVBLFFBQU01VCxRQUFRLEdBQUc7QUFBQTtBQUVmdkQ7QUFGZSxHQUFqQjtBQUtBLFFBQU0rRCxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFO0FBQ0prVDtBQURJO0FBRFMsR0FBakI7O0FBTUEsUUFBTWhVLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYywrQkFBOEJDLEdBQW5ELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxRQUFJLENBQUosWUFBaUI7QUFDZixhQUFPQSxNQUFNLENBQU5BLEtBQWEsaUJBQWdCbkQsTUFBcEMsNkJBQU9tRCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFhLGlCQUFnQm5ELE1BQU8sZ0NBQStCa1gsTUFBTyxtQkFBa0JDLFFBQW5HLEVBQU9oVSxDQUFQO0FBVEY7O0FBWUEsU0FBT3NMLEtBQUssQ0FBTEEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDdENELGNBQVMyRDtBQUFBQSxXQUFUO0FBQVNBLENBQVQ7QUFBK0IsSUFBL0IsY0FBK0I7QUFBL0I7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLG9DQUFvQztBQUNqRCxTQUFPLGNBQWMsQ0FBZCxPQUFzQjtBQUFFeFI7QUFBRixHQUF0QixFQUFxQyxNQUFNdUMsTUFBTSxDQUFOQSxLQUFhLDRDQUEyQ3ZDLFNBQTFHLEVBQWtEdUMsQ0FBM0MsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDTEQsT0FBT2lJLE1BQVAsQ0FBT0E7QUFBUCxTQUFxQixRQUFyQjtBQUFPQSxDQUFQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBdUJlLG9DQUFvQztBQUNqRHdHLDJCQUF5QixDQUF6QkEsU0FBeUIsQ0FBekJBO0FBQ0FDLHNCQUFvQixDQUFwQkEsU0FBb0IsQ0FBcEJBO0FBRUEsU0FBTyxRQUFRLENBQVIsT0FBZ0I7QUFBRWpSO0FBQUYsR0FBaEIsRUFBK0IsTUFBTTtBQUMxQ3dXLGlCQUFhLENBQWJBLFNBQWEsQ0FBYkE7QUFDQUMsa0JBQWMsQ0FBZEEsU0FBYyxDQUFkQTtBQUNBQyx5QkFBcUIsQ0FBckJBLFNBQXFCLENBQXJCQTtBQUNBdFMsa0JBQWMsQ0FBZEEsU0FBYyxDQUFkQTtBQUNBdVMsY0FBVSxDQUFWQSxTQUFVLENBQVZBO0FBQ0EzWCxvQkFBZ0IsQ0FBaEJBLFNBQWdCLENBQWhCQTtBQUNBNFgsZUFBVyxDQUFYQSxTQUFXLENBQVhBO0FBQ0FDLGNBQVUsQ0FBVkEsU0FBVSxDQUFWQTtBQUNBQyxzQkFBa0IsQ0FBbEJBLFNBQWtCLENBQWxCQTtBQUNBQyxtQkFBZSxDQUFmQSxTQUFlLENBQWZBO0FBQ0FDLGlCQUFhLENBQWJBLFNBQWEsQ0FBYkE7QUFDQUMsYUFBUyxDQUFUQSxTQUFTLENBQVRBO0FBQ0FDLDJCQUF1QixDQUF2QkEsU0FBdUIsQ0FBdkJBO0FBQ0FDLHNCQUFrQixDQUFsQkEsU0FBa0IsQ0FBbEJBO0FBQ0FDLHNCQUFrQixDQUFsQkEsU0FBa0IsQ0FBbEJBO0FBQ0FDLHdCQUFvQixDQUFwQkEsU0FBb0IsQ0FBcEJBO0FBRUEsV0FBTzlVLE1BQU0sQ0FBTkEsS0FBYSw0QkFBMkJ2QyxTQUEvQyxFQUFPdUMsQ0FBUDtBQWxCRixHQUFPLENBQVA7QUFvQkQsQzs7Ozs7Ozs7Ozs7QUMvQ0QsT0FBT2lJLE1BQVAsQ0FBT0E7QUFBUCxTQUFxQixRQUFyQjtBQUFPQSxDQUFQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLGtEQUFrRDtBQUMvRDNMLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGNBQUxBLE9BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQ2YzQztBQURlLEdBQWpCO0FBSUEsUUFBTW1ELFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFDSjBTLG1CQUFhLEVBQUV3QjtBQURYO0FBRFMsR0FBakI7O0FBTUEsUUFBTWhWLEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLFFBQUlBLEdBQUcsSUFBUCxNQUFpQjtBQUNmLGFBQU9ELE1BQU0sQ0FBTkEsTUFBYyx5QkFBd0IrVSxXQUFZLGtCQUFpQnRYLFNBQTFFLEVBQU91QyxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFhLHFCQUFvQitVLFdBQVksa0JBQWlCdFgsU0FBckUsRUFBT3VDLENBQVA7QUFMRjs7QUFRQSxTQUFPaUksUUFBUSxDQUFSQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUMzQkQ7QUFBQSxTQUFtQixRQUFuQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLHVEQUF1RDtBQUNwRTNMLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFVBQVU7QUFDYndVLDJCQUF1QixFQURWO0FBRWJoRSxTQUFLLEVBQUUxTjtBQUZNLEdBQVYsQ0FBTDlDO0FBSUEsUUFBTTtBQUFFd1U7QUFBRixNQUFOO0FBRUEsUUFBTTFRLFFBQVEsR0FBRztBQUNmM0M7QUFEZSxHQUFqQjtBQUlBLFFBQU1tRCxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFO0FBQ0osMkNBQXFDaVE7QUFEakM7QUFEUyxHQUFqQjs7QUFNQSxRQUFNL1EsRUFBRSxHQUFHLHFCQUFxQjtBQUM5QixhQUFTO0FBQ1AsYUFBT0MsTUFBTSxDQUFOQSxNQUFjLHNCQUFxQnZDLFNBQVUsZ0NBQStCd0MsR0FBbkYsRUFBT0QsQ0FBUDtBQUNEOztBQUVELFFBQUksQ0FBSixZQUFpQjtBQUNmLGFBQU9BLE1BQU0sQ0FBTkEsS0FBYSxZQUFXdkMsU0FBL0IsOENBQU91QyxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFhLG9CQUFtQnZDLFNBQXZDLHFDQUFPdUMsQ0FBUDtBQVRGOztBQVlBLFNBQU9pSSxRQUFRLENBQVJBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ25DRDtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQVlBbkssV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBLGtFOzs7Ozs7Ozs7OztBQ3RCQSxPQUFPLElBQVA7QUFBQTtBQUFBLDRCOzs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU9BSCxNQUFNLENBQU5BLFFBQWU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUticVg7QUFMYSxDQUFmclgsRTs7Ozs7Ozs7Ozs7QUNQQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBTUEsTUFBTXVGLGNBQWMsR0FBR3ZGLE1BQU0sQ0FBTkEscUJBQXZCOztBQUVBLHdCQUF3QjtBQUN0QixNQUFJLENBQUMsS0FBTCxRQUFrQjtBQUNoQixXQUFPLFFBQVEsQ0FBUixLQUFjO0FBQUVGLGVBQVMsRUFBRTtBQUFiLEtBQWQsQ0FBUDtBQUNEOztBQUNELFFBQU07QUFBQTtBQUFhUztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBNkIsUUFBTSxDQUFOQSxNQUFjLHVCQUFzQnZDLFNBQVUsSUFBR1MsZUFBakQ4QjtBQUVBLFFBQU1JLFFBQVEsR0FBRztBQUNmbUQsT0FBRyxFQUFFLENBQ0g7QUFBRTlGO0FBQUYsS0FERztBQURVLEdBQWpCO0FBTUEsUUFBTTBGLElBQUksR0FBRyxLQUFLLENBQUwsUUFBYztBQUFFdEcsVUFBTSxFQUFSO0FBQTJCWTtBQUEzQixHQUFkLEVBQXNEO0FBQUUyRixVQUFNLEVBQUU7QUFBRUMsVUFBSSxFQUFFO0FBQVI7QUFBVixHQUF0RCxDQUFiOztBQUNBLE1BQUksQ0FBQyxDQUFELFFBQVVGLElBQUksQ0FBSkEsU0FBZCxnQkFBNEM7QUFDMUMvQyxZQUFRLENBQVJBLFNBQWtCO0FBQ2hCLGdDQURnQjtBQUVoQixnQ0FBMEIzQztBQUZWLEtBQWxCMkM7QUFJRDs7QUFFRCxRQUFNdUMsT0FBTyxHQUFHO0FBQ2RTLFVBQU0sRUFBRTtBQUNOZ1AsY0FBUSxFQURGO0FBRU4sb0NBQThCO0FBRnhCO0FBRE0sR0FBaEI7QUFPQSxTQUFPbkssUUFBUSxDQUFSQSxlQUFQLE9BQU9BLENBQVA7QUFDRDs7QUFFRCxpQkFBaUIsR0FBakIsTUFBMEI7QUFDeEIsUUFBTWdOLGFBQWEsR0FBR0MsUUFBUSxDQUFSQSxLQUF0QixJQUFzQkEsQ0FBdEI7QUFDQSxTQUFPRCxhQUFhLENBQUMsR0FBckIsSUFBb0IsQ0FBcEI7QUFDRDs7QUFFRHRYLE1BQU0sQ0FBTkE7O0FBRUEsMEJBQTBCO0FBQ3hCLE1BQUksQ0FBQyxLQUFMLFFBQWtCO0FBQ2hCLFdBQU8sY0FBYyxDQUFkLEtBQW9CO0FBQUVGLGVBQVMsRUFBRTtBQUFiLEtBQXBCLENBQVA7QUFDRDs7QUFDRCxRQUFNO0FBQUVBO0FBQUYsTUFBZ0JVLGtCQUFrQixDQUFDLEtBQXpDLE1BQXdDLENBQXhDO0FBRUEsU0FBTyxjQUFjLENBQWQsS0FBb0I7QUFBRVY7QUFBRixHQUFwQixDQUFQO0FBQ0Q7O0FBQ0QsdUJBQXVCLEdBQXZCLE1BQWdDO0FBQzlCLFFBQU0wWCxtQkFBbUIsR0FBR0MsY0FBYyxDQUFkQSxLQUE1QixJQUE0QkEsQ0FBNUI7QUFDQSxTQUFPRCxtQkFBbUIsQ0FBQyxHQUEzQixJQUEwQixDQUExQjtBQUNEOztBQUVEeFgsTUFBTSxDQUFOQTs7QUFFQSxnQ0FBZ0M7QUFDOUIsTUFBSSxDQUFDLEtBQUwsUUFBa0I7QUFDaEIsV0FBTyxvQkFBb0IsQ0FBcEIsS0FBMEI7QUFBRUYsZUFBUyxFQUFFO0FBQWIsS0FBMUIsQ0FBUDtBQUNEOztBQUNELFFBQU07QUFBRUE7QUFBRixNQUFnQlUsa0JBQWtCLENBQUMsS0FBekMsTUFBd0MsQ0FBeEM7QUFFQSxTQUFPLG9CQUFvQixDQUFwQixLQUEwQjtBQUFFVjtBQUFGLEdBQTFCLENBQVA7QUFDRDs7QUFDRCw4QkFBOEIsR0FBOUIsTUFBdUM7QUFDckMsUUFBTTRYLGtCQUFrQixHQUFHQyxvQkFBb0IsQ0FBcEJBLEtBQTNCLElBQTJCQSxDQUEzQjtBQUNBLFNBQU9ELGtCQUFrQixDQUFDLEdBQTFCLElBQXlCLENBQXpCO0FBQ0Q7O0FBRUQxWCxNQUFNLENBQU5BLHdEOzs7Ozs7Ozs7OztBQzNFQSxjQUFTQTtBQUFULGdCQUF1QixRQUF2QixjQUFTQTtBQUFUO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBRUEsTUFBTXNLLFFBQVEsR0FBRyxJQUFJdEcsS0FBSyxDQUFULFdBQWpCLFVBQWlCLENBQWpCO0FBQ0EsTUFBTXNOLGNBQWMsR0FBRyxJQUFJdE4sS0FBSyxDQUFULFdBQXZCLGlCQUF1QixDQUF2QjtBQUNBLE1BQU13TixvQkFBb0IsR0FBRyxJQUFJeE4sS0FBSyxDQUFULFdBQTdCLHdCQUE2QixDQUE3Qjs7QUFFQSxJQUFJaEUsTUFBTSxDQUFWLFVBQXFCO0FBQ25CO0FBQ0E7QUFFQXNLLFVBQVEsQ0FBUkEsYUFBc0I7QUFBRXhLLGFBQVMsRUFBRTtBQUFiLEdBQXRCd0s7O0FBQ0FnSCxnQkFBYyxDQUFkQSxhQUE0QjtBQUFFeFIsYUFBUyxFQUFFO0FBQWIsR0FBNUJ3Ujs7QUFDQUUsc0JBQW9CLENBQXBCQSxhQUFrQztBQUFFMVIsYUFBUyxFQUFFO0FBQWIsR0FBbEMwUjtBQUNEOztBQWJELHFCQW1CQSxRQW5CQSxFOzs7Ozs7Ozs7OztBQ0FBO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2UseUNBQXlDO0FBQ3RELFFBQU07QUFBQTtBQUFhalIsbUJBQWUsRUFBRXlLO0FBQTlCLE1BQTJDeEssa0JBQWtCLENBQUMsS0FBcEUsTUFBbUUsQ0FBbkU7QUFDQTdCLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04QixPQUFPLEdBQUc7QUFDZDBKLFFBQUksRUFBRSxXQURRLE9BQ1IsRUFEUTtBQUFBO0FBQUE7QUFJZGdEO0FBSmMsR0FBaEI7QUFPQTlLLFFBQU0sQ0FBTkEsTUFBYyxZQUFXMkksUUFBUyw4Q0FBNkNsTCxTQUEvRXVDO0FBRUEsU0FBT3VWLGtCQUFrQixDQUFsQkEsT0FBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNuQkQsT0FBT0EsTUFBUCxDQUFPQTtBQUFBQSxXQUFQO0FBQU9BLENBQVA7QUFBK0IsSUFBL0Isa0JBQStCO0FBQS9CO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSw0Q0FBNEM7QUFDekQsaUJBQWU7QUFDYixXQUFPLGtCQUFrQixDQUFsQixPQUEwQjtBQUFFOVg7QUFBRixLQUExQixFQUF5QyxNQUFNO0FBQ3BEdUMsWUFBTSxDQUFOQSxLQUFhLGdDQUErQnZDLFNBQTVDdUM7QUFERixLQUFPLENBQVA7QUFHRDs7QUFFRCxTQUFPLGtCQUFrQixDQUFsQixXQUE4QixNQUFNO0FBQ3pDQSxVQUFNLENBQU5BO0FBREYsR0FBTyxDQUFQO0FBR0QsQzs7Ozs7Ozs7Ozs7QUNiRCxPQUFPLElBQVA7QUFBQSwyQjs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUdBckMsTUFBTSxDQUFOQSxRQUFlO0FBQ2I2WDtBQURhLENBQWY3WCxFOzs7Ozs7Ozs7OztBQ0hBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJQSw4QkFBOEI7QUFDNUIsTUFBSSxDQUFDLEtBQUwsUUFBa0I7QUFDaEIsV0FBTyxrQkFBa0IsQ0FBbEIsS0FBd0I7QUFBRUYsZUFBUyxFQUFFO0FBQWIsS0FBeEIsQ0FBUDtBQUNEOztBQUNELFFBQU07QUFBRUE7QUFBRixNQUFnQlUsa0JBQWtCLENBQUMsS0FBekMsTUFBd0MsQ0FBeEM7QUFFQSxTQUFPLGtCQUFrQixDQUFsQixLQUF3QjtBQUM3QlY7QUFENkIsR0FBeEIsQ0FBUDtBQUdEOztBQUVELGlCQUFpQixHQUFqQixNQUEwQjtBQUN4QixRQUFNZ1ksdUJBQXVCLEdBQUdDLGtCQUFrQixDQUFsQkEsS0FBaEMsSUFBZ0NBLENBQWhDO0FBRUEsU0FBT0QsdUJBQXVCLENBQUMsR0FBL0IsSUFBOEIsQ0FBOUI7QUFDRDs7QUFFRDlYLE1BQU0sQ0FBTkEsd0M7Ozs7Ozs7Ozs7O0FDckJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFFQSxNQUFNNFgsa0JBQWtCLEdBQUcsSUFBSTVULEtBQUssQ0FBVCxXQUEzQixxQkFBMkIsQ0FBM0I7O0FBRUEsSUFBSWhFLE1BQU0sQ0FBVixVQUFxQjtBQUNuQjRYLG9CQUFrQixDQUFsQkEsYUFBZ0M7QUFBRTlYLGFBQVMsRUFBRTtBQUFiLEdBQWhDOFg7QUFDRDs7QUFORCxxQkFRQSxrQkFSQSxFOzs7Ozs7Ozs7OztBQ0FBO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLHlCQUF5QjtBQUFFbFo7QUFBRixDQUF6QixFQUFtQztBQUNoRCxRQUFNO0FBQUE7QUFBT3dKO0FBQVAsTUFBTjtBQUNBLFFBQU07QUFBRXZIO0FBQUYsTUFBTjtBQUVBaEMsT0FBSyxLQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUVBcVosWUFBVSxLQUFWQSxJQUFVLENBQVZBO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNYRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBWWUsK0JBQStCO0FBQzVDO0FBQ0EsTUFBSSxDQUFDalIsU0FBTCxJQUFrQjtBQUNoQjFFLFVBQU0sQ0FBTkEsS0FBYSwwQkFBeUJ2QyxTQUF0Q3VDO0FBQ0E7QUFDRDs7QUFFRDFELE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU1zWixNQUFNLEdBQUdDLGNBQWMsQ0FBN0IsU0FBNkIsQ0FBN0I7QUFFQSxRQUFNQyxTQUFTLEdBQUdDLFlBQVksQ0FBOUIsTUFBOEIsQ0FBOUI7QUFDQTVSLE9BQUssQ0FBQztBQUNKQyxVQUFNLEVBREY7QUFFSkMsT0FBRyxFQUZDO0FBR0pFLGdCQUFZLEVBQUU7QUFIVixHQUFELENBQUxKLE1BSVM2UixhQUFELElBQW1CO0FBQ3pCLFVBQU07QUFBRXpYO0FBQUYsUUFBTjs7QUFDQSxRQUFJQSxNQUFNLEtBQVYsS0FBb0I7QUFDbEJ5QixZQUFNLENBQU5BLE1BQWMsK0JBQThCdkMsU0FBVSxJQUFHYyxNQUF6RHlCO0FBQ0Q7O0FBQ0QsVUFBTXFGLFdBQVcsR0FBR0MsZ0JBQWdCLENBQXBDLE1BQW9DLENBQXBDO0FBQ0FuQixTQUFLLENBQUM7QUFDSkMsWUFBTSxFQURGO0FBRUpDLFNBQUcsRUFGQztBQUdKRSxrQkFBWSxFQUFFO0FBSFYsS0FBRCxDQUFMSixNQUlTSyxRQUFELElBQWM7QUFDcEIsWUFBTXlSLGNBQWMsR0FBR3pRLG1CQUFtQixDQUFDaEIsUUFBUSxDQUFULE1BQTFDLFlBQTBDLENBQTFDOztBQUNBLDBCQUFvQjtBQUNsQjBSLGVBQU8sb0JBQVBBLGNBQU8sQ0FBUEE7QUFERixhQUVPO0FBQ0xsVyxjQUFNLENBQU5BLE1BQWMscUNBQW9DdkMsU0FBbER1QztBQUNEO0FBVkhtRSxhQVdTTSxLQUFLLElBQUl6RSxNQUFNLENBQU5BLE1BQWMscUNBQW9DdkMsU0FBVSxLQUFJZ0gsS0FYbEZOLEVBV2tCbkUsQ0FYbEJtRTtBQVZGQSxXQXNCU00sS0FBSyxJQUFJekUsTUFBTSxDQUFOQSxNQUFjLDZCQUE0QnZDLFNBQVUsS0FBSWdILEtBdEIxRU4sRUFzQmtCbkUsQ0F0QmxCbUU7QUF1QkQsQzs7Ozs7Ozs7Ozs7QUMvQ0Q7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLG9EQUFvRDtBQUNqRTdILE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxpQkFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUVmd1Y7QUFGZSxHQUFqQjtBQUtBLFFBQU1oVixRQUFRLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFJZmlGLFFBQUksRUFBRTtBQUpTLEdBQWpCOztBQU9BLFFBQU05RixFQUFFLEdBQUcscUJBQXFCO0FBQzlCLGFBQVM7QUFDUCxhQUFPQyxNQUFNLENBQU5BLE1BQWMsa0NBQWlDQyxHQUF0RCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsb0JBQWdCO0FBQ2QsYUFBT0EsTUFBTSxDQUFOQSxLQUFhLGlCQUFnQjRWLE1BQU8sZUFBY0ssY0FBZSxZQUFXeFksU0FBbkYsRUFBT3VDLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLEtBQWEsb0JBQW1CNFYsTUFBTyxlQUFjSyxjQUFlLFlBQVd4WSxTQUF0RixFQUFPdUMsQ0FBUDtBQVRGOztBQVlBLFNBQU9tVyxJQUFJLENBQUpBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ2xDRDtBQUFBLFNBQWlCLFFBQWpCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSw4QkFBOEI7QUFDM0MsaUJBQWU7QUFDYixXQUFPLElBQUksQ0FBSixPQUFZO0FBQUUxWTtBQUFGLEtBQVosRUFBMkIsTUFBTTtBQUN0Q3VDLFlBQU0sQ0FBTkEsS0FBYSxpQkFBZ0J2QyxTQUE3QnVDO0FBREYsS0FBTyxDQUFQO0FBR0Q7O0FBRUQsU0FBTyxJQUFJLENBQUosV0FBZ0IsTUFBTTtBQUMzQkEsVUFBTSxDQUFOQTtBQURGLEdBQU8sQ0FBUDtBQUdELEM7Ozs7Ozs7Ozs7O0FDYkQ7QUFBQSxTQUFpQixRQUFqQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLGtDQUFrQztBQUMvQzFELE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQ2Z3VjtBQURlLEdBQWpCO0FBSUEsUUFBTWhWLFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFDSmdGO0FBREk7QUFEUyxHQUFqQjs7QUFNQSxRQUFNOUYsRUFBRSxHQUFJRSxHQUFELElBQVM7QUFDbEIsYUFBUztBQUNQLGFBQU9ELE1BQU0sQ0FBTkEsTUFBYyxzQkFBcUJDLEdBQTFDLEVBQU9ELENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLFFBQWdCLG1CQUFrQjRWLE1BQU8sU0FBUS9QLElBQXhELEVBQU83RixDQUFQO0FBTEY7O0FBUUEsU0FBTyxJQUFJLENBQUosMkJBQWdDO0FBQUU0QyxTQUFLLEVBQUU7QUFBVCxHQUFoQyxFQUFQLEVBQU8sQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDM0JEO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUlBOUUsV0FBVyxDQUFYQSxzQkFBa0NzWSxxQkFBcUIsQ0FBdkR0WSxlQUF1RCxDQUF2REEsRTs7Ozs7Ozs7Ozs7QUNKQSxjQUFTSDtBQUFULGdCQUF1QixRQUF2QixjQUFTQTtBQUFULGtDQUFTQTtBQUFULDBDQUFTQTtBQUFULDRCQUFTQTtBQUFULGdEQUFTQTtBQUFULG9DQUFTQTtBQUFUO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUdBLE1BQU0wWSxRQUFRLEdBQUcxWSxNQUFNLENBQU5BLGlCQUFqQjtBQUNBLE1BQU0yWSxXQUFXLEdBQUczWSxNQUFNLENBQU5BLGdCQUFwQjtBQUNBLE1BQU00WSxRQUFRLEdBQUksVUFBU0YsUUFBUSxDQUFDL1AsSUFBSyxJQUFHK1AsUUFBUSxDQUFDOVAsSUFBSyxRQUFPOFAsUUFBUSxDQUFDclYsT0FBMUU7QUFDQSxNQUFNMEYsS0FBSyxHQUFYOztBQUVBLE1BQU1xUCxZQUFZLEdBQUc5UixLQUFLLElBQUssR0FBRXNTLFFBQVMscUJBQW9CRixRQUFRLENBQUNHLE1BQU8sVUFBU3ZTLEtBQXZGOztBQUVBLE1BQU1xQixnQkFBZ0IsR0FBR3JCLEtBQUssSUFBSyxHQUFFc1MsUUFBUyx5QkFBd0JGLFFBQVEsQ0FBQ0csTUFBTyxVQUFTdlMsS0FBL0Y7O0FBRUEsTUFBTUssYUFBYSxHQUFHLGlCQUFrQixHQUFFaVMsUUFBUyxzQkFBcUJGLFFBQVEsQ0FBQ0csTUFBTyxVQUFTdlMsS0FBTSxTQUFRd1Msa0JBQWtCLE1BQWpJOztBQUVBLE1BQU1aLGNBQWMsR0FBSXBZLFNBQUQsSUFBZTtBQUNwQyxRQUFNbVksTUFBTSxHQUFHalAsVUFBVSxZQUF6QixJQUF5QixDQUF6QjtBQUNBO0FBRkY7O0FBS0EsTUFBTWpDLFNBQVMsR0FBRyxNQUFNNFIsV0FBVyxDQUFuQzs7QUFFQSxNQUFNOVEsbUJBQW1CLEdBQUcsZUFBZTtBQUN6QyxZQUFVO0FBQ1IsVUFBTWtSLFNBQVMsR0FBRzVTLElBQUksQ0FBdEI7O0FBQ0EsUUFBSTRTLFNBQVMsSUFBSUEsU0FBUyxDQUExQixHQUEwQixDQUExQixFQUFpQztBQUMvQixhQUFPQSxTQUFTLENBQWhCLEdBQWdCLENBQWhCO0FBQ0Q7QUFDRjs7QUFDRDtBQVBGOztBQVVBLE1BQU1DLFNBQVMsR0FBRzFTLEtBQUssSUFBSUEsS0FBSyxDQUFMQSxPQUEzQixLQUEyQkEsQ0FBM0I7O0FBRUEsTUFBTW1TLHFCQUFxQixHQUFHclAsRUFBRSxJQUFJLFVBQVUsR0FBVixTQUFzQjtBQUN4RCxRQUFNO0FBQUUxSztBQUFGLE1BQU47QUFDQSxRQUFNO0FBQUVzSDtBQUFGLE1BQU47QUFDQSxRQUFNO0FBQUVyRjtBQUFGLE1BQU47QUFFQWhDLE9BQUssS0FBTEEsTUFBSyxDQUFMQTtBQUVBLE1BQUlxYSxTQUFTLENBQWIsRUFBYSxDQUFiLEVBQW1CLE9BQU81UCxFQUFFLFVBQVUsR0FBbkIsSUFBUyxDQUFUO0FBQ25CLFNBQU8sTUFBTSxDQUFiO0FBUkYsRTs7Ozs7Ozs7Ozs7QUNqQ0EsT0FBTyxJQUFQO0FBQUEsK0I7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLQSxnQkFBZ0I7QUFDZCxNQUFJLENBQUMsS0FBTCxRQUFrQjtBQUNoQixXQUFPLElBQUksQ0FBSixLQUFVO0FBQUV0SixlQUFTLEVBQUU7QUFBYixLQUFWLENBQVA7QUFDRDs7QUFDRCxRQUFNO0FBQUE7QUFBYVM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTZCLFFBQU0sQ0FBTkEsS0FBYSx1QkFBc0J2QyxTQUFVLElBQUdTLGVBQWhEOEI7QUFFQSxTQUFPLElBQUksQ0FBSixLQUFVO0FBQUV2QztBQUFGLEdBQVYsQ0FBUDtBQUNEOztBQUVELGlCQUFpQixHQUFqQixNQUEwQjtBQUN4QixRQUFNbVosU0FBUyxHQUFHQyxJQUFJLENBQUpBLEtBQWxCLElBQWtCQSxDQUFsQjtBQUNBLFNBQU9ELFNBQVMsQ0FBQyxHQUFqQixJQUFnQixDQUFoQjtBQUNEOztBQUVEalosTUFBTSxDQUFOQSx5Qjs7Ozs7Ozs7Ozs7QUNyQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUVBLE1BQU13WSxJQUFJLEdBQUcsSUFBSXhVLEtBQUssQ0FBVCxXQUFiLE1BQWEsQ0FBYjs7QUFFQSxJQUFJaEUsTUFBTSxDQUFWLFVBQXFCO0FBQ25Cd1ksTUFBSSxDQUFKQSxhQUFrQjtBQUFFMVksYUFBUyxFQUFYO0FBQWdCbVksVUFBTSxFQUFFO0FBQXhCLEdBQWxCTztBQUNEOztBQU5ELHFCQVFBLElBUkEsRTs7Ozs7Ozs7Ozs7QUNBQTtBQUFBLFNBQWtCO0FBQWxCO0FBQWtCLElBQWxCLEtBQWtCO0FBQWxCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsZ0JBQWdCO0FBQzdCLFFBQU07QUFBQTtBQUFhalk7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQSxRQUFNaUMsUUFBUSxHQUFHO0FBQUE7QUFFZnZELFVBQU0sRUFBRXFCO0FBRk8sR0FBakI7QUFLQSxRQUFNMEMsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKaVcsY0FBUSxFQUFFck8sSUFBSSxDQUFKQTtBQUROO0FBRFMsR0FBakI7O0FBTUEsUUFBTTFJLEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUCxhQUFPRCxNQUFNLENBQU5BLE1BQWMsK0JBQThCOUIsZUFBZ0IsS0FBSStCLEdBQXZFLEVBQU9ELENBQVA7QUFDRDtBQUhIOztBQU1BLFNBQU9zTCxLQUFLLENBQUxBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3pCRCxPQUFPLElBQVA7QUFBQSx5Qjs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUdBM04sTUFBTSxDQUFOQSxRQUFlO0FBQ2JvWjtBQURhLENBQWZwWixFOzs7Ozs7Ozs7OztBQ0hBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUtBLE1BQU1xWixlQUFlLEdBQXJCO0FBQ0EsTUFBTUMsb0JBQW9CLEdBQUl0WixNQUFNLENBQU5BLHlCQUFELG1CQUFDQSxHQUE5QjtBQUNBLE1BQU11WixhQUFhLEdBQUdELG9CQUFvQixHQUFwQkEsZ0JBQXRCO0FBQ0EsTUFBTUUseUJBQXlCLEdBQUl4WixNQUFNLENBQU5BLHlCQUFELGlCQUFDQSxHQUFuQztBQUNBLE1BQU15WixhQUFhLEdBQUdELHlCQUF5QixJQUFLRCxhQUFhLEdBQTNDQyxJQUNqQkQsYUFBYSxHQURJQyxJQUF0Qjs7QUFHQSxvQkFBb0I7QUFDbEIsTUFBSSxDQUFDLEtBQUwsUUFBa0I7QUFBQSxZQUNSO0FBQ1Q7O0FBQ0QsUUFBTTtBQUFBO0FBQWFqWjtBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDs7QUFDQSxRQUFNRyxFQUFFLEdBQUczQixDQUFDLENBQURBLFNBQVgsT0FBV0EsQ0FBWDs7QUFDQXFELFFBQU0sQ0FBTkEsS0FBYSwwQ0FBeUM5QixlQUF0RDhCOztBQUNBLFFBQU1xWCxVQUFVLEdBQUlDLFFBQUQsSUFBYztBQUMvQixVQUFNbFosT0FBTyxHQUFHO0FBQ2RtWixVQUFJLEVBQUU7QUFDSjlQLGVBQU8sRUFESDtBQUVKSyxZQUFJLEVBQUVXLElBQUksQ0FGTixHQUVFQSxFQUZGO0FBR0poTDtBQUhJO0FBRFEsS0FBaEI7QUFPQSxRQUFJc0osRUFBRSxHQUFHLGdCQUFULElBQVMsQ0FBVDtBQUNBLGtCQUFjQSxFQUFFLEdBQUcsa0JBQUxBLElBQUssQ0FBTEE7QUFDZEEsTUFBRSxzQkFBRkEsT0FBRSxDQUFGQTtBQVZGOztBQVlBc1EsWUFBVTtBQUNWO0FBQ0EsUUFBTUMsUUFBUSxHQUFHM1osTUFBTSxDQUFOQSxZQUFtQixNQUFNMFosVUFBVSxDQUFuQzFaLElBQW1DLENBQW5DQSxFQUFqQixhQUFpQkEsQ0FBakI7QUFFQSxjQUFZLE1BQU07QUFDaEJBLFVBQU0sQ0FBTkE7QUFERjtBQUdEOztBQUVEQSxNQUFNLENBQU5BLCtCOzs7Ozs7Ozs7OztBQ3hDQTtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsdUJBQXVCO0FBQUV0QjtBQUFGLENBQXZCLGFBQTRDO0FBQ3pELFFBQU07QUFBRW1iO0FBQUYsTUFBTjtBQUVBbGIsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUVBbWIsa0JBQWdCLFlBQWhCQSxJQUFnQixDQUFoQkE7QUFFQSxTQUFPQyxVQUFVLFlBQWpCLE1BQWlCLENBQWpCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNiRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUscUJBQXFCO0FBQUVyYjtBQUFGLENBQXJCLGFBQTBDO0FBQ3ZELFFBQU07QUFBRVE7QUFBRixNQUFOO0FBQ0EsUUFBTTtBQUFFOGE7QUFBRixNQUFOO0FBRUFyYixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUVBbWIsa0JBQWdCLFlBQWhCQSxLQUFnQixDQUFoQkE7QUFFQSxTQUFPRyxPQUFPLG9CQUFkLElBQWMsQ0FBZDtBQUNELEM7Ozs7Ozs7Ozs7O0FDZkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLHFCQUFxQjtBQUFFdmI7QUFBRixDQUFyQixhQUEwQztBQUN2RCxRQUFNO0FBQUVzYjtBQUFGLE1BQU47QUFFQXJiLE9BQUssWUFBTEEsTUFBSyxDQUFMQTs7QUFFQSxZQUFVO0FBQ1IsVUFBTTtBQUFFa2I7QUFBRixRQUFOO0FBRUFsYixTQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFFQSxXQUFPb2IsVUFBVSxZQUFqQixNQUFpQixDQUFqQjtBQUNEOztBQUVELFNBQU90RCxVQUFVLENBQWpCLFNBQWlCLENBQWpCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNsQkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLHVCQUF1QjtBQUFFL1g7QUFBRixDQUF2QixFQUFpQztBQUM5QyxRQUFNO0FBQUE7QUFBQTtBQUFrQndiO0FBQWxCLE1BQU47QUFFQXZiLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxXQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUNmOUIsTUFBRSxFQUFFa1o7QUFEVyxHQUFqQjtBQUlBLFFBQU01VyxRQUFRLEdBQUc7QUFDZmtYLFNBQUssRUFBRTtBQUNMaFcsV0FBSyxFQUFFakY7QUFERixLQURRO0FBSWZ5RSxTQUFLLEVBQUU7QUFDTHlXLGVBQVMsRUFBRTtBQUFBO0FBQVVGO0FBQVY7QUFETjtBQUpRLEdBQWpCOztBQVNBLFFBQU05WCxFQUFFLEdBQUlFLEdBQUQsSUFBUztBQUNsQixhQUFTO0FBQ1AsYUFBT0QsTUFBTSxDQUFOQSxNQUFjLDRCQUEyQkMsR0FBaEQsRUFBT0QsQ0FBUDtBQUNEOztBQUVELFdBQU9BLE1BQU0sQ0FBTkEsS0FBYSxtQ0FBa0NuRCxNQUFuQyxHQUFDLEdBQ2YsYUFBWWdiLFFBQVMsYUFBWUwsTUFEdEMsR0FBT3hYLENBQVA7QUFMRjs7QUFTQSxTQUFPZ1ksS0FBSyxDQUFMQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNsQ0Q7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UsbUJBQW1CO0FBQUUzYjtBQUFGLENBQW5CLGFBQXdDO0FBQ3JELFFBQU07QUFBRXNiO0FBQUYsTUFBTjtBQUVBcmIsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTztBQUNWZ0MsTUFBRSxFQURRO0FBRVYyWixXQUFPLEVBQUUsQ0FDUDtBQUNFM1osUUFBRSxFQURKO0FBRUU0WixTQUFHLEVBRkw7QUFHRUMsY0FBUSxFQUFFNVk7QUFIWixLQURPLENBRkM7QUFTVjZZLGtCQUFjLEVBVEo7QUFVVkMsaUJBQWEsRUFBRTlZO0FBVkwsR0FBUCxDQUFMakQ7QUFhQSxTQUFPZ2MsV0FBVyxPQUFsQixTQUFrQixDQUFsQjtBQUNELEM7Ozs7Ozs7Ozs7O0FDckJELE9BQU94YSxNQUFQLENBQU9BO0FBQVAsaUJBQXdCO0FBQWpCQSxDQUFQO0FBQXdCLElBQXhCLFdBQXdCO0FBQXhCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLHVCQUF1QjtBQUNwQyxRQUFNQyxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUNBLFFBQU13WixJQUFJLEdBQUcsS0FBSyxDQUFMLFFBQWM7QUFBRWxhO0FBQUYsR0FBZCxDQUFiLENBTm9DLENBTU87O0FBQzNDLE1BQUksQ0FBSixNQUFXO0FBQ1R1QyxVQUFNLENBQU5BLE1BQWMsdURBQXNEdkMsU0FBcEV1QztBQUNBO0FBQ0Q7O0FBRUQsU0FBTyxXQUFXLENBQVgsb0VBS0o7QUFBRXVZLGVBQVcsRUFBYjtBQUFnQ2YsVUFBTSxFQUFFRyxJQUFJLENBQUNyWjtBQUE3QyxHQUxJLENBQVA7QUFPRCxDOzs7Ozs7Ozs7OztBQ3hCRCxPQUFPUixNQUFQLENBQU9BO0FBQVAsaUJBQXdCO0FBQWpCQSxDQUFQO0FBQXdCLElBQXhCLFdBQXdCO0FBQXhCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFNZSx1Q0FBdUM7QUFBRTtBQUN0RCxRQUFNQyxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUNBOzs7Ozs7QUFLQSxRQUFNcWEsV0FBVyxHQUFHLEtBQUssQ0FBTCxRQUFjO0FBQ2hDMVcsU0FBSyxFQUQyQjtBQUFBO0FBR2hDLGtCQUhnQztBQUloQ3hEO0FBSmdDLEdBQWQsQ0FBcEI7QUFPQWhDLE9BQUssZUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGNBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxDQUFDa2MsV0FBVyxDQUFaLFdBQUxsYyxNQUFLLENBQUxBO0FBRUEsUUFBTThCLE9BQU8sR0FBRztBQUNkbWEsZUFBVyxFQURHO0FBRWRmLFVBQU0sRUFBRWdCLFdBQVcsQ0FGTDtBQUdkQyxjQUFVLEVBSEk7QUFJZFosWUFBUSxFQUFFYTtBQUpJLEdBQWhCO0FBT0EsUUFBTXRZLFFBQVEsR0FBRztBQUNmMEIsU0FBSyxFQURVO0FBQUE7QUFHZixrQkFBYzRXO0FBSEMsR0FBakI7QUFNQSxRQUFNOVgsUUFBUSxHQUFHO0FBQ2ZrWCxTQUFLLEVBQUU7QUFDTGhXLFdBQUssRUFBRTVEO0FBREY7QUFEUSxHQUFqQjs7QUFNQSxRQUFNNkIsRUFBRSxHQUFJRSxHQUFELElBQVM7QUFDbEIsYUFBUztBQUNQLGFBQU9ELE1BQU0sQ0FBTkEsTUFBYyw4QkFBNkJDLEdBQWxELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLEtBQWEseUNBQXdDdkMsU0FBekMsSUFBQyxHQUNmLFdBQVUrYSxXQUFXLENBQUNsYSxFQUQzQixJQUFPMEIsQ0FBUDtBQUxGOztBQVNBZ1ksT0FBSyxDQUFMQTtBQUVBLFNBQU9sYSxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQzNERCxPQUFPQSxNQUFQLENBQU9BO0FBQVAsaUJBQXdCO0FBQWpCQSxDQUFQO0FBQXdCO0FBQXhCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsOENBQThDO0FBQzNELFFBQU1DLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFFQSxNQUFJRSxVQUFVLEdBQWQ7QUFFQSxRQUFNO0FBQUE7QUFBYUM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTdCLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFdBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEIsT0FBTyxHQUFHO0FBQ2RtYSxlQUFXLEVBREc7QUFFZGYsVUFBTSxFQUFHLEdBQUVBLE1BQU8sSUFBRyxvQkFGUDtBQUdkbUI7QUFIYyxHQUFoQjs7QUFNQSxNQUFJQSxRQUFRLEtBQVosVUFBMkI7QUFDekIxYSxjQUFVLEdBQVZBO0FBQ0EzQixTQUFLLFVBQUxBLEtBQUssQ0FBTEE7QUFDQThCLFdBQU8sQ0FBUEE7QUFDRDs7QUFFRCxTQUFPTixXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQzVCRCxPQUFPQSxNQUFQLENBQU9BO0FBQVAsaUJBQXdCO0FBQWpCQSxDQUFQO0FBQXdCO0FBQXhCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSxvQkFBb0I7QUFDakMsUUFBTTtBQUFBO0FBQWFJLG1CQUFlLEVBQUVxYTtBQUE5QixNQUE4Q3BhLGtCQUFrQixDQUFDLEtBQXZFLE1BQXNFLENBQXRFO0FBQ0EsUUFBTUosWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7QUFFQSxTQUFPLFdBQVcsQ0FBWCxnRUFLSjtBQUFFc2E7QUFBRixHQUxJLENBQVA7QUFPRCxDOzs7Ozs7Ozs7OztBQ2hCRDtBQUFBLFNBQWtCO0FBQWxCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBTWUsK0NBQStDO0FBQzVEamMsT0FBSyxjQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLE9BQU87QUFDVmdDLE1BQUUsRUFEUTtBQUVWMlosV0FBTyxFQUFFLENBQ1A7QUFDRTNaLFFBQUUsRUFESjtBQUVFNFosU0FBRyxFQUFFOVk7QUFGUCxLQURPO0FBRkMsR0FBUCxDQUFMOUM7QUFVQSxRQUFNc2MsWUFBWSxHQUFHO0FBQUE7QUFFbkIvYixVQUFNLEVBQUU7QUFBRWdjLFNBQUcsRUFBRU47QUFBUCxLQUZXO0FBR25CTyxjQUFVLEVBQUU7QUFBRUQsU0FBRyxFQUFFO0FBQVA7QUFITyxHQUFyQjtBQU1BLFFBQU1FLE9BQU8sR0FBRyxLQUFLLENBQUwsbUJBQXlCO0FBQUUzVixVQUFNLEVBQUU7QUFBRXZHLFlBQU0sRUFBRTtBQUFWO0FBQVYsR0FBekIsY0FFVDRGLElBQUksSUFBSUEsSUFBSSxDQUZuQixNQUFnQixDQUFoQjtBQUlBLFFBQU1yQyxRQUFRLEdBQUc7QUFBQTtBQUVmNFksYUFBUyxFQUZNO0FBR2YxYSxNQUFFLEVBQUVxWixJQUFJLENBQUNyWjtBQUhNLEdBQWpCO0FBTUEsUUFBTXNDLFFBQVEsR0FBRyxNQUFNLENBQU4sT0FDZjtBQUFFbkQ7QUFBRixHQURlLEVBRWY7QUFBRXViLGFBQVMsRUFBRVQ7QUFBYixHQUZlLEVBR2Y7QUFBRXpXLFNBQUssRUFBRWlYO0FBQVQsR0FIZSxFQUlmeFcsSUFBSSxPQUFPO0FBQUUwRyxRQUFJLEVBQUU7QUFBUixHQUFQLENBSlcsQ0FBakI7O0FBT0EsUUFBTWxKLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsUUFBSUUsR0FBRyxJQUFQLE1BQWlCO0FBQ2YsYUFBT0QsTUFBTSxDQUFOQSxNQUFjLDhCQUE2QjJYLElBQUksQ0FBQ3JaLEVBQXZELEVBQU8wQixDQUFQO0FBQ0Q7O0FBRUQsVUFBTTtBQUFFRTtBQUFGLFFBQU47O0FBQ0Esb0JBQWdCO0FBQ2QsYUFBT0YsTUFBTSxDQUFOQSxLQUFhLGlCQUFnQjJYLElBQUksQ0FBQ3JaLEVBQXpDLEVBQU8wQixDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFhLG9CQUFtQjJYLElBQUksQ0FBQ3JaLEVBQTVDLEVBQU8wQixDQUFQO0FBVkY7O0FBYUEsU0FBT2dZLEtBQUssQ0FBTEEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDeEREO0FBQUEsU0FBa0IsUUFBbEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLCtCQUErQjtBQUM1QyxpQkFBZTtBQUNiLFdBQU8sS0FBSyxDQUFMLE9BQWE7QUFBRXZhO0FBQUYsS0FBYixFQUE0QixNQUFNO0FBQ3ZDdUMsWUFBTSxDQUFOQSxLQUFhLGtCQUFpQnZDLFNBQTlCdUM7QUFERixLQUFPLENBQVA7QUFHRDs7QUFFRCxTQUFPLEtBQUssQ0FBTCxXQUFpQixNQUFNO0FBQzVCQSxVQUFNLENBQU5BO0FBREYsR0FBTyxDQUFQO0FBR0QsQzs7Ozs7Ozs7Ozs7QUNiRDtBQUFBLFNBQWtCLFFBQWxCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsbUNBQW1DO0FBQ2hEMUQsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssS0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUVmOUI7QUFGZSxHQUFqQjs7QUFLQSxRQUFNeUIsRUFBRSxHQUFJRSxHQUFELElBQVM7QUFDbEIsYUFBUztBQUNQLGFBQU9ELE1BQU0sQ0FBTkEsTUFBYyxrQ0FBaUNDLEdBQXRELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLEtBQWEsbUJBQWtCMUIsRUFBdEMsRUFBTzBCLENBQVA7QUFMRjs7QUFRQSxTQUFPZ1ksS0FBSyxDQUFMQSxpQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUN0QkQ7QUFBQSxTQUFrQixRQUFsQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLZSxzQ0FBc0M7QUFDbkQxYixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxPQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTTtBQUFBO0FBQUE7QUFBQTtBQUlKOGI7QUFKSSxNQUFOO0FBT0E5YixPQUFLLEtBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxVQUFMQSxLQUFLLENBQUxBO0FBRUFBLE9BQUssZ0JBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxpQkFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUVmOUI7QUFGZSxHQUFqQjtBQUtBLFFBQU1zQyxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFMEIsSUFBSSxPQUFPO0FBQUUwRyxVQUFJLEVBQUU7QUFBUixLQUFQO0FBREssR0FBakI7O0FBSUEsUUFBTWxKLEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUCxhQUFPRCxNQUFNLENBQU5BLE1BQWMsOEJBQTZCQyxHQUFsRCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFhLHlDQUF3Q3ZDLFNBQVUsYUFBWWEsRUFBbEYsSUFBTzBCLENBQVA7QUFMRjs7QUFRQSxTQUFPZ1ksS0FBSyxDQUFMQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUN4Q0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBT0FsYSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEEsc0Q7Ozs7Ozs7Ozs7O0FDWEEsT0FBTyxJQUFQO0FBQUE7QUFBQSw0Qjs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU1BSCxNQUFNLENBQU5BLFFBQWU7QUFBQTtBQUFBO0FBQUE7QUFJYnNiO0FBSmEsQ0FBZnRiLEU7Ozs7Ozs7Ozs7O0FDTkE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLQSx1QkFBdUI7QUFDckIsTUFBSSxDQUFDLEtBQUwsUUFBa0I7QUFDaEIsV0FBTyxLQUFLLENBQUwsS0FBVztBQUFFRixlQUFTLEVBQUU7QUFBYixLQUFYLENBQVA7QUFDRDs7QUFDRCxRQUFNO0FBQUVBO0FBQUYsTUFBZ0JVLGtCQUFrQixDQUFDLEtBQXpDLE1BQXdDLENBQXhDO0FBRUEsUUFBTWlDLFFBQVEsR0FBRztBQUNmM0M7QUFEZSxHQUFqQjtBQUlBdUMsUUFBTSxDQUFOQSxNQUFjLCtCQUE4QnZDLFNBQTVDdUM7QUFFQSxTQUFPZ1ksS0FBSyxDQUFMQSxLQUFQLFFBQU9BLENBQVA7QUFDRDs7QUFFRCw0QkFBNEIsR0FBNUIsTUFBcUM7QUFDbkMsUUFBTWtCLFVBQVUsR0FBR1YsV0FBVyxDQUFYQSxLQUFuQixJQUFtQkEsQ0FBbkI7QUFDQSxTQUFPVSxVQUFVLENBQUMsR0FBbEIsSUFBaUIsQ0FBakI7QUFDRDs7QUFFRHZiLE1BQU0sQ0FBTkE7O0FBR0EsaUJBQWlCO0FBQ2YsTUFBSSxDQUFDLEtBQUwsUUFBa0I7QUFDaEIsV0FBTyxLQUFLLENBQUwsS0FBVztBQUFFRixlQUFTLEVBQUU7QUFBYixLQUFYLENBQVA7QUFDRDs7QUFFRCxRQUFNO0FBQUE7QUFBYVM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTZCLFFBQU0sQ0FBTkEsTUFBYyxxQkFBb0J2QyxTQUFVLElBQUdTLGVBQS9DOEI7QUFFQSxRQUFNSSxRQUFRLEdBQUc7QUFBQTtBQUVmMEIsU0FBSyxFQUFFNUQ7QUFGUSxHQUFqQjtBQUtBLFNBQU84WixLQUFLLENBQUxBLEtBQVAsUUFBT0EsQ0FBUDtBQUNEOztBQUVELGlCQUFpQixHQUFqQixNQUEwQjtBQUN4QixRQUFNa0IsVUFBVSxHQUFHQyxLQUFLLENBQUxBLEtBQW5CLElBQW1CQSxDQUFuQjtBQUNBLFNBQU9ELFVBQVUsQ0FBQyxHQUFsQixJQUFpQixDQUFqQjtBQUNEOztBQUVEdmIsTUFBTSxDQUFOQSwwQjs7Ozs7Ozs7Ozs7QUNsREE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUVBLE1BQU1xYSxLQUFLLEdBQUcsSUFBSXJXLEtBQUssQ0FBVCxXQUFkLE9BQWMsQ0FBZDs7QUFFQSxJQUFJaEUsTUFBTSxDQUFWLFVBQXFCO0FBQ25CO0FBQ0E7QUFFQXFhLE9BQUssQ0FBTEEsYUFBbUI7QUFBRXZhLGFBQVMsRUFBRTtBQUFiLEdBQW5CdWE7QUFDRDs7QUFURCxxQkFXQSxLQVhBLEU7Ozs7Ozs7Ozs7O0FDQUE7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2Usd0NBQXdDO0FBQUUzYjtBQUFGLENBQXhDLGFBQTZEO0FBQzFFQyxPQUFLLE9BQU87QUFDVjhjLHNCQUFrQixFQURSO0FBRVZDLFNBQUssRUFBRWphO0FBRkcsR0FBUCxDQUFMOUM7QUFJQUEsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTTtBQUFBO0FBQXNCK2M7QUFBdEIsTUFBTjtBQUVBLFFBQU1DLEdBQUcsR0FBRztBQUFBO0FBRVZEO0FBRlUsR0FBWjtBQUtBRSxvQkFBa0IsWUFBbEJBLEdBQWtCLENBQWxCQTtBQUNELEM7Ozs7Ozs7Ozs7O0FDbEJEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLHFDQUFxQztBQUFFbGQ7QUFBRixDQUFyQyxhQUEwRDtBQUN2RUMsT0FBSyxPQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU07QUFBRStjO0FBQUYsTUFBTjtBQUVBL2MsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBRUFrZCx1QkFBcUIsWUFBckJBLEtBQXFCLENBQXJCQTtBQUNELEM7Ozs7Ozs7Ozs7O0FDWkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UsaUNBQWlDO0FBQUVuZDtBQUFGLENBQWpDLGFBQXNEO0FBQ25FQyxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNO0FBQUE7QUFBU21kO0FBQVQsTUFBTjtBQUVBbmQsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssa0JBQUxBLE1BQUssQ0FBTEE7QUFFQW9kLG1CQUFpQixtQkFBakJBLGVBQWlCLENBQWpCQTtBQUNELEM7Ozs7Ozs7Ozs7O0FDWkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLZSx1Q0FBdUM7QUFBRXJkO0FBQUYsQ0FBdkMsYUFBNEQ7QUFDekVDLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNO0FBQUVxZDtBQUFGLE1BQU47QUFDQXJkLE9BQUssT0FBTEEsS0FBSyxDQUFMQTtBQUVBLFFBQU1zZCxrQkFBa0IsR0FBR0QsSUFBSSxDQUFKQSxJQUFTTCxHQUFHLElBQUlBLEdBQUcsQ0FBOUMsRUFBMkJLLENBQTNCO0FBRUEsUUFBTUUsd0JBQXdCLEdBQUcsZ0JBQWdCLENBQWhCLEtBQXNCO0FBQUE7QUFFckRSLFNBQUssRUFBRTtBQUFFUyxVQUFJLEVBQUVGO0FBQVI7QUFGOEMsR0FBdEIsRUFHOUI7QUFBRXhXLFVBQU0sRUFBRTtBQUFFaVcsV0FBSyxFQUFFO0FBQVQ7QUFBVixHQUg4QixFQUFqQyxLQUFpQyxFQUFqQztBQUtBUSwwQkFBd0IsQ0FBeEJBLFFBQWlDRSxDQUFDLElBQUlQLHFCQUFxQixZQUFZTyxDQUFDLENBQXhFRixLQUEyRCxDQUEzREE7QUFFQUYsTUFBSSxDQUFKQSxRQUFjTCxHQUFELElBQVM7QUFDcEI7QUFDQTtBQUNBLFVBQU07QUFDSmhiLFFBQUUsRUFERTtBQUVKMGIsc0JBQWdCLEVBRlo7QUFHSkM7QUFISSxRQUFOO0FBS0FWLHNCQUFrQixZQUFZO0FBQUE7QUFBU0g7QUFBVCxLQUFaLEVBQWxCRyxhQUFrQixDQUFsQkE7QUFSRkk7QUFVRCxDOzs7Ozs7Ozs7OztBQy9CRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFPZSw0Q0FBNENNLGFBQWEsR0FBekQsV0FBdUU7QUFDcEYzZCxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxnQkFBZ0JzRCxLQUFLLENBQUxBLE1BQXJCdEQsS0FBcUJzRCxDQUFoQixDQUFMdEQ7QUFDQUEsT0FBSyxNQUFNO0FBQ1Q4YyxzQkFBa0IsRUFEVDtBQUVUQyxTQUFLLEVBQUVqYTtBQUZFLEdBQU4sQ0FBTDlDO0FBS0EsUUFBTTtBQUFBO0FBQXNCK2M7QUFBdEIsTUFBTjtBQUVBLFFBQU1qWixRQUFRLEdBQUc7QUFBQTtBQUVmaVo7QUFGZSxHQUFqQjtBQUtBLFFBQU16WSxRQUFRLEdBQUc7QUFBQTtBQUFBO0FBR2Z3WTtBQUhlLEdBQWpCOztBQU1BLFFBQU1yWixFQUFFLEdBQUcscUJBQXFCO0FBQzlCLGFBQVM7QUFDUCxhQUFPQyxNQUFNLENBQU5BLE1BQWMsOENBQTZDQyxHQUFsRSxFQUFPRCxDQUFQO0FBRjRCLE1BSzlCOzs7QUFDQSx1QkFBbUI7QUFDakJpYSxtQkFBYSxDQUFiQSxRQUFzQkMsWUFBWSxJQUFJQyxlQUFlLG1CQUFyREYsWUFBcUQsQ0FBckRBO0FBQ0Q7O0FBRUQsb0JBQWdCO0FBQ2QsYUFBT2phLE1BQU0sQ0FBTkEsS0FBYSw2QkFBNEJxWixLQUFNLFlBQVc1YixTQUFqRSxFQUFPdUMsQ0FBUDtBQUNEOztBQUVELFdBQU9BLE1BQU0sQ0FBTkEsS0FBYSxnQ0FBK0JxWixLQUFNLFlBQVc1YixTQUFwRSxFQUFPdUMsQ0FBUDtBQWRGOztBQWlCQSxTQUFPb2EsZ0JBQWdCLENBQWhCQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUM5Q0QsT0FBT0EsTUFBUCxDQUFPQTtBQUFBQSxXQUFQO0FBQU9BLENBQVA7QUFBNkIsSUFBN0IsZ0JBQTZCO0FBQTdCO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLDBDQUEwQztBQUN2RCxpQkFBZTtBQUNiLFdBQU8sZ0JBQWdCLENBQWhCLE9BQ0w7QUFBRTNjO0FBQUYsS0FESyxFQUVMLE1BQU07QUFDSjRjLHdCQUFrQixDQUFsQkEsU0FBa0IsQ0FBbEJBO0FBQ0FDLGtDQUE0QixDQUE1QkEsU0FBNEIsQ0FBNUJBO0FBQ0F0YSxZQUFNLENBQU5BLEtBQWEsK0JBQThCdkMsU0FBM0N1QztBQUxKLEtBQU8sQ0FBUDtBQVFEOztBQUVELFNBQU8sZ0JBQWdCLENBQWhCLFdBQTRCLE1BQU07QUFDdkNxYSxzQkFBa0I7QUFDbEJDLGdDQUE0QjtBQUM1QnRhLFVBQU0sQ0FBTkE7QUFIRixHQUFPLENBQVA7QUFLRCxDOzs7Ozs7Ozs7OztBQ3RCRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFNZSxpREFBaUQ7QUFDOUQxRCxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUFBO0FBRWZpWjtBQUZlLEdBQWpCOztBQUtBLFFBQU10WixFQUFFLEdBQUlFLEdBQUQsSUFBUztBQUNsQixhQUFTO0FBQ1BELFlBQU0sQ0FBTkEsTUFBYyw4Q0FBNkNDLEdBQTNERDtBQUNBO0FBQ0Q7O0FBRUQsZUFBVztBQUNUQSxZQUFNLENBQU5BLEtBQWEsK0JBQThCcVosS0FBTSxZQUFXNWIsU0FBNUR1QztBQUNBcWEsd0JBQWtCLFlBQWxCQSxLQUFrQixDQUFsQkE7QUFDQUMsa0NBQTRCLFlBQTVCQSxLQUE0QixDQUE1QkE7QUFDRDtBQVZIOztBQWFBLFNBQU9GLGdCQUFnQixDQUFoQkEsaUJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDN0JEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSw4REFBOEQ7QUFDM0U5ZCxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssa0JBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQUE7QUFFZmlaO0FBRmUsR0FBakI7QUFLQSxRQUFNelksUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKdVksd0JBQWtCLEVBQUVLO0FBRGhCO0FBRFMsR0FBakI7O0FBTUEsUUFBTTFaLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQQyxZQUFNLENBQU5BLE1BQWMsK0JBQThCQyxHQUE1Q0Q7QUFDQTtBQUNEOztBQUVELG9CQUFnQjtBQUNkQSxZQUFNLENBQU5BLEtBQWEsaUNBQWdDcVosS0FBTSxZQUFXNWIsU0FBOUR1QztBQUNEO0FBUkg7O0FBV0EsU0FBT29hLGdCQUFnQixDQUFoQkEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDaENEO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBTUF0YyxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBLG9FOzs7Ozs7Ozs7OztBQ1RBLE9BQU8sSUFBUDtBQUFBO0FBQUEsNEI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS0EsNEJBQTRCO0FBQzFCLE1BQUksQ0FBQyxLQUFMLFFBQWtCO0FBQ2hCLFdBQU8sZ0JBQWdCLENBQWhCLEtBQXNCO0FBQUVMLGVBQVMsRUFBRTtBQUFiLEtBQXRCLENBQVA7QUFDRDs7QUFDRCxRQUFNO0FBQUE7QUFBYVM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFDQTZCLFFBQU0sQ0FBTkEsTUFBYyxvQ0FBbUN2QyxTQUFVLElBQUdTLGVBQTlEOEI7QUFFQSxTQUFPLGdCQUFnQixDQUFoQixLQUFzQjtBQUFFdkM7QUFBRixHQUF0QixDQUFQO0FBQ0Q7O0FBRUQsaUJBQWlCLEdBQWpCLE1BQTBCO0FBQ3hCLFFBQU04YyxxQkFBcUIsR0FBR0MsZ0JBQWdCLENBQWhCQSxLQUE5QixJQUE4QkEsQ0FBOUI7QUFDQSxTQUFPRCxxQkFBcUIsQ0FBQyxHQUE3QixJQUE0QixDQUE1QjtBQUNEOztBQUVENWMsTUFBTSxDQUFOQSxzQzs7Ozs7Ozs7Ozs7QUNwQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUVBLE1BQU15YyxnQkFBZ0IsR0FBRyxJQUFJelksS0FBSyxDQUFULFdBQXpCLG1CQUF5QixDQUF6Qjs7QUFFQSxJQUFJaEUsTUFBTSxDQUFWLFVBQXFCO0FBQ25CO0FBQ0E7QUFFQXljLGtCQUFnQixDQUFoQkEsYUFBOEI7QUFBRTNjLGFBQVMsRUFBWDtBQUFnQjRiLFNBQUssRUFBRTtBQUF2QixHQUE5QmU7QUFDRDs7QUFURCxxQkFXQSxnQkFYQSxFOzs7Ozs7Ozs7OztBQ0FBO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSwyQ0FBMkM7QUFBQTtBQUFRN2Q7QUFBUixDQUEzQyxhQUF3RTtBQUNyRkQsT0FBSyxPQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTTtBQUFFTztBQUFGLE1BQU47QUFDQSxRQUFNO0FBQUE7QUFBUzRkO0FBQVQsTUFBTjtBQUVBbmUsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssUUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFdBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQUE7QUFBQTtBQUFBO0FBSWZxYTtBQUplLEdBQWpCOztBQU9BLFFBQU0xYSxFQUFFLEdBQUlFLEdBQUQsSUFBUztBQUNsQixhQUFTO0FBQ1BELFlBQU0sQ0FBTkEsTUFBYywrQ0FBOENDLEdBQTVERDtBQUNBO0FBQ0Q7O0FBRURBLFVBQU0sQ0FBTkEsS0FBYSx1Q0FBc0N5YSxRQUFTLFVBQVNwQixLQUFNLFlBQVc1YixTQUF0RnVDO0FBTkY7O0FBU0EsU0FBTyx1QkFBdUIsQ0FBdkIsaUJBQXlDO0FBQUUwYSxVQUFNLEVBQVI7QUFBZ0JDLGNBQVUsRUFBRTtBQUE1QixHQUF6QyxFQUFQLEVBQU8sQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDL0JEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSwyQ0FBMkM7QUFBQTtBQUFRcGU7QUFBUixDQUEzQyxhQUF3RTtBQUNyRkQsT0FBSyxPQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTTtBQUFFTztBQUFGLE1BQU47QUFDQSxRQUFNO0FBQUE7QUFBQTtBQUFxQjRkO0FBQXJCLE1BQU47QUFFQW5lLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFFBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxhQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssV0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFJZnFhO0FBSmUsR0FBakI7QUFPQSxRQUFNRyxHQUFHLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTVZGLFVBQU0sRUFOSTtBQU9WRyxRQUFJLEVBQUU7QUFQSSxHQUFaOztBQVVBLFFBQU05YSxFQUFFLEdBQUlFLEdBQUQsSUFBUztBQUNsQixhQUFTO0FBQ1BELFlBQU0sQ0FBTkEsTUFBYyxnREFBK0NDLEdBQTdERDtBQUNBO0FBQ0Q7O0FBRURBLFVBQU0sQ0FBTkEsS0FBYSx3Q0FBdUN5YSxRQUFTLFVBQVNwQixLQUFNLFlBQVc1YixTQUF2RnVDO0FBTkY7O0FBU0EsU0FBTzhhLHVCQUF1QixDQUF2QkEsc0JBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDMUNELE9BQU9oZCxNQUFQLENBQU9BO0FBQVA7QUFBT0EsQ0FBUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSx5REFBeUQ7QUFDdEUsUUFBTUMsWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7QUFFQSxRQUFNO0FBQUE7QUFBYUM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFDQTdCLE9BQUssUUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFdBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEIsT0FBTyxHQUFHO0FBQUE7QUFFZHFjO0FBRmMsR0FBaEI7QUFLQSxTQUFPM2MsV0FBVyxDQUFYQSxvRUFBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNuQkQsT0FBT2dkLE1BQVAsQ0FBT0E7QUFBQUEsaUJBQVA7QUFBT0EsQ0FBUDtBQUFvQztBQUFBLE1BQXBDLEtBQW9DLENBQXBDLHdDQUFvQyxFQUFwQztBQUFBO0FBQUE7QUFBQTs7QUFBQSxDQUFvQyxFQUFwQyxDQUFvQztBQUFwQztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSxrQ0FBa0M7QUFDL0MsUUFBTTtBQUFBO0FBQWE1YztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBLFFBQU1DLE9BQU8sR0FBRztBQUNkeUMsUUFBSSxFQUFFO0FBQ0pnYSxVQUFJLEVBQUU7QUFERjtBQURRLEdBQWhCOztBQUtBLFFBQU05YSxFQUFFLEdBQUlFLEdBQUQsSUFBUztBQUNsQixhQUFTO0FBQ1BELFlBQU0sQ0FBTkEsTUFBYyxpQ0FBZ0NDLEdBQTlDRDtBQUNBO0FBQ0Q7O0FBRURBLFVBQU0sQ0FBTkEsS0FBYSxVQUFTMmEsVUFBVyxvQ0FBbUNsZCxTQUFwRXVDO0FBTkY7O0FBU0EsU0FBTyx1QkFBdUIsQ0FBdkIsT0FBK0I7QUFBQTtBQUVwQ25ELFVBQU0sRUFGOEI7QUFHcEM4ZDtBQUhvQyxHQUEvQixXQUFQLEVBQU8sQ0FBUDtBQUtELEM7Ozs7Ozs7Ozs7O0FDMUJELE9BQU9HLE1BQVAsQ0FBT0E7QUFBQUEsaUJBQVA7QUFBT0EsQ0FBUDtBQUFvQyxJQUFwQyx1QkFBb0M7QUFBcEM7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLHdEQUF3RDtBQUNyRSxNQUFJcmQsU0FBUyxJQUFiLE9BQXdCO0FBQ3RCLFdBQU8sdUJBQXVCLENBQXZCLE9BQStCO0FBQUE7QUFBYTRiO0FBQWIsS0FBL0IsRUFBcUQsTUFBTTtBQUNoRXJaLFlBQU0sQ0FBTkEsS0FBYSx1Q0FBc0N2QyxTQUFVLEtBQUk0YixLQUFqRXJaO0FBREYsS0FBTyxDQUFQO0FBR0Q7O0FBRUQsaUJBQWU7QUFDYixXQUFPLHVCQUF1QixDQUF2QixPQUErQjtBQUFFdkM7QUFBRixLQUEvQixFQUE4QyxNQUFNO0FBQ3pEdUMsWUFBTSxDQUFOQSxLQUFhLHVDQUFzQ3ZDLFNBQW5EdUM7QUFERixLQUFPLENBQVA7QUFSbUUsSUFhckU7OztBQUNBLFNBQU8sdUJBQXVCLENBQXZCLFdBQW1DLE1BQU07QUFDOUNBLFVBQU0sQ0FBTkE7QUFERixHQUFPLENBQVA7QUFHRCxDOzs7Ozs7Ozs7OztBQ3BCRDtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBTUFsQyxXQUFXLENBQVhBLHlDQUFxRHVDLHlCQUF5QixDQUE5RXZDLGlDQUE4RSxDQUE5RUE7QUFDQUEsV0FBVyxDQUFYQSx5Q0FBcUR1Qyx5QkFBeUIsQ0FBOUV2QyxpQ0FBOEUsQ0FBOUVBLEU7Ozs7Ozs7Ozs7O0FDUEEsT0FBTyxJQUFQO0FBQUE7QUFBQSw0Qjs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFJQUgsTUFBTSxDQUFOQSxRQUFlO0FBQUE7QUFFYm9kO0FBRmEsQ0FBZnBkLEU7Ozs7Ozs7Ozs7O0FDSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBTUEsa0RBQWtEO0FBQ2hELE1BQUksQ0FBQyxLQUFMLFFBQWtCO0FBQ2hCLFdBQU8sdUJBQXVCLENBQXZCLEtBQTZCO0FBQUVGLGVBQVMsRUFBRTtBQUFiLEtBQTdCLENBQVA7QUFDRDs7QUFDRCxRQUFNO0FBQUE7QUFBYVM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFDQTdCLE9BQUssUUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFdBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQUE7QUFBQTtBQUdmdkQsVUFBTSxFQUhTO0FBSWY0ZDtBQUplLEdBQWpCO0FBT0F6YSxRQUFNLENBQU5BLE1BQWMsMENBQXlDdkMsU0FBVSxJQUFHUyxlQUFwRThCO0FBRUEsU0FBTzhhLHVCQUF1QixDQUF2QkEsS0FBUCxRQUFPQSxDQUFQO0FBQ0Q7O0FBRUQsaUJBQWlCLEdBQWpCLE1BQTBCO0FBQ3hCLFFBQU1FLDRCQUE0QixHQUFHQyx1QkFBdUIsQ0FBdkJBLEtBQXJDLElBQXFDQSxDQUFyQztBQUNBLFNBQU9ELDRCQUE0QixDQUFDLEdBQXBDLElBQW1DLENBQW5DO0FBQ0Q7O0FBRURyZCxNQUFNLENBQU5BLDhDOzs7Ozs7Ozs7OztBQy9CQSxNQUFNbWQsdUJBQXVCLEdBQUcsSUFBSW5aLEtBQUssQ0FBVCxXQUFoQywyQkFBZ0MsQ0FBaEM7QUFBQSxNQUFNbVosY0FBTixDQUVBLHVCQUZBLEU7Ozs7Ozs7Ozs7O0FDQUE7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UsaUNBQWlDO0FBQUV6ZTtBQUFGLENBQWpDLGFBQXNEO0FBQ25FQyxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNO0FBQUE7QUFBZ0IrYztBQUFoQixNQUFOO0FBRUEvYyxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssZUFBTEEsTUFBSyxDQUFMQTtBQUVBLFNBQU82ZCxlQUFlLG1CQUF0QixZQUFzQixDQUF0QjtBQUNELEM7Ozs7Ozs7Ozs7O0FDYkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBSUE7QUFDQSxNQUFNZSxnQ0FBZ0MsR0FBdEM7QUFDQSxNQUFNQyxpQ0FBaUMsR0FBdkM7QUFDQSxNQUFNQyxzQkFBc0IsR0FBNUI7QUFDQSxNQUFNQyx3QkFBd0IsR0FBOUI7QUFDQSxNQUFNQyxxQkFBcUIsR0FBM0I7QUFDQSxNQUFNQyx1QkFBdUIsR0FBN0I7QUFDQSxNQUFNQyxvQkFBb0IsR0FBMUI7QUFDQSxNQUFNQyxtQkFBbUIsR0FBekIsa0IsQ0FDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSw0Q0FBNEM7QUFBRXBmO0FBQUYsQ0FBNUMsYUFBaUU7QUFDOUVDLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU07QUFBQTtBQUFBO0FBQ21Cb2YsY0FBVSxFQUQ3QjtBQUN1Q0MsWUFBUSxFQUFFQztBQURqRCxNQUFOO0FBSUF0ZixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxpQkFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFFBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTXVmLGNBQWMsR0FBRztBQUNyQix5QkFEcUI7QUFFckIsd0JBRnFCO0FBR3JCLHVCQUFtQjtBQUhFLEdBQXZCOztBQU1BO0FBQ0U7QUFDRUEsb0JBQWMsQ0FBZEE7QUFDQUEsb0JBQWMsQ0FBZEE7QUFDQTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRUEsb0JBQWMsQ0FBZEE7QUFDQUEsb0JBQWMsQ0FBZEE7QUFDQUEsb0JBQWMsQ0FBZEEsa0JBQWMsQ0FBZEE7QUFDQTs7QUFFRjtBQUNFQSxvQkFBYyxDQUFkQSwyQkFBYyxDQUFkQSxHQUE4Q3hmLElBQUksQ0FBbER3ZjtBQUNBQSxvQkFBYyxDQUFkQSxxQkFBYyxDQUFkQSxHQUF3Q3hmLElBQUksQ0FBNUN3ZjtBQUNBOztBQUVGO0FBQ0U7QUF2Qko7O0FBMEJBLFFBQU16YixRQUFRLEdBQUc7QUFBQTtBQUFBO0FBR2Y5QixNQUFFLEVBQUV3ZDtBQUhXLEdBQWpCO0FBTUEsUUFBTWxiLFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUUsTUFBTSxDQUFOLE9BQWM7QUFBQTtBQUFhd1k7QUFBYixLQUFkO0FBRFMsR0FBakI7O0FBSUEsUUFBTXRaLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYywwREFBeURDLEdBQTlFLEVBQU9ELENBQVA7QUFDRDs7QUFFRCxVQUFNO0FBQUVFO0FBQUYsUUFBTjs7QUFDQSxvQkFBZ0I7QUFDZCxhQUFPRixNQUFNLENBQU5BLEtBQWEsMENBQXlDekIsTUFBTyxPQUFNdWQsY0FBZSxZQUFXcmUsU0FBcEcsRUFBT3VDLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLE1BQWMsMkNBQTBDekIsTUFBTyxPQUFNdWQsY0FBZSxZQUFXcmUsU0FBdEcsRUFBT3VDLENBQVA7QUFWRjs7QUFhQSxTQUFPK2IsYUFBYSxDQUFiQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUN6RkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2Usc0NBQXNDO0FBQUUxZjtBQUFGLENBQXRDLGFBQTJEO0FBQ3hFQyxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNO0FBQUE7QUFBa0IrYztBQUFsQixNQUFOO0FBRUEvYyxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxpQkFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFFBQUxBLE1BQUssQ0FBTEE7QUFFQSxTQUFPMGYsc0JBQXNCLG1CQUE3QixjQUE2QixDQUE3QjtBQUNELEM7Ozs7Ozs7Ozs7O0FDYkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UsMkNBQTJDO0FBQUUzZjtBQUFGLENBQTNDLGFBQWdFO0FBQzdFQyxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNO0FBQUE7QUFBQTtBQUF5QjJmO0FBQXpCLE1BQU47QUFFQTNmLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGlCQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssUUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGVBQUxBLE9BQUssQ0FBTEE7QUFFQSxTQUFPNGYsMkJBQTJCLG1DQUFsQyxZQUFrQyxDQUFsQztBQUNELEM7Ozs7Ozs7Ozs7O0FDZEQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsa0NBQWtDO0FBQUU3ZjtBQUFGLENBQWxDLGFBQXVEO0FBQ3BFLFFBQU07QUFBQTtBQUFTeWY7QUFBVCxNQUFOO0FBRUF4ZixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssaUJBQUxBLE1BQUssQ0FBTEE7QUFFQSxTQUFPNmYsa0JBQWtCLG1CQUF6QixjQUF5QixDQUF6QjtBQUNELEM7Ozs7Ozs7Ozs7O0FDWkQsT0FBT3JlLE1BQVAsQ0FBT0E7QUFBUCxpQkFBd0I7QUFBakJBLENBQVA7QUFBd0IsSUFBeEIsV0FBd0I7QUFBeEI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSxtREFBbUQ7QUFDaEUsUUFBTUMsWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7QUFFQSxRQUFNO0FBQUE7QUFBYUM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTdCLE9BQUssaUJBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThCLE9BQU8sR0FBRztBQUFBO0FBRWRpYjtBQUZjLEdBQWhCO0FBS0EsU0FBT3ZiLFdBQVcsQ0FBWEEsb0VBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDcEJELE9BQU9BLE1BQVAsQ0FBT0E7QUFBUCxpQkFBd0I7QUFBakJBLENBQVA7QUFBd0IsSUFBeEIsV0FBd0I7QUFBeEI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSxnREFBZ0Q7QUFDN0QsUUFBTUMsWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7QUFDQSxRQUFNO0FBQUE7QUFBYUM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTdCLE9BQUssaUJBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThCLE9BQU8sR0FBRztBQUFBO0FBRWRpYjtBQUZjLEdBQWhCO0FBS0EsU0FBT3ZiLFdBQVcsQ0FBWEEsb0VBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDbkJELE9BQU9BLE1BQVAsQ0FBT0E7QUFBUDtBQUFPQSxDQUFQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLG1FQUFtRTtBQUNoRixRQUFNQyxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBN0IsT0FBSyxlQUFMQSxPQUFLLENBQUxBO0FBQ0FBLE9BQUssaUJBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEIsT0FBTyxHQUFHO0FBQUE7QUFFZGliLFNBQUssRUFGUztBQUdkNEM7QUFIYyxHQUFoQjtBQU1BLFNBQU9uZSxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3JCRDtBQUFBLFNBQXFCLFFBQXJCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQVFBLE1BQU1zZSxZQUFZLEdBQUcsZ0NBQWU7QUFDbEMsTUFBSUMsT0FBTyxHQUFYOztBQUNBLE1BQUk7QUFDRkEsV0FBTyxpQkFBU0MsSUFBSSxDQUFKQSxTQUFoQkQsT0FBTyxDQUFQQTtBQURGLElBRUUsY0FBYztBQUNkcmMsVUFBTSxDQUFOQSxNQUFjLGtCQUFpQnlFLEtBQS9CekU7QUFDRDs7QUFDRDtBQVBGLENBQXFCLENBQXJCOztBQVVBLE1BQU11YyxTQUFTLEdBQUcsOENBQThDO0FBQzlEQyxRQUFNLENBQU5BLFFBQWUsa0NBQWlCO0FBQzlCLFVBQU1ILE9BQU8saUJBQVNELFlBQVksQ0FBQ0ssS0FBSyxDQUF4QyxNQUFrQyxDQUFyQixDQUFiO0FBRUFqZixVQUFNLENBQU5BLGNBQXFCO0FBQUU2ZTtBQUFGLEtBQXJCN2U7QUFFQWtmLFlBQVEsbUNBQVJBLEtBQVEsQ0FBUkE7QUFMRkYsR0FBZSxDQUFmQTtBQURGOztBQVVlLHlEQUF5RDtBQUN0RWxnQixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssZUFBZTtBQUNsQmdDLE1BQUUsRUFEZ0I7QUFFbEJvRSxRQUFJLEVBRmM7QUFHbEJpYSxXQUFPLEVBSFc7QUFJbEJDLFNBQUssRUFBRSxDQUNMO0FBQ0V0ZSxRQUFFLEVBREo7QUFFRXVlLFNBQUcsRUFGTDtBQUdFQyxjQUFRLEVBSFY7QUFJRUMsWUFBTSxFQUpSO0FBS0VDLFlBQU0sRUFMUjtBQU1FQyxZQUFNLEVBTlI7QUFPRU4sYUFBTyxFQVBUO0FBUUVPLGFBQU8sRUFSVDtBQVNFQyxhQUFPLEVBVFQ7QUFVRUMsZ0JBQVUsRUFWWjtBQVdFQyxpQkFBVyxFQUFFOWQ7QUFYZixLQURLLENBSlc7QUFtQmxCMGMsZ0JBQVksRUFBRS9lO0FBbkJJLEdBQWYsQ0FBTFo7QUFzQkEsUUFBTThELFFBQVEsR0FBRztBQUFBO0FBQUE7QUFHZjlCLE1BQUUsRUFBRTRiLFlBQVksQ0FBQzViO0FBSEYsR0FBakI7QUFNQSxRQUFNc0MsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRSxNQUFNLENBQU4sT0FBYztBQUFBO0FBQUE7QUFHbEIseUJBSGtCO0FBSWxCLDBCQUFvQjtBQUpGLEtBQWQsRUFLSDBCLElBQUksZUFBZTtBQUFFMEcsVUFBSSxFQUFFO0FBQVIsS0FBZixDQUxEO0FBRFMsR0FBakI7O0FBU0EsUUFBTWxKLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyxzQ0FBcUNDLEdBQTFELEVBQU9ELENBQVA7QUFDRDs7QUFFRHVjLGFBQVMsbUJBQW1CckMsWUFBWSxDQUEvQixJQUFvQ0EsWUFBWSxDQUF6RHFDLEtBQVMsQ0FBVEE7QUFFQSxVQUFNO0FBQUVyYztBQUFGLFFBQU47O0FBQ0Esb0JBQWdCO0FBQ2QsVUFBSWdhLFlBQVksQ0FBaEIsU0FBMEI7QUFDeEI4Qiw4QkFBc0IsbUJBQW1COUIsWUFBWSxDQUFyRDhCLEVBQXNCLENBQXRCQTtBQUNEOztBQUVELGFBQU9oYyxNQUFNLENBQU5BLEtBQWEseUJBQXdCa2EsWUFBWSxDQUFDNWIsRUFBRyxZQUFXYixTQUF2RSxFQUFPdUMsQ0FBUDtBQUNEOztBQUVELFdBQU9BLE1BQU0sQ0FBTkEsS0FBYSw0QkFBMkJrYSxZQUFZLENBQUM1YixFQUFHLFlBQVdiLFNBQTFFLEVBQU91QyxDQUFQO0FBaEJGOztBQW1CQSxTQUFPK2IsYUFBYSxDQUFiQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUN4RkQsT0FBT0EsTUFBUCxDQUFPQTtBQUFQLGlCQUEwQjtBQUFuQkEsQ0FBUDtBQUEwQixJQUExQixhQUEwQjtBQUExQjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UsOENBQThDO0FBQzNEO0FBQ0EsTUFBSXRlLFNBQVMsSUFBYixPQUF3QjtBQUN0QixXQUFPLGFBQWEsQ0FBYixPQUFxQjtBQUFBO0FBQWE0YjtBQUFiLEtBQXJCLEVBQTJDLE1BQU07QUFDdERyWixZQUFNLENBQU5BLEtBQWEsMEJBQXlCdkMsU0FBVSxLQUFJNGIsS0FBcERyWjtBQURGLEtBQU8sQ0FBUDtBQUh5RCxJQVEzRDs7O0FBQ0EsaUJBQWU7QUFDYixXQUFPLGFBQWEsQ0FBYixPQUFxQjtBQUFFdkM7QUFBRixLQUFyQixFQUFvQyxNQUFNO0FBQy9DdUMsWUFBTSxDQUFOQSxLQUFhLDBCQUF5QnZDLFNBQXRDdUM7QUFERixLQUFPLENBQVA7QUFWeUQsSUFlM0Q7OztBQUNBLFNBQU8sYUFBYSxDQUFiLFdBQXlCLE1BQU07QUFDcENBLFVBQU0sQ0FBTkE7QUFERixHQUFPLENBQVA7QUFHRCxDOzs7Ozs7Ozs7OztBQ3RCRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU1lLDhEQUE4RDtBQUMzRTFELE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGlCQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssUUFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUFBO0FBR2Y5QixNQUFFLEVBQUV3ZDtBQUhXLEdBQWpCOztBQU1BLFFBQU0vYixFQUFFLEdBQUcscUJBQXFCO0FBQzlCLGFBQVM7QUFDUEMsWUFBTSxDQUFOQSxNQUFjLDBDQUF5Q0MsR0FBdkREO0FBQ0E7QUFDRDs7QUFFRCxvQkFBZ0I7QUFDZHNkLDZCQUF1QixZQUF2QkEsY0FBdUIsQ0FBdkJBO0FBQ0F0ZCxZQUFNLENBQU5BLEtBQWEsMkJBQTBCOGIsY0FBZSxZQUFXcmUsU0FBakV1QztBQUNEO0FBVEg7O0FBWUEsU0FBTytiLGFBQWEsQ0FBYkEsaUJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDOUJEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSxrRUFBa0U7QUFDL0V6ZixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxpQkFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFFBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNaWhCLFVBQVUsR0FBRztBQUNqQm5kLFlBQVEsRUFBRTtBQUFBO0FBQUE7QUFHUnVjLGFBQU8sRUFBRTtBQUhELEtBRE87QUFNakIvYixZQUFRLEVBQUU7QUFDUkMsVUFBSSxFQUFFO0FBQUU4YixlQUFPLEVBQUU7QUFBWDtBQURFLEtBTk87QUFTakJhLFlBQVEsRUFBR3ZkLEdBQUQsSUFBUztBQUNqQixlQUFTO0FBQ1AsZUFBT0QsTUFBTSxDQUFOQSxNQUFjLHVDQUFzQ0MsR0FBM0QsRUFBT0QsQ0FBUDtBQUNEOztBQUVELGFBQU9BLE1BQU0sQ0FBTkEsS0FBUCxrQ0FBT0EsQ0FBUDtBQUNEO0FBZmdCLEdBQW5CO0FBa0JBLFFBQU15ZCxVQUFVLEdBQUc7QUFDakJyZCxZQUFRLEVBQUU7QUFBQTtBQUFBO0FBR1I5QixRQUFFLEVBQUV3ZDtBQUhJLEtBRE87QUFNakJsYixZQUFRLEVBQUU7QUFDUkMsVUFBSSxFQUFFO0FBQUU4YixlQUFPLEVBQUU7QUFBWDtBQURFLEtBTk87QUFTakJhLFlBQVEsRUFBR3ZkLEdBQUQsSUFBUztBQUNqQixlQUFTO0FBQ1AsZUFBT0QsTUFBTSxDQUFOQSxNQUFjLHNDQUFxQzhiLGNBQWUsS0FBSTdiLEdBQTdFLEVBQU9ELENBQVA7QUFDRDs7QUFFRCxhQUFPQSxNQUFNLENBQU5BLEtBQWEscUNBQW9DOGIsY0FBeEQsRUFBTzliLENBQVA7QUFDRDtBQWZnQixHQUFuQjtBQWtCQSxRQUFNMGQsZUFBZSxHQUFHM0IsYUFBYSxDQUFiQSxRQUFzQndCLFVBQVUsQ0FBeEQsUUFBd0J4QixDQUF4QjtBQUNBLFFBQU00QixlQUFlLEdBQUc1QixhQUFhLENBQWJBLFFBQXNCMEIsVUFBVSxDQTFDdUIsUUEwQ3ZEMUIsQ0FBeEIsQ0ExQytFLENBNEMvRTtBQUNBOztBQUNBLE1BQUkyQixlQUFlLElBQWZBLG1CQUF1Q0EsZUFBZSxDQUFmQSxRQUF3QkMsZUFBZSxDQUFsRixLQUF5RjtBQUN2RjtBQUNEOztBQUVELHVCQUFxQjtBQUNuQjVCLGlCQUFhLENBQWJBLE9BQXFCNEIsZUFBZSxDQUFwQzVCLEtBQTBDMEIsVUFBVSxDQUFwRDFCLFVBQStEMEIsVUFBVSxDQUF6RTFCO0FBQ0Q7O0FBRUQsdUJBQXFCO0FBQ25CQSxpQkFBYSxDQUFiQSxPQUFxQjJCLGVBQWUsQ0FBcEMzQixLQUEwQ3dCLFVBQVUsQ0FBcER4QixVQUErRHdCLFVBQVUsQ0FBekV4QjtBQUNEO0FBQ0YsQzs7Ozs7Ozs7Ozs7QUM3REQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLHFGQUNpQjtBQUM5QnpmLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGlCQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssUUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGVBQUxBLE9BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQUE7QUFBQTtBQUdmOUIsTUFBRSxFQUFFd2Q7QUFIVyxHQUFqQjtBQU1BLFFBQU1sYixRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFO0FBQ0pvYjtBQURJO0FBRFMsR0FBakI7O0FBTUEsUUFBTWxjLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQQyxZQUFNLENBQU5BLE1BQWMsdUNBQXNDOGIsY0FBZSxnQkFBZXJlLFNBQVUsS0FBSXdDLEdBQWhHRDtBQUNBO0FBQ0Q7O0FBRUQsb0JBQWdCO0FBQ2RBLFlBQU0sQ0FBTkEsS0FBYSw0Q0FBMkM4YixjQUFlLGdCQUFlcmUsU0FBdEZ1QztBQUNEO0FBUkg7O0FBV0EsU0FBTytiLGFBQWEsQ0FBYkEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDbkNEO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQU9BamUsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBLDJFOzs7Ozs7Ozs7OztBQ2RBLE9BQU8sSUFBUDtBQUFBO0FBQUEsNEI7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUtBSCxNQUFNLENBQU5BLFFBQWU7QUFBQTtBQUFBO0FBR2J1ZTtBQUhhLENBQWZ2ZSxFOzs7Ozs7Ozs7OztBQ0xBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS0EseUJBQXlCO0FBQ3ZCLE1BQUksQ0FBQyxLQUFMLFFBQWtCO0FBQ2hCLFdBQU8sYUFBYSxDQUFiLEtBQW1CO0FBQUVGLGVBQVMsRUFBRTtBQUFiLEtBQW5CLENBQVA7QUFDRDs7QUFDRCxRQUFNO0FBQUE7QUFBYVM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTZCLFFBQU0sQ0FBTkEsTUFBYyxnQ0FBK0J2QyxTQUFVLElBQUdTLGVBQTFEOEI7QUFFQSxTQUFPLGFBQWEsQ0FBYixLQUFtQjtBQUFFdkM7QUFBRixHQUFuQixDQUFQO0FBQ0Q7O0FBRUQsaUJBQWlCLEdBQWpCLE1BQTBCO0FBQ3hCLFFBQU1tZ0Isa0JBQWtCLEdBQUczRCxhQUFhLENBQWJBLEtBQTNCLElBQTJCQSxDQUEzQjtBQUNBLFNBQU8yRCxrQkFBa0IsQ0FBQyxHQUExQixJQUF5QixDQUF6QjtBQUNEOztBQUVEamdCLE1BQU0sQ0FBTkEsa0M7Ozs7Ozs7Ozs7O0FDckJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFFQSxNQUFNb2UsYUFBYSxHQUFHLElBQUlwYSxLQUFLLENBQVQsV0FBdEIsZUFBc0IsQ0FBdEI7O0FBRUEsSUFBSWhFLE1BQU0sQ0FBVixVQUFxQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUFvZSxlQUFhLENBQWJBLGFBQTJCO0FBQUV0ZSxhQUFTLEVBQVg7QUFBZ0I0YixTQUFLLEVBQXJCO0FBQTBCL2EsTUFBRSxFQUFFO0FBQTlCLEdBQTNCeWQ7QUFDRDs7QUFaRCxxQkFjQSxhQWRBLEU7Ozs7Ozs7Ozs7O0FDQUE7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU9lLGtDQUFrQztBQUFFMWY7QUFBRixDQUFsQyxhQUF1RDtBQUNwRUMsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU00TCxPQUFPLEdBQUcsUUFBUSxDQUFSLFFBQWlCO0FBQUV6SztBQUFGLEdBQWpCLENBQWhCO0FBQ0EsUUFBTW9nQixTQUFTLEdBQUcsS0FBSyxDQUFMLFFBQWM7QUFBQTtBQUFhQSxhQUFTLEVBQUU7QUFBeEIsR0FBZCxDQUFsQjtBQUNBLFFBQU1DLFdBQVcsR0FBR0QsU0FBUyxJQUFJQSxTQUFTLENBQXRCQSxTQUFnQ0EsU0FBUyxDQUF6Q0EsU0FBcEI7O0FBQ0EsTUFBSTNWLE9BQU8sSUFBSUEsT0FBTyxDQUF0QixrQkFBeUM7QUFDdkNsSSxVQUFNLENBQU5BLEtBQWEsa0dBQWlHa0ksT0FBTyxDQUFDRixnQkFBdEhoSTtBQUNBK2QsNkJBQXlCLENBQUM7QUFBQTtBQUFhN2YscUJBQWUsRUFBRTRmO0FBQTlCLEtBQUQsQ0FBekJDO0FBQ0Q7O0FBQ0QsU0FBT0MsY0FBYyxZQUFyQixJQUFxQixDQUFyQjtBQUNELEM7Ozs7Ozs7Ozs7O0FDbkJEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLGtDQUFrQztBQUFFM2hCO0FBQUYsQ0FBbEMsYUFBdUQ7QUFDcEUsUUFBTTtBQUFFMFc7QUFBRixNQUFOO0FBRUF6VyxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxrQkFBTEEsTUFBSyxDQUFMQTtBQUVBLFNBQU8yaEIsZ0JBQWdCLFlBQXZCLGVBQXVCLENBQXZCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNWRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLHlDQUF5QztBQUN0RDNoQixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQ2YzQztBQURlLEdBQWpCO0FBSUEsUUFBTW1ELFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFBQTtBQUVKcWQsaUJBQVcsRUFBRTNiLElBQUk7QUFGYjtBQURTLEdBQWpCOztBQU9BLFFBQU14QyxFQUFFLEdBQUlFLEdBQUQsSUFBUztBQUNsQixhQUFTO0FBQ1AsYUFBT0QsTUFBTSxDQUFOQSxNQUFjLHFDQUFvQ0MsR0FBekQsRUFBT0QsQ0FBUDtBQUNEOztBQUVELFdBQU9BLE1BQU0sQ0FBTkEsS0FBYSwyQkFBMEIzRCxJQUFJLENBQUMwVyxlQUFuRCxFQUFPL1MsQ0FBUDtBQUxGOztBQVFBLFNBQU9tZSxXQUFXLENBQVhBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQzVCRDtBQUFBLFNBQW1CO0FBQW5CO0FBQW1CLElBQW5CLE1BQW1CO0FBQW5CO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSxzREFBc0Q7QUFDbkUsUUFBTXBlLEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUCxhQUFPRCxNQUFNLENBQU5BLE1BQWMsdUNBQXNDQyxHQUEzRCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFhLGlDQUFnQ3ZDLFNBQVUsT0FBTXNWLGVBQXBFLEVBQU8vUyxDQUFQO0FBTEY7O0FBUUEsTUFBSXZDLFNBQVMsSUFBYixpQkFBa0M7QUFDaEMsV0FBTyxXQUFXLENBQVgsT0FBbUI7QUFBQTtBQUFhLHFDQUErQnNWO0FBQTVDLEtBQW5CLEVBQVAsRUFBTyxDQUFQO0FBQ0Q7O0FBQ0QsU0FBT29MLFdBQVcsQ0FBWEEsV0FBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNoQkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBSUFyZ0IsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBLHNFOzs7Ozs7Ozs7OztBQ0xBLE9BQU8sSUFBUDtBQUFBO0FBQUEsNEI7Ozs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUVBSCxNQUFNLENBQU5BLFk7Ozs7Ozs7Ozs7O0FDRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFLQSx1QkFBdUI7QUFDckIsTUFBSSxDQUFDLEtBQUwsUUFBa0I7QUFDaEIsV0FBTyxXQUFXLENBQVgsS0FBaUI7QUFBRUYsZUFBUyxFQUFFO0FBQWIsS0FBakIsQ0FBUDtBQUNEOztBQUNELFFBQU07QUFBQTtBQUFhUztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBNkIsUUFBTSxDQUFOQSxNQUFjLDhCQUE2QnZDLFNBQVUsSUFBR1MsZUFBeEQ4QjtBQUVBLFNBQU8sV0FBVyxDQUFYLEtBQWlCO0FBQUV2QztBQUFGLEdBQWpCLENBQVA7QUFDRDs7QUFFRCxpQkFBaUIsR0FBakIsTUFBMEI7QUFDeEIsUUFBTTJnQixnQkFBZ0IsR0FBR0YsV0FBVyxDQUFYQSxLQUF6QixJQUF5QkEsQ0FBekI7QUFDQSxTQUFPRSxnQkFBZ0IsQ0FBQyxHQUF4QixJQUF1QixDQUF2QjtBQUNEOztBQUVEemdCLE1BQU0sQ0FBTkEsZ0M7Ozs7Ozs7Ozs7O0FDckJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFFQSxNQUFNd2dCLFdBQVcsR0FBRyxJQUFJeGMsS0FBSyxDQUFULFdBQXBCLGFBQW9CLENBQXBCOztBQUVBLElBQUloRSxNQUFNLENBQVYsVUFBcUI7QUFDbkI7QUFDQTtBQUVBd2dCLGFBQVcsQ0FBWEEsYUFBeUI7QUFBRTFnQixhQUFTLEVBQUU7QUFBYixHQUF6QjBnQjtBQUNEOztBQVRELHFCQVdBLFdBWEEsRTs7Ozs7Ozs7Ozs7QUNBQTtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSwyQkFBMkI7QUFBRTloQjtBQUFGLENBQTNCLGFBQWdEO0FBQzdELFFBQU07QUFBQTtBQUFBO0FBQTBCZ2Q7QUFBMUIsTUFBTjtBQUVBL2MsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssaUJBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBRUEsU0FBTytoQixrQkFBa0IsbUNBQXpCLE1BQXlCLENBQXpCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNYRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSwyQkFBMkI7QUFBRWhpQjtBQUFGLENBQTNCLGFBQWdEO0FBQzdEQyxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxPQUFMQSxNQUFLLENBQUxBO0FBRUEsU0FBT2dpQixXQUFXLFlBQWxCLElBQWtCLENBQWxCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNSRCxPQUFPdkMsTUFBUCxDQUFPQTtBQUFQLGlCQUEwQjtBQUFuQkEsQ0FBUDtBQUEwQixJQUExQixhQUEwQjtBQUExQjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU9lLHlDQUF5QztBQUFFO0FBQ3hELFFBQU1oZSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBRUEsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUNBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUNBN0IsT0FBSyxjQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUFBO0FBQUE7QUFHZnVjLFdBQU8sRUFBRTtBQUhNLEdBQWpCO0FBTUEsUUFBTTRCLFlBQVksR0FBR3hDLGFBQWEsQ0FBYkEsUUFBckIsUUFBcUJBLENBQXJCOztBQUVBLE1BQUksQ0FBSixjQUFtQjtBQUNqQixVQUFNLElBQUlwZSxNQUFNLENBQVYsZ0NBQU4scURBQU0sQ0FBTjtBQUNEOztBQUVELFFBQU02Z0IsS0FBSyxHQUFHLE1BQU0sQ0FBTixRQUFlO0FBQUE7QUFBQTtBQUczQjFDLGtCQUFjLEVBQUV5QyxZQUFZLENBSEQ7QUFJM0IxQixPQUFHLEVBQUU0QjtBQUpzQixHQUFmLENBQWQ7O0FBT0EsTUFBSSxDQUFKLE9BQVk7QUFDVixVQUFNLElBQUk5Z0IsTUFBTSxDQUFWLHlCQUFxQyxnQkFBZThnQixXQUExRCx3Q0FBTSxDQUFOO0FBQ0Q7O0FBRUQsUUFBTXJnQixPQUFPLEdBQUc7QUFBQTtBQUVkMGQsa0JBQWMsRUFBRXlDLFlBQVksQ0FGZDtBQUdkRyxVQUFNLEVBQUVGLEtBQUssQ0FBQ2xnQjtBQUhBLEdBQWhCO0FBTUEsU0FBT1IsV0FBVyxDQUFYQSxvRUFBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUM3Q0QsT0FBT2llLE1BQVAsQ0FBT0E7QUFBUCxpQkFBMEI7QUFBbkJBLENBQVA7QUFBMEIsSUFBMUIsYUFBMEI7QUFBMUI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU1lLHNFQUFzRTtBQUFFO0FBQ3JGLFFBQU1oZSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBRUEsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUNBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBLFFBQU1pQyxRQUFRLEdBQUc7QUFBQTtBQUFBO0FBR2Z1YyxXQUFPLEVBQUU7QUFITSxHQUFqQjtBQUtBLFFBQU00QixZQUFZLEdBQUd4QyxhQUFhLENBQWJBLFFBQXJCLFFBQXFCQSxDQUFyQjs7QUFFQSxNQUFJLENBQUosY0FBbUI7QUFDakIsVUFBTSxJQUFJcGUsTUFBTSxDQUFWLGdDQUFOLHFEQUFNLENBQU47QUFDRDs7QUFFRCxRQUFNNmdCLEtBQUssR0FBRyxNQUFNLENBQU4sUUFBZTtBQUFBO0FBQUE7QUFHM0IxQyxrQkFBYyxFQUFFeUMsWUFBWSxDQUhEO0FBSTNCMUIsT0FBRyxFQUFFNEI7QUFKc0IsR0FBZixDQUFkOztBQU9BLE1BQUksQ0FBSixPQUFZO0FBQ1YsVUFBTSxJQUFJOWdCLE1BQU0sQ0FBVix5QkFBcUMsZ0JBQWU4Z0IsV0FBMUQsd0NBQU0sQ0FBTjtBQUNEOztBQUVELFFBQU1yZ0IsT0FBTyxHQUFHO0FBQUE7QUFFZDBkLGtCQUFjLEVBQUV5QyxZQUFZLENBRmQ7QUFHZEcsVUFBTSxFQUFFRixLQUFLLENBSEM7QUFJZHRCLFdBQU8sRUFKTztBQUtkQyxXQUFPLEVBTE87QUFBQTtBQU9kRTtBQVBjLEdBQWhCO0FBVUEsU0FBT3ZmLFdBQVcsQ0FBWEEsb0VBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7Ozs7OztBQzlDRDtBQUFBLFNBQWtCLFFBQWxCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQVdBLE1BQU02Z0Isd0JBQXdCLEdBQUdoaEIsTUFBTSxDQUFOQSxpREFBakM7O0FBRUEsTUFBTWloQix3QkFBd0IsR0FBRyx3QkFBd0I7QUFDdkQsUUFBTTdnQixZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUNBLFFBQU00Z0IsT0FBTyxHQUFiO0FBRUEsUUFBTXpnQixPQUFPLEdBQUc7QUFDZHBCLGdCQUFZLEVBQUU4aEI7QUFEQSxHQUFoQjtBQUlBLFNBQU9oaEIsV0FBVyxDQUFYQSw0REFBUCxPQUFPQSxDQUFQO0FBVkY7O0FBYUEsTUFBTWloQixlQUFlLEdBQUcsTUFBeEIsR0FBd0IsQ0FBeEI7O0FBRUEsTUFBTUMsZUFBZSxHQUFHQyxRQUFRLElBQUksS0FBSyxDQUFMLFFBQUssQ0FBTCxNQUMzQkMsTUFBRCxJQUFZO0FBQ2hCLE1BQUksQ0FBQ0gsZUFBZSxDQUFmQSxTQUF5QkcsTUFBTSxDQUFwQyxJQUFLSCxDQUFMLEVBQTRDO0FBQzFDLFVBQU0sSUFBSXBoQixNQUFNLENBQVYsNEJBQXdDLFlBQVd1aEIsTUFBTSxDQUFDQyxJQUFLLGNBQWFKLGVBQWUsQ0FBZkEsTUFBbEYsRUFBTSxDQUFOO0FBQ0Q7O0FBRUQsU0FBTztBQUNMSyxTQUFLLEVBQUVGLE1BQU0sQ0FEUjtBQUVMRyxVQUFNLEVBQUVILE1BQU0sQ0FBQ0c7QUFGVixHQUFQO0FBTmdDLFNBVzFCQyxNQUFELElBQVk7QUFDakJ0ZixRQUFNLENBQU5BLE1BQWMsNkJBQTRCc2YsTUFBTyxTQUFRTCxRQUF6RGpmO0FBQ0E7QUFiSixDQUFvQyxDQUFwQzs7QUFnQmUsMkRBQTJEO0FBQ3hFMUQsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssaUJBQUxBLE1BQUssQ0FBTEE7QUFFQUEsT0FBSyxRQUFRO0FBQ1hnQyxNQUFFLEVBRFM7QUFFWHVlLE9BQUcsRUFGUTtBQUdYQyxZQUFRLEVBSEc7QUFJWEMsVUFBTSxFQUpLO0FBS1hDLFVBQU0sRUFMSztBQU1YQyxVQUFNLEVBTks7QUFPWE4sV0FBTyxFQVBJO0FBUVhPLFdBQU8sRUFSSTtBQVNYQyxXQUFPLEVBVEk7QUFVWEMsY0FBVSxFQVZDO0FBV1hDLGVBQVcsRUFYQTtBQVlYaEIsV0FBTyxFQUFFamQ7QUFaRSxHQUFSLENBQUw5QztBQWVBLFFBQU07QUFDSmdDLE1BQUUsRUFERTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFBTjtBQUFBLFFBTUtpaEIsU0FOTDtBQVNBLFFBQU1uZixRQUFRLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFJZjlCLE1BQUUsRUFBRXdnQjtBQUpXLEdBQWpCO0FBT0EsUUFBTUcsUUFBUSxHQUFHeEMsS0FBSyxDQUFMQSxVQUFnQkEsS0FBSyxDQUF0QztBQUVBLFFBQU03YixRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFLE1BQU0sQ0FBTixPQUNKO0FBQUVwRDtBQUFGLEtBREksRUFFSjtBQUFFNGI7QUFBRixLQUZJLEVBR0o7QUFBRXlDO0FBQUYsS0FISSxFQUlKO0FBQUV4ZCxRQUFFLEVBQUV3Z0I7QUFBTixLQUpJLEVBS0o7QUFBRUc7QUFBRixLQUxJLEVBTUoxYyxJQUFJLENBTkEsU0FNQSxDQU5BLEVBT0o7QUFBRTBHLFVBQUksRUFBRTtBQUFSLEtBUEk7QUFEUyxHQUFqQjs7QUFZQSxRQUFNbEosRUFBRSxHQUFHLHFCQUFxQjtBQUM5QixhQUFTO0FBQ1AsYUFBT0MsTUFBTSxDQUFOQSxNQUFjLCtCQUE4QkMsR0FBbkQsRUFBT0QsQ0FBUDtBQUNEOztBQUVELFVBQU07QUFBRUU7QUFBRixRQUFOO0FBRUEwZSw0QkFBd0IsWUFBeEJBLE9BQXdCLENBQXhCQTs7QUFFQSxvQkFBZ0I7QUFDZCxhQUFPNWUsTUFBTSxDQUFOQSxLQUFhLGtCQUFpQjhlLE9BQVEsUUFBT3pGLEtBQU0saUJBQWdCeUMsY0FBMUUsRUFBTzliLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLEtBQWEscUJBQW9COGUsT0FBUSxRQUFPekYsS0FBTSxpQkFBZ0J5QyxjQUE3RSxFQUFPOWIsQ0FBUDtBQWJGOztBQWdCQSxRQUFNd2YsWUFBWSxHQUFJYix3QkFBd0IsR0FBR00sUUFBUSxDQUFSQSxtQkFBSCxNQUFHQSxDQUFILEdBQTlDO0FBRUEsU0FBTyxlQUFlLENBQWYsWUFBZSxDQUFmLE1BQ0MsQ0FBQztBQUFBO0FBQVNJO0FBQVQsR0FBRCxLQUF1QjtBQUMzQjtBQUNBO0FBQ0EsUUFBSUQsS0FBSyxJQUFULFFBQXFCO0FBQ25CO0FBQ0E7QUFDQSxZQUFNSyxTQUFTLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBTWhCcEM7QUFOZ0IsT0FBbEI7QUFRQSxZQUFNcUMsYUFBYSxHQUFHQyxrQkFBa0IsQ0FBeEMsU0FBd0MsQ0FBeEM7QUFFQUMsdUJBQWlCLDRDQUFqQkEsYUFBaUIsQ0FBakJBO0FBQ0Q7O0FBRUQsV0FBT0MsTUFBTSxDQUFOQSwyQkFBUCxFQUFPQSxDQUFQO0FBcEJHLFdBc0JFUCxNQUFNLElBQUl0ZixNQUFNLENBQU5BLE1BQWMsNkJBQTRCc2YsTUFBTyxXQUFVUixPQUFRLFFBQU9HLFFBdEI3RixFQXNCbUJqZixDQXRCWixDQUFQO0FBdUJELEM7Ozs7Ozs7Ozs7O0FDdElELGNBQVM4ZjtBQUFBQSxXQUFUO0FBQVNBLENBQVQ7QUFBK0IsSUFBL0IsY0FBK0I7QUFBL0I7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2UscUZBTWI7QUFDQXhqQixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssaUJBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxVQUFMQSxNQUFLLENBQUxBO0FBRUFBLE9BQUssZ0JBQWdCO0FBQ25COGlCLFNBQUssRUFEYztBQUVuQkMsVUFBTSxFQUZhO0FBR25CM2dCLEtBQUMsRUFIa0I7QUFJbkJDLEtBQUMsRUFKa0I7QUFLbkJvaEIsZ0JBQVksRUFMTztBQU1uQkMsaUJBQWEsRUFBRXpnQjtBQU5JLEdBQWhCLENBQUxqRDtBQVNBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUFBO0FBQUE7QUFJZjlCLE1BQUUsRUFBRXdnQjtBQUpXLEdBQWpCO0FBT0EsUUFBTWxlLFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUUsTUFBTSxDQUFOLE9BQ0o7QUFBRXBEO0FBQUYsS0FESSxFQUVKO0FBQUU0YjtBQUFGLEtBRkksRUFHSjtBQUFFeUM7QUFBRixLQUhJLEVBSUo7QUFBRXhkLFFBQUUsRUFBRXdnQjtBQUFOLEtBSkksRUFLSnZjLElBQUksQ0FMQSxhQUtBLENBTEEsRUFNSjtBQUFFMEcsVUFBSSxFQUFFO0FBQVIsS0FOSTtBQURTLEdBQWpCOztBQVdBLFFBQU1sSixFQUFFLEdBQUcscUJBQXFCO0FBQzlCLGFBQVM7QUFDUCxhQUFPQyxNQUFNLENBQU5BLE1BQWMsd0NBQXVDQyxHQUE1RCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsVUFBTTtBQUFFRTtBQUFGLFFBQU47O0FBRUEsb0JBQWdCO0FBQ2QsYUFBT0YsTUFBTSxDQUFOQSxLQUFhLDJCQUEwQjhlLE9BQVEsUUFBT3pGLEtBQU0saUJBQWdCeUMsY0FBbkYsRUFBTzliLENBQVA7QUFDRDs7QUFFRCxXQUFPQSxNQUFNLENBQU5BLEtBQWEsOEJBQTZCOGUsT0FBUSxRQUFPekYsS0FBTSxpQkFBZ0J5QyxjQUF0RixFQUFPOWIsQ0FBUDtBQVhGOztBQWNBLFNBQU84ZixjQUFjLENBQWRBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQzNERDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsdUVBQXVFO0FBQ3BGeGpCLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGlCQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssVUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFFBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNaWhCLFVBQVUsR0FBRztBQUNqQm5kLFlBQVEsRUFBRTtBQUFBO0FBQUE7QUFBQTtBQUlSdWMsYUFBTyxFQUFFO0FBSkQsS0FETztBQU9qQi9iLFlBQVEsRUFBRTtBQUNSQyxVQUFJLEVBQUU7QUFBRThiLGVBQU8sRUFBRTtBQUFYO0FBREUsS0FQTztBQVVqQmEsWUFBUSxFQUFHdmQsR0FBRCxJQUFTO0FBQ2pCLGVBQVM7QUFDUCxlQUFPRCxNQUFNLENBQU5BLE1BQWMsZ0NBQStCQyxHQUFwRCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsYUFBT0EsTUFBTSxDQUFOQSxLQUFQLDRCQUFPQSxDQUFQO0FBQ0Q7QUFoQmdCLEdBQW5CO0FBbUJBLFFBQU15ZCxVQUFVLEdBQUc7QUFDakJyZCxZQUFRLEVBQUU7QUFBQTtBQUFBO0FBQUE7QUFJUjlCLFFBQUUsRUFBRXdnQjtBQUpJLEtBRE87QUFPakJsZSxZQUFRLEVBQUU7QUFDUkMsVUFBSSxFQUFFO0FBQUU4YixlQUFPLEVBQUU7QUFBWDtBQURFLEtBUE87QUFVakJhLFlBQVEsRUFBR3ZkLEdBQUQsSUFBUztBQUNqQixlQUFTO0FBQ1AsZUFBT0QsTUFBTSxDQUFOQSxNQUFjLCtCQUE4QjhlLE9BQVEsS0FBSTdlLEdBQS9ELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxhQUFPQSxNQUFNLENBQU5BLEtBQWEsOEJBQTZCOGUsT0FBakQsRUFBTzllLENBQVA7QUFDRDtBQWhCZ0IsR0FBbkI7QUFtQkEsUUFBTWlnQixRQUFRLEdBQUdKLE1BQU0sQ0FBTkEsUUFBZXRDLFVBQVUsQ0FBMUMsUUFBaUJzQyxDQUFqQjtBQUNBLFFBQU1LLFFBQVEsR0FBR0wsTUFBTSxDQUFOQSxRQUFlcEMsVUFBVSxDQTdDMEMsUUE2Q25Fb0MsQ0FBakIsQ0E3Q29GLENBK0NwRjs7QUFDQSxNQUFJSSxRQUFRLElBQVJBLFlBQXlCQSxRQUFRLENBQVJBLFFBQWlCQyxRQUFRLENBQXRELEtBQTZEO0FBQzNEO0FBQ0Q7O0FBRUQsZ0JBQWM7QUFDWkwsVUFBTSxDQUFOQSxPQUFjSyxRQUFRLENBQXRCTCxLQUE0QnBDLFVBQVUsQ0FBdENvQyxVQUFpRHBDLFVBQVUsQ0FBM0RvQztBQUNEOztBQUVELGdCQUFjO0FBQ1pBLFVBQU0sQ0FBTkEsT0FBY0ksUUFBUSxDQUF0QkosS0FBNEJ0QyxVQUFVLENBQXRDc0MsVUFBaUR0QyxVQUFVLENBQTNEc0M7QUFDRDtBQUNGLEM7Ozs7Ozs7Ozs7O0FDL0RELGNBQVNBO0FBQVQsU0FBaUJDLFFBQWpCO0FBQVNELENBQVQ7QUFBdUMsWUFBdkMsY0FBdUM7QUFBdkM7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHZSxnQ0FBZ0M7QUFDN0MsaUJBQWU7QUFDYkMsa0JBQWMsQ0FBZEEsT0FBc0I7QUFBRXJpQjtBQUFGLEtBQXRCcWlCLEVBQXFDLE1BQU07QUFDekM5ZixZQUFNLENBQU5BLEtBQWEsMkJBQTBCdkMsU0FBdkN1QztBQURGOGY7QUFJQSxXQUFPLE1BQU0sQ0FBTixPQUFjO0FBQUVyaUI7QUFBRixLQUFkLEVBQTZCLE1BQU07QUFDeEN1QyxZQUFNLENBQU5BLEtBQWEsbUJBQWtCdkMsU0FBL0J1QztBQURGLEtBQU8sQ0FBUDtBQUdEOztBQUVEOGYsZ0JBQWMsQ0FBZEEsV0FBMEIsTUFBTTtBQUM5QjlmLFVBQU0sQ0FBTkE7QUFERjhmO0FBSUEsU0FBTyxNQUFNLENBQU4sV0FBa0IsTUFBTTtBQUM3QjlmLFVBQU0sQ0FBTkE7QUFERixHQUFPLENBQVA7QUFHRCxDOzs7Ozs7Ozs7OztBQ3JCRCxjQUFTNmY7QUFBVCxTQUFpQkMsUUFBakI7QUFBU0QsQ0FBVDtBQUF1QyxJQUF2QyxNQUF1QyxFQUF2QyxjQUF1QztBQUF2QztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2UsNERBQTREO0FBQ3pFdmpCLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGlCQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUFBO0FBRWYwYjtBQUZlLEdBQWpCO0FBS0EsUUFBTXFFLGFBQWEsR0FBRyxNQUFNLENBQU4sZUFBc0I7QUFBRS9jLFVBQU0sRUFBRTtBQUFFOUUsUUFBRSxFQUFFO0FBQU47QUFBVixHQUF0QixNQUFpRDhoQixHQUFHLElBQUlBLEdBQUcsQ0FBakYsRUFBc0IsQ0FBdEI7O0FBRUEsUUFBTXJnQixFQUFFLEdBQUlFLEdBQUQsSUFBUztBQUNsQixhQUFTO0FBQ1AsYUFBT0QsTUFBTSxDQUFOQSxNQUFjLG9DQUFtQ0MsR0FBeEQsRUFBT0QsQ0FBUDtBQUNEOztBQUVEbWdCLGlCQUFhLENBQWJBLFFBQXNCbmpCLFlBQVksSUFBSVAsZ0JBQWdCLFlBQXREMGpCLFlBQXNELENBQXREQTtBQUVBLFdBQU9uZ0IsTUFBTSxDQUFOQSxLQUFhLHVDQUFzQzhiLGNBQTFELEVBQU85YixDQUFQO0FBUEY7O0FBVUE4ZixnQkFBYyxDQUFkQTtBQUVBLFNBQU9ELE1BQU0sQ0FBTkEsaUJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDN0JEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2UsdUNBQXVDO0FBQ3BEdmpCLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU07QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFPSjZnQjtBQVBJLE1BQU47QUFVQSxRQUFNL2MsUUFBUSxHQUFHO0FBQUE7QUFBQTtBQUFBO0FBSWY5QixNQUFFLEVBQUVvZ0I7QUFKVyxHQUFqQixDQWJvRCxDQW9CcEQ7QUFDQTtBQUNBOztBQUNBLFFBQU0yQixhQUFhLEdBQUdQLGNBQWMsQ0FBZEEsUUFBdEIsUUFBc0JBLENBQXRCOztBQUVBLHFCQUFtQjtBQUNqQixVQUFNO0FBQUE7QUFFSlQ7QUFGSSxRQUFOO0FBS0EsVUFBTUksU0FBUyxHQUFHO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1oQnBDO0FBTmdCLEtBQWxCO0FBUUEsVUFBTWlELGNBQWMsR0FBR1gsa0JBQWtCLENBQXpDLFNBQXlDLENBQXpDO0FBRUEsVUFBTS9lLFFBQVEsR0FBRztBQUNmQyxVQUFJLEVBQUV5ZjtBQURTLEtBQWpCOztBQUlBLFVBQU12Z0IsRUFBRSxHQUFHLHFCQUFxQjtBQUM5QixlQUFTO0FBQ1AsZUFBT0MsTUFBTSxDQUFOQSxNQUFjLCtCQUE4QjBlLE1BQU8sS0FBSXplLEdBQTlELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxzQkFBZ0I7QUFDZCxlQUFPQSxNQUFNLENBQU5BLE1BQWMsOEJBQTZCMGUsTUFBbEQsRUFBTzFlLENBQVA7QUFDRDs7QUFFRCxhQUFPQSxNQUFNLENBQU5BLEtBQWEsb0NBQW1DMGUsTUFBdkQsRUFBTzFlLENBQVA7QUFURjs7QUFZQSxXQUFPOGYsY0FBYyxDQUFkQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0Q7QUFDRixDOzs7Ozs7Ozs7OztBQ2hFRDtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFJQWhpQixXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEEsOEM7Ozs7Ozs7Ozs7O0FDSkEsTUFBTTZoQixrQkFBa0IsR0FBSUYsU0FBRCxJQUFlO0FBQ3hDLFFBQU07QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ3lDcEM7QUFEekMsTUFEa0MsU0FDeEMsQ0FEd0MsQ0FLeEM7O0FBQ0EsU0FBTztBQUFBO0FBQUE7QUFHTDNlLEtBQUMsRUFBSSxXQUFELENBQUMsR0FBRixLQUFFLEdBSEE7QUFJTEMsS0FBQyxFQUFJLFdBQUQsQ0FBQyxHQUFGLE1BQUUsR0FKQTtBQUtMb2hCLGdCQUFZLEVBQUdYLEtBQUssR0FBTixVQUFDQSxHQUxWO0FBTUxZLGlCQUFhLEVBQUdYLE1BQU0sR0FBUCxXQUFDQSxHQUF3QjtBQU5uQyxHQUFQO0FBTkY7O0FBQUEsTUFBTU0sY0FBTixDQWdCQSxrQkFoQkEsRTs7Ozs7Ozs7Ozs7QUNEQSxPQUFPLElBQVA7QUFBQTtBQUFBLDRCOzs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUlBaGlCLE1BQU0sQ0FBTkEsUUFBZTtBQUFBO0FBRWI0aUI7QUFGYSxDQUFmNWlCLEU7Ozs7Ozs7Ozs7O0FDSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS0Esa0JBQWtCO0FBQ2hCLE1BQUksQ0FBQyxLQUFMLFFBQWtCO0FBQ2hCLFdBQU8sTUFBTSxDQUFOLEtBQVk7QUFBRUYsZUFBUyxFQUFFO0FBQWIsS0FBWixDQUFQO0FBQ0Q7O0FBQ0QsUUFBTTtBQUFBO0FBQWFTO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBQ0E2QixRQUFNLENBQU5BLE1BQWMseUJBQXdCdkMsU0FBVSxJQUFHUyxlQUFuRDhCO0FBRUEsU0FBTyxNQUFNLENBQU4sS0FBWTtBQUFFdkM7QUFBRixHQUFaLENBQVA7QUFDRDs7QUFFRCxpQkFBaUIsR0FBakIsTUFBMEI7QUFDeEIsUUFBTTRQLFdBQVcsR0FBR21QLE1BQU0sQ0FBTkEsS0FBcEIsSUFBb0JBLENBQXBCO0FBQ0EsU0FBT25QLFdBQVcsQ0FBQyxHQUFuQixJQUFrQixDQUFsQjtBQUNEOztBQUVEMVAsTUFBTSxDQUFOQTs7QUFFQSwwQkFBMEI7QUFDeEIsTUFBSSxDQUFDLEtBQUwsUUFBa0I7QUFDaEIsV0FBTyxjQUFjLENBQWQsS0FBb0I7QUFBRUYsZUFBUyxFQUFFO0FBQWIsS0FBcEIsQ0FBUDtBQUNEOztBQUNELFFBQU07QUFBQTtBQUFhUztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBNkIsUUFBTSxDQUFOQSxNQUFjLGlDQUFnQ3ZDLFNBQVUsSUFBR1MsZUFBM0Q4QjtBQUVBLFNBQU8sY0FBYyxDQUFkLEtBQW9CO0FBQUV2QztBQUFGLEdBQXBCLENBQVA7QUFDRDs7QUFFRCwwQkFBMEIsR0FBMUIsTUFBbUM7QUFDakMsUUFBTStpQixtQkFBbUIsR0FBR0MsY0FBYyxDQUFkQSxLQUE1QixJQUE0QkEsQ0FBNUI7QUFDQSxTQUFPRCxtQkFBbUIsQ0FBQyxHQUEzQixJQUEwQixDQUExQjtBQUNEOztBQUVEN2lCLE1BQU0sQ0FBTkEsNkM7Ozs7Ozs7Ozs7O0FDdENBLGNBQVNBO0FBQVQsZ0JBQXVCLE1BQWRBO0FBQVQ7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFFQSxNQUFNa2lCLE1BQU0sR0FBRyxJQUFJbGUsS0FBSyxDQUFULFdBQWYsUUFBZSxDQUFmO0FBQ0EsTUFBTW1lLGNBQWMsR0FBRyxJQUFJbmUsS0FBSyxDQUFULFdBQXZCLGlCQUF1QixDQUF2Qjs7QUFFQSxJQUFJaEUsTUFBTSxDQUFWLFVBQXFCO0FBQ25CO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUFraUIsUUFBTSxDQUFOQSxhQUFvQjtBQUNsQnBpQixhQUFTLEVBRFM7QUFDSjRiLFNBQUssRUFERDtBQUNNeUMsa0JBQWMsRUFEcEI7QUFDeUJ4ZCxNQUFFLEVBQUU7QUFEN0IsR0FBcEJ1aEI7O0FBSUFDLGdCQUFjLENBQWRBLGFBQTRCO0FBQzFCcmlCLGFBQVMsRUFEaUI7QUFDWjRiLFNBQUssRUFETztBQUNGeUMsa0JBQWMsRUFEWjtBQUNpQnhkLE1BQUUsRUFBRTtBQURyQixHQUE1QndoQjtBQUdELEM7Ozs7Ozs7Ozs7O0FDdEJEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLDhDQUE4QztBQUMzRHhqQixPQUFLLENBQUM4QixPQUFPLENBQVIsTUFBTDlCLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTTtBQUFBO0FBQUE7QUFBZ0Jva0I7QUFBaEIsTUFBOEJ0aUIsT0FBTyxDQUEzQztBQUVBLFNBQU91aUIsVUFBVSwwQkFBakIsU0FBaUIsQ0FBakI7QUFDRCxDOzs7Ozs7Ozs7OztBQ1ZEO0FBQUEsU0FBbUI7QUFBbkI7QUFBbUIsSUFBbkIsTUFBbUI7QUFBbkI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSwyQkFBMkI7QUFBRXRrQjtBQUFGLENBQTNCLGFBQWdEO0FBQzdELFFBQU07QUFBQTtBQUFVdWtCO0FBQVYsTUFBTjtBQUVBdGtCLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFFBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEQsUUFBUSxHQUFHO0FBQUE7QUFFZnZEO0FBRmUsR0FBakI7QUFLQSxRQUFNK0QsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKZ2dCLGVBQVMsRUFBRyxJQUFELElBQUMsR0FEUixPQUNRLEVBRFI7QUFFSkQ7QUFGSTtBQURTLEdBQWpCOztBQU9BLFFBQU03Z0IsRUFBRSxHQUFHLHFCQUFxQjtBQUM5QixhQUFTO0FBQ1BDLFlBQU0sQ0FBTkEsTUFBYyxnQ0FBK0JDLEdBQTdDRDtBQUNBO0FBQ0Q7O0FBRUQsb0JBQWdCO0FBQ2RBLFlBQU0sQ0FBTkEsS0FBYSw4QkFBNkI0Z0IsS0FBTSxPQUFNL2pCLE1BQU8sWUFBV1ksU0FBeEV1QztBQUNEO0FBUkg7O0FBV0EsU0FBT3NMLEtBQUssQ0FBTEEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDbENEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2Usd0JBQXdCO0FBQUVqUDtBQUFGLENBQXhCLGFBQTZDO0FBQzFELFFBQU07QUFBRXlGO0FBQUYsTUFBTjtBQUVBeEYsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssUUFBTEEsS0FBSyxDQUFMQTtBQUVBLFFBQU13a0IsUUFBUSxHQUFHaGYsS0FBSyxDQUFMQSxJQUFVb0ksQ0FBQyxJQUFJQSxDQUFDLENBQWpDLEtBQWlCcEksQ0FBakI7QUFFQSxRQUFNaWYsYUFBYSxHQUFHLEtBQUssQ0FBTCxLQUFXO0FBQUE7QUFFL0Jsa0IsVUFBTSxFQUFFO0FBQUVpZCxVQUFJLEVBQUVnSDtBQUFSO0FBRnVCLEdBQVgsRUFHbkI7QUFBRTFkLFVBQU0sRUFBRTtBQUFFdkcsWUFBTSxFQUFFO0FBQVY7QUFBVixHQUhtQixFQUF0QixLQUFzQixFQUF0QjtBQUtBa2tCLGVBQWEsQ0FBYkEsUUFBc0J0ZSxJQUFJLElBQUl1ZSxVQUFVLFlBQVl2ZSxJQUFJLENBQXhEc2UsTUFBd0MsQ0FBeENBO0FBRUEsUUFBTUUsVUFBVSxHQUFoQjtBQUNBbmYsT0FBSyxDQUFMQSxRQUFlVyxJQUFELElBQVU7QUFDdEJ3ZSxjQUFVLENBQVZBLEtBQWdCQyxPQUFPLFlBQXZCRCxJQUF1QixDQUF2QkE7QUFERm5mO0FBSUE7QUFDRCxDOzs7Ozs7Ozs7OztBQzFCRDtBQUFBLFNBQWtCLFFBQWxCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtBLDhDQUE4QztBQUFFO0FBQzlDLFFBQU0vRCxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBLFFBQU07QUFBQTtBQUFBO0FBQThCNmY7QUFBOUIsTUFBTjtBQUVBLFFBQU0xZixPQUFPLEdBQUc7QUFDZGliLFNBQUssRUFEUztBQUVkSSxtQkFBZSxFQUFFcUU7QUFGSCxHQUFoQjtBQUtBaGdCLGFBQVcsQ0FBWEE7QUFDRDs7QUFFYyxpQ0FBaUM7QUFBRXpCO0FBQUYsQ0FBakMsYUFBc0Q7QUFDbkUsUUFBTTtBQUFBO0FBQWU4a0I7QUFBZixNQUFOO0FBRUFDLGlCQUFlLCtCQUFmQSxVQUFlLENBQWZBO0FBRUEsUUFBTWhoQixRQUFRLEdBQUc7QUFBQTtBQUVmdkQsVUFBTSxFQUFFO0FBQUVnYyxTQUFHLEVBQUVpRjtBQUFQLEtBRk87QUFHZkQsYUFBUyxFQUFFO0FBSEksR0FBakI7QUFNQSxRQUFNd0QsYUFBYSxHQUFHL1YsS0FBSyxDQUFMQSxRQVg2QyxRQVc3Q0EsQ0FBdEIsQ0FYbUUsQ0FhbkU7QUFDQTtBQUNBOztBQUNBLE1BQUksQ0FBSixlQUFvQjtBQUNsQixVQUFNZ1csbUJBQW1CLEdBQUc7QUFBQTtBQUUxQnBqQixxQkFBZSxFQUZXO0FBRzFCNGY7QUFIMEIsS0FBNUI7QUFNQSxVQUFNeUQsa0JBQWtCLEdBQUc7QUFBQTtBQUV6QmxJLFdBQUssRUFBRTtBQUZrQixLQUEzQjtBQUlBLFVBQU1tSSwwQkFBMEIsR0FBR3BILGdCQUFnQixDQUFoQkEsUUFBbkMsa0JBQW1DQSxDQUFuQztBQUNBLFVBQU07QUFBRWhCO0FBQUYsUUFBTjs7QUFFQSxRQUFJQSxrQkFBa0IsS0FBdEIsSUFBK0I7QUFDN0IsYUFBT3FJLHVCQUF1QixDQUE5QixtQkFBOEIsQ0FBOUI7QUFDRDs7QUFFRCxVQUFNQyxZQUFZLEdBQUcsS0FBSyxDQUFMLFFBQWM7QUFBQTtBQUFhN2tCLFlBQU0sRUFBbkI7QUFBeUMrUixzQkFBZ0IsRUFBRTtBQUEzRCxLQUFkLENBQXJCOztBQUVBLHNCQUFrQjtBQUNoQixhQUFPNlMsdUJBQXVCLENBQTlCLG1CQUE4QixDQUE5QjtBQUNEOztBQUVEO0FBQ0Q7O0FBRUQsU0FBT0wsZUFBZSxRQUFRQyxhQUFhLENBQXJCLG1CQUF0QixVQUFzQixDQUF0QjtBQUNELEM7Ozs7Ozs7Ozs7O0FDaEVEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLDBCQUEwQjtBQUFFaGxCO0FBQUYsQ0FBMUIsYUFBK0M7QUFDNUQsUUFBTTtBQUFFa1E7QUFBRixNQUFOO0FBRUFqUSxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxNQUFLLENBQUxBO0FBRUEsU0FBTzBrQixVQUFVLFlBQWpCLEtBQWlCLENBQWpCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNYRCxPQUFPVyxNQUFQLENBQU9BO0FBQVAsaUJBQXdCO0FBQWpCQSxDQUFQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFFZSwyQkFBMkI7QUFBQTtBQUFVdGxCO0FBQVYsQ0FBM0IsRUFBNkM7QUFDMUQsUUFBTTtBQUFBO0FBQWFRO0FBQWIsTUFBTjtBQUNBLFFBQU07QUFBRStrQjtBQUFGLE1BQU47QUFFQSxTQUFPRCxXQUFXLG9CQUFsQixVQUFrQixDQUFsQjtBQUNELEM7Ozs7Ozs7Ozs7O0FDUEQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBR2UscUNBQXFDO0FBQUE7QUFBVXRsQjtBQUFWLENBQXJDLGFBQWtFO0FBQy9FLFFBQU07QUFBRVE7QUFBRixNQUFOO0FBQ0EsUUFBTTtBQUFFZ2xCO0FBQUYsTUFBTjtBQUVBdmxCLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLGdCQUFnQnNELEtBQUssQ0FBMUJ0RCxPQUFLLENBQUxBO0FBQ0FBLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUdBLFNBQU93bEIscUJBQXFCLFNBQTVCLGFBQTRCLENBQTVCO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNiRCxjQUFTbmtCO0FBQVQsV0FBdUI7QUFBZEEsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2UsZ0RBQWdEO0FBQzdELFFBQU1JLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxRQUFNRSxVQUFVLEdBQWhCO0FBRUEzQixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEIsT0FBTyxHQUFHO0FBQUE7QUFBQTtBQUdkMGEsY0FBVSxFQUFFO0FBSEUsR0FBaEI7QUFNQTlZLFFBQU0sQ0FBTkEsS0FBYSxTQUFRbkQsTUFBTyx5QkFBd0JZLFNBQVUsZ0JBQWVza0IsU0FBN0UvaEI7QUFFQSxTQUFPbEMsV0FBVyxDQUFYQSwyREFBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNyQkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsMEJBQTBCO0FBQUV6QjtBQUFGLENBQTFCLGFBQStDO0FBQzVELFFBQU1vRyxJQUFJLEdBQVY7QUFFQW5HLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUVBLFNBQU80a0IsT0FBTyxZQUFkLElBQWMsQ0FBZDtBQUNELEM7Ozs7Ozs7Ozs7O0FDVkQ7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFRQSxNQUFNYyxrQkFBa0IsR0FBRyxnQkFBZ0JyRixPQUFPLEdBQXZCLFVBQW9DO0FBQzdELFFBQU1zRixjQUFjLEdBQUd0a0IsTUFBTSxDQUFOQSxPQUF2QjtBQUNBSCxRQUFNLENBQU5BLDRCQUNVMGtCLENBQUMsSUFBSUQsY0FBYyxDQUFkQSxDQUFjLENBQWRBLFlBRGZ6a0Isc0JBRVUwa0IsQ0FBQyxJQUFJQSxDQUFDLEtBRmhCMWtCLGlCQUdXMGtCLENBQUMsSUFBSUQsY0FBYyxDQUFkQSxDQUFjLENBQWRBLENBSGhCemtCLEtBR2dCeWtCLEVBSGhCemtCO0FBRkY7O0FBUWUsaUNBQWlDO0FBQUVuQjtBQUFGLENBQWpDLGFBQXNEO0FBQ25FLFFBQU07QUFBQTtBQUFBO0FBQUE7QUFBNEI4bEI7QUFBNUIsTUFBTjtBQUVBN2xCLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxRQUFMQSxPQUFLLENBQUxBO0FBQ0FBLE9BQUssa0JBQUxBLE9BQUssQ0FBTEE7QUFFQSxRQUFNOGxCLFlBQVksR0FBR0MsMkJBQTJCLENBQTNCQSx3QkFBckIsU0FBcUJBLENBQXJCOztBQUVBLE1BQUcsQ0FBSCxPQUFXO0FBQ1RELGdCQUFZLENBQVpBLFFBQ0VFLFdBQVcsSUFBSTtBQUNiLFVBQUk7QUFDRixjQUFNO0FBQUNDO0FBQUQsWUFBTjtBQUNBLGNBQU1yVSxZQUFZLEdBQUdxVSxzQkFBc0IsQ0FBdEJBLFdBRm5CLEVBRUYsQ0FGRSxDQUlGOztBQUNBNWtCLGNBQU0sQ0FBTkEsV0FBa0IsTUFBSTtBQUNwQjRrQixnQ0FBc0IsQ0FBdEJBO0FBREY1a0I7QUFJQXFDLGNBQU0sQ0FBTkEsS0FBYSxxQkFBb0JrTyxZQUFqQ2xPO0FBVEYsUUFVRSxVQUFVO0FBQ1ZBLGNBQU0sQ0FBTkEsTUFBYyx1Q0FBc0N2QyxTQUFVLGNBQWFaLE1BQU8sZ0JBQWVrbEIsU0FBakcvaEI7QUFDRDtBQWRMb2lCO0FBa0JBO0FBQ0Q7O0FBRUQsYUFBVTtBQUNSO0FBQ0FBLGdCQUFZLENBQVpBLFFBQ0lFLFdBQVcsSUFBSTtBQUNYLFlBQU07QUFBQ0M7QUFBRCxVQUFOO0FBRUE7O0FBQ0EsWUFBTUMsU0FBUyxHQUFJLEdBQUUva0IsU0FBVSxLQUFJWixNQUFuQztBQUNBMGxCLDRCQUFzQixDQUF0QkE7QUFFQSxZQUFNcGYsSUFBSSxHQUFHLEtBQUssQ0FBTCxRQUFjO0FBQUE7QUFFdkJ0RyxjQUFNLEVBQUVBO0FBRmUsT0FBZCxDQUFiOztBQUtBLFVBQUksQ0FBSixNQUFXO0FBQ1A0bEIsdUJBQWUsb0JBQWZBLFNBQWUsQ0FBZkE7QUFDSDs7QUFFREMsaUNBQTJCLG9CQUFvQkgsc0JBQXNCLENBQXRCQSxXQUFwQixJQUEzQkcsU0FBMkIsQ0FBM0JBO0FBQ0E7QUFsQlJOO0FBcUJEOztBQUVELFFBQU1oaUIsUUFBUSxHQUFHO0FBQUE7QUFBQTtBQUdmMFksY0FBVSxFQUFFO0FBSEcsR0FBakI7QUFNQSxRQUFNM1YsSUFBSSxHQUFHbUksS0FBSyxDQUFMQSxRQS9Ec0QsUUErRHREQSxDQUFiLENBL0RtRSxDQWlFbkU7O0FBQ0EsTUFBSSxDQUFKLE1BbEVtRSxRQW9FbkU7O0FBQ0EsTUFBSXFYLEtBQUssSUFBSSxDQUFiLGlCQUErQjtBQUM3QjNpQixVQUFNLENBQU5BO0FBQ0E0aUIsWUFBUSxvQkFBb0J6ZixJQUFJLENBQWhDeWYsU0FBUSxDQUFSQTtBQUNEOztBQUVELFFBQU1oaUIsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKZ2lCLGVBQVMsRUFETDtBQUVKclcsY0FBUSxFQUFFLENBRk47QUFHSkUsZUFBUyxFQUFFakUsSUFBSSxDQUhYLEdBR09BLEVBSFA7QUFJSnFhLHFCQUFlLEVBQUU7QUFKYjtBQURTLEdBQWpCOztBQVNBLFFBQU0vaUIsRUFBRSxHQUFHLHFCQUFxQjtBQUM5QixhQUFTO0FBQ1AsYUFBT0MsTUFBTSxDQUFOQSxNQUFjLDBCQUF5QkMsR0FBOUMsRUFBT0QsQ0FBUDtBQUNEOztBQUVELG9CQUFnQjtBQUNkLGlCQUFXO0FBQ1QsY0FBTStpQixhQUFhLEdBQUksR0FBRXRsQixTQUFVLElBQUdaLE1BQXRDO0FBQ0EsY0FBTW1tQixtQkFBbUIsR0FBRzdmLElBQUksQ0FBSkEsZUFBb0JBLElBQUksQ0FBeEJBLGVBQTVCO0FBQ0E2ZSwwQkFBa0IsZ0JBQWxCQSxtQkFBa0IsQ0FBbEJBO0FBQ0Q7O0FBRUQsYUFBT2hpQixNQUFNLENBQU5BLEtBQWEsMkJBQTBCMmlCLEtBQU0sU0FBUTlsQixNQUFPLFlBQVdZLFNBQTlFLEVBQU91QyxDQUFQO0FBQ0Q7O0FBRUQsV0FBT0EsTUFBTSxDQUFOQSxLQUFQLHFCQUFPQSxDQUFQO0FBZkY7O0FBa0JBc0wsT0FBSyxDQUFMQTtBQUNELEM7Ozs7Ozs7Ozs7O0FDdEhELGNBQVMzTjtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBT2UsaUNBQWlDO0FBQUU7QUFDaEQsUUFBTUksWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7QUFFQSxRQUFNO0FBQUE7QUFBYUM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFDQTdCLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU02RyxJQUFJLEdBQUcsS0FBSyxDQUFMLFFBQWM7QUFBQTtBQUV6QnRHO0FBRnlCLEdBQWQsQ0FBYjs7QUFLQSxNQUFJLENBQUosTUFBVztBQUNULFVBQU0sSUFBSWMsTUFBTSxDQUFWLHdCQUFOLG1EQUFNLENBQU47QUFDRDs7QUFFRCxRQUFNUyxPQUFPLEdBQUc7QUFDZDZrQixrQkFBYyxFQURBO0FBRWRDLG9CQUFnQixFQUFFL2YsSUFBSSxDQUZSO0FBR2RnZSxjQUFVLEVBSEk7QUFJZDVJLGVBQVcsRUFBRXJhO0FBSkMsR0FBaEI7QUFPQThCLFFBQU0sQ0FBTkEsUUFBZ0IsU0FBUW5ELE1BQU8sNkJBQzdCcUIsZUFBZ0IsbUJBQWtCVCxTQURwQ3VDO0FBR0EsU0FBT2xDLFdBQVcsQ0FBWEEsb0VBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDbkNELGNBQVNIO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU1lLGtDQUFrQztBQUMvQyxRQUFNSSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBN0IsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04QixPQUFPLEdBQUc7QUFBQTtBQUFBO0FBR2RzaUIsYUFBUyxFQUFFeGlCO0FBSEcsR0FBaEI7QUFNQThCLFFBQU0sQ0FBTkEsUUFBZ0IsU0FBUW5ELE1BQU8sYUFBWXdHLElBQUssYUFBWW5GLGVBQWdCLG1CQUFrQlQsU0FBOUZ1QztBQUVBLFNBQU9sQyxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3pCRCxjQUFTSDtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLHFDQUFxQztBQUNsRCxRQUFNSSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBLFFBQU07QUFBQTtBQUFhQyxtQkFBZSxFQUFFaWxCO0FBQTlCLE1BQTRDaGxCLGtCQUFrQixDQUFDLEtBQXJFLE1BQW9FLENBQXBFO0FBRUE3QixPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEIsT0FBTyxHQUFHO0FBQUE7QUFBQTtBQUdkZ2xCO0FBSGMsR0FBaEI7QUFNQSxTQUFPdGxCLFdBQVcsQ0FBWEEsOERBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDckJELGNBQVNIO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU1lLHdDQUF3QztBQUNyRCxRQUFNSSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUVBLFFBQU07QUFBQTtBQUFhQztBQUFiLE1BQWlDQyxrQkFBa0IsQ0FBQyxLQUExRCxNQUF5RCxDQUF6RDtBQUVBN0IsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThCLE9BQU8sR0FBRztBQUNkd2lCLFNBQUssRUFEUztBQUVkL2pCO0FBRmMsR0FBaEI7QUFLQW1ELFFBQU0sQ0FBTkEsUUFBZ0IsU0FBUW5ELE1BQU8sOEJBQTZCMEIsTUFBTyxTQUNqRUwsZUFBZ0IsbUJBQWtCVCxTQURwQ3VDO0FBR0EsU0FBT2xDLFdBQVcsQ0FBWEEsb0VBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDeEJELGNBQVNIO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFPZSxpRUFBaUU7QUFDOUUsUUFBTUksWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7QUFDQSxRQUFNO0FBQUE7QUFBYUM7QUFBYixNQUFpQ0Msa0JBQWtCLENBQUMsS0FBMUQsTUFBeUQsQ0FBekQ7QUFFQTdCLE9BQUssMEJBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNOEIsT0FBTyxHQUFHO0FBQUE7QUFFZHZCLFVBQU0sRUFGUTtBQUdkd21CO0FBSGMsR0FBaEI7QUFNQUMsNEJBQTBCLDZCQUExQkEsdUJBQTBCLENBQTFCQTtBQUVBdGpCLFFBQU0sQ0FBTkEsUUFBZ0IsUUFBTzlCLGVBQWdCLG9DQUFtQ21sQix1QkFBMUVyakI7QUFFQSxTQUFPbEMsV0FBVyxDQUFYQSxvRUFBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUMxQkQsY0FBU0g7QUFBVCxXQUF1QixNQUF2QjtBQUFTQSxDQUFUO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBTWUsc0NBQXNDO0FBQ25ELFFBQU1JLFlBQVksR0FBR0osTUFBTSxDQUFOQSxpQkFBckI7QUFDQSxRQUFNSyxPQUFPLEdBQUdELFlBQVksQ0FBWkEsU0FBaEI7QUFDQSxRQUFNRSxVQUFVLEdBQWhCO0FBRUEsUUFBTTtBQUFBO0FBQWFDLG1CQUFlLEVBQUU4VjtBQUE5QixNQUEyQzdWLGtCQUFrQixDQUFDLEtBQXBFLE1BQW1FLENBQW5FO0FBRUE3QixPQUFLLFdBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxTQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssT0FBTEEsT0FBSyxDQUFMQTtBQUVBLFFBQU04QixPQUFPLEdBQUc7QUFBQTtBQUFBO0FBR2RtbEI7QUFIYyxHQUFoQjtBQU1BdmpCLFFBQU0sQ0FBTkEsUUFBZ0IsUUFBT2dVLFFBQVMsNkJBQTRCblgsTUFBTyxPQUFNMG1CLElBQUs7ZUFDakU5bEIsU0FEYnVDO0FBSUEsU0FBT2xDLFdBQVcsQ0FBWEEsNkRBQVAsT0FBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDNUJELGNBQVNIO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQU1lLDRCQUE0QjtBQUN6QyxRQUFNSSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUFoQjtBQUNBLFFBQU07QUFBQTtBQUFhQyxtQkFBZSxFQUFFckI7QUFBOUIsTUFBeUNzQixrQkFBa0IsQ0FBQyxLQUFsRSxNQUFpRSxDQUFqRTtBQUNBLFFBQU1DLE9BQU8sR0FBRztBQUNkdkI7QUFEYyxHQUFoQjtBQUlBLFFBQU11RCxRQUFRLEdBQUc7QUFDZnZEO0FBRGUsR0FBakI7QUFJQSxRQUFNK0QsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKaWlCLHFCQUFlLEVBQUU7QUFEYjtBQURTLEdBQWpCO0FBTUF4WCxPQUFLLENBQUxBLGlCQW5CeUMsUUFtQnpDQSxFQW5CeUMsQ0FtQlA7O0FBRWxDdEwsUUFBTSxDQUFOQSxLQUFhLFFBQU9uRCxNQUFPLHFDQUFvQ1ksU0FBL0R1QztBQUVBLFNBQU9sQyxXQUFXLENBQVhBLDJEQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQzlCRCxjQUFTSDtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFNZSxzREFBc0Q7QUFDbkUsUUFBTUksWUFBWSxHQUFHSixNQUFNLENBQU5BLGlCQUFyQjtBQUNBLFFBQU1LLE9BQU8sR0FBR0QsWUFBWSxDQUFaQSxTQUFoQjtBQUNBLFFBQU1FLFVBQVUsR0FBaEI7QUFFQTNCLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUVmdkQ7QUFGZSxHQUFqQjtBQUtBLFFBQU1zRyxJQUFJLEdBQUdtSSxLQUFLLENBQUxBLFFBQWIsUUFBYUEsQ0FBYjs7QUFFQSxNQUFJLENBQUosTUFBVztBQUNULFdBQU90TCxNQUFNLENBQU5BLEtBQWEsd0NBQXVDbkQsTUFBTyxPQUFNWSxTQUF4RSxFQUFPdUMsQ0FBUDtBQWZpRSxJQWtCbkU7OztBQUNBLE1BQUltRCxJQUFJLENBQUpBLGlCQUFKLGNBQXdDO0FBQ3RDO0FBQ0Q7O0FBRUQsUUFBTS9FLE9BQU8sR0FBRztBQUFBO0FBRWRva0IsYUFBUyxFQUFFL2tCO0FBRkcsR0FBaEI7QUFLQXVDLFFBQU0sQ0FBTkEsS0FBYSxTQUFRbkQsTUFBTyx5QkFBd0JZLFNBQXBEdUM7QUFDQSxTQUFPbEMsV0FBVyxDQUFYQSwyREFBUCxPQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNwQ0Q7QUFBQSxTQUFtQjtBQUFuQjtBQUFtQixJQUFuQixNQUFtQjtBQUFuQjtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLDJCQUEyQjtBQUFFO0FBQzFDO0FBQ0EsUUFBTTtBQUFBO0FBQWFJO0FBQWIsTUFBaUNDLGtCQUFrQixDQUFDLEtBQTFELE1BQXlELENBQXpEO0FBRUEsUUFBTWlDLFFBQVEsR0FBRztBQUFBO0FBRWZ2RCxVQUFNLEVBQUVxQjtBQUZPLEdBQWpCOztBQUtBLFFBQU02QixFQUFFLEdBQUcscUJBQXFCO0FBQzlCLGFBQVM7QUFDUEMsWUFBTSxDQUFOQSxNQUFjLHFDQUFvQ0MsR0FBbEREO0FBQ0E7QUFDRDs7QUFDRCxvQkFBZ0I7QUFDZEEsWUFBTSxDQUFOQSxLQUFhLGdCQUFlOUIsZUFBZ0IsWUFBV1QsU0FBdkR1QztBQUNEO0FBUEg7O0FBVUEsU0FBTyxLQUFLLENBQUwsaUJBRUw7QUFDRWEsUUFBSSxFQUFFO0FBQ0oyaUIsZUFBUyxFQUFFO0FBRFA7QUFEUixHQUZLLEVBQVAsRUFBTyxDQUFQO0FBU0QsQzs7Ozs7Ozs7Ozs7QUNoQ0QsY0FBUzdsQjtBQUFULFdBQXVCLE1BQXZCO0FBQVNBLENBQVQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLHVFQUF1RTtBQUNwRixRQUFNSSxZQUFZLEdBQUdKLE1BQU0sQ0FBTkEsaUJBQXJCO0FBQ0EsUUFBTUssT0FBTyxHQUFHRCxZQUFZLENBQVpBLFNBQWhCO0FBQ0EsUUFBTUUsVUFBVSxHQUhvRSx5QkFHcEYsQ0FIb0YsQ0FLcEY7O0FBQ0Fva0IsNkJBQTJCLENBQTNCQTtBQUVBLFFBQU1qa0IsT0FBTyxHQUFHO0FBQ2R2QixVQUFNLEVBRFE7QUFFZGtsQixhQUFTLEVBQUUwQjtBQUZHLEdBQWhCO0FBS0F6akIsUUFBTSxDQUFOQSxLQUFhLFNBQVE5QixlQUFnQixtREFBa0RULFNBQVUsc0JBQXFCLGdCQUFnQmEsRUFBdEkwQjtBQUVBLFNBQU9sQyxXQUFXLENBQVhBLG9FQUFQLE9BQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3JCRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSw2Q0FBNkM7QUFDMUR4QixPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTW9uQixXQUFXLEdBQUcvbEIsTUFBTSxDQUFOQSxnQkFBcEI7QUFDQSxRQUFNZ21CLFdBQVcsR0FBR0QsV0FBVyxDQUEvQjtBQUVBLFFBQU07QUFBQTtBQUFTRTtBQUFULE1BQU47QUFFQSxRQUFNQyxhQUFhLEdBQUc7QUFBQTtBQUVwQmxULFNBQUssRUFGZTtBQUVOO0FBQ2RqTyxRQUFJLEVBSGdCO0FBSXBCVyxRQUFJLEVBQUVzZ0IsV0FBVyxDQUpHLFdBSWRBLEVBSmM7QUFLcEJ4WCxTQUFLLEVBTGU7QUFNcEIyWCxVQUFNLEVBTmM7QUFPcEJDLHdCQUFvQixFQVBBO0FBUXBCQyxlQUFXLEVBUlM7QUFTcEJwRCxTQUFLLEVBVGU7QUFVcEIvQyxhQUFTLEVBVlc7QUFXcEI5SixVQUFNLEVBWGM7QUFXTDtBQUNma1EsVUFBTSxFQVpjO0FBYXBCbkwsY0FBVSxFQUFFO0FBYlEsR0FBdEI7QUFnQkEsU0FBT29JLE9BQU8sWUFBZCxhQUFjLENBQWQ7QUFDRCxDOzs7Ozs7Ozs7OztBQzlCRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQVdBLE1BQU01VSxVQUFVLEdBQUcsc0tBQW5CLFNBQW1CLENBQW5COztBQU1lLGtDQUFrQztBQUMvQ2hRLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUVBQSxPQUFLLE9BQU87QUFDVmlRLFNBQUssRUFESztBQUVWb0UsU0FBSyxFQUZLO0FBR1ZqTyxRQUFJLEVBSE07QUFJVlcsUUFBSSxFQUpNO0FBS1Y4SSxTQUFLLEVBTEs7QUFNVjJYLFVBQU0sRUFOSTtBQU9WQyx3QkFBb0IsRUFBRW5rQixLQUFLLENBQUxBLE1BUFosT0FPWUEsQ0FQWjtBQVFWb2tCLGVBQVcsRUFSRDtBQVNWcEQsU0FBSyxFQVRLO0FBVVYvQyxhQUFTLEVBVkM7QUFXVjlKLFVBQU0sRUFYSTtBQVlWa1EsVUFBTSxFQVpJO0FBYVZuTCxjQUFVLEVBQUUxWjtBQWJGLEdBQVAsQ0FBTDlDO0FBZ0JBLFFBQU1PLE1BQU0sR0FBRzRGLElBQUksQ0FBbkI7QUFFQSxRQUFNckMsUUFBUSxHQUFHO0FBQUE7QUFFZnZEO0FBRmUsR0FBakI7QUFJQSxRQUFNcW5CLE9BQU8sR0FBRyxRQUFRLENBQVIsUUFBaUI7QUFBRXptQjtBQUFGLEdBQWpCLENBQWhCO0FBRUE7OztBQUVBLFFBQU0rQixLQUFLLEdBQUc4TSxVQUFVLENBQUNELFVBQVUsQ0FBQzVKLElBQUksQ0FBZjRKLEtBQVUsQ0FBVkEsR0FBeUJDLFVBQVUsQ0FBNUQsTUFBd0IsQ0FBeEI7QUFFQSxRQUFNMUwsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRSxNQUFNLENBQU4sT0FDSjtBQUFBO0FBRUUrTixzQkFBZ0IsRUFGbEI7QUFHRXVWLGNBQVEsRUFBRTFoQixJQUFJLENBQUpBLFlBSFosV0FHWUEsRUFIWjtBQUFBO0FBS0UyTixtQkFBYSxFQUFFO0FBQ2JnVSxzQkFBYyxFQUFFRixPQUFPLENBQVBBLFlBREg7QUFFYjNULGdCQUFRLEVBQUUyVCxPQUFPLENBQVBBLGNBQXNCM1Q7QUFGbkIsT0FMakI7QUFTRThTLDZCQUF1QixFQVR6QjtBQVVFUCxxQkFBZSxFQVZqQjtBQVdFakIsbUJBQWEsRUFYZjtBQVlFMkIsZUFBUyxFQUFFO0FBWmIsS0FESSxFQWVKamhCLElBQUksQ0FmQSxJQWVBLENBZkE7QUFEUyxHQUFqQixDQS9CK0MsQ0FtRC9DO0FBQ0E7O0FBQ0EsTUFBSUUsSUFBSSxDQUFKQSxpQ0FBc0MsQ0FBQyxVQUFVLENBQVYsUUFBbUI7QUFBQTtBQUFhOEosU0FBSyxFQUFFMVA7QUFBcEIsR0FBbkIsQ0FBM0MsRUFBNkY7QUFDM0Z3bkIsZ0JBQVksWUFBWTtBQUN0QkMsaUJBQVcsRUFEVztBQUV0Qi9YLFdBQUssRUFGaUI7QUFHdEJxWCxnQkFBVSxFQUFFbmhCLElBQUksQ0FITTtBQUl0QjhoQixlQUFTLEVBSmE7QUFLdEJDLFdBQUssRUFMaUI7QUFNdEJDLGFBQU8sRUFOZTtBQU90QkMsaUJBQVcsRUFQVztBQVF0QkMsZ0JBQVUsRUFSWTtBQVN0Qm5TLGVBQVMsRUFUYTtBQVV0Qm9TLFlBQU0sRUFBRTtBQVZjLEtBQVosQ0FBWlA7QUFZRDs7QUFFRCxRQUFNdGtCLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyw4QkFBNkJDLEdBQWxELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxVQUFNO0FBQUVFO0FBQUYsUUFBTjs7QUFDQSxvQkFBZ0I7QUFDZCxhQUFPRixNQUFNLENBQU5BLEtBQWEsaUJBQWdCbkQsTUFBTyxZQUFXWSxTQUF0RCxFQUFPdUMsQ0FBUDtBQUNEOztBQUVELFdBQU9BLE1BQU0sQ0FBTkEsS0FBYSxvQkFBbUJuRCxNQUFPLFlBQVdZLFNBQXpELEVBQU91QyxDQUFQO0FBVkY7O0FBYUEsU0FBT3NMLEtBQUssQ0FBTEEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDbkdEO0FBQUEsU0FBbUI7QUFBbkI7QUFBbUIsSUFBbkIsTUFBbUI7QUFBbkI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2Usa0VBQWtFO0FBQy9FLFFBQU1sTCxRQUFRLEdBQUc7QUFBQTtBQUVmdkQ7QUFGZSxHQUFqQjtBQUtBLFFBQU0rRCxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFO0FBQ0pnZDtBQURJO0FBRFMsR0FBakI7O0FBTUEsUUFBTTlkLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyxzQkFBcUJDLEdBQTFDLEVBQU9ELENBQVA7QUFDRDs7QUFFRCxvQkFBZ0I7QUFDZCxhQUFPQSxNQUFNLENBQU5BLEtBQWEscUJBQW9CNmQsU0FBVSxPQUFNaGhCLE1BQU8sWUFBV1ksU0FBdkQsRUFBQyxHQUNqQixHQUFFaWpCLFNBQVMsR0FBSSxjQUFhQSxTQUFqQixLQUErQixFQUQ3QyxFQUFPMWdCLENBQVA7QUFFRDs7QUFFRDtBQVZGOztBQWFBLFFBQU1rSSxPQUFPLEdBQUcsUUFBUSxDQUFSLFFBQWlCO0FBQUV6SztBQUFGLEdBQWpCLENBQWhCOztBQUNBLE1BQUl5SyxPQUFPLElBQUlBLE9BQU8sQ0FBdEIsa0JBQXlDO0FBQ3ZDbEksVUFBTSxDQUFOQSxLQUFhLDhGQUE2RmtJLE9BQU8sQ0FBQ0YsZ0JBQWxIaEk7QUFDQStkLDZCQUF5QixDQUFDO0FBQUE7QUFBYTdmLHFCQUFlLEVBQUVyQjtBQUE5QixLQUFELENBQXpCa2hCO0FBQ0Q7O0FBQ0QsU0FBT3pTLEtBQUssQ0FBTEEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDcENEO0FBQUEsU0FBbUI7QUFBbkI7QUFBbUI7QUFBbkI7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUdlLHdEQUF3RDtBQUNyRSxRQUFNbEwsUUFBUSxHQUFHO0FBQUE7QUFFZnZEO0FBRmUsR0FBakI7QUFLQSxRQUFNK0QsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKd0M7QUFESTtBQURTLEdBQWpCOztBQU1BLFFBQU10RCxFQUFFLEdBQUcscUJBQXFCO0FBQzlCLGFBQVM7QUFDUCxhQUFPQyxNQUFNLENBQU5BLE1BQWMsc0JBQXFCQyxHQUExQyxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsb0JBQWdCO0FBQ2QsYUFBT0EsTUFBTSxDQUFOQSxLQUFhLHFCQUFvQnFELElBQUssT0FBTXhHLE1BQU8sWUFBV1ksU0FBbEQsRUFBQyxHQUNqQixHQUFFaWpCLFNBQVMsR0FBSSxjQUFhQSxTQUFqQixLQUErQixFQUQ3QyxFQUFPMWdCLENBQVA7QUFFRDs7QUFFRDtBQVZGOztBQWFBLFNBQU9zTCxLQUFLLENBQUxBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQzdCRDtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFHQSxNQUFNZ0osVUFBVSxHQUFJN1csU0FBRCxJQUFlO0FBQ2hDLGlCQUFlO0FBQ2IsV0FBTyxLQUFLLENBQUwsT0FBYTtBQUFFQTtBQUFGLEtBQWIsRUFBNEIsTUFBTTtBQUN2Q3VDLFlBQU0sQ0FBTkEsS0FBYSxrQkFBaUJ2QyxTQUE5QnVDO0FBREYsS0FBTyxDQUFQO0FBR0Q7O0FBRUQsU0FBTyxLQUFLLENBQUwsV0FBaUIsTUFBTTtBQUM1QkEsVUFBTSxDQUFOQTtBQURGLEdBQU8sQ0FBUDtBQVBGOztBQUhBLE9BQU9BLGFBQVAsQ0FlQSxVQWZBLEU7Ozs7Ozs7Ozs7O0FDQUEsY0FBU3JDO0FBQVQsV0FBdUIsTUFBdkI7QUFBU0EsQ0FBVDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBS2UsdURBQXVEO0FBQ3BFckIsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNNkcsSUFBSSxHQUFHLEtBQUssQ0FBTCxRQUFjO0FBQUE7QUFBYXRHO0FBQWIsR0FBZCxDQUFiOztBQUNBLFlBQVU7QUFDUixVQUFNLElBQUljLE1BQU0sQ0FBVix1QkFBTixtREFBTSxDQUFOO0FBQ0Q7O0FBRUQsUUFBTWlkLEdBQUcsR0FBRztBQUFBO0FBQUE7QUFBQTtBQUlWOUIsY0FBVSxFQUpBO0FBS1YrSixhQUFTLEVBQUU7QUFMRCxHQUFaOztBQVFBLFFBQU05aUIsRUFBRSxHQUFHLHFCQUFxQjtBQUM5QixhQUFTO0FBQ1BDLFlBQU0sQ0FBTkEsTUFBYyxzQ0FBcUNDLEdBQW5ERDtBQUNBO0FBQ0Q7O0FBQ0Qsb0JBQWdCO0FBQ2RBLFlBQU0sQ0FBTkEsS0FBYSx5QkFBd0JuRCxNQUFPLFVBQVNrbEIsU0FBVSxZQUFXdGtCLFNBQTFFdUM7QUFDRDtBQVBIOztBQVVBLFNBQU9zTCxLQUFLLENBQUxBLFlBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDbENEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFPQSxNQUFNdVosZ0JBQWdCLEdBQUk5QixhQUFELElBQW1CO0FBQzFDLFFBQU1kLGNBQWMsR0FBR3RrQixNQUFNLENBQU5BLE9BQXZCO0FBQ0FILFFBQU0sQ0FBTkEsNEJBQ1Uwa0IsQ0FBQyxJQUFJRCxjQUFjLENBQWRBLENBQWMsQ0FBZEEsWUFEZnprQix1QkFFVzBrQixDQUFDLElBQUlELGNBQWMsQ0FBZEEsQ0FBYyxDQUFkQSxDQUZoQnprQixLQUVnQnlrQixFQUZoQnprQjtBQUZGOztBQU9lLHVDQUF1QztBQUNwRGxCLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNd29CLFlBQVksR0FBRyxLQUFLLENBQUwsUUFBYztBQUFBO0FBQVVybkI7QUFBVixHQUFkLENBQXJCOztBQUVBLG9CQUFrQjtBQUNoQixVQUFNO0FBQUVvZ0I7QUFBRixRQUFOOztBQUNBLG1CQUFlO0FBQ2JFLCtCQUF5QixDQUFDO0FBQUE7QUFBYTdmLHVCQUFlLEVBQUVyQjtBQUE5QixPQUFELENBQXpCa2hCO0FBQ0Q7QUFDRjs7QUFFRCxRQUFNM2QsUUFBUSxHQUFHO0FBQUE7QUFFZnZEO0FBRmUsR0FBakI7QUFLQSxRQUFNK0QsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKK04sc0JBQWdCLEVBRFo7QUFFSmlVLGVBQVMsRUFGTDtBQUdKakMsV0FBSyxFQUhEO0FBSUovQyxlQUFTLEVBSkw7QUFLSnhhLFVBQUksRUFBRTtBQUxGO0FBRFMsR0FBakI7O0FBVUEsUUFBTXRELEVBQUUsR0FBSUUsR0FBRCxJQUFTO0FBQ2xCLGFBQVM7QUFDUCxhQUFPRCxNQUFNLENBQU5BLE1BQWMsa0NBQWlDQyxHQUF0RCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsVUFBTStpQixhQUFhLEdBQUksR0FBRXRsQixTQUFVLElBQUdaLE1BQXRDO0FBQ0Fnb0Isb0JBQWdCLENBQWhCQSxhQUFnQixDQUFoQkE7QUFFQUUsNkJBQXlCLFlBQXpCQSxNQUF5QixDQUF6QkE7QUFFQSxXQUFPL2tCLE1BQU0sQ0FBTkEsS0FBYSxtQkFBa0JuRCxNQUFPLFlBQVdZLFNBQXhELEVBQU91QyxDQUFQO0FBVkY7O0FBWUFnbEIsY0FBWSxDQUFaQSxPQUFvQjtBQUFBO0FBQWFub0I7QUFBYixHQUFwQm1vQjtBQUNBLFNBQU8xWixLQUFLLENBQUxBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ3hERDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBSWUsaUZBQWlGO0FBQzlGaFAsT0FBSyxZQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssU0FBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFlBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxlQUFMQSxNQUFLLENBQUxBO0FBRUEsUUFBTThELFFBQVEsR0FBRztBQUFBO0FBRWZ2RDtBQUZlLEdBQWpCO0FBS0EsUUFBTStELFFBQVEsR0FBRztBQUNmQyxRQUFJLEVBQUU7QUFBQTtBQUVKa2hCO0FBRkk7QUFEUyxHQUFqQjs7QUFPQSxRQUFNaGlCLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQQyxZQUFNLENBQU5BLE1BQWMsOEJBQTZCbkQsTUFBTyxLQUFJb0QsR0FBdEREO0FBQ0E7QUFDRDs7QUFFRCxvQkFBZ0I7QUFDZEEsWUFBTSxDQUFOQSxLQUFhLDJDQUEwQ25ELE1BQU8saUJBQWdCcVIsWUFBYSxZQUFXelEsU0FBVSxjQUFhc2tCLFNBQTdIL2hCO0FBQ0Q7QUFSSDs7QUFXQSxTQUFPc0wsS0FBSyxDQUFMQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNsQ0Q7QUFBQSxTQUFzQixRQUF0QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUllLG9GQUFvRjtBQUNqR2hQLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSywwQkFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUFBO0FBR2ZpakIsMkJBQXVCLEVBQUU7QUFBRXhLLFNBQUcsRUFBRXdLO0FBQVA7QUFIVixHQUFqQjtBQU1BLFFBQU16aUIsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKd2lCO0FBREk7QUFEUyxHQUFqQjs7QUFNQSxRQUFNdGpCLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQQyxZQUFNLENBQU5BLE1BQWMsaUJBQWdCbkQsTUFBTyxLQUFJb0QsR0FBekNEO0FBQ0Q7O0FBRUQsb0JBQWdCO0FBQ2RBLFlBQU0sQ0FBTkEsS0FBYSxnQkFBZW5ELE1BQU8sNEJBQTJCd21CLHVCQUF3QixlQUFjNWxCLFNBQXBHdUM7QUFDRDtBQVBIOztBQVVBLFNBQU9zTCxLQUFLLENBQUxBLDJCQUFQLEVBQU9BLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQ2hDRDtBQUFBLFNBQXNCLFFBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUtlLHVEQUF1RDtBQUNwRWhQLE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxnQkFBTEEsTUFBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUVmdkQ7QUFGZSxHQUFqQjtBQUtBLFFBQU0rRCxRQUFRLEdBQUc7QUFDZkMsUUFBSSxFQUFFO0FBQ0pva0IsYUFBTyxFQURIO0FBRUpDO0FBRkk7QUFEUyxHQUFqQjs7QUFPQSxRQUFNbmxCLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyxrQ0FBaUNDLEdBQXRELEVBQU9ELENBQVA7QUFDRDs7QUFFRCxvQkFBZ0I7QUFDZCtrQiwrQkFBeUIsWUFBekJBLE1BQXlCLENBQXpCQTtBQUNBLGFBQU8va0IsTUFBTSxDQUFOQSxLQUFhLG1CQUFrQm5ELE1BQU8sWUFBV1ksU0FBVSxXQUFVeW5CLGFBQTVFLEVBQU9sbEIsQ0FBUDtBQUNEOztBQUVEO0FBVkY7O0FBYUEsU0FBT3NMLEtBQUssQ0FBTEEsMkJBQVAsRUFBT0EsQ0FBUDtBQUNELEM7Ozs7Ozs7Ozs7O0FDcENEO0FBQUEsU0FBc0IsUUFBdEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFJZSxzREFBc0Q7QUFDbkVoUCxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7QUFDQUEsT0FBSyxnQkFBZ0JzRCxLQUFLLENBQTFCdEQsT0FBSyxDQUFMQTtBQUVBLFFBQU04RCxRQUFRLEdBQUc7QUFBQTtBQUVmMGlCLG1CQUFlLEVBQUU7QUFGRixHQUFqQjtBQUtBLFFBQU1saUIsUUFBUSxHQUFHO0FBQ2ZDLFFBQUksRUFBRTtBQUNKaWlCLHFCQUFlLEVBRFg7QUFFSmpCO0FBRkk7QUFEUyxHQUFqQjs7QUFPQSxRQUFNOWhCLEVBQUUsR0FBRyxxQkFBcUI7QUFDOUIsYUFBUztBQUNQLGFBQU9DLE1BQU0sQ0FBTkEsTUFBYyw2QkFBNEJuRCxNQUFPLEtBQUlvRCxHQUE1RCxFQUFPRCxDQUFQO0FBQ0Q7O0FBRUQsb0JBQWdCO0FBQ2QsYUFBT0EsTUFBTSxDQUFOQSxLQUFhLGdCQUFlbkQsTUFBbkMsMEJBQU9tRCxDQUFQO0FBQ0Q7O0FBRUQ7QUFURjs7QUFZQSxTQUFPc0wsS0FBSyxDQUFMQSwyQkFBUCxFQUFPQSxDQUFQO0FBQ0QsQzs7Ozs7Ozs7Ozs7QUNqQ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFFQSw4QkFBOEI7QUFDMUI2WixhQUFXLEdBQUk7QUFDWG5sQixVQUFNLENBQU5BO0FBQ0E7QUFDSDs7QUFFRG9sQixhQUFXLCtCQUFnQztBQUN2QztBQUNBM25CLGFBQVMsR0FBR0EsU0FBUyxDQUFUQSxjQUFaQSxFQUFZQSxDQUFaQTtBQUNBWixVQUFNLEdBQU1BLE1BQU0sQ0FBTkEsY0FBWkEsRUFBWUEsQ0FBWkE7QUFDQWtsQixhQUFTLEdBQUdBLFNBQVMsQ0FBVEEsY0FKMkIsRUFJM0JBLENBQVpBLENBSnVDLENBTXZDOztBQUNBLFdBQVEsR0FBRXRrQixTQUFVLElBQUdaLE1BQU8sSUFBR2tsQixTQUFqQztBQUNIOztBQUVEc0QsS0FBRyx1REFBd0Q7QUFDdkRybEIsVUFBTSxDQUFOQSx3Q0FBK0M7QUFBQTtBQUFBO0FBQW9CK2hCO0FBQXBCLEtBQS9DL2hCO0FBQ0Esb0JBQWdCO0FBQ1prWSxTQUFHLEVBQUUsb0NBRE8sU0FDUCxDQURPO0FBQUE7QUFBQTtBQUFBO0FBRWtCcUs7QUFGbEIsS0FBaEI7QUFJSDs7QUFFRCtDLE1BQUksK0JBQWdDO0FBQ2hDLFVBQU1wTixHQUFHLEdBQUcsb0NBQVosU0FBWSxDQUFaO0FBQ0FsWSxVQUFNLENBQU5BLHlDQUFnRDtBQUFBO0FBQUE7QUFBQTtBQUF5QitoQjtBQUF6QixLQUFoRC9oQixFQUZnQyxDQUloQzs7QUFDQSxVQUFNdWxCLE9BQU8sR0FBRyxrQkFBbUJDLENBQUMsSUFBSUEsQ0FBQyxDQUFEQSxRQUxSLEdBS2hCLENBQWhCLENBTGdDLENBT2hDOztBQUNBLFFBQUdELE9BQU8sQ0FBVixRQUFtQjtBQUNmLG1CQUFhLGtCQUFtQkMsQ0FBQyxJQUFJQSxDQUFDLENBQURBLFFBQXJDLEdBQWEsQ0FBYjtBQVQ0QixNQVloQzs7O0FBQ0E7QUFDSDs7QUF0Q3lCOztBQUY5QixPQUFPeGxCLGFBQVAsQ0EwQ2UsSUFBZix1QkFBZSxFQTFDZixFOzs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFXQWxDLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBLDREOzs7Ozs7Ozs7OztBQ25CQSxPQUFPLElBQVA7QUFBQTtBQUFBLDRCOzs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFXQUgsTUFBTSxDQUFOQSxRQUFlO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNiOG5CO0FBVGEsQ0FBZjluQixFOzs7Ozs7Ozs7OztBQ1hBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFB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QUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUEwQ0FDLE1BQU0sQ0FBTkEsTSIsImZpbGUiOiIvYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBtb2RpZnlXaGl0ZWJvYXJkQWNjZXNzIGZyb20gJy9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL21vZGlmaWVycy9tb2RpZnlXaGl0ZWJvYXJkQWNjZXNzJztcbmltcG9ydCBjbGVhckFubm90YXRpb25zIGZyb20gJy4uL21vZGlmaWVycy9jbGVhckFubm90YXRpb25zJztcbmltcG9ydCBhZGRBbm5vdGF0aW9uIGZyb20gJy4uL21vZGlmaWVycy9hZGRBbm5vdGF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlV2hpdGVib2FyZEFubm90YXRpb25zKHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhoZWFkZXIsIE9iamVjdCk7XG4gIGlmIChoZWFkZXIudXNlcklkICE9PSAnbm9kZUpTYXBwJykgeyByZXR1cm4gZmFsc2U7IH1cblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyBhbm5vdGF0aW9ucywgd2hpdGVib2FyZElkLCBtdWx0aVVzZXIgfSA9IGJvZHk7XG5cbiAgY2hlY2soYW5ub3RhdGlvbnMsIEFycmF5KTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuICBjaGVjayhtdWx0aVVzZXIsIEJvb2xlYW4pO1xuXG4gIGNsZWFyQW5ub3RhdGlvbnMobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQpO1xuXG4gIGNvbnN0IGFubm90YXRpb25zQWRkZWQgPSBbXTtcbiAgXy5lYWNoKGFubm90YXRpb25zLCAoYW5ub3RhdGlvbikgPT4ge1xuICAgIGNvbnN0IHsgd2JJZCwgdXNlcklkIH0gPSBhbm5vdGF0aW9uO1xuICAgIGFubm90YXRpb25zQWRkZWQucHVzaChhZGRBbm5vdGF0aW9uKG1lZXRpbmdJZCwgd2JJZCwgdXNlcklkLCBhbm5vdGF0aW9uKSk7XG4gIH0pO1xuXG4gIG1vZGlmeVdoaXRlYm9hcmRBY2Nlc3MobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIG11bHRpVXNlcik7XG5cbiAgcmV0dXJuIGFubm90YXRpb25zQWRkZWQ7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgQW5ub3RhdGlvbnNTdHJlYW1lciBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL3N0cmVhbWVyJztcblxuaW1wb3J0IGNsZWFyQW5ub3RhdGlvbnMgZnJvbSAnLi4vbW9kaWZpZXJzL2NsZWFyQW5ub3RhdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVXaGl0ZWJvYXJkQ2xlYXJlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIHtcbiAgICB1c2VySWQ6IFN0cmluZyxcbiAgICB3aGl0ZWJvYXJkSWQ6IFN0cmluZyxcbiAgICBmdWxsQ2xlYXI6IEJvb2xlYW4sXG4gIH0pO1xuXG4gIGNvbnN0IHsgd2hpdGVib2FyZElkLCBmdWxsQ2xlYXIsIHVzZXJJZCB9ID0gYm9keTtcblxuICBpZiAoZnVsbENsZWFyKSB7XG4gICAgQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ3JlbW92ZWQnLCB7IG1lZXRpbmdJZCwgd2hpdGVib2FyZElkIH0pO1xuICAgIHJldHVybiBjbGVhckFubm90YXRpb25zKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkKTtcbiAgfVxuXG4gIEFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKS5lbWl0KCdyZW1vdmVkJywgeyBtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkIH0pO1xuICByZXR1cm4gY2xlYXJBbm5vdGF0aW9ucyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBBbm5vdGF0aW9uc1N0cmVhbWVyIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuaW1wb3J0IGFkZEFubm90YXRpb24gZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEFubm90YXRpb24nO1xuXG5jb25zdCBBTk5PVEFUSU9OX1BST0NDRVNTX0lOVEVSVkFMID0gNjA7XG5cbmxldCBhbm5vdGF0aW9uc1F1ZXVlID0ge307XG5sZXQgYW5ub3RhdGlvbnNSZWNpZXZlcklzUnVubmluZyA9IGZhbHNlO1xuXG5jb25zdCBwcm9jY2VzcyA9ICgpID0+IHtcbiAgaWYgKCFPYmplY3Qua2V5cyhhbm5vdGF0aW9uc1F1ZXVlKS5sZW5ndGgpIHtcbiAgICBhbm5vdGF0aW9uc1JlY2lldmVySXNSdW5uaW5nID0gZmFsc2U7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFubm90YXRpb25zUmVjaWV2ZXJJc1J1bm5pbmcgPSB0cnVlO1xuICBPYmplY3Qua2V5cyhhbm5vdGF0aW9uc1F1ZXVlKS5mb3JFYWNoKChtZWV0aW5nSWQpID0+IHtcbiAgICBBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCkuZW1pdCgnYWRkZWQnLCB7IG1lZXRpbmdJZCwgYW5ub3RhdGlvbnM6IGFubm90YXRpb25zUXVldWVbbWVldGluZ0lkXSB9KTtcbiAgfSk7XG4gIGFubm90YXRpb25zUXVldWUgPSB7fTtcblxuICBNZXRlb3Iuc2V0VGltZW91dChwcm9jY2VzcywgQU5OT1RBVElPTl9QUk9DQ0VTU19JTlRFUlZBTCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVXaGl0ZWJvYXJkU2VuZCh7IGhlYWRlciwgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgdXNlcklkID0gaGVhZGVyLnVzZXJJZDtcbiAgY29uc3QgYW5ub3RhdGlvbiA9IGJvZHkuYW5ub3RhdGlvbjtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGFubm90YXRpb24sIE9iamVjdCk7XG5cbiAgY29uc3Qgd2hpdGVib2FyZElkID0gYW5ub3RhdGlvbi53YklkO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG5cbiAgaWYoIWFubm90YXRpb25zUXVldWUuaGFzT3duUHJvcGVydHkobWVldGluZ0lkKSkge1xuICAgIGFubm90YXRpb25zUXVldWVbbWVldGluZ0lkXSA9IFtdO1xuICB9XG5cbiAgYW5ub3RhdGlvbnNRdWV1ZVttZWV0aW5nSWRdLnB1c2goeyBtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uIH0pO1xuICBpZiAoIWFubm90YXRpb25zUmVjaWV2ZXJJc1J1bm5pbmcpIHByb2NjZXNzKCk7XG5cbiAgcmV0dXJuIGFkZEFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCBBbm5vdGF0aW9uc1N0cmVhbWVyIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuaW1wb3J0IHJlbW92ZUFubm90YXRpb24gZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZUFubm90YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVXaGl0ZWJvYXJkVW5kbyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHdoaXRlYm9hcmRJZCA9IGJvZHkud2hpdGVib2FyZElkO1xuICBjb25zdCBzaGFwZUlkID0gYm9keS5hbm5vdGF0aW9uSWQ7XG5cbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuICBjaGVjayhzaGFwZUlkLCBTdHJpbmcpO1xuXG4gIEFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKS5lbWl0KCdyZW1vdmVkJywgeyBtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgc2hhcGVJZCB9KTtcbiAgcmV0dXJuIHJlbW92ZUFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHNoYXBlSWQpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyV2hpdGVib2FyZCh3aGl0ZWJvYXJkSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDbGVhcldoaXRlYm9hcmRQdWJNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgd2hpdGVib2FyZElkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHNlbmRBbm5vdGF0aW9uSGVscGVyIGZyb20gJy4vc2VuZEFubm90YXRpb25IZWxwZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlbmRBbm5vdGF0aW9uKGFubm90YXRpb24pIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBzZW5kQW5ub3RhdGlvbkhlbHBlcihhbm5vdGF0aW9uLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlbmRBbm5vdGF0aW9uSGVscGVyKGFubm90YXRpb24sIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2VuZFdoaXRlYm9hcmRBbm5vdGF0aW9uUHViTXNnJztcblxuICBjb25zdCB3aGl0ZWJvYXJkSWQgPSBhbm5vdGF0aW9uLndiSWQ7XG5cbiAgY2hlY2soYW5ub3RhdGlvbiwgT2JqZWN0KTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuXG4gIGlmIChhbm5vdGF0aW9uLmFubm90YXRpb25UeXBlID09PSAndGV4dCcpIHtcbiAgICBjaGVjayhhbm5vdGF0aW9uLCB7XG4gICAgICBpZDogU3RyaW5nLFxuICAgICAgc3RhdHVzOiBTdHJpbmcsXG4gICAgICBhbm5vdGF0aW9uVHlwZTogU3RyaW5nLFxuICAgICAgYW5ub3RhdGlvbkluZm86IHtcbiAgICAgICAgeDogTnVtYmVyLFxuICAgICAgICB5OiBOdW1iZXIsXG4gICAgICAgIGZvbnRDb2xvcjogTnVtYmVyLFxuICAgICAgICBjYWxjZWRGb250U2l6ZTogTnVtYmVyLFxuICAgICAgICB0ZXh0Qm94V2lkdGg6IE51bWJlcixcbiAgICAgICAgdGV4dDogU3RyaW5nLFxuICAgICAgICB0ZXh0Qm94SGVpZ2h0OiBOdW1iZXIsXG4gICAgICAgIGlkOiBTdHJpbmcsXG4gICAgICAgIHdoaXRlYm9hcmRJZDogU3RyaW5nLFxuICAgICAgICBzdGF0dXM6IFN0cmluZyxcbiAgICAgICAgZm9udFNpemU6IE51bWJlcixcbiAgICAgICAgZGF0YVBvaW50czogU3RyaW5nLFxuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICB9LFxuICAgICAgd2JJZDogU3RyaW5nLFxuICAgICAgdXNlcklkOiBTdHJpbmcsXG4gICAgICBwb3NpdGlvbjogTnVtYmVyLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNoZWNrKGFubm90YXRpb24sIHtcbiAgICAgIGlkOiBTdHJpbmcsXG4gICAgICBzdGF0dXM6IFN0cmluZyxcbiAgICAgIGFubm90YXRpb25UeXBlOiBTdHJpbmcsXG4gICAgICBhbm5vdGF0aW9uSW5mbzoge1xuICAgICAgICBjb2xvcjogTnVtYmVyLFxuICAgICAgICB0aGlja25lc3M6IE51bWJlcixcbiAgICAgICAgcG9pbnRzOiBBcnJheSxcbiAgICAgICAgaWQ6IFN0cmluZyxcbiAgICAgICAgd2hpdGVib2FyZElkOiBTdHJpbmcsXG4gICAgICAgIHN0YXR1czogU3RyaW5nLFxuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRpbWVuc2lvbnM6IE1hdGNoLk1heWJlKFtOdW1iZXJdKSxcbiAgICAgIH0sXG4gICAgICB3YklkOiBTdHJpbmcsXG4gICAgICB1c2VySWQ6IFN0cmluZyxcbiAgICAgIHBvc2l0aW9uOiBOdW1iZXIsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGFubm90YXRpb24sXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBzZW5kQW5ub3RhdGlvbkhlbHBlciBmcm9tICcuL3NlbmRBbm5vdGF0aW9uSGVscGVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEJ1bGtBbm5vdGF0aW9ucyhwYXlsb2FkKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgcGF5bG9hZC5mb3JFYWNoKGFubm90YXRpb24gPT4gc2VuZEFubm90YXRpb25IZWxwZXIoYW5ub3RhdGlvbiwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQpKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bmRvQW5ub3RhdGlvbih3aGl0ZWJvYXJkSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdVbmRvV2hpdGVib2FyZFB1Yk1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB3aGl0ZWJvYXJkSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgQW5ub3RhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zJztcbmltcG9ydCBhZGRBbm5vdGF0aW9uUXVlcnkgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL2FkZEFubm90YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRBbm5vdGF0aW9uKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKGFubm90YXRpb24sIE9iamVjdCk7XG5cbiAgY29uc3QgcXVlcnkgPSBhZGRBbm5vdGF0aW9uUXVlcnkobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIGFubm90YXRpb24gdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBudW1DaGFuZ2VkO1xuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIGFubm90YXRpb24gaWQ9JHthbm5vdGF0aW9uLmlkfSB3aGl0ZWJvYXJkPSR7d2hpdGVib2FyZElkfWApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICByZXR1cm4gQW5ub3RhdGlvbnMudXBzZXJ0KHF1ZXJ5LnNlbGVjdG9yLCBxdWVyeS5tb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IEFubm90YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyQW5ub3RhdGlvbnMobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCkge1xuICBjb25zdCBzZWxlY3RvciA9IHt9O1xuXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICBzZWxlY3Rvci5tZWV0aW5nSWQgPSBtZWV0aW5nSWQ7XG4gIH1cblxuICBpZiAod2hpdGVib2FyZElkKSB7XG4gICAgc2VsZWN0b3Iud2hpdGVib2FyZElkID0gd2hpdGVib2FyZElkO1xuICB9XG5cbiAgaWYgKHVzZXJJZCkge1xuICAgIHNlbGVjdG9yLnVzZXJJZCA9IHVzZXJJZDtcbiAgfVxuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIEFubm90YXRpb25zIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBDbGVhcmVkIEFubm90YXRpb25zIGZvciB1c2VySWQ9JHt1c2VySWR9IHdoZXJlIHdoaXRlYm9hcmQ9JHt3aGl0ZWJvYXJkSWR9YCk7XG4gICAgfVxuXG4gICAgaWYgKHdoaXRlYm9hcmRJZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBDbGVhcmVkIEFubm90YXRpb25zIGZvciB3aGl0ZWJvYXJkPSR7d2hpdGVib2FyZElkfWApO1xuICAgIH1cblxuICAgIGlmIChtZWV0aW5nSWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBBbm5vdGF0aW9ucyAoJHttZWV0aW5nSWR9KWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbygnQ2xlYXJlZCBBbm5vdGF0aW9ucyAoYWxsKScpO1xuICB9O1xuXG4gIHJldHVybiBBbm5vdGF0aW9ucy5yZW1vdmUoc2VsZWN0b3IsIGNiKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBBbm5vdGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVBbm5vdGF0aW9uKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCBzaGFwZUlkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuICBjaGVjayhzaGFwZUlkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB3aGl0ZWJvYXJkSWQsXG4gICAgaWQ6IHNoYXBlSWQsXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgYW5ub3RhdGlvbiBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgUmVtb3ZlZCBhbm5vdGF0aW9uIGlkPSR7c2hhcGVJZH0gd2hpdGVib2FyZD0ke3doaXRlYm9hcmRJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gQW5ub3RhdGlvbnMucmVtb3ZlKHNlbGVjdG9yLCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZVdoaXRlYm9hcmRDbGVhcmVkIGZyb20gJy4vaGFuZGxlcnMvd2hpdGVib2FyZENsZWFyZWQnO1xuaW1wb3J0IGhhbmRsZVdoaXRlYm9hcmRVbmRvIGZyb20gJy4vaGFuZGxlcnMvd2hpdGVib2FyZFVuZG8nO1xuaW1wb3J0IGhhbmRsZVdoaXRlYm9hcmRTZW5kIGZyb20gJy4vaGFuZGxlcnMvd2hpdGVib2FyZFNlbmQnO1xuaW1wb3J0IGhhbmRsZVdoaXRlYm9hcmRBbm5vdGF0aW9ucyBmcm9tICcuL2hhbmRsZXJzL3doaXRlYm9hcmRBbm5vdGF0aW9ucyc7XG5cblJlZGlzUHViU3ViLm9uKCdDbGVhcldoaXRlYm9hcmRFdnRNc2cnLCBoYW5kbGVXaGl0ZWJvYXJkQ2xlYXJlZCk7XG5SZWRpc1B1YlN1Yi5vbignVW5kb1doaXRlYm9hcmRFdnRNc2cnLCBoYW5kbGVXaGl0ZWJvYXJkVW5kbyk7XG5SZWRpc1B1YlN1Yi5vbignU2VuZFdoaXRlYm9hcmRBbm5vdGF0aW9uRXZ0TXNnJywgaGFuZGxlV2hpdGVib2FyZFNlbmQpO1xuUmVkaXNQdWJTdWIub24oJ0dldFdoaXRlYm9hcmRBbm5vdGF0aW9uc1Jlc3BNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZVdoaXRlYm9hcmRBbm5vdGF0aW9ucykpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgdW5kb0Fubm90YXRpb24gZnJvbSAnLi9tZXRob2RzL3VuZG9Bbm5vdGF0aW9uJztcbmltcG9ydCBjbGVhcldoaXRlYm9hcmQgZnJvbSAnLi9tZXRob2RzL2NsZWFyV2hpdGVib2FyZCc7XG5pbXBvcnQgc2VuZEFubm90YXRpb24gZnJvbSAnLi9tZXRob2RzL3NlbmRBbm5vdGF0aW9uJztcbmltcG9ydCBzZW5kQnVsa0Fubm90YXRpb25zIGZyb20gJy4vbWV0aG9kcy9zZW5kQnVsa0Fubm90YXRpb25zJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB1bmRvQW5ub3RhdGlvbixcbiAgY2xlYXJXaGl0ZWJvYXJkLFxuICBzZW5kQW5ub3RhdGlvbixcbiAgc2VuZEJ1bGtBbm5vdGF0aW9ucyxcbn0pO1xuIiwiaW1wb3J0IEFubm90YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBhbm5vdGF0aW9ucygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBBbm5vdGF0aW9ucy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIEFubm90YXRpb25zIGZvciAke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgcmV0dXJuIEFubm90YXRpb25zLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZEFubm90YXRpb25zID0gYW5ub3RhdGlvbnMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kQW5ub3RhdGlvbnMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdhbm5vdGF0aW9ucycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpIHtcbiAgTG9nZ2VyLmluZm8oYFJlbW92aW5nIEFubm90YXRpb25zIHN0cmVhbWVyIG9iamVjdCBmb3IgbWVldGluZyAke21lZXRpbmdJZH1gKTtcbiAgZGVsZXRlIE1ldGVvci5TdHJlYW1lckNlbnRyYWwuaW5zdGFuY2VzW2Bhbm5vdGF0aW9ucy0ke21lZXRpbmdJZH1gXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKSB7XG4gIGNvbnN0IHN0cmVhbWVyID0gbmV3IE1ldGVvci5TdHJlYW1lcihgYW5ub3RhdGlvbnMtJHttZWV0aW5nSWR9YCwgeyByZXRyYW5zbWl0OiBmYWxzZSB9KTtcblxuICBzdHJlYW1lci5hbGxvd1JlYWQoZnVuY3Rpb24gYWxsb3dSZWFkKCkge1xuICAgIGlmICghdGhpcy51c2VySWQpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0aGlzLnVzZXJJZCAmJiB0aGlzLnVzZXJJZC5pbmNsdWRlcyhtZWV0aW5nSWQpO1xuICB9KTtcblxuICBzdHJlYW1lci5hbGxvd1dyaXRlKGZ1bmN0aW9uIGFsbG93V3JpdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0KG1lZXRpbmdJZCkge1xuICByZXR1cm4gTWV0ZW9yLlN0cmVhbWVyQ2VudHJhbC5pbnN0YW5jZXNbYGFubm90YXRpb25zLSR7bWVldGluZ0lkfWBdO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5jb25zdCBBTk5PVEFUSU9OX1RZUEVfVEVYVCA9ICd0ZXh0JztcbmNvbnN0IEFOTk9UQVRJT05fVFlQRV9QRU5DSUwgPSAncGVuY2lsJztcblxuLy8gbGluZSwgdHJpYW5nbGUsIGVsbGlwc2UsIHJlY3RhbmdsZVxuZnVuY3Rpb24gaGFuZGxlQ29tbW9uQW5ub3RhdGlvbihtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKSB7XG4gIGNvbnN0IHtcbiAgICBpZCwgc3RhdHVzLCBhbm5vdGF0aW9uVHlwZSwgYW5ub3RhdGlvbkluZm8sIHdiSWQsIHBvc2l0aW9uLFxuICB9ID0gYW5ub3RhdGlvbjtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHdoaXRlYm9hcmRJZCxcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIGlkLFxuICAgICAgc3RhdHVzLFxuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICBhbm5vdGF0aW9uSW5mbyxcbiAgICAgIHdiSWQsXG4gICAgfSxcbiAgICAkc2V0T25JbnNlcnQ6IHtcbiAgICAgIHBvc2l0aW9uLFxuICAgIH0sXG4gICAgJGluYzogeyB2ZXJzaW9uOiAxIH0sXG4gIH07XG5cbiAgcmV0dXJuIHsgc2VsZWN0b3IsIG1vZGlmaWVyIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRleHRVcGRhdGUobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbikge1xuICBjb25zdCB7XG4gICAgaWQsIHN0YXR1cywgYW5ub3RhdGlvblR5cGUsIGFubm90YXRpb25JbmZvLCB3YklkLCBwb3NpdGlvbixcbiAgfSA9IGFubm90YXRpb247XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGlkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBhbm5vdGF0aW9uSW5mby50ZXh0ID0gYW5ub3RhdGlvbkluZm8udGV4dC5yZXBsYWNlKC9bXFxyXS9nLCAnXFxuJyk7XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgd2hpdGVib2FyZElkLFxuICAgICAgbWVldGluZ0lkLFxuICAgICAgaWQsXG4gICAgICBzdGF0dXMsXG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgIGFubm90YXRpb25JbmZvLFxuICAgICAgd2JJZCxcbiAgICB9LFxuICAgICRzZXRPbkluc2VydDoge1xuICAgICAgcG9zaXRpb24sXG4gICAgfSxcbiAgICAkaW5jOiB7IHZlcnNpb246IDEgfSxcbiAgfTtcblxuICByZXR1cm4geyBzZWxlY3RvciwgbW9kaWZpZXIgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUGVuY2lsVXBkYXRlKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24pIHtcbiAgY29uc3QgRFJBV19TVEFSVCA9ICdEUkFXX1NUQVJUJztcbiAgY29uc3QgRFJBV19VUERBVEUgPSAnRFJBV19VUERBVEUnO1xuICBjb25zdCBEUkFXX0VORCA9ICdEUkFXX0VORCc7XG5cbiAgY29uc3Qge1xuICAgIGlkLCBzdGF0dXMsIGFubm90YXRpb25UeXBlLCBhbm5vdGF0aW9uSW5mbywgd2JJZCwgcG9zaXRpb24sXG4gIH0gPSBhbm5vdGF0aW9uO1xuXG4gIGNvbnN0IGJhc2VTZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaWQsXG4gICAgdXNlcklkLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgfTtcblxuICBsZXQgYmFzZU1vZGlmaWVyO1xuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgRFJBV19TVEFSVDpcbiAgICAgIC8vIG9uIHN0YXJ0IHdlIHNwbGl0IHRoZSBwb2ludHNcblxuICAgICAgLy8gY3JlYXRlIHRoZSAncGVuY2lsX2Jhc2UnXG4gICAgICAvLyBUT0RPOiBmaW5kIGFuZCByZW1vdmVkIHVudXNlZCBwcm9wcyAoY2h1bmtzLCB2ZXJzaW9uLCBldGMpXG4gICAgICBiYXNlTW9kaWZpZXIgPSB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICAgIHdoaXRlYm9hcmRJZCxcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICAgICAgYW5ub3RhdGlvbkluZm8sXG4gICAgICAgICAgd2JJZCxcbiAgICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRFJBV19VUERBVEU6XG4gICAgICBiYXNlTW9kaWZpZXIgPSB7XG4gICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgJ2Fubm90YXRpb25JbmZvLnBvaW50cyc6IHsgJGVhY2g6IGFubm90YXRpb25JbmZvLnBvaW50cyB9LFxuICAgICAgICB9LFxuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICB9LFxuICAgICAgICAkaW5jOiB7IHZlcnNpb246IDEgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIERSQVdfRU5EOlxuICAgICAgLy8gVXBkYXRpbmcgdGhlIG1haW4gcGVuY2lsIG9iamVjdCB3aXRoIHRoZSBmaW5hbCBpbmZvXG4gICAgICBiYXNlTW9kaWZpZXIgPSB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICB3aGl0ZWJvYXJkSWQsXG4gICAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgICAgICBhbm5vdGF0aW9uSW5mbyxcbiAgICAgICAgICB3YklkLFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICB9LFxuICAgICAgICAkaW5jOiB7IHZlcnNpb246IDEgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4geyBzZWxlY3RvcjogYmFzZVNlbGVjdG9yLCBtb2RpZmllcjogYmFzZU1vZGlmaWVyIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZEFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcbiAgY2hlY2soYW5ub3RhdGlvbiwgT2JqZWN0KTtcblxuICBzd2l0Y2ggKGFubm90YXRpb24uYW5ub3RhdGlvblR5cGUpIHtcbiAgICBjYXNlIEFOTk9UQVRJT05fVFlQRV9URVhUOlxuICAgICAgcmV0dXJuIGhhbmRsZVRleHRVcGRhdGUobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG4gICAgY2FzZSBBTk5PVEFUSU9OX1RZUEVfUEVOQ0lMOlxuICAgICAgcmV0dXJuIGhhbmRsZVBlbmNpbFVwZGF0ZShtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGhhbmRsZUNvbW1vbkFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBBbm5vdGF0aW9ucyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdhbm5vdGF0aW9ucycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBhbm5vdGF0aW9ucyAgKFRvdGFsKTpcbiAgLy8gMS4gbWVldGluZ0lkLCBpZCwgdXNlcklkICAgICAgICAgICAgICAgKCA4IClcbiAgLy8gMi4gbWVldGluZ0lkLCBpZCwgdXNlcklkLCB3aGl0ZWJvYXJkSWQgKCAxIClcbiAgLy8gMy4gbWVldGluZ0lkICAgICAgICAgICAgICAgICAgICAgICAgICAgKCAxIClcbiAgLy8gNC4gbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQgICAgICAgICAgICAgKCAxIClcbiAgLy8gNS4gbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIGlkICAgICAgICAgKCAxIClcbiAgLy8gNi4gbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCAgICAgKCAxIClcbiAgLy8gVGhlc2UgMiBpbmRleGVzIHNlZW0gdG8gY292ZXIgYWxsIG9mIHRoZSBjYXNlc1xuXG4gIEFubm90YXRpb25zLl9lbnN1cmVJbmRleCh7IGlkOiAxIH0pO1xuICBBbm5vdGF0aW9ucy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHdoaXRlYm9hcmRJZDogMSwgdXNlcklkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBbm5vdGF0aW9ucztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjbGVhckJyZWFrb3V0cyBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJCcmVha291dHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVCcmVha291dENsb3NlZCh7IGJvZHkgfSkge1xuICBjb25zdCB7IGJyZWFrb3V0SWQgfSA9IGJvZHk7XG4gIGNoZWNrKGJyZWFrb3V0SWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGNsZWFyQnJlYWtvdXRzKGJyZWFrb3V0SWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQnJlYWtvdXRKb2luVVJMKHsgYm9keSB9KSB7XG4gIGNvbnN0IHtcbiAgICByZWRpcmVjdFRvSHRtbDVKb2luVVJMLFxuICAgIHVzZXJJZCxcbiAgICBicmVha291dElkLFxuICB9ID0gYm9keTtcblxuICBjaGVjayhyZWRpcmVjdFRvSHRtbDVKb2luVVJMLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIGJyZWFrb3V0SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHB1c2g6IHtcbiAgICAgIHVzZXJzOiB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgcmVkaXJlY3RUb0h0bWw1Sm9pblVSTCxcbiAgICAgICAgaW5zZXJ0ZWRUaW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChjYkVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChjYkVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIGJyZWFrb3V0IHRvIGNvbGxlY3Rpb246ICR7Y2JFcnJ9YCk7XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgaW5zZXJ0ZWRJZCxcbiAgICB9ID0gbnVtQ2hhbmdlZDtcbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBBZGRlZCBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIEJyZWFrb3V0cy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUJyZWFrb3V0Um9vbVN0YXJ0ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICAvLyAwIHNlY29uZHMgZGVmYXVsdCBicmVha291dCB0aW1lLCBmb3JjZXMgdXNlIG9mIHJlYWwgZXhwaXJhdGlvbiB0aW1lXG4gIGNvbnN0IERFRkFVTFRfVElNRV9SRU1BSU5JTkcgPSAwO1xuXG4gIGNvbnN0IHtcbiAgICBwYXJlbnRNZWV0aW5nSWQsXG4gICAgYnJlYWtvdXQsXG4gIH0gPSBib2R5O1xuXG4gIGNvbnN0IHsgYnJlYWtvdXRJZCB9ID0gYnJlYWtvdXQ7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIGJyZWFrb3V0SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgdXNlcnM6IFtdLFxuICAgICAgICBqb2luZWRVc2VyczogW10sXG4gICAgICB9LFxuICAgICAgeyB0aW1lUmVtYWluaW5nOiBERUZBVUxUX1RJTUVfUkVNQUlOSU5HIH0sXG4gICAgICB7IHBhcmVudE1lZXRpbmdJZCB9LFxuICAgICAgZmxhdChicmVha291dCksXG4gICAgKSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGB1cGRhdGluZyBicmVha291dDogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKCdVcGRhdGVkIHRpbWVSZW1haW5pbmcgYW5kIGV4dGVybmFsTWVldGluZ0lkICdcbiAgICAgICsgYGZvciBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIEJyZWFrb3V0cy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBqb2luZWRVc2Vyc0NoYW5nZWQoeyBib2R5IH0pIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7XG4gICAgcGFyZW50SWQsXG4gICAgYnJlYWtvdXRJZCxcbiAgICB1c2VycyxcbiAgfSA9IGJvZHk7XG5cbiAgY2hlY2socGFyZW50SWQsIFN0cmluZyk7XG4gIGNoZWNrKGJyZWFrb3V0SWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJzLCBBcnJheSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgcGFyZW50TWVldGluZ0lkOiBwYXJlbnRJZCxcbiAgICBicmVha291dElkLFxuICB9O1xuXG4gIGNvbnN0IHVzZXJzTWFwcGVkID0gdXNlcnMubWFwKHVzZXIgPT4gKHsgdXNlcklkOiB1c2VyLmlkLCBuYW1lOiB1c2VyLm5hbWUgfSkpO1xuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBqb2luZWRVc2VyczogdXNlcnNNYXBwZWQsXG4gICAgfSxcbiAgfTtcblxuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYHVwZGF0aW5nIGpvaW5lZCB1c2VycyBpbiBicmVha291dDogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKCdVcGRhdGVkIGpvaW5lZCB1c2VycyAnXG4gICAgICArIGBpbiBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gIH07XG4gIEJyZWFrb3V0cy5maW5kKHNlbGVjdG9yKTtcbiAgQnJlYWtvdXRzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBCcmVha291dHMgZnJvbSAnL2ltcG9ydHMvYXBpL2JyZWFrb3V0cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZVRpbWVSZW1haW5pbmcoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7XG4gICAgdGltZVJlbWFpbmluZyxcbiAgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh0aW1lUmVtYWluaW5nLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHBhcmVudE1lZXRpbmdJZDogbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHRpbWVSZW1haW5pbmcsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIG11bHRpOiB0cnVlLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIGJyZWFrb3V0czogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKCdVcGRhdGVkIGJyZWFrb3V0IHRpbWUgcmVtYWluaW5nIGZvciBicmVha291dHMgJyArXG4gICAgICBgd2hlcmUgcGFyZW50TWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBCcmVha291dHMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgb3B0aW9ucywgY2IpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUJyZWFrb3V0Um9vbShyb29tcywgZHVyYXRpb25Jbk1pbnV0ZXMsIHJlY29yZCA9IGZhbHNlKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBldmVudE5hbWUgPSAnQ3JlYXRlQnJlYWtvdXRSb29tc0NtZE1zZyc7XG4gIGlmIChyb29tcy5sZW5ndGggPiA4KSByZXR1cm4gTG9nZ2VyLmluZm8oYEF0dGVtcHQgdG8gY3JlYXRlIGJyZWFrb3V0IHJvb21zIHdpdGggaW52YWxpZCBudW1iZXIgb2Ygcm9vbXMgaW4gbWVldGluZyBpZD0ke21lZXRpbmdJZH1gKTtcbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICByZWNvcmQsXG4gICAgZHVyYXRpb25Jbk1pbnV0ZXMsXG4gICAgcm9vbXMsXG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgZXZlbnROYW1lLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW5kQWxsQnJlYWtvdXRzKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhyZXF1ZXN0ZXJVc2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgZXZlbnROYW1lID0gJ0VuZEFsbEJyZWFrb3V0Um9vbXNNc2cnO1xuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIGV2ZW50TmFtZSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIG51bGwpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVlc3RKb2luVVJMKHsgYnJlYWtvdXRJZCwgdXNlcklkOiB1c2VySWRUb0ludml0ZSB9KSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCB1c2VySWQgPSB1c2VySWRUb0ludml0ZSB8fCByZXF1ZXN0ZXJVc2VySWQ7XG4gIGNvbnN0IGV2ZW50TmFtZSA9ICdSZXF1ZXN0QnJlYWtvdXRKb2luVVJMUmVxTXNnJztcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKFxuICAgIENIQU5ORUwsIGV2ZW50TmFtZSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsXG4gICAge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgYnJlYWtvdXRJZCxcbiAgICAgIHVzZXJJZCxcbiAgICB9LFxuICApO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJCcmVha291dHMoYnJlYWtvdXRJZCkge1xuICBpZiAoYnJlYWtvdXRJZCkge1xuICAgIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgICAgYnJlYWtvdXRJZCxcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJyZWFrb3V0cy5yZW1vdmUoc2VsZWN0b3IsICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIEJyZWFrb3V0cyAoJHticmVha291dElkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBCcmVha291dHMucmVtb3ZlKHt9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgQnJlYWtvdXRzIChhbGwpJyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVCcmVha291dEpvaW5VUkwgZnJvbSAnLi9oYW5kbGVycy9icmVha291dEpvaW5VUkwnO1xuaW1wb3J0IGhhbmRsZUJyZWFrb3V0U3RhcnRlZCBmcm9tICcuL2hhbmRsZXJzL2JyZWFrb3V0U3RhcnRlZCc7XG5pbXBvcnQgaGFuZGxlVXBkYXRlVGltZVJlbWFpbmluZyBmcm9tICcuL2hhbmRsZXJzL3VwZGF0ZVRpbWVSZW1haW5pbmcnO1xuaW1wb3J0IGhhbmRsZUJyZWFrb3V0Q2xvc2VkIGZyb20gJy4vaGFuZGxlcnMvYnJlYWtvdXRDbG9zZWQnO1xuaW1wb3J0IGpvaW5lZFVzZXJzQ2hhbmdlZCBmcm9tICcuL2hhbmRsZXJzL2pvaW5lZFVzZXJzQ2hhbmdlZCc7XG5cblJlZGlzUHViU3ViLm9uKCdCcmVha291dFJvb21TdGFydGVkRXZ0TXNnJywgaGFuZGxlQnJlYWtvdXRTdGFydGVkKTtcblJlZGlzUHViU3ViLm9uKCdCcmVha291dFJvb21Kb2luVVJMRXZ0TXNnJywgaGFuZGxlQnJlYWtvdXRKb2luVVJMKTtcblJlZGlzUHViU3ViLm9uKCdSZXF1ZXN0QnJlYWtvdXRKb2luVVJMUmVzcE1zZycsIGhhbmRsZUJyZWFrb3V0Sm9pblVSTCk7XG5SZWRpc1B1YlN1Yi5vbignQnJlYWtvdXRSb29tc1RpbWVSZW1haW5pbmdVcGRhdGVFdnRNc2cnLCBoYW5kbGVVcGRhdGVUaW1lUmVtYWluaW5nKTtcblJlZGlzUHViU3ViLm9uKCdCcmVha291dFJvb21FbmRlZEV2dE1zZycsIGhhbmRsZUJyZWFrb3V0Q2xvc2VkKTtcblJlZGlzUHViU3ViLm9uKCdVcGRhdGVCcmVha291dFVzZXJzRXZ0TXNnJywgam9pbmVkVXNlcnNDaGFuZ2VkKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGNyZWF0ZUJyZWFrb3V0Um9vbSBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9tZXRob2RzL2NyZWF0ZUJyZWFrb3V0JztcbmltcG9ydCByZXF1ZXN0Sm9pblVSTCBmcm9tICcuL21ldGhvZHMvcmVxdWVzdEpvaW5VUkwnO1xuaW1wb3J0IGVuZEFsbEJyZWFrb3V0cyBmcm9tICcuL21ldGhvZHMvZW5kQWxsQnJlYWtvdXRzJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICByZXF1ZXN0Sm9pblVSTCxcbiAgY3JlYXRlQnJlYWtvdXRSb29tLFxuICBlbmRBbGxCcmVha291dHMsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IFJPTEVfTU9ERVJBVE9SID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy51c2VyLnJvbGVfbW9kZXJhdG9yO1xuXG5mdW5jdGlvbiBicmVha291dHMocm9sZSkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIEJyZWFrb3V0cy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBCcmVha291dHMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7IHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLCBtZWV0aW5nSWQgfSwgeyBmaWVsZHM6IHsgcm9sZTogMSB9IH0pO1xuICBpZiAoISFVc2VyICYmIFVzZXIucm9sZSA9PT0gUk9MRV9NT0RFUkFUT1IpIHtcbiAgICBjb25zdCBwcmVzZW50ZXJTZWxlY3RvciA9IHtcbiAgICAgICRvcjogW1xuICAgICAgICB7IHBhcmVudE1lZXRpbmdJZDogbWVldGluZ0lkIH0sXG4gICAgICAgIHsgYnJlYWtvdXRJZDogbWVldGluZ0lkIH0sXG4gICAgICBdLFxuICAgIH07XG5cbiAgICByZXR1cm4gQnJlYWtvdXRzLmZpbmQocHJlc2VudGVyU2VsZWN0b3IpO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgJG9yOiBbXG4gICAgICB7XG4gICAgICAgIHBhcmVudE1lZXRpbmdJZDogbWVldGluZ0lkLFxuICAgICAgICBmcmVlSm9pbjogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHBhcmVudE1lZXRpbmdJZDogbWVldGluZ0lkLFxuICAgICAgICAndXNlcnMudXNlcklkJzogcmVxdWVzdGVyVXNlcklkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYnJlYWtvdXRJZDogbWVldGluZ0lkLFxuICAgICAgfSxcbiAgICBdLFxuICB9O1xuXG4gIHJldHVybiBCcmVha291dHMuZmluZChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZEJyZWFrb3V0cyA9IGJyZWFrb3V0cy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRCcmVha291dHMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdicmVha291dHMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBCcmVha291dHMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignYnJlYWtvdXRzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIGJyZWFrb3V0czpcbiAgLy8gMS4gYnJlYWtvdXRJZCAoIGhhbmRsZUpvaW5VcmwsIHJvb21TdGFydGVkLCBjbGVhckJyZWFrb3V0cyApXG4gIC8vIDIuIHBhcmVudE1lZXRpbmdJZCAoIHVwZGF0ZVRpbWVSZW1haW5pbmcgKVxuXG4gIEJyZWFrb3V0cy5fZW5zdXJlSW5kZXgoeyBicmVha291dElkOiAxIH0pO1xuICBCcmVha291dHMuX2Vuc3VyZUluZGV4KHsgcGFyZW50TWVldGluZ0lkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBCcmVha291dHM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgZmV0Y2hSZWFkT25seVBhZElkIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9mZXRjaFJlYWRPbmx5UGFkSWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQYWRDcmVhdGUoeyBib2R5IH0pIHtcbiAgY29uc3QgeyBwYWQgfSA9IGJvZHk7XG4gIGNvbnN0IHsgaWQgfSA9IHBhZDtcblxuICBjaGVjayhpZCwgU3RyaW5nKTtcblxuICBmZXRjaFJlYWRPbmx5UGFkSWQoaWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZ2V0RGF0YUZyb21DaGFuZ2VzZXQgfSBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHVwZGF0ZVBhZCBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy91cGRhdGVQYWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQYWRVcGRhdGUoeyBib2R5IH0pIHtcbiAgY29uc3QgeyBwYWQsIHJldnMsIGNoYW5nZXNldCB9ID0gYm9keTtcbiAgY29uc3QgeyBpZCB9ID0gcGFkO1xuXG4gIGNoZWNrKGlkLCBTdHJpbmcpO1xuICBjaGVjayhjaGFuZ2VzZXQsIFN0cmluZyk7XG4gIGNoZWNrKHJldnMsIE51bWJlcik7XG5cbiAgY29uc3QgZGF0YSA9IGdldERhdGFGcm9tQ2hhbmdlc2V0KGNoYW5nZXNldCk7XG5cbiAgaWYgKGRhdGEgIT09ICcnKSB7XG4gICAgdXBkYXRlUGFkKGlkLCBkYXRhLCByZXZzKTtcbiAgfVxufVxuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7XG4gIGdlbmVyYXRlUGFkSWQsXG59IGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQge1xuICBhcHBlbmRUZXh0VVJMLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXBwZW5kVGV4dCh0ZXh0LCBsb2NhbGUpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodGV4dCwgU3RyaW5nKTtcbiAgY2hlY2sobG9jYWxlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBhZElkID0gZ2VuZXJhdGVQYWRJZChtZWV0aW5nSWQsIGxvY2FsZSk7XG5cbiAgYXhpb3Moe1xuICAgIG1ldGhvZDogJ2dldCcsXG4gICAgdXJsOiBhcHBlbmRUZXh0VVJMKHBhZElkLCB0ZXh0KSxcbiAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2U7XG4gICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBMb2dnZXIudmVyYm9zZShgQXBwZW5kZWQgdGV4dCBmb3IgcGFkSWQ6JHtwYWRJZH1gKTtcbiAgICB9XG4gIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGFwcGVuZCBjYXB0aW9ucyBmb3IgcGFkSWQ9JHtwYWRJZH06ICR7ZXJyb3J9YCkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVQYWRJZCxcbiAgaXNFbmFibGVkLFxuICBnZXRMb2NhbGVzVVJMLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGFkZENhcHRpb24gZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvYWRkQ2FwdGlvbic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVDYXB0aW9ucyhtZWV0aW5nSWQpIHtcbiAgLy8gQXZvaWQgY2FwdGlvbnMgY3JlYXRpb24gaWYgdGhpcyBmZWF0dXJlIGlzIGRpc2FibGVkXG4gIGlmICghaXNFbmFibGVkKCkpIHtcbiAgICBMb2dnZXIud2FybihgQ2FwdGlvbnMgYXJlIGRpc2FibGVkIGZvciAke21lZXRpbmdJZH1gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgYXhpb3Moe1xuICAgIG1ldGhvZDogJ2dldCcsXG4gICAgdXJsOiBnZXRMb2NhbGVzVVJMKCksXG4gICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0dXMgfSA9IHJlc3BvbnNlO1xuICAgIGlmIChzdGF0dXMgIT09IDIwMCkge1xuICAgICAgTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgZ2V0IGxvY2FsZXMgaW5mbyBmb3IgJHttZWV0aW5nSWR9ICR7c3RhdHVzfWApO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbGVzID0gcmVzcG9uc2UuZGF0YTtcbiAgICBsb2NhbGVzLmZvckVhY2goKGxvY2FsZSkgPT4ge1xuICAgICAgY29uc3QgcGFkSWQgPSBnZW5lcmF0ZVBhZElkKG1lZXRpbmdJZCwgbG9jYWxlLmxvY2FsZSk7XG4gICAgICBhZGRDYXB0aW9uKG1lZXRpbmdJZCwgcGFkSWQsIGxvY2FsZSk7XG4gICAgfSk7XG4gIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGNyZWF0ZSBjYXB0aW9ucyBmb3IgJHttZWV0aW5nSWR9OiAke2Vycm9yfWApKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5jb25zdCBnZXRJbmRleCA9IChkYXRhLCBsZW5ndGgpID0+IGxlbmd0aCAtIGRhdGEubGVuZ3RoO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlZGl0Q2FwdGlvbnMocGFkSWQsIGRhdGEpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdFZGl0Q2FwdGlvbkhpc3RvcnlQdWJNc2cnO1xuXG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhkYXRhLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBhZCA9IENhcHRpb25zLmZpbmRPbmUoeyBwYWRJZCB9KTtcblxuICBpZiAoIXBhZCkgcmV0dXJuIExvZ2dlci5lcnJvcihgRWRpdGluZyBjYXB0aW9ucyBoaXN0b3J5OiAke3BhZElkfWApO1xuXG4gIGNvbnN0IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgb3duZXJJZCxcbiAgICBsb2NhbGUsXG4gICAgbGVuZ3RoLFxuICB9ID0gcGFkO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sob3duZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2sobG9jYWxlLCB7IGxvY2FsZTogU3RyaW5nLCBuYW1lOiBTdHJpbmcgfSk7XG4gIGNoZWNrKGxlbmd0aCwgTnVtYmVyKTtcblxuICBjb25zdCBpbmRleCA9IGdldEluZGV4KGRhdGEsIGxlbmd0aCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBzdGFydEluZGV4OiBpbmRleCxcbiAgICBsb2NhbGVDb2RlOiBsb2NhbGUubG9jYWxlLFxuICAgIGxvY2FsZTogbG9jYWxlLm5hbWUsXG4gICAgZW5kSW5kZXg6IGluZGV4LFxuICAgIHRleHQ6IGRhdGEsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIG93bmVySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZ2V0UmVhZE9ubHlJZFVSTCxcbiAgZ2V0RGF0YUZyb21SZXNwb25zZSxcbn0gZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHVwZGF0ZVJlYWRPbmx5UGFkSWQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlUmVhZE9ubHlQYWRJZCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmZXRjaFJlYWRPbmx5UGFkSWQocGFkSWQpIHtcbiAgY2hlY2socGFkSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcmVhZE9ubHlVUkwgPSBnZXRSZWFkT25seUlkVVJMKHBhZElkKTtcbiAgYXhpb3Moe1xuICAgIG1ldGhvZDogJ2dldCcsXG4gICAgdXJsOiByZWFkT25seVVSTCxcbiAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICBjb25zdCByZWFkT25seVBhZElkID0gZ2V0RGF0YUZyb21SZXNwb25zZShyZXNwb25zZS5kYXRhLCAncmVhZE9ubHlJRCcpO1xuICAgIGlmIChyZWFkT25seVBhZElkKSB7XG4gICAgICB1cGRhdGVSZWFkT25seVBhZElkKHBhZElkLCByZWFkT25seVBhZElkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgZ2V0IHBhZCByZWFkT25seUlEIGZvciAke3BhZElkfWApO1xuICAgIH1cbiAgfSkuY2F0Y2goZXJyb3IgPT4gTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgZ2V0IHBhZCByZWFkT25seUlEIGZvciAke3BhZElkfTogJHtlcnJvcn1gKSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCB1cGRhdGVPd25lcklkIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZU93bmVySWQnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRha2VPd25lcnNoaXAobG9jYWxlKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobG9jYWxlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBhZCA9IENhcHRpb25zLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHBhZElkOiB7ICRyZWdleDogYF9jYXB0aW9uc18ke2xvY2FsZX0kYCB9IH0pO1xuXG4gIGlmIChwYWQpIHtcbiAgICB1cGRhdGVPd25lcklkKG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYWQucGFkSWQpO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IENhcHRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWRpdENhcHRpb25zKG1lZXRpbmdJZCwgdXNlcklkLCBwYWRJZCkgeyAvLyBUT0RPXG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXBkYXRlQ2FwdGlvbk93bmVyUHViTXNnJztcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2socGFkSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGFkID0gQ2FwdGlvbnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgcGFkSWQgfSk7XG5cbiAgaWYgKCFwYWQpIHJldHVybiBMb2dnZXIuZXJyb3IoYEVkaXRpbmcgY2FwdGlvbnMgb3duZXI6ICR7cGFkSWR9YCk7XG5cbiAgY29uc3QgeyBsb2NhbGUgfSA9IHBhZDtcblxuICBjaGVjayhsb2NhbGUsIHsgbG9jYWxlOiBTdHJpbmcsIG5hbWU6IFN0cmluZyB9KTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIG93bmVySWQ6IHVzZXJJZCxcbiAgICBsb2NhbGU6IGxvY2FsZS5uYW1lLFxuICAgIGxvY2FsZUNvZGU6IGxvY2FsZS5sb2NhbGUsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkQ2FwdGlvbihtZWV0aW5nSWQsIHBhZElkLCBsb2NhbGUpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobG9jYWxlLCB7XG4gICAgbG9jYWxlOiBTdHJpbmcsXG4gICAgbmFtZTogU3RyaW5nLFxuICB9KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcGFkSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBhZElkLFxuICAgIGxvY2FsZSxcbiAgICBvd25lcklkOiAnJyxcbiAgICByZWFkT25seVBhZElkOiAnJyxcbiAgICBkYXRhOiAnJyxcbiAgICByZXZzOiAwLFxuICAgIGxlbmd0aDogMCxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgY2FwdGlvbiB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IG51bUNoYW5nZWQ7XG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIudmVyYm9zZShgQWRkZWQgY2FwdGlvbiBsb2NhbGU9JHtsb2NhbGUubG9jYWxlfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIudmVyYm9zZShgVXBzZXJ0ZWQgY2FwdGlvbiBsb2NhbGU9JHtsb2NhbGUubG9jYWxlfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBDYXB0aW9ucy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJDYXB0aW9ucyhtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHJldHVybiBDYXB0aW9ucy5yZW1vdmUoeyBtZWV0aW5nSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgQ2FwdGlvbnMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBDYXB0aW9ucy5yZW1vdmUoe30sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBDYXB0aW9ucyAoYWxsKScpO1xuICB9KTtcbn1cbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHVwZGF0ZU93bmVyIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy91cGRhdGVPd25lcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZU93bmVySWQobWVldGluZ0lkLCB1c2VySWQsIHBhZElkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcGFkSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgb3duZXJJZDogdXNlcklkLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgY2FwdGlvbnMgcGFkOiAke2Vycn1gKTtcbiAgICB9XG4gICAgdXBkYXRlT3duZXIobWVldGluZ0lkLCB1c2VySWQsIHBhZElkKTtcbiAgICByZXR1cm4gTG9nZ2VyLnZlcmJvc2UoYFVwZGF0ZSBjYXB0aW9ucyBwYWQ9JHtwYWRJZH0gb3duZXJJZD0ke3VzZXJJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gQ2FwdGlvbnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgeyBtdWx0aTogdHJ1ZSB9LCBjYik7XG59XG4iLCJpbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBlZGl0Q2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2VkaXRDYXB0aW9ucyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZVBhZChwYWRJZCwgZGF0YSwgcmV2cykge1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcbiAgY2hlY2soZGF0YSwgU3RyaW5nKTtcbiAgY2hlY2socmV2cywgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBwYWRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBkYXRhLFxuICAgICAgcmV2cyxcbiAgICB9LFxuICAgICRpbmM6IHtcbiAgICAgIGxlbmd0aDogZGF0YS5sZW5ndGgsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBjYXB0aW9ucyBwYWQ6ICR7ZXJyfWApO1xuICAgIH1cbiAgICBlZGl0Q2FwdGlvbnMocGFkSWQsIGRhdGEsIHJldnMpO1xuICAgIHJldHVybiBMb2dnZXIudmVyYm9zZShgVXBkYXRlIGNhcHRpb25zIHBhZD0ke3BhZElkfSByZXZzPSR7cmV2c31gKTtcbiAgfTtcblxuICByZXR1cm4gQ2FwdGlvbnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgeyBtdWx0aTogdHJ1ZSB9LCBjYik7XG59XG4iLCJpbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlUmVhZE9ubHlQYWRJZChwYWRJZCwgcmVhZE9ubHlQYWRJZCkge1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcbiAgY2hlY2socmVhZE9ubHlQYWRJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBwYWRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICByZWFkT25seVBhZElkLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIHJlYWRPbmx5UGFkSWQgY2FwdGlvbnMgcGFkOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLnZlcmJvc2UoYEFkZGVkIHJlYWRPbmx5UGFkSWQgY2FwdGlvbnMgcGFkPSR7cGFkSWR9IHJlYWRPbmx5UGFkSWQ9JHtyZWFkT25seVBhZElkfWApO1xuICB9O1xuXG4gIHJldHVybiBDYXB0aW9ucy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCB7IG11bHRpOiB0cnVlIH0sIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBwcm9jZXNzRm9yQ2FwdGlvbnNQYWRPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBoYW5kbGVQYWRDcmVhdGUgZnJvbSAnLi9oYW5kbGVycy9wYWRDcmVhdGUnO1xuaW1wb3J0IGhhbmRsZVBhZFVwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL3BhZFVwZGF0ZSc7XG5cblJlZGlzUHViU3ViLm9uKCdQYWRDcmVhdGVTeXNNc2cnLCBwcm9jZXNzRm9yQ2FwdGlvbnNQYWRPbmx5KGhhbmRsZVBhZENyZWF0ZSkpO1xuUmVkaXNQdWJTdWIub24oJ1BhZFVwZGF0ZVN5c01zZycsIHByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkoaGFuZGxlUGFkVXBkYXRlKSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGhhc2hGTlYzMmEgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuY29uc3QgQ0FQVElPTlNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jYXB0aW9ucztcbmNvbnN0IEJBU0VOQU1FID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5hcHAuYmFzZW5hbWU7XG5jb25zdCBBUFAgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5hcHA7XG5jb25zdCBMT0NBTEVTX1VSTCA9IGBodHRwOi8vJHtBUFAuaG9zdH06JHtBUFAucG9ydH0ke0JBU0VOQU1FfSR7QVBQLmxvY2FsZXNVcmx9YDtcbmNvbnN0IENBUFRJT05TID0gJ19jYXB0aW9uc18nO1xuY29uc3QgVE9LRU4gPSAnJCc7XG5cbi8vIENhcHRpb25zIHBhZElkIHNob3VsZCBsb29rIGxpa2U6IHtwYWRJZH1fY2FwdGlvbnNfe2xvY2FsZX1cbmNvbnN0IGdlbmVyYXRlUGFkSWQgPSAobWVldGluZ0lkLCBsb2NhbGUpID0+IHtcbiAgY29uc3QgcGFkSWQgPSBgJHtoYXNoRk5WMzJhKG1lZXRpbmdJZCwgdHJ1ZSl9JHtDQVBUSU9OU30ke2xvY2FsZX1gO1xuICByZXR1cm4gcGFkSWQ7XG59O1xuXG5jb25zdCBpc0NhcHRpb25zUGFkID0gKHBhZElkKSA9PiB7XG4gIGNvbnN0IHNwbGl0UGFkSWQgPSBwYWRJZC5zcGxpdChDQVBUSU9OUyk7XG4gIHJldHVybiBzcGxpdFBhZElkLmxlbmd0aCA9PT0gMjtcbn07XG5cbmNvbnN0IGdldERhdGFGcm9tQ2hhbmdlc2V0ID0gKGNoYW5nZXNldCkgPT4ge1xuICBjb25zdCBzcGxpdENoYW5nZXNldCA9IGNoYW5nZXNldC5zcGxpdChUT0tFTik7XG4gIGlmIChzcGxpdENoYW5nZXNldC5sZW5ndGggPiAxKSB7XG4gICAgc3BsaXRDaGFuZ2VzZXQuc2hpZnQoKTtcbiAgICByZXR1cm4gc3BsaXRDaGFuZ2VzZXQuam9pbihUT0tFTik7XG4gIH1cbiAgcmV0dXJuICcnO1xufTtcblxuY29uc3QgaXNFbmFibGVkID0gKCkgPT4gQ0FQVElPTlNfQ09ORklHLmVuYWJsZWQ7XG5cbmNvbnN0IGdldExvY2FsZXNVUkwgPSAoKSA9PiBMT0NBTEVTX1VSTDtcblxuY29uc3QgcHJvY2Vzc0ZvckNhcHRpb25zUGFkT25seSA9IGZuID0+IChtZXNzYWdlLCAuLi5hcmdzKSA9PiB7XG4gIGNvbnN0IHsgYm9keSB9ID0gbWVzc2FnZTtcbiAgY29uc3QgeyBwYWQgfSA9IGJvZHk7XG4gIGNvbnN0IHsgaWQgfSA9IHBhZDtcblxuICBjaGVjayhpZCwgU3RyaW5nKTtcblxuICBpZiAoaXNDYXB0aW9uc1BhZChpZCkpIHJldHVybiBmbihtZXNzYWdlLCAuLi5hcmdzKTtcbiAgcmV0dXJuICgpID0+IHt9O1xufTtcblxuZXhwb3J0IHtcbiAgZ2VuZXJhdGVQYWRJZCxcbiAgcHJvY2Vzc0ZvckNhcHRpb25zUGFkT25seSxcbiAgaXNFbmFibGVkLFxuICBnZXRMb2NhbGVzVVJMLFxuICBnZXREYXRhRnJvbUNoYW5nZXNldCxcbn07XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB0YWtlT3duZXJzaGlwIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy90YWtlT3duZXJzaGlwJztcbmltcG9ydCBhcHBlbmRUZXh0IGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9hcHBlbmRUZXh0JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB0YWtlT3duZXJzaGlwLFxuICBhcHBlbmRUZXh0LFxufSk7XG4iLCJpbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGNhcHRpb25zKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIENhcHRpb25zLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgQ2FwdGlvbnMgZm9yICR7bWVldGluZ0lkfWApO1xuXG4gIHJldHVybiBDYXB0aW9ucy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRDYXB0aW9ucyA9IGNhcHRpb25zLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZENhcHRpb25zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnY2FwdGlvbnMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBDYXB0aW9ucyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdjYXB0aW9ucycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIENhcHRpb25zLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgcGFkSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcHRpb25zO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IEN1cnNvclN0cmVhbWVyIGZyb20gJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmNvbnN0IHsgc3RyZWFtZXJMb2cgfSA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnNlcnZlckxvZztcblxuY29uc3QgQ1VSU09SX1BST0NDRVNTX0lOVEVSVkFMID0gMzA7XG5cbmNvbnN0IGN1cnNvclF1ZXVlID0ge307XG5cbmNvbnN0IHByb2NjZXNzID0gXy50aHJvdHRsZSgoKSA9PiB7XG4gIHRyeSB7XG4gICAgT2JqZWN0LmtleXMoY3Vyc29yUXVldWUpLmZvckVhY2goKG1lZXRpbmdJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3Vyc29ycyA9IGN1cnNvclF1ZXVlW21lZXRpbmdJZF07XG4gICAgICAgIGRlbGV0ZSBjdXJzb3JRdWV1ZVttZWV0aW5nSWRdO1xuICAgICAgICBDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ21lc3NhZ2UnLCB7IG1lZXRpbmdJZCwgY3Vyc29ycyB9KTtcblxuICAgICAgICBpZiAoc3RyZWFtZXJMb2cpIHtcbiAgICAgICAgICBMb2dnZXIuZGVidWcoYEN1cnNvclVwZGF0ZSBwcm9jZXNzIGZvciBtZWV0aW5nICR7bWVldGluZ0lkfSBoYXMgZmluaXNoZWRgKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciB3aGlsZSB0cnlpbmcgdG8gc2VuZCBjdXJzb3Igc3RyZWFtZXIgZGF0YSBmb3IgbWVldGluZyAke21lZXRpbmdJZH0uICR7ZXJyb3J9YCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGN1cnNvciBxdWV1ZS4gJHtlcnJvcn1gKTtcbiAgfVxufSwgQ1VSU09SX1BST0NDRVNTX0lOVEVSVkFMKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQ3Vyc29yVXBkYXRlKHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJJZCB9ID0gaGVhZGVyO1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuXG4gIGlmICghY3Vyc29yUXVldWVbbWVldGluZ0lkXSkge1xuICAgIGN1cnNvclF1ZXVlW21lZXRpbmdJZF0gPSB7fTtcbiAgfVxuXG4gIC8vIG92ZXJ3cml0ZSBzaW5jZSB3ZSBkb250IGNhcmUgYWJvdXQgdGhlIG90aGVyIHBvc2l0aW9uc1xuICBjdXJzb3JRdWV1ZVttZWV0aW5nSWRdW3VzZXJJZF0gPSBib2R5O1xuXG4gIHByb2NjZXNzKCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHB1Ymxpc2hDdXJzb3JVcGRhdGUobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZW5kQ3Vyc29yUG9zaXRpb25QdWJNc2cnO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVDdXJzb3JVcGRhdGUgZnJvbSAnLi9oYW5kbGVycy9jdXJzb3JVcGRhdGUnO1xuXG5SZWRpc1B1YlN1Yi5vbignU2VuZEN1cnNvclBvc2l0aW9uRXZ0TXNnJywgaGFuZGxlQ3Vyc29yVXBkYXRlKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHB1Ymxpc2hDdXJzb3JVcGRhdGUgZnJvbSAnLi9tZXRob2RzL3B1Ymxpc2hDdXJzb3JVcGRhdGUnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHB1Ymxpc2hDdXJzb3JVcGRhdGUsXG59KTtcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBwdWJsaXNoQ3Vyc29yVXBkYXRlIGZyb20gJy4vbWV0aG9kcy9wdWJsaXNoQ3Vyc29yVXBkYXRlJztcblxuY29uc3QgeyBzdHJlYW1lckxvZyB9ID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUuc2VydmVyTG9nO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ3Vyc29yU3RyZWFtZXIobWVldGluZ0lkKSB7XG4gIExvZ2dlci5pbmZvKGBSZW1vdmluZyBDdXJzb3Igc3RyZWFtZXIgb2JqZWN0IGZvciBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuICBkZWxldGUgTWV0ZW9yLlN0cmVhbWVyQ2VudHJhbC5pbnN0YW5jZXNbYGN1cnNvci0ke21lZXRpbmdJZH1gXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEN1cnNvclN0cmVhbWVyKG1lZXRpbmdJZCkge1xuICBjb25zdCBzdHJlYW1lciA9IG5ldyBNZXRlb3IuU3RyZWFtZXIoYGN1cnNvci0ke21lZXRpbmdJZH1gLCB7IHJldHJhbnNtaXQ6IGZhbHNlIH0pO1xuICBpZiAoc3RyZWFtZXJMb2cpIHtcbiAgICBMb2dnZXIuZGVidWcoYEN1cnNvciBzdHJlYW1lciBjcmVhdGVkIGZvciBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuICB9XG5cbiAgc3RyZWFtZXIuYWxsb3dSZWFkKGZ1bmN0aW9uIGFsbG93UmVhZCgpIHtcbiAgICBpZiAoc3RyZWFtZXJMb2cpIHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgQ3Vyc29yIHN0cmVhbWVyIGNhbGxlZCBhbGxvd1JlYWQgZm9yIHVzZXIgJHt0aGlzLnVzZXJJZH0gaW4gbWVldGluZyAke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudXNlcklkICYmIHRoaXMudXNlcklkLmluY2x1ZGVzKG1lZXRpbmdJZCk7XG4gIH0pO1xuXG4gIHN0cmVhbWVyLmFsbG93V3JpdGUoZnVuY3Rpb24gYWxsb3dXcml0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VySWQgJiYgdGhpcy51c2VySWQuaW5jbHVkZXMobWVldGluZ0lkKTtcbiAgfSk7XG5cbiAgc3RyZWFtZXIub24oJ3B1Ymxpc2gnLCAobWVzc2FnZSkgPT4ge1xuICAgIHB1Ymxpc2hDdXJzb3JVcGRhdGUobWVldGluZ0lkLCBtZXNzYWdlLnVzZXJJZCwgbWVzc2FnZS5wYXlsb2FkKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldChtZWV0aW5nSWQpIHtcbiAgcmV0dXJuIE1ldGVvci5TdHJlYW1lckNlbnRyYWwuaW5zdGFuY2VzW2BjdXJzb3ItJHttZWV0aW5nSWR9YF07XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVzdHJveUV4dGVybmFsVmlkZW8obWVldGluZ0lkKSB7XG4gIGNvbnN0IHN0cmVhbU5hbWUgPSBgZXh0ZXJuYWwtdmlkZW9zLSR7bWVldGluZ0lkfWA7XG5cbiAgaWYgKE1ldGVvci5TdHJlYW1lckNlbnRyYWwuaW5zdGFuY2VzW3N0cmVhbU5hbWVdKSB7XG4gICAgTG9nZ2VyLmluZm8oYERlc3Ryb3lpbmcgRXh0ZXJuYWwgVmlkZW8gc3RyZWFtZXIgb2JqZWN0IGZvciAke3N0cmVhbU5hbWV9YCk7XG4gICAgZGVsZXRlIE1ldGVvci5TdHJlYW1lckNlbnRyYWwuaW5zdGFuY2VzW3N0cmVhbU5hbWVdO1xuICB9XG59XG4iLCJpbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbWl0RXh0ZXJuYWxWaWRlb0V2ZW50KG1lc3NhZ2VOYW1lLCAuLi5yZXN0KSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZSh7IHVzZXJJZCwgbWVldGluZ0lkIH0pO1xuXG4gIGlmICh1c2VyICYmIHVzZXIucHJlc2VudGVyKSB7XG4gICAgY29uc3Qgc3RyZWFtZXJOYW1lID0gYGV4dGVybmFsLXZpZGVvcy0ke21lZXRpbmdJZH1gO1xuICAgIGNvbnN0IHN0cmVhbWVyID0gTWV0ZW9yLlN0cmVhbWVyQ2VudHJhbC5pbnN0YW5jZXNbc3RyZWFtZXJOYW1lXTtcblxuICAgIGlmIChzdHJlYW1lcikge1xuICAgICAgc3RyZWFtZXIuZW1pdChtZXNzYWdlTmFtZSwgLi4ucmVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXh0ZXJuYWwgVmlkZW8gU3RyZWFtZXIgbm90IGZvdW5kIGZvciBtZWV0aW5nSWQ6ICR7bWVldGluZ0lkfSB1c2VySWQ6ICR7dXNlcklkfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmNvbnN0IGFsbG93UmVjZW50TWVzc2FnZXMgPSAoZXZlbnROYW1lLCBtZXNzYWdlKSA9PiB7XG5cbiAgY29uc3Qge1xuICAgIHVzZXJJZCxcbiAgICBtZWV0aW5nSWQsXG4gICAgdGltZSxcbiAgICByYXRlLFxuICAgIHN0YXRlLFxuICB9ID0gbWVzc2FnZTtcblxuICBMb2dnZXIuZGVidWcoYEV4dGVybmFsVmlkZW8gU3RyZWFtZXIgYXV0aCBhbGxvd2VkIHVzZXJJZDogJHt1c2VySWR9LCBtZWV0aW5nSWQ6ICR7bWVldGluZ0lkfSwgZXZlbnQ6ICR7ZXZlbnROYW1lfSwgdGltZTogJHt0aW1lfSByYXRlOiAke3JhdGV9LCBzdGF0ZTogJHtzdGF0ZX1gKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplRXh0ZXJuYWxWaWRlbygpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc3RyZWFtTmFtZSA9IGBleHRlcm5hbC12aWRlb3MtJHttZWV0aW5nSWR9YDtcbiAgaWYgKCFNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tzdHJlYW1OYW1lXSkge1xuICAgIGNvbnN0IHN0cmVhbWVyID0gbmV3IE1ldGVvci5TdHJlYW1lcihzdHJlYW1OYW1lKTtcbiAgICBzdHJlYW1lci5hbGxvd1JlYWQoJ2FsbCcpO1xuICAgIHN0cmVhbWVyLmFsbG93V3JpdGUoJ25vbmUnKTtcbiAgICBzdHJlYW1lci5hbGxvd0VtaXQoYWxsb3dSZWNlbnRNZXNzYWdlcyk7XG4gICAgTG9nZ2VyLmluZm8oYENyZWF0ZWQgRXh0ZXJuYWwgVmlkZW8gc3RyZWFtZXIgZm9yICR7c3RyZWFtTmFtZX1gKTtcbiAgfSBlbHNlIHtcbiAgICBMb2dnZXIuZGVidWcoYEV4dGVybmFsIFZpZGVvIHN0cmVhbWVyIGlzIGFscmVhZHkgY3JlYXRlZCBmb3IgJHtzdHJlYW1OYW1lfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyhvcHRpb25zKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU3RhcnRFeHRlcm5hbFZpZGVvTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCB7IGV4dGVybmFsVmlkZW9VcmwgfSA9IG9wdGlvbnM7XG5cbiAgY2hlY2soZXh0ZXJuYWxWaWRlb1VybCwgU3RyaW5nKTtcblxuICBNZWV0aW5ncy51cGRhdGUoeyBtZWV0aW5nSWQgfSwgeyAkc2V0OiB7IGV4dGVybmFsVmlkZW9VcmwgfSB9KTtcblxuICBjb25zdCBwYXlsb2FkID0geyBleHRlcm5hbFZpZGVvVXJsIH07XG5cbiAgTG9nZ2VyLmluZm8oYFVzZXIgaWQ9JHtyZXF1ZXN0ZXJVc2VySWR9IHNoYXJpbmcgYW4gZXh0ZXJuYWwgdmlkZW86ICR7ZXh0ZXJuYWxWaWRlb1VybH0gZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvKG9wdGlvbnMpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTdG9wRXh0ZXJuYWxWaWRlb01zZyc7XG5cbiAgaWYgKHRoaXMudXNlcklkKSB7XG4gICAgb3B0aW9ucyA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIH1cblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBvcHRpb25zO1xuXG4gIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuICBpZiAoIW1lZXRpbmcgfHwgbWVldGluZy5leHRlcm5hbFZpZGVvVXJsID09PSBudWxsKSByZXR1cm47XG5cbiAgTWVldGluZ3MudXBkYXRlKHsgbWVldGluZ0lkIH0sIHsgJHNldDogeyBleHRlcm5hbFZpZGVvVXJsOiBudWxsIH0gfSk7XG4gIGNvbnN0IHBheWxvYWQgPSB7fTtcblxuICBMb2dnZXIuaW5mbyhgVXNlciBpZD0ke3JlcXVlc3RlclVzZXJJZH0gc3RvcHBlZCBzaGFyaW5nIGFuIGV4dGVybmFsIHZpZGVvIGZvciBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgJy4vbWV0aG9kcyc7XG5cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHN0YXJ0V2F0Y2hpbmdFeHRlcm5hbFZpZGVvIGZyb20gJy4vbWV0aG9kcy9zdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyc7XG5pbXBvcnQgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyBmcm9tICcuL21ldGhvZHMvc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyc7XG5pbXBvcnQgaW5pdGlhbGl6ZUV4dGVybmFsVmlkZW8gZnJvbSAnLi9tZXRob2RzL2luaXRpYWxpemVFeHRlcm5hbFZpZGVvJztcbmltcG9ydCBlbWl0RXh0ZXJuYWxWaWRlb0V2ZW50IGZyb20gJy4vbWV0aG9kcy9lbWl0RXh0ZXJuYWxWaWRlb0V2ZW50JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBpbml0aWFsaXplRXh0ZXJuYWxWaWRlbyxcbiAgc3RhcnRXYXRjaGluZ0V4dGVybmFsVmlkZW8sXG4gIHN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8sXG4gIGVtaXRFeHRlcm5hbFZpZGVvRXZlbnQsXG59KTtcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXQgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdENyZWF0ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgcmV0dXJuIGFkZEdyb3VwQ2hhdChtZWV0aW5nSWQsIGJvZHkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZEdyb3VwQ2hhdCBmcm9tICcuLi9tb2RpZmllcnMvYWRkR3JvdXBDaGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3JvdXBDaGF0RGVzdHJveWVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIHJldHVybiBhZGRHcm91cENoYXQobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXQgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdHMoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGNoYXRzIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdHMsIEFycmF5KTtcblxuICBjb25zdCBjaGF0c0FkZGVkID0gW107XG5cbiAgY2hhdHMuZm9yRWFjaCgoY2hhdCkgPT4ge1xuICAgIGNoYXRzQWRkZWQucHVzaChhZGRHcm91cENoYXQobWVldGluZ0lkLCBjaGF0KSk7XG4gIH0pO1xuXG4gIHJldHVybiBjaGF0c0FkZGVkO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgQ0hBVF9BQ0NFU1NfUFJJVkFURSB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0JztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVHcm91cENoYXQocmVjZWl2ZXIpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDcmVhdGVHcm91cENoYXRSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2socmVjZWl2ZXIsIE9iamVjdCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjb3JyZWxhdGlvbklkOiBgJHtyZXF1ZXN0ZXJVc2VySWR9LSR7RGF0ZS5ub3coKX1gLFxuICAgIG1zZzogW10sXG4gICAgdXNlcnM6IFtyZWNlaXZlci51c2VySWRdLFxuICAgIGFjY2VzczogQ0hBVF9BQ0NFU1NfUFJJVkFURSxcbiAgICBuYW1lOiByZWNlaXZlci5uYW1lLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwQ2hhdCgpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBldmVudE5hbWUgPSAnRGVzdHJveUdyb3VwQ2hhdFJlcU1zZyc7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgdGhpcyB0b2dldGhlciB3aXRoICM0OTg4XG4gICAgLy8gY2hhdHM6IEFycmF5W1N0cmluZ10sXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBldmVudE5hbWUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRHcm91cENoYXQobWVldGluZ0lkLCBjaGF0KSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdCwge1xuICAgIGlkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIGNoYXRJZDogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgICBjb3JyZWxhdGlvbklkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIG5hbWU6IFN0cmluZyxcbiAgICBhY2Nlc3M6IFN0cmluZyxcbiAgICBjcmVhdGVkQnk6IE9iamVjdCxcbiAgICB1c2VyczogQXJyYXksXG4gICAgbXNnOiBNYXRjaC5NYXliZShBcnJheSksXG4gIH0pO1xuXG4gIGNvbnN0IGNoYXREb2N1bWVudCA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgY2hhdElkOiBjaGF0LmNoYXRJZCB8fCBjaGF0LmlkLFxuICAgIG5hbWU6IGNoYXQubmFtZSxcbiAgICBhY2Nlc3M6IGNoYXQuYWNjZXNzLFxuICAgIHVzZXJzOiBjaGF0LnVzZXJzLm1hcCh1ID0+IHUuaWQpLFxuICAgIGNyZWF0ZWRCeTogY2hhdC5jcmVhdGVkQnkuaWQsXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgY2hhdElkOiBjaGF0RG9jdW1lbnQuY2hhdElkLFxuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBmbGF0KGNoYXREb2N1bWVudCwgeyBzYWZlOiB0cnVlIH0pLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyBncm91cC1jaGF0IHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gbnVtQ2hhbmdlZDtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIGdyb3VwLWNoYXQgbmFtZT0ke2NoYXQubmFtZX0gbWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgZ3JvdXAtY2hhdCBuYW1lPSR7Y2hhdC5uYW1lfSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIEdyb3VwQ2hhdC51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgR3JvdXBDaGF0IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjbGVhckdyb3VwQ2hhdE1zZyBmcm9tICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21vZGlmaWVycy9jbGVhckdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyR3JvdXBDaGF0KG1lZXRpbmdJZCkge1xuICBjbGVhckdyb3VwQ2hhdE1zZyhtZWV0aW5nSWQpO1xuICByZXR1cm4gR3JvdXBDaGF0LnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgR3JvdXBDaGF0ICgke21lZXRpbmdJZH0pYCk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVHcm91cENoYXRzIGZyb20gJy4vaGFuZGxlcnMvZ3JvdXBDaGF0cyc7XG5pbXBvcnQgaGFuZGxlR3JvdXBDaGF0Q3JlYXRlZCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdENyZWF0ZWQnO1xuaW1wb3J0IGhhbmRsZUdyb3VwQ2hhdERlc3Ryb3llZCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdERlc3Ryb3llZCc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cblJlZGlzUHViU3ViLm9uKCdHZXRHcm91cENoYXRzUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlR3JvdXBDaGF0cykpO1xuUmVkaXNQdWJTdWIub24oJ0dyb3VwQ2hhdENyZWF0ZWRFdnRNc2cnLCBoYW5kbGVHcm91cENoYXRDcmVhdGVkKTtcblJlZGlzUHViU3ViLm9uKCdHcm91cENoYXREZXN0cm95ZWRFdnRNc2cnLCBoYW5kbGVHcm91cENoYXREZXN0cm95ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRHcm91cENoYXRzUmVzcE1zZycsIGhhbmRsZUdyb3VwQ2hhdHMpO1xuIiwiaW1wb3J0ICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyJztcbmltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGNyZWF0ZUdyb3VwQ2hhdCBmcm9tICcuL21ldGhvZHMvY3JlYXRlR3JvdXBDaGF0JztcbmltcG9ydCBkZXN0cm95R3JvdXBDaGF0IGZyb20gJy4vbWV0aG9kcy9kZXN0cm95R3JvdXBDaGF0JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBjcmVhdGVHcm91cENoYXQsXG4gIGRlc3Ryb3lHcm91cENoYXQsXG59KTtcbiIsImltcG9ydCBHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBncm91cENoYXQoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gR3JvdXBDaGF0LmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19DSEFUX1RZUEUgPSBDSEFUX0NPTkZJRy50eXBlX3B1YmxpYztcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgZ3JvdXAtY2hhdCBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBHcm91cENoYXQuZmluZCh7XG4gICAgJG9yOiBbXG4gICAgICB7IG1lZXRpbmdJZCwgYWNjZXNzOiBQVUJMSUNfQ0hBVF9UWVBFIH0sXG4gICAgICB7IG1lZXRpbmdJZCwgdXNlcnM6IHsgJGFsbDogW3JlcXVlc3RlclVzZXJJZF0gfSB9LFxuICAgIF0sXG5cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZEdyb3VwQ2hhdCA9IGdyb3VwQ2hhdC5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRHcm91cENoYXQoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdncm91cC1jaGF0JywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgR3JvdXBDaGF0ID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2dyb3VwLWNoYXQnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBHcm91cENoYXQuX2Vuc3VyZUluZGV4KHtcbiAgICBtZWV0aW5nSWQ6IDEsIGNoYXRJZDogMSwgYWNjZXNzOiAxLCB1c2VyczogMSxcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyb3VwQ2hhdDtcblxuY29uc3QgQ0hBVF9BQ0NFU1MgPSB7XG4gIFBVQkxJQzogJ1BVQkxJQ19BQ0NFU1MnLFxuICBQUklWQVRFOiAnUFJJVkFURV9BQ0NFU1MnLFxufTtcblxuZXhwb3J0IGNvbnN0IENIQVRfQUNDRVNTX1BVQkxJQyA9IENIQVRfQUNDRVNTLlBVQkxJQztcbmV4cG9ydCBjb25zdCBDSEFUX0FDQ0VTU19QUklWQVRFID0gQ0hBVF9BQ0NFU1MuUFJJVkFURTtcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjbGVhckdyb3VwQ2hhdE1zZyBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJHcm91cENoYXRNc2cnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclB1YmxpY0NoYXRIaXN0b3J5KHsgaGVhZGVyLCBib2R5IH0pIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGhlYWRlcjtcbiAgY29uc3QgeyBjaGF0SWQgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGNsZWFyR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXRNc2cgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgY2hhdElkLCBtc2cgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG4gIGNoZWNrKG1zZywgT2JqZWN0KTtcblxuICByZXR1cm4gYWRkR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkLCBtc2cpO1xufVxuIiwiaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXRNc2cgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdHNNc2dzKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBjaGF0SWQsIG1zZ3MsIG1zZyB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYXRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobXNncywgTWF0Y2guTWF5YmUoQXJyYXkpKTtcbiAgY2hlY2sobXNnLCBNYXRjaC5NYXliZShBcnJheSkpO1xuXG4gIGNvbnN0IG1zZ3NBZGRlZCA9IFtdO1xuXG4gIChtc2dzIHx8IG1zZykuZm9yRWFjaCgobSkgPT4ge1xuICAgIG1zZ3NBZGRlZC5wdXNoKGFkZEdyb3VwQ2hhdE1zZyhtZWV0aW5nSWQsIGNoYXRJZCwgbSkpO1xuICB9KTtcblxuICByZXR1cm4gbXNnc0FkZGVkO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHN0YXJ0VHlwaW5nIGZyb20gJy4uL21vZGlmaWVycy9zdGFydFR5cGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJUeXBpbmcoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGNoYXRJZCwgdXNlcklkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgc3RhcnRUeXBpbmcobWVldGluZ0lkLCB1c2VySWQsIGNoYXRJZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSgpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDbGVhclB1YmxpY0NoYXRIaXN0b3J5UHViTXNnJztcbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19HUk9VUF9DSEFUX0lEID0gQ0hBVF9DT05GSUcucHVibGljX2dyb3VwX2lkO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjaGF0SWQ6IFBVQkxJQ19HUk9VUF9DSEFUX0lELFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IFJlZ2V4V2ViVXJsIGZyb20gJy9pbXBvcnRzL3V0aWxzL3JlZ2V4LXdlYnVybCc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgSFRNTF9TQUZFX01BUCA9IHtcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5OycsXG59O1xuXG5jb25zdCBwYXJzZU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICBsZXQgcGFyc2VkTWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnRyaW0oKTtcblxuICAvLyBSZXBsYWNlIDxici8+IHdpdGggXFxuXFxyXG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnJlcGxhY2UoLzxiclxccypbXFxcXC9dPz4vZ2ksICdcXG5cXHInKTtcblxuICAvLyBTYW5pdGl6ZS4gU2VlOiBodHRwOi8vc2hlYmFuZy5icmFuZG9ubWludGVybi5jb20vZm9vbHByb29mLWh0bWwtZXNjYXBpbmctaW4tamF2YXNjcmlwdC9cbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2UucmVwbGFjZSgvWzw+J1wiXS9nLCBjID0+IEhUTUxfU0FGRV9NQVBbY10pO1xuXG4gIC8vIFJlcGxhY2UgZmxhc2ggbGlua3MgdG8gZmxhc2ggdmFsaWQgb25lc1xuICBwYXJzZWRNZXNzYWdlID0gcGFyc2VkTWVzc2FnZS5yZXBsYWNlKFJlZ2V4V2ViVXJsLCBcIjxhIGhyZWY9J2V2ZW50OiQmJz48dT4kJjwvdT48L2E+XCIpO1xuXG4gIHJldHVybiBwYXJzZWRNZXNzYWdlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEdyb3VwQ2hhdE1zZyhjaGF0SWQsIG1lc3NhZ2UpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZW5kR3JvdXBDaGF0TWVzc2FnZU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhtZXNzYWdlLCBPYmplY3QpO1xuXG4gIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBwYXJzZU1lc3NhZ2UobWVzc2FnZS5tZXNzYWdlKTtcblxuICBtZXNzYWdlLm1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbXNnOiBtZXNzYWdlLFxuICAgIGNoYXRJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydFVzZXJUeXBpbmcoY2hhdElkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlclR5cGluZ1B1Yk1zZyc7XG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjaGF0SWQ6IGNoYXRJZCB8fCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCBzdG9wVHlwaW5nIGZyb20gJy4uL21vZGlmaWVycy9zdG9wVHlwaW5nJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdG9wVXNlclR5cGluZygpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCB1c2VyVHlwaW5nID0gVXNlcnNUeXBpbmcuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9KTtcblxuICBpZiAodXNlclR5cGluZykge1xuICAgIHN0b3BUeXBpbmcobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHRydWUpO1xuICB9XG59XG4iLCJpbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCB7IE1hdGNoLCBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBHcm91cENoYXRNc2cgfSBmcm9tICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cnO1xuaW1wb3J0IHsgQlJFQUtfTElORSB9IGZyb20gJy9pbXBvcnRzL3V0aWxzL2xpbmVFbmRpbmdzJztcblxuY29uc3QgcGFyc2VNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgbGV0IHBhcnNlZE1lc3NhZ2UgPSBtZXNzYWdlIHx8ICcnO1xuXG4gIC8vIFJlcGxhY2UgXFxyIGFuZCBcXG4gdG8gPGJyLz5cbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2UucmVwbGFjZSgvKFtePlxcclxcbl0/KShcXHJcXG58XFxuXFxyfFxccnxcXG4pL2csIGAkMSR7QlJFQUtfTElORX0kMmApO1xuXG4gIC8vIFJlcGxhY2UgZmxhc2ggbGlua3MgdG8gaHRtbCB2YWxpZCBvbmVzXG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnNwbGl0KCc8YSBocmVmPVxcJ2V2ZW50OicpLmpvaW4oJzxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XFwnJyk7XG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnNwbGl0KCc8YSBocmVmPVwiZXZlbnQ6Jykuam9pbignPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIicpO1xuXG4gIHJldHVybiBwYXJzZWRNZXNzYWdlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkLCBtc2cpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG4gIGNoZWNrKG1zZywge1xuICAgIGlkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIHRpbWVzdGFtcDogTnVtYmVyLFxuICAgIHNlbmRlcjogT2JqZWN0LFxuICAgIGNvbG9yOiBTdHJpbmcsXG4gICAgbWVzc2FnZTogU3RyaW5nLFxuICAgIGNvcnJlbGF0aW9uSWQ6IE1hdGNoLk1heWJlKFN0cmluZyksXG4gIH0pO1xuXG4gIGNvbnN0IG1zZ0RvY3VtZW50ID0ge1xuICAgIC4uLm1zZyxcbiAgICBtZWV0aW5nSWQsXG4gICAgY2hhdElkLFxuICAgIG1lc3NhZ2U6IHBhcnNlTWVzc2FnZShtc2cubWVzc2FnZSksXG4gICAgc2VuZGVyOiBtc2cuc2VuZGVyLmlkLFxuICB9O1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBjaGF0SWQsXG4gICAgaWQ6IG1zZy5pZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBmbGF0KG1zZ0RvY3VtZW50LCB7IHNhZmU6IHRydWUgfSksXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIGdyb3VwLWNoYXQtbXNnIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gbnVtQ2hhbmdlZDtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIGdyb3VwLWNoYXQtbXNnIG1zZ0lkPSR7bXNnLmlkfSBjaGF0SWQ9JHtjaGF0SWR9IG1lZXRpbmdJZD0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwc2VydGVkIGdyb3VwLWNoYXQtbXNnIG1zZ0lkPSR7bXNnLmlkfSBjaGF0SWQ9JHtjaGF0SWR9IG1lZXRpbmdJZD0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gR3JvdXBDaGF0TXNnLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IEdyb3VwQ2hhdE1zZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgYWRkR3JvdXBDaGF0TXNnIGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkKSB7XG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfQ0hBVF9TWVNURU1fSUQgPSBDSEFUX0NPTkZJRy5zeXN0ZW1fdXNlcmlkO1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcbiAgY29uc3QgQ0hBVF9DTEVBUl9NRVNTQUdFID0gQ0hBVF9DT05GSUcuc3lzdGVtX21lc3NhZ2VzX2tleXMuY2hhdF9jbGVhcjtcblxuICBpZiAoY2hhdElkKSB7XG4gICAgR3JvdXBDaGF0TXNnLnJlbW92ZSh7IG1lZXRpbmdJZCwgY2hhdElkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIEdyb3VwQ2hhdE1zZyAoJHttZWV0aW5nSWR9LCAke2NoYXRJZH0pYCk7XG4gICAgICBjb25zdCBjbGVhck1zZyA9IHtcbiAgICAgICAgY29sb3I6ICcwJyxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBjb3JyZWxhdGlvbklkOiBgJHtQVUJMSUNfQ0hBVF9TWVNURU1fSUR9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBzZW5kZXI6IHtcbiAgICAgICAgICBpZDogUFVCTElDX0NIQVRfU1lTVEVNX0lELFxuICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiBDSEFUX0NMRUFSX01FU1NBR0UsXG4gICAgICB9O1xuICAgICAgYWRkR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgUFVCTElDX0dST1VQX0NIQVRfSUQsIGNsZWFyTXNnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gR3JvdXBDaGF0TXNnLnJlbW92ZSh7IG1lZXRpbmdJZCwgY2hhdElkOiB7ICRlcTogUFVCTElDX0dST1VQX0NIQVRfSUQgfSB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBHcm91cENoYXRNc2cgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBHcm91cENoYXRNc2cucmVtb3ZlKHsgY2hhdElkOiB7ICRlcTogUFVCTElDX0dST1VQX0NIQVRfSUQgfSB9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgR3JvdXBDaGF0TXNnIChhbGwpJyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBVc2Vyc1R5cGluZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgc3RvcFR5cGluZyBmcm9tICcuL3N0b3BUeXBpbmcnO1xuXG5jb25zdCBUWVBJTkdfVElNRU9VVCA9IDUwMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0VHlwaW5nKG1lZXRpbmdJZCwgdXNlcklkLCBjaGF0SWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgY29uc3QgbW9kID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgbmFtZTogdXNlci5uYW1lLFxuICAgIGlzVHlwaW5nVG86IGNoYXRJZCxcbiAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgdGltZTogKG5ldyBEYXRlKCkpLFxuICB9O1xuXG4gIGNvbnN0IHR5cGluZ1VzZXIgPSBVc2Vyc1R5cGluZy5maW5kT25lKHNlbGVjdG9yLCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB0aW1lOiAxLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICh0eXBpbmdVc2VyKSB7XG4gICAgaWYgKG1vZC50aW1lIC0gdHlwaW5nVXNlci50aW1lIDw9IFRZUElOR19USU1FT1VUIC0gMTAwKSByZXR1cm47XG4gIH1cblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBUeXBpbmcgaW5kaWNhdG9yIHVwZGF0ZSBlcnJvcjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgTWV0ZW9yLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc3RvcFR5cGluZyhtZWV0aW5nSWQsIHVzZXJJZCk7XG4gICAgfSwgVFlQSU5HX1RJTUVPVVQpO1xuICAgIHJldHVybiBMb2dnZXIuZGVidWcoYFR5cGluZyBpbmRpY2F0b3IgdXBkYXRlIGZvciB1c2VySWQ9eyR7dXNlcklkfX0gY2hhdElkPXske2NoYXRJZH19YCk7XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzVHlwaW5nLnVwc2VydChzZWxlY3RvciwgbW9kLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBVc2Vyc1R5cGluZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0b3BUeXBpbmcobWVldGluZ0lkLCB1c2VySWQsIHNlbmRNc2dJbml0aWF0ZWQgPSBmYWxzZSkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soc2VuZE1zZ0luaXRpYXRlZCwgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCB1c2VyID0gVXNlcnNUeXBpbmcuZmluZE9uZShzZWxlY3Rvcik7XG4gIGNvbnN0IHN0aWxsVHlwaW5nID0gIXNlbmRNc2dJbml0aWF0ZWQgJiYgdXNlciAmJiAobmV3IERhdGUoKSkgLSB1c2VyLnRpbWUgPCAzMDAwO1xuICBpZiAoc3RpbGxUeXBpbmcpIHJldHVybjtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBTdG9wIHVzZXI9JHt1c2VySWR9IHR5cGluZyBpbmRpY2F0b3IgZXJyb3I6ICR7ZXJyfWApO1xuICAgIH1cbiAgICByZXR1cm4gTG9nZ2VyLmRlYnVnKGBTdG9wcGVkIHR5cGluZyBpbmRpY2F0b3IgZm9yIHVzZXI9JHt1c2VySWR9YCk7XG4gIH07XG5cbiAgVXNlcnNUeXBpbmcucmVtb3ZlKHNlbGVjdG9yLCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZUdyb3VwQ2hhdHNNc2dzIGZyb20gJy4vaGFuZGxlcnMvZ3JvdXBDaGF0c01zZ3MnO1xuaW1wb3J0IGhhbmRsZUdyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCc7XG5pbXBvcnQgaGFuZGxlQ2xlYXJQdWJsaWNHcm91cENoYXQgZnJvbSAnLi9oYW5kbGVycy9jbGVhclB1YmxpY0dyb3VwQ2hhdCc7XG5pbXBvcnQgaGFuZGxlVXNlclR5cGluZyBmcm9tICcuL2hhbmRsZXJzL3VzZXJUeXBpbmcnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5SZWRpc1B1YlN1Yi5vbignR2V0R3JvdXBDaGF0TXNnc1Jlc3BNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZUdyb3VwQ2hhdHNNc2dzKSk7XG5SZWRpc1B1YlN1Yi5vbignR3JvdXBDaGF0TWVzc2FnZUJyb2FkY2FzdEV2dE1zZycsIGhhbmRsZUdyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCk7XG5SZWRpc1B1YlN1Yi5vbignQ2xlYXJQdWJsaWNDaGF0SGlzdG9yeUV2dE1zZycsIGhhbmRsZUNsZWFyUHVibGljR3JvdXBDaGF0KTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0R3JvdXBDaGF0TXNnc1Jlc3BNc2cnLCBoYW5kbGVHcm91cENoYXRzTXNncyk7XG5SZWRpc1B1YlN1Yi5vbignVXNlclR5cGluZ0V2dE1zZycsIGhhbmRsZVVzZXJUeXBpbmcpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgc2VuZEdyb3VwQ2hhdE1zZyBmcm9tICcuL21ldGhvZHMvc2VuZEdyb3VwQ2hhdE1zZyc7XG5pbXBvcnQgY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSBmcm9tICcuL21ldGhvZHMvY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSc7XG5pbXBvcnQgc3RhcnRVc2VyVHlwaW5nIGZyb20gJy4vbWV0aG9kcy9zdGFydFVzZXJUeXBpbmcnO1xuaW1wb3J0IHN0b3BVc2VyVHlwaW5nIGZyb20gJy4vbWV0aG9kcy9zdG9wVXNlclR5cGluZyc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgc2VuZEdyb3VwQ2hhdE1zZyxcbiAgY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSxcbiAgc3RhcnRVc2VyVHlwaW5nLFxuICBzdG9wVXNlclR5cGluZyxcbn0pO1xuIiwiaW1wb3J0IHsgR3JvdXBDaGF0TXNnLCBVc2Vyc1R5cGluZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGdyb3VwQ2hhdE1zZyhjaGF0c0lkcykge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIEdyb3VwQ2hhdE1zZy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgZ3JvdXAtY2hhdC1tc2cgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gR3JvdXBDaGF0TXNnLmZpbmQoe1xuICAgICRvcjogW1xuICAgICAgeyBtZWV0aW5nSWQsIGNoYXRJZDogeyAkZXE6IFBVQkxJQ19HUk9VUF9DSEFUX0lEIH0gfSxcbiAgICAgIHsgY2hhdElkOiB7ICRpbjogY2hhdHNJZHMgfSB9LFxuICAgIF0sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRHcm91cENoYXQgPSBncm91cENoYXRNc2cuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kR3JvdXBDaGF0KC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnZ3JvdXAtY2hhdC1tc2cnLCBwdWJsaXNoKTtcblxuZnVuY3Rpb24gdXNlcnNUeXBpbmcoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVXNlcnNUeXBpbmcuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyB1c2Vycy10eXBpbmcgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gVXNlcnNUeXBpbmcuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHViaXNoVXNlcnNUeXBpbmcoLi4uYXJncykge1xuICBjb25zdCBib3VuZFVzZXJzVHlwaW5nID0gdXNlcnNUeXBpbmcuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVXNlcnNUeXBpbmcoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd1c2Vycy10eXBpbmcnLCBwdWJpc2hVc2Vyc1R5cGluZyk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgR3JvdXBDaGF0TXNnID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2dyb3VwLWNoYXQtbXNnJyk7XG5jb25zdCBVc2Vyc1R5cGluZyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd1c2Vycy10eXBpbmcnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBHcm91cENoYXRNc2cuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCBjaGF0SWQ6IDEgfSk7XG4gIFVzZXJzVHlwaW5nLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgaXNUeXBpbmdUbzogMSB9KTtcbn1cblxuZXhwb3J0IHsgR3JvdXBDaGF0TXNnLCBVc2Vyc1R5cGluZyB9O1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHNldEd1ZXN0U3RhdHVzIGZyb20gJy4uL21vZGlmaWVycy9zZXRHdWVzdFN0YXR1cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUd1ZXN0QXBwcm92ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGFwcHJvdmVkQnksIGd1ZXN0cyB9ID0gYm9keTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhhcHByb3ZlZEJ5LCBTdHJpbmcpO1xuICBjaGVjayhndWVzdHMsIEFycmF5KTtcblxuICByZXR1cm4gZ3Vlc3RzLmZvckVhY2goZ3Vlc3QgPT4gc2V0R3Vlc3RTdGF0dXMobWVldGluZ0lkLCBndWVzdC5ndWVzdCwgZ3Vlc3Quc3RhdHVzLCBhcHByb3ZlZEJ5KSk7XG59XG4iLCJpbXBvcnQgc3RyaW5nSGFzaCBmcm9tICdzdHJpbmctaGFzaCc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgR3Vlc3RVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvJztcblxuY29uc3QgQ09MT1JfTElTVCA9IFtcbiAgJyM3YjFmYTInLCAnIzZhMWI5YScsICcjNGExNDhjJywgJyM1ZTM1YjEnLCAnIzUxMmRhOCcsICcjNDUyN2EwJyxcbiAgJyMzMTFiOTInLCAnIzM5NDlhYicsICcjMzAzZjlmJywgJyMyODM1OTMnLCAnIzFhMjM3ZScsICcjMTk3NmQyJywgJyMxNTY1YzAnLFxuICAnIzBkNDdhMScsICcjMDI3N2JkJywgJyMwMTU3OWInLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBndWVzdHMgfSA9IGJvZHk7XG4gIGNoZWNrKGd1ZXN0cywgQXJyYXkpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIGd1ZXN0IHVzZXIgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBudW1DaGFuZ2VkO1xuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIGd1ZXN0IHVzZXIgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwc2VydGVkIGd1ZXN0IHVzZXIgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gZ3Vlc3RzLm1hcChndWVzdCA9PiBHdWVzdFVzZXJzLnVwc2VydCh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkOiBndWVzdC5pbnRJZCxcbiAgfSwge1xuICAgIGFwcHJvdmVkOiBmYWxzZSxcbiAgICBkZW5pZWQ6IGZhbHNlLFxuICAgIC4uLmd1ZXN0LFxuICAgIG1lZXRpbmdJZCxcbiAgICBsb2dpblRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgIGNvbG9yOiBDT0xPUl9MSVNUW3N0cmluZ0hhc2goZ3Vlc3QuaW50SWQpICUgQ09MT1JfTElTVC5sZW5ndGhdLFxuICB9LCBjYikpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuY29uc3QgRVZFTlRfTkFNRSA9ICdHdWVzdHNXYWl0aW5nQXBwcm92ZWRNc2cnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhbGxvd1BlbmRpbmdVc2VycyhndWVzdHMsIHN0YXR1cykge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKGd1ZXN0cywgQXJyYXkpO1xuICBjb25zdCBtYXBwZWRHdWVzdHMgPSBndWVzdHMubWFwKGd1ZXN0ID0+ICh7IHN0YXR1cywgZ3Vlc3Q6IGd1ZXN0LmludElkIH0pKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGFwcHJvdmVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBndWVzdHM6IG1hcHBlZEd1ZXN0cyxcbiAgfTtcblxuICBMb2dnZXIuaW5mbyhgVXNlcj0ke3JlcXVlc3RlclVzZXJJZH0gJHtzdGF0dXN9IGd1ZXN0cyAke0pTT04uc3RyaW5naWZ5KG1hcHBlZEd1ZXN0cyl9YCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG5jb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG5jb25zdCBFVkVOVF9OQU1FID0gJ1NldEd1ZXN0UG9saWN5Q21kTXNnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlR3Vlc3RQb2xpY3kocG9saWN5UnVsZSkge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHBvbGljeVJ1bGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBzZXRCeTogcmVxdWVzdGVyVXNlcklkLFxuICAgIHBvbGljeTogcG9saWN5UnVsZSxcbiAgfTtcblxuICBMb2dnZXIuaW5mbyhgVXNlcj0ke3JlcXVlc3RlclVzZXJJZH0gY2hhbmdlIGd1ZXN0IHBvbGljeSB0byAke3BvbGljeVJ1bGV9YCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgR3Vlc3RVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5jb25zdCBHVUVTVF9TVEFUVVNfQUxMT1cgPSAnQUxMT1cnO1xuY29uc3QgR1VFU1RfU1RBVFVTX0RFTlkgPSAnREVOWSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRHdWVzdFN0YXR1cyhtZWV0aW5nSWQsIGludElkLCBzdGF0dXMsIGFwcHJvdmVkQnkgPSBudWxsKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soaW50SWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0YXR1cywgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgYXBwcm92ZWQ6IHN0YXR1cyA9PT0gR1VFU1RfU1RBVFVTX0FMTE9XLFxuICAgICAgZGVuaWVkOiBzdGF0dXMgPT09IEdVRVNUX1NUQVRVU19ERU5ZLFxuICAgICAgYXBwcm92ZWRCeSxcbiAgICB9LFxuICB9O1xuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBzdGF0dXM9JHtzdGF0dXN9IHVzZXI9JHtpbnRJZH06ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBkYXRlZCBzdGF0dXM9JHtzdGF0dXN9IHVzZXI9JHtpbnRJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gR3Vlc3RVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZUd1ZXN0QXBwcm92ZWQgZnJvbSAnLi9oYW5kbGVycy9ndWVzdEFwcHJvdmVkJztcbmltcG9ydCBoYW5kbGVHdWVzdHNXYWl0aW5nRm9yQXBwcm92YWwgZnJvbSAnLi9oYW5kbGVycy9ndWVzdHNXYWl0aW5nRm9yQXBwcm92YWwnO1xuXG5SZWRpc1B1YlN1Yi5vbignR3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsRXZ0TXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVHdWVzdHNXYWl0aW5nRm9yQXBwcm92YWwpKTtcblJlZGlzUHViU3ViLm9uKCdHdWVzdHNXYWl0aW5nQXBwcm92ZWRFdnRNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZUd1ZXN0QXBwcm92ZWQpKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGFsbG93UGVuZGluZ1VzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9hbGxvd1BlbmRpbmdVc2Vycyc7XG5pbXBvcnQgY2hhbmdlR3Vlc3RQb2xpY3kgZnJvbSAnL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tZXRob2RzL2NoYW5nZUd1ZXN0UG9saWN5JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBhbGxvd1BlbmRpbmdVc2VycyxcbiAgY2hhbmdlR3Vlc3RQb2xpY3ksXG59KTtcbiIsImltcG9ydCBHdWVzdFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy8nO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gZ3Vlc3RVc2VycygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBHdWVzdFVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgUHVibGlzaGluZyBTbGlkZXMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gR3Vlc3RVc2Vycy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRTbGlkZXMgPSBndWVzdFVzZXJzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNsaWRlcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2d1ZXN0VXNlcicsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBNb25nbyB9IGZyb20gJ21ldGVvci9tb25nbyc7XG5cbmNvbnN0IEd1ZXN0VXNlcnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignZ3Vlc3RVc2VycycpO1xuXG5leHBvcnQgZGVmYXVsdCBHdWVzdFVzZXJzO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2NhbFNldHRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncyc7XG5pbXBvcnQgc2V0Q2hhbmdlZExvY2FsU2V0dGluZ3MgZnJvbSAnLi4vbW9kaWZpZXJzL3NldENoYW5nZWRMb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBpZiAoIW1lZXRpbmdJZCB8fCAhcmVxdWVzdGVyVXNlcklkKSByZXR1cm47XG5cbiAgY2hlY2soc2V0dGluZ3MsIE9iamVjdCk7XG5cbiAgY29uc3QgdXNlckxvY2FsU2V0dGluZ3MgPSBMb2NhbFNldHRpbmdzXG4gICAgLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkczogeyBzZXR0aW5nczogMSB9LFxuICAgICAgfSk7XG5cbiAgaWYgKCF1c2VyTG9jYWxTZXR0aW5ncyB8fCAhXy5pc0VxdWFsKHVzZXJMb2NhbFNldHRpbmdzLnNldHRpbmdzLCBzZXR0aW5ncykpIHtcbiAgICBzZXRDaGFuZ2VkTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgc2V0dGluZ3MpO1xuICB9XG59XG4iLCJpbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckxvY2FsU2V0dGluZ3MobWVldGluZ0lkKSB7XG4gIHJldHVybiBMb2NhbFNldHRpbmdzLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgTG9jYWwgU2V0dGluZ3MgKCR7bWVldGluZ0lkfSlgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRDaGFuZ2VkTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQsIHVzZXJJZCwgc2V0dGluZ3MpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHNldHRpbmdzLCBPYmplY3QpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgc2V0dGluZ3MsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYCR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCBzZXR0aW5ncyBmb3IgdXNlciAke3VzZXJJZH0gb24gbWVldGluZyAke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIExvY2FsU2V0dGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgdXNlckNoYW5nZWRMb2NhbFNldHRpbmdzIGZyb20gJy4vbWV0aG9kcy91c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3MnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHVzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncyxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGxvY2FsU2V0dGluZ3MoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gTG9jYWxTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBsb2NhbCBzZXR0aW5ncyBmb3IgdXNlcj0ke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gTG9jYWxTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkLCB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTG9jYWxTZXR0aW5ncyA9IGxvY2FsU2V0dGluZ3MuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kTG9jYWxTZXR0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2xvY2FsLXNldHRpbmdzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgTG9jYWxTZXR0aW5ncyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdsb2NhbC1zZXR0aW5ncycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIExvY2FsU2V0dGluZ3MuX2Vuc3VyZUluZGV4KHtcbiAgICBtZWV0aW5nSWQ6IDEsIHVzZXJJZDogMSxcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvY2FsU2V0dGluZ3M7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuY29uc3QgbG9nQ2xpZW50ID0gZnVuY3Rpb24gKHR5cGUsIGxvZ0Rlc2NyaXB0aW9uLCBsb2dDb2RlID0gJ3dhc19ub3RfcHJvdmlkZWQnLCBleHRyYUluZm8gPSB7fSwgdXNlckluZm8gPSB7fSkge1xuICBjb25zdCBjb25uZWN0aW9uSWQgPSB0aGlzLmNvbm5lY3Rpb24uaWQ7XG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHsgY29ubmVjdGlvbklkIH0pO1xuICBjb25zdCBsb2dDb250ZW50cyA9IHtcbiAgICBsb2dDb2RlLFxuICAgIGxvZ0Rlc2NyaXB0aW9uLFxuICAgIGNvbm5lY3Rpb25JZCxcbiAgICBleHRyYUluZm8sXG4gICAgdXNlckluZm8sXG4gIH07XG5cbiAgaWYgKFVzZXIpIHsgLy8gVE9ETy0tXG4gICAgaWYgKCh1c2VySW5mby5jcmVkZW50aWFscyAmJiBVc2VyLm1lZXRpbmdJZCA9PT0gdXNlckluZm8uY3JlZGVudGlhbHMubWVldGluZ0lkKVxuICAgICAgfHwgKCh1c2VySW5mby5tZWV0aW5nSWQgJiYgVXNlci5tZWV0aW5nSWQgPT09IHVzZXJJbmZvLm1lZXRpbmdJZCkpKSB7XG4gICAgICBsb2dDb250ZW50cy5leHRyYUluZm8udmFsaWRVc2VyID0gJ3ZhbGlkJztcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nQ29udGVudHMuZXh0cmFJbmZvLnZhbGlkVXNlciA9ICdpbnZhbGlkJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbG9nQ29udGVudHMuZXh0cmFJbmZvLnZhbGlkVXNlciA9ICdub3RGb3VuZCc7XG4gIH1cblxuICAvLyBJZiBJIGRvbid0IHBhc3MgbWVzc2FnZSwgbG9ncyB3aWxsIHN0YXJ0IHdpdGggYHVuZGVmaW5lZGBcbiAgTG9nZ2VyLmxvZyh7IG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KGxvZ0NvbnRlbnRzKSwgbGV2ZWw6IHR5cGUgfSk7XG4gIC8vIExvZ2dlci5sb2coeyBtZXNzYWdlOiAnY2xpZW50LT5zZXJ2ZXInLCBsZXZlbDogdHlwZSwgbG9nQ29udGVudHMgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2dDbGllbnQ7XG4iLCJpbXBvcnQgJy4vbWV0aG9kcyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBsb2dDbGllbnQgZnJvbSAnLi9tZXRob2RzL2xvZ0NsaWVudCc7XG5cbk1ldGVvci5tZXRob2RzKHsgbG9nQ2xpZW50IH0pO1xuIiwiaW1wb3J0IGhhbmRsZU1lZXRpbmdDcmVhdGlvbiBmcm9tICcuL21lZXRpbmdDcmVhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdldEFsbE1lZXRpbmdzKHsgYm9keSB9KSB7XG4gIHJldHVybiBoYW5kbGVNZWV0aW5nQ3JlYXRpb24oeyBib2R5IH0pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZE1lZXRpbmcgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZE1lZXRpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVNZWV0aW5nQ3JlYXRpb24oeyBib2R5IH0pIHtcbiAgY29uc3QgbWVldGluZyA9IGJvZHkucHJvcHM7XG4gIGNvbnN0IGR1cmF0aW9uSW5TZWNvZHMgPSAobWVldGluZy5kdXJhdGlvblByb3BzLmR1cmF0aW9uICogNjApO1xuICBtZWV0aW5nLmR1cmF0aW9uUHJvcHMudGltZVJlbWFpbmluZyA9IGR1cmF0aW9uSW5TZWNvZHM7XG4gIGNoZWNrKG1lZXRpbmcsIE9iamVjdCk7XG5cbiAgcmV0dXJuIGFkZE1lZXRpbmcobWVldGluZyk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgZGVzdHJveUV4dGVybmFsVmlkZW8gZnJvbSAnL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9kZXN0cm95RXh0ZXJuYWxWaWRlbyc7XG5pbXBvcnQgeyByZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgeyByZW1vdmVDdXJzb3JTdHJlYW1lciB9IGZyb20gJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlTWVldGluZ0Rlc3RydWN0aW9uKHsgYm9keSB9KSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBib2R5O1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgZGVzdHJveUV4dGVybmFsVmlkZW8obWVldGluZ0lkKTtcbiAgcmVtb3ZlQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpO1xuICByZW1vdmVDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5kZXN0cm95TWVldGluZ1F1ZXVlKG1lZXRpbmdJZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgbWVldGluZ0hhc0VuZGVkIGZyb20gJy4uL21vZGlmaWVycy9tZWV0aW5nSGFzRW5kZWQnO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy8nO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVNZWV0aW5nRW5kKHsgYm9keSB9KSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBib2R5O1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW0sIG1lZXRpbmdUeXBlKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGAke21lZXRpbmdUeXBlfSBlbmRpbmcgZXJyb3I6ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobnVtKSB7XG4gICAgICBVc2Vycy51cGRhdGUoeyBtZWV0aW5nSWQgfSxcbiAgICAgICAgeyAkc2V0OiB7IGNvbm5lY3Rpb25TdGF0dXM6ICdvZmZsaW5lJyB9IH0sXG4gICAgICAgIChlcnJvciwgbnVtQWZmZWN0ZWQpID0+IHtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIExvZ2dlci5lcnJvcihgRXJyb3IgbWFya2luZyBlbmRpbmcgJHttZWV0aW5nVHlwZX0gdXNlcnMgYXMgb2ZmbGluZTogJHttZWV0aW5nSWR9ICR7ZXJyfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChudW1BZmZlY3RlZCkge1xuICAgICAgICAgICAgTG9nZ2VyLmluZm8oYFN1Y2Nlc3MgbWFya2luZyBlbmRpbmcgJHttZWV0aW5nVHlwZX0gdXNlcnMgYXMgb2ZmbGluZTogJHttZWV0aW5nSWR9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIE1ldGVvci5zZXRUaW1lb3V0KCgpID0+IHsgbWVldGluZ0hhc0VuZGVkKG1lZXRpbmdJZCk7IH0sIDEwMDAwKTtcbiAgICB9XG4gIH07XG5cbiAgTWVldGluZ3MudXBkYXRlKHsgbWVldGluZ0lkIH0sXG4gICAgeyAkc2V0OiB7IG1lZXRpbmdFbmRlZDogdHJ1ZSB9IH0sXG4gICAgKGVyciwgbnVtKSA9PiB7IGNiKGVyciwgbnVtLCAnTWVldGluZycpOyB9KTtcblxuICBCcmVha291dHMudXBkYXRlKHsgcGFyZW50TWVldGluZ0lkOiBtZWV0aW5nSWQgfSxcbiAgICB7ICRzZXQ6IHsgbWVldGluZ0VuZGVkOiB0cnVlIH0gfSxcbiAgICAoZXJyLCBudW0pID0+IHsgY2IoZXJyLCBudW0sICdCcmVha291dCcpOyB9KTtcbn1cbiIsImltcG9ydCBjaGFuZ2VMb2NrU2V0dGluZ3MgZnJvbSAnLi4vbW9kaWZpZXJzL2NoYW5nZUxvY2tTZXR0aW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUxvY2tTZXR0aW5nc0luTWVldGluZyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIHJldHVybiBjaGFuZ2VMb2NrU2V0dGluZ3MobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IFJlY29yZE1lZXRpbmdzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUmVjb3JkaW5nU3RhdHVzQ2hhbmdlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyByZWNvcmRpbmcgfSA9IGJvZHk7XG4gIGNoZWNrKHJlY29yZGluZywgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHsgcmVjb3JkaW5nIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBDaGFuZ2luZyByZWNvcmQgc3RhdHVzOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENoYW5nZWQgbWVldGluZyByZWNvcmQgc3RhdHVzIGlkPSR7bWVldGluZ0lkfSByZWNvcmRpbmc9JHtyZWNvcmRpbmd9YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBSZWNvcmRNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBSZWNvcmRNZWV0aW5ncyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVJlY29yZGluZ1N0YXR1c0NoYW5nZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdGltZSB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY2hlY2soYm9keSwge1xuICAgIHRpbWU6IE51bWJlcixcbiAgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHsgdGltZSB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgcmVjb3JkaW5nIHRpbWU6ICR7ZXJyfWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUmVjb3JkTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgTWVldGluZ1RpbWVSZW1haW5pbmcgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVUaW1lUmVtYWluaW5nVXBkYXRlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNoZWNrKGJvZHksIHtcbiAgICB0aW1lTGVmdEluU2VjOiBOdW1iZXIsXG4gIH0pO1xuICBjb25zdCB7IHRpbWVMZWZ0SW5TZWMgfSA9IGJvZHk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHRpbWVSZW1haW5pbmc6IHRpbWVMZWZ0SW5TZWMsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENoYW5naW5nIHJlY29yZGluZyB0aW1lOiAke2Vycn1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIE1lZXRpbmdUaW1lUmVtYWluaW5nLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBjaGFuZ2VVc2VyTG9jayBmcm9tICcuLi9tb2RpZmllcnMvY2hhbmdlVXNlckxvY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVMb2NrU2V0dGluZ3NJbk1lZXRpbmcoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICByZXR1cm4gY2hhbmdlVXNlckxvY2sobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCBjaGFuZ2VXZWJjYW1Pbmx5TW9kZXJhdG9yIGZyb20gJy4uL21vZGlmaWVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlV2ViY2FtT25seU1vZGVyYXRvcih7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIHJldHVybiBjaGFuZ2VXZWJjYW1Pbmx5TW9kZXJhdG9yKG1lZXRpbmdJZCwgYm9keSk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW5kTWVldGluZygpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdMb2dvdXRBbmRFbmRNZWV0aW5nQ21kTXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuICBMb2dnZXIudmVyYm9zZShgTWVldGluZyAnJHttZWV0aW5nSWR9JyBpcyBkZXN0cm95ZWQgYnkgJyR7cmVxdWVzdGVyVXNlcklkfSdgKTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2dnbGVMb2NrU2V0dGluZ3MobG9ja1NldHRpbmdzUHJvcHMpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDaGFuZ2VMb2NrU2V0dGluZ3NJbk1lZXRpbmdDbWRNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKGxvY2tTZXR0aW5nc1Byb3BzLCB7XG4gICAgZGlzYWJsZUNhbTogQm9vbGVhbixcbiAgICBkaXNhYmxlTWljOiBCb29sZWFuLFxuICAgIGRpc2FibGVQcml2YXRlQ2hhdDogQm9vbGVhbixcbiAgICBkaXNhYmxlUHVibGljQ2hhdDogQm9vbGVhbixcbiAgICBkaXNhYmxlTm90ZTogQm9vbGVhbixcbiAgICBoaWRlVXNlckxpc3Q6IEJvb2xlYW4sXG4gICAgbG9ja2VkTGF5b3V0OiBCb29sZWFuLFxuICAgIGxvY2tPbkpvaW46IEJvb2xlYW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZTogQm9vbGVhbixcbiAgICBzZXRCeTogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGRpc2FibGVDYW0sXG4gICAgZGlzYWJsZU1pYyxcbiAgICBkaXNhYmxlUHJpdmF0ZUNoYXQ6IGRpc2FibGVQcml2Q2hhdCxcbiAgICBkaXNhYmxlUHVibGljQ2hhdDogZGlzYWJsZVB1YkNoYXQsXG4gICAgZGlzYWJsZU5vdGUsXG4gICAgaGlkZVVzZXJMaXN0LFxuICAgIGxvY2tlZExheW91dCxcbiAgICBsb2NrT25Kb2luLFxuICAgIGxvY2tPbkpvaW5Db25maWd1cmFibGUsXG4gIH0gPSBsb2NrU2V0dGluZ3NQcm9wcztcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGRpc2FibGVDYW0sXG4gICAgZGlzYWJsZU1pYyxcbiAgICBkaXNhYmxlUHJpdkNoYXQsXG4gICAgZGlzYWJsZVB1YkNoYXQsXG4gICAgZGlzYWJsZU5vdGUsXG4gICAgaGlkZVVzZXJMaXN0LFxuICAgIGxvY2tlZExheW91dCxcbiAgICBsb2NrT25Kb2luLFxuICAgIGxvY2tPbkpvaW5Db25maWd1cmFibGUsXG4gICAgc2V0Qnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgUmVjb3JkTWVldGluZ3MgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9nZ2xlUmVjb3JkaW5nKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBST0xFX01PREVSQVRPUiA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMudXNlci5yb2xlX21vZGVyYXRvcjtcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NldFJlY29yZGluZ1N0YXR1c0NtZE1zZyc7XG5cbiAgbGV0IG1lZXRpbmdSZWNvcmRlZDtcbiAgbGV0IGFsbG93ZWRUb1JlY29yZDtcblxuICBjb25zdCByZWNvcmRPYmplY3QgPSBSZWNvcmRNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuXG4gIGlmIChyZWNvcmRPYmplY3QgIT0gbnVsbCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFsbG93U3RhcnRTdG9wUmVjb3JkaW5nLFxuICAgICAgcmVjb3JkaW5nLFxuICAgICAgcmVjb3JkLFxuICAgIH0gPSByZWNvcmRPYmplY3Q7XG5cbiAgICBtZWV0aW5nUmVjb3JkZWQgPSByZWNvcmRpbmc7XG4gICAgYWxsb3dlZFRvUmVjb3JkID0gcmVjb3JkICYmIGFsbG93U3RhcnRTdG9wUmVjb3JkaW5nOyAvLyBUT0RPLS0gcmVtb3ZlIHNvbWUgZGF5XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHJlY29yZGluZzogIW1lZXRpbmdSZWNvcmRlZCxcbiAgICBzZXRCeTogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcbiAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGlmIChhbGxvd2VkVG9SZWNvcmQgJiYgISF1c2VyICYmIHVzZXIucm9sZSA9PT0gUk9MRV9NT0RFUkFUT1IpIHtcbiAgICBMb2dnZXIuaW5mbyhgU2V0dGluZyB0aGUgcmVjb3JkIHBhcmFtZXRlciB0byAkeyFtZWV0aW5nUmVjb3JkZWR9IGZvciAke21lZXRpbmdJZH0gYnkgJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG4gICAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2dnbGVXZWJjYW1zT25seUZvck1vZGVyYXRvcih3ZWJjYW1zT25seUZvck1vZGVyYXRvcikge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1VwZGF0ZVdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayh3ZWJjYW1zT25seUZvck1vZGVyYXRvciwgQm9vbGVhbik7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB3ZWJjYW1zT25seUZvck1vZGVyYXRvcixcbiAgICBzZXRCeTogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0cmFuc2ZlclVzZXIoZnJvbU1lZXRpbmdJZCwgdG9NZWV0aW5nSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdUcmFuc2ZlclVzZXJUb01lZXRpbmdSZXF1ZXN0TXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgZnJvbU1lZXRpbmdJZCxcbiAgICB0b01lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBMb2dnZXIudmVyYm9zZShgdXNlcklkICR7cmVxdWVzdGVyVXNlcklkfSB3YXMgdHJhbnNmZXJyZWQgZnJvbSBcbiAgbWVldGluZyAke2Zyb21NZWV0aW5nSWR9JyB0byBtZWV0aW5nICcke3RvTWVldGluZ0lkfWApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQge1xuICBjaGVjayxcbiAgTWF0Y2gsXG59IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTWVldGluZ3MsIHsgUmVjb3JkTWVldGluZ3MgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGNyZWF0ZU5vdGUgZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL21ldGhvZHMvY3JlYXRlTm90ZSc7XG5pbXBvcnQgY3JlYXRlQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2NyZWF0ZUNhcHRpb25zJztcbmltcG9ydCB7IGFkZEFubm90YXRpb25zU3RyZWFtZXIgfSBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL3N0cmVhbWVyJztcbmltcG9ydCB7IGFkZEN1cnNvclN0cmVhbWVyIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvc3RyZWFtZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRNZWV0aW5nKG1lZXRpbmcpIHtcbiAgY29uc3QgbWVldGluZ0lkID0gbWVldGluZy5tZWV0aW5nUHJvcC5pbnRJZDtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKG1lZXRpbmcsIHtcbiAgICBicmVha291dFByb3BzOiB7XG4gICAgICBzZXF1ZW5jZTogTnVtYmVyLFxuICAgICAgZnJlZUpvaW46IEJvb2xlYW4sXG4gICAgICBicmVha291dFJvb21zOiBBcnJheSxcbiAgICAgIHBhcmVudElkOiBTdHJpbmcsXG4gICAgICBlbmFibGVkOiBCb29sZWFuLFxuICAgICAgcmVjb3JkOiBCb29sZWFuLFxuICAgICAgcHJpdmF0ZUNoYXRFbmFibGVkOiBCb29sZWFuLFxuICAgIH0sXG4gICAgbWVldGluZ1Byb3A6IHtcbiAgICAgIGludElkOiBTdHJpbmcsXG4gICAgICBleHRJZDogU3RyaW5nLFxuICAgICAgaXNCcmVha291dDogQm9vbGVhbixcbiAgICAgIG5hbWU6IFN0cmluZyxcbiAgICB9LFxuICAgIHVzZXJzUHJvcDoge1xuICAgICAgd2ViY2Ftc09ubHlGb3JNb2RlcmF0b3I6IEJvb2xlYW4sXG4gICAgICBndWVzdFBvbGljeTogU3RyaW5nLFxuICAgICAgbWF4VXNlcnM6IE51bWJlcixcbiAgICAgIGFsbG93TW9kc1RvVW5tdXRlVXNlcnM6IEJvb2xlYW4sXG4gICAgfSxcbiAgICBkdXJhdGlvblByb3BzOiB7XG4gICAgICBjcmVhdGVkVGltZTogTnVtYmVyLFxuICAgICAgZHVyYXRpb246IE51bWJlcixcbiAgICAgIGNyZWF0ZWREYXRlOiBTdHJpbmcsXG4gICAgICBtYXhJbmFjdGl2aXR5VGltZW91dE1pbnV0ZXM6IE51bWJlcixcbiAgICAgIHdhcm5NaW51dGVzQmVmb3JlTWF4OiBOdW1iZXIsXG4gICAgICBtZWV0aW5nRXhwaXJlSWZOb1VzZXJKb2luZWRJbk1pbnV0ZXM6IE51bWJlcixcbiAgICAgIG1lZXRpbmdFeHBpcmVXaGVuTGFzdFVzZXJMZWZ0SW5NaW51dGVzOiBOdW1iZXIsXG4gICAgICB1c2VySW5hY3Rpdml0eUluc3BlY3RUaW1lckluTWludXRlczogTnVtYmVyLFxuICAgICAgdXNlckluYWN0aXZpdHlUaHJlc2hvbGRJbk1pbnV0ZXM6IE51bWJlcixcbiAgICAgIHVzZXJBY3Rpdml0eVNpZ25SZXNwb25zZURlbGF5SW5NaW51dGVzOiBOdW1iZXIsXG4gICAgICB0aW1lUmVtYWluaW5nOiBOdW1iZXIsXG4gICAgfSxcbiAgICB3ZWxjb21lUHJvcDoge1xuICAgICAgd2VsY29tZU1zZzogU3RyaW5nLFxuICAgICAgbW9kT25seU1lc3NhZ2U6IFN0cmluZyxcbiAgICAgIHdlbGNvbWVNc2dUZW1wbGF0ZTogU3RyaW5nLFxuICAgIH0sXG4gICAgcmVjb3JkUHJvcDogTWF0Y2guT2JqZWN0SW5jbHVkaW5nKHtcbiAgICAgIGFsbG93U3RhcnRTdG9wUmVjb3JkaW5nOiBCb29sZWFuLFxuICAgICAgYXV0b1N0YXJ0UmVjb3JkaW5nOiBCb29sZWFuLFxuICAgICAgcmVjb3JkOiBCb29sZWFuLFxuICAgIH0pLFxuICAgIHBhc3N3b3JkOiB7XG4gICAgICB2aWV3ZXJQYXNzOiBTdHJpbmcsXG4gICAgICBtb2RlcmF0b3JQYXNzOiBTdHJpbmcsXG4gICAgfSxcbiAgICB2b2ljZVByb3A6IHtcbiAgICAgIHZvaWNlQ29uZjogU3RyaW5nLFxuICAgICAgZGlhbE51bWJlcjogU3RyaW5nLFxuICAgICAgdGVsVm9pY2U6IFN0cmluZyxcbiAgICAgIG11dGVPblN0YXJ0OiBCb29sZWFuLFxuICAgIH0sXG4gICAgc2NyZWVuc2hhcmVQcm9wczoge1xuICAgICAgcmVkNVNjcmVlbnNoYXJlSXA6IFN0cmluZyxcbiAgICAgIHJlZDVTY3JlZW5zaGFyZUFwcDogU3RyaW5nLFxuICAgICAgc2NyZWVuc2hhcmVDb25mOiBTdHJpbmcsXG4gICAgfSxcbiAgICBtZXRhZGF0YVByb3A6IE9iamVjdCxcbiAgICBsb2NrU2V0dGluZ3NQcm9wczoge1xuICAgICAgZGlzYWJsZUNhbTogQm9vbGVhbixcbiAgICAgIGRpc2FibGVNaWM6IEJvb2xlYW4sXG4gICAgICBkaXNhYmxlUHJpdmF0ZUNoYXQ6IEJvb2xlYW4sXG4gICAgICBkaXNhYmxlUHVibGljQ2hhdDogQm9vbGVhbixcbiAgICAgIGRpc2FibGVOb3RlOiBCb29sZWFuLFxuICAgICAgaGlkZVVzZXJMaXN0OiBCb29sZWFuLFxuICAgICAgbG9ja09uSm9pbjogQm9vbGVhbixcbiAgICAgIGxvY2tPbkpvaW5Db25maWd1cmFibGU6IEJvb2xlYW4sXG4gICAgICBsb2NrZWRMYXlvdXQ6IEJvb2xlYW4sXG4gICAgfSxcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIHJlY29yZFByb3AsXG4gICAgLi4ucmVzdFByb3BzXG4gIH0gPSBtZWV0aW5nO1xuXG4gIGNvbnN0IG5ld01lZXRpbmcgPSByZXN0UHJvcHM7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIG5ld01lZXRpbmcubG9ja1NldHRpbmdzUHJvcHMgPSBPYmplY3QuYXNzaWduKG1lZXRpbmcubG9ja1NldHRpbmdzUHJvcHMsIHsgc2V0Qnk6ICd0ZW1wJyB9KTtcblxuICBjb25zdCBtZWV0aW5nRW5kZWQgPSBmYWxzZTtcblxuICBuZXdNZWV0aW5nLndlbGNvbWVQcm9wLndlbGNvbWVNc2cgPSBuZXdNZWV0aW5nLndlbGNvbWVQcm9wLndlbGNvbWVNc2cucmVwbGFjZShcbiAgICAnaHJlZj1cImV2ZW50OicsXG4gICAgJ2hyZWY9XCInLFxuICApO1xuXG4gIGNvbnN0IGluc2VydEJsYW5rVGFyZ2V0ID0gKHMsIGkpID0+IGAke3Muc3Vic3RyKDAsIGkpfSB0YXJnZXQ9XCJfYmxhbmtcIiR7cy5zdWJzdHIoaSl9YDtcbiAgY29uc3QgbGlua1dpdGhvdXRUYXJnZXQgPSBuZXcgUmVnRXhwKCc8YSBocmVmPVwiKC4qPylcIj4nLCAnZycpO1xuICBsaW5rV2l0aG91dFRhcmdldC50ZXN0KG5ld01lZXRpbmcud2VsY29tZVByb3Aud2VsY29tZU1zZyk7XG5cbiAgaWYgKGxpbmtXaXRob3V0VGFyZ2V0Lmxhc3RJbmRleCA+IDApIHtcbiAgICBuZXdNZWV0aW5nLndlbGNvbWVQcm9wLndlbGNvbWVNc2cgPSBpbnNlcnRCbGFua1RhcmdldChcbiAgICAgIG5ld01lZXRpbmcud2VsY29tZVByb3Aud2VsY29tZU1zZyxcbiAgICAgIGxpbmtXaXRob3V0VGFyZ2V0Lmxhc3RJbmRleCAtIDEsXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgbWVldGluZ0VuZGVkLFxuICAgICAgcHVibGlzaGVkUG9sbDogZmFsc2UsXG4gICAgfSwgZmxhdChuZXdNZWV0aW5nLCB7XG4gICAgICBzYWZlOiB0cnVlLFxuICAgIH0pKSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyBtZWV0aW5nIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGluc2VydGVkSWQsXG4gICAgfSA9IG51bUNoYW5nZWQ7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIG1lZXRpbmcgaWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgICAvLyBUT0RPOiBIZXJlIHdlIGNhbGwgRXRoZXJwYWQgQVBJIHRvIGNyZWF0ZSB0aGlzIG1lZXRpbmcgbm90ZXMuIElzIHRoZXJlIGFcbiAgICAgIC8vIGJldHRlciBwbGFjZSB3ZSBjYW4gcnVuIHRoaXMgcG9zdC1jcmVhdGlvbiByb3V0aW5lP1xuICAgICAgY3JlYXRlTm90ZShtZWV0aW5nSWQpO1xuICAgICAgY3JlYXRlQ2FwdGlvbnMobWVldGluZ0lkKTtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIG1lZXRpbmcgaWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNiUmVjb3JkID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIHJlY29yZCBwcm9wIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGluc2VydGVkSWQsXG4gICAgfSA9IG51bUNoYW5nZWQ7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIHJlY29yZCBwcm9wIGlkPSR7bWVldGluZ0lkfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgcmVjb3JkIHByb3AgaWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIFJlY29yZE1lZXRpbmdzLnVwc2VydChzZWxlY3Rvciwge1xuICAgIG1lZXRpbmdJZCxcbiAgICAuLi5yZWNvcmRQcm9wLFxuICB9LCBjYlJlY29yZCk7XG5cbiAgYWRkQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpO1xuICBhZGRDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpO1xuXG4gIHJldHVybiBNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlTG9ja1NldHRpbmdzKG1lZXRpbmdJZCwgcGF5bG9hZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBheWxvYWQsIHtcbiAgICBkaXNhYmxlQ2FtOiBCb29sZWFuLFxuICAgIGRpc2FibGVNaWM6IEJvb2xlYW4sXG4gICAgZGlzYWJsZVByaXZDaGF0OiBCb29sZWFuLFxuICAgIGRpc2FibGVQdWJDaGF0OiBCb29sZWFuLFxuICAgIGRpc2FibGVOb3RlOiBCb29sZWFuLFxuICAgIGhpZGVVc2VyTGlzdDogQm9vbGVhbixcbiAgICBsb2NrZWRMYXlvdXQ6IEJvb2xlYW4sXG4gICAgbG9ja09uSm9pbjogQm9vbGVhbixcbiAgICBsb2NrT25Kb2luQ29uZmlndXJhYmxlOiBCb29sZWFuLFxuICAgIHNldEJ5OiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgZGlzYWJsZUNhbSxcbiAgICBkaXNhYmxlTWljLFxuICAgIGRpc2FibGVQcml2Q2hhdCxcbiAgICBkaXNhYmxlUHViQ2hhdCxcbiAgICBkaXNhYmxlTm90ZSxcbiAgICBoaWRlVXNlckxpc3QsXG4gICAgbG9ja2VkTGF5b3V0LFxuICAgIGxvY2tPbkpvaW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZSxcbiAgICBzZXRCeSxcbiAgfSA9IHBheWxvYWQ7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGxvY2tTZXR0aW5nc1Byb3BzOiB7XG4gICAgICAgIGRpc2FibGVDYW0sXG4gICAgICAgIGRpc2FibGVNaWMsXG4gICAgICAgIGRpc2FibGVQcml2YXRlQ2hhdDogZGlzYWJsZVByaXZDaGF0LFxuICAgICAgICBkaXNhYmxlUHVibGljQ2hhdDogZGlzYWJsZVB1YkNoYXQsXG4gICAgICAgIGRpc2FibGVOb3RlLFxuICAgICAgICBoaWRlVXNlckxpc3QsXG4gICAgICAgIGxvY2tlZExheW91dCxcbiAgICAgICAgbG9ja09uSm9pbixcbiAgICAgICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZSxcbiAgICAgICAgc2V0QnksXG4gICAgICB9LFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgbWVldGluZz17JHttZWV0aW5nSWR9fSBsb2NrIHNldHRpbmdzOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBpZiAoIW51bUNoYW5nZWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgbWVldGluZz17JHttZWV0aW5nSWR9fSBsb2NrIHNldHRpbmdzIHdlcmUgbm90IHVwZGF0ZWRgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYENoYW5nZWQgbWVldGluZz17JHttZWV0aW5nSWR9fSB1cGRhdGVkIGxvY2sgc2V0dGluZ3NgKTtcbiAgfTtcblxuICByZXR1cm4gTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZVVzZXJMb2NrKG1lZXRpbmdJZCwgcGF5bG9hZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBheWxvYWQsIHtcbiAgICB1c2VySWQ6IFN0cmluZyxcbiAgICBsb2NrZWQ6IEJvb2xlYW4sXG4gICAgbG9ja2VkQnk6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3QgeyB1c2VySWQsIGxvY2tlZCwgbG9ja2VkQnkgfSA9IHBheWxvYWQ7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBsb2NrZWQsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBDaGFuZ2luZyB1c2VyIGxvY2sgc2V0dGluZzogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKCFudW1DaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVzZXIncyB1c2VySWQ9JHt1c2VySWR9IGxvY2sgc3RhdHVzIHdhc24ndCB1cGRhdGVkYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVc2VyJ3MgdXNlcklkPSR7dXNlcklkfSBsb2NrIHN0YXR1cyB3YXMgY2hhbmdlZCB0bzogJHtsb2NrZWR9IGJ5IHVzZXIgdXNlcklkPSR7bG9ja2VkQnl9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IFJlY29yZE1lZXRpbmdzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVldGluZ0hhc0VuZGVkKG1lZXRpbmdJZCkge1xuICByZXR1cm4gUmVjb3JkTWVldGluZ3MucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IExvZ2dlci5pbmZvKGBDbGVhcmVkIHJlY29yZCBwcm9wIGZyb20gbWVldGluZyB3aXRoIGlkICR7bWVldGluZ0lkfWApKTtcbn1cbiIsImltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5pbXBvcnQgeyByZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgeyByZW1vdmVDdXJzb3JTdHJlYW1lciB9IGZyb20gJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyJztcblxuaW1wb3J0IGNsZWFyVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2Vycyc7XG5pbXBvcnQgY2xlYXJVc2Vyc1NldHRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlcnNTZXR0aW5ncyc7XG5pbXBvcnQgY2xlYXJHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL21vZGlmaWVycy9jbGVhckdyb3VwQ2hhdCc7XG5pbXBvcnQgY2xlYXJCcmVha291dHMgZnJvbSAnL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQnJlYWtvdXRzJztcbmltcG9ydCBjbGVhckFubm90YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQW5ub3RhdGlvbnMnO1xuaW1wb3J0IGNsZWFyU2xpZGVzIGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9jbGVhclNsaWRlcyc7XG5pbXBvcnQgY2xlYXJQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21vZGlmaWVycy9jbGVhclBvbGxzJztcbmltcG9ydCBjbGVhckNhcHRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQ2FwdGlvbnMnO1xuaW1wb3J0IGNsZWFyUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvblBvZHMnO1xuaW1wb3J0IGNsZWFyVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9jbGVhclZvaWNlVXNlcnMnO1xuaW1wb3J0IGNsZWFyVXNlckluZm8gZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2VySW5mbyc7XG5pbXBvcnQgY2xlYXJOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvY2xlYXJOb3RlJztcbmltcG9ydCBjbGVhck5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbi9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyTmV0d29ya0luZm9ybWF0aW9uJztcbmltcG9ydCBjbGVhckxvY2FsU2V0dGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJMb2NhbFNldHRpbmdzJztcbmltcG9ydCBjbGVhclJlY29yZE1lZXRpbmcgZnJvbSAnLi9jbGVhclJlY29yZE1lZXRpbmcnO1xuaW1wb3J0IGNsZWFyVm9pY2VDYWxsU3RhdGVzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVm9pY2VDYWxsU3RhdGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVldGluZ0hhc0VuZGVkKG1lZXRpbmdJZCkge1xuICByZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCk7XG4gIHJlbW92ZUN1cnNvclN0cmVhbWVyKG1lZXRpbmdJZCk7XG5cbiAgcmV0dXJuIE1lZXRpbmdzLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgY2xlYXJDYXB0aW9ucyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyR3JvdXBDaGF0KG1lZXRpbmdJZCk7XG4gICAgY2xlYXJQcmVzZW50YXRpb25Qb2RzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJCcmVha291dHMobWVldGluZ0lkKTtcbiAgICBjbGVhclBvbGxzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJBbm5vdGF0aW9ucyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyU2xpZGVzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJVc2VycyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVXNlcnNTZXR0aW5ncyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVm9pY2VVc2VycyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVXNlckluZm8obWVldGluZ0lkKTtcbiAgICBjbGVhck5vdGUobWVldGluZ0lkKTtcbiAgICBjbGVhck5ldHdvcmtJbmZvcm1hdGlvbihtZWV0aW5nSWQpO1xuICAgIGNsZWFyTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyUmVjb3JkTWVldGluZyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVm9pY2VDYWxsU3RhdGVzKG1lZXRpbmdJZCk7XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYENsZWFyZWQgTWVldGluZ3Mgd2l0aCBpZCAke21lZXRpbmdJZH1gKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHVibGlzaGVkUG9sbChtZWV0aW5nSWQsIGlzUHVibGlzaGVkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soaXNQdWJsaXNoZWQsIEJvb2xlYW4pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBwdWJsaXNoZWRQb2xsOiBpc1B1Ymxpc2hlZCxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgU2V0dGluZyBwdWJsaXNoZWRQb2xsPSR7aXNQdWJsaXNoZWR9IGZvciBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBTZXQgcHVibGlzaGVkUG9sbD0ke2lzUHVibGlzaGVkfSBpbiBtZWVpdGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlV2ViY2FtT25seU1vZGVyYXRvcihtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYXlsb2FkLCB7XG4gICAgd2ViY2Ftc09ubHlGb3JNb2RlcmF0b3I6IEJvb2xlYW4sXG4gICAgc2V0Qnk6IFN0cmluZyxcbiAgfSk7XG4gIGNvbnN0IHsgd2ViY2Ftc09ubHlGb3JNb2RlcmF0b3IgfSA9IHBheWxvYWQ7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgICd1c2Vyc1Byb3Aud2ViY2Ftc09ubHlGb3JNb2RlcmF0b3InOiB3ZWJjYW1zT25seUZvck1vZGVyYXRvcixcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYENoYW5nd2luZyBtZWV0aW5nPXske21lZXRpbmdJZH19IHdlYmNhbSBPbmx5IGZvciBNb2RlcmF0b3I6ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmICghbnVtQ2hhbmdlZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBtZWV0aW5nPXske21lZXRpbmdJZH19IHdlYmNhbSBPbmx5IGZvciBNb2RlcmF0b3Igd2VyZSBub3QgdXBkYXRlZGApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQ2hhbmdlZCBtZWV0aW5nPXske21lZXRpbmdJZH19IHVwZGF0ZWQgd2ViY2FtIE9ubHkgZm9yIE1vZGVyYXRvcmApO1xuICB9O1xuXG4gIHJldHVybiBNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZU1lZXRpbmdDcmVhdGlvbiBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdDcmVhdGlvbic7XG5pbXBvcnQgaGFuZGxlR2V0QWxsTWVldGluZ3MgZnJvbSAnLi9oYW5kbGVycy9nZXRBbGxNZWV0aW5ncyc7XG5pbXBvcnQgaGFuZGxlTWVldGluZ0VuZCBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdFbmQnO1xuaW1wb3J0IGhhbmRsZU1lZXRpbmdEZXN0cnVjdGlvbiBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdEZXN0cnVjdGlvbic7XG5pbXBvcnQgaGFuZGxlTWVldGluZ0xvY2tzQ2hhbmdlIGZyb20gJy4vaGFuZGxlcnMvbWVldGluZ0xvY2tDaGFuZ2UnO1xuaW1wb3J0IGhhbmRsZVVzZXJMb2NrQ2hhbmdlIGZyb20gJy4vaGFuZGxlcnMvdXNlckxvY2tDaGFuZ2UnO1xuaW1wb3J0IGhhbmRsZVJlY29yZGluZ1N0YXR1c0NoYW5nZSBmcm9tICcuL2hhbmRsZXJzL3JlY29yZGluZ1N0YXR1c0NoYW5nZSc7XG5pbXBvcnQgaGFuZGxlUmVjb3JkaW5nVGltZXJDaGFuZ2UgZnJvbSAnLi9oYW5kbGVycy9yZWNvcmRpbmdUaW1lckNoYW5nZSc7XG5pbXBvcnQgaGFuZGxlVGltZVJlbWFpbmluZ1VwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL3RpbWVSZW1haW5pbmdVcGRhdGUnO1xuaW1wb3J0IGhhbmRsZUNoYW5nZVdlYmNhbU9ubHlNb2RlcmF0b3IgZnJvbSAnLi9oYW5kbGVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yJztcblxuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdDcmVhdGVkRXZ0TXNnJywgaGFuZGxlTWVldGluZ0NyZWF0aW9uKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0TWVldGluZ0luZm9SZXNwTXNnJywgaGFuZGxlR2V0QWxsTWVldGluZ3MpO1xuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdFbmRpbmdFdnRNc2cnLCBoYW5kbGVNZWV0aW5nRW5kKTtcblJlZGlzUHViU3ViLm9uKCdNZWV0aW5nRGVzdHJveWVkRXZ0TXNnJywgaGFuZGxlTWVldGluZ0Rlc3RydWN0aW9uKTtcblJlZGlzUHViU3ViLm9uKCdMb2NrU2V0dGluZ3NJbk1lZXRpbmdDaGFuZ2VkRXZ0TXNnJywgaGFuZGxlTWVldGluZ0xvY2tzQ2hhbmdlKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyTG9ja2VkSW5NZWV0aW5nRXZ0TXNnJywgaGFuZGxlVXNlckxvY2tDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1JlY29yZGluZ1N0YXR1c0NoYW5nZWRFdnRNc2cnLCBoYW5kbGVSZWNvcmRpbmdTdGF0dXNDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1VwZGF0ZVJlY29yZGluZ1RpbWVyRXZ0TXNnJywgaGFuZGxlUmVjb3JkaW5nVGltZXJDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1dlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yQ2hhbmdlZEV2dE1zZycsIGhhbmRsZUNoYW5nZVdlYmNhbU9ubHlNb2RlcmF0b3IpO1xuUmVkaXNQdWJTdWIub24oJ0dldExvY2tTZXR0aW5nc1Jlc3BNc2cnLCBoYW5kbGVNZWV0aW5nTG9ja3NDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdUaW1lUmVtYWluaW5nVXBkYXRlRXZ0TXNnJywgaGFuZGxlVGltZVJlbWFpbmluZ1VwZGF0ZSk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBlbmRNZWV0aW5nIGZyb20gJy4vbWV0aG9kcy9lbmRNZWV0aW5nJztcbmltcG9ydCB0b2dnbGVSZWNvcmRpbmcgZnJvbSAnLi9tZXRob2RzL3RvZ2dsZVJlY29yZGluZyc7XG5pbXBvcnQgdHJhbnNmZXJVc2VyIGZyb20gJy4vbWV0aG9kcy90cmFuc2ZlclVzZXInO1xuaW1wb3J0IHRvZ2dsZUxvY2tTZXR0aW5ncyBmcm9tICcuL21ldGhvZHMvdG9nZ2xlTG9ja1NldHRpbmdzJztcbmltcG9ydCB0b2dnbGVXZWJjYW1zT25seUZvck1vZGVyYXRvciBmcm9tICcuL21ldGhvZHMvdG9nZ2xlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3InO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGVuZE1lZXRpbmcsXG4gIHRvZ2dsZVJlY29yZGluZyxcbiAgdG9nZ2xlTG9ja1NldHRpbmdzLFxuICB0cmFuc2ZlclVzZXIsXG4gIHRvZ2dsZVdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBNZWV0aW5ncywgeyBSZWNvcmRNZWV0aW5ncywgTWVldGluZ1RpbWVSZW1haW5pbmcgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgUk9MRV9NT0RFUkFUT1IgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLnVzZXIucm9sZV9tb2RlcmF0b3I7XG5cbmZ1bmN0aW9uIG1lZXRpbmdzKHJvbGUpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBNZWV0aW5ncy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBtZWV0aW5nID0ke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgJG9yOiBbXG4gICAgICB7IG1lZXRpbmdJZCB9LFxuICAgIF0sXG4gIH07XG5cbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoeyB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCwgbWVldGluZ0lkIH0sIHsgZmllbGRzOiB7IHJvbGU6IDEgfSB9KTtcbiAgaWYgKCEhVXNlciAmJiBVc2VyLnJvbGUgPT09IFJPTEVfTU9ERVJBVE9SKSB7XG4gICAgc2VsZWN0b3IuJG9yLnB1c2goe1xuICAgICAgJ21lZXRpbmdQcm9wLmlzQnJlYWtvdXQnOiB0cnVlLFxuICAgICAgJ2JyZWFrb3V0UHJvcHMucGFyZW50SWQnOiBtZWV0aW5nSWQsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGZpZWxkczoge1xuICAgICAgcGFzc3dvcmQ6IGZhbHNlLFxuICAgICAgJ3dlbGNvbWVQcm9wLm1vZE9ubHlNZXNzYWdlJzogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gTWVldGluZ3MuZmluZChzZWxlY3Rvciwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZE1lZXRpbmdzID0gbWVldGluZ3MuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kTWVldGluZ3MoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdtZWV0aW5ncycsIHB1Ymxpc2gpO1xuXG5mdW5jdGlvbiByZWNvcmRNZWV0aW5ncygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBSZWNvcmRNZWV0aW5ncy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICByZXR1cm4gUmVjb3JkTWVldGluZ3MuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cbmZ1bmN0aW9uIHJlY29yZFB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFJlY29yZE1lZXRpbmdzID0gcmVjb3JkTWVldGluZ3MuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kUmVjb3JkTWVldGluZ3MoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdyZWNvcmQtbWVldGluZ3MnLCByZWNvcmRQdWJsaXNoKTtcblxuZnVuY3Rpb24gbWVldGluZ1RpbWVSZW1haW5pbmcoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gTWVldGluZ1RpbWVSZW1haW5pbmcuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgcmV0dXJuIE1lZXRpbmdUaW1lUmVtYWluaW5nLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5mdW5jdGlvbiB0aW1lUmVtYWluaW5nUHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kdGltZVJlbWFpbmluZyA9IG1lZXRpbmdUaW1lUmVtYWluaW5nLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZHRpbWVSZW1haW5pbmcoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdtZWV0aW5nLXRpbWUtcmVtYWluaW5nJywgdGltZVJlbWFpbmluZ1B1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IE1lZXRpbmdzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ21lZXRpbmdzJyk7XG5jb25zdCBSZWNvcmRNZWV0aW5ncyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdyZWNvcmQtbWVldGluZ3MnKTtcbmNvbnN0IE1lZXRpbmdUaW1lUmVtYWluaW5nID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ21lZXRpbmctdGltZS1yZW1haW5pbmcnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgbWVldGluZ3M6XG4gIC8vIDEuIG1lZXRpbmdJZFxuXG4gIE1lZXRpbmdzLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbiAgUmVjb3JkTWVldGluZ3MuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xuICBNZWV0aW5nVGltZVJlbWFpbmluZy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCB7XG4gIFJlY29yZE1lZXRpbmdzLFxuICBNZWV0aW5nVGltZVJlbWFpbmluZyxcbn07XG5leHBvcnQgZGVmYXVsdCBNZWV0aW5ncztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBOZXR3b3JrSW5mb3JtYXRpb24gZnJvbSAnL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24nO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJJbnN0YWJpbGl0eURldGVjdGVkKHNlbmRlcikge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiByZWNlaXZlciB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY2hlY2soc2VuZGVyLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgbWVldGluZ0lkLFxuICAgIHJlY2VpdmVyLFxuICAgIHNlbmRlcixcbiAgfTtcblxuICBMb2dnZXIuZGVidWcoYFJlY2VpdmVyICR7cmVjZWl2ZXJ9IHJlcG9ydGVkIGEgbmV0d29yayBpbnN0YWJpbGl0eSBpbiBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuXG4gIHJldHVybiBOZXR3b3JrSW5mb3JtYXRpb24uaW5zZXJ0KHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IE5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyTmV0d29ya0luZm9ybWF0aW9uKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIE5ldHdvcmtJbmZvcm1hdGlvbi5yZW1vdmUoeyBtZWV0aW5nSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgTmV0d29yayBJbmZvcm1hdGlvbiAoJHttZWV0aW5nSWR9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIE5ldHdvcmtJbmZvcm1hdGlvbi5yZW1vdmUoe30sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBOZXR3b3JrIEluZm9ybWF0aW9uIChhbGwpJyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcic7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB1c2VySW5zdGFiaWxpdHlEZXRlY3RlZCBmcm9tICcuL21ldGhvZHMvdXNlckluc3RhYmlsaXR5RGV0ZWN0ZWQnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHVzZXJJbnN0YWJpbGl0eURldGVjdGVkLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBOZXR3b3JrSW5mb3JtYXRpb24gZnJvbSAnL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24nO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIG5ldHdvcmtJbmZvcm1hdGlvbigpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBOZXR3b3JrSW5mb3JtYXRpb24uZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgcmV0dXJuIE5ldHdvcmtJbmZvcm1hdGlvbi5maW5kKHtcbiAgICBtZWV0aW5nSWQsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmROZXR3b3JrSW5mb3JtYXRpb24gPSBuZXR3b3JrSW5mb3JtYXRpb24uYmluZCh0aGlzKTtcblxuICByZXR1cm4gYm91bmROZXR3b3JrSW5mb3JtYXRpb24oLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCduZXR3b3JrLWluZm9ybWF0aW9uJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgTmV0d29ya0luZm9ybWF0aW9uID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ25ldHdvcmstaW5mb3JtYXRpb24nKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBOZXR3b3JrSW5mb3JtYXRpb24uX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBOZXR3b3JrSW5mb3JtYXRpb247XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgdXBkYXRlTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZU5vdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQYWRVcGRhdGUoeyBib2R5IH0pIHtcbiAgY29uc3QgeyBwYWQsIHJldnMgfSA9IGJvZHk7XG4gIGNvbnN0IHsgaWQgfSA9IHBhZDtcblxuICBjaGVjayhpZCwgU3RyaW5nKTtcbiAgY2hlY2socmV2cywgTnVtYmVyKTtcblxuICB1cGRhdGVOb3RlKGlkLCByZXZzKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7XG4gIGdlbmVyYXRlTm90ZUlkLFxuICBjcmVhdGVQYWRVUkwsXG4gIGdldFJlYWRPbmx5SWRVUkwsXG4gIGlzRW5hYmxlZCxcbiAgZ2V0RGF0YUZyb21SZXNwb25zZSxcbn0gZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGFkZE5vdGUgZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL21vZGlmaWVycy9hZGROb3RlJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZU5vdGUobWVldGluZ0lkKSB7XG4gIC8vIEF2b2lkIG5vdGUgY3JlYXRpb24gaWYgdGhpcyBmZWF0dXJlIGlzIGRpc2FibGVkXG4gIGlmICghaXNFbmFibGVkKCkpIHtcbiAgICBMb2dnZXIud2FybihgTm90ZXMgYXJlIGRpc2FibGVkIGZvciAke21lZXRpbmdJZH1gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgbm90ZUlkID0gZ2VuZXJhdGVOb3RlSWQobWVldGluZ0lkKTtcblxuICBjb25zdCBjcmVhdGVVUkwgPSBjcmVhdGVQYWRVUkwobm90ZUlkKTtcbiAgYXhpb3Moe1xuICAgIG1ldGhvZDogJ2dldCcsXG4gICAgdXJsOiBjcmVhdGVVUkwsXG4gICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gIH0pLnRoZW4oKHJlc3BvbnNlT3V0ZXIpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2VPdXRlcjtcbiAgICBpZiAoc3RhdHVzICE9PSAyMDApIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGdldCBub3RlIGluZm8gZm9yICR7bWVldGluZ0lkfSAke3N0YXR1c31gKTtcbiAgICB9XG4gICAgY29uc3QgcmVhZE9ubHlVUkwgPSBnZXRSZWFkT25seUlkVVJMKG5vdGVJZCk7XG4gICAgYXhpb3Moe1xuICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgIHVybDogcmVhZE9ubHlVUkwsXG4gICAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc3QgcmVhZE9ubHlOb3RlSWQgPSBnZXREYXRhRnJvbVJlc3BvbnNlKHJlc3BvbnNlLmRhdGEsICdyZWFkT25seUlEJyk7XG4gICAgICBpZiAocmVhZE9ubHlOb3RlSWQpIHtcbiAgICAgICAgYWRkTm90ZShtZWV0aW5nSWQsIG5vdGVJZCwgcmVhZE9ubHlOb3RlSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgZ2V0IG5vdGUgcmVhZE9ubHlJRCBmb3IgJHttZWV0aW5nSWR9YCk7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goZXJyb3IgPT4gTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgZ2V0IG5vdGUgcmVhZE9ubHlJRCBmb3IgJHttZWV0aW5nSWR9OiAke2Vycm9yfWApKTtcbiAgfSkuY2F0Y2goZXJyb3IgPT4gTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgY3JlYXRlIG5vdGUgZm9yICR7bWVldGluZ0lkfTogJHtlcnJvcn1gKSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZSc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZE5vdGUobWVldGluZ0lkLCBub3RlSWQsIHJlYWRPbmx5Tm90ZUlkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sobm90ZUlkLCBTdHJpbmcpO1xuICBjaGVjayhyZWFkT25seU5vdGVJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgbm90ZUlkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBub3RlSWQsXG4gICAgcmVhZE9ubHlOb3RlSWQsXG4gICAgcmV2czogMCxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgbm90ZSB0byB0aGUgY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgbm90ZSBpZD0ke25vdGVJZH0gcmVhZE9ubHlJZD0ke3JlYWRPbmx5Tm90ZUlkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgbm90ZSBpZD0ke25vdGVJZH0gcmVhZE9ubHlJZD0ke3JlYWRPbmx5Tm90ZUlkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBOb3RlLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJOb3RlKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIE5vdGUucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIE5vdGUgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBOb3RlLnJlbW92ZSh7fSwgKCkgPT4ge1xuICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIE5vdGUgKGFsbCknKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZSc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZU5vdGUobm90ZUlkLCByZXZzKSB7XG4gIGNoZWNrKG5vdGVJZCwgU3RyaW5nKTtcbiAgY2hlY2socmV2cywgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBub3RlSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgcmV2cyxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIG5vdGUgcGFkOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLnZlcmJvc2UoYFVwZGF0ZSBub3RlIHBhZD0ke25vdGVJZH0gcmV2cz0ke3JldnN9YCk7XG4gIH07XG5cbiAgcmV0dXJuIE5vdGUudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgeyBtdWx0aTogdHJ1ZSB9LCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0Zvck5vdGVQYWRPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZVBhZFVwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL3BhZFVwZGF0ZSc7XG5cblJlZGlzUHViU3ViLm9uKCdQYWRVcGRhdGVTeXNNc2cnLCBwcm9jZXNzRm9yTm90ZVBhZE9ubHkoaGFuZGxlUGFkVXBkYXRlKSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGhhc2hGTlYzMmEgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgRVRIRVJQQUQgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5ldGhlcnBhZDtcbmNvbnN0IE5PVEVfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5ub3RlO1xuY29uc3QgQkFTRV9VUkwgPSBgaHR0cDovLyR7RVRIRVJQQUQuaG9zdH06JHtFVEhFUlBBRC5wb3J0fS9hcGkvJHtFVEhFUlBBRC52ZXJzaW9ufWA7XG5jb25zdCBUT0tFTiA9ICdfJztcblxuY29uc3QgY3JlYXRlUGFkVVJMID0gcGFkSWQgPT4gYCR7QkFTRV9VUkx9L2NyZWF0ZVBhZD9hcGlrZXk9JHtFVEhFUlBBRC5hcGlrZXl9JnBhZElEPSR7cGFkSWR9YDtcblxuY29uc3QgZ2V0UmVhZE9ubHlJZFVSTCA9IHBhZElkID0+IGAke0JBU0VfVVJMfS9nZXRSZWFkT25seUlEP2FwaWtleT0ke0VUSEVSUEFELmFwaWtleX0mcGFkSUQ9JHtwYWRJZH1gO1xuXG5jb25zdCBhcHBlbmRUZXh0VVJMID0gKHBhZElkLCB0ZXh0KSA9PiBgJHtCQVNFX1VSTH0vYXBwZW5kVGV4dD9hcGlrZXk9JHtFVEhFUlBBRC5hcGlrZXl9JnBhZElEPSR7cGFkSWR9JnRleHQ9JHtlbmNvZGVVUklDb21wb25lbnQodGV4dCl9YDtcblxuY29uc3QgZ2VuZXJhdGVOb3RlSWQgPSAobWVldGluZ0lkKSA9PiB7XG4gIGNvbnN0IG5vdGVJZCA9IGhhc2hGTlYzMmEobWVldGluZ0lkLCB0cnVlKTtcbiAgcmV0dXJuIG5vdGVJZDtcbn07XG5cbmNvbnN0IGlzRW5hYmxlZCA9ICgpID0+IE5PVEVfQ09ORklHLmVuYWJsZWQ7XG5cbmNvbnN0IGdldERhdGFGcm9tUmVzcG9uc2UgPSAoZGF0YSwga2V5KSA9PiB7XG4gIGlmIChkYXRhKSB7XG4gICAgY29uc3QgaW5uZXJEYXRhID0gZGF0YS5kYXRhO1xuICAgIGlmIChpbm5lckRhdGEgJiYgaW5uZXJEYXRhW2tleV0pIHtcbiAgICAgIHJldHVybiBpbm5lckRhdGFba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBpc05vdGVQYWQgPSBwYWRJZCA9PiBwYWRJZC5zZWFyY2goVE9LRU4pO1xuXG5jb25zdCBwcm9jZXNzRm9yTm90ZVBhZE9ubHkgPSBmbiA9PiAobWVzc2FnZSwgLi4uYXJncykgPT4ge1xuICBjb25zdCB7IGJvZHkgfSA9IG1lc3NhZ2U7XG4gIGNvbnN0IHsgcGFkIH0gPSBib2R5O1xuICBjb25zdCB7IGlkIH0gPSBwYWQ7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG5cbiAgaWYgKGlzTm90ZVBhZChpZCkpIHJldHVybiBmbihtZXNzYWdlLCAuLi5hcmdzKTtcbiAgcmV0dXJuICgpID0+IHt9O1xufTtcblxuZXhwb3J0IHtcbiAgZ2VuZXJhdGVOb3RlSWQsXG4gIGNyZWF0ZVBhZFVSTCxcbiAgZ2V0UmVhZE9ubHlJZFVSTCxcbiAgaXNFbmFibGVkLFxuICBnZXREYXRhRnJvbVJlc3BvbnNlLFxuICBhcHBlbmRUZXh0VVJMLFxuICBwcm9jZXNzRm9yTm90ZVBhZE9ubHksXG59O1xuIiwiaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZSc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gbm90ZSgpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBOb3RlLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmluZm8oYFB1Ymxpc2hpbmcgbm90ZSBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBOb3RlLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZE5vdGUgPSBub3RlLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZE5vdGUoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdub3RlJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgTm90ZSA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdub3RlJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTm90ZS5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIG5vdGVJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTm90ZTtcbiIsImltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBpbmcoKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGxhc3RQaW5nOiBEYXRlLm5vdygpLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgRXJyb3IgdXBkYXRpbmcgbGFzdFBpbmcgZm9yICR7cmVxdWVzdGVyVXNlcklkfTogJHtlcnJ9YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgJy4vcHVibGlzaGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBwaW5nIGZyb20gJy4vbWV0aG9kcy9waW5nJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBwaW5nLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgQ09MTEVDVElPTl9OQU1FID0gJ3BpbmctcG9uZyc7XG5jb25zdCBJTlRFUlZBTF9JTl9TRVRUSU5HUyA9IChNZXRlb3Iuc2V0dGluZ3MucHVibGljLnBpbmdQb25nLmNsZWFyVXNlcnNJblNlY29uZHMpICogMTAwMDtcbmNvbnN0IElOVEVSVkFMX1RJTUUgPSBJTlRFUlZBTF9JTl9TRVRUSU5HUyA8IDEwMDAwID8gMTAwMDAgOiBJTlRFUlZBTF9JTl9TRVRUSU5HUztcbmNvbnN0IFBPTkdfSU5URVJWQUxfSU5fU0VUVElOR1MgPSAoTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5waW5nUG9uZy5wb25nVGltZUluU2Vjb25kcykgKiAxMDAwO1xuY29uc3QgUE9OR19JTlRFUlZBTCA9IFBPTkdfSU5URVJWQUxfSU5fU0VUVElOR1MgPj0gKElOVEVSVkFMX1RJTUUgLyAyKVxuICA/IChJTlRFUlZBTF9USU1FIC8gMikgOiBQT05HX0lOVEVSVkFMX0lOX1NFVFRJTkdTO1xuXG5mdW5jdGlvbiBwaW5nUG9uZygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybjsgLy8gVE9ETy0tIGlzIHRoZXJlIGEgbW9yZSBhcHByb3ByaWF0ZSBzZXQgdG8gcmV0dXJuP1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IGlkID0gXy51bmlxdWVJZCgncG9uZy0nKTtcbiAgTG9nZ2VyLmluZm8oYFN0YXJ0aW5nIHBpbmctcG9uZyBwdWJsaXNoIGZvciB1c2VySWQ6ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuICBjb25zdCBwb25nU2VuZGVyID0gKGludGVydmFsKSA9PiB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgIHBvbmc6IHtcbiAgICAgICAgbWVzc2FnZTogJ3BvbmcnLFxuICAgICAgICB0aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICBtZWV0aW5nSWQsXG4gICAgICB9LFxuICAgIH07XG4gICAgbGV0IGZuID0gdGhpcy5hZGRlZC5iaW5kKHRoaXMpO1xuICAgIGlmIChpbnRlcnZhbCkgZm4gPSB0aGlzLmNoYW5nZWQuYmluZCh0aGlzKTtcbiAgICBmbihDT0xMRUNUSU9OX05BTUUsIGlkLCBwYXlsb2FkKTtcbiAgfTtcbiAgcG9uZ1NlbmRlcigpO1xuICB0aGlzLnJlYWR5KCk7XG4gIGNvbnN0IGludGVydmFsID0gTWV0ZW9yLnNldEludGVydmFsKCgpID0+IHBvbmdTZW5kZXIodHJ1ZSksIFBPTkdfSU5URVJWQUwpO1xuXG4gIHRoaXMub25TdG9wKCgpID0+IHtcbiAgICBNZXRlb3IuY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0pO1xufVxuXG5NZXRlb3IucHVibGlzaCgncGluZy1wb25nJywgcGluZ1BvbmcpO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHJlbW92ZVBvbGwgZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZVBvbGwnO1xuaW1wb3J0IHNldFB1Ymxpc2hlZFBvbGwgZnJvbSAnLi4vLi4vLi4vbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9zZXRQdWJsaXNoZWRQb2xsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9sbFB1Ymxpc2hlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcG9sbElkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9sbElkLCBTdHJpbmcpO1xuXG4gIHNldFB1Ymxpc2hlZFBvbGwobWVldGluZ0lkLCB0cnVlKTtcblxuICByZXR1cm4gcmVtb3ZlUG9sbChtZWV0aW5nSWQsIHBvbGxJZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkUG9sbCBmcm9tICcuLi9tb2RpZmllcnMvYWRkUG9sbCc7XG5pbXBvcnQgc2V0UHVibGlzaGVkUG9sbCBmcm9tICcuLi8uLi8uLi9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL3NldFB1Ymxpc2hlZFBvbGwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2xsU3RhcnRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcklkIH0gPSBib2R5O1xuICBjb25zdCB7IHBvbGwgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvbGwsIE9iamVjdCk7XG5cbiAgc2V0UHVibGlzaGVkUG9sbChtZWV0aW5nSWQsIGZhbHNlKTtcblxuICByZXR1cm4gYWRkUG9sbChtZWV0aW5nSWQsIHVzZXJJZCwgcG9sbCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgcmVtb3ZlUG9sbCBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlUG9sbCc7XG5pbXBvcnQgY2xlYXJQb2xscyBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJQb2xscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbGxTdG9wcGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwb2xsIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBpZiAocG9sbCkge1xuICAgIGNvbnN0IHsgcG9sbElkIH0gPSBwb2xsO1xuXG4gICAgY2hlY2socG9sbElkLCBTdHJpbmcpO1xuXG4gICAgcmV0dXJuIHJlbW92ZVBvbGwobWVldGluZ0lkLCBwb2xsSWQpO1xuICB9XG5cbiAgcmV0dXJuIGNsZWFyUG9sbHMobWVldGluZ0lkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyUmVzcG9uZGVkKHsgYm9keSB9KSB7XG4gIGNvbnN0IHsgcG9sbElkLCB1c2VySWQsIGFuc3dlcklkIH0gPSBib2R5O1xuXG4gIGNoZWNrKHBvbGxJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhhbnN3ZXJJZCwgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBpZDogcG9sbElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRwdWxsOiB7XG4gICAgICB1c2VyczogdXNlcklkLFxuICAgIH0sXG4gICAgJHB1c2g6IHtcbiAgICAgIHJlc3BvbnNlczogeyB1c2VySWQsIGFuc3dlcklkIH0sXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBQb2xsIHJlc3BvbnNlczogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcGRhdGluZyBQb2xsIHJlc3BvbnNlICh1c2VySWQ6ICR7dXNlcklkfSxgXG4gICAgICArIGByZXNwb25zZTogJHthbnN3ZXJJZH0sIHBvbGxJZDogJHtwb2xsSWR9KWApO1xuICB9O1xuXG4gIHJldHVybiBQb2xscy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgdXBkYXRlVm90ZXMgZnJvbSAnLi4vbW9kaWZpZXJzL3VwZGF0ZVZvdGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlclZvdGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwb2xsIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9sbCwge1xuICAgIGlkOiBTdHJpbmcsXG4gICAgYW5zd2VyczogW1xuICAgICAge1xuICAgICAgICBpZDogTnVtYmVyLFxuICAgICAgICBrZXk6IFN0cmluZyxcbiAgICAgICAgbnVtVm90ZXM6IE51bWJlcixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBudW1SZXNwb25kZW50czogTnVtYmVyLFxuICAgIG51bVJlc3BvbmRlcnM6IE51bWJlcixcbiAgfSk7XG5cbiAgcmV0dXJuIHVwZGF0ZVZvdGVzKHBvbGwsIG1lZXRpbmdJZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHVibGlzaFBvbGwoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2hvd1BvbGxSZXN1bHRSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IHBvbGwgPSBQb2xscy5maW5kT25lKHsgbWVldGluZ0lkIH0pOyAvLyBUT0RPLS1zZW5kIHBvbGxpZCBmcm9tIGNsaWVudFxuICBpZiAoIXBvbGwpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEF0dGVtcHRlZCB0byBwdWJsaXNoIGluZXhpc3RpbmcgcG9sbCBmb3IgbWVldGluZ0lkOiAke21lZXRpbmdJZH1gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKFxuICAgIENIQU5ORUwsXG4gICAgRVZFTlRfTkFNRSxcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVxdWVzdGVyVXNlcklkLFxuICAgICh7IHJlcXVlc3RlcklkOiByZXF1ZXN0ZXJVc2VySWQsIHBvbGxJZDogcG9sbC5pZCB9KSxcbiAgKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwdWJsaXNoVm90ZShpZCwgcG9sbEFuc3dlcklkKSB7IC8vIFRPRE8gZGlzY3VzcyBsb2NhdGlvblxuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1Jlc3BvbmRUb1BvbGxSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIC8qXG4gICBXZSBrZWVwIGFuIGFycmF5IG9mIHBlb3BsZSB3aG8gd2VyZSBpbiB0aGUgbWVldGluZyBhdCB0aGUgdGltZSB0aGUgcG9sbFxuICAgd2FzIHN0YXJ0ZWQuIFRoZSBwb2xsIGlzIHB1Ymxpc2hlZCB0byB0aGVtIG9ubHkuXG4gICBPbmNlIHRoZXkgdm90ZSAtIHRoZWlyIElEIGlzIHJlbW92ZWQgYW5kIHRoZXkgY2Fubm90IHNlZSB0aGUgcG9sbCBhbnltb3JlXG4gICAqL1xuICBjb25zdCBjdXJyZW50UG9sbCA9IFBvbGxzLmZpbmRPbmUoe1xuICAgIHVzZXJzOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgbWVldGluZ0lkLFxuICAgICdhbnN3ZXJzLmlkJzogcG9sbEFuc3dlcklkLFxuICAgIGlkLFxuICB9KTtcblxuICBjaGVjayhwb2xsQW5zd2VySWQsIE51bWJlcik7XG4gIGNoZWNrKGN1cnJlbnRQb2xsLCBPYmplY3QpO1xuICBjaGVjayhjdXJyZW50UG9sbC5tZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICByZXF1ZXN0ZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIHBvbGxJZDogY3VycmVudFBvbGwuaWQsXG4gICAgcXVlc3Rpb25JZDogMCxcbiAgICBhbnN3ZXJJZDogcG9sbEFuc3dlcklkLFxuICB9O1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHVzZXJzOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgbWVldGluZ0lkLFxuICAgICdhbnN3ZXJzLmlkJzogcG9sbEFuc3dlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRwdWxsOiB7XG4gICAgICB1c2VyczogcmVxdWVzdGVyVXNlcklkLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgUG9sbHMgY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcGRhdGluZyBQb2xscyBjb2xsZWN0aW9uIChtZWV0aW5nSWQ6ICR7bWVldGluZ0lkfSwgYFxuICAgICAgKyBgcG9sbElkOiAke2N1cnJlbnRQb2xsLmlkfSEpYCk7XG4gIH07XG5cbiAgUG9sbHMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydFBvbGwocG9sbFR5cGUsIHBvbGxJZCwgYW5zd2Vycykge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuXG4gIGxldCBFVkVOVF9OQU1FID0gJ1N0YXJ0UG9sbFJlcU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhwb2xsSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvbGxUeXBlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcmVxdWVzdGVySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBwb2xsSWQ6IGAke3BvbGxJZH0vJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX1gLFxuICAgIHBvbGxUeXBlLFxuICB9O1xuXG4gIGlmIChwb2xsVHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICBFVkVOVF9OQU1FID0gJ1N0YXJ0Q3VzdG9tUG9sbFJlcU1zZyc7XG4gICAgY2hlY2soYW5zd2VycywgQXJyYXkpO1xuICAgIHBheWxvYWQuYW5zd2VycyA9IGFuc3dlcnM7XG4gIH1cblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RvcFBvbGwoKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHJlcXVlc3RlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1N0b3BQb2xsUmVxTXNnJztcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKFxuICAgIENIQU5ORUwsXG4gICAgRVZFTlRfTkFNRSxcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVxdWVzdGVySWQsXG4gICAgKHsgcmVxdWVzdGVySWQgfSksXG4gICk7XG59XG4iLCJpbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFBvbGwobWVldGluZ0lkLCByZXF1ZXN0ZXJJZCwgcG9sbCkge1xuICBjaGVjayhyZXF1ZXN0ZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2xsLCB7XG4gICAgaWQ6IFN0cmluZyxcbiAgICBhbnN3ZXJzOiBbXG4gICAgICB7XG4gICAgICAgIGlkOiBOdW1iZXIsXG4gICAgICAgIGtleTogU3RyaW5nLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcblxuICBjb25zdCB1c2VyU2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogeyAkbmU6IHJlcXVlc3RlcklkIH0sXG4gICAgY2xpZW50VHlwZTogeyAkbmU6ICdkaWFsLWluLXVzZXInIH0sXG4gIH07XG5cbiAgY29uc3QgdXNlcklkcyA9IFVzZXJzLmZpbmQodXNlclNlbGVjdG9yLCB7IGZpZWxkczogeyB1c2VySWQ6IDEgfSB9KVxuICAgIC5mZXRjaCgpXG4gICAgLm1hcCh1c2VyID0+IHVzZXIudXNlcklkKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVxdWVzdGVyOiByZXF1ZXN0ZXJJZCxcbiAgICBpZDogcG9sbC5pZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IE9iamVjdC5hc3NpZ24oXG4gICAgeyBtZWV0aW5nSWQgfSxcbiAgICB7IHJlcXVlc3RlcjogcmVxdWVzdGVySWQgfSxcbiAgICB7IHVzZXJzOiB1c2VySWRzIH0sXG4gICAgZmxhdChwb2xsLCB7IHNhZmU6IHRydWUgfSksXG4gICk7XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgUG9sbCB0byBjb2xsZWN0aW9uOiAke3BvbGwuaWR9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBudW1DaGFuZ2VkO1xuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIFBvbGwgaWQ9JHtwb2xsLmlkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgUG9sbCBpZD0ke3BvbGwuaWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFBvbGxzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclBvbGxzKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIFBvbGxzLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBQb2xscyAoJHttZWV0aW5nSWR9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIFBvbGxzLnJlbW92ZSh7fSwgKCkgPT4ge1xuICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFBvbGxzIChhbGwpJyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVBvbGwobWVldGluZ0lkLCBpZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGlkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBpZCxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBQb2xsIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBSZW1vdmVkIFBvbGwgaWQ9JHtpZH1gKTtcbiAgfTtcblxuICByZXR1cm4gUG9sbHMucmVtb3ZlKHNlbGVjdG9yLCBjYik7XG59XG4iLCJpbXBvcnQgUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVWb3Rlcyhwb2xsLCBtZWV0aW5nSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2xsLCBPYmplY3QpO1xuXG4gIGNvbnN0IHtcbiAgICBpZCxcbiAgICBhbnN3ZXJzLFxuICAgIG51bVJlc3BvbmRlcnMsXG4gICAgbnVtUmVzcG9uZGVudHMsXG4gIH0gPSBwb2xsO1xuXG4gIGNoZWNrKGlkLCBTdHJpbmcpO1xuICBjaGVjayhhbnN3ZXJzLCBBcnJheSk7XG5cbiAgY2hlY2sobnVtUmVzcG9uZGVycywgTnVtYmVyKTtcbiAgY2hlY2sobnVtUmVzcG9uZGVudHMsIE51bWJlcik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGlkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IGZsYXQocG9sbCwgeyBzYWZlOiB0cnVlIH0pLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIFBvbGxzIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBkYXRpbmcgUG9sbHMgY29sbGVjdGlvbiAobWVldGluZ0lkOiAke21lZXRpbmdJZH0sIHBvbGxJZDogJHtpZH0hKWApO1xuICB9O1xuXG4gIHJldHVybiBQb2xscy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVBvbGxTdGFydGVkIGZyb20gJy4vaGFuZGxlcnMvcG9sbFN0YXJ0ZWQnO1xuaW1wb3J0IGhhbmRsZVBvbGxTdG9wcGVkIGZyb20gJy4vaGFuZGxlcnMvcG9sbFN0b3BwZWQnO1xuaW1wb3J0IGhhbmRsZVBvbGxQdWJsaXNoZWQgZnJvbSAnLi9oYW5kbGVycy9wb2xsUHVibGlzaGVkJztcbmltcG9ydCBoYW5kbGVVc2VyVm90ZWQgZnJvbSAnLi9oYW5kbGVycy91c2VyVm90ZWQnO1xuaW1wb3J0IGhhbmRsZVVzZXJSZXNwb25kZWQgZnJvbSAnLi9oYW5kbGVycy91c2VyUmVzcG9uZGVkJztcblxuUmVkaXNQdWJTdWIub24oJ1BvbGxTaG93UmVzdWx0RXZ0TXNnJywgaGFuZGxlUG9sbFB1Ymxpc2hlZCk7XG5SZWRpc1B1YlN1Yi5vbignUG9sbFN0YXJ0ZWRFdnRNc2cnLCBoYW5kbGVQb2xsU3RhcnRlZCk7XG5SZWRpc1B1YlN1Yi5vbignUG9sbFN0b3BwZWRFdnRNc2cnLCBoYW5kbGVQb2xsU3RvcHBlZCk7XG5SZWRpc1B1YlN1Yi5vbignUG9sbFVwZGF0ZWRFdnRNc2cnLCBoYW5kbGVVc2VyVm90ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJSZXNwb25kZWRUb1BvbGxSZXNwTXNnJywgaGFuZGxlVXNlclJlc3BvbmRlZCk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBwdWJsaXNoVm90ZSBmcm9tICcuL21ldGhvZHMvcHVibGlzaFZvdGUnO1xuaW1wb3J0IHB1Ymxpc2hQb2xsIGZyb20gJy4vbWV0aG9kcy9wdWJsaXNoUG9sbCc7XG5pbXBvcnQgc3RhcnRQb2xsIGZyb20gJy4vbWV0aG9kcy9zdGFydFBvbGwnO1xuaW1wb3J0IHN0b3BQb2xsIGZyb20gJy4vbWV0aG9kcy9zdG9wUG9sbCc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcHVibGlzaFZvdGUsXG4gIHB1Ymxpc2hQb2xsLFxuICBzdGFydFBvbGwsXG4gIHN0b3BQb2xsLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGN1cnJlbnRQb2xsKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFBvbGxzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgcG9sbCBmb3IgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcblxuICByZXR1cm4gUG9sbHMuZmluZChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hDdXJyZW50UG9sbCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUG9sbHMgPSBjdXJyZW50UG9sbC5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRQb2xscyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2N1cnJlbnQtcG9sbCcsIHB1Ymxpc2hDdXJyZW50UG9sbCk7XG5cblxuZnVuY3Rpb24gcG9sbHMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gUG9sbHMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBwb2xscyA9JHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VyczogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIHJldHVybiBQb2xscy5maW5kKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUG9sbHMgPSBwb2xscy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRQb2xscyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3BvbGxzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgUG9sbHMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigncG9sbHMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyBXZSBjYW4gaGF2ZSBqdXN0IG9uZSBhY3RpdmUgcG9sbCBwZXIgbWVldGluZ1xuICAvLyBtYWtlcyBubyBzZW5zZSB0byBpbmRleCBpdCBieSBhbnl0aGluZyBvdGhlciB0aGFuIG1lZXRpbmdJZFxuXG4gIFBvbGxzLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9sbHM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkUHJlc2VudGF0aW9uUG9kIGZyb20gJy4uL21vZGlmaWVycy9hZGRQcmVzZW50YXRpb25Qb2QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVDcmVhdGVOZXdQcmVzZW50YXRpb25Qb2QoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCB7XG4gICAgY3VycmVudFByZXNlbnRlcklkOiBTdHJpbmcsXG4gICAgcG9kSWQ6IFN0cmluZyxcbiAgfSk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCB7IGN1cnJlbnRQcmVzZW50ZXJJZCwgcG9kSWQgfSA9IGJvZHk7XG5cbiAgY29uc3QgcG9kID0ge1xuICAgIGN1cnJlbnRQcmVzZW50ZXJJZCxcbiAgICBwb2RJZCxcbiAgfTtcblxuICBhZGRQcmVzZW50YXRpb25Qb2QobWVldGluZ0lkLCBwb2QpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHJlbW92ZVByZXNlbnRhdGlvblBvZCBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlUHJlc2VudGF0aW9uUG9kJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUmVtb3ZlUHJlc2VudGF0aW9uUG9kKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHsgcG9kSWQgfSA9IGJvZHk7XG5cbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgcmVtb3ZlUHJlc2VudGF0aW9uUG9kKG1lZXRpbmdJZCwgcG9kSWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHNldFByZXNlbnRlckluUG9kIGZyb20gJy4uL21vZGlmaWVycy9zZXRQcmVzZW50ZXJJblBvZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNldFByZXNlbnRlckluUG9kKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7IHBvZElkLCBuZXh0UHJlc2VudGVySWQgfSA9IGJvZHk7XG5cbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKG5leHRQcmVzZW50ZXJJZCwgU3RyaW5nKTtcblxuICBzZXRQcmVzZW50ZXJJblBvZChtZWV0aW5nSWQsIHBvZElkLCBuZXh0UHJlc2VudGVySWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzJztcbmltcG9ydCByZW1vdmVQcmVzZW50YXRpb25Qb2QgZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZVByZXNlbnRhdGlvblBvZCc7XG5pbXBvcnQgYWRkUHJlc2VudGF0aW9uUG9kIGZyb20gJy4uL21vZGlmaWVycy9hZGRQcmVzZW50YXRpb25Qb2QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVTeW5jR2V0UHJlc2VudGF0aW9uUG9kcyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCB7IHBvZHMgfSA9IGJvZHk7XG4gIGNoZWNrKHBvZHMsIEFycmF5KTtcblxuICBjb25zdCBwcmVzZW50YXRpb25Qb2RJZHMgPSBwb2RzLm1hcChwb2QgPT4gcG9kLmlkKTtcblxuICBjb25zdCBwcmVzZW50YXRpb25Qb2RzVG9SZW1vdmUgPSBQcmVzZW50YXRpb25Qb2RzLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZDogeyAkbmluOiBwcmVzZW50YXRpb25Qb2RJZHMgfSxcbiAgfSwgeyBmaWVsZHM6IHsgcG9kSWQ6IDEgfSB9KS5mZXRjaCgpO1xuXG4gIHByZXNlbnRhdGlvblBvZHNUb1JlbW92ZS5mb3JFYWNoKHAgPT4gcmVtb3ZlUHJlc2VudGF0aW9uUG9kKG1lZXRpbmdJZCwgcC5wb2RJZCkpO1xuXG4gIHBvZHMuZm9yRWFjaCgocG9kKSA9PiB7XG4gICAgLy8gJ3BvZElkJyBhbmQgJ2N1cnJlbnRQcmVzZW50ZXJJZCcgZm9yIHNvbWUgcmVhc29uIGNhbGxlZCAnaWQnIGFuZCAnY3VycmVudFByZXNlbnRlcidcbiAgICAvLyBpbiB0aGlzIG1lc3NhZ2VcbiAgICBjb25zdCB7XG4gICAgICBpZDogcG9kSWQsXG4gICAgICBjdXJyZW50UHJlc2VudGVyOiBjdXJyZW50UHJlc2VudGVySWQsXG4gICAgICBwcmVzZW50YXRpb25zLFxuICAgIH0gPSBwb2Q7XG4gICAgYWRkUHJlc2VudGF0aW9uUG9kKG1lZXRpbmdJZCwgeyBwb2RJZCwgY3VycmVudFByZXNlbnRlcklkIH0sIHByZXNlbnRhdGlvbnMpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IE1hdGNoLCBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGFkZFByZXNlbnRhdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFByZXNlbnRhdGlvbic7XG5cbi8vICdwcmVzZW50YXRpb25zJyBpcyBwYXNzZWQgZG93biBoZXJlIHdoZW4gd2UgcmVjZWl2ZSBhIFN5bmMgbWVzc2FnZVxuLy8gYW5kIGl0J3Mgbm90IHVzZWQgd2hlbiB3ZSBqdXN0IGNyZWF0ZSBhIG5ldyBwcmVzZW50YXRpb24gcG9kXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRQcmVzZW50YXRpb25Qb2QobWVldGluZ0lkLCBwb2QsIHByZXNlbnRhdGlvbnMgPSB1bmRlZmluZWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25zLCBNYXRjaC5NYXliZShBcnJheSkpO1xuICBjaGVjayhwb2QsIHtcbiAgICBjdXJyZW50UHJlc2VudGVySWQ6IFN0cmluZyxcbiAgICBwb2RJZDogU3RyaW5nLFxuICB9KTtcblxuICBjb25zdCB7IGN1cnJlbnRQcmVzZW50ZXJJZCwgcG9kSWQgfSA9IHBvZDtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIGN1cnJlbnRQcmVzZW50ZXJJZCxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgcHJlc2VudGF0aW9uIHBvZCB0byB0aGUgY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgLy8gaWYgaXQncyBhIFN5bmMgbWVzc2FnZSAtIGNvbnRpbnVlIGFkZGluZyB0aGUgYXR0YWNoZWQgcHJlc2VudGF0aW9uc1xuICAgIGlmIChwcmVzZW50YXRpb25zKSB7XG4gICAgICBwcmVzZW50YXRpb25zLmZvckVhY2gocHJlc2VudGF0aW9uID0+IGFkZFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24pKTtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBBZGRlZCBwcmVzZW50YXRpb24gcG9kIGlkPSR7cG9kSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBwcmVzZW50YXRpb24gcG9kIGlkPSR7cG9kSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFByZXNlbnRhdGlvblBvZHMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IFByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjbGVhclByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJQcmVzZW50YXRpb25Qb2RzKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIFByZXNlbnRhdGlvblBvZHMucmVtb3ZlKFxuICAgICAgeyBtZWV0aW5nSWQgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgY2xlYXJQcmVzZW50YXRpb25zKG1lZXRpbmdJZCk7XG4gICAgICAgIGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4obWVldGluZ0lkKTtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgUHJlc2VudGF0aW9ucyBQb2RzICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gUHJlc2VudGF0aW9uUG9kcy5yZW1vdmUoe30sICgpID0+IHtcbiAgICBjbGVhclByZXNlbnRhdGlvbnMoKTtcbiAgICBjbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuKCk7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgUHJlc2VudGF0aW9ucyBQb2RzIChhbGwpJyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjbGVhclByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlUHJlc2VudGF0aW9uUG9kKG1lZXRpbmdJZCwgcG9kSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBwcmVzZW50YXRpb24gcG9kIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHBvZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgUmVtb3ZlZCBwcmVzZW50YXRpb24gcG9kIGlkPSR7cG9kSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgICBjbGVhclByZXNlbnRhdGlvbnMobWVldGluZ0lkLCBwb2RJZCk7XG4gICAgICBjbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuKG1lZXRpbmdJZCwgcG9kSWQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uUG9kcy5yZW1vdmUoc2VsZWN0b3IsIGNiKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByZXNlbnRlckluUG9kKG1lZXRpbmdJZCwgcG9kSWQsIG5leHRQcmVzZW50ZXJJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhuZXh0UHJlc2VudGVySWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGN1cnJlbnRQcmVzZW50ZXJJZDogbmV4dFByZXNlbnRlcklkLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBTZXR0aW5nIGEgcHJlc2VudGVyIGluIHBvZDogJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBTZXQgYSBuZXcgcHJlc2VudGVyIGluIHBvZCBpZD0ke3BvZElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uUG9kcy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZUNyZWF0ZU5ld1ByZXNlbnRhdGlvblBvZCBmcm9tICcuL2hhbmRsZXJzL2NyZWF0ZU5ld1ByZXNlbnRhdGlvblBvZCc7XG5pbXBvcnQgaGFuZGxlUmVtb3ZlUHJlc2VudGF0aW9uUG9kIGZyb20gJy4vaGFuZGxlcnMvcmVtb3ZlUHJlc2VudGF0aW9uUG9kJztcbmltcG9ydCBoYW5kbGVTeW5jR2V0UHJlc2VudGF0aW9uUG9kcyBmcm9tICcuL2hhbmRsZXJzL3N5bmNHZXRQcmVzZW50YXRpb25Qb2RzJztcbmltcG9ydCBoYW5kbGVTZXRQcmVzZW50ZXJJblBvZCBmcm9tICcuL2hhbmRsZXJzL3NldFByZXNlbnRlckluUG9kJztcblxuUmVkaXNQdWJTdWIub24oJ0NyZWF0ZU5ld1ByZXNlbnRhdGlvblBvZEV2dE1zZycsIGhhbmRsZUNyZWF0ZU5ld1ByZXNlbnRhdGlvblBvZCk7XG5SZWRpc1B1YlN1Yi5vbignUmVtb3ZlUHJlc2VudGF0aW9uUG9kRXZ0TXNnJywgaGFuZGxlUmVtb3ZlUHJlc2VudGF0aW9uUG9kKTtcblJlZGlzUHViU3ViLm9uKCdTZXRQcmVzZW50ZXJJblBvZFJlc3BNc2cnLCBoYW5kbGVTZXRQcmVzZW50ZXJJblBvZCk7XG5SZWRpc1B1YlN1Yi5vbignU3luY0dldFByZXNlbnRhdGlvblBvZHNSZXNwTXNnJywgaGFuZGxlU3luY0dldFByZXNlbnRhdGlvblBvZHMpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHByZXNlbnRhdGlvblBvZHMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9uUG9kcy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgcHJlc2VudGF0aW9uLXBvZHMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uUG9kcy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRQcmVzZW50YXRpb25Qb2RzID0gcHJlc2VudGF0aW9uUG9kcy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRQcmVzZW50YXRpb25Qb2RzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgncHJlc2VudGF0aW9uLXBvZHMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBQcmVzZW50YXRpb25Qb2RzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ByZXNlbnRhdGlvbi1wb2RzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHByZXNlbnRhdGlvbiBwb2RzOlxuICAvLyAxLiBtZWV0aW5nSWQsIHBvZElkICAoIDQgKVxuXG4gIFByZXNlbnRhdGlvblBvZHMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCBwb2RJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJlc2VudGF0aW9uUG9kcztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRhdGlvblVwbG9hZFRva2VuRmFpbCh7IGJvZHksIGhlYWRlciB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7IHVzZXJJZCB9ID0gaGVhZGVyO1xuICBjb25zdCB7IHBvZElkLCBmaWxlbmFtZSB9ID0gYm9keTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhmaWxlbmFtZSwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICAgIHBvZElkLFxuICAgIGZpbGVuYW1lLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgcHJlc2VudGF0aW9uVG9rZW4gZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBMb2dnZXIuaW5mbyhgUmVtb3ZpbmcgcHJlc2VudGF0aW9uVG9rZW4gZmlsZW5hbWU9JHtmaWxlbmFtZX0gcG9kSWQ9JHtwb2RJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4udXBzZXJ0KHNlbGVjdG9yLCB7IGZhaWxlZDogdHJ1ZSwgYXV0aHpUb2tlbjogbnVsbCB9LCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25VcGxvYWRUb2tlblBhc3MoeyBib2R5LCBoZWFkZXIgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyB1c2VySWQgfSA9IGhlYWRlcjtcbiAgY29uc3QgeyBwb2RJZCwgYXV0aHpUb2tlbiwgZmlsZW5hbWUgfSA9IGJvZHk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soYXV0aHpUb2tlbiwgU3RyaW5nKTtcbiAgY2hlY2soZmlsZW5hbWUsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHVzZXJJZCxcbiAgICBmaWxlbmFtZSxcbiAgfTtcblxuICBjb25zdCBkb2MgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHVzZXJJZCxcbiAgICBmaWxlbmFtZSxcbiAgICBhdXRoelRva2VuLFxuICAgIGZhaWxlZDogZmFsc2UsXG4gICAgdXNlZDogZmFsc2UsXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBJbnNlcnRpbmcgcHJlc2VudGF0aW9uVG9rZW4gZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBMb2dnZXIuaW5mbyhgSW5zZXJ0aW5nIHByZXNlbnRhdGlvblRva2VuIGZpbGVuYW1lPSR7ZmlsZW5hbWV9IHBvZElkPSR7cG9kSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFByZXNlbnRhdGlvblVwbG9hZFRva2VuLnVwc2VydChzZWxlY3RvciwgZG9jLCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVlc3RQcmVzZW50YXRpb25VcGxvYWRUb2tlbihwb2RJZCwgZmlsZW5hbWUpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdQcmVzZW50YXRpb25VcGxvYWRUb2tlblJlcU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKGZpbGVuYW1lLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcG9kSWQsXG4gICAgZmlsZW5hbWUsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFVzZWRUb2tlbihhdXRoelRva2VuKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAkc2V0OiB7XG4gICAgICB1c2VkOiB0cnVlLFxuICAgIH0sXG4gIH07XG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgVW5hYmxlIHRvIHNldCB0b2tlbiBhcyB1c2VkIDogJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgTG9nZ2VyLmluZm8oYFRva2VuOiAke2F1dGh6VG9rZW59IGhhcyBiZWVuIHNldCBhcyB1c2VkIGluIG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFByZXNlbnRhdGlvblVwbG9hZFRva2VuLnVwZGF0ZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIGF1dGh6VG9rZW4sXG4gIH0sIHBheWxvYWQsIGNiKTtcbn1cbiIsImltcG9ydCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4obWVldGluZ0lkLCBwb2RJZCkge1xuICBpZiAobWVldGluZ0lkICYmIHBvZElkKSB7XG4gICAgcmV0dXJuIFByZXNlbnRhdGlvblVwbG9hZFRva2VuLnJlbW92ZSh7IG1lZXRpbmdJZCwgcG9kSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgUHJlc2VudGF0aW9ucyBVcGxvYWQgVG9rZW4gKCR7bWVldGluZ0lkfSwgJHtwb2RJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIFByZXNlbnRhdGlvblVwbG9hZFRva2VuLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBQcmVzZW50YXRpb25zIFVwbG9hZCBUb2tlbiAoJHttZWV0aW5nSWR9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gY2xlYXJpbmcgcHJlc2VudGF0aW9ucyBmb3IgdGhlIHdob2xlIHNlcnZlclxuICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4ucmVtb3ZlKHt9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgUHJlc2VudGF0aW9ucyBVcGxvYWQgVG9rZW4gKGFsbCknKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5QYXNzIGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uVXBsb2FkVG9rZW5QYXNzJztcbmltcG9ydCBoYW5kbGVQcmVzZW50YXRpb25VcGxvYWRUb2tlbkZhaWwgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50YXRpb25VcGxvYWRUb2tlbkZhaWwnO1xuXG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5QYXNzUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5QYXNzKSk7XG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5GYWlsUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5GYWlsKSk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCByZXF1ZXN0UHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnLi9tZXRob2RzL3JlcXVlc3RQcmVzZW50YXRpb25VcGxvYWRUb2tlbic7XG5pbXBvcnQgc2V0VXNlZFRva2VuIGZyb20gJy4vbWV0aG9kcy9zZXRVc2VkVG9rZW4nO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHJlcXVlc3RQcmVzZW50YXRpb25VcGxvYWRUb2tlbixcbiAgc2V0VXNlZFRva2VuLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gcHJlc2VudGF0aW9uVXBsb2FkVG9rZW4ocG9kSWQsIGZpbGVuYW1lKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4uZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKGZpbGVuYW1lLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBmaWxlbmFtZSxcbiAgfTtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4uZmluZChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFByZXNlbnRhdGlvblVwbG9hZFRva2VuID0gcHJlc2VudGF0aW9uVXBsb2FkVG9rZW4uYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4oLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdwcmVzZW50YXRpb24tdXBsb2FkLXRva2VuJywgcHVibGlzaCk7XG4iLCJjb25zdCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdwcmVzZW50YXRpb24tdXBsb2FkLXRva2VuJyk7XG5cbmV4cG9ydCBkZWZhdWx0IFByZXNlbnRhdGlvblVwbG9hZFRva2VuO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZFByZXNlbnRhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvYWRkUHJlc2VudGF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUHJlc2VudGF0aW9uQWRkZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgcHJlc2VudGF0aW9uLCBwb2RJZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb24sIE9iamVjdCk7XG5cbiAgcmV0dXJuIGFkZFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuXG4vLyBjb25zdCBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fU1VDQ0VTU19LRVkgPSAnT0ZGSUNFX0RPQ19DT05WRVJTSU9OX1NVQ0NFU1MnO1xuY29uc3QgT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0ZBSUxFRF9LRVkgPSAnT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0ZBSUxFRCc7XG5jb25zdCBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fSU5WQUxJRF9LRVkgPSAnT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0lOVkFMSUQnO1xuY29uc3QgU1VQUE9SVEVEX0RPQ1VNRU5UX0tFWSA9ICdTVVBQT1JURURfRE9DVU1FTlQnO1xuY29uc3QgVU5TVVBQT1JURURfRE9DVU1FTlRfS0VZID0gJ1VOU1VQUE9SVEVEX0RPQ1VNRU5UJztcbmNvbnN0IFBBR0VfQ09VTlRfRkFJTEVEX0tFWSA9ICdQQUdFX0NPVU5UX0ZBSUxFRCc7XG5jb25zdCBQQUdFX0NPVU5UX0VYQ0VFREVEX0tFWSA9ICdQQUdFX0NPVU5UX0VYQ0VFREVEJztcbmNvbnN0IFBERl9IQVNfQklHX1BBR0VfS0VZID0gJ1BERl9IQVNfQklHX1BBR0UnO1xuY29uc3QgR0VORVJBVEVEX1NMSURFX0tFWSA9ICdHRU5FUkFURURfU0xJREUnO1xuLy8gY29uc3QgR0VORVJBVElOR19USFVNQk5BSUxfS0VZID0gJ0dFTkVSQVRJTkdfVEhVTUJOQUlMJztcbi8vIGNvbnN0IEdFTkVSQVRFRF9USFVNQk5BSUxfS0VZID0gJ0dFTkVSQVRFRF9USFVNQk5BSUwnO1xuLy8gY29uc3QgR0VORVJBVElOR19URVhURklMRVNfS0VZID0gJ0dFTkVSQVRJTkdfVEVYVEZJTEVTJztcbi8vIGNvbnN0IEdFTkVSQVRFRF9URVhURklMRVNfS0VZID0gJ0dFTkVSQVRFRF9URVhURklMRVMnO1xuLy8gY29uc3QgR0VORVJBVElOR19TVkdJTUFHRVNfS0VZID0gJ0dFTkVSQVRJTkdfU1ZHSU1BR0VTJztcbi8vIGNvbnN0IEdFTkVSQVRFRF9TVkdJTUFHRVNfS0VZID0gJ0dFTkVSQVRFRF9TVkdJTUFHRVMnO1xuLy8gY29uc3QgQ09OVkVSU0lPTl9DT01QTEVURURfS0VZID0gJ0NPTlZFUlNJT05fQ09NUExFVEVEJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3Qge1xuICAgIHByZXNlbnRhdGlvbklkLCBwb2RJZCwgbWVzc2FnZUtleTogc3RhdHVzLCBwcmVzTmFtZTogcHJlc2VudGF0aW9uTmFtZSxcbiAgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0YXR1cywgU3RyaW5nKTtcblxuICBjb25zdCBzdGF0dXNNb2RpZmllciA9IHtcbiAgICAnY29udmVyc2lvbi5zdGF0dXMnOiBzdGF0dXMsXG4gICAgJ2NvbnZlcnNpb24uZXJyb3InOiBmYWxzZSxcbiAgICAnY29udmVyc2lvbi5kb25lJzogZmFsc2UsXG4gIH07XG5cbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlIFNVUFBPUlRFRF9ET0NVTUVOVF9LRVk6XG4gICAgICBzdGF0dXNNb2RpZmllci5pZCA9IHByZXNlbnRhdGlvbklkO1xuICAgICAgc3RhdHVzTW9kaWZpZXIubmFtZSA9IHByZXNlbnRhdGlvbk5hbWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgVU5TVVBQT1JURURfRE9DVU1FTlRfS0VZOlxuICAgIGNhc2UgT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0ZBSUxFRF9LRVk6XG4gICAgY2FzZSBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fSU5WQUxJRF9LRVk6XG4gICAgY2FzZSBQQUdFX0NPVU5UX0ZBSUxFRF9LRVk6XG4gICAgY2FzZSBQQUdFX0NPVU5UX0VYQ0VFREVEX0tFWTpcbiAgICBjYXNlIFBERl9IQVNfQklHX1BBR0VfS0VZOlxuICAgICAgc3RhdHVzTW9kaWZpZXIuaWQgPSBwcmVzZW50YXRpb25JZDtcbiAgICAgIHN0YXR1c01vZGlmaWVyLm5hbWUgPSBwcmVzZW50YXRpb25OYW1lO1xuICAgICAgc3RhdHVzTW9kaWZpZXJbJ2NvbnZlcnNpb24uZXJyb3InXSA9IHRydWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgR0VORVJBVEVEX1NMSURFX0tFWTpcbiAgICAgIHN0YXR1c01vZGlmaWVyWydjb252ZXJzaW9uLnBhZ2VzQ29tcGxldGVkJ10gPSBib2R5LnBhZ2VzQ29tcGxldGVkO1xuICAgICAgc3RhdHVzTW9kaWZpZXJbJ2NvbnZlcnNpb24ubnVtUGFnZXMnXSA9IGJvZHkubnVtYmVyT2ZQYWdlcztcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIGlkOiBwcmVzZW50YXRpb25JZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKHsgbWVldGluZ0lkLCBwb2RJZCB9LCBzdGF0dXNNb2RpZmllciksXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgY29udmVyc2lvbiBzdGF0dXMgcHJlc2VudGF0aW9uIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gbnVtQ2hhbmdlZDtcbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcGRhdGVkIHByZXNlbnRhdGlvbiBjb252ZXJzaW9uIHN0YXR1cz0ke3N0YXR1c30gaWQ9JHtwcmVzZW50YXRpb25JZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmRlYnVnKGBVcHNlcnRlZCBwcmVzZW50YXRpb24gY29udmVyc2lvbiBzdGF0dXM9JHtzdGF0dXN9IGlkPSR7cHJlc2VudGF0aW9uSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFByZXNlbnRhdGlvbnMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHNldEN1cnJlbnRQcmVzZW50YXRpb24gZnJvbSAnLi4vbW9kaWZpZXJzL3NldEN1cnJlbnRQcmVzZW50YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25DdXJyZW50U2V0KHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7IHByZXNlbnRhdGlvbklkLCBwb2RJZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gc2V0Q3VycmVudFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlIGZyb20gJy4uL21vZGlmaWVycy9zZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25Eb3dubG9hZGFibGVTZXQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgcHJlc2VudGF0aW9uSWQsIHBvZElkLCBkb3dubG9hZGFibGUgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKGRvd25sb2FkYWJsZSwgQm9vbGVhbik7XG5cbiAgcmV0dXJuIHNldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgZG93bmxvYWRhYmxlKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuaW1wb3J0IHJlbW92ZVByZXNlbnRhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlUHJlc2VudGF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUHJlc2VudGF0aW9uUmVtb3ZlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwb2RJZCwgcHJlc2VudGF0aW9uSWQgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIHJlbW92ZVByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVByZXNlbnRhdGlvbihwcmVzZW50YXRpb25JZCwgcG9kSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdSZW1vdmVQcmVzZW50YXRpb25QdWJNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcHJlc2VudGF0aW9uSWQsXG4gICAgcG9kSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByZXNlbnRhdGlvbihwcmVzZW50YXRpb25JZCwgcG9kSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZXRDdXJyZW50UHJlc2VudGF0aW9uUHViTXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBwb2RJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlKHByZXNlbnRhdGlvbklkLCBkb3dubG9hZGFibGUpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGVQdWJNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2soZG93bmxvYWRhYmxlLCBCb29sZWFuKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBwb2RJZDogJ0RFRkFVTFRfUFJFU0VOVEFUSU9OX1BPRCcsXG4gICAgZG93bmxvYWRhYmxlLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgSFRUUCB9IGZyb20gJ21ldGVvci9odHRwJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IGFkZFNsaWRlIGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9hZGRTbGlkZSc7XG5pbXBvcnQgc2V0Q3VycmVudFByZXNlbnRhdGlvbiBmcm9tICcuL3NldEN1cnJlbnRQcmVzZW50YXRpb24nO1xuXG5jb25zdCBnZXRTbGlkZVRleHQgPSBhc3luYyAodXJsKSA9PiB7XG4gIGxldCBjb250ZW50ID0gJyc7XG4gIHRyeSB7XG4gICAgY29udGVudCA9IGF3YWl0IEhUVFAuZ2V0KHVybCkuY29udGVudDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBMb2dnZXIuZXJyb3IoYE5vIGZpbGUgZm91bmQuICR7ZXJyb3J9YCk7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59O1xuXG5jb25zdCBhZGRTbGlkZXMgPSAobWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQsIHNsaWRlcykgPT4ge1xuICBzbGlkZXMuZm9yRWFjaChhc3luYyAoc2xpZGUpID0+IHtcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgZ2V0U2xpZGVUZXh0KHNsaWRlLnR4dFVyaSk7XG5cbiAgICBPYmplY3QuYXNzaWduKHNsaWRlLCB7IGNvbnRlbnQgfSk7XG5cbiAgICBhZGRTbGlkZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgc2xpZGUpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uLCB7XG4gICAgaWQ6IFN0cmluZyxcbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgY3VycmVudDogQm9vbGVhbixcbiAgICBwYWdlczogW1xuICAgICAge1xuICAgICAgICBpZDogU3RyaW5nLFxuICAgICAgICBudW06IE51bWJlcixcbiAgICAgICAgdGh1bWJVcmk6IFN0cmluZyxcbiAgICAgICAgc3dmVXJpOiBTdHJpbmcsXG4gICAgICAgIHR4dFVyaTogU3RyaW5nLFxuICAgICAgICBzdmdVcmk6IFN0cmluZyxcbiAgICAgICAgY3VycmVudDogQm9vbGVhbixcbiAgICAgICAgeE9mZnNldDogTnVtYmVyLFxuICAgICAgICB5T2Zmc2V0OiBOdW1iZXIsXG4gICAgICAgIHdpZHRoUmF0aW86IE51bWJlcixcbiAgICAgICAgaGVpZ2h0UmF0aW86IE51bWJlcixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBkb3dubG9hZGFibGU6IEJvb2xlYW4sXG4gIH0pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBpZDogcHJlc2VudGF0aW9uLmlkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcG9kSWQsXG4gICAgICAnY29udmVyc2lvbi5kb25lJzogdHJ1ZSxcbiAgICAgICdjb252ZXJzaW9uLmVycm9yJzogZmFsc2UsXG4gICAgfSwgZmxhdChwcmVzZW50YXRpb24sIHsgc2FmZTogdHJ1ZSB9KSksXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIHByZXNlbnRhdGlvbiB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBhZGRTbGlkZXMobWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uLmlkLCBwcmVzZW50YXRpb24ucGFnZXMpO1xuXG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBudW1DaGFuZ2VkO1xuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBpZiAocHJlc2VudGF0aW9uLmN1cnJlbnQpIHtcbiAgICAgICAgc2V0Q3VycmVudFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24uaWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIHByZXNlbnRhdGlvbiBpZD0ke3ByZXNlbnRhdGlvbi5pZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwc2VydGVkIHByZXNlbnRhdGlvbiBpZD0ke3ByZXNlbnRhdGlvbi5pZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9ucy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyUHJlc2VudGF0aW9ucyhtZWV0aW5nSWQsIHBvZElkKSB7XG4gIC8vIGNsZWFyaW5nIHByZXNlbnRhdGlvbnMgZm9yIDEgcG9kXG4gIGlmIChtZWV0aW5nSWQgJiYgcG9kSWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9ucy5yZW1vdmUoeyBtZWV0aW5nSWQsIHBvZElkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFByZXNlbnRhdGlvbnMgKCR7bWVldGluZ0lkfSwgJHtwb2RJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBjbGVhcmluZyBwcmVzZW50YXRpb25zIGZvciB0aGUgd2hvbGUgbWVldGluZ1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIFByZXNlbnRhdGlvbnMucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFByZXNlbnRhdGlvbnMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGNsZWFyaW5nIHByZXNlbnRhdGlvbnMgZm9yIHRoZSB3aG9sZSBzZXJ2ZXJcbiAgcmV0dXJuIFByZXNlbnRhdGlvbnMucmVtb3ZlKHt9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgUHJlc2VudGF0aW9ucyAoYWxsKScpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuaW1wb3J0IGNsZWFyU2xpZGVzUHJlc2VudGF0aW9uIGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9jbGVhclNsaWRlc1ByZXNlbnRhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgaWQ6IHByZXNlbnRhdGlvbklkLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgcHJlc2VudGF0aW9uIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIGNsZWFyU2xpZGVzUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcHJlc2VudGF0aW9uSWQpO1xuICAgICAgTG9nZ2VyLmluZm8oYFJlbW92ZWQgcHJlc2VudGF0aW9uIGlkPSR7cHJlc2VudGF0aW9uSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBQcmVzZW50YXRpb25zLnJlbW92ZShzZWxlY3RvciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRDdXJyZW50UHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IG9sZEN1cnJlbnQgPSB7XG4gICAgc2VsZWN0b3I6IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHBvZElkLFxuICAgICAgY3VycmVudDogdHJ1ZSxcbiAgICB9LFxuICAgIG1vZGlmaWVyOiB7XG4gICAgICAkc2V0OiB7IGN1cnJlbnQ6IGZhbHNlIH0sXG4gICAgfSxcbiAgICBjYWxsYmFjazogKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVbnNldHRpbmcgdGhlIGN1cnJlbnQgcHJlc2VudGF0aW9uOiAke2Vycn1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKCdVbnNldHRlZCBhcyBjdXJyZW50IHByZXNlbnRhdGlvbicpO1xuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgbmV3Q3VycmVudCA9IHtcbiAgICBzZWxlY3Rvcjoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcG9kSWQsXG4gICAgICBpZDogcHJlc2VudGF0aW9uSWQsXG4gICAgfSxcbiAgICBtb2RpZmllcjoge1xuICAgICAgJHNldDogeyBjdXJyZW50OiB0cnVlIH0sXG4gICAgfSxcbiAgICBjYWxsYmFjazogKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBTZXR0aW5nIGFzIGN1cnJlbnQgcHJlc2VudGF0aW9uIGlkPSR7cHJlc2VudGF0aW9uSWR9OiAke2Vycn1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBTZXR0ZWQgYXMgY3VycmVudCBwcmVzZW50YXRpb24gaWQ9JHtwcmVzZW50YXRpb25JZH1gKTtcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG9sZFByZXNlbnRhdGlvbiA9IFByZXNlbnRhdGlvbnMuZmluZE9uZShvbGRDdXJyZW50LnNlbGVjdG9yKTtcbiAgY29uc3QgbmV3UHJlc2VudGF0aW9uID0gUHJlc2VudGF0aW9ucy5maW5kT25lKG5ld0N1cnJlbnQuc2VsZWN0b3IpO1xuXG4gIC8vIFByZXZlbnQgYnVnIHdpdGggcHJlc2VudGF0aW9uIGJlaW5nIHVuc2V0LCBzYW1lIGhhcHBlbnMgaW4gdGhlIHNsaWRlXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JpZ2JsdWVidXR0b24vYmlnYmx1ZWJ1dHRvbi9wdWxsLzQ0MzFcbiAgaWYgKG9sZFByZXNlbnRhdGlvbiAmJiBuZXdQcmVzZW50YXRpb24gJiYgKG9sZFByZXNlbnRhdGlvbi5faWQgPT09IG5ld1ByZXNlbnRhdGlvbi5faWQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG5ld1ByZXNlbnRhdGlvbikge1xuICAgIFByZXNlbnRhdGlvbnMudXBkYXRlKG5ld1ByZXNlbnRhdGlvbi5faWQsIG5ld0N1cnJlbnQubW9kaWZpZXIsIG5ld0N1cnJlbnQuY2FsbGJhY2spO1xuICB9XG5cbiAgaWYgKG9sZFByZXNlbnRhdGlvbikge1xuICAgIFByZXNlbnRhdGlvbnMudXBkYXRlKG9sZFByZXNlbnRhdGlvbi5faWQsIG9sZEN1cnJlbnQubW9kaWZpZXIsIG9sZEN1cnJlbnQuY2FsbGJhY2spO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZShtZWV0aW5nSWQsIHBvZElkLFxuICBwcmVzZW50YXRpb25JZCwgZG93bmxvYWRhYmxlKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhkb3dubG9hZGFibGUsIEJvb2xlYW4pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBpZDogcHJlc2VudGF0aW9uSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgZG93bmxvYWRhYmxlLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBDb3VsZCBub3Qgc2V0IGRvd25sb2FkYWJsZSBvbiBwcmVzIHske3ByZXNlbnRhdGlvbklkfSBpbiBtZWV0aW5nIHske21lZXRpbmdJZH19ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgU2V0IGRvd25sb2FkYWJsZSBzdGF0dXMgb24gcHJlc2VudGF0aW9uIHske3ByZXNlbnRhdGlvbklkfSBpbiBtZWV0aW5nIHske21lZXRpbmdJZH19YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBQcmVzZW50YXRpb25zLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uQWRkZWQgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50YXRpb25BZGRlZCc7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uUmVtb3ZlIGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uUmVtb3ZlJztcbmltcG9ydCBoYW5kbGVQcmVzZW50YXRpb25DdXJyZW50U2V0IGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uQ3VycmVudFNldCc7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUnO1xuaW1wb3J0IGhhbmRsZVByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVNldCBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVNldCc7XG5cblJlZGlzUHViU3ViLm9uKCdQZGZDb252ZXJzaW9uSW52YWxpZEVycm9yRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSk7XG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uUGFnZUdlbmVyYXRlZEV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUpO1xuUmVkaXNQdWJTdWIub24oJ1ByZXNlbnRhdGlvblBhZ2VDb3VudEVycm9yRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSk7XG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZUV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUpO1xuUmVkaXNQdWJTdWIub24oJ1ByZXNlbnRhdGlvbkNvbnZlcnNpb25Db21wbGV0ZWRFdnRNc2cnLCBoYW5kbGVQcmVzZW50YXRpb25BZGRlZCk7XG5SZWRpc1B1YlN1Yi5vbignUmVtb3ZlUHJlc2VudGF0aW9uRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uUmVtb3ZlKTtcblJlZGlzUHViU3ViLm9uKCdTZXRDdXJyZW50UHJlc2VudGF0aW9uRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uQ3VycmVudFNldCk7XG5SZWRpc1B1YlN1Yi5vbignU2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uRG93bmxvYWRhYmxlU2V0KTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHJlbW92ZVByZXNlbnRhdGlvbiBmcm9tICcuL21ldGhvZHMvcmVtb3ZlUHJlc2VudGF0aW9uJztcbmltcG9ydCBzZXRQcmVzZW50YXRpb24gZnJvbSAnLi9tZXRob2RzL3NldFByZXNlbnRhdGlvbic7XG5pbXBvcnQgc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlIGZyb20gJy4vbWV0aG9kcy9zZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHJlbW92ZVByZXNlbnRhdGlvbixcbiAgc2V0UHJlc2VudGF0aW9uLFxuICBzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHByZXNlbnRhdGlvbnMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9ucy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBQcmVzZW50YXRpb25zIGZvciAke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgcmV0dXJuIFByZXNlbnRhdGlvbnMuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUHJlc2VudGF0aW9ucyA9IHByZXNlbnRhdGlvbnMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kUHJlc2VudGF0aW9ucyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3ByZXNlbnRhdGlvbnMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBQcmVzZW50YXRpb25zID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ByZXNlbnRhdGlvbnMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgcHJlc2VudGF0aW9uczpcbiAgLy8gMS4gbWVldGluZ0lkLCBwb2RJZCwgaWQgICAgICAgICggMyApXG4gIC8vIDIuIG1lZXRpbmdJZCwgaWQgICAgICAgICAgICAgICAoIDEgKVxuICAvLyAzLiBtZWV0aW5nSWQsIGlkLCBjdXJyZW50ICAgICAgKCAyIClcbiAgLy8gNC4gbWVldGluZ0lkICAgICAgICAgICAgICAgICAgICggMSApXG5cbiAgUHJlc2VudGF0aW9ucy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHBvZElkOiAxLCBpZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJlc2VudGF0aW9ucztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgYWRkU2NyZWVuc2hhcmUgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFNjcmVlbnNoYXJlJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvIGZyb20gJy9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNjcmVlbnNoYXJlU3RhcnRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCBtZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9KTtcbiAgY29uc3QgcHJlc2VudGVyID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgcHJlc2VudGVyOiB0cnVlIH0pO1xuICBjb25zdCBwcmVzZW50ZXJJZCA9IHByZXNlbnRlciAmJiBwcmVzZW50ZXIudXNlcklkID8gcHJlc2VudGVyLnVzZXJJZCA6ICdzeXN0ZW0tc2NyZWVuc2hhcmUtc3RhcnRpbmcnO1xuICBpZiAobWVldGluZyAmJiBtZWV0aW5nLmV4dGVybmFsVmlkZW9VcmwpIHtcbiAgICBMb2dnZXIuaW5mbyhgU2NyZWVuc2hhcmVTdGFydGVkOiBUaGVyZSBpcyBleHRlcm5hbCB2aWRlbyBiZWluZyBzaGFyZWQuIFN0b3BwaW5nIGl0IGR1ZSB0byBwcmVzZW50ZXIgY2hhbmdlLCAke21lZXRpbmcuZXh0ZXJuYWxWaWRlb1VybH1gKTtcbiAgICBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvKHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHByZXNlbnRlcklkIH0pO1xuICB9XG4gIHJldHVybiBhZGRTY3JlZW5zaGFyZShtZWV0aW5nSWQsIGJvZHkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGNsZWFyU2NyZWVuc2hhcmUgZnJvbSAnLi4vbW9kaWZpZXJzL2NsZWFyU2NyZWVuc2hhcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVTY3JlZW5zaGFyZVN0b3BwZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHNjcmVlbnNoYXJlQ29uZiB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHNjcmVlbnNoYXJlQ29uZiwgU3RyaW5nKTtcblxuICByZXR1cm4gY2xlYXJTY3JlZW5zaGFyZShtZWV0aW5nSWQsIHNjcmVlbnNoYXJlQ29uZik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBTY3JlZW5zaGFyZSBmcm9tICcvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRTY3JlZW5zaGFyZShtZWV0aW5nSWQsIGJvZHkpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBzY3JlZW5zaGFyZTogZmxhdChib2R5KSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyBzY3JlZW5zaGFyZSB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwc2VydGVkIHNjcmVlbnNoYXJlIGlkPSR7Ym9keS5zY3JlZW5zaGFyZUNvbmZ9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFNjcmVlbnNoYXJlLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBTY3JlZW5zaGFyZSBmcm9tICcvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclNjcmVlbnNoYXJlKG1lZXRpbmdJZCwgc2NyZWVuc2hhcmVDb25mKSB7XG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYHJlbW92aW5nIHNjcmVlbnNoYXJlIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgcmVtb3ZlZCBzY3JlZW5zaGFyZSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9IGlkPSR7c2NyZWVuc2hhcmVDb25mfWApO1xuICB9O1xuXG4gIGlmIChtZWV0aW5nSWQgJiYgc2NyZWVuc2hhcmVDb25mKSB7XG4gICAgcmV0dXJuIFNjcmVlbnNoYXJlLnJlbW92ZSh7IG1lZXRpbmdJZCwgJ3NjcmVlbnNoYXJlLnNjcmVlbnNoYXJlQ29uZic6IHNjcmVlbnNoYXJlQ29uZiB9LCBjYik7XG4gIH1cbiAgcmV0dXJuIFNjcmVlbnNoYXJlLnJlbW92ZSh7fSwgY2IpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVTY3JlZW5zaGFyZVN0YXJ0ZWQgZnJvbSAnLi9oYW5kbGVycy9zY3JlZW5zaGFyZVN0YXJ0ZWQnO1xuaW1wb3J0IGhhbmRsZVNjcmVlbnNoYXJlU3RvcHBlZCBmcm9tICcuL2hhbmRsZXJzL3NjcmVlbnNoYXJlU3RvcHBlZCc7XG5cblJlZGlzUHViU3ViLm9uKCdTY3JlZW5zaGFyZVJ0bXBCcm9hZGNhc3RTdGFydGVkRXZ0TXNnJywgaGFuZGxlU2NyZWVuc2hhcmVTdGFydGVkKTtcblJlZGlzUHViU3ViLm9uKCdTY3JlZW5zaGFyZVJ0bXBCcm9hZGNhc3RTdG9wcGVkRXZ0TXNnJywgaGFuZGxlU2NyZWVuc2hhcmVTdG9wcGVkKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5NZXRlb3IubWV0aG9kcyh7XG59KTtcbiIsImltcG9ydCBTY3JlZW5zaGFyZSBmcm9tICcvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gc2NyZWVuc2hhcmUoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gU2NyZWVuc2hhcmUuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgU2NyZWVuc2hhcmUgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gU2NyZWVuc2hhcmUuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kU2NyZWVuc2hhcmUgPSBzY3JlZW5zaGFyZS5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRTY3JlZW5zaGFyZSguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3NjcmVlbnNoYXJlJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgU2NyZWVuc2hhcmUgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignc2NyZWVuc2hhcmUnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgc2NyZWVuc2hhcmU6XG4gIC8vIDEuIG1lZXRpbmdJZFxuXG4gIFNjcmVlbnNoYXJlLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2NyZWVuc2hhcmU7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgY2hhbmdlQ3VycmVudFNsaWRlIGZyb20gJy4uL21vZGlmaWVycy9jaGFuZ2VDdXJyZW50U2xpZGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVTbGlkZUNoYW5nZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcGFnZUlkLCBwcmVzZW50YXRpb25JZCwgcG9kSWQgfSA9IGJvZHk7XG5cbiAgY2hlY2socGFnZUlkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGNoYW5nZUN1cnJlbnRTbGlkZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgcGFnZUlkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCByZXNpemVTbGlkZSBmcm9tICcuLi9tb2RpZmllcnMvcmVzaXplU2xpZGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVTbGlkZVJlc2l6ZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICByZXR1cm4gcmVzaXplU2xpZGUobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCBQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zJztcbmltcG9ydCB7IFNsaWRlcyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN3aXRjaFNsaWRlKHNsaWRlTnVtYmVyLCBwb2RJZCkgeyAvLyBUT0RPLS0gc2VuZCBwcmVzZW50YXRpb25JZCBhbmQgU2xpZGVJZFxuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcblxuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2V0Q3VycmVudFBhZ2VQdWJNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhzbGlkZU51bWJlciwgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgY3VycmVudDogdHJ1ZSxcbiAgfTtcblxuICBjb25zdCBQcmVzZW50YXRpb24gPSBQcmVzZW50YXRpb25zLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGlmICghUHJlc2VudGF0aW9uKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigncHJlc2VudGF0aW9uLW5vdC1mb3VuZCcsICdZb3UgbmVlZCBhIHByZXNlbnRhdGlvbiB0byBiZSBhYmxlIHRvIHN3aXRjaCBzbGlkZXMnKTtcbiAgfVxuXG4gIGNvbnN0IFNsaWRlID0gU2xpZGVzLmZpbmRPbmUoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZDogUHJlc2VudGF0aW9uLmlkLFxuICAgIG51bTogc2xpZGVOdW1iZXIsXG4gIH0pO1xuXG4gIGlmICghU2xpZGUpIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdzbGlkZS1ub3QtZm91bmQnLCBgU2xpZGUgbnVtYmVyICR7c2xpZGVOdW1iZXJ9IG5vdCBmb3VuZCBpbiB0aGUgY3VycmVudCBwcmVzZW50YXRpb25gKTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQ6IFByZXNlbnRhdGlvbi5pZCxcbiAgICBwYWdlSWQ6IFNsaWRlLmlkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IHsgU2xpZGVzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gem9vbVNsaWRlKHNsaWRlTnVtYmVyLCBwb2RJZCwgd2lkdGhSYXRpbywgaGVpZ2h0UmF0aW8sIHgsIHkpIHsgLy8gVE9ETy0tIHNlbmQgcHJlc2VudGF0aW9uSWQgYW5kIFNsaWRlSWRcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG5cbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1Jlc2l6ZUFuZE1vdmVQYWdlUHViTXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgY3VycmVudDogdHJ1ZSxcbiAgfTtcbiAgY29uc3QgUHJlc2VudGF0aW9uID0gUHJlc2VudGF0aW9ucy5maW5kT25lKHNlbGVjdG9yKTtcblxuICBpZiAoIVByZXNlbnRhdGlvbikge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3ByZXNlbnRhdGlvbi1ub3QtZm91bmQnLCAnWW91IG5lZWQgYSBwcmVzZW50YXRpb24gdG8gYmUgYWJsZSB0byBzd2l0Y2ggc2xpZGVzJyk7XG4gIH1cblxuICBjb25zdCBTbGlkZSA9IFNsaWRlcy5maW5kT25lKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQ6IFByZXNlbnRhdGlvbi5pZCxcbiAgICBudW06IHNsaWRlTnVtYmVyLFxuICB9KTtcblxuICBpZiAoIVNsaWRlKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignc2xpZGUtbm90LWZvdW5kJywgYFNsaWRlIG51bWJlciAke3NsaWRlTnVtYmVyfSBub3QgZm91bmQgaW4gdGhlIGN1cnJlbnQgcHJlc2VudGF0aW9uYCk7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkOiBQcmVzZW50YXRpb24uaWQsXG4gICAgcGFnZUlkOiBTbGlkZS5pZCxcbiAgICB4T2Zmc2V0OiB4LFxuICAgIHlPZmZzZXQ6IHksXG4gICAgd2lkdGhSYXRpbyxcbiAgICBoZWlnaHRSYXRpbyxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBwcm9iZSBmcm9tICdwcm9iZS1pbWFnZS1zaXplJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgU2xpZGVzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBTVkcsIFBORyB9IGZyb20gJy9pbXBvcnRzL3V0aWxzL21pbWVUeXBlcyc7XG5pbXBvcnQgY2FsY3VsYXRlU2xpZGVEYXRhIGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGFkZFNsaWRlUG9zaXRpb25zIGZyb20gJy4vYWRkU2xpZGVQb3NpdGlvbnMnO1xuXG5jb25zdCBsb2FkU2xpZGVzRnJvbUh0dHBBbHdheXMgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5hcHAubG9hZFNsaWRlc0Zyb21IdHRwQWx3YXlzIHx8IGZhbHNlO1xuXG5jb25zdCByZXF1ZXN0V2hpdGVib2FyZEhpc3RvcnkgPSAobWVldGluZ0lkLCBzbGlkZUlkKSA9PiB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnR2V0V2hpdGVib2FyZEFubm90YXRpb25zUmVxTXNnJztcbiAgY29uc3QgVVNFUl9JRCA9ICdub2RlSlNhcHAnO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgd2hpdGVib2FyZElkOiBzbGlkZUlkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCBVU0VSX0lELCBwYXlsb2FkKTtcbn07XG5cbmNvbnN0IFNVUFBPUlRFRF9UWVBFUyA9IFtTVkcsIFBOR107XG5cbmNvbnN0IGZldGNoSW1hZ2VTaXplcyA9IGltYWdlVXJpID0+IHByb2JlKGltYWdlVXJpKVxuICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKCFTVVBQT1JURURfVFlQRVMuaW5jbHVkZXMocmVzdWx0Lm1pbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdpbnZhbGlkLWltYWdlLXR5cGUnLCBgcmVjZWl2ZWQgJHtyZXN1bHQubWltZX0gZXhwZWN0aW5nICR7U1VQUE9SVEVEX1RZUEVTLmpvaW4oKX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHJlc3VsdC53aWR0aCxcbiAgICAgIGhlaWdodDogcmVzdWx0LmhlaWdodCxcbiAgICB9O1xuICB9KVxuICAuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3IgcGFyc2luZyBpbWFnZSBzaXplLiAke3JlYXNvbn0uIHVyaT0ke2ltYWdlVXJpfWApO1xuICAgIHJldHVybiByZWFzb247XG4gIH0pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRTbGlkZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgc2xpZGUpIHtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuXG4gIGNoZWNrKHNsaWRlLCB7XG4gICAgaWQ6IFN0cmluZyxcbiAgICBudW06IE51bWJlcixcbiAgICB0aHVtYlVyaTogU3RyaW5nLFxuICAgIHN3ZlVyaTogU3RyaW5nLFxuICAgIHR4dFVyaTogU3RyaW5nLFxuICAgIHN2Z1VyaTogU3RyaW5nLFxuICAgIGN1cnJlbnQ6IEJvb2xlYW4sXG4gICAgeE9mZnNldDogTnVtYmVyLFxuICAgIHlPZmZzZXQ6IE51bWJlcixcbiAgICB3aWR0aFJhdGlvOiBOdW1iZXIsXG4gICAgaGVpZ2h0UmF0aW86IE51bWJlcixcbiAgICBjb250ZW50OiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHtcbiAgICBpZDogc2xpZGVJZCxcbiAgICB4T2Zmc2V0LFxuICAgIHlPZmZzZXQsXG4gICAgd2lkdGhSYXRpbyxcbiAgICBoZWlnaHRSYXRpbyxcbiAgICAuLi5yZXN0U2xpZGVcbiAgfSA9IHNsaWRlO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBpZDogc2xpZGVJZCxcbiAgfTtcblxuICBjb25zdCBpbWFnZVVyaSA9IHNsaWRlLnN2Z1VyaSB8fCBzbGlkZS5wbmdVcmk7XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIHsgbWVldGluZ0lkIH0sXG4gICAgICB7IHBvZElkIH0sXG4gICAgICB7IHByZXNlbnRhdGlvbklkIH0sXG4gICAgICB7IGlkOiBzbGlkZUlkIH0sXG4gICAgICB7IGltYWdlVXJpIH0sXG4gICAgICBmbGF0KHJlc3RTbGlkZSksXG4gICAgICB7IHNhZmU6IHRydWUgfSxcbiAgICApLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyBzbGlkZSB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IG51bUNoYW5nZWQ7XG5cbiAgICByZXF1ZXN0V2hpdGVib2FyZEhpc3RvcnkobWVldGluZ0lkLCBzbGlkZUlkKTtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIHNsaWRlIGlkPSR7c2xpZGVJZH0gcG9kPSR7cG9kSWR9IHByZXNlbnRhdGlvbj0ke3ByZXNlbnRhdGlvbklkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgc2xpZGUgaWQ9JHtzbGlkZUlkfSBwb2Q9JHtwb2RJZH0gcHJlc2VudGF0aW9uPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gIH07XG5cbiAgY29uc3QgaW1hZ2VTaXplVXJpID0gKGxvYWRTbGlkZXNGcm9tSHR0cEFsd2F5cyA/IGltYWdlVXJpLnJlcGxhY2UoL15odHRwcy9pLCAnaHR0cCcpIDogaW1hZ2VVcmkpO1xuXG4gIHJldHVybiBmZXRjaEltYWdlU2l6ZXMoaW1hZ2VTaXplVXJpKVxuICAgIC50aGVuKCh7IHdpZHRoLCBoZWlnaHQgfSkgPT4ge1xuICAgICAgLy8gdGhlcmUgaXMgYSByYXJlIGNhc2Ugd2hlbiBmb3IgYSB2ZXJ5IGxvbmcgbm90LWFjdGl2ZSBtZWV0aW5nIHRoZSBwcmVzZW50YXRpb25cbiAgICAgIC8vIGZpbGVzIGp1c3QgZGlzYXBwZWFyIGFuZCB3aWR0aC9oZWlnaHQgY2FuJ3QgYmUgcmV0cmlldmVkXG4gICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgIC8vIHByZS1jYWxjdWxhdGluZyB0aGUgd2lkdGgsIGhlaWdodCwgYW5kIHZpZUJveCBjb29yZGluYXRlcyAvIGRpbWVuc2lvbnNcbiAgICAgICAgLy8gdG8gdW5sb2FkIHRoZSBjbGllbnQtc2lkZVxuICAgICAgICBjb25zdCBzbGlkZURhdGEgPSB7XG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIHhPZmZzZXQsXG4gICAgICAgICAgeU9mZnNldCxcbiAgICAgICAgICB3aWR0aFJhdGlvLFxuICAgICAgICAgIGhlaWdodFJhdGlvLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzbGlkZVBvc2l0aW9uID0gY2FsY3VsYXRlU2xpZGVEYXRhKHNsaWRlRGF0YSk7XG5cbiAgICAgICAgYWRkU2xpZGVQb3NpdGlvbnMobWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQsIHNsaWRlSWQsIHNsaWRlUG9zaXRpb24pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gU2xpZGVzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbiAgICB9KVxuICAgIC5jYXRjaChyZWFzb24gPT4gTG9nZ2VyLmVycm9yKGBFcnJvciBwYXJzaW5nIGltYWdlIHNpemUuICR7cmVhc29ufS4gc2xpZGU9JHtzbGlkZUlkfSB1cmk9JHtpbWFnZVVyaX1gKSk7XG59XG4iLCJpbXBvcnQgeyBTbGlkZVBvc2l0aW9ucyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFNsaWRlUG9zaXRpb25zKFxuICBtZWV0aW5nSWQsXG4gIHBvZElkLFxuICBwcmVzZW50YXRpb25JZCxcbiAgc2xpZGVJZCxcbiAgc2xpZGVQb3NpdGlvbixcbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2soc2xpZGVJZCwgU3RyaW5nKTtcblxuICBjaGVjayhzbGlkZVBvc2l0aW9uLCB7XG4gICAgd2lkdGg6IE51bWJlcixcbiAgICBoZWlnaHQ6IE51bWJlcixcbiAgICB4OiBOdW1iZXIsXG4gICAgeTogTnVtYmVyLFxuICAgIHZpZXdCb3hXaWR0aDogTnVtYmVyLFxuICAgIHZpZXdCb3hIZWlnaHQ6IE51bWJlcixcbiAgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIGlkOiBzbGlkZUlkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oXG4gICAgICB7IG1lZXRpbmdJZCB9LFxuICAgICAgeyBwb2RJZCB9LFxuICAgICAgeyBwcmVzZW50YXRpb25JZCB9LFxuICAgICAgeyBpZDogc2xpZGVJZCB9LFxuICAgICAgZmxhdChzbGlkZVBvc2l0aW9uKSxcbiAgICAgIHsgc2FmZTogdHJ1ZSB9LFxuICAgICksXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIHNsaWRlIHBvc2l0aW9uIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gbnVtQ2hhbmdlZDtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIHNsaWRlIHBvc2l0aW9uIGlkPSR7c2xpZGVJZH0gcG9kPSR7cG9kSWR9IHByZXNlbnRhdGlvbj0ke3ByZXNlbnRhdGlvbklkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgc2xpZGUgcG9zaXRpb24gaWQ9JHtzbGlkZUlkfSBwb2Q9JHtwb2RJZH0gcHJlc2VudGF0aW9uPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFNsaWRlUG9zaXRpb25zLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IFNsaWRlcyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VDdXJyZW50U2xpZGUobWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQsIHNsaWRlSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2soc2xpZGVJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgb2xkQ3VycmVudCA9IHtcbiAgICBzZWxlY3Rvcjoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcG9kSWQsXG4gICAgICBwcmVzZW50YXRpb25JZCxcbiAgICAgIGN1cnJlbnQ6IHRydWUsXG4gICAgfSxcbiAgICBtb2RpZmllcjoge1xuICAgICAgJHNldDogeyBjdXJyZW50OiBmYWxzZSB9LFxuICAgIH0sXG4gICAgY2FsbGJhY2s6IChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgVW5zZXR0aW5nIHRoZSBjdXJyZW50IHNsaWRlOiAke2Vycn1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKCdVbnNldHRlZCB0aGUgY3VycmVudCBzbGlkZScpO1xuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgbmV3Q3VycmVudCA9IHtcbiAgICBzZWxlY3Rvcjoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcG9kSWQsXG4gICAgICBwcmVzZW50YXRpb25JZCxcbiAgICAgIGlkOiBzbGlkZUlkLFxuICAgIH0sXG4gICAgbW9kaWZpZXI6IHtcbiAgICAgICRzZXQ6IHsgY3VycmVudDogdHJ1ZSB9LFxuICAgIH0sXG4gICAgY2FsbGJhY2s6IChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgU2V0dGluZyBhcyBjdXJyZW50IHNsaWRlIGlkPSR7c2xpZGVJZH06ICR7ZXJyfWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFNldHRlZCBhcyBjdXJyZW50IHNsaWRlIGlkPSR7c2xpZGVJZH1gKTtcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG9sZFNsaWRlID0gU2xpZGVzLmZpbmRPbmUob2xkQ3VycmVudC5zZWxlY3Rvcik7XG4gIGNvbnN0IG5ld1NsaWRlID0gU2xpZGVzLmZpbmRPbmUobmV3Q3VycmVudC5zZWxlY3Rvcik7XG5cbiAgLy8gaWYgdGhlIG9sZEN1cnJlbnQgYW5kIG5ld0N1cnJlbnQgaGF2ZSB0aGUgc2FtZSBpZHNcbiAgaWYgKG9sZFNsaWRlICYmIG5ld1NsaWRlICYmIChvbGRTbGlkZS5faWQgPT09IG5ld1NsaWRlLl9pZCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAobmV3U2xpZGUpIHtcbiAgICBTbGlkZXMudXBkYXRlKG5ld1NsaWRlLl9pZCwgbmV3Q3VycmVudC5tb2RpZmllciwgbmV3Q3VycmVudC5jYWxsYmFjayk7XG4gIH1cblxuICBpZiAob2xkU2xpZGUpIHtcbiAgICBTbGlkZXMudXBkYXRlKG9sZFNsaWRlLl9pZCwgb2xkQ3VycmVudC5tb2RpZmllciwgb2xkQ3VycmVudC5jYWxsYmFjayk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFNsaWRlcywgU2xpZGVQb3NpdGlvbnMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJTbGlkZXMobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICBTbGlkZVBvc2l0aW9ucy5yZW1vdmUoeyBtZWV0aW5nSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgU2xpZGVQb3NpdGlvbnMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBTbGlkZXMucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFNsaWRlcyAoJHttZWV0aW5nSWR9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgU2xpZGVQb3NpdGlvbnMucmVtb3ZlKHt9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgU2xpZGVQb3NpdGlvbnMgKGFsbCknKTtcbiAgfSk7XG5cbiAgcmV0dXJuIFNsaWRlcy5yZW1vdmUoe30sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBTbGlkZXMgKGFsbCknKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBTbGlkZXMsIFNsaWRlUG9zaXRpb25zIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgY2xlYXJBbm5vdGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhckFubm90YXRpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJTbGlkZXNQcmVzZW50YXRpb24obWVldGluZ0lkLCBwcmVzZW50YXRpb25JZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgfTtcblxuICBjb25zdCB3aGl0ZWJvYXJkSWRzID0gU2xpZGVzLmZpbmQoc2VsZWN0b3IsIHsgZmllbGRzOiB7IGlkOiAxIH0gfSkubWFwKHJvdyA9PiByb3cuaWQpO1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIFNsaWRlcyBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHdoaXRlYm9hcmRJZHMuZm9yRWFjaCh3aGl0ZWJvYXJkSWQgPT4gY2xlYXJBbm5vdGF0aW9ucyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCkpO1xuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBSZW1vdmVkIFNsaWRlcyB3aGVyZSBwcmVzZW50YXRpb25JZD0ke3ByZXNlbnRhdGlvbklkfWApO1xuICB9O1xuXG4gIFNsaWRlUG9zaXRpb25zLnJlbW92ZShzZWxlY3Rvcik7XG5cbiAgcmV0dXJuIFNsaWRlcy5yZW1vdmUoc2VsZWN0b3IsIGNiKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IFNsaWRlUG9zaXRpb25zIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgY2FsY3VsYXRlU2xpZGVEYXRhIGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNpemVTbGlkZShtZWV0aW5nSWQsIHNsaWRlKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCB7XG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQsXG4gICAgcGFnZUlkLFxuICAgIHdpZHRoUmF0aW8sXG4gICAgaGVpZ2h0UmF0aW8sXG4gICAgeE9mZnNldCxcbiAgICB5T2Zmc2V0LFxuICB9ID0gc2xpZGU7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIGlkOiBwYWdlSWQsXG4gIH07XG5cbiAgLy8gZmV0Y2hpbmcgdGhlIGN1cnJlbnQgc2xpZGUgZGF0YVxuICAvLyBhbmQgcHJlLWNhbGN1bGF0aW5nIHRoZSB3aWR0aCwgaGVpZ2h0LCBhbmQgdmllQm94IGNvb3JkaW5hdGVzIC8gc2l6ZXNcbiAgLy8gdG8gcmVkdWNlIHRoZSBjbGllbnQtc2lkZSBsb2FkXG4gIGNvbnN0IFNsaWRlUG9zaXRpb24gPSBTbGlkZVBvc2l0aW9ucy5maW5kT25lKHNlbGVjdG9yKTtcblxuICBpZiAoU2xpZGVQb3NpdGlvbikge1xuICAgIGNvbnN0IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgIH0gPSBTbGlkZVBvc2l0aW9uO1xuXG4gICAgY29uc3Qgc2xpZGVEYXRhID0ge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICB4T2Zmc2V0LFxuICAgICAgeU9mZnNldCxcbiAgICAgIHdpZHRoUmF0aW8sXG4gICAgICBoZWlnaHRSYXRpbyxcbiAgICB9O1xuICAgIGNvbnN0IGNhbGN1bGF0ZWREYXRhID0gY2FsY3VsYXRlU2xpZGVEYXRhKHNsaWRlRGF0YSk7XG5cbiAgICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAgICRzZXQ6IGNhbGN1bGF0ZWREYXRhLFxuICAgIH07XG5cbiAgICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgUmVzaXppbmcgc2xpZGUgcG9zaXRpb25zIGlkPSR7cGFnZUlkfTogJHtlcnJ9YCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICAgIHJldHVybiBMb2dnZXIuZGVidWcoYFJlc2l6ZWQgc2xpZGUgcG9zaXRpb25zIGlkPSR7cGFnZUlkfWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYE5vIHNsaWRlIHBvc2l0aW9ucyBmb3VuZCB3aXRoIGlkPSR7cGFnZUlkfWApO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2xpZGVQb3NpdGlvbnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVNsaWRlUmVzaXplIGZyb20gJy4vaGFuZGxlcnMvc2xpZGVSZXNpemUnO1xuaW1wb3J0IGhhbmRsZVNsaWRlQ2hhbmdlIGZyb20gJy4vaGFuZGxlcnMvc2xpZGVDaGFuZ2UnO1xuXG5SZWRpc1B1YlN1Yi5vbignUmVzaXplQW5kTW92ZVBhZ2VFdnRNc2cnLCBoYW5kbGVTbGlkZVJlc2l6ZSk7XG5SZWRpc1B1YlN1Yi5vbignU2V0Q3VycmVudFBhZ2VFdnRNc2cnLCBoYW5kbGVTbGlkZUNoYW5nZSk7XG4iLCJcbmNvbnN0IGNhbGN1bGF0ZVNsaWRlRGF0YSA9IChzbGlkZURhdGEpID0+IHtcbiAgY29uc3Qge1xuICAgIHdpZHRoLCBoZWlnaHQsIHhPZmZzZXQsIHlPZmZzZXQsIHdpZHRoUmF0aW8sIGhlaWdodFJhdGlvLFxuICB9ID0gc2xpZGVEYXRhO1xuXG4gIC8vIGNhbGN1bGF0aW5nIHZpZXdCb3ggYW5kIG9mZnNldHMgZm9yIHRoZSBjdXJyZW50IHByZXNlbnRhdGlvblxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4OiAoKC14T2Zmc2V0ICogMikgKiB3aWR0aCkgLyAxMDAsXG4gICAgeTogKCgteU9mZnNldCAqIDIpICogaGVpZ2h0KSAvIDEwMCxcbiAgICB2aWV3Qm94V2lkdGg6ICh3aWR0aCAqIHdpZHRoUmF0aW8pIC8gMTAwLFxuICAgIHZpZXdCb3hIZWlnaHQ6IChoZWlnaHQgKiBoZWlnaHRSYXRpbykgLyAxMDAsXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjYWxjdWxhdGVTbGlkZURhdGE7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBzd2l0Y2hTbGlkZSBmcm9tICcuL21ldGhvZHMvc3dpdGNoU2xpZGUnO1xuaW1wb3J0IHpvb21TbGlkZSBmcm9tICcuL21ldGhvZHMvem9vbVNsaWRlJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBzd2l0Y2hTbGlkZSxcbiAgem9vbVNsaWRlLFxufSk7XG4iLCJpbXBvcnQgeyBTbGlkZXMsIFNsaWRlUG9zaXRpb25zIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBzbGlkZXMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gU2xpZGVzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBTbGlkZXMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gU2xpZGVzLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFNsaWRlcyA9IHNsaWRlcy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRTbGlkZXMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdzbGlkZXMnLCBwdWJsaXNoKTtcblxuZnVuY3Rpb24gc2xpZGVQb3NpdGlvbnMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gU2xpZGVQb3NpdGlvbnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgU2xpZGVQb3NpdGlvbnMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gU2xpZGVQb3NpdGlvbnMuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaFBvc2l0aW9ucyguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kU2xpZGVQb3NpdGlvbnMgPSBzbGlkZVBvc2l0aW9ucy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRTbGlkZVBvc2l0aW9ucyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3NsaWRlLXBvc2l0aW9ucycsIHB1Ymxpc2hQb3NpdGlvbnMpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFNsaWRlcyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdzbGlkZXMnKTtcbmNvbnN0IFNsaWRlUG9zaXRpb25zID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3NsaWRlLXBvc2l0aW9ucycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBzbGlkZXM6XG5cbiAgLy8gMS4gbWVldGluZ0lkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICggMSApXG4gIC8vIDIuIG1lZXRpbmdJZCwgcG9kSWQgICAgICAgICAgICAgICAgICAgICAgICAgICAoIDEgKVxuICAvLyAzLiBtZWV0aW5nSWQsIHByZXNlbnRhdGlvbklkICAgICAgICAgICAgICAgICAgKCAxIClcbiAgLy8gMy4gbWVldGluZ0lkLCBwcmVzZW50YXRpb25JZCwgbnVtICAgICAgICAgICAgICggMSApXG4gIC8vIDQuIG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBpZCAgICAgICAoIDMgKSAtIGluY2wuIHJlc2l6ZVNsaWRlLCB3aGljaCBjYW4gYmUgaW50ZW5zZVxuICAvLyA1LiBtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgY3VycmVudCAgKCAxIClcblxuICBTbGlkZXMuX2Vuc3VyZUluZGV4KHtcbiAgICBtZWV0aW5nSWQ6IDEsIHBvZElkOiAxLCBwcmVzZW50YXRpb25JZDogMSwgaWQ6IDEsXG4gIH0pO1xuXG4gIFNsaWRlUG9zaXRpb25zLl9lbnN1cmVJbmRleCh7XG4gICAgbWVldGluZ0lkOiAxLCBwb2RJZDogMSwgcHJlc2VudGF0aW9uSWQ6IDEsIGlkOiAxLFxuICB9KTtcbn1cblxuZXhwb3J0IHsgU2xpZGVzLCBTbGlkZVBvc2l0aW9ucyB9O1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGNoYW5nZVJvbGUgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvY2hhbmdlUm9sZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZVJvbGUocGF5bG9hZCwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKHBheWxvYWQuYm9keSwgT2JqZWN0KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHsgdXNlcklkLCByb2xlLCBjaGFuZ2VkQnkgfSA9IHBheWxvYWQuYm9keTtcblxuICByZXR1cm4gY2hhbmdlUm9sZShyb2xlLCB1c2VySWQsIG1lZXRpbmdJZCwgY2hhbmdlZEJ5KTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVFbW9qaVN0YXR1cyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcklkLCBlbW9qaSB9ID0gYm9keTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGVtb2ppLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgZW1vamlUaW1lOiAobmV3IERhdGUoKSkuZ2V0VGltZSgpLFxuICAgICAgZW1vamksXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEFzc2lnbmluZyB1c2VyIGVtb2ppIHN0YXR1czogJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBBc3NpZ25lZCB1c2VyIGVtb2ppIHN0YXR1cyAke2Vtb2ppfSBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvJztcbmltcG9ydCBhZGRVc2VyIGZyb20gJy4uL21vZGlmaWVycy9hZGRVc2VyJztcbmltcG9ydCByZW1vdmVVc2VyIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR2V0VXNlcnMoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJzIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcnMsIEFycmF5KTtcblxuICBjb25zdCB1c2Vyc0lkcyA9IHVzZXJzLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHVzZXJzVG9SZW1vdmUgPSBVc2Vycy5maW5kKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiB7ICRuaW46IHVzZXJzSWRzIH0sXG4gIH0sIHsgZmllbGRzOiB7IHVzZXJJZDogMSB9IH0pLmZldGNoKCk7XG5cbiAgdXNlcnNUb1JlbW92ZS5mb3JFYWNoKHVzZXIgPT4gcmVtb3ZlVXNlcihtZWV0aW5nSWQsIHVzZXIudXNlcklkKSk7XG5cbiAgY29uc3QgdXNlcnNBZGRlZCA9IFtdO1xuICB1c2Vycy5mb3JFYWNoKCh1c2VyKSA9PiB7XG4gICAgdXNlcnNBZGRlZC5wdXNoKGFkZFVzZXIobWVldGluZ0lkLCB1c2VyKSk7XG4gIH0pO1xuXG4gIHJldHVybiB1c2Vyc0FkZGVkO1xufVxuIiwiaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IGNoYW5nZVByZXNlbnRlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VQcmVzZW50ZXInO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcblxuZnVuY3Rpb24gc2V0UHJlc2VudGVySW5Qb2RSZXFNc2coY3JlZGVudGlhbHMpIHsgLy8gVE9ETy0tIHN3aXRjaCB0byBtZWV0aW5nSWQsIGV0Y1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NldFByZXNlbnRlckluUG9kUmVxTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwcmVzZW50ZXJJZCB9ID0gY3JlZGVudGlhbHM7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwb2RJZDogJ0RFRkFVTFRfUFJFU0VOVEFUSU9OX1BPRCcsXG4gICAgbmV4dFByZXNlbnRlcklkOiBwcmVzZW50ZXJJZCxcbiAgfTtcblxuICBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50ZXJBc3NpZ25lZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcHJlc2VudGVySWQsIGFzc2lnbmVkQnkgfSA9IGJvZHk7XG5cbiAgY2hhbmdlUHJlc2VudGVyKHRydWUsIHByZXNlbnRlcklkLCBtZWV0aW5nSWQsIGFzc2lnbmVkQnkpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHsgJG5lOiBwcmVzZW50ZXJJZCB9LFxuICAgIHByZXNlbnRlcjogdHJ1ZSxcbiAgfTtcblxuICBjb25zdCBwcmV2UHJlc2VudGVyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgLy8gbm8gcHJldmlvdXMgcHJlc2VudGVyc1xuICAvLyBUaGUgYmVsb3cgY29kZSBpcyByZXNwb25zaWJsZSBmb3Igc2V0IE1lZXRpbmcgcHJlc2VudGVyIHRvIGJlIGRlZmF1bHQgcG9kIHByZXNlbnRlciBhcyB3ZWxsLlxuICAvLyBJdCdzIGJlZW4gaGFuZGxlZCBoZXJlIGJlY2F1c2UgcmlnaHQgbm93IGFra2EtYXBwcyBkb24ndCBoYW5kbGUgYWxsIGNhc2VzIHNjZW5hcmlvcy5cbiAgaWYgKCFwcmV2UHJlc2VudGVyKSB7XG4gICAgY29uc3Qgc2V0UHJlc2VudGVyUGF5bG9hZCA9IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHJlcXVlc3RlclVzZXJJZDogYXNzaWduZWRCeSxcbiAgICAgIHByZXNlbnRlcklkLFxuICAgIH07XG5cbiAgICBjb25zdCBkZWZhdWx0UG9kU2VsZWN0b3IgPSB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZDogJ0RFRkFVTFRfUFJFU0VOVEFUSU9OX1BPRCcsXG4gICAgfTtcbiAgICBjb25zdCBjdXJyZW50RGVmYXVsdFBvZFByZXNlbnRlciA9IFByZXNlbnRhdGlvblBvZHMuZmluZE9uZShkZWZhdWx0UG9kU2VsZWN0b3IpO1xuICAgIGNvbnN0IHsgY3VycmVudFByZXNlbnRlcklkIH0gPSBjdXJyZW50RGVmYXVsdFBvZFByZXNlbnRlcjtcblxuICAgIGlmIChjdXJyZW50UHJlc2VudGVySWQgPT09ICcnKSB7XG4gICAgICByZXR1cm4gc2V0UHJlc2VudGVySW5Qb2RSZXFNc2coc2V0UHJlc2VudGVyUGF5bG9hZCk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkUHJlc2VudGVyID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgdXNlcklkOiBjdXJyZW50UHJlc2VudGVySWQsIGNvbm5lY3Rpb25TdGF0dXM6ICdvZmZsaW5lJyB9KTtcblxuICAgIGlmIChvbGRQcmVzZW50ZXIpIHtcbiAgICAgIHJldHVybiBzZXRQcmVzZW50ZXJJblBvZFJlcU1zZyhzZXRQcmVzZW50ZXJQYXlsb2FkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBjaGFuZ2VQcmVzZW50ZXIoZmFsc2UsIHByZXZQcmVzZW50ZXIudXNlcklkLCBtZWV0aW5nSWQsIGFzc2lnbmVkQnkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgcmVtb3ZlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlVXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZVVzZXIoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGludElkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soaW50SWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIHJlbW92ZVVzZXIobWVldGluZ0lkLCBpbnRJZCk7XG59XG4iLCJpbXBvcnQgdXNlckVqZWN0ZWQgZnJvbSAnLi4vbW9kaWZpZXJzL3VzZXJFamVjdGVkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlRWplY3RlZFVzZXIoeyBoZWFkZXIsIGJvZHkgfSkge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgdXNlcklkIH0gPSBoZWFkZXI7XG4gIGNvbnN0IHsgcmVhc29uQ29kZSB9ID0gYm9keTtcblxuICByZXR1cm4gdXNlckVqZWN0ZWQobWVldGluZ0lkLCB1c2VySWQsIHJlYXNvbkNvZGUpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHVzZXJJbmFjdGl2aXR5SW5zcGVjdCBmcm9tICcuLi9tb2RpZmllcnMvdXNlckluYWN0aXZpdHlJbnNwZWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVXNlckluYWN0aXZpdHlJbnNwZWN0KHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJJZCB9ID0gaGVhZGVyO1xuICBjb25zdCB7IHJlc3BvbnNlRGVsYXkgfSA9IGJvZHk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhyZXNwb25zZURlbGF5LCBNYXRjaC5JbnRlZ2VyKTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG5cbiAgcmV0dXJuIHVzZXJJbmFjdGl2aXR5SW5zcGVjdCh1c2VySWQsIHJlc3BvbnNlRGVsYXkpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VySm9pbihtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckpvaW5NZWV0aW5nUmVxTXNnJztcblxuICBjaGVjayhhdXRoVG9rZW4sIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQsXG4gICAgYXV0aFRva2VuLFxuICAgIGNsaWVudFR5cGU6ICdIVE1MNScsXG4gIH07XG5cbiAgTG9nZ2VyLmluZm8oYFVzZXI9JyR7dXNlcklkfScgaXMgam9pbmluZyBtZWV0aW5nPScke21lZXRpbmdJZH0nIGF1dGhUb2tlbj0nJHthdXRoVG9rZW59J2ApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCB1c2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgYWRkVXNlciBmcm9tICcuLi9tb2RpZmllcnMvYWRkVXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJKb2luZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB1c2VyID0gYm9keTtcblxuICBjaGVjayh1c2VyLCBPYmplY3QpO1xuXG4gIHJldHVybiBhZGRVc2VyKG1lZXRpbmdJZCwgdXNlcik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB1c2VySm9pbiBmcm9tICcuL3VzZXJKb2luJztcbmltcG9ydCBwZW5kaW5nQXV0aGVudGljYXRpb25zU3RvcmUgZnJvbSAnLi4vc3RvcmUvcGVuZGluZ0F1dGhlbnRpY2F0aW9ucyc7XG5pbXBvcnQgY3JlYXRlRHVtbXlVc2VyIGZyb20gJy4uL21vZGlmaWVycy9jcmVhdGVEdW1teVVzZXInO1xuaW1wb3J0IHNldENvbm5lY3Rpb25JZEFuZEF1dGhUb2tlbiBmcm9tICcuLi9tb2RpZmllcnMvc2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuJztcblxuY29uc3QgY2xlYXJPdGhlclNlc3Npb25zID0gKHNlc3Npb25Vc2VySWQsIGN1cnJlbnQgPSBmYWxzZSkgPT4ge1xuICBjb25zdCBzZXJ2ZXJTZXNzaW9ucyA9IE1ldGVvci5zZXJ2ZXIuc2Vzc2lvbnM7XG4gIE9iamVjdC5rZXlzKHNlcnZlclNlc3Npb25zKVxuICAgIC5maWx0ZXIoaSA9PiBzZXJ2ZXJTZXNzaW9uc1tpXS51c2VySWQgPT09IHNlc3Npb25Vc2VySWQpXG4gICAgLmZpbHRlcihpID0+IGkgIT09IGN1cnJlbnQpXG4gICAgLmZvckVhY2goaSA9PiBzZXJ2ZXJTZXNzaW9uc1tpXS5jbG9zZSgpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZhbGlkYXRlQXV0aFRva2VuKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyB1c2VySWQsIHZhbGlkLCBhdXRoVG9rZW4sIHdhaXRGb3JBcHByb3ZhbCB9ID0gYm9keTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGF1dGhUb2tlbiwgU3RyaW5nKTtcbiAgY2hlY2sodmFsaWQsIEJvb2xlYW4pO1xuICBjaGVjayh3YWl0Rm9yQXBwcm92YWwsIEJvb2xlYW4pO1xuXG4gIGNvbnN0IHBlbmRpbmdBdXRocyA9IHBlbmRpbmdBdXRoZW50aWNhdGlvbnNTdG9yZS50YWtlKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pO1xuXG4gIGlmKCF2YWxpZCkge1xuICAgIHBlbmRpbmdBdXRocy5mb3JFYWNoICggXG4gICAgICBwZW5kaW5nQXV0aCA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qge21ldGhvZEludm9jYXRpb25PYmplY3R9ID0gcGVuZGluZ0F1dGg7XG4gICAgICAgICAgY29uc3QgY29ubmVjdGlvbklkID0gbWV0aG9kSW52b2NhdGlvbk9iamVjdC5jb25uZWN0aW9uLmlkO1xuXG4gICAgICAgICAgLy8gU2NoZWR1bGUgc29ja2V0IGRpc2Nvbm5lY3Rpb24gZm9yIHRoaXMgdXNlciwgZ2l2aW5nIHNvbWUgdGltZSBmb3IgY2xpZW50IHJlY2VpdmluZyB0aGUgcmVhc29uIG9mIGRpc2Nvbm5lY3Rpb25cbiAgICAgICAgICBNZXRlb3Iuc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgbWV0aG9kSW52b2NhdGlvbk9iamVjdC5jb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgXG4gICAgICAgICAgTG9nZ2VyLmluZm8oYENsb3NlZCBjb25uZWN0aW9uICR7Y29ubmVjdGlvbklkfSBkdWUgdG8gaW52YWxpZCBhdXRoIHRva2VuLmApO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBjbG9zaW5nIHNvY2tldCBmb3IgbWVldGluZ0lkICcke21lZXRpbmdJZH0nLCB1c2VySWQgJyR7dXNlcklkfScsIGF1dGhUb2tlbiAke2F1dGhUb2tlbn1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYodmFsaWQpIHtcbiAgICAvLyBEZWZpbmUgdXNlciBJRCBvbiBjb25uZWN0aW9uc1xuICAgIHBlbmRpbmdBdXRocy5mb3JFYWNoICggXG4gICAgICAgIHBlbmRpbmdBdXRoID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHttZXRob2RJbnZvY2F0aW9uT2JqZWN0fSA9IHBlbmRpbmdBdXRoO1xuXG4gICAgICAgICAgICAvKiBMb2dpYyBtaWdyYXRlZCBmcm9tIHZhbGlkYXRlQXV0aFRva2VuIG1ldGhvZCAoIHBvc3Rwb25lZCB0byBvbmx5IHJ1biBpbiBjYXNlIG9mIHN1Y2Nlc3MgcmVzcG9uc2UgKSAtIEJlZ2luICovXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uSWQgPSBgJHttZWV0aW5nSWR9LS0ke3VzZXJJZH1gO1xuICAgICAgICAgICAgbWV0aG9kSW52b2NhdGlvbk9iamVjdC5zZXRVc2VySWQoc2Vzc2lvbklkKTtcblxuICAgICAgICAgICAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgICAgIGlmICghVXNlcikge1xuICAgICAgICAgICAgICAgIGNyZWF0ZUR1bW15VXNlcihtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICBzZXRDb25uZWN0aW9uSWRBbmRBdXRoVG9rZW4obWVldGluZ0lkLCB1c2VySWQsIG1ldGhvZEludm9jYXRpb25PYmplY3QuY29ubmVjdGlvbi5pZCwgYXV0aFRva2VuKTtcbiAgICAgICAgICAgIC8qIEVuZCBvZiBsb2dpYyBtaWdyYXRlZCBmcm9tIHZhbGlkYXRlQXV0aFRva2VuICovXG4gICAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBjbGllbnRUeXBlOiAnSFRNTDUnLFxuICB9O1xuXG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHNlbGVjdG9yKTtcblxuICAvLyBJZiB3ZSBkb250IGZpbmQgdGhlIHVzZXIgb24gb3VyIGNvbGxlY3Rpb24gaXMgYSBmbGFzaCB1c2VyIGFuZCB3ZSBjYW4gc2tpcFxuICBpZiAoIVVzZXIpIHJldHVybjtcblxuICAvLyBQdWJsaXNoIHVzZXIgam9pbiBtZXNzYWdlXG4gIGlmICh2YWxpZCAmJiAhd2FpdEZvckFwcHJvdmFsKSB7XG4gICAgTG9nZ2VyLmluZm8oJ1VzZXI9JywgVXNlcik7XG4gICAgdXNlckpvaW4obWVldGluZ0lkLCB1c2VySWQsIFVzZXIuYXV0aFRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHZhbGlkYXRlZDogdmFsaWQsXG4gICAgICBhcHByb3ZlZDogIXdhaXRGb3JBcHByb3ZhbCxcbiAgICAgIGxvZ2luVGltZTogRGF0ZS5ub3coKSxcbiAgICAgIGluYWN0aXZpdHlDaGVjazogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBWYWxpZGF0aW5nIGF1dGggdG9rZW46ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvblVzZXJJZCA9IGAke21lZXRpbmdJZH0tJHt1c2VySWR9YDtcbiAgICAgICAgY29uc3QgY3VycmVudENvbm5lY3Rpb25JZCA9IFVzZXIuY29ubmVjdGlvbklkID8gVXNlci5jb25uZWN0aW9uSWQgOiBmYWxzZTtcbiAgICAgICAgY2xlYXJPdGhlclNlc3Npb25zKHNlc3Npb25Vc2VySWQsIGN1cnJlbnRDb25uZWN0aW9uSWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFZhbGlkYXRlZCBhdXRoIHRva2VuIGFzICR7dmFsaWR9IHVzZXI9JHt1c2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKCdObyBhdXRoIHRvIHZhbGlkYXRlJyk7XG4gIH07XG5cbiAgVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNzaWduUHJlc2VudGVyKHVzZXJJZCkgeyAvLyBUT0RPLS0gc2VuZCB1c2VybmFtZSBmcm9tIGNsaWVudCBzaWRlXG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnQXNzaWduUHJlc2VudGVyUmVxTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoe1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH0pO1xuXG4gIGlmICghVXNlcikge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3VzZXItbm90LWZvdW5kJywgJ1lvdSBuZWVkIGEgdmFsaWQgdXNlciB0byBiZSBhYmxlIHRvIHNldCBwcmVzZW50ZXInKTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbmV3UHJlc2VudGVySWQ6IHVzZXJJZCxcbiAgICBuZXdQcmVzZW50ZXJOYW1lOiBVc2VyLm5hbWUsXG4gICAgYXNzaWduZWRCeTogcmVxdWVzdGVyVXNlcklkLFxuICAgIHJlcXVlc3RlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgTG9nZ2VyLnZlcmJvc2UoYFVzZXIgJyR7dXNlcklkfScgc2V0dGVkIGFzIHByZXNlbnRlciBieSAnJHtcbiAgICByZXF1ZXN0ZXJVc2VySWR9JyBmcm9tIG1lZXRpbmcgJyR7bWVldGluZ0lkfSdgKTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VSb2xlKHVzZXJJZCwgcm9sZSkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0NoYW5nZVVzZXJSb2xlQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2socm9sZSwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgICByb2xlLFxuICAgIGNoYW5nZWRCeTogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIExvZ2dlci52ZXJib3NlKGBVc2VyICcke3VzZXJJZH0nIHNldCBhcyAnJHtyb2xlfSByb2xlIGJ5ICcke3JlcXVlc3RlclVzZXJJZH0nIGZyb20gbWVldGluZyAnJHttZWV0aW5nSWR9J2ApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVVzZXIodXNlcklkLCBiYW5Vc2VyKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnRWplY3RVc2VyRnJvbU1lZXRpbmdDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IGVqZWN0ZWRCeSB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQsXG4gICAgZWplY3RlZEJ5LFxuICAgIGJhblVzZXIsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIGVqZWN0ZWRCeSwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0RW1vamlTdGF0dXModXNlcklkLCBzdGF0dXMpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDaGFuZ2VVc2VyRW1vamlDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgZW1vamk6IHN0YXR1cyxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgTG9nZ2VyLnZlcmJvc2UoYFVzZXIgJyR7dXNlcklkfScgZW1vamkgc3RhdHVzIHVwZGF0ZWQgdG8gJyR7c3RhdHVzfScgYnkgJyR7XG4gICAgcmVxdWVzdGVyVXNlcklkfScgZnJvbSBtZWV0aW5nICcke21lZXRpbmdJZH0nYCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBzZXRFZmZlY3RpdmVDb25uZWN0aW9uVHlwZSBmcm9tICcuLi9tb2RpZmllcnMvc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlKGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnQ2hhbmdlVXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25Nc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLFxuICB9O1xuXG4gIHNldEVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlKG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBlZmZlY3RpdmVDb25uZWN0aW9uVHlwZSk7XG5cbiAgTG9nZ2VyLnZlcmJvc2UoYFVzZXIgJHtyZXF1ZXN0ZXJVc2VySWR9IGVmZmVjdGl2ZSBjb25uZWN0aW9uIHVwZGF0ZWQgdG8gJHtlZmZlY3RpdmVDb25uZWN0aW9uVHlwZX1gKTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2dnbGVVc2VyTG9jayh1c2VySWQsIGxvY2spIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdMb2NrVXNlckluTWVldGluZ0NtZE1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogbG9ja2VkQnkgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobG9ja2VkQnksIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2sobG9jaywgQm9vbGVhbik7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBsb2NrZWRCeSxcbiAgICB1c2VySWQsXG4gICAgbG9jayxcbiAgfTtcblxuICBMb2dnZXIudmVyYm9zZShgVXNlciAke2xvY2tlZEJ5fSB1cGRhdGVkIGxvY2sgc3RhdHVzIGZyb20gJHt1c2VySWR9IHRvICR7bG9ja31cbiAgaW4gbWVldGluZyAke21lZXRpbmdJZH1gKTtcblxuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCBsb2NrZWRCeSwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyQWN0aXZpdHlTaWduKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1VzZXJBY3Rpdml0eVNpZ25DbWRNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBpbmFjdGl2aXR5Q2hlY2s6IGZhbHNlLFxuICAgIH0sXG4gIH07XG5cbiAgVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7IC8vIFRPRE8tLSB3ZSBzaG91bGQgbW92ZSB0aGlzIHRvIGEgbW9kaWZpZXJcblxuICBMb2dnZXIuaW5mbyhgVXNlciAke3VzZXJJZH0gc2VudCBhIGFjdGl2aXR5IHNpZ24gZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlckxlYXZpbmcobWVldGluZ0lkLCB1c2VySWQsIGNvbm5lY3Rpb25JZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1VzZXJMZWF2ZVJlcU1zZyc7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGlmICghVXNlcikge1xuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgU2tpcHBpbmcgdXNlckxlYXZpbmcuIENvdWxkIG5vdCBmaW5kICR7dXNlcklkfSBpbiAke21lZXRpbmdJZH1gKTtcbiAgfVxuXG4gIC8vIElmIHRoZSBjdXJyZW50IHVzZXIgY29ubmVjdGlvbiBpcyBub3QgdGhlIHNhbWUgdGhhdCB0cmlnZ2VyZWQgdGhlIGxlYXZlIHdlIHNraXBcbiAgaWYgKFVzZXIuY29ubmVjdGlvbklkICE9PSBjb25uZWN0aW9uSWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgICBzZXNzaW9uSWQ6IG1lZXRpbmdJZCxcbiAgfTtcblxuICBMb2dnZXIuaW5mbyhgVXNlciAnJHt1c2VySWR9JyBpcyBsZWF2aW5nIG1lZXRpbmcgJyR7bWVldGluZ0lkfSdgKTtcbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyTGVmdE1lZXRpbmcoKSB7IC8vIFRPRE8tLSBzcHJlYWQgdGhlIGNvZGUgdG8gbWV0aG9kL21vZGlmaWVyL2hhbmRsZXJcbiAgLy8gc28gd2UgZG9uJ3QgdXBkYXRlIHRoZSBkYiBpbiBhIG1ldGhvZFxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYGxlYXZpbmcgZHVtbXkgdXNlciB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGB1c2VyIGxlZnQgaWQ9JHtyZXF1ZXN0ZXJVc2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBVc2Vycy51cGRhdGUoXG4gICAgc2VsZWN0b3IsXG4gICAge1xuICAgICAgJHNldDoge1xuICAgICAgICBsb2dnZWRPdXQ6IHRydWUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgY2IsXG4gICk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgcGVuZGluZ0F1dGhlbnRpY2F0aW9uc1N0b3JlIGZyb20gJy4uL3N0b3JlL3BlbmRpbmdBdXRoZW50aWNhdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2YWxpZGF0ZUF1dGhUb2tlbihtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcmVxdWVzdGVyVG9rZW4pIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdWYWxpZGF0ZUF1dGhUb2tlblJlcU1zZyc7XG5cbiAgLy8gU3RvcmUgcmVmZXJlbmNlIG9mIG1ldGhvZEludm9jYXRpb25PYmplY3QgKCB0byBwb3N0cG9uZSB0aGUgY29ubmVjdGlvbiB1c2VySWQgZGVmaW5pdGlvbiApXG4gIHBlbmRpbmdBdXRoZW50aWNhdGlvbnNTdG9yZS5hZGQobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHJlcXVlc3RlclRva2VuLCB0aGlzKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIGF1dGhUb2tlbjogcmVxdWVzdGVyVG9rZW4sXG4gIH07XG5cbiAgTG9nZ2VyLmluZm8oYFVzZXIgJyR7cmVxdWVzdGVyVXNlcklkfScgaXMgdHJ5aW5nIHRvIHZhbGlkYXRlIGF1dGggdG9rZW4gZm9yIG1lZXRpbmcgJyR7bWVldGluZ0lkfScgZnJvbSBjb25uZWN0aW9uICcke3RoaXMuY29ubmVjdGlvbi5pZH0nYCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9hZGRVc2VyJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGREaWFsSW5Vc2VyKG1lZXRpbmdJZCwgdm9pY2VVc2VyKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VVc2VyLCBPYmplY3QpO1xuXG4gIGNvbnN0IFVTRVJfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy51c2VyO1xuICBjb25zdCBST0xFX1ZJRVdFUiA9IFVTRVJfQ09ORklHLnJvbGVfdmlld2VyO1xuXG4gIGNvbnN0IHsgaW50SWQsIGNhbGxlck5hbWUgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCB2b2ljZU9ubHlVc2VyID0ge1xuICAgIGludElkLFxuICAgIGV4dElkOiBpbnRJZCwgLy8gVE9ET1xuICAgIG5hbWU6IGNhbGxlck5hbWUsXG4gICAgcm9sZTogUk9MRV9WSUVXRVIudG9Mb3dlckNhc2UoKSxcbiAgICBndWVzdDogZmFsc2UsXG4gICAgYXV0aGVkOiB0cnVlLFxuICAgIHdhaXRpbmdGb3JBY2NlcHRhbmNlOiBmYWxzZSxcbiAgICBndWVzdFN0YXR1czogJ0FMTE9XJyxcbiAgICBlbW9qaTogJ25vbmUnLFxuICAgIHByZXNlbnRlcjogZmFsc2UsXG4gICAgbG9ja2VkOiBmYWxzZSwgLy8gVE9ET1xuICAgIGF2YXRhcjogJycsXG4gICAgY2xpZW50VHlwZTogJ2RpYWwtaW4tdXNlcicsXG4gIH07XG5cbiAgcmV0dXJuIGFkZFVzZXIobWVldGluZ0lkLCB2b2ljZU9ubHlVc2VyKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvJztcblxuaW1wb3J0IHN0cmluZ0hhc2ggZnJvbSAnc3RyaW5nLWhhc2gnO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5cbmltcG9ydCBhZGRWb2ljZVVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkVm9pY2VVc2VyJztcblxuY29uc3QgQ09MT1JfTElTVCA9IFtcbiAgJyM3YjFmYTInLCAnIzZhMWI5YScsICcjNGExNDhjJywgJyM1ZTM1YjEnLCAnIzUxMmRhOCcsICcjNDUyN2EwJyxcbiAgJyMzMTFiOTInLCAnIzM5NDlhYicsICcjMzAzZjlmJywgJyMyODM1OTMnLCAnIzFhMjM3ZScsICcjMTk3NmQyJywgJyMxNTY1YzAnLFxuICAnIzBkNDdhMScsICcjMDI3N2JkJywgJyMwMTU3OWInLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVXNlcihtZWV0aW5nSWQsIHVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNoZWNrKHVzZXIsIHtcbiAgICBpbnRJZDogU3RyaW5nLFxuICAgIGV4dElkOiBTdHJpbmcsXG4gICAgbmFtZTogU3RyaW5nLFxuICAgIHJvbGU6IFN0cmluZyxcbiAgICBndWVzdDogQm9vbGVhbixcbiAgICBhdXRoZWQ6IEJvb2xlYW4sXG4gICAgd2FpdGluZ0ZvckFjY2VwdGFuY2U6IE1hdGNoLk1heWJlKEJvb2xlYW4pLFxuICAgIGd1ZXN0U3RhdHVzOiBTdHJpbmcsXG4gICAgZW1vamk6IFN0cmluZyxcbiAgICBwcmVzZW50ZXI6IEJvb2xlYW4sXG4gICAgbG9ja2VkOiBCb29sZWFuLFxuICAgIGF2YXRhcjogU3RyaW5nLFxuICAgIGNsaWVudFR5cGU6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3QgdXNlcklkID0gdXNlci5pbnRJZDtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuICBjb25zdCBNZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9KTtcblxuICAvKiBXaGlsZSB0aGUgYWtrYS1hcHBzIGRvbnQgZ2VuZXJhdGUgYSBjb2xvciB3ZSBqdXN0IHBpY2sgb25lXG4gICAgZnJvbSBhIGxpc3QgYmFzZWQgb24gdGhlIHVzZXJJZCAqL1xuICBjb25zdCBjb2xvciA9IENPTE9SX0xJU1Rbc3RyaW5nSGFzaCh1c2VyLmludElkKSAlIENPTE9SX0xJU1QubGVuZ3RoXTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBtZWV0aW5nSWQsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdvbmxpbmUnLFxuICAgICAgICBzb3J0TmFtZTogdXNlci5uYW1lLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICBjb2xvcixcbiAgICAgICAgYnJlYWtvdXRQcm9wczoge1xuICAgICAgICAgIGlzQnJlYWtvdXRVc2VyOiBNZWV0aW5nLm1lZXRpbmdQcm9wLmlzQnJlYWtvdXQsXG4gICAgICAgICAgcGFyZW50SWQ6IE1lZXRpbmcuYnJlYWtvdXRQcm9wcy5wYXJlbnRJZCxcbiAgICAgICAgfSxcbiAgICAgICAgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGU6IG51bGwsXG4gICAgICAgIGluYWN0aXZpdHlDaGVjazogZmFsc2UsXG4gICAgICAgIHJlc3BvbnNlRGVsYXk6IDAsXG4gICAgICAgIGxvZ2dlZE91dDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgZmxhdCh1c2VyKSxcbiAgICApLFxuICB9O1xuXG4gIC8vIE9ubHkgYWRkIGFuIGVtcHR5IFZvaWNlVXNlciBpZiB0aGVyZSBpc24ndCBvbmUgYWxyZWFkeSBhbmQgaWYgdGhlIHVzZXIgY29taW5nIGluIGlzbid0IGFcbiAgLy8gZGlhbC1pbiB1c2VyLiBXZSB3YW50IHRvIGF2b2lkIG92ZXJ3cml0aW5nIGdvb2QgZGF0YVxuICBpZiAodXNlci5jbGllbnRUeXBlICE9PSAnZGlhbC1pbi11c2VyJyAmJiAhVm9pY2VVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCBpbnRJZDogdXNlcklkIH0pKSB7XG4gICAgYWRkVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgICAgdm9pY2VVc2VySWQ6ICcnLFxuICAgICAgaW50SWQ6IHVzZXJJZCxcbiAgICAgIGNhbGxlck5hbWU6IHVzZXIubmFtZSxcbiAgICAgIGNhbGxlck51bTogJycsXG4gICAgICBtdXRlZDogZmFsc2UsXG4gICAgICB0YWxraW5nOiBmYWxzZSxcbiAgICAgIGNhbGxpbmdXaXRoOiAnJyxcbiAgICAgIGxpc3Rlbk9ubHk6IGZhbHNlLFxuICAgICAgdm9pY2VDb25mOiAnJyxcbiAgICAgIGpvaW5lZDogZmFsc2UsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgdXNlciB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IG51bUNoYW5nZWQ7XG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgdXNlciBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwc2VydGVkIHVzZXIgaWQ9JHt1c2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyBmcm9tICcvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL3N0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VQcmVzZW50ZXIocHJlc2VudGVyLCB1c2VySWQsIG1lZXRpbmdJZCwgY2hhbmdlZEJ5KSB7XG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgcHJlc2VudGVyLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQ2hhbmdlZCB1c2VyIHJvbGU6ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYENoYW5nZWQgcHJlc2VudGVyPSR7cHJlc2VudGVyfSBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gXG4gICAgICArIGAke2NoYW5nZWRCeSA/IGAgY2hhbmdlZEJ5PSR7Y2hhbmdlZEJ5fWAgOiAnJ31gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCBtZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9KTtcbiAgaWYgKG1lZXRpbmcgJiYgbWVldGluZy5leHRlcm5hbFZpZGVvVXJsKSB7XG4gICAgTG9nZ2VyLmluZm8oYENoYW5nZVByZXNlbnRlcjpUaGVyZSBpcyBleHRlcm5hbCB2aWRlbyBiZWluZyBzaGFyZWQuIFN0b3BwaW5nIGl0IGR1ZSB0byBwcmVzZW50ZXIgY2hhbmdlLCAke21lZXRpbmcuZXh0ZXJuYWxWaWRlb1VybH1gKTtcbiAgICBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvKHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHVzZXJJZCB9KTtcbiAgfVxuICByZXR1cm4gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZVJvbGUocm9sZSwgdXNlcklkLCBtZWV0aW5nSWQsIGNoYW5nZWRCeSkge1xuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHJvbGUsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBDaGFuZ2VkIHVzZXIgcm9sZTogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQ2hhbmdlZCB1c2VyIHJvbGU9JHtyb2xlfSBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gXG4gICAgICArIGAke2NoYW5nZWRCeSA/IGAgY2hhbmdlZEJ5PSR7Y2hhbmdlZEJ5fWAgOiAnJ31gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9pbmRleCc7XG5cbmNvbnN0IGNsZWFyVXNlcnMgPSAobWVldGluZ0lkKSA9PiB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gVXNlcnMucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFVzZXJzICgke21lZXRpbmdJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gVXNlcnMucmVtb3ZlKHt9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgVXNlcnMgKGFsbCknKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGVhclVzZXJzO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlRHVtbXlVc2VyKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGF1dGhUb2tlbiwgU3RyaW5nKTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgdXNlcklkIH0pO1xuICBpZiAoVXNlcikge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2V4aXN0aW5nLXVzZXInLCAnVHJpZWQgdG8gY3JlYXRlIGEgZHVtbXkgdXNlciBmb3IgYW4gZXhpc3RpbmcgdXNlcicpO1xuICB9XG5cbiAgY29uc3QgZG9jID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgYXV0aFRva2VuLFxuICAgIGNsaWVudFR5cGU6ICdIVE1MNScsXG4gICAgdmFsaWRhdGVkOiBudWxsLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQ3JlYXRpbmcgZHVtbXkgdXNlciB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDcmVhdGVkIGR1bW15IHVzZXIgaWQ9JHt1c2VySWR9IHRva2VuPSR7YXV0aFRva2VufSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVXNlcnMuaW5zZXJ0KGRvYywgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgVmlkZW9TdHJlYW1zIGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvIGZyb20gJy9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyc7XG5pbXBvcnQgY2xlYXJVc2VySW5mb0ZvclJlcXVlc3RlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL21vZGlmaWVycy9jbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyJztcblxuY29uc3QgY2xlYXJBbGxTZXNzaW9ucyA9IChzZXNzaW9uVXNlcklkKSA9PiB7XG4gIGNvbnN0IHNlcnZlclNlc3Npb25zID0gTWV0ZW9yLnNlcnZlci5zZXNzaW9ucztcbiAgT2JqZWN0LmtleXMoc2VydmVyU2Vzc2lvbnMpXG4gICAgLmZpbHRlcihpID0+IHNlcnZlclNlc3Npb25zW2ldLnVzZXJJZCA9PT0gc2Vzc2lvblVzZXJJZClcbiAgICAuZm9yRWFjaChpID0+IHNlcnZlclNlc3Npb25zW2ldLmNsb3NlKCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlVXNlcihtZWV0aW5nSWQsIHVzZXJJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCB1c2VyVG9SZW1vdmUgPSBVc2Vycy5maW5kT25lKHsgdXNlcklkLCBtZWV0aW5nSWQgfSk7XG5cbiAgaWYgKHVzZXJUb1JlbW92ZSkge1xuICAgIGNvbnN0IHsgcHJlc2VudGVyIH0gPSB1c2VyVG9SZW1vdmU7XG4gICAgaWYgKHByZXNlbnRlcikge1xuICAgICAgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyh7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBjb25uZWN0aW9uU3RhdHVzOiAnb2ZmbGluZScsXG4gICAgICB2YWxpZGF0ZWQ6IGZhbHNlLFxuICAgICAgZW1vamk6ICdub25lJyxcbiAgICAgIHByZXNlbnRlcjogZmFsc2UsXG4gICAgICByb2xlOiAnVklFV0VSJyxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIHVzZXIgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXNzaW9uVXNlcklkID0gYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gO1xuICAgIGNsZWFyQWxsU2Vzc2lvbnMoc2Vzc2lvblVzZXJJZCk7XG5cbiAgICBjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyKG1lZXRpbmdJZCwgdXNlcklkKTtcblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgUmVtb3ZlZCB1c2VyIGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuICBWaWRlb1N0cmVhbXMucmVtb3ZlKHsgbWVldGluZ0lkLCB1c2VySWQgfSk7XG4gIHJldHVybiBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuKG1lZXRpbmdJZCwgdXNlcklkLCBjb25uZWN0aW9uSWQsIGF1dGhUb2tlbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soYXV0aFRva2VuLCBTdHJpbmcpO1xuICBjaGVjayhjb25uZWN0aW9uSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBjb25uZWN0aW9uSWQsXG4gICAgICBhdXRoVG9rZW4sXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIGNvbm5lY3Rpb25JZCB1c2VyPSR7dXNlcklkfTogJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcGRhdGVkIGNvbm5lY3Rpb25JZCBhbmQgYXV0aFRva2VuIHVzZXI9JHt1c2VySWR9IGNvbm5lY3Rpb25JZD0ke2Nvbm5lY3Rpb25JZH0gbWVldGluZz0ke21lZXRpbmdJZH0gYXV0aFRva2VuPSR7YXV0aFRva2VufWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZShtZWV0aW5nSWQsIHVzZXJJZCwgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGU6IHsgJG5lOiBlZmZlY3RpdmVDb25uZWN0aW9uVHlwZSB9LFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBVcGRhdGluZyB1c2VyICR7dXNlcklkfTogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcGRhdGVkIHVzZXIgJHt1c2VySWR9IGVmZmVjdGl2ZSBjb25uZWN0aW9uIHRvICR7ZWZmZWN0aXZlQ29ubmVjdGlvblR5cGV9IGluIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlckluZm9Gb3JSZXF1ZXN0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyRWplY3RlZChtZWV0aW5nSWQsIHVzZXJJZCwgZWplY3RlZFJlYXNvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soZWplY3RlZFJlYXNvbiwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGVqZWN0ZWQ6IHRydWUsXG4gICAgICBlamVjdGVkUmVhc29uLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgRWplY3RpbmcgdXNlciBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyKG1lZXRpbmdJZCwgdXNlcklkKTtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgRWplY3RlZCB1c2VyIGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfSByZWFzb249JHtlamVjdGVkUmVhc29ufWApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlckluYWN0aXZpdHlJbnNwZWN0KHVzZXJJZCwgcmVzcG9uc2VEZWxheSkge1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlc3BvbnNlRGVsYXksIE1hdGNoLkludGVnZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHVzZXJJZCxcbiAgICBpbmFjdGl2aXR5Q2hlY2s6IGZhbHNlLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGluYWN0aXZpdHlDaGVjazogdHJ1ZSxcbiAgICAgIHJlc3BvbnNlRGVsYXksXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBJbmFjdGl2aXR5IGNoZWNrIGZvciB1c2VyICR7dXNlcklkfTogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBkYXRlZCB1c2VyICR7dXNlcklkfSB3aXRoIGluYWN0aXZpdHkgaW5zcGVjdGApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmNsYXNzIFBlbmRpbmdBdXRoZW50aXRjYXRpb25zIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIExvZ2dlci5kZWJ1ZyhcIlBlbmRpbmdBdXRoZW50aXRjYXRpb25zIDo6IGNvbnN0cnVjdG9yXCIpO1xuICAgICAgICB0aGlzLnN0b3JlID0gW107XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVLZXkgKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pIHtcbiAgICAgICAgLy8gUHJvdGVjdCBhZ2FpbnN0IHNlcGFyYXRvciBpbmplY3Rpb25cbiAgICAgICAgbWVldGluZ0lkID0gbWVldGluZ0lkLnJlcGxhY2UoLyAvZywgJycpO1xuICAgICAgICB1c2VySWQgICAgPSB1c2VySWQucmVwbGFjZSgvIC9nLCAnJyk7XG4gICAgICAgIGF1dGhUb2tlbiA9IGF1dGhUb2tlbi5yZXBsYWNlKC8gL2csICcnKTtcblxuICAgICAgICAvLyBTcGFjZSBzZXBhcmF0ZWQga2V5XG4gICAgICAgIHJldHVybiBgJHttZWV0aW5nSWR9ICR7dXNlcklkfSAke2F1dGhUb2tlbn1gO1xuICAgIH1cblxuICAgIGFkZCAobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbiwgbWV0aG9kSW52b2NhdGlvbk9iamVjdCkge1xuICAgICAgICBMb2dnZXIuZGVidWcoXCJQZW5kaW5nQXV0aGVudGl0Y2F0aW9ucyA6OiBhZGRcIiwge21lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW59KTtcbiAgICAgICAgdGhpcy5zdG9yZS5wdXNoKHtcbiAgICAgICAgICAgIGtleTogdGhpcy5nZW5lcmF0ZUtleShtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKSxcbiAgICAgICAgICAgIG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4sIG1ldGhvZEludm9jYXRpb25PYmplY3RcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGFrZSAobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbikge1xuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmdlbmVyYXRlS2V5KG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pO1xuICAgICAgICBMb2dnZXIuZGVidWcoXCJQZW5kaW5nQXV0aGVudGl0Y2F0aW9ucyA6OiB0YWtlXCIsIHtrZXksIG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW59KTtcbiAgICAgICAgXG4gICAgICAgIC8vIGZpbmQgbWF0Y2hlc1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5zdG9yZS5maWx0ZXIoIGUgPT4gZS5rZXkgPT09IGtleSApO1xuICAgICAgICBcbiAgICAgICAgLy8gcmVtb3ZlIG1hdGNoZXMgKGlmIGFueSlcbiAgICAgICAgaWYobWF0Y2hlcy5sZW5ndGgpIHsgXG4gICAgICAgICAgICB0aGlzLnN0b3JlID0gdGhpcy5zdG9yZS5maWx0ZXIoIGUgPT4gZS5rZXkgIT09IGtleSApIDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHVybiBtYXRjaGVzXG4gICAgICAgIHJldHVybiBtYXRjaGVzO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IG5ldyBQZW5kaW5nQXV0aGVudGl0Y2F0aW9ucygpOyIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlUmVtb3ZlVXNlciBmcm9tICcuL2hhbmRsZXJzL3JlbW92ZVVzZXInO1xuaW1wb3J0IGhhbmRsZVVzZXJKb2luZWQgZnJvbSAnLi9oYW5kbGVycy91c2VySm9pbmVkJztcbmltcG9ydCBoYW5kbGVWYWxpZGF0ZUF1dGhUb2tlbiBmcm9tICcuL2hhbmRsZXJzL3ZhbGlkYXRlQXV0aFRva2VuJztcbmltcG9ydCBoYW5kbGVQcmVzZW50ZXJBc3NpZ25lZCBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRlckFzc2lnbmVkJztcbmltcG9ydCBoYW5kbGVFbW9qaVN0YXR1cyBmcm9tICcuL2hhbmRsZXJzL2Vtb2ppU3RhdHVzJztcbmltcG9ydCBoYW5kbGVHZXRVc2VycyBmcm9tICcuL2hhbmRsZXJzL2dldFVzZXJzJztcbmltcG9ydCBoYW5kbGVVc2VyRWplY3RlZCBmcm9tICcuL2hhbmRsZXJzL3VzZXJFamVjdGVkJztcbmltcG9ydCBoYW5kbGVDaGFuZ2VSb2xlIGZyb20gJy4vaGFuZGxlcnMvY2hhbmdlUm9sZSc7XG5pbXBvcnQgaGFuZGxlVXNlckluYWN0aXZpdHlJbnNwZWN0IGZyb20gJy4vaGFuZGxlcnMvdXNlckluYWN0aXZpdHlJbnNwZWN0JztcblxuUmVkaXNQdWJTdWIub24oJ1ByZXNlbnRlckFzc2lnbmVkRXZ0TXNnJywgaGFuZGxlUHJlc2VudGVyQXNzaWduZWQpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJKb2luZWRNZWV0aW5nRXZ0TXNnJywgaGFuZGxlVXNlckpvaW5lZCk7XG5SZWRpc1B1YlN1Yi5vbignVXNlckxlZnRNZWV0aW5nRXZ0TXNnJywgaGFuZGxlUmVtb3ZlVXNlcik7XG5SZWRpc1B1YlN1Yi5vbignVmFsaWRhdGVBdXRoVG9rZW5SZXNwTXNnJywgaGFuZGxlVmFsaWRhdGVBdXRoVG9rZW4pO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJFbW9qaUNoYW5nZWRFdnRNc2cnLCBoYW5kbGVFbW9qaVN0YXR1cyk7XG5SZWRpc1B1YlN1Yi5vbignU3luY0dldFVzZXJzTWVldGluZ1Jlc3BNc2cnLCBoYW5kbGVHZXRVc2Vycyk7XG5SZWRpc1B1YlN1Yi5vbignVXNlckVqZWN0ZWRGcm9tTWVldGluZ0V2dE1zZycsIGhhbmRsZVVzZXJFamVjdGVkKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyUm9sZUNoYW5nZWRFdnRNc2cnLCBoYW5kbGVDaGFuZ2VSb2xlKTtcblJlZGlzUHViU3ViLm9uKCdVc2VySW5hY3Rpdml0eUluc3BlY3RNc2cnLCBoYW5kbGVVc2VySW5hY3Rpdml0eUluc3BlY3QpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgdmFsaWRhdGVBdXRoVG9rZW4gZnJvbSAnLi9tZXRob2RzL3ZhbGlkYXRlQXV0aFRva2VuJztcbmltcG9ydCBzZXRFbW9qaVN0YXR1cyBmcm9tICcuL21ldGhvZHMvc2V0RW1vamlTdGF0dXMnO1xuaW1wb3J0IGFzc2lnblByZXNlbnRlciBmcm9tICcuL21ldGhvZHMvYXNzaWduUHJlc2VudGVyJztcbmltcG9ydCBjaGFuZ2VSb2xlIGZyb20gJy4vbWV0aG9kcy9jaGFuZ2VSb2xlJztcbmltcG9ydCByZW1vdmVVc2VyIGZyb20gJy4vbWV0aG9kcy9yZW1vdmVVc2VyJztcbmltcG9ydCB0b2dnbGVVc2VyTG9jayBmcm9tICcuL21ldGhvZHMvdG9nZ2xlVXNlckxvY2snO1xuaW1wb3J0IHNldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZSBmcm9tICcuL21ldGhvZHMvc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlJztcbmltcG9ydCB1c2VyQWN0aXZpdHlTaWduIGZyb20gJy4vbWV0aG9kcy91c2VyQWN0aXZpdHlTaWduJztcbmltcG9ydCB1c2VyTGVmdE1lZXRpbmcgZnJvbSAnLi9tZXRob2RzL3VzZXJMZWZ0TWVldGluZyc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgc2V0RW1vamlTdGF0dXMsXG4gIGFzc2lnblByZXNlbnRlcixcbiAgY2hhbmdlUm9sZSxcbiAgcmVtb3ZlVXNlcixcbiAgdmFsaWRhdGVBdXRoVG9rZW4sXG4gIHRvZ2dsZVVzZXJMb2NrLFxuICBzZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUsXG4gIHVzZXJBY3Rpdml0eVNpZ24sXG4gIHVzZXJMZWZ0TWVldGluZyxcbn0pO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmltcG9ydCB1c2VyTGVhdmluZyBmcm9tICcuL21ldGhvZHMvdXNlckxlYXZpbmcnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IFJPTEVfTU9ERVJBVE9SID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy51c2VyLnJvbGVfbW9kZXJhdG9yO1xuXG5mdW5jdGlvbiBjdXJyZW50VXNlcigpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBVc2Vycy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socmVxdWVzdGVyVXNlcklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IGNvbm5lY3Rpb25JZCA9IHRoaXMuY29ubmVjdGlvbi5pZDtcbiAgY29uc3Qgb25DbG9zZUNvbm5lY3Rpb24gPSBNZXRlb3IuYmluZEVudmlyb25tZW50KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgdXNlckxlYXZpbmcobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIGNvbm5lY3Rpb25JZCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFeGNlcHRpb24gd2hpbGUgZXhlY3V0aW5nIHVzZXJMZWF2aW5nOiAke2V9YCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLl9zZXNzaW9uLnNvY2tldC5vbignY2xvc2UnLCBfLmRlYm91bmNlKG9uQ2xvc2VDb25uZWN0aW9uLCAxMDApKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHVzZXI6IGZhbHNlLFxuICAgICAgYXV0aFRva2VuOiBmYWxzZSwgLy8gTm90IGFza2luZyBmb3IgYXV0aFRva2VuIGZyb20gY2xpZW50IHNpZGUgYnV0IGFsc28gbm90IGV4cG9zaW5nIGl0XG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gVXNlcnMuZmluZChzZWxlY3Rvciwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hDdXJyZW50VXNlciguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kVXNlcnMgPSBjdXJyZW50VXNlci5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRVc2VycyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2N1cnJlbnQtdXNlcicsIHB1Ymxpc2hDdXJyZW50VXNlcik7XG5cbmZ1bmN0aW9uIHVzZXJzKHJvbGUpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBVc2Vycy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgICRvcjogW1xuICAgICAgeyBtZWV0aW5nSWQgfSxcbiAgICBdLFxuICB9O1xuXG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHsgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsIG1lZXRpbmdJZCB9LCB7IGZpZWxkczogeyByb2xlOiAxIH0gfSk7XG4gIGlmICghIVVzZXIgJiYgVXNlci5yb2xlID09PSBST0xFX01PREVSQVRPUikge1xuICAgIHNlbGVjdG9yLiRvci5wdXNoKHtcbiAgICAgICdicmVha291dFByb3BzLmlzQnJlYWtvdXRVc2VyJzogdHJ1ZSxcbiAgICAgICdicmVha291dFByb3BzLnBhcmVudElkJzogbWVldGluZ0lkLFxuICAgICAgY29ubmVjdGlvblN0YXR1czogJ29ubGluZScsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGZpZWxkczoge1xuICAgICAgYXV0aFRva2VuOiBmYWxzZSxcbiAgICAgIGxhc3RQaW5nOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBVc2VycyBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBVc2Vycy5maW5kKHNlbGVjdG9yLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kVXNlcnMgPSB1c2Vycy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRVc2VycyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3VzZXJzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVXNlcnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigndXNlcnMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgdXNlcnM6XG4gIC8vIDEuIG1lZXRpbmdJZFxuICAvLyAyLiBtZWV0aW5nSWQsIHVzZXJJZFxuXG4gIFVzZXJzLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgdXNlcklkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VycztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRVc2VySW5mbyBmcm9tICcuLi9tb2RpZmllcnMvYWRkVXNlckluZm8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVVc2VySW5mb3JtYXRpb24oeyBoZWFkZXIsIGJvZHkgfSkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuICBjaGVjayhoZWFkZXIsIE9iamVjdCk7XG5cbiAgY29uc3QgeyB1c2VySW5mbyB9ID0gYm9keTtcbiAgY29uc3QgeyB1c2VySWQsIG1lZXRpbmdJZCB9ID0gaGVhZGVyO1xuXG4gIGNoZWNrKHVzZXJJbmZvLCBBcnJheSk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIHJldHVybiBhZGRVc2VySW5mbyh1c2VySW5mbywgdXNlcklkLCBtZWV0aW5nSWQpO1xufVxuIiwiaW1wb3J0IFVzZXJJbmZvcyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVVzZXJJbmZvcm1hdGlvbigpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgdXNlciBpbmZvcm1hdGlvbiBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFJlbW92ZWQgdXNlciBpbmZvcm1hdGlvbjogcmVxdWVzdGVyIGlkPSR7cmVxdWVzdGVyVXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuICByZXR1cm4gVXNlckluZm9zLnJlbW92ZShzZWxlY3RvciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFVzZXJJbmZvcm1hdGlvbihleHRlcm5hbFVzZXJJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b1RoaXJkUGFydHk7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnTG9va1VwVXNlclJlcU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY2hlY2soZXh0ZXJuYWxVc2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBleHRlcm5hbFVzZXJJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBVc2VySW5mb3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVXNlckluZm8odXNlckluZm8sIHJlcXVlc3RlclVzZXJJZCwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IGluZm8gPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHJlcXVlc3RlclVzZXJJZCxcbiAgICB1c2VySW5mbyxcbiAgfTtcbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIHVzZXIgaW5mb3JtYXRpb24gdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgdXNlciBpbmZvcm1hdGlvbjogcmVxdWVzdGVyIGlkPSR7cmVxdWVzdGVyVXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBVc2VySW5mb3MuaW5zZXJ0KGluZm8sIGNiKTtcbn1cbiIsImltcG9ydCBVc2VySW5mb3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJVc2Vyc0luZm8obWVldGluZ0lkKSB7XG4gIHJldHVybiBVc2VySW5mb3MucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBVc2VyIEluZm9zICgke21lZXRpbmdJZH0pYCk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IFVzZXJJbmZvcyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclVzZXJzSW5mb0ZvclJlcXVlc3RlcihtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCkge1xuICByZXR1cm4gVXNlckluZm9zLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgVXNlciBJbmZvcyByZXF1ZXN0ZWQgYnkgdXNlcj0ke3JlcXVlc3RlclVzZXJJZH1gKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVVzZXJJbmZvcm1hdGlvbiBmcm9tICcuL2hhbmRsZXJzL3VzZXJJbmZvcm1hdGlvbic7XG5cblJlZGlzUHViU3ViLm9uKCdMb29rVXBVc2VyUmVzcE1zZycsIGhhbmRsZVVzZXJJbmZvcm1hdGlvbik7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCByZXF1ZXN0VXNlckluZm9ybWF0aW9uIGZyb20gJy4vbWV0aG9kcy9yZXF1ZXN0VXNlckluZm9ybWF0aW9uJztcbmltcG9ydCByZW1vdmVVc2VySW5mb3JtYXRpb24gZnJvbSAnLi9tZXRob2RzL3JlbW92ZVVzZXJJbmZvcm1hdGlvbic7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcmVxdWVzdFVzZXJJbmZvcm1hdGlvbixcbiAgcmVtb3ZlVXNlckluZm9ybWF0aW9uLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBVc2VySW5mb3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiB1c2VySW5mb3MoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVXNlckluZm9zLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIHVzZXIgaW5mb3MgcmVxdWVzdGVkIGJ5IHVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgcmV0dXJuIFVzZXJJbmZvcy5maW5kKHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFVzZXJJbmZvcyA9IHVzZXJJbmZvcy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRVc2VySW5mb3MoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd1c2Vycy1pbmZvcycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFVzZXJJbmZvcyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd1c2Vycy1pbmZvcycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIFVzZXJJbmZvcy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHVzZXJJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm9zO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZFVzZXJTZXR0aW5nIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFVzZXJTZXR0aW5nJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBvbGRQYXJhbWV0ZXJzID0ge1xuICBhc2tGb3JGZWVkYmFja09uTG9nb3V0OiAnYmJiX2Fza19mb3JfZmVlZGJhY2tfb25fbG9nb3V0JyxcbiAgYXV0b0pvaW46ICdiYmJfYXV0b19qb2luX2F1ZGlvJyxcbiAgYXV0b1NoYXJlV2ViY2FtOiAnYmJiX2F1dG9fc2hhcmVfd2ViY2FtJyxcbiAgYXV0b1N3YXBMYXlvdXQ6ICdiYmJfYXV0b19zd2FwX2xheW91dCcsXG4gIGNsaWVudFRpdGxlOiAnYmJiX2NsaWVudF90aXRsZScsXG4gIGN1c3RvbVN0eWxlOiAnYmJiX2N1c3RvbV9zdHlsZScsXG4gIGN1c3RvbVN0eWxlVXJsOiAnYmJiX2N1c3RvbV9zdHlsZV91cmwnLFxuICBkaXNwbGF5QnJhbmRpbmdBcmVhOiAnYmJiX2Rpc3BsYXlfYnJhbmRpbmdfYXJlYScsXG4gIGVuYWJsZVNjcmVlbnNoYXJpbmc6ICdiYmJfZW5hYmxlX3NjcmVlbl9zaGFyaW5nJyxcbiAgZW5hYmxlVmlkZW86ICdiYmJfZW5hYmxlX3ZpZGVvJyxcbiAgZW5hYmxlVmlkZW9TdGF0czogJ2JiYl9lbmFibGVfdmlkZW9fc3RhdHMnLFxuICBmb3JjZUxpc3Rlbk9ubHk6ICdiYmJfZm9yY2VfbGlzdGVuX29ubHknLFxuICBoaWRlUHJlc2VudGF0aW9uOiAnYmJiX2hpZGVfcHJlc2VudGF0aW9uJyxcbiAgbGlzdGVuT25seU1vZGU6ICdiYmJfbGlzdGVuX29ubHlfbW9kZScsXG4gIG11bHRpVXNlclBlbk9ubHk6ICdiYmJfbXVsdGlfdXNlcl9wZW5fb25seScsXG4gIG11bHRpVXNlclRvb2xzOiAnYmJiX211bHRpX3VzZXJfdG9vbHMnLFxuICBvdXRzaWRlVG9nZ2xlUmVjb3JkaW5nOiAnYmJiX291dHNpZGVfdG9nZ2xlX3JlY29yZGluZycsXG4gIG91dHNpZGVUb2dnbGVTZWxmVm9pY2U6ICdiYmJfb3V0c2lkZV90b2dnbGVfc2VsZl92b2ljZScsXG4gIHByZXNlbnRlclRvb2xzOiAnYmJiX3ByZXNlbnRlcl90b29scycsXG4gIHNob3J0Y3V0czogJ2JiYl9zaG9ydGN1dHMnLFxuICBza2lwQ2hlY2s6ICdiYmJfc2tpcF9jaGVja19hdWRpbycsXG59O1xuXG5jb25zdCBvbGRQYXJhbWV0ZXJzS2V5cyA9IE9iamVjdC5rZXlzKG9sZFBhcmFtZXRlcnMpO1xuXG5jb25zdCBjdXJyZW50UGFyYW1ldGVycyA9IFtcbiAgLy8gQVBQXG4gICdiYmJfYXNrX2Zvcl9mZWVkYmFja19vbl9sb2dvdXQnLFxuICAnYmJiX2F1dG9fam9pbl9hdWRpbycsXG4gICdiYmJfY2xpZW50X3RpdGxlJyxcbiAgJ2JiYl9mb3JjZV9saXN0ZW5fb25seScsXG4gICdiYmJfbGlzdGVuX29ubHlfbW9kZScsXG4gICdiYmJfc2tpcF9jaGVja19hdWRpbycsXG4gIC8vIEJSQU5ESU5HXG4gICdiYmJfZGlzcGxheV9icmFuZGluZ19hcmVhJyxcbiAgLy8gU0hPUlRDVVRTXG4gICdiYmJfc2hvcnRjdXRzJyxcbiAgLy8gS1VSRU5UT1xuICAnYmJiX2F1dG9fc2hhcmVfd2ViY2FtJyxcbiAgJ2JiYl9wcmVmZXJyZWRfY2FtZXJhX3Byb2ZpbGUnLFxuICAnYmJiX2VuYWJsZV9zY3JlZW5fc2hhcmluZycsXG4gICdiYmJfZW5hYmxlX3ZpZGVvJyxcbiAgJ2JiYl9lbmFibGVfdmlkZW9fc3RhdHMnLFxuICAnYmJiX3NraXBfdmlkZW9fcHJldmlldycsXG4gIC8vIFBSRVNFTlRBVElPTlxuICAnYmJiX2ZvcmNlX3Jlc3RvcmVfcHJlc2VudGF0aW9uX29uX25ld19ldmVudHMnLFxuICAvLyBXSElURUJPQVJEXG4gICdiYmJfbXVsdGlfdXNlcl9wZW5fb25seScsXG4gICdiYmJfcHJlc2VudGVyX3Rvb2xzJyxcbiAgJ2JiYl9tdWx0aV91c2VyX3Rvb2xzJyxcbiAgLy8gU0tJTk5JTkcvVEhFTU1JTkdcbiAgJ2JiYl9jdXN0b21fc3R5bGUnLFxuICAnYmJiX2N1c3RvbV9zdHlsZV91cmwnLFxuICAvLyBMQVlPVVRcbiAgJ2JiYl9hdXRvX3N3YXBfbGF5b3V0JyxcbiAgJ2JiYl9oaWRlX3ByZXNlbnRhdGlvbicsXG4gICdiYmJfc2hvd19wYXJ0aWNpcGFudHNfb25fbG9naW4nLFxuICAnYmJiX3Nob3dfcHVibGljX2NoYXRfb25fbG9naW4nLFxuICAvLyBPVVRTSURFIENPTU1BTkRTXG4gICdiYmJfb3V0c2lkZV90b2dnbGVfc2VsZl92b2ljZScsXG4gICdiYmJfb3V0c2lkZV90b2dnbGVfcmVjb3JkaW5nJyxcbl07XG5cbmZ1bmN0aW9uIHZhbHVlUGFyc2VyKHZhbCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gSlNPTi5wYXJzZSh2YWwudG9Mb3dlckNhc2UoKSk7XG4gICAgcmV0dXJuIHBhcnNlZFZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcignUGFyYW1ldGVyIHZhbHVlIGNvdWxkIG5vdCBiZXIgcGFyc2VkJyk7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRVc2VyU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgY2hlY2soc2V0dGluZ3MsIFtPYmplY3RdKTtcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgbGV0IHBhcmFtZXRlcnMgPSB7fTtcblxuICBzZXR0aW5ncy5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnN0IHNldHRpbmdLZXkgPSBPYmplY3Qua2V5cyhlbCkuc2hpZnQoKTtcblxuICAgIGlmIChjdXJyZW50UGFyYW1ldGVycy5pbmNsdWRlcyhzZXR0aW5nS2V5KSkge1xuICAgICAgaWYgKCFPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKS5pbmNsdWRlcyhzZXR0aW5nS2V5KSkge1xuICAgICAgICBwYXJhbWV0ZXJzID0ge1xuICAgICAgICAgIFtzZXR0aW5nS2V5XTogdmFsdWVQYXJzZXIoZWxbc2V0dGluZ0tleV0pLFxuICAgICAgICAgIC4uLnBhcmFtZXRlcnMsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbWV0ZXJzW3NldHRpbmdLZXldID0gZWxbc2V0dGluZ0tleV07XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG9sZFBhcmFtZXRlcnNLZXlzLmluY2x1ZGVzKHNldHRpbmdLZXkpKSB7XG4gICAgICBjb25zdCBtYXRjaGluZ05ld0tleSA9IG9sZFBhcmFtZXRlcnNbc2V0dGluZ0tleV07XG4gICAgICBpZiAoIU9iamVjdC5rZXlzKHBhcmFtZXRlcnMpLmluY2x1ZGVzKG1hdGNoaW5nTmV3S2V5KSkge1xuICAgICAgICBwYXJhbWV0ZXJzID0ge1xuICAgICAgICAgIFttYXRjaGluZ05ld0tleV06IHZhbHVlUGFyc2VyKGVsW3NldHRpbmdLZXldKSxcbiAgICAgICAgICAuLi5wYXJhbWV0ZXJzLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxvZ2dlci53YXJuKGBQYXJhbWV0ZXIgJHtzZXR0aW5nS2V5fSBub3QgaGFuZGxlZGApO1xuICB9KTtcblxuICBjb25zdCBzZXR0aW5nc0FkZGVkID0gW107XG4gIE9iamVjdC5lbnRyaWVzKHBhcmFtZXRlcnMpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgY29uc3Qgc2V0dGluZyA9IGVsWzBdO1xuICAgIGNvbnN0IHZhbHVlID0gZWxbMV07XG4gICAgc2V0dGluZ3NBZGRlZC5wdXNoKGFkZFVzZXJTZXR0aW5nKG1lZXRpbmdJZCwgdXNlcklkLCBzZXR0aW5nLCB2YWx1ZSkpO1xuICB9KTtcblxuICByZXR1cm4gc2V0dGluZ3NBZGRlZDtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VyU2V0dGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVXNlclNldHRpbmcobWVldGluZ0lkLCB1c2VySWQsIHNldHRpbmcsIHZhbHVlKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhzZXR0aW5nLCBTdHJpbmcpO1xuICBjaGVjayh2YWx1ZSwgTWF0Y2guQW55KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICAgIHNldHRpbmcsXG4gIH07XG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIHNldHRpbmcsXG4gICAgICB2YWx1ZSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyB1c2VyIHNldHRpbmcgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci52ZXJib3NlKGBVcHNlcnRlZCB1c2VyIHNldHRpbmcgZm9yIG1lZXRpbmdJZD0ke21lZXRpbmdJZH0gdXNlcklkPSR7dXNlcklkfSBzZXR0aW5nPSR7c2V0dGluZ31gKTtcbiAgfTtcblxuICByZXR1cm4gVXNlclNldHRpbmdzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBVc2VyU2V0dGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJVc2Vyc1NldHRpbmdzKG1lZXRpbmdJZCkge1xuICByZXR1cm4gVXNlclNldHRpbmdzLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgVXNlciBTZXR0aW5ncyAoJHttZWV0aW5nSWR9KWApO1xuICB9KTtcbn1cbiIsImltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGFkZFVzZXJTZXR0aW5ncyBmcm9tICcuL21ldGhvZHMvYWRkVXNlclNldHRpbmdzJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBhZGRVc2VyU2V0dGluZ3MsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFVzZXJTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHVzZXJTZXR0aW5ncygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBVc2VyU2V0dGluZ3MuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgdXNlciBzZXR0aW5ncyBmb3IgdXNlcj0ke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gVXNlclNldHRpbmdzLmZpbmQoeyBtZWV0aW5nSWQsIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRVc2VyU2V0dGluZ3MgPSB1c2VyU2V0dGluZ3MuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVXNlclNldHRpbmdzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgndXNlcnMtc2V0dGluZ3MnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBVc2VyU2V0dGluZ3MgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigndXNlcnMtc2V0dGluZ3MnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBVc2VyU2V0dGluZ3MuX2Vuc3VyZUluZGV4KHtcbiAgICBtZWV0aW5nSWQ6IDEsIHVzZXJJZDogMSxcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJTZXR0aW5ncztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBzaGFyZWRXZWJjYW0gZnJvbSAnLi4vbW9kaWZpZXJzL3NoYXJlZFdlYmNhbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJTaGFyZWRIdG1sNVdlYmNhbSh7IGhlYWRlciwgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyB1c2VySWQsIHN0cmVhbSB9ID0gYm9keTtcbiAgY29uc3QgaXNWYWxpZFN0cmVhbSA9ICh0ZXN0U3RyaW5nKSA9PiB7XG4gICAgLy8gQ2hlY2tpbmcgaWYgdGhlIHN0cmVhbSBuYW1lIGlzIGEgZmxhc2ggb25lXG4gICAgY29uc3QgcmVnZXhwID0gL14oW0EtejAtOV0rKS0oW0EtejAtOV0rKS0oW0EtejAtOV0rKSgtcmVjb3JkZWQpPyQvO1xuICAgIHJldHVybiAhcmVnZXhwLnRlc3QodGVzdFN0cmluZyk7XG4gIH07XG5cbiAgY2hlY2soaGVhZGVyLCBPYmplY3QpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soc3RyZWFtLCBTdHJpbmcpO1xuXG4gIGlmICghaXNWYWxpZFN0cmVhbShzdHJlYW0pKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHNoYXJlZFdlYmNhbShtZWV0aW5nSWQsIHVzZXJJZCwgc3RyZWFtKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB1bnNoYXJlZFdlYmNhbSBmcm9tICcuLi9tb2RpZmllcnMvdW5zaGFyZWRXZWJjYW0nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVVc2VyVW5zaGFyZWRIdG1sNVdlYmNhbSh7IGhlYWRlciwgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyB1c2VySWQsIHN0cmVhbSB9ID0gYm9keTtcbiAgY29uc3QgaXNWYWxpZFN0cmVhbSA9ICh0ZXN0U3RyaW5nKSA9PiB7XG4gICAgLy8gQ2hlY2tpbmcgaWYgdGhlIHN0cmVhbSBuYW1lIGlzIGEgZmxhc2ggb25lXG4gICAgY29uc3QgcmVnZXhwID0gL14oW0EtejAtOV0rKS0oW0EtejAtOV0rKS0oW0EtejAtOV0rKSgtcmVjb3JkZWQpPyQvO1xuICAgIHJldHVybiAhcmVnZXhwLnRlc3QodGVzdFN0cmluZyk7XG4gIH07XG5cbiAgY2hlY2soaGVhZGVyLCBPYmplY3QpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soc3RyZWFtLCBTdHJpbmcpO1xuXG4gIGlmICghaXNWYWxpZFN0cmVhbShzdHJlYW0pKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHVuc2hhcmVkV2ViY2FtKG1lZXRpbmdJZCwgdXNlcklkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyU2hhcmVXZWJjYW0oc3RyZWFtKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckJyb2FkY2FzdENhbVN0YXJ0TXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgdXNlciBzaGFyaW5nIHdlYmNhbTogJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICAvLyBjb25zdCBhY3Rpb25OYW1lID0gJ2pvaW5WaWRlbyc7XG4gIC8qIFRPRE8gdGhyb3cgYW4gZXJyb3IgaWYgdXNlciBoYXMgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB3ZWJjYW1cbiAgaWYgKCFpc0FsbG93ZWRUbyhhY3Rpb25OYW1lLCBjcmVkZW50aWFscykpIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdub3QtYWxsb3dlZCcsIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHNoYXJlIHdlYmNhbWApO1xuICB9ICovXG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBzdHJlYW0sXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlclVuc2hhcmVXZWJjYW0oc3RyZWFtKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckJyb2FkY2FzdENhbVN0b3BNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5pbmZvKGB1c2VyIHVuc2hhcmluZyB3ZWJjYW06ICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICBjaGVjayhzdHJlYW0sIFN0cmluZyk7XG5cbiAgLy8gY29uc3QgYWN0aW9uTmFtZSA9ICdqb2luVmlkZW8nO1xuICAvKiBUT0RPIHRocm93IGFuIGVycm9yIGlmIHVzZXIgaGFzIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgd2ViY2FtXG4gIGlmICghaXNBbGxvd2VkVG8oYWN0aW9uTmFtZSwgY3JlZGVudGlhbHMpKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm90LWFsbG93ZWQnLCBgWW91IGFyZSBub3QgYWxsb3dlZCB0byBzaGFyZSB3ZWJjYW1gKTtcbiAgfSAqL1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgc3RyZWFtLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZpZGVvU3RyZWFtcyBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNoYXJlZFdlYmNhbShtZWV0aW5nSWQsIHVzZXJJZCwgc3RyZWFtKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgc3RyZWFtLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgRXJyb3Igc2V0dGluZyBoYXNTdHJlYW0gdG8gdHJ1ZTogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBkYXRlZCBoYXNTdHJlYW0gZm9yIHVzZXIgaWQ9JHt1c2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBWaWRlb1N0cmVhbXMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZpZGVvU3RyZWFtcyBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuc2hhcmVkV2ViY2FtKG1lZXRpbmdJZCwgdXNlcklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgRXJyb3Igc2V0dGluZyBoYXNTdHJlYW0gdG8gZmFsc2U6ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwZGF0ZWQgaGFzU3RyZWFtIGZvciB1c2VyIGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVmlkZW9TdHJlYW1zLnJlbW92ZShzZWxlY3RvciwgY2IpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVVc2VyU2hhcmVkSHRtbDVXZWJjYW0gZnJvbSAnLi9oYW5kbGVycy91c2VyU2hhcmVkSHRtbDVXZWJjYW0nO1xuaW1wb3J0IGhhbmRsZVVzZXJVbnNoYXJlZEh0bWw1V2ViY2FtIGZyb20gJy4vaGFuZGxlcnMvdXNlclVuc2hhcmVkSHRtbDVXZWJjYW0nO1xuXG5SZWRpc1B1YlN1Yi5vbignVXNlckJyb2FkY2FzdENhbVN0YXJ0ZWRFdnRNc2cnLCBoYW5kbGVVc2VyU2hhcmVkSHRtbDVXZWJjYW0pO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJCcm9hZGNhc3RDYW1TdG9wcGVkRXZ0TXNnJywgaGFuZGxlVXNlclVuc2hhcmVkSHRtbDVXZWJjYW0pO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcic7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB1c2VyU2hhcmVXZWJjYW0gZnJvbSAnLi9tZXRob2RzL3VzZXJTaGFyZVdlYmNhbSc7XG5pbXBvcnQgdXNlclVuc2hhcmVXZWJjYW0gZnJvbSAnLi9tZXRob2RzL3VzZXJVbnNoYXJlV2ViY2FtJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB1c2VyU2hhcmVXZWJjYW0sXG4gIHVzZXJVbnNoYXJlV2ViY2FtLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWaWRlb1N0cmVhbXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHZpZGVvU3RyZWFtcygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBWaWRlb1N0cmVhbXMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKGB2aWRlbyB1c2VycyBvZiBtZWV0aW5nIGlkPSR7bWVldGluZ0lkfWApO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICByZXR1cm4gVmlkZW9TdHJlYW1zLmZpbmQoc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRWaWRlb1N0cmVhbXMgPSB2aWRlb1N0cmVhbXMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVmlkZW9TdHJlYW1zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgndmlkZW8tc3RyZWFtcycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFZpZGVvU3RyZWFtcyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd2aWRlby1zdHJlYW1zJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHZpZGVvIHVzZXJzOlxuICAvLyAyLiBtZWV0aW5nSWRcblxuICBWaWRlb1N0cmVhbXMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBWaWRlb1N0cmVhbXM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVm9pY2VDYWxsU3RhdGUgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuLy8gXCJDQUxMX1NUQVJURURcIiwgXCJJTl9FQ0hPX1RFU1RcIiwgXCJJTl9DT05GRVJFTkNFXCIsIFwiQ0FMTF9FTkRFRFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZvaWNlQ2FsbFN0YXRlRXZlbnQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7XG4gICAgdm9pY2VDb25mLFxuICAgIGNsaWVudFNlc3Npb24sXG4gICAgdXNlcklkLFxuICAgIGNhbGxlck5hbWUsXG4gICAgY2FsbFN0YXRlLFxuICB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHZvaWNlQ29uZiwgU3RyaW5nKTtcbiAgY2hlY2soY2xpZW50U2Vzc2lvbiwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhjYWxsZXJOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhjYWxsU3RhdGUsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBjbGllbnRTZXNzaW9uLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIHZvaWNlQ29uZixcbiAgICAgIGNsaWVudFNlc3Npb24sXG4gICAgICBjYWxsU3RhdGUsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVcGRhdGUgdm9pY2UgY2FsbCBzdGF0ZT0ke3VzZXJJZH06ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuZGVidWcoYFVwZGF0ZSB2b2ljZSBjYWxsIHN0YXRlPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfSBjbGllbnRTZXNzaW9uPSR7Y2xpZW50U2Vzc2lvbn0gY2FsbFN0YXRlPSR7Y2FsbFN0YXRlfWApO1xuICB9O1xuXG4gIHJldHVybiBWb2ljZUNhbGxTdGF0ZS51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVm9pY2VDYWxsU3RhdGVzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyVm9pY2VDYWxsU3RhdGVzKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIFZvaWNlQ2FsbFN0YXRlcy5yZW1vdmUoeyBtZWV0aW5nSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgVm9pY2VDYWxsU3RhdGVzIGluICgke21lZXRpbmdJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gVm9pY2VDYWxsU3RhdGVzLnJlbW92ZSh7fSwgKCkgPT4ge1xuICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFZvaWNlQ2FsbFN0YXRlcyBpbiBhbGwgbWVldGluZ3MnKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVZvaWNlQ2FsbFN0YXRlRXZlbnQgZnJvbSAnLi9oYW5kbGVycy92b2ljZUNhbGxTdGF0ZUV2ZW50JztcblxuUmVkaXNQdWJTdWIub24oJ1ZvaWNlQ2FsbFN0YXRlRXZ0TXNnJywgaGFuZGxlVm9pY2VDYWxsU3RhdGVFdmVudCk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgVm9pY2VDYWxsU3RhdGVzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiB2b2ljZUNhbGxTdGF0ZXMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVm9pY2VDYWxsU3RhdGVzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIFZvaWNlIENhbGwgU3RhdGVzIGZvciAke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgcmV0dXJuIFZvaWNlQ2FsbFN0YXRlcy5maW5kKHsgbWVldGluZ0lkLCB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kVm9pY2VDYWxsU3RhdGVzID0gdm9pY2VDYWxsU3RhdGVzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFZvaWNlQ2FsbFN0YXRlcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3ZvaWNlLWNhbGwtc3RhdGVzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVm9pY2VDYWxsU3RhdGVzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ZvaWNlQ2FsbFN0YXRlcycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSB2b2ljZSB1c2VyczpcbiAgLy8gMS4gaW50SWRcbiAgLy8gMi4gbWVldGluZ0lkLCBpbnRJZFxuXG4gIFZvaWNlQ2FsbFN0YXRlcy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHVzZXJJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVm9pY2VDYWxsU3RhdGVzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzLyc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBhZGRWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFZvaWNlVXNlcic7XG5pbXBvcnQgcmVtb3ZlVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVWb2ljZVVzZXInO1xuaW1wb3J0IHVwZGF0ZVZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvdXBkYXRlVm9pY2VVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR2V0Vm9pY2VVc2Vycyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcnMgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VycywgQXJyYXkpO1xuXG4gIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0sIHsgZmllbGRzOiB7ICd2b2ljZVByb3Audm9pY2VDb25mJzogMSB9IH0pO1xuICBjb25zdCB1c2Vyc0lkcyA9IHVzZXJzLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHZvaWNlVXNlcnNJZHNUb1VwZGF0ZSA9IFZvaWNlVXNlcnMuZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkOiB7ICRpbjogdXNlcnNJZHMgfSxcbiAgfSwgeyBmaWVsZHM6IHsgaW50SWQ6IDEgfSB9KS5mZXRjaCgpLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHZvaWNlVXNlcnNVcGRhdGVkID0gW107XG4gIHVzZXJzLmZvckVhY2goKHVzZXIpID0+IHtcbiAgICBpZiAodm9pY2VVc2Vyc0lkc1RvVXBkYXRlLmluZGV4T2YodXNlci5pbnRJZCkgPj0gMCkge1xuICAgICAgLy8gdXNlciBhbHJlYWR5IGV4aXN0LCB0aGVuIHVwZGF0ZVxuICAgICAgdm9pY2VVc2Vyc1VwZGF0ZWQucHVzaCh1cGRhdGVWb2ljZVVzZXIobWVldGluZ0lkLCB7XG4gICAgICAgIGludElkOiB1c2VyLmludElkLFxuICAgICAgICB2b2ljZVVzZXJJZDogdXNlci52b2ljZVVzZXJJZCxcbiAgICAgICAgdGFsa2luZzogdXNlci50YWxraW5nLFxuICAgICAgICBtdXRlZDogdXNlci5tdXRlZCxcbiAgICAgICAgdm9pY2VDb25mOiBtZWV0aW5nLnZvaWNlUHJvcC52b2ljZUNvbmYsXG4gICAgICAgIGpvaW5lZDogdHJ1ZSxcbiAgICAgIH0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlciBkb2Vzbid0IGV4aXN0IHlldCwgdGhlbiBhZGQgaXRcbiAgICAgIGFkZFZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICAgICAgdm9pY2VVc2VySWQ6IHVzZXIudm9pY2VVc2VySWQsXG4gICAgICAgIGludElkOiB1c2VyLmludElkLFxuICAgICAgICBjYWxsZXJOYW1lOiB1c2VyLmNhbGxlck5hbWUsXG4gICAgICAgIGNhbGxlck51bTogdXNlci5jYWxsZXJOdW0sXG4gICAgICAgIG11dGVkOiB1c2VyLm11dGVkLFxuICAgICAgICB0YWxraW5nOiB1c2VyLnRhbGtpbmcsXG4gICAgICAgIGNhbGxpbmdXaXRoOiB1c2VyLmNhbGxpbmdXaXRoLFxuICAgICAgICBsaXN0ZW5Pbmx5OiB1c2VyLmxpc3Rlbk9ubHksXG4gICAgICAgIHZvaWNlQ29uZjogbWVldGluZy52b2ljZVByb3Audm9pY2VDb25mLFxuICAgICAgICBqb2luZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHJlbW92aW5nIGV4dHJhIHVzZXJzIGFscmVhZHkgZXhpc3RpbmcgaW4gTW9uZ29cbiAgY29uc3Qgdm9pY2VVc2Vyc1RvUmVtb3ZlID0gVm9pY2VVc2Vycy5maW5kKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQ6IHsgJG5pbjogdXNlcnNJZHMgfSxcbiAgfSkuZmV0Y2goKTtcbiAgdm9pY2VVc2Vyc1RvUmVtb3ZlLmZvckVhY2godXNlciA9PiByZW1vdmVWb2ljZVVzZXIobWVldGluZ0lkLCB7XG4gICAgdm9pY2VDb25mOiBtZWV0aW5nLnZvaWNlUHJvcC52b2ljZUNvbmYsXG4gICAgdm9pY2VVc2VySWQ6IHVzZXIudm9pY2VVc2VySWQsXG4gICAgaW50SWQ6IHVzZXIuaW50SWQsXG4gIH0pKTtcblxuICByZXR1cm4gdm9pY2VVc2Vyc1VwZGF0ZWQ7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBhZGREaWFsSW5Vc2VyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZERpYWxJblVzZXInO1xuaW1wb3J0IGFkZFZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvYWRkVm9pY2VVc2VyJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVKb2luVm9pY2VVc2VyKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qgdm9pY2VVc2VyID0gYm9keTtcbiAgdm9pY2VVc2VyLmpvaW5lZCA9IHRydWU7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIHtcbiAgICB2b2ljZUNvbmY6IFN0cmluZyxcbiAgICBpbnRJZDogU3RyaW5nLFxuICAgIHZvaWNlVXNlcklkOiBTdHJpbmcsXG4gICAgY2FsbGVyTmFtZTogU3RyaW5nLFxuICAgIGNhbGxlck51bTogU3RyaW5nLFxuICAgIG11dGVkOiBCb29sZWFuLFxuICAgIHRhbGtpbmc6IEJvb2xlYW4sXG4gICAgY2FsbGluZ1dpdGg6IFN0cmluZyxcbiAgICBsaXN0ZW5Pbmx5OiBCb29sZWFuLFxuICAgIGpvaW5lZDogQm9vbGVhbixcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGludElkLFxuICB9ID0gdm9pY2VVc2VyO1xuXG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gICAgY29ubmVjdGlvblN0YXR1czogJ29ubGluZScsXG4gIH0pO1xuXG4gIGlmICghVXNlcikge1xuICAgIC8qIHZvaWNlLW9ubHkgdXNlciAtIGNhbGxlZCBpbnRvIHRoZSBjb25mZXJlbmNlICovXG4gICAgYWRkRGlhbEluVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcik7XG4gIH1cblxuICByZXR1cm4gYWRkVm9pY2VVc2VyKG1lZXRpbmdJZCwgdm9pY2VVc2VyKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuaW1wb3J0IHJlbW92ZVZvaWNlVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVWb2ljZVVzZXInO1xuaW1wb3J0IHJlbW92ZVVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvcmVtb3ZlVXNlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVm9pY2VVcGRhdGUoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB2b2ljZVVzZXIgPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VVc2VyLCB7XG4gICAgdm9pY2VDb25mOiBTdHJpbmcsXG4gICAgaW50SWQ6IFN0cmluZyxcbiAgICB2b2ljZVVzZXJJZDogU3RyaW5nLFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgaW50SWQsXG4gICAgdm9pY2VVc2VySWQsXG4gIH0gPSB2b2ljZVVzZXI7XG5cbiAgY29uc3QgaXNEaWFsSW5Vc2VyID0gKHVzZXJJZCwgbWVldGluZ0lEKSA9PiAhIVVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQ6IG1lZXRpbmdJRCwgdXNlcklkLCBjbGllbnRUeXBlOiAnZGlhbC1pbi11c2VyJyB9KTtcblxuICAvLyBpZiB0aGUgdXNlciBpcyBkaWFsLWluLCBsZWF2aW5nIHZvaWNlIGFsc28gbWVhbnMgbGVhdmluZyB1c2VybGlzdFxuICBpZiAoaXNEaWFsSW5Vc2VyKHZvaWNlVXNlcklkLCBtZWV0aW5nSWQpKSByZW1vdmVVc2VyKG1lZXRpbmdJZCwgaW50SWQpO1xuXG4gIHJldHVybiByZW1vdmVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpO1xufVxuIiwiaW1wb3J0IGNoYW5nZU11dGVNZWV0aW5nIGZyb20gJy4uL21vZGlmaWVycy9jaGFuZ2VNdXRlTWVldGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZU1lZXRpbmdNdXRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIHJldHVybiBjaGFuZ2VNdXRlTWVldGluZyhtZWV0aW5nSWQsIGJvZHkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgdXBkYXRlVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy91cGRhdGVWb2ljZVVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVWb2ljZVVwZGF0ZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHZvaWNlVXNlciA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIC8vIElmIGEgcGVyc29uIGlzIG11dGVkIHdlIGhhdmUgdG8gZm9yY2UgdGhlbSB0byBub3QgdGFsa2luZ1xuICBpZiAodm9pY2VVc2VyLm11dGVkKSB7XG4gICAgdm9pY2VVc2VyLnRhbGtpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB1cGRhdGVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgdXBkYXRlVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy91cGRhdGVWb2ljZVVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVWb2ljZVVwZGF0ZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHZvaWNlVXNlciA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIHJldHVybiB1cGRhdGVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpO1xufVxuIiwiaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzLyc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBhZGREaWFsSW5Vc2VyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZERpYWxJblVzZXInO1xuaW1wb3J0IHJlbW92ZVZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlVm9pY2VVc2VyJztcbmltcG9ydCB1cGRhdGVWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3VwZGF0ZVZvaWNlVXNlcic7XG5pbXBvcnQgYWRkVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy9hZGRWb2ljZVVzZXInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZvaWNlVXNlcnMoeyBoZWFkZXIsIGJvZHkgfSkge1xuICBjb25zdCB7IHZvaWNlVXNlcnMgfSA9IGJvZHk7XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBoZWFkZXI7XG5cbiAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSwgeyBmaWVsZHM6IHsgJ3ZvaWNlUHJvcC52b2ljZUNvbmYnOiAxIH0gfSk7XG4gIGNvbnN0IHVzZXJzSWRzID0gdm9pY2VVc2Vycy5tYXAobSA9PiBtLmludElkKTtcblxuICBjb25zdCB2b2ljZVVzZXJzSWRzVG9VcGRhdGUgPSBWb2ljZVVzZXJzLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZDogeyAkaW46IHVzZXJzSWRzIH0sXG4gIH0sIHsgZmllbGRzOiB7IGludElkOiAxIH0gfSkuZmV0Y2goKS5tYXAobSA9PiBtLmludElkKTtcblxuICBjb25zdCB2b2ljZVVzZXJzVXBkYXRlZCA9IFtdO1xuICB2b2ljZVVzZXJzLmZvckVhY2goKHZvaWNlKSA9PiB7XG4gICAgaWYgKHZvaWNlVXNlcnNJZHNUb1VwZGF0ZS5pbmRleE9mKHZvaWNlLmludElkKSA+PSAwKSB7XG4gICAgICAvLyB1c2VyIGFscmVhZHkgZXhpc3QsIHRoZW4gdXBkYXRlXG4gICAgICB2b2ljZVVzZXJzVXBkYXRlZC5wdXNoKHVwZGF0ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICAgICAgaW50SWQ6IHZvaWNlLmludElkLFxuICAgICAgICB2b2ljZVVzZXJJZDogdm9pY2Uudm9pY2VVc2VySWQsXG4gICAgICAgIHRhbGtpbmc6IHZvaWNlLnRhbGtpbmcsXG4gICAgICAgIG11dGVkOiB2b2ljZS5tdXRlZCxcbiAgICAgICAgdm9pY2VDb25mOiBtZWV0aW5nLnZvaWNlUHJvcC52b2ljZUNvbmYsXG4gICAgICAgIGpvaW5lZDogdHJ1ZSxcbiAgICAgIH0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlciBkb2Vzbid0IGV4aXN0IHlldCwgdGhlbiBhZGQgaXRcbiAgICAgIGFkZFZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICAgICAgdm9pY2VVc2VySWQ6IHZvaWNlLnZvaWNlVXNlcklkLFxuICAgICAgICBpbnRJZDogdm9pY2UuaW50SWQsXG4gICAgICAgIGNhbGxlck5hbWU6IHZvaWNlLmNhbGxlck5hbWUsXG4gICAgICAgIGNhbGxlck51bTogdm9pY2UuY2FsbGVyTnVtLFxuICAgICAgICBtdXRlZDogdm9pY2UubXV0ZWQsXG4gICAgICAgIHRhbGtpbmc6IHZvaWNlLnRhbGtpbmcsXG4gICAgICAgIGNhbGxpbmdXaXRoOiB2b2ljZS5jYWxsaW5nV2l0aCxcbiAgICAgICAgbGlzdGVuT25seTogdm9pY2UubGlzdGVuT25seSxcbiAgICAgICAgdm9pY2VDb25mOiBtZWV0aW5nLnZvaWNlUHJvcC52b2ljZUNvbmYsXG4gICAgICAgIGpvaW5lZDogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBhZGREaWFsSW5Vc2VyKG1lZXRpbmdJZCwgdm9pY2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcmVtb3ZpbmcgZXh0cmEgdXNlcnMgYWxyZWFkeSBleGlzdGluZyBpbiBNb25nb1xuICBjb25zdCB2b2ljZVVzZXJzVG9SZW1vdmUgPSBWb2ljZVVzZXJzLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZDogeyAkbmluOiB1c2Vyc0lkcyB9LFxuICB9LCB7IGZpZWxkczogeyB2b2ljZVVzZXJJZDogMSwgaW50SWQ6IDEgfSB9KS5mZXRjaCgpO1xuICB2b2ljZVVzZXJzVG9SZW1vdmUuZm9yRWFjaCh1c2VyID0+IHJlbW92ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICB2b2ljZUNvbmY6IG1lZXRpbmcudm9pY2VQcm9wLnZvaWNlQ29uZixcbiAgICB2b2ljZVVzZXJJZDogdXNlci52b2ljZVVzZXJJZCxcbiAgICBpbnRJZDogdXNlci5pbnRJZCxcbiAgfSkpO1xuXG4gIHJldHVybiB2b2ljZVVzZXJzVXBkYXRlZDtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlamVjdFVzZXJGcm9tVm9pY2UodXNlcklkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnRWplY3RVc2VyRnJvbVZvaWNlQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQsXG4gICAgZWplY3RlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtdXRlQWxsRXhjZXB0UHJlc2VudGVyVG9nZ2xlKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ011dGVBbGxFeGNlcHRQcmVzZW50ZXJzQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuICBjb25zdCB0b2dnbGVNZWV0aW5nTXV0ZWQgPSAhbWVldGluZy52b2ljZVByb3AubXV0ZU9uU3RhcnQ7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBtdXRlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgbXV0ZTogdG9nZ2xlTWVldGluZ011dGVkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtdXRlQWxsVG9nZ2xlKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ011dGVNZWV0aW5nQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuICBjb25zdCB0b2dnbGVNZWV0aW5nTXV0ZWQgPSAhbWVldGluZy52b2ljZVByb3AubXV0ZU9uU3RhcnQ7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBtdXRlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgbXV0ZTogdG9nZ2xlTWVldGluZ011dGVkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbXV0ZVRvZ2dsZSh1SWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdNdXRlVXNlckNtZE1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY29uc3QgdXNlclRvTXV0ZSA9IHVJZCB8fCByZXF1ZXN0ZXJVc2VySWQ7XG5cbiAgY29uc3QgcmVxdWVzdGVyID0gVXNlcnMuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9KTtcblxuICBjb25zdCB2b2ljZVVzZXIgPSBWb2ljZVVzZXJzLmZpbmRPbmUoe1xuICAgIGludElkOiB1c2VyVG9NdXRlLFxuICAgIG1lZXRpbmdJZCxcbiAgfSk7XG5cbiAgaWYgKCFyZXF1ZXN0ZXIgfHwgIXZvaWNlVXNlcikgcmV0dXJuO1xuXG4gIGNvbnN0IHsgbGlzdGVuT25seSwgbXV0ZWQgfSA9IHZvaWNlVXNlcjtcbiAgaWYgKGxpc3Rlbk9ubHkpIHJldHVybjtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZDogdXNlclRvTXV0ZSxcbiAgICBtdXRlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgbXV0ZTogIW11dGVkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVm9pY2VVc2VyKG1lZXRpbmdJZCwgdm9pY2VVc2VyKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VVc2VyLCB7XG4gICAgdm9pY2VVc2VySWQ6IFN0cmluZyxcbiAgICBpbnRJZDogU3RyaW5nLFxuICAgIGNhbGxlck5hbWU6IFN0cmluZyxcbiAgICBjYWxsZXJOdW06IFN0cmluZyxcbiAgICBtdXRlZDogQm9vbGVhbixcbiAgICB0YWxraW5nOiBCb29sZWFuLFxuICAgIGNhbGxpbmdXaXRoOiBTdHJpbmcsXG4gICAgbGlzdGVuT25seTogQm9vbGVhbixcbiAgICB2b2ljZUNvbmY6IFN0cmluZyxcbiAgICBqb2luZWQ6IEJvb2xlYW4sIC8vIFRoaXMgaXMgYSBIVE1MNSBvbmx5IHBhcmFtLlxuICB9KTtcblxuICBjb25zdCB7IGludElkLCB0YWxraW5nIH0gPSB2b2ljZVVzZXI7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oXG4gICAgICB7IG1lZXRpbmdJZCwgc3Bva2U6IHRhbGtpbmcgfSxcbiAgICAgIGZsYXQodm9pY2VVc2VyKSxcbiAgICApLFxuICB9O1xuXG4gIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCB1c2VySWQ6IGludElkIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIGNvbG9yOiAxLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICh1c2VyKSBtb2RpZmllci4kc2V0LmNvbG9yID0gdXNlci5jb2xvcjtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGQgdm9pY2UgdXNlcj0ke2ludElkfTogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBBZGQgdm9pY2UgdXNlcj0ke2ludElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBWb2ljZVVzZXJzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VNdXRlTWVldGluZyhtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYXlsb2FkLCB7XG4gICAgbXV0ZWQ6IEJvb2xlYW4sXG4gICAgbXV0ZWRCeTogU3RyaW5nLFxuICB9KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgJ3ZvaWNlUHJvcC5tdXRlT25TdGFydCc6IHBheWxvYWQubXV0ZWQsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENoYW5naW5nIG1lZXRpbmcgbXV0ZSBzdGF0dXMgbWVldGluZz17JHttZWV0aW5nSWR9fSAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENoYW5nZWQgbWVldGluZyBtdXRlIHN0YXR1cyBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfTtcblxuXG4gIHJldHVybiBNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclZvaWNlVXNlcihtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHJldHVybiBWb2ljZVVzZXJzLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBWb2ljZVVzZXJzIGluICgke21lZXRpbmdJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gVm9pY2VVc2Vycy5yZW1vdmUoe30sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBWb2ljZVVzZXJzIGluIGFsbCBtZWV0aW5ncycpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWb2ljZVVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycyc7XG5pbXBvcnQgeyBjbGVhclNwb2tlVGltZW91dCB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIHtcbiAgICB2b2ljZUNvbmY6IFN0cmluZyxcbiAgICB2b2ljZVVzZXJJZDogU3RyaW5nLFxuICAgIGludElkOiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHsgaW50SWQgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgdGFsa2luZzogZmFsc2UsXG4gICAgICBsaXN0ZW5Pbmx5OiBmYWxzZSxcbiAgICAgIGpvaW5lZDogZmFsc2UsXG4gICAgICBzcG9rZTogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICBjbGVhclNwb2tlVGltZW91dChtZWV0aW5nSWQsIGludElkKTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBSZW1vdmUgdm9pY2VVc2VyPSR7aW50SWR9OiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFJlbW92ZSB2b2ljZVVzZXI9JHtpbnRJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gVm9pY2VVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBNYXRjaCwgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IHsgc3Bva2VUaW1lb3V0SGFuZGxlcywgY2xlYXJTcG9rZVRpbWVvdXQgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgVEFMS0lOR19USU1FT1VUID0gNjAwMDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlVm9pY2VVc2VyKG1lZXRpbmdJZCwgdm9pY2VVc2VyKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VVc2VyLCB7XG4gICAgaW50SWQ6IFN0cmluZyxcbiAgICB2b2ljZVVzZXJJZDogU3RyaW5nLFxuICAgIHRhbGtpbmc6IE1hdGNoLk1heWJlKEJvb2xlYW4pLFxuICAgIG11dGVkOiBNYXRjaC5NYXliZShCb29sZWFuKSxcbiAgICB2b2ljZUNvbmY6IFN0cmluZyxcbiAgICBqb2luZWQ6IE1hdGNoLk1heWJlKEJvb2xlYW4pLFxuICB9KTtcblxuICBjb25zdCB7IGludElkIH0gPSB2b2ljZVVzZXI7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oXG4gICAgICBmbGF0KHZvaWNlVXNlciksXG4gICAgKSxcbiAgfTtcblxuICBpZiAodm9pY2VVc2VyLnRhbGtpbmcpIHtcbiAgICBjb25zdCB1c2VyID0gVm9pY2VVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCBpbnRJZCB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhcnRUaW1lOiAxLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICh1c2VyICYmICF1c2VyLnN0YXJ0VGltZSkgbW9kaWZpZXIuJHNldC5zdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIG1vZGlmaWVyLiRzZXQuc3Bva2UgPSB0cnVlO1xuICAgIG1vZGlmaWVyLiRzZXQuZW5kVGltZSA9IG51bGw7XG4gICAgY2xlYXJTcG9rZVRpbWVvdXQobWVldGluZ0lkLCBpbnRJZCk7XG4gIH1cblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVcGRhdGUgdm9pY2VVc2VyPSR7aW50SWR9OiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmRlYnVnKGBVcGRhdGUgdm9pY2VVc2VyPSR7aW50SWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgaWYgKCF2b2ljZVVzZXIudGFsa2luZykge1xuICAgIGNvbnN0IHRpbWVvdXRIYW5kbGUgPSBNZXRlb3Iuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gVm9pY2VVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCBpbnRJZCB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGVuZFRpbWU6IDEsXG4gICAgICAgICAgdGFsa2luZzogMSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBjb25zdCB7IGVuZFRpbWUsIHRhbGtpbmcgfSA9IHVzZXI7XG4gICAgICAgIGNvbnN0IHNwb2tlRGVsYXkgPSAoKERhdGUubm93KCkgLSBlbmRUaW1lKSA8IFRBTEtJTkdfVElNRU9VVCk7XG4gICAgICAgIGlmICh0YWxraW5nIHx8IHNwb2tlRGVsYXkpIHJldHVybjtcbiAgICAgICAgbW9kaWZpZXIuJHNldC5zcG9rZSA9IGZhbHNlO1xuICAgICAgICBtb2RpZmllci4kc2V0LnN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIFZvaWNlVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xuICAgICAgfVxuICAgIH0sIFRBTEtJTkdfVElNRU9VVCk7XG5cbiAgICBzcG9rZVRpbWVvdXRIYW5kbGVzW2Ake21lZXRpbmdJZH0tJHtpbnRJZH1gXSA9IHRpbWVvdXRIYW5kbGU7XG4gICAgbW9kaWZpZXIuJHNldC5lbmRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfVxuXG4gIHJldHVybiBWb2ljZVVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgaGFuZGxlSm9pblZvaWNlVXNlciBmcm9tICcuL2hhbmRsZXJzL2pvaW5Wb2ljZVVzZXInO1xuaW1wb3J0IGhhbmRsZUxlZnRWb2ljZVVzZXIgZnJvbSAnLi9oYW5kbGVycy9sZWZ0Vm9pY2VVc2VyJztcbmltcG9ydCBoYW5kbGVUYWxraW5nVm9pY2VVc2VyIGZyb20gJy4vaGFuZGxlcnMvdGFsa2luZ1ZvaWNlVXNlcic7XG5pbXBvcnQgaGFuZGxlTXV0ZWRWb2ljZVVzZXIgZnJvbSAnLi9oYW5kbGVycy9tdXRlZFZvaWNlVXNlcic7XG5pbXBvcnQgaGFuZGxlR2V0Vm9pY2VVc2VycyBmcm9tICcuL2hhbmRsZXJzL2dldFZvaWNlVXNlcnMnO1xuaW1wb3J0IGhhbmRsZVZvaWNlVXNlcnMgZnJvbSAnLi9oYW5kbGVycy92b2ljZVVzZXJzJztcbmltcG9ydCBoYW5kbGVNZWV0aW5nTXV0ZWQgZnJvbSAnLi9oYW5kbGVycy9tZWV0aW5nTXV0ZWQnO1xuXG5SZWRpc1B1YlN1Yi5vbignVXNlckxlZnRWb2ljZUNvbmZUb0NsaWVudEV2dE1zZycsIGhhbmRsZUxlZnRWb2ljZVVzZXIpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJKb2luZWRWb2ljZUNvbmZUb0NsaWVudEV2dE1zZycsIGhhbmRsZUpvaW5Wb2ljZVVzZXIpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJUYWxraW5nVm9pY2VFdnRNc2cnLCBoYW5kbGVUYWxraW5nVm9pY2VVc2VyKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyTXV0ZWRWb2ljZUV2dE1zZycsIGhhbmRsZU11dGVkVm9pY2VVc2VyKTtcblJlZGlzUHViU3ViLm9uKCdHZXRWb2ljZVVzZXJzTWVldGluZ1Jlc3BNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZUdldFZvaWNlVXNlcnMpKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0Vm9pY2VVc2Vyc1Jlc3BNc2cnLCBoYW5kbGVWb2ljZVVzZXJzKTtcblJlZGlzUHViU3ViLm9uKCdNZWV0aW5nTXV0ZWRFdnRNc2cnLCBoYW5kbGVNZWV0aW5nTXV0ZWQpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgbXV0ZVRvZ2dsZSBmcm9tICcuL21ldGhvZHMvbXV0ZVRvZ2dsZSc7XG5pbXBvcnQgbXV0ZUFsbFRvZ2dsZSBmcm9tICcuL21ldGhvZHMvbXV0ZUFsbFRvZ2dsZSc7XG5pbXBvcnQgbXV0ZUFsbEV4Y2VwdFByZXNlbnRlclRvZ2dsZSBmcm9tICcuL21ldGhvZHMvbXV0ZUFsbEV4Y2VwdFByZXNlbnRlclRvZ2dsZSc7XG5pbXBvcnQgZWplY3RVc2VyRnJvbVZvaWNlIGZyb20gJy4vbWV0aG9kcy9lamVjdFVzZXJGcm9tVm9pY2UnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHRvZ2dsZVZvaWNlOiBtdXRlVG9nZ2xlLFxuICBtdXRlQWxsVXNlcnM6IG11dGVBbGxUb2dnbGUsXG4gIG11dGVBbGxFeGNlcHRQcmVzZW50ZXI6IG11dGVBbGxFeGNlcHRQcmVzZW50ZXJUb2dnbGUsXG4gIGVqZWN0VXNlckZyb21Wb2ljZSxcbn0pO1xuIiwiaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHZvaWNlVXNlcigpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBWb2ljZVVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIFZvaWNlIFVzZXIgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gVm9pY2VVc2Vycy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRWb2ljZVVzZXIgPSB2b2ljZVVzZXIuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVm9pY2VVc2VyKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgndm9pY2VVc2VycycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFZvaWNlVXNlcnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigndm9pY2VVc2VycycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSB2b2ljZSB1c2VyczpcbiAgLy8gMS4gaW50SWRcbiAgLy8gMi4gbWVldGluZ0lkLCBpbnRJZFxuXG4gIFZvaWNlVXNlcnMuX2Vuc3VyZUluZGV4KHsgaW50SWQ6IDEgfSk7XG4gIFZvaWNlVXNlcnMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCBpbnRJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVm9pY2VVc2VycztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBtb2RpZnlXaGl0ZWJvYXJkQWNjZXNzIGZyb20gJy4uL21vZGlmaWVycy9tb2RpZnlXaGl0ZWJvYXJkQWNjZXNzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlTW9kaWZ5V2hpdGVib2FyZEFjY2Vzcyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgbXVsdGlVc2VyLCB3aGl0ZWJvYXJkSWQgfSA9IGJvZHk7XG5cbiAgY2hlY2sobXVsdGlVc2VyLCBCb29sZWFuKTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIG1vZGlmeVdoaXRlYm9hcmRBY2Nlc3MobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIG11bHRpVXNlcik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlV2hpdGVib2FyZEFjY2VzcyhtdWx0aVVzZXIsIHdoaXRlYm9hcmRJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ01vZGlmeVdoaXRlYm9hcmRBY2Nlc3NQdWJNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobXVsdGlVc2VyLCBCb29sZWFuKTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbXVsdGlVc2VyLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBXaGl0ZWJvYXJkTXVsdGlVc2VyIGZyb20gJy9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtb2RpZnlXaGl0ZWJvYXJkQWNjZXNzKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCBtdWx0aVVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKG11bHRpVXNlciwgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgd2hpdGVib2FyZElkLFxuICAgIG11bHRpVXNlcixcbiAgfTtcblxuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEVycm9yIHdoaWxlIGFkZGluZyBhbiBlbnRyeSB0byBNdWx0aS1Vc2VyIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gbnVtQ2hhbmdlZDtcbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBBZGRlZCBtdWx0aVVzZXIgZmxhZz0ke211bHRpVXNlcn0gbWVldGluZ0lkPSR7bWVldGluZ0lkfSB3aGl0ZWJvYXJkSWQ9JHt3aGl0ZWJvYXJkSWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBtdWx0aVVzZXIgZmxhZz0ke211bHRpVXNlcn0gbWVldGluZ0lkPSR7bWVldGluZ0lkfSB3aGl0ZWJvYXJkSWQ9JHt3aGl0ZWJvYXJkSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFdoaXRlYm9hcmRNdWx0aVVzZXIudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBoYW5kbGVHZXRXaGl0ZWJvYXJkQWNjZXNzIGZyb20gJy4vaGFuZGxlcnMvbW9kaWZ5V2hpdGVib2FyZEFjY2Vzcyc7XG5cblJlZGlzUHViU3ViLm9uKCdHZXRXaGl0ZWJvYXJkQWNjZXNzUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlR2V0V2hpdGVib2FyZEFjY2VzcykpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRXaGl0ZWJvYXJkQWNjZXNzUmVzcE1zZycsIGhhbmRsZUdldFdoaXRlYm9hcmRBY2Nlc3MpO1xuUmVkaXNQdWJTdWIub24oJ01vZGlmeVdoaXRlYm9hcmRBY2Nlc3NFdnRNc2cnLCBoYW5kbGVHZXRXaGl0ZWJvYXJkQWNjZXNzKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGNoYW5nZVdoaXRlYm9hcmRBY2Nlc3MgZnJvbSAnLi9tZXRob2RzL2NoYW5nZVdoaXRlYm9hcmRBY2Nlc3MnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGNoYW5nZVdoaXRlYm9hcmRBY2Nlc3MsXG59KTtcbiIsImltcG9ydCBXaGl0ZWJvYXJkTXVsdGlVc2VyIGZyb20gJy9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHdoaXRlYm9hcmRNdWx0aVVzZXIoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gV2hpdGVib2FyZE11bHRpVXNlci5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyB3aGl0ZWJvYXJkLW11bHRpLXVzZXIgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gV2hpdGVib2FyZE11bHRpVXNlci5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZE11bHRpVXNlciA9IHdoaXRlYm9hcmRNdWx0aVVzZXIuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kTXVsdGlVc2VyKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnd2hpdGVib2FyZC1tdWx0aS11c2VyJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgV2hpdGVib2FyZE11bHRpVXNlciA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd3aGl0ZWJvYXJkLW11bHRpLXVzZXInKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgd2hpdGVib2FyZC1tdWx0aS11c2VyOlxuICAvLyAxLiBtZWV0aW5nSWRcblxuICBXaGl0ZWJvYXJkTXVsdGlVc2VyLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgV2hpdGVib2FyZE11bHRpVXNlcjtcbiIsImltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5jb25zdCBNU0dfRElSRUNUX1RZUEUgPSAnRElSRUNUJztcbmNvbnN0IE5PREVfVVNFUiA9ICdub2RlSlNhcHAnO1xuXG5leHBvcnQgY29uc3Qgc3Bva2VUaW1lb3V0SGFuZGxlcyA9IHt9O1xuZXhwb3J0IGNvbnN0IGNsZWFyU3Bva2VUaW1lb3V0ID0gKG1lZXRpbmdJZCwgdXNlcklkKSA9PiB7XG4gIGlmIChzcG9rZVRpbWVvdXRIYW5kbGVzW2Ake21lZXRpbmdJZH0tJHt1c2VySWR9YF0pIHtcbiAgICBNZXRlb3IuY2xlYXJUaW1lb3V0KHNwb2tlVGltZW91dEhhbmRsZXNbYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gXSk7XG4gICAgZGVsZXRlIHNwb2tlVGltZW91dEhhbmRsZXNbYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gXTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluZGV4T2YgPSBbXS5pbmRleE9mIHx8IGZ1bmN0aW9uIChpdGVtKSB7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpICs9IDEpIHtcbiAgICBpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5ID0gZm4gPT4gKG1lc3NhZ2UsIC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgeyBlbnZlbG9wZSB9ID0gbWVzc2FnZTtcbiAgY29uc3QgeyByb3V0aW5nIH0gPSBlbnZlbG9wZTtcbiAgY29uc3QgeyBtc2dUeXBlLCBtZWV0aW5nSWQsIHVzZXJJZCB9ID0gcm91dGluZztcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICB1c2VySWQsXG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHNlbGVjdG9yKTtcblxuICBjb25zdCBzaG91bGRTa2lwID0gdXNlciAmJiBtc2dUeXBlID09PSBNU0dfRElSRUNUX1RZUEUgJiYgdXNlcklkICE9PSBOT0RFX1VTRVIgJiYgdXNlci5jbGllbnRUeXBlICE9PSAnSFRNTDUnO1xuICBpZiAoc2hvdWxkU2tpcCkgcmV0dXJuICgpID0+IHsgfTtcbiAgcmV0dXJuIGZuKG1lc3NhZ2UsIC4uLmFyZ3MpO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGUgYSAzMiBiaXQgRk5WLTFhIGhhc2hcbiAqIEZvdW5kIGhlcmU6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3ZhaW9yYWJiaXQvNTY1NzU2MVxuICogUmVmLjogaHR0cDovL2lzdGhlLmNvbS9jaG9uZ28vdGVjaC9jb21wL2Zudi9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIHRoZSBpbnB1dCB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFufSBbYXNTdHJpbmc9ZmFsc2VdIHNldCB0byB0cnVlIHRvIHJldHVybiB0aGUgaGFzaCB2YWx1ZSBhc1xuICogICAgIDgtZGlnaXQgaGV4IHN0cmluZyBpbnN0ZWFkIG9mIGFuIGludGVnZXJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gW3NlZWRdIG9wdGlvbmFsbHkgcGFzcyB0aGUgaGFzaCBvZiB0aGUgcHJldmlvdXMgY2h1bmtcbiAqIEByZXR1cm5zIHtpbnRlZ2VyIHwgc3RyaW5nfVxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuZXhwb3J0IGNvbnN0IGhhc2hGTlYzMmEgPSAoc3RyLCBhc1N0cmluZywgc2VlZCkgPT4ge1xuICBsZXQgaHZhbCA9IChzZWVkID09PSB1bmRlZmluZWQpID8gMHg4MTFjOWRjNSA6IHNlZWQ7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBzdHIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaHZhbCBePSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBodmFsICs9IChodmFsIDw8IDEpICsgKGh2YWwgPDwgNCkgKyAoaHZhbCA8PCA3KSArIChodmFsIDw8IDgpICsgKGh2YWwgPDwgMjQpO1xuICB9XG4gIGlmIChhc1N0cmluZykge1xuICAgIHJldHVybiAoYDAwMDAwMDAkeyhodmFsID4+PiAwKS50b1N0cmluZygxNil9YCkuc3Vic3RyKC04KTtcbiAgfVxuICByZXR1cm4gaHZhbCA+Pj4gMDtcbn07XG4vKiBlc2xpbnQtZW5hYmxlICovXG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q3JlZGVudGlhbHMgPSAoY3JlZGVudGlhbHMpID0+IHtcbiAgaWYgKCFjcmVkZW50aWFscykgcmV0dXJuIHt9O1xuICBjb25zdCBjcmVkZW50aWFsc0FycmF5ID0gY3JlZGVudGlhbHMuc3BsaXQoJy0tJyk7XG4gIGNvbnN0IG1lZXRpbmdJZCA9IGNyZWRlbnRpYWxzQXJyYXlbMF07XG4gIGNvbnN0IHJlcXVlc3RlclVzZXJJZCA9IGNyZWRlbnRpYWxzQXJyYXlbMV07XG4gIHJldHVybiB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH07XG59O1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBXZWJBcHBJbnRlcm5hbHMgfSBmcm9tICdtZXRlb3Ivd2ViYXBwJztcbmltcG9ydCBMYW5nbWFwIGZyb20gJ2xhbmdtYXAnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBoZWFwZHVtcCBmcm9tICdoZWFwZHVtcCc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCAnLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBsb29rdXAgYXMgbG9va3VwVXNlckFnZW50IH0gZnJvbSAndXNlcmFnZW50JztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBtZW13YXRjaCBmcm9tICdtZW13YXRjaC1uZXh0JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IFJlZGlzIGZyb20gJy4vcmVkaXMnO1xuaW1wb3J0IHNldE1pbkJyb3dzZXJWZXJzaW9ucyBmcm9tICcuL21pbkJyb3dzZXJWZXJzaW9uJztcbmltcG9ydCB1c2VyTGVhdmluZyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvdXNlckxlYXZpbmcnO1xuXG5jb25zdCBBVkFJTEFCTEVfTE9DQUxFUyA9IGZzLnJlYWRkaXJTeW5jKCdhc3NldHMvYXBwL2xvY2FsZXMnKTtcblxuTWV0ZW9yLnN0YXJ0dXAoKCkgPT4ge1xuICBjb25zdCBBUFBfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5hcHA7XG4gIGNvbnN0IElOVEVSVkFMX0lOX1NFVFRJTkdTID0gKE1ldGVvci5zZXR0aW5ncy5wdWJsaWMucGluZ1BvbmcuY2xlYXJVc2Vyc0luU2Vjb25kcykgKiAxMDAwO1xuICBjb25zdCBJTlRFUlZBTF9USU1FID0gSU5URVJWQUxfSU5fU0VUVElOR1MgPCAxMDAwMCA/IDEwMDAwIDogSU5URVJWQUxfSU5fU0VUVElOR1M7XG4gIGNvbnN0IGVudiA9IE1ldGVvci5pc0RldmVsb3BtZW50ID8gJ2RldmVsb3BtZW50JyA6ICdwcm9kdWN0aW9uJztcbiAgY29uc3QgQ0ROX1VSTCA9IEFQUF9DT05GSUcuY2RuO1xuICBsZXQgaGVhcER1bXBNYlRocmVzaG9sZCA9IDEwMDtcblxuICBjb25zdCBtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5tZW1vcnlNb25pdG9yaW5nO1xuICBpZiAobWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzLnN0YXQuZW5hYmxlZCkge1xuICAgIG1lbXdhdGNoLm9uKCdzdGF0cycsIChzdGF0cykgPT4ge1xuICAgICAgbGV0IGhlYXBEdW1wVHJpZ2dlcmVkID0gZmFsc2U7XG5cbiAgICAgIGlmIChtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MuaGVhcGR1bXAuZW5hYmxlZCkge1xuICAgICAgICBoZWFwRHVtcFRyaWdnZXJlZCA9IChzdGF0cy5jdXJyZW50X2Jhc2UgLyAxMDQ4NTc2KSA+IGhlYXBEdW1wTWJUaHJlc2hvbGQ7XG4gICAgICB9XG4gICAgICBMb2dnZXIuaW5mbygnbWVtd2F0Y2ggc3RhdHMnLCB7IC4uLnN0YXRzLCBoZWFwRHVtcEVuYWJsZWQ6IG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5oZWFwZHVtcC5lbmFibGVkLCBoZWFwRHVtcFRyaWdnZXJlZCB9KTtcblxuICAgICAgaWYgKGhlYXBEdW1wVHJpZ2dlcmVkKSB7XG4gICAgICAgIGhlYXBkdW1wLndyaXRlU25hcHNob3QoYC4vaGVhcGR1bXAtc3RhdHMtJHtEYXRlLm5vdygpfS5oZWFwc25hcHNob3RgKTtcbiAgICAgICAgaGVhcER1bXBNYlRocmVzaG9sZCArPSAxMDA7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAobWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzLmxlYWsuZW5hYmxlZCkge1xuICAgIG1lbXdhdGNoLm9uKCdsZWFrJywgKGluZm8pID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKCdtZW13YXRjaCBsZWFrJywgaW5mbyk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoQ0ROX1VSTC50cmltKCkpIHtcbiAgICAvLyBBZGQgQ0ROXG4gICAgQnJvd3NlclBvbGljeS5jb250ZW50LmRpc2FsbG93RXZhbCgpO1xuICAgIEJyb3dzZXJQb2xpY3kuY29udGVudC5hbGxvd0lubGluZVNjcmlwdHMoKTtcbiAgICBCcm93c2VyUG9saWN5LmNvbnRlbnQuYWxsb3dJbmxpbmVTdHlsZXMoKTtcbiAgICBCcm93c2VyUG9saWN5LmNvbnRlbnQuYWxsb3dJbWFnZURhdGFVcmwoQ0ROX1VSTCk7XG4gICAgQnJvd3NlclBvbGljeS5jb250ZW50LmFsbG93Rm9udERhdGFVcmwoQ0ROX1VSTCk7XG4gICAgQnJvd3NlclBvbGljeS5jb250ZW50LmFsbG93T3JpZ2luRm9yQWxsKENETl9VUkwpO1xuICAgIFdlYkFwcEludGVybmFscy5zZXRCdW5kbGVkSnNDc3NQcmVmaXgoQ0ROX1VSTCArIEFQUF9DT05GSUcuYmFzZW5hbWUpO1xuXG4gICAgY29uc3QgZm9udFJlZ0V4cCA9IC9cXC4oZW90fHR0ZnxvdGZ8d29mZnx3b2ZmMikkLztcblxuICAgIFdlYkFwcC5yYXdDb25uZWN0SGFuZGxlcnMudXNlKCcvJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBpZiAoZm9udFJlZ0V4cC50ZXN0KHJlcS5fcGFyc2VkVXJsLnBhdGhuYW1lKSkge1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpO1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdWYXJ5JywgJ09yaWdpbicpO1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdQcmFnbWEnLCAncHVibGljJyk7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnXCJwdWJsaWNcIicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldE1pbkJyb3dzZXJWZXJzaW9ucygpO1xuXG4gIE1ldGVvci5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIExvZ2dlci5pbmZvKCdDaGVja2luZyBmb3IgaW5hY3RpdmUgdXNlcnMnKTtcbiAgICBjb25zdCB1c2VycyA9IFVzZXJzLmZpbmQoe1xuICAgICAgY29ubmVjdGlvblN0YXR1czogJ29ubGluZScsXG4gICAgICBjbGllbnRUeXBlOiAnSFRNTDUnLFxuICAgICAgbGFzdFBpbmc6IHtcbiAgICAgICAgJGx0OiAoY3VycmVudFRpbWUgLSBJTlRFUlZBTF9USU1FKSwgLy8gZ2V0IHVzZXIgd2hvIGhhcyBub3QgcGluZ2VkIGluIHRoZSBsYXN0IDEwIHNlY29uZHNcbiAgICAgIH0sXG4gICAgICBsb2dpblRpbWU6IHtcbiAgICAgICAgJGx0OiAoY3VycmVudFRpbWUgLSBJTlRFUlZBTF9USU1FKSxcbiAgICAgIH0sXG4gICAgfSkuZmV0Y2goKTtcbiAgICBpZiAoIXVzZXJzLmxlbmd0aCkgcmV0dXJuIExvZ2dlci5pbmZvKCdObyBpbmFjdGl2ZSB1c2VycycpO1xuICAgIExvZ2dlci5pbmZvKCdSZW1vdmluZyBpbmFjdGl2ZSB1c2VycycpO1xuICAgIHVzZXJzLmZvckVhY2goKHVzZXIpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBEZXRlY3RlZCBpbmFjdGl2ZSB1c2VyLCB1c2VySWQ6JHt1c2VyLnVzZXJJZH0sIG1lZXRpbmdJZDoke3VzZXIubWVldGluZ0lkfWApO1xuICAgICAgcmV0dXJuIHVzZXJMZWF2aW5nKHVzZXIubWVldGluZ0lkLCB1c2VyLnVzZXJJZCwgdXNlci5jb25uZWN0aW9uSWQpO1xuICAgIH0pO1xuICAgIHJldHVybiBMb2dnZXIuaW5mbygnQWxsIGluYWN0aXZlIHVzZXJzIGhhdmUgYmVlbiByZW1vdmVkJyk7XG4gIH0sIElOVEVSVkFMX1RJTUUpO1xuXG4gIExvZ2dlci53YXJuKGBTRVJWRVIgU1RBUlRFRC5cXG5FTlY9JHtlbnZ9LFxcbm5vZGVqcyB2ZXJzaW9uPSR7cHJvY2Vzcy52ZXJzaW9ufVxcbkNETj0ke0NETl9VUkx9XFxuYCwgQVBQX0NPTkZJRyk7XG59KTtcblxuV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoJy9jaGVjaycsIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBwYXlsb2FkID0geyBodG1sNWNsaWVudFN0YXR1czogJ3J1bm5pbmcnIH07XG5cbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgcmVzLndyaXRlSGVhZCgyMDApO1xuICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTtcbn0pO1xuXG5XZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSgnL2xvY2FsZScsIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBBUFBfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5hcHA7XG4gIGNvbnN0IGZhbGxiYWNrID0gQVBQX0NPTkZJRy5kZWZhdWx0U2V0dGluZ3MuYXBwbGljYXRpb24uZmFsbGJhY2tMb2NhbGU7XG4gIGNvbnN0IG92ZXJyaWRlID0gQVBQX0NPTkZJRy5kZWZhdWx0U2V0dGluZ3MuYXBwbGljYXRpb24ub3ZlcnJpZGVMb2NhbGU7XG4gIGNvbnN0IGJyb3dzZXJMb2NhbGUgPSBvdmVycmlkZSAmJiByZXEucXVlcnkuaW5pdCA9PT0gJ3RydWUnXG4gICAgPyBvdmVycmlkZS5zcGxpdCgvWy1fXS9nKSA6IHJlcS5xdWVyeS5sb2NhbGUuc3BsaXQoL1stX10vZyk7XG5cbiAgY29uc3QgbG9jYWxlTGlzdCA9IFtmYWxsYmFja107XG5cbiAgY29uc3QgdXNhYmxlTG9jYWxlcyA9IEFWQUlMQUJMRV9MT0NBTEVTXG4gICAgLm1hcChmaWxlID0+IGZpbGUucmVwbGFjZSgnLmpzb24nLCAnJykpXG4gICAgLnJlZHVjZSgobG9jYWxlcywgbG9jYWxlKSA9PiAobG9jYWxlLm1hdGNoKGJyb3dzZXJMb2NhbGVbMF0pXG4gICAgICA/IFsuLi5sb2NhbGVzLCBsb2NhbGVdXG4gICAgICA6IGxvY2FsZXMpLCBbXSk7XG5cbiAgY29uc3QgcmVnaW9uRGVmYXVsdCA9IHVzYWJsZUxvY2FsZXMuZmluZChsb2NhbGUgPT4gYnJvd3NlckxvY2FsZVswXSA9PT0gbG9jYWxlKTtcblxuICBpZiAocmVnaW9uRGVmYXVsdCkgbG9jYWxlTGlzdC5wdXNoKHJlZ2lvbkRlZmF1bHQpO1xuICBpZiAoIXJlZ2lvbkRlZmF1bHQgJiYgdXNhYmxlTG9jYWxlcy5sZW5ndGgpIGxvY2FsZUxpc3QucHVzaCh1c2FibGVMb2NhbGVzWzBdKTtcblxuICBsZXQgbm9ybWFsaXplZExvY2FsZTtcbiAgbGV0IG1lc3NhZ2VzID0ge307XG5cbiAgaWYgKGJyb3dzZXJMb2NhbGUubGVuZ3RoID4gMSkge1xuICAgIG5vcm1hbGl6ZWRMb2NhbGUgPSBgJHticm93c2VyTG9jYWxlWzBdfV8ke2Jyb3dzZXJMb2NhbGVbMV0udG9VcHBlckNhc2UoKX1gO1xuICAgIGxvY2FsZUxpc3QucHVzaChub3JtYWxpemVkTG9jYWxlKTtcbiAgfVxuXG4gIGxvY2FsZUxpc3QuZm9yRWFjaCgobG9jYWxlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBBc3NldHMuZ2V0VGV4dChgbG9jYWxlcy8ke2xvY2FsZX0uanNvbmApO1xuICAgICAgbWVzc2FnZXMgPSBPYmplY3QuYXNzaWduKG1lc3NhZ2VzLCBKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgIG5vcm1hbGl6ZWRMb2NhbGUgPSBsb2NhbGU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgTG9nZ2VyLndhcm4oYCdDb3VsZCBub3QgcHJvY2VzcyBsb2NhbGUgJHtsb2NhbGV9OiR7ZX1gKTtcbiAgICAgIC8vIEdldHRpbmcgaGVyZSBtZWFucyB0aGUgbG9jYWxlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgbG9jYWxlIGZpbGVzLlxuICAgIH1cbiAgfSk7XG5cbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7IG5vcm1hbGl6ZWRMb2NhbGUsIG1lc3NhZ2VzIH0pKTtcbn0pO1xuXG5XZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSgnL2xvY2FsZXMnLCAocmVxLCByZXMpID0+IHtcbiAgbGV0IGxvY2FsZXMgPSBbXTtcbiAgdHJ5IHtcbiAgICBsb2NhbGVzID0gQVZBSUxBQkxFX0xPQ0FMRVNcbiAgICAgIC5tYXAoZmlsZSA9PiBmaWxlLnJlcGxhY2UoJy5qc29uJywgJycpKVxuICAgICAgLm1hcChmaWxlID0+IGZpbGUucmVwbGFjZSgnXycsICctJykpXG4gICAgICAubWFwKGxvY2FsZSA9PiAoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIG5hbWU6IExhbmdtYXBbbG9jYWxlXS5uYXRpdmVOYW1lLFxuICAgICAgfSkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgTG9nZ2VyLndhcm4oYCdDb3VsZCBub3QgcHJvY2VzcyBsb2NhbGVzIGVycm9yOiAke2V9YCk7XG4gIH1cblxuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICByZXMud3JpdGVIZWFkKDIwMCk7XG4gIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkobG9jYWxlcykpO1xufSk7XG5cbldlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKCcvZmVlZGJhY2snLCAocmVxLCByZXMpID0+IHtcbiAgcmVxLm9uKCdkYXRhJywgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCgoZGF0YSkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgIGNvbnN0IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGF1dGhUb2tlbixcbiAgICAgIHVzZXJOYW1lOiByZXFVc2VyTmFtZSxcbiAgICAgIGNvbW1lbnQsXG4gICAgICByYXRpbmcsXG4gICAgfSA9IGJvZHk7XG5cbiAgICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gICAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGF1dGhUb2tlbiwgU3RyaW5nKTtcbiAgICBjaGVjayhyZXFVc2VyTmFtZSwgU3RyaW5nKTtcbiAgICBjaGVjayhjb21tZW50LCBTdHJpbmcpO1xuICAgIGNoZWNrKHJhdGluZywgTnVtYmVyKTtcblxuICAgIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdvZmZsaW5lJyxcbiAgICAgIGF1dGhUb2tlbixcbiAgICB9KTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgTG9nZ2VyLndhcm4oJ0NvdWxkblxcJ3QgZmluZCB1c2VyIGZvciBmZWVkYmFjaycpO1xuICAgIH1cblxuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgcmVzLndyaXRlSGVhZCgyMDApO1xuICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoeyBzdGF0dXM6ICdvaycgfSkpO1xuXG4gICAgYm9keS51c2VyTmFtZSA9IHVzZXIgPyB1c2VyLm5hbWUgOiBgW3VuY29uZmlybWVkXSAke3JlcVVzZXJOYW1lfWA7XG5cbiAgICBjb25zdCBmZWVkYmFjayA9IHtcbiAgICAgIC4uLmJvZHksXG4gICAgfTtcbiAgICBMb2dnZXIuaW5mbygnRkVFREJBQ0sgTE9HOicsIGZlZWRiYWNrKTtcbiAgfSkpO1xufSk7XG5cbldlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKCcvdXNlcmFnZW50JywgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHVzZXJBZ2VudCA9IHJlcS5oZWFkZXJzWyd1c2VyLWFnZW50J107XG4gIGxldCByZXNwb25zZSA9ICdObyB1c2VyIGFnZW50IGZvdW5kIGluIGhlYWRlcic7XG4gIGlmICh1c2VyQWdlbnQpIHtcbiAgICByZXNwb25zZSA9IGxvb2t1cFVzZXJBZ2VudCh1c2VyQWdlbnQpLnRvU3RyaW5nKCk7XG4gIH1cblxuICBMb2dnZXIuaW5mbyhgVGhlIHJlcXVlc3RpbmcgdXNlciBhZ2VudCBpcyAke3Jlc3BvbnNlfWApO1xuXG4gIC8vIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gIHJlcy53cml0ZUhlYWQoMjAwKTtcbiAgcmVzLmVuZChyZXNwb25zZSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IGV2ZW50RW1pdHRlciA9IFJlZGlzLmVtaXR0ZXI7XG5cbmV4cG9ydCBjb25zdCByZWRpc1B1YlN1YiA9IFJlZGlzO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjcmVhdGVMb2dnZXIsIGZvcm1hdCwgdHJhbnNwb3J0cyB9IGZyb20gJ3dpbnN0b24nO1xuXG5jb25zdCBMT0dfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUuc2VydmVyTG9nIHx8IHt9O1xuY29uc3QgeyBsZXZlbCB9ID0gTE9HX0NPTkZJRztcblxuY29uc3QgTG9nZ2VyID0gY3JlYXRlTG9nZ2VyKHtcbiAgbGV2ZWwsXG4gIGZvcm1hdDogZm9ybWF0LmNvbWJpbmUoXG4gICAgZm9ybWF0LmNvbG9yaXplKHsgbGV2ZWw6IHRydWUgfSksXG4gICAgZm9ybWF0LnNwbGF0KCksXG4gICAgZm9ybWF0LnNpbXBsZSgpLFxuICApLFxuICB0cmFuc3BvcnRzOiBbXG4gICAgLy8gY29uc29sZSBsb2dnaW5nXG4gICAgbmV3IHRyYW5zcG9ydHMuQ29uc29sZSh7XG4gICAgICBwcmV0dHlQcmludDogZmFsc2UsXG4gICAgICBodW1hblJlYWRhYmxlVW5oYW5kbGVkRXhjZXB0aW9uOiB0cnVlLFxuICAgICAgY29sb3JpemU6IHRydWUsXG4gICAgICBoYW5kbGVFeGNlcHRpb25zOiB0cnVlLFxuICAgICAgbGV2ZWwsXG4gICAgfSksXG4gIF0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gTG9nZ2VyO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBzZXRNaW5pbXVtQnJvd3NlclZlcnNpb25zIH0gZnJvbSAnbWV0ZW9yL21vZGVybi1icm93c2Vycyc7XG5cbmNvbnN0IHNldE1pbkJyb3dzZXJWZXJzaW9ucyA9ICgpID0+IHtcbiAgY29uc3QgeyBtaW5Ccm93c2VyVmVyc2lvbnMgfSA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlO1xuXG4gIGNvbnN0IHZlcnNpb25zID0ge307XG5cbiAgbWluQnJvd3NlclZlcnNpb25zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICBsZXQgeyB2ZXJzaW9uIH0gPSBlbGVtO1xuICAgIGlmICh2ZXJzaW9uID09PSAnSW5maW5pdHknKSB2ZXJzaW9uID0gSW5maW5pdHk7XG5cbiAgICB2ZXJzaW9uc1tlbGVtLmJyb3dzZXJdID0gdmVyc2lvbjtcbiAgfSk7XG5cbiAgc2V0TWluaW11bUJyb3dzZXJWZXJzaW9ucyh2ZXJzaW9ucywgJ2JiYi1taW4nKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHNldE1pbkJyb3dzZXJWZXJzaW9ucztcbiIsIi8qIGdsb2JhbCBQb3dlclF1ZXVlICovXG5pbXBvcnQgUmVkaXMgZnJvbSAncmVkaXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIyIH0gZnJvbSAnZXZlbnRlbWl0dGVyMic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcblxuLy8gRmFrZSBtZWV0aW5nSWQgdXNlZCBmb3IgbWVzc2FnZXMgdGhhdCBoYXZlIG5vIG1lZXRpbmdJZFxuY29uc3QgTk9fTUVFVElOR19JRCA9ICdfJztcblxuY29uc3QgbWFrZUVudmVsb3BlID0gKGNoYW5uZWwsIGV2ZW50TmFtZSwgaGVhZGVyLCBib2R5LCByb3V0aW5nKSA9PiB7XG4gIGNvbnN0IGVudmVsb3BlID0ge1xuICAgIGVudmVsb3BlOiB7XG4gICAgICBuYW1lOiBldmVudE5hbWUsXG4gICAgICByb3V0aW5nOiByb3V0aW5nIHx8IHtcbiAgICAgICAgc2VuZGVyOiAnYmJiLWFwcHMtYWtrYScsXG4gICAgICAgIC8vIHNlbmRlcjogJ2h0bWw1LXNlcnZlcicsIC8vIFRPRE9cbiAgICAgIH0sXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfSxcbiAgICBjb3JlOiB7XG4gICAgICBoZWFkZXIsXG4gICAgICBib2R5LFxuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGVudmVsb3BlKTtcbn07XG5cbmNvbnN0IG1ha2VEZWJ1Z2dlciA9IGVuYWJsZWQgPT4gKG1lc3NhZ2UpID0+IHtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm47XG4gIExvZ2dlci5kZWJ1ZyhgUkVESVM6ICR7bWVzc2FnZX1gKTtcbn07XG5cbmNsYXNzIE1lZXRpbmdNZXNzYWdlUXVldWUge1xuICBjb25zdHJ1Y3RvcihldmVudEVtaXR0ZXIsIGFzeW5jTWVzc2FnZXMgPSBbXSwgZGVidWcgPSAoKSA9PiB7IH0pIHtcbiAgICB0aGlzLmFzeW5jTWVzc2FnZXMgPSBhc3luY01lc3NhZ2VzO1xuICAgIHRoaXMuZW1pdHRlciA9IGV2ZW50RW1pdHRlcjtcbiAgICB0aGlzLnF1ZXVlID0gbmV3IFBvd2VyUXVldWUoKTtcbiAgICB0aGlzLmRlYnVnID0gZGVidWc7XG5cbiAgICB0aGlzLmhhbmRsZVRhc2sgPSB0aGlzLmhhbmRsZVRhc2suYmluZCh0aGlzKTtcbiAgICB0aGlzLnF1ZXVlLnRhc2tIYW5kbGVyID0gdGhpcy5oYW5kbGVUYXNrO1xuICB9XG5cbiAgaGFuZGxlVGFzayhkYXRhLCBuZXh0KSB7XG4gICAgY29uc3QgeyBjaGFubmVsIH0gPSBkYXRhO1xuICAgIGNvbnN0IHsgZW52ZWxvcGUgfSA9IGRhdGEucGFyc2VkTWVzc2FnZTtcbiAgICBjb25zdCB7IGhlYWRlciB9ID0gZGF0YS5wYXJzZWRNZXNzYWdlLmNvcmU7XG4gICAgY29uc3QgeyBib2R5IH0gPSBkYXRhLnBhcnNlZE1lc3NhZ2UuY29yZTtcbiAgICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gaGVhZGVyO1xuICAgIGNvbnN0IGV2ZW50TmFtZSA9IGhlYWRlci5uYW1lO1xuICAgIGNvbnN0IGlzQXN5bmMgPSB0aGlzLmFzeW5jTWVzc2FnZXMuaW5jbHVkZXMoY2hhbm5lbClcbiAgICAgIHx8IHRoaXMuYXN5bmNNZXNzYWdlcy5pbmNsdWRlcyhldmVudE5hbWUpO1xuXG4gICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuXG4gICAgY2hlY2soZXZlbnROYW1lLCBTdHJpbmcpO1xuICAgIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgICBjb25zdCBjYWxsTmV4dCA9ICgpID0+IHtcbiAgICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICAgIHRoaXMuZGVidWcoYCR7ZXZlbnROYW1lfSBjb21wbGV0ZWQgJHtpc0FzeW5jID8gJ2FzeW5jJyA6ICdzeW5jJ31gKTtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICBjb25zdCBxdWV1ZUxlbmd0aCA9IHRoaXMucXVldWUubGVuZ3RoKCk7XG4gICAgICBpZiAocXVldWVMZW5ndGggPiAxMDApIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGBwcmV2IHF1ZXVlIHNpemU9JHtxdWV1ZUxlbmd0aH0gYCk7XG4gICAgICB9XG4gICAgICBuZXh0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uRXJyb3IgPSAocmVhc29uKSA9PiB7XG4gICAgICBMb2dnZXIuZXJyb3IoYCR7ZXZlbnROYW1lfTogJHtyZWFzb24uc3RhY2sgPyByZWFzb24uc3RhY2sgOiByZWFzb259YCk7XG4gICAgICBjYWxsTmV4dCgpO1xuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5kZWJ1ZyhgJHtKU09OLnN0cmluZ2lmeShkYXRhLnBhcnNlZE1lc3NhZ2UuY29yZSl9IGVtaXR0ZWRgKTtcblxuICAgICAgaWYgKGlzQXN5bmMpIHtcbiAgICAgICAgY2FsbE5leHQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbWl0dGVyXG4gICAgICAgIC5lbWl0QXN5bmMoZXZlbnROYW1lLCB7IGVudmVsb3BlLCBoZWFkZXIsIGJvZHkgfSwgbWVldGluZ0lkKVxuICAgICAgICAudGhlbihjYWxsTmV4dClcbiAgICAgICAgLmNhdGNoKG9uRXJyb3IpO1xuICAgIH0gY2F0Y2ggKHJlYXNvbikge1xuICAgICAgb25FcnJvcihyZWFzb24pO1xuICAgIH1cbiAgfVxuXG4gIGFkZCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMucXVldWUuYWRkKC4uLmFyZ3MpO1xuICB9XG59XG5cbmNsYXNzIFJlZGlzUHViU3ViIHtcbiAgc3RhdGljIGhhbmRsZVB1Ymxpc2hFcnJvcihlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgdGhpcy5kaWRTZW5kUmVxdWVzdEV2ZW50ID0gZmFsc2U7XG4gICAgY29uc3QgaG9zdCA9IHByb2Nlc3MuZW52LlJFRElTX0hPU1QgfHwgTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXMuaG9zdDtcbiAgICBjb25zdCByZWRpc0NvbmYgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgICBjb25zdCB7IHBhc3N3b3JkLCBwb3J0IH0gPSByZWRpc0NvbmY7XG5cbiAgICBpZiAocGFzc3dvcmQpIHtcbiAgICAgIHRoaXMucHViID0gUmVkaXMuY3JlYXRlQ2xpZW50KHsgaG9zdCwgcG9ydCwgcGFzc3dvcmQgfSk7XG4gICAgICB0aGlzLnN1YiA9IFJlZGlzLmNyZWF0ZUNsaWVudCh7IGhvc3QsIHBvcnQsIHBhc3N3b3JkIH0pO1xuICAgICAgdGhpcy5wdWIuYXV0aChwYXNzd29yZCk7XG4gICAgICB0aGlzLnN1Yi5hdXRoKHBhc3N3b3JkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdWIgPSBSZWRpcy5jcmVhdGVDbGllbnQoeyBob3N0LCBwb3J0IH0pO1xuICAgICAgdGhpcy5zdWIgPSBSZWRpcy5jcmVhdGVDbGllbnQoeyBob3N0LCBwb3J0IH0pO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIyKCk7XG4gICAgdGhpcy5tZXR0aW5nc1F1ZXVlcyA9IHt9O1xuXG4gICAgdGhpcy5oYW5kbGVTdWJzY3JpYmUgPSB0aGlzLmhhbmRsZVN1YnNjcmliZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlTWVzc2FnZSA9IHRoaXMuaGFuZGxlTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVidWcgPSBtYWtlRGVidWdnZXIodGhpcy5jb25maWcuZGVidWcpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnN1Yi5vbigncHN1YnNjcmliZScsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQodGhpcy5oYW5kbGVTdWJzY3JpYmUpKTtcbiAgICB0aGlzLnN1Yi5vbigncG1lc3NhZ2UnLCBNZXRlb3IuYmluZEVudmlyb25tZW50KHRoaXMuaGFuZGxlTWVzc2FnZSkpO1xuXG4gICAgY29uc3QgY2hhbm5lbHNUb1N1YnNjcmliZSA9IHRoaXMuY29uZmlnLnN1YnNjcmliZVRvO1xuXG4gICAgY2hhbm5lbHNUb1N1YnNjcmliZS5mb3JFYWNoKChjaGFubmVsKSA9PiB7XG4gICAgICB0aGlzLnN1Yi5wc3Vic2NyaWJlKGNoYW5uZWwpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5kZWJ1ZyhgU3Vic2NyaWJlZCB0byAnJHtjaGFubmVsc1RvU3Vic2NyaWJlfSdgKTtcbiAgfVxuXG4gIHVwZGF0ZUNvbmZpZyhjb25maWcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29uZmlnLCBjb25maWcpO1xuICAgIHRoaXMuZGVidWcgPSBtYWtlRGVidWdnZXIodGhpcy5jb25maWcuZGVidWcpO1xuICB9XG5cblxuICAvLyBUT0RPOiBNb3ZlIHRoaXMgb3V0IG9mIHRoaXMgY2xhc3MsIG1heWJlIHBhc3MgYXMgYSBjYWxsYmFjayB0byBpbml0P1xuICBoYW5kbGVTdWJzY3JpYmUoKSB7XG4gICAgaWYgKHRoaXMuZGlkU2VuZFJlcXVlc3RFdmVudCkgcmV0dXJuO1xuXG4gICAgLy8gcG9wdWxhdGUgY29sbGVjdGlvbnMgd2l0aCBwcmUtZXhpc3RpbmcgZGF0YVxuICAgIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICAgIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgICBjb25zdCBFVkVOVF9OQU1FID0gJ0dldEFsbE1lZXRpbmdzUmVxTXNnJztcblxuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICByZXF1ZXN0ZXJJZDogJ25vZGVKU2FwcCcsXG4gICAgfTtcblxuICAgIHRoaXMucHVibGlzaFN5c3RlbU1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgYm9keSk7XG4gICAgdGhpcy5kaWRTZW5kUmVxdWVzdEV2ZW50ID0gdHJ1ZTtcbiAgfVxuXG4gIGhhbmRsZU1lc3NhZ2UocGF0dGVybiwgY2hhbm5lbCwgbWVzc2FnZSkge1xuICAgIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBKU09OLnBhcnNlKG1lc3NhZ2UpO1xuICAgIGNvbnN0IHsgbmFtZTogZXZlbnROYW1lLCBtZWV0aW5nSWQgfSA9IHBhcnNlZE1lc3NhZ2UuY29yZS5oZWFkZXI7XG4gICAgY29uc3QgeyBpZ25vcmVkOiBpZ25vcmVkTWVzc2FnZXMsIGFzeW5jIH0gPSB0aGlzLmNvbmZpZztcblxuICAgIGlmIChpZ25vcmVkTWVzc2FnZXMuaW5jbHVkZXMoY2hhbm5lbClcbiAgICAgIHx8IGlnbm9yZWRNZXNzYWdlcy5pbmNsdWRlcyhldmVudE5hbWUpKSB7XG4gICAgICBpZiAoZXZlbnROYW1lID09PSAnQ2hlY2tBbGl2ZVBvbmdTeXNNc2cnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVidWcoYCR7ZXZlbnROYW1lfSBza2lwcGVkYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcXVldWVJZCA9IG1lZXRpbmdJZCB8fCBOT19NRUVUSU5HX0lEO1xuXG4gICAgaWYgKCEocXVldWVJZCBpbiB0aGlzLm1ldHRpbmdzUXVldWVzKSkge1xuICAgICAgdGhpcy5tZXR0aW5nc1F1ZXVlc1ttZWV0aW5nSWRdID0gbmV3IE1lZXRpbmdNZXNzYWdlUXVldWUodGhpcy5lbWl0dGVyLCBhc3luYywgdGhpcy5kZWJ1Zyk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXR0aW5nc1F1ZXVlc1ttZWV0aW5nSWRdLmFkZCh7XG4gICAgICBwYXR0ZXJuLFxuICAgICAgY2hhbm5lbCxcbiAgICAgIGV2ZW50TmFtZSxcbiAgICAgIHBhcnNlZE1lc3NhZ2UsXG4gICAgfSk7XG4gIH1cblxuICBkZXN0cm95TWVldGluZ1F1ZXVlKGlkKSB7XG4gICAgZGVsZXRlIHRoaXMubWV0dGluZ3NRdWV1ZXNbaWRdO1xuICB9XG5cbiAgb24oLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLmVtaXR0ZXIub24oLi4uYXJncyk7XG4gIH1cblxuICBwdWJsaXNoVm9pY2VNZXNzYWdlKGNoYW5uZWwsIGV2ZW50TmFtZSwgdm9pY2VDb25mLCBwYXlsb2FkKSB7XG4gICAgY29uc3QgaGVhZGVyID0ge1xuICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgICAgdm9pY2VDb25mLFxuICAgIH07XG5cbiAgICBjb25zdCBlbnZlbG9wZSA9IG1ha2VFbnZlbG9wZShjaGFubmVsLCBldmVudE5hbWUsIGhlYWRlciwgcGF5bG9hZCk7XG5cbiAgICByZXR1cm4gdGhpcy5wdWIucHVibGlzaChjaGFubmVsLCBlbnZlbG9wZSwgUmVkaXNQdWJTdWIuaGFuZGxlUHVibGlzaEVycm9yKTtcbiAgfVxuXG4gIHB1Ymxpc2hTeXN0ZW1NZXNzYWdlKGNoYW5uZWwsIGV2ZW50TmFtZSwgcGF5bG9hZCkge1xuICAgIGNvbnN0IGhlYWRlciA9IHtcbiAgICAgIG5hbWU6IGV2ZW50TmFtZSxcbiAgICB9O1xuXG4gICAgY29uc3QgZW52ZWxvcGUgPSBtYWtlRW52ZWxvcGUoY2hhbm5lbCwgZXZlbnROYW1lLCBoZWFkZXIsIHBheWxvYWQpO1xuXG4gICAgcmV0dXJuIHRoaXMucHViLnB1Ymxpc2goY2hhbm5lbCwgZW52ZWxvcGUsIFJlZGlzUHViU3ViLmhhbmRsZVB1Ymxpc2hFcnJvcik7XG4gIH1cblxuICBwdWJsaXNoTWVldGluZ01lc3NhZ2UoY2hhbm5lbCwgZXZlbnROYW1lLCBtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB7XG4gICAgICBuYW1lOiBldmVudE5hbWUsXG4gICAgICBtZWV0aW5nSWQsXG4gICAgfTtcblxuICAgIGNvbnN0IGVudmVsb3BlID0gbWFrZUVudmVsb3BlKGNoYW5uZWwsIGV2ZW50TmFtZSwgaGVhZGVyLCBwYXlsb2FkKTtcblxuICAgIHJldHVybiB0aGlzLnB1Yi5wdWJsaXNoKGNoYW5uZWwsIGVudmVsb3BlLCBSZWRpc1B1YlN1Yi5oYW5kbGVQdWJsaXNoRXJyb3IpO1xuICB9XG5cbiAgcHVibGlzaFVzZXJNZXNzYWdlKGNoYW5uZWwsIGV2ZW50TmFtZSwgbWVldGluZ0lkLCB1c2VySWQsIHBheWxvYWQpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB7XG4gICAgICBuYW1lOiBldmVudE5hbWUsXG4gICAgICBtZWV0aW5nSWQsXG4gICAgICB1c2VySWQsXG4gICAgfTtcblxuICAgIGlmICghbWVldGluZ0lkIHx8ICF1c2VySWQpIHtcbiAgICAgIExvZ2dlci53YXJuKGBQdWJsaXNoaW5nICR7ZXZlbnROYW1lfSB3aXRoIHBvdGVudGlhbGx5IG1pc3NpbmcgZGF0YSB1c2VySWQ9JHt1c2VySWR9IG1lZXRpbmdJZD0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gICAgY29uc3QgZW52ZWxvcGUgPSBtYWtlRW52ZWxvcGUoY2hhbm5lbCwgZXZlbnROYW1lLCBoZWFkZXIsIHBheWxvYWQsIHsgbWVldGluZ0lkLCB1c2VySWQgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5wdWIucHVibGlzaChjaGFubmVsLCBlbnZlbG9wZSwgUmVkaXNQdWJTdWIuaGFuZGxlUHVibGlzaEVycm9yKTtcbiAgfVxufVxuXG5jb25zdCBSZWRpc1B1YlN1YlNpbmdsZXRvbiA9IG5ldyBSZWRpc1B1YlN1YigpO1xuXG5NZXRlb3Iuc3RhcnR1cCgoKSA9PiB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuXG4gIFJlZGlzUHViU3ViU2luZ2xldG9uLnVwZGF0ZUNvbmZpZyhSRURJU19DT05GSUcpO1xuICBSZWRpc1B1YlN1YlNpbmdsZXRvbi5pbml0KCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgUmVkaXNQdWJTdWJTaW5nbGV0b247XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgWUFNTCBmcm9tICd5YW1sJztcblxuY29uc3QgWUFNTF9GSUxFX1BBVEggPSAnYXNzZXRzL2FwcC9jb25maWcvc2V0dGluZ3MueW1sJztcblxudHJ5IHtcbiAgaWYgKGZzLmV4aXN0c1N5bmMoWUFNTF9GSUxFX1BBVEgpKSB7XG4gICAgY29uc3QgU0VUVElOR1MgPSBZQU1MLnBhcnNlKGZzLnJlYWRGaWxlU3luYyhZQU1MX0ZJTEVfUEFUSCwgJ3V0Zi04JykpO1xuXG4gICAgTWV0ZW9yLnNldHRpbmdzID0gU0VUVElOR1M7XG4gICAgX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5QVUJMSUNfU0VUVElOR1MgPSBTRVRUSU5HUy5wdWJsaWM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaWxlIGRvZXNuXFwndCBleGlzdHMnKTtcbiAgfVxufSBjYXRjaCAoZXJyb3IpIHtcbiAgY29uc29sZS5lcnJvcignRXJyb3Igb24gbG9hZCBjb25maWd1cmF0aW9uIGZpbGUuJywgZXJyb3IpO1xufVxuIiwiLy8gVXNlZCBpbiBGbGFzaCBhbmQgSFRNTCB0byBzaG93IGEgbGVnaXRpbWF0ZSBicmVhayBpbiB0aGUgbGluZVxuY29uc3QgQlJFQUtfTElORSA9ICc8YnIvPic7XG5cbi8vIFNvZnQgcmV0dXJuIGluIEhUTUwgdG8gc2lnbmlmeSBhIGJyb2tlbiBsaW5lIHdpdGhvdXRcbi8vIGRpc3BsYXlpbmcgdGhlIGVzY2FwZWQgJzxici8+JyBsaW5lIGJyZWFrIHRleHRcbmNvbnN0IENBUlJJQUdFX1JFVFVSTiA9ICdcXHInO1xuXG4vLyBIYW5kbGUgdGhpcyB0aGUgc2FtZSBhcyBjYXJyaWFnZSByZXR1cm4sIGluIGNhc2UgdGV4dCBjb3BpZWQgaGFzIHRoaXNcbmNvbnN0IE5FV19MSU5FID0gJ1xcbic7XG5cbmV4cG9ydCB7IEJSRUFLX0xJTkUsIENBUlJJQUdFX1JFVFVSTiwgTkVXX0xJTkUgfTtcbiIsImV4cG9ydCBjb25zdCBYTFMgPSAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJztcbmV4cG9ydCBjb25zdCBYTFNYID0gJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JztcbmV4cG9ydCBjb25zdCBET0MgPSAnYXBwbGljYXRpb24vbXN3b3JkJztcbmV4cG9ydCBjb25zdCBET0NYID0gJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50JztcbmV4cG9ydCBjb25zdCBQUFQgPSAnYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQnO1xuZXhwb3J0IGNvbnN0IFBQVFggPSAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnByZXNlbnRhdGlvbic7XG5leHBvcnQgY29uc3QgT0RUID0gJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQudGV4dCc7XG5leHBvcnQgY29uc3QgUlRGID0gJ2FwcGxpY2F0aW9uL3J0Zic7XG5leHBvcnQgY29uc3QgVFhUID0gJ3RleHQvcGxhaW4nO1xuZXhwb3J0IGNvbnN0IE9EUyA9ICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0JztcbmV4cG9ydCBjb25zdCBPRFAgPSAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5wcmVzZW50YXRpb24nO1xuZXhwb3J0IGNvbnN0IFBERiA9ICdhcHBsaWNhdGlvbi9wZGYnO1xuZXhwb3J0IGNvbnN0IEpQRUcgPSAnaW1hZ2UvanBlZyc7XG5leHBvcnQgY29uc3QgUE5HID0gJ2ltYWdlL3BuZyc7XG5leHBvcnQgY29uc3QgU1ZHID0gJ2ltYWdlL3N2Zyt4bWwnO1xuXG5leHBvcnQgY29uc3QgVVBMT0FEX1NVUE9SVEVEID0gW1xuICBYTFMsXG4gIFhMU1gsXG4gIERPQyxcbiAgRE9DWCxcbiAgUFBULFxuICBQUFRYLFxuICBPRFQsXG4gIFJURixcbiAgVFhULFxuICBPRFMsXG4gIE9EUCxcbiAgUERGLFxuICBKUEVHLFxuICBQTkcsXG5dO1xuIiwiLy9cbi8vIFJlZ3VsYXIgRXhwcmVzc2lvbiBmb3IgVVJMIHZhbGlkYXRpb25cbi8vXG4vLyBBdXRob3I6IERpZWdvIFBlcmluaVxuLy8gVXBkYXRlZDogMjAxMC8xMi8wNVxuLy8gTGljZW5zZTogTUlUXG4vL1xuLy8gQ29weXJpZ2h0IChjKSAyMDEwLTIwMTMgRGllZ28gUGVyaW5pIChodHRwOi8vd3d3Lmlwb3J0Lml0KVxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uXG4vLyBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvblxuLy8gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0XG4vLyByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSxcbi8vIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGVcbi8vIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nXG4vLyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4vLyBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuLy8gRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTXG4vLyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuLy8gTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFRcbi8vIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLFxuLy8gV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HXG4vLyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SXG4vLyBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4vL1xuLy8gdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBjb21wb3NlZCAmIGNvbW1lbnRlZFxuLy8gY291bGQgYmUgZWFzaWx5IHR3ZWFrZWQgZm9yIFJGQyBjb21wbGlhbmNlLFxuLy8gaXQgd2FzIGV4cHJlc3NseSBtb2RpZmllZCB0byBmaXQgJiBzYXRpc2Z5XG4vLyB0aGVzZSB0ZXN0IGZvciBhbiBVUkwgc2hvcnRlbmVyOlxuLy9cbi8vICAgaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXhcbi8vXG4vLyBOb3RlcyBvbiBwb3NzaWJsZSBkaWZmZXJlbmNlcyBmcm9tIGEgc3RhbmRhcmQvZ2VuZXJpYyB2YWxpZGF0aW9uOlxuLy9cbi8vIC0gdXRmLTggY2hhciBjbGFzcyB0YWtlIGluIGNvbnNpZGVyYXRpb24gdGhlIGZ1bGwgVW5pY29kZSByYW5nZVxuLy8gLSBUTERzIGhhdmUgYmVlbiBtYWRlIG1hbmRhdG9yeSBzbyBzaW5nbGUgbmFtZXMgbGlrZSBcImxvY2FsaG9zdFwiIGZhaWxzXG4vLyAtIHByb3RvY29scyBoYXZlIGJlZW4gcmVzdHJpY3RlZCB0byBmdHAsIGh0dHAgYW5kIGh0dHBzIG9ubHkgYXMgcmVxdWVzdGVkXG4vL1xuLy8gQ2hhbmdlczpcbi8vXG4vLyAtIElQIGFkZHJlc3MgZG90dGVkIG5vdGF0aW9uIHZhbGlkYXRpb24sIHJhbmdlOiAxLjAuMC4wIC0gMjIzLjI1NS4yNTUuMjU1XG4vLyAgIGZpcnN0IGFuZCBsYXN0IElQIGFkZHJlc3Mgb2YgZWFjaCBjbGFzcyBpcyBjb25zaWRlcmVkIGludmFsaWRcbi8vICAgKHNpbmNlIHRoZXkgYXJlIGJyb2FkY2FzdC9uZXR3b3JrIGFkZHJlc3Nlcylcbi8vXG4vLyAtIEFkZGVkIGV4Y2x1c2lvbiBvZiBwcml2YXRlLCByZXNlcnZlZCBhbmQvb3IgbG9jYWwgbmV0d29ya3MgcmFuZ2VzXG4vL1xuLy8gLSBNYWRlIHN0YXJ0aW5nIHBhdGggc2xhc2ggb3B0aW9uYWwgKGh0dHA6Ly9leGFtcGxlLmNvbT9mb289YmFyKVxuLy9cbi8vIC0gQWxsb3cgYSBkb3QgKC4pIGF0IHRoZSBlbmQgb2YgaG9zdG5hbWVzIChodHRwOi8vZXhhbXBsZS5jb20uKVxuLy9cbi8vIENvbXByZXNzZWQgb25lLWxpbmUgdmVyc2lvbnM6XG4vL1xuLy8gSmF2YXNjcmlwdCB2ZXJzaW9uIChtZXJnZSBpbnRvIG9uZSBsaW5lKVxuLy9cbi8vIC9eKD86KD86aHR0cHM/fGZ0cCk6XFwvXFwvKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSlcbi8vICg/ISg/OjE2OVxcLjI1NHwxOTJcXC4xNjgpKD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSkoPzpcXC5cXGR7MSwzfSl7Mn0pXG4vLyAoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKXsyfVxuLy8gKD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspXG4vLyAoPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKig/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmZdezIsfSkpXFwuPylcbi8vICg/OjpcXGR7Miw1fSk/KD86Wy8/I11cXFMqKT8kL2lcbi8vXG4vLyBQSFAgdmVyc2lvbiAobWVyZ2UgaW50byBvbmUgbGluZSlcbi8vXG4vLyBfXig/Oig/Omh0dHBzP3xmdHApOi8vKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KVxuLy8gKD86XFwuXFxkezEsM30pezN9KSg/ISg/OjE2OVxcLjI1NHwxOTJcXC4xNjgpKD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSlcbi8vICg/OlxcLlxcZHsxLDN9KXsyfSkoPzpbMS05XVxcZD98MVxcZFxcZHwyWzAxXVxcZHwyMlswLTNdKSg/OlxcLig/OjE/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pKVxuLy8gezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx4ezAwYTF9LVxceHtmZmZmfTAtOV0tKilcbi8vICpbYS16XFx4ezAwYTF9LVxceHtmZmZmfTAtOV0rKSg/OlxcLig/OlthLXpcXHh7MDBhMX0tXFx4e2ZmZmZ9MC05XS0qKSpbYS16XFx4ezAwYTF9LVxceHtmZmZmfTAtOV0rKVxuLy8gKig/OlxcLig/OlthLXpcXHh7MDBhMX0tXFx4e2ZmZmZ9XXsyLH0pKVxcLj8pKD86OlxcZHsyLDV9KT8oPzpbLz8jXVxcUyopPyRfaXVTXG4vL1xuXG5leHBvcnQgZGVmYXVsdCBuZXcgUmVnRXhwKFxuXG4gIC8vIHByb3RvY29sIGlkZW50aWZpZXJcbiAgJyg/Oig/Omh0dHBzP3xmdHApOi8vKScgK1xuXG4gIC8vIHVzZXI6cGFzcyBhdXRoZW50aWNhdGlvblxuICAnKD86XFxcXFMrKD86OlxcXFxTKik/QCk/JyArXG4gICcoPzonICtcblxuICAgIC8vIElQIGFkZHJlc3MgZXhjbHVzaW9uXG4gICAgLy8gcHJpdmF0ZSAmIGxvY2FsIG5ldHdvcmtzXG4gICAgJyg/ISg/OjEwfDEyNykoPzpcXFxcLlxcXFxkezEsM30pezN9KScgK1xuICAgICcoPyEoPzoxNjlcXFxcLjI1NHwxOTJcXFxcLjE2OCkoPzpcXFxcLlxcXFxkezEsM30pezJ9KScgK1xuICAgICcoPyExNzJcXFxcLig/OjFbNi05XXwyXFxcXGR8M1swLTFdKSg/OlxcXFwuXFxcXGR7MSwzfSl7Mn0pJyArXG5cbiAgICAvLyBJUCBhZGRyZXNzIGRvdHRlZCBub3RhdGlvbiBvY3RldHNcbiAgICAvLyBleGNsdWRlcyBsb29wYmFjayBuZXR3b3JrIDAuMC4wLjBcbiAgICAvLyBleGNsdWRlcyByZXNlcnZlZCBzcGFjZSA+PSAyMjQuMC4wLjBcbiAgICAvLyBleGNsdWRlcyBuZXR3b3JrICYgYnJvYWNhc3QgYWRkcmVzc2VzXG4gICAgLy8gKGZpcnN0ICYgbGFzdCBJUCBhZGRyZXNzIG9mIGVhY2ggY2xhc3MpXG4gICAgJyg/OlsxLTldXFxcXGQ/fDFcXFxcZFxcXFxkfDJbMDFdXFxcXGR8MjJbMC0zXSknICtcbiAgICAnKD86XFxcXC4oPzoxP1xcXFxkezEsMn18MlswLTRdXFxcXGR8MjVbMC01XSkpezJ9JyArXG4gICAgJyg/OlxcXFwuKD86WzEtOV1cXFxcZD98MVxcXFxkXFxcXGR8MlswLTRdXFxcXGR8MjVbMC00XSkpJyArXG4gICd8JyArXG5cbiAgICAvLyBob3N0IG5hbWVcbiAgICAnKD86KD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldLSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspJyArXG5cbiAgICAvLyBkb21haW4gbmFtZVxuICAgICcoPzpcXFxcLig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XS0qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKSonICtcblxuICAgIC8vIFRMRCBpZGVudGlmaWVyXG4gICAgJyg/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmZdezIsfSkpJyArXG5cbiAgICAvLyBUTEQgbWF5IGVuZCB3aXRoIGRvdFxuICAgICdcXFxcLj8nICtcbiAgJyknICtcblxuICAvLyBwb3J0IG51bWJlclxuICAnKD86OlxcXFxkezIsNX0pPycgK1xuXG4gIC8vIHJlc291cmNlIHBhdGhcbiAgJyg/OlsvPyNdXFxcXFMqKT8nLCAnaW1nJyxcbik7XG4iLCJpbXBvcnQgJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyJztcblxuLy8gMnhcbmltcG9ydCAnL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9waW5nLXBvbmcvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXInO1xuXG4vLyBDb21tb25zXG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9sb2ctY2xpZW50L3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0ICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG4vLyBOZWVkZWQgZm9yIEF0bW9zcGhlcmUgcGFja2FnZSBSb2NrZXRDaGF0L21ldGVvci1zdHJlYW1lclxuLy8gSXQgaXMgb3V0IG9mIGRhdGUgYW5kIHdhcyB3cml0dGVuIHdoZW4gTWV0ZW9yIGNvbnRhaW5lZCBsb2Rhc2hcbi8vIHBhY2thZ2UuIEhvd2V2ZXIsIHdlIG5vdyBpbXBvcnQgbG9kYXNoIGFzIGFuIG5wbSBwYWNrYWdlXG4vLyBpbiBvcmRlciB0byBjb250cm9sIHZlcnNpb25zLCB1cGRhdGUgZmxleGlibHksIGV0Yy4uXG4vLyBTZXR0aW5nIHRoZSBnbG9iYWwuXyB0byB1dGlsaXplIHRoZSBucG0gbG9kYXNoIHBhY2thZ2UgaXMgYW4gaW50ZXJpbSBmaXhcbi8vIGFuZCBpdHMgaW50cm9kdWN0aW9uIHdhcyBpbnNwaXJlZCBieVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL1JvY2tldENoYXQvbWV0ZW9yLXN0cmVhbWVyL2lzc3Vlcy80MCNpc3N1ZWNvbW1lbnQtNDk3NjI3ODkzXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5nbG9iYWwuXyA9IF87XG4iXX0=
