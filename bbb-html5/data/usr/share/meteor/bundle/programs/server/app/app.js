var require = meteorInstall({"imports":{"api":{"annotations":{"server":{"handlers":{"whiteboardAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardAnnotations.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardAnnotations
});

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let modifyWhiteboardAccess;
module.link("/imports/api/whiteboard-multi-user/server/modifiers/modifyWhiteboardAccess", {
  default(v) {
    modifyWhiteboardAccess = v;
  }

}, 2);
let clearAnnotations;
module.link("../modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 3);
let addAnnotation;
module.link("../modifiers/addAnnotation", {
  default(v) {
    addAnnotation = v;
  }

}, 4);

function handleWhiteboardAnnotations({
  header,
  body
}, meetingId) {
  check(header, Object);

  if (header.userId !== 'nodeJSapp') {
    return false;
  }

  check(meetingId, String);
  check(body, Object);
  const {
    annotations,
    whiteboardId,
    multiUser
  } = body;
  check(annotations, Array);
  check(whiteboardId, String);
  check(multiUser, Boolean);
  clearAnnotations(meetingId, whiteboardId);
  const annotationsAdded = [];

  _.each(annotations, annotation => {
    const {
      wbId,
      userId
    } = annotation;
    annotationsAdded.push(addAnnotation(meetingId, wbId, userId, annotation));
  });

  modifyWhiteboardAccess(meetingId, whiteboardId, multiUser);
  return annotationsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardCleared.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardCleared.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardCleared
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let clearAnnotations;
module.link("../modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 2);

function handleWhiteboardCleared({
  body
}, meetingId) {
  check(body, {
    userId: String,
    whiteboardId: String,
    fullClear: Boolean
  });
  const {
    whiteboardId,
    fullClear,
    userId
  } = body;

  if (fullClear) {
    AnnotationsStreamer(meetingId).emit('removed', {
      meetingId,
      whiteboardId
    });
    return clearAnnotations(meetingId, whiteboardId);
  }

  AnnotationsStreamer(meetingId).emit('removed', {
    meetingId,
    whiteboardId,
    userId
  });
  return clearAnnotations(meetingId, whiteboardId, userId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardSend.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardSend.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardSend
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let addAnnotation;
module.link("../modifiers/addAnnotation", {
  default(v) {
    addAnnotation = v;
  }

}, 2);
let Metrics;
module.link("/imports/startup/server/metrics", {
  default(v) {
    Metrics = v;
  }

}, 3);
const {
  queueMetrics
} = Meteor.settings.private.redis.metrics;
const {
  annotationsQueueProcessInterval: ANNOTATION_PROCESS_INTERVAL
} = Meteor.settings.public.whiteboard;
let annotationsQueue = {};
let annotationsRecieverIsRunning = false;

const process = () => {
  if (!Object.keys(annotationsQueue).length) {
    annotationsRecieverIsRunning = false;
    return;
  }

  annotationsRecieverIsRunning = true;
  Object.keys(annotationsQueue).forEach(meetingId => {
    AnnotationsStreamer(meetingId).emit('added', {
      meetingId,
      annotations: annotationsQueue[meetingId]
    });

    if (queueMetrics) {
      Metrics.setAnnotationQueueLength(meetingId, 0);
    }
  });
  annotationsQueue = {};
  Meteor.setTimeout(process, ANNOTATION_PROCESS_INTERVAL);
};

function handleWhiteboardSend({
  header,
  body
}, meetingId) {
  const userId = header.userId;
  const annotation = body.annotation;
  check(userId, String);
  check(annotation, Object);
  const whiteboardId = annotation.wbId;
  check(whiteboardId, String);

  if (!annotationsQueue.hasOwnProperty(meetingId)) {
    annotationsQueue[meetingId] = [];
  }

  annotationsQueue[meetingId].push({
    meetingId,
    whiteboardId,
    userId,
    annotation
  });

  if (queueMetrics) {
    Metrics.setAnnotationQueueLength(meetingId, annotationsQueue[meetingId].length);
  }

  if (!annotationsRecieverIsRunning) process();
  return addAnnotation(meetingId, whiteboardId, userId, annotation);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardUndo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardUndo.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardUndo
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let removeAnnotation;
module.link("../modifiers/removeAnnotation", {
  default(v) {
    removeAnnotation = v;
  }

}, 2);

function handleWhiteboardUndo({
  body
}, meetingId) {
  const whiteboardId = body.whiteboardId;
  const shapeId = body.annotationId;
  check(whiteboardId, String);
  check(shapeId, String);
  AnnotationsStreamer(meetingId).emit('removed', {
    meetingId,
    whiteboardId,
    shapeId
  });
  return removeAnnotation(meetingId, whiteboardId, shapeId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"clearWhiteboard.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/clearWhiteboard.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearWhiteboard
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function clearWhiteboard(whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ClearWhiteboardPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(whiteboardId, String);
  const payload = {
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendAnnotation.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendAnnotation
});
let sendAnnotationHelper;
module.link("./sendAnnotationHelper", {
  default(v) {
    sendAnnotationHelper = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);

function sendAnnotation(annotation) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  sendAnnotationHelper(annotation, meetingId, requesterUserId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendAnnotationHelper.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendAnnotationHelper.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendAnnotationHelper
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function sendAnnotationHelper(annotation, meetingId, requesterUserId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendWhiteboardAnnotationPubMsg';
  const whiteboardId = annotation.wbId;
  check(annotation, Object);
  check(whiteboardId, String);

  if (annotation.annotationType === 'text') {
    check(annotation, {
      id: String,
      status: String,
      annotationType: String,
      annotationInfo: {
        x: Number,
        y: Number,
        fontColor: Number,
        calcedFontSize: Number,
        textBoxWidth: Number,
        text: String,
        textBoxHeight: Number,
        id: String,
        whiteboardId: String,
        status: String,
        fontSize: Number,
        dataPoints: String,
        type: String
      },
      wbId: String,
      userId: String,
      position: Number
    });
  } else {
    check(annotation, {
      id: String,
      status: String,
      annotationType: String,
      annotationInfo: {
        color: Number,
        thickness: Number,
        points: Array,
        id: String,
        whiteboardId: String,
        status: String,
        type: String,
        dimensions: Match.Maybe([Number])
      },
      wbId: String,
      userId: String,
      position: Number
    });
  }

  const payload = {
    annotation
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendBulkAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendBulkAnnotations.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendBulkAnnotations
});
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 0);
let sendAnnotationHelper;
module.link("./sendAnnotationHelper", {
  default(v) {
    sendAnnotationHelper = v;
  }

}, 1);

function sendBulkAnnotations(payload) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  payload.forEach(annotation => sendAnnotationHelper(annotation, meetingId, requesterUserId));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"undoAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/undoAnnotation.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => undoAnnotation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function undoAnnotation(whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UndoWhiteboardPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(whiteboardId, String);
  const payload = {
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/addAnnotation.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 2);
let addAnnotationQuery;
module.link("/imports/api/annotations/addAnnotation", {
  default(v) {
    addAnnotationQuery = v;
  }

}, 3);

function addAnnotation(meetingId, whiteboardId, userId, annotation) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(annotation, Object);
  const query = addAnnotationQuery(meetingId, whiteboardId, userId, annotation);

  try {
    const {
      insertedId
    } = Annotations.upsert(query.selector, query.modifier);

    if (insertedId) {
      Logger.info(`Added annotation id=${annotation.id} whiteboard=${whiteboardId}`);
    }
  } catch (err) {
    Logger.error(`Adding annotation to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/clearAnnotations.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearAnnotations
});
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearAnnotations(meetingId, whiteboardId, userId) {
  const selector = {};

  if (meetingId) {
    selector.meetingId = meetingId;
  }

  if (whiteboardId) {
    selector.whiteboardId = whiteboardId;
  }

  if (userId) {
    selector.userId = userId;
  }

  try {
    const numberAffected = Annotations.remove(selector);

    if (numberAffected) {
      if (userId) {
        Logger.info(`Cleared Annotations for userId=${userId} where whiteboard=${whiteboardId}`);
        return;
      }

      if (whiteboardId) {
        Logger.info(`Cleared Annotations for whiteboard=${whiteboardId}`);
        return;
      }

      if (meetingId) {
        Logger.info(`Cleared Annotations (${meetingId})`);
        return;
      }

      Logger.info('Cleared Annotations (all)');
    }
  } catch (err) {
    Logger.error(`Removing Annotations from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/removeAnnotation.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function removeAnnotation(meetingId, whiteboardId, shapeId) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(shapeId, String);
  const selector = {
    meetingId,
    whiteboardId,
    id: shapeId
  };

  try {
    const numberAffected = Annotations.remove(selector);

    if (numberAffected) {
      Logger.info(`Removed annotation id=${shapeId} whiteboard=${whiteboardId}`);
    }
  } catch (err) {
    Logger.error(`Removing annotation from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleWhiteboardCleared;
module.link("./handlers/whiteboardCleared", {
  default(v) {
    handleWhiteboardCleared = v;
  }

}, 2);
let handleWhiteboardUndo;
module.link("./handlers/whiteboardUndo", {
  default(v) {
    handleWhiteboardUndo = v;
  }

}, 3);
let handleWhiteboardSend;
module.link("./handlers/whiteboardSend", {
  default(v) {
    handleWhiteboardSend = v;
  }

}, 4);
let handleWhiteboardAnnotations;
module.link("./handlers/whiteboardAnnotations", {
  default(v) {
    handleWhiteboardAnnotations = v;
  }

}, 5);
RedisPubSub.on('ClearWhiteboardEvtMsg', handleWhiteboardCleared);
RedisPubSub.on('UndoWhiteboardEvtMsg', handleWhiteboardUndo);
RedisPubSub.on('SendWhiteboardAnnotationEvtMsg', handleWhiteboardSend);
RedisPubSub.on('GetWhiteboardAnnotationsRespMsg', processForHTML5ServerOnly(handleWhiteboardAnnotations));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let undoAnnotation;
module.link("./methods/undoAnnotation", {
  default(v) {
    undoAnnotation = v;
  }

}, 1);
let clearWhiteboard;
module.link("./methods/clearWhiteboard", {
  default(v) {
    clearWhiteboard = v;
  }

}, 2);
let sendAnnotation;
module.link("./methods/sendAnnotation", {
  default(v) {
    sendAnnotation = v;
  }

}, 3);
let sendBulkAnnotations;
module.link("./methods/sendBulkAnnotations", {
  default(v) {
    sendBulkAnnotations = v;
  }

}, 4);
Meteor.methods({
  undoAnnotation,
  clearWhiteboard,
  sendAnnotation,
  sendBulkAnnotations
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function annotations() {
  if (!this.userId) {
    return Annotations.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Annotations', {
    meetingId,
    requesterUserId
  });
  return Annotations.find({
    meetingId
  });
}

function publish(...args) {
  const boundAnnotations = annotations.bind(this);
  return boundAnnotations(...args);
}

Meteor.publish('annotations', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"streamer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/streamer.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  removeAnnotationsStreamer: () => removeAnnotationsStreamer,
  addAnnotationsStreamer: () => addAnnotationsStreamer,
  default: () => get
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

function removeAnnotationsStreamer(meetingId) {
  Logger.info(`Removing Annotations streamer object for meeting ${meetingId}`);
  delete Meteor.StreamerCentral.instances[`annotations-${meetingId}`];
}

function addAnnotationsStreamer(meetingId) {
  const streamer = new Meteor.Streamer(`annotations-${meetingId}`, {
    retransmit: false
  });
  streamer.allowRead(function allowRead() {
    if (!this.userId) return false;
    return this.userId && this.userId.includes(meetingId);
  });
  streamer.allowWrite(function allowWrite() {
    return false;
  });
}

function get(meetingId) {
  return Meteor.StreamerCentral.instances[`annotations-${meetingId}`];
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"addAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/addAnnotation.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
const ANNOTATION_TYPE_TEXT = 'text';
const ANNOTATION_TYPE_PENCIL = 'pencil'; // line, triangle, ellipse, rectangle

function handleCommonAnnotation(meetingId, whiteboardId, userId, annotation) {
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const selector = {
    meetingId,
    id,
    userId
  };
  const modifier = {
    $set: {
      whiteboardId,
      meetingId,
      id,
      status,
      annotationType,
      annotationInfo,
      wbId
    },
    $setOnInsert: {
      position
    },
    $inc: {
      version: 1
    }
  };
  return {
    selector,
    modifier
  };
}

function handleTextUpdate(meetingId, whiteboardId, userId, annotation) {
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const selector = {
    meetingId,
    id,
    userId
  };
  annotationInfo.text = annotationInfo.text.replace(/[\r]/g, '\n');
  const modifier = {
    $set: {
      whiteboardId,
      meetingId,
      id,
      status,
      annotationType,
      annotationInfo,
      wbId
    },
    $setOnInsert: {
      position
    },
    $inc: {
      version: 1
    }
  };
  return {
    selector,
    modifier
  };
}

function handlePencilUpdate(meetingId, whiteboardId, userId, annotation) {
  const DRAW_START = 'DRAW_START';
  const DRAW_UPDATE = 'DRAW_UPDATE';
  const DRAW_END = 'DRAW_END';
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const baseSelector = {
    meetingId,
    id,
    userId,
    whiteboardId
  };
  let baseModifier;

  switch (status) {
    case DRAW_START:
      // on start we split the points
      // create the 'pencil_base'
      // TODO: find and removed unused props (chunks, version, etc)
      baseModifier = {
        $set: {
          id,
          userId,
          meetingId,
          whiteboardId,
          position,
          status,
          annotationType,
          annotationInfo,
          wbId,
          version: 1
        }
      };
      break;

    case DRAW_UPDATE:
      baseModifier = {
        $push: {
          'annotationInfo.points': {
            $each: annotationInfo.points
          }
        },
        $set: {
          status
        },
        $inc: {
          version: 1
        }
      };
      break;

    case DRAW_END:
      // Updating the main pencil object with the final info
      baseModifier = {
        $set: {
          whiteboardId,
          meetingId,
          id,
          status,
          annotationType,
          annotationInfo,
          wbId,
          position
        },
        $inc: {
          version: 1
        }
      };
      break;

    default:
      break;
  }

  return {
    selector: baseSelector,
    modifier: baseModifier
  };
}

function addAnnotation(meetingId, whiteboardId, userId, annotation) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(annotation, Object);

  switch (annotation.annotationType) {
    case ANNOTATION_TYPE_TEXT:
      return handleTextUpdate(meetingId, whiteboardId, userId, annotation);

    case ANNOTATION_TYPE_PENCIL:
      return handlePencilUpdate(meetingId, whiteboardId, userId, annotation);

    default:
      return handleCommonAnnotation(meetingId, whiteboardId, userId, annotation);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Annotations = new Mongo.Collection('annotations');

if (Meteor.isServer) {
  // types of queries for the annotations  (Total):
  // 1. meetingId, id, userId               ( 8 )
  // 2. meetingId, id, userId, whiteboardId ( 1 )
  // 3. meetingId                           ( 1 )
  // 4. meetingId, whiteboardId             ( 1 )
  // 5. meetingId, whiteboardId, id         ( 1 )
  // 6. meetingId, whiteboardId, userId     ( 1 )
  // These 2 indexes seem to cover all of the cases
  Annotations._ensureIndex({
    id: 1
  });

  Annotations._ensureIndex({
    meetingId: 1,
    whiteboardId: 1,
    userId: 1
  });
}

module.exportDefault(Annotations);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"breakouts":{"server":{"handlers":{"breakoutClosed.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutClosed.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutClosed
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearBreakouts;
module.link("../modifiers/clearBreakouts", {
  default(v) {
    clearBreakouts = v;
  }

}, 1);

function handleBreakoutClosed({
  body
}) {
  const {
    breakoutId
  } = body;
  check(breakoutId, String);
  return clearBreakouts(breakoutId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"breakoutJoinURL.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutJoinURL.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutJoinURL
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 2);

function handleBreakoutJoinURL({
  body
}) {
  const {
    redirectToHtml5JoinURL,
    userId,
    breakoutId
  } = body;
  check(redirectToHtml5JoinURL, String);
  const selector = {
    breakoutId
  };
  const modifier = {
    $push: {
      users: {
        userId,
        redirectToHtml5JoinURL,
        insertedTime: new Date().getTime()
      }
    }
  };

  try {
    const {
      insertedId,
      numberAffected
    } = Breakouts.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added breakout id=${breakoutId}`);
    } else if (numberAffected) {
      Logger.info(`Upserted breakout id=${breakoutId}`);
    }
  } catch (err) {
    Logger.error(`Adding breakout to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"breakoutStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutStarted.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutRoomStarted
});
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function handleBreakoutRoomStarted({
  body
}, meetingId) {
  // 0 seconds default breakout time, forces use of real expiration time
  const DEFAULT_TIME_REMAINING = 0;
  const {
    parentMeetingId,
    breakout
  } = body;
  const {
    breakoutId
  } = breakout;
  check(meetingId, String);
  const selector = {
    breakoutId
  };
  const modifier = {
    $set: Object.assign({
      users: [],
      joinedUsers: []
    }, {
      timeRemaining: DEFAULT_TIME_REMAINING
    }, {
      parentMeetingId
    }, flat(breakout))
  };

  try {
    const {
      numberAffected
    } = Breakouts.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info('Updated timeRemaining and externalMeetingId ' + `for breakout id=${breakoutId}`);
    }
  } catch (err) {
    Logger.error(`updating breakout: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"joinedUsersChanged.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/joinedUsersChanged.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => joinedUsersChanged
});
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function joinedUsersChanged({
  body
}) {
  check(body, Object);
  const {
    parentId,
    breakoutId,
    users
  } = body;
  check(parentId, String);
  check(breakoutId, String);
  check(users, Array);
  const selector = {
    parentMeetingId: parentId,
    breakoutId
  };
  const usersMapped = users.map(user => ({
    userId: user.id,
    name: user.name
  }));
  const modifier = {
    $set: {
      joinedUsers: usersMapped
    }
  };

  try {
    const numberAffected = Breakouts.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated joined users in breakout id=${breakoutId}`);
    }
  } catch (err) {
    Logger.error(`updating joined users in breakout: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateTimeRemaining.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/updateTimeRemaining.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUpdateTimeRemaining
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 2);

function handleUpdateTimeRemaining({
  body
}, meetingId) {
  const {
    timeRemaining
  } = body;
  check(meetingId, String);
  check(timeRemaining, Number);
  const selector = {
    parentMeetingId: meetingId
  };
  const modifier = {
    $set: {
      timeRemaining
    }
  };
  const options = {
    multi: true
  };

  try {
    const numberAffected = Breakouts.update(selector, modifier, options);

    if (numberAffected) {
      Logger.info(`Updated breakout time remaining for breakouts where parentMeetingId=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Updating breakouts: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createBreakout.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/createBreakout.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createBreakoutRoom
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function createBreakoutRoom(rooms, durationInMinutes, record = false) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const BREAKOUT_LIM = Meteor.settings.public.app.breakoutRoomLimit;
  const MIN_BREAKOUT_ROOMS = 2;
  const MAX_BREAKOUT_ROOMS = BREAKOUT_LIM > MIN_BREAKOUT_ROOMS ? BREAKOUT_LIM : MIN_BREAKOUT_ROOMS;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const eventName = 'CreateBreakoutRoomsCmdMsg';

  if (rooms.length > MAX_BREAKOUT_ROOMS) {
    Logger.info(`Attempt to create breakout rooms with invalid number of rooms in meeting id=${meetingId}`);
    return;
  }

  const payload = {
    record,
    durationInMinutes,
    rooms,
    meetingId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"endAllBreakouts.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/endAllBreakouts.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => endAllBreakouts
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function endAllBreakouts() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const eventName = 'EndAllBreakoutRoomsMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, null);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"requestJoinURL.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/requestJoinURL.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => requestJoinURL
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function requestJoinURL({
  breakoutId,
  userId: userIdToInvite
}) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userId = userIdToInvite || requesterUserId;
  const eventName = 'RequestBreakoutJoinURLReqMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, {
    meetingId,
    breakoutId,
    userId
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearBreakouts.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/modifiers/clearBreakouts.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearBreakouts
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 1);

function clearBreakouts(breakoutId) {
  if (breakoutId) {
    const selector = {
      breakoutId
    };

    try {
      const numberAffected = Breakouts.remove(selector);

      if (numberAffected) {
        Logger.info(`Cleared Breakouts (${breakoutId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing Breakouts (${breakoutId})`);
    }
  } else {
    try {
      const numberAffected = Breakouts.remove({});

      if (numberAffected) {
        Logger.info('Cleared Breakouts (all)');
      }
    } catch (err) {
      Logger.error('Error on clearing Breakouts (all)');
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/eventHandlers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleBreakoutJoinURL;
module.link("./handlers/breakoutJoinURL", {
  default(v) {
    handleBreakoutJoinURL = v;
  }

}, 1);
let handleBreakoutStarted;
module.link("./handlers/breakoutStarted", {
  default(v) {
    handleBreakoutStarted = v;
  }

}, 2);
let handleUpdateTimeRemaining;
module.link("./handlers/updateTimeRemaining", {
  default(v) {
    handleUpdateTimeRemaining = v;
  }

}, 3);
let handleBreakoutClosed;
module.link("./handlers/breakoutClosed", {
  default(v) {
    handleBreakoutClosed = v;
  }

}, 4);
let joinedUsersChanged;
module.link("./handlers/joinedUsersChanged", {
  default(v) {
    joinedUsersChanged = v;
  }

}, 5);
RedisPubSub.on('BreakoutRoomStartedEvtMsg', handleBreakoutStarted);
RedisPubSub.on('BreakoutRoomJoinURLEvtMsg', handleBreakoutJoinURL);
RedisPubSub.on('RequestBreakoutJoinURLRespMsg', handleBreakoutJoinURL);
RedisPubSub.on('BreakoutRoomsTimeRemainingUpdateEvtMsg', handleUpdateTimeRemaining);
RedisPubSub.on('BreakoutRoomEndedEvtMsg', handleBreakoutClosed);
RedisPubSub.on('UpdateBreakoutUsersEvtMsg', joinedUsersChanged);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/index.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createBreakoutRoom;
module.link("/imports/api/breakouts/server/methods/createBreakout", {
  default(v) {
    createBreakoutRoom = v;
  }

}, 1);
let requestJoinURL;
module.link("./methods/requestJoinURL", {
  default(v) {
    requestJoinURL = v;
  }

}, 2);
let endAllBreakouts;
module.link("./methods/endAllBreakouts", {
  default(v) {
    endAllBreakouts = v;
  }

}, 3);
Meteor.methods({
  requestJoinURL,
  createBreakoutRoom,
  endAllBreakouts
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/publishers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function breakouts(role) {
  if (!this.userId) {
    return Breakouts.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Breakouts', {
    meetingId,
    requesterUserId
  });
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    const presenterSelector = {
      $or: [{
        parentMeetingId: meetingId
      }, {
        breakoutId: meetingId
      }]
    };
    return Breakouts.find(presenterSelector);
  }

  const selector = {
    $or: [{
      parentMeetingId: meetingId,
      freeJoin: true
    }, {
      parentMeetingId: meetingId,
      'users.userId': requesterUserId
    }, {
      breakoutId: meetingId
    }]
  };
  return Breakouts.find(selector);
}

function publish(...args) {
  const boundBreakouts = breakouts.bind(this);
  return boundBreakouts(...args);
}

Meteor.publish('breakouts', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/index.js                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Breakouts = new Mongo.Collection('breakouts');

if (Meteor.isServer) {
  // types of queries for the breakouts:
  // 1. breakoutId ( handleJoinUrl, roomStarted, clearBreakouts )
  // 2. parentMeetingId ( updateTimeRemaining )
  Breakouts._ensureIndex({
    breakoutId: 1
  });

  Breakouts._ensureIndex({
    parentMeetingId: 1
  });
}

module.exportDefault(Breakouts);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"captions":{"server":{"handlers":{"padCreate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/handlers/padCreate.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadCreate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let fetchReadOnlyPadId;
module.link("/imports/api/captions/server/methods/fetchReadOnlyPadId", {
  default(v) {
    fetchReadOnlyPadId = v;
  }

}, 1);

function handlePadCreate({
  body
}) {
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  fetchReadOnlyPadId(id);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"padUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/handlers/padUpdate.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let getDataFromChangeset;
module.link("/imports/api/captions/server/helpers", {
  getDataFromChangeset(v) {
    getDataFromChangeset = v;
  }

}, 1);
let updatePad;
module.link("/imports/api/captions/server/modifiers/updatePad", {
  default(v) {
    updatePad = v;
  }

}, 2);

function handlePadUpdate({
  body
}) {
  const {
    pad,
    revs,
    changeset
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  check(changeset, String);
  check(revs, Number);
  const data = getDataFromChangeset(changeset);

  if (data !== '') {
    updatePad(id, data, revs);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"addCaptionsPads.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/addCaptionsPads.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addCaptionsPads
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function addCaptionsPads(meetingId, padIds) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'AddCaptionsPadsSysMsg';
  check(meetingId, String);
  check(padIds, [String]);
  const payload = {
    padIds
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, 'nodeJSapp', payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addPad.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/addPad.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPad
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

function addPad(padId, readOnlyId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'AddPadSysMsg';
  check(padId, String);
  check(readOnlyId, String);
  const pad = Captions.findOne({
    padId
  });

  if (!pad) {
    Logger.error(`Could not find closed captions pad ${padId}`);
    return;
  }

  const {
    meetingId
  } = pad;
  check(meetingId, String);
  const payload = {
    padId,
    readOnlyId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, 'nodeJSapp', payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"appendText.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/appendText.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => appendText
});
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let generatePadId;
module.link("/imports/api/captions/server/helpers", {
  generatePadId(v) {
    generatePadId = v;
  }

}, 3);
let appendTextURL;
module.link("/imports/api/note/server/helpers", {
  appendTextURL(v) {
    appendTextURL = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function appendText(text, locale) {
  const {
    meetingId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(text, String);
  check(locale, String);
  const padId = generatePadId(meetingId, locale);
  axios({
    method: 'get',
    url: appendTextURL(padId, text),
    responseType: 'json'
  }).then(response => {
    const {
      status
    } = response;

    if (status !== 200) {
      Logger.error(`Could not append captions for padId=${padId}`);
      return;
    }
  }).catch(error => Logger.error(`Could not append captions for padId=${padId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"createCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/createCaptions.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createCaptions
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let generatePadId, isEnabled, getLocalesURL;
module.link("/imports/api/captions/server/helpers", {
  generatePadId(v) {
    generatePadId = v;
  },

  isEnabled(v) {
    isEnabled = v;
  },

  getLocalesURL(v) {
    getLocalesURL = v;
  }

}, 2);
let addCaption;
module.link("/imports/api/captions/server/modifiers/addCaption", {
  default(v) {
    addCaption = v;
  }

}, 3);
let addCaptionsPads;
module.link("/imports/api/captions/server/methods/addCaptionsPads", {
  default(v) {
    addCaptionsPads = v;
  }

}, 4);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 5);

function createCaptions(meetingId) {
  // Avoid captions creation if this feature is disabled
  if (!isEnabled()) {
    Logger.warn(`Captions are disabled for ${meetingId}`);
    return;
  }

  check(meetingId, String);
  axios({
    method: 'get',
    url: getLocalesURL(),
    responseType: 'json'
  }).then(response => {
    const {
      status
    } = response;

    if (status !== 200) {
      Logger.error(`Could not get locales info for ${meetingId} ${status}`);
      return;
    }

    const padIds = [];
    const locales = response.data;
    locales.forEach(locale => {
      const padId = generatePadId(meetingId, locale.locale);
      addCaption(meetingId, padId, locale);
      padIds.push(padId);
    });
    addCaptionsPads(meetingId, padIds);
  }).catch(error => Logger.error(`Could not create captions for ${meetingId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"editCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/editCaptions.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => editCaptions
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

const getIndex = (data, length) => length - data.length;

function editCaptions(padId, data) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EditCaptionHistoryPubMsg';
  check(padId, String);
  check(data, String);
  const pad = Captions.findOne({
    padId
  });

  if (!pad) {
    Logger.error(`Editing captions history: ${padId}`);
    return;
  }

  const {
    meetingId,
    ownerId,
    locale,
    length
  } = pad;
  check(meetingId, String);
  check(ownerId, String);
  check(locale, {
    locale: String,
    name: String
  });
  check(length, Number);
  const index = getIndex(data, length);
  const payload = {
    startIndex: index,
    localeCode: locale.locale,
    locale: locale.name,
    endIndex: index,
    text: data
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, ownerId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"fetchReadOnlyPadId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/fetchReadOnlyPadId.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => fetchReadOnlyPadId
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let getReadOnlyIdURL, getDataFromResponse;
module.link("/imports/api/note/server/helpers", {
  getReadOnlyIdURL(v) {
    getReadOnlyIdURL = v;
  },

  getDataFromResponse(v) {
    getDataFromResponse = v;
  }

}, 2);
let updateReadOnlyPadId;
module.link("/imports/api/captions/server/modifiers/updateReadOnlyPadId", {
  default(v) {
    updateReadOnlyPadId = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function fetchReadOnlyPadId(padId) {
  check(padId, String);
  const readOnlyURL = getReadOnlyIdURL(padId);
  axios({
    method: 'get',
    url: readOnlyURL,
    responseType: 'json'
  }).then(response => {
    const {
      status
    } = response;

    if (status !== 200) {
      Logger.error(`Could not get closed captions readOnlyID for ${padId} ${status}`);
      return;
    }

    const readOnlyPadId = getDataFromResponse(response.data, 'readOnlyID');

    if (readOnlyPadId) {
      updateReadOnlyPadId(padId, readOnlyPadId);
    } else {
      Logger.error(`Could not get pad readOnlyID for ${padId}`);
    }
  }).catch(error => Logger.error(`Could not get pad readOnlyID for ${padId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"takeOwnership.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/takeOwnership.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => takeOwnership
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let updateOwnerId;
module.link("/imports/api/captions/server/modifiers/updateOwnerId", {
  default(v) {
    updateOwnerId = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let CAPTIONS_TOKEN;
module.link("/imports/api/captions/server/helpers", {
  CAPTIONS_TOKEN(v) {
    CAPTIONS_TOKEN = v;
  }

}, 4);

function takeOwnership(locale) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(locale, String);
  const pad = Captions.findOne({
    meetingId,
    padId: {
      $regex: `${CAPTIONS_TOKEN}${locale}$`
    }
  });

  if (pad) {
    updateOwnerId(meetingId, requesterUserId, pad.padId);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateOwner.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/updateOwner.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => editCaptions
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

function editCaptions(meetingId, userId, padId) {
  // TODO
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UpdateCaptionOwnerPubMsg';
  check(meetingId, String);
  check(userId, String);
  check(padId, String);
  const pad = Captions.findOne({
    meetingId,
    padId
  });

  if (!pad) {
    Logger.error(`Editing captions owner: ${padId}`);
    return;
  }

  const {
    locale
  } = pad;
  check(locale, {
    locale: String,
    name: String
  });
  const payload = {
    ownerId: userId,
    locale: locale.name,
    localeCode: locale.locale
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addCaption.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/addCaption.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addCaption
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addCaption(meetingId, padId, locale) {
  check(meetingId, String);
  check(padId, String);
  check(locale, {
    locale: String,
    name: String
  });
  const selector = {
    meetingId,
    padId
  };
  const modifier = {
    meetingId,
    padId,
    locale,
    ownerId: '',
    readOnlyPadId: '',
    data: '',
    revs: 0,
    length: 0
  };

  try {
    const {
      insertedId,
      numberAffected
    } = Captions.upsert(selector, modifier);

    if (insertedId) {
      Logger.verbose('Captions: added locale', {
        locale: locale.locale,
        meetingId
      });
    } else if (numberAffected) {
      Logger.verbose('Captions: upserted locale', {
        locale: locale.locale,
        meetingId
      });
    }
  } catch (err) {
    Logger.error(`Adding caption to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/clearCaptions.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearCaptions
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearCaptions(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = Captions.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Captions (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing captions (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Captions.remove({});

      if (numberAffected) {
        Logger.info('Cleared Captions (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing captions (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateOwnerId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updateOwnerId.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateOwnerId
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let updateOwner;
module.link("/imports/api/captions/server/methods/updateOwner", {
  default(v) {
    updateOwner = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function updateOwnerId(meetingId, userId, padId) {
  check(meetingId, String);
  check(userId, String);
  check(padId, String);
  const selector = {
    meetingId,
    padId
  };
  const modifier = {
    $set: {
      ownerId: userId
    }
  };

  try {
    const numberAffected = Captions.update(selector, modifier, {
      multi: true
    });

    if (numberAffected) {
      updateOwner(meetingId, userId, padId);
      Logger.verbose('Captions: updated caption', {
        padId,
        ownerId: userId
      });
    }
  } catch (err) {
    Logger.error('Captions: error while updating pad', {
      err
    });
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updatePad.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updatePad.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updatePad
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let editCaptions;
module.link("/imports/api/captions/server/methods/editCaptions", {
  default(v) {
    editCaptions = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function updatePad(padId, data, revs) {
  check(padId, String);
  check(data, String);
  check(revs, Number);
  const selector = {
    padId
  };
  const modifier = {
    $set: {
      data,
      revs
    },
    $inc: {
      length: data.length
    }
  };

  try {
    const numberAffected = Captions.update(selector, modifier, {
      multi: true
    });

    if (numberAffected) {
      editCaptions(padId, data, revs);
      Logger.verbose('Captions: updated pad', {
        padId,
        revs
      });
    }
  } catch (err) {
    Logger.error(`Updating captions pad: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateReadOnlyPadId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updateReadOnlyPadId.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateReadOnlyPadId
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let addPad;
module.link("/imports/api/captions/server/methods/addPad", {
  default(v) {
    addPad = v;
  }

}, 3);

function updateReadOnlyPadId(padId, readOnlyPadId) {
  check(padId, String);
  check(readOnlyPadId, String);
  const selector = {
    padId
  };
  const modifier = {
    $set: {
      readOnlyPadId
    }
  };

  try {
    const numberAffected = Captions.update(selector, modifier, {
      multi: true
    });

    if (numberAffected) {
      addPad(padId, readOnlyPadId);
      Logger.verbose('Captions: added readOnlyPadId', {
        padId,
        readOnlyPadId
      });
    }
  } catch (err) {
    Logger.error('Captions: error when adding readOnlyPadId', {
      err
    });
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/eventHandlers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForCaptionsPadOnly;
module.link("/imports/api/captions/server/helpers", {
  processForCaptionsPadOnly(v) {
    processForCaptionsPadOnly = v;
  }

}, 1);
let handlePadCreate;
module.link("./handlers/padCreate", {
  default(v) {
    handlePadCreate = v;
  }

}, 2);
let handlePadUpdate;
module.link("./handlers/padUpdate", {
  default(v) {
    handlePadUpdate = v;
  }

}, 3);
RedisPubSub.on('PadCreateSysMsg', processForCaptionsPadOnly(handlePadCreate));
RedisPubSub.on('PadUpdateSysMsg', processForCaptionsPadOnly(handlePadUpdate));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/helpers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  CAPTIONS_TOKEN: () => CAPTIONS_TOKEN,
  generatePadId: () => generatePadId,
  processForCaptionsPadOnly: () => processForCaptionsPadOnly,
  isEnabled: () => isEnabled,
  getLocalesURL: () => getLocalesURL,
  getDataFromChangeset: () => getDataFromChangeset
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let hashSHA1;
module.link("/imports/api/common/server/helpers", {
  hashSHA1(v) {
    hashSHA1 = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
const ETHERPAD = Meteor.settings.private.etherpad;
const CAPTIONS_CONFIG = Meteor.settings.public.captions;
const BASENAME = Meteor.settings.public.app.basename;
const APP = Meteor.settings.private.app;
const LOCALES_URL = `http://${APP.host}:${APP.port}${BASENAME}${APP.localesUrl}`;
const CAPTIONS_TOKEN = '_cc_';
const TOKEN = '$'; // Captions padId should look like: {prefix}_cc_{locale}

const generatePadId = (meetingId, locale) => `${hashSHA1(meetingId + locale + ETHERPAD.apikey)}${CAPTIONS_TOKEN}${locale}`;

const isCaptionsPad = padId => {
  const splitPadId = padId.split(CAPTIONS_TOKEN);
  return splitPadId.length === 2;
};

const getDataFromChangeset = changeset => {
  const splitChangeset = changeset.split(TOKEN);

  if (splitChangeset.length > 1) {
    splitChangeset.shift();
    return splitChangeset.join(TOKEN);
  }

  return '';
};

const isEnabled = () => CAPTIONS_CONFIG.enabled;

const getLocalesURL = () => LOCALES_URL;

const processForCaptionsPadOnly = fn => (message, ...args) => {
  const {
    body
  } = message;
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  if (isCaptionsPad(id)) return fn(message, ...args);
  return () => {};
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/index.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let takeOwnership;
module.link("/imports/api/captions/server/methods/takeOwnership", {
  default(v) {
    takeOwnership = v;
  }

}, 1);
let appendText;
module.link("/imports/api/captions/server/methods/appendText", {
  default(v) {
    appendText = v;
  }

}, 2);
Meteor.methods({
  takeOwnership,
  appendText
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/publishers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function captions() {
  if (!this.userId) {
    return Captions.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Captions', {
    meetingId
  });
  return Captions.find({
    meetingId
  });
}

function publish(...args) {
  const boundCaptions = captions.bind(this);
  return boundCaptions(...args);
}

Meteor.publish('captions', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/index.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Captions = new Mongo.Collection('captions');

if (Meteor.isServer) {
  Captions._ensureIndex({
    meetingId: 1,
    padId: 1
  });
}

module.exportDefault(Captions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cursor":{"server":{"handlers":{"cursorUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/handlers/cursorUpdate.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleCursorUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let CursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  default(v) {
    CursorStreamer = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 3);
const {
  streamerLog
} = Meteor.settings.private.serverLog;
const CURSOR_PROCCESS_INTERVAL = 30;
const cursorQueue = {};

const proccess = _.throttle(() => {
  try {
    Object.keys(cursorQueue).forEach(meetingId => {
      try {
        const cursors = cursorQueue[meetingId];
        delete cursorQueue[meetingId];
        CursorStreamer(meetingId).emit('message', {
          meetingId,
          cursors
        }); // if (streamerLog) {
        //   Logger.debug('CursorUpdate process has finished', { meetingId });
        // }
      } catch (error) {
        Logger.error(`Error while trying to send cursor streamer data for meeting ${meetingId}. ${error}`);
      }
    });
  } catch (error) {
    Logger.error(`Error while processing cursor queue. ${error}`);
  }
}, CURSOR_PROCCESS_INTERVAL);

function handleCursorUpdate({
  header,
  body
}, meetingId) {
  const {
    userId
  } = header;
  check(body, Object);
  check(meetingId, String);
  check(userId, String);

  if (!cursorQueue[meetingId]) {
    cursorQueue[meetingId] = {};
  } // overwrite since we dont care about the other positions


  cursorQueue[meetingId][userId] = body;
  proccess();
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"publishCursorUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/methods/publishCursorUpdate.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishCursorUpdate
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);

function publishCursorUpdate(meetingId, requesterUserId, payload) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendCursorPositionPubMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/eventHandlers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleCursorUpdate;
module.link("./handlers/cursorUpdate", {
  default(v) {
    handleCursorUpdate = v;
  }

}, 1);
RedisPubSub.on('SendCursorPositionEvtMsg', handleCursorUpdate);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/methods.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let publishCursorUpdate;
module.link("./methods/publishCursorUpdate", {
  default(v) {
    publishCursorUpdate = v;
  }

}, 1);
Meteor.methods({
  publishCursorUpdate
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"streamer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/streamer.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  removeCursorStreamer: () => removeCursorStreamer,
  addCursorStreamer: () => addCursorStreamer,
  default: () => get
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let publishCursorUpdate;
module.link("./methods/publishCursorUpdate", {
  default(v) {
    publishCursorUpdate = v;
  }

}, 1);
const {
  streamerLog
} = Meteor.settings.private.serverLog;

function removeCursorStreamer(meetingId) {
  Logger.info(`Removing Cursor streamer object for meeting ${meetingId}`);
  delete Meteor.StreamerCentral.instances[`cursor-${meetingId}`];
}

function addCursorStreamer(meetingId) {
  const streamer = new Meteor.Streamer(`cursor-${meetingId}`, {
    retransmit: false
  });

  if (streamerLog) {
    Logger.debug('Cursor streamer created', {
      meetingId
    });
  }

  streamer.allowRead(function allowRead() {
    if (streamerLog) {
      Logger.debug('Cursor streamer called allowRead', {
        userId: this.userId,
        meetingId
      });
    }

    return this.userId && this.userId.includes(meetingId);
  });
  streamer.allowWrite(function allowWrite() {
    return this.userId && this.userId.includes(meetingId);
  });
  streamer.on('publish', message => {
    publishCursorUpdate(meetingId, message.userId, message.payload);
  });
}

function get(meetingId) {
  return Meteor.StreamerCentral.instances[`cursor-${meetingId}`];
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"external-videos":{"server":{"methods":{"destroyExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/destroyExternalVideo.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => destroyExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function destroyExternalVideo(meetingId) {
  const streamName = `external-videos-${meetingId}`;

  if (Meteor.StreamerCentral.instances[streamName]) {
    Logger.info(`Destroying External Video streamer object for ${streamName}`);
    delete Meteor.StreamerCentral.instances[streamName];
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"emitExternalVideoEvent.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/emitExternalVideoEvent.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => emitExternalVideoEvent
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function emitExternalVideoEvent(messageName, ...rest) {
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const user = Users.findOne({
    userId,
    meetingId
  });

  if (user && user.presenter) {
    const streamerName = `external-videos-${meetingId}`;
    const streamer = Meteor.StreamerCentral.instances[streamerName];

    if (streamer) {
      streamer.emit(messageName, ...rest);
    } else {
      Logger.error(`External Video Streamer not found for meetingId: ${meetingId} userId: ${userId}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"initializeExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/initializeExternalVideo.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => initializeExternalVideo
});
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

const allowRecentMessages = (eventName, message) => {
  const {
    userId,
    meetingId,
    time,
    rate,
    state
  } = message;
  Logger.debug('ExternalVideo Streamer auth allowed', {
    userId,
    meetingId,
    eventName,
    time,
    rate,
    state
  });
  return true;
};

function initializeExternalVideo() {
  const {
    meetingId
  } = extractCredentials(this.userId);
  const streamName = `external-videos-${meetingId}`;

  if (!Meteor.StreamerCentral.instances[streamName]) {
    const streamer = new Meteor.Streamer(streamName);
    streamer.allowRead('all');
    streamer.allowWrite('none');
    streamer.allowEmit(allowRecentMessages);
    Logger.info(`Created External Video streamer for ${streamName}`);
  } else {
    Logger.debug('External Video streamer is already created', {
      streamName
    });
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startWatchingExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/startWatchingExternalVideo.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startWatchingExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 5);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 6);

function startWatchingExternalVideo(options) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StartExternalVideoMsg';
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const {
    externalVideoUrl
  } = options;

  try {
    check(meetingId, String);
    check(userId, String);
    check(externalVideoUrl, String);
    const user = Users.findOne({
      meetingId,
      userId,
      presenter: true
    }, {
      presenter: 1
    });

    if (!user) {
      Logger.error(`Only presenters are allowed to start external video for a meeting. meeting=${meetingId} userId=${userId}`);
      return;
    }

    Meetings.update({
      meetingId
    }, {
      $set: {
        externalVideoUrl
      }
    });
    const payload = {
      externalVideoUrl
    };
    Logger.info(`User id=${userId} sharing an external video: ${externalVideoUrl} for meeting ${meetingId}`);
    return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
  } catch (error) {
    Logger.error(`Error on sharing an external video: ${externalVideoUrl} ${error}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopWatchingExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/stopWatchingExternalVideo.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopWatchingExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function stopWatchingExternalVideo(options) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StopExternalVideoMsg';
  const {
    meetingId,
    requesterUserId
  } = this.userId ? extractCredentials(this.userId) : options;

  try {
    check(meetingId, String);
    check(requesterUserId, String);
    const user = Users.findOne({
      meetingId,
      userId: requesterUserId,
      presenter: true
    }, {
      presenter: 1
    });

    if (this.userId && !user) {
      Logger.error(`Only presenters are allowed to stop external video for a meeting. meeting=${meetingId} userId=${requesterUserId}`);
      return;
    }

    const meeting = Meetings.findOne({
      meetingId
    });
    if (!meeting || meeting.externalVideoUrl === null) return;
    Meetings.update({
      meetingId
    }, {
      $set: {
        externalVideoUrl: null
      }
    });
    const payload = {};
    Logger.info(`User id=${requesterUserId} stopped sharing an external video for meeting=${meetingId}`);
    RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
  } catch (error) {
    Logger.error(`Error on stop sharing an external video for meeting=${meetingId} ${error}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/index.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let startWatchingExternalVideo;
module.link("./methods/startWatchingExternalVideo", {
  default(v) {
    startWatchingExternalVideo = v;
  }

}, 1);
let stopWatchingExternalVideo;
module.link("./methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 2);
let initializeExternalVideo;
module.link("./methods/initializeExternalVideo", {
  default(v) {
    initializeExternalVideo = v;
  }

}, 3);
let emitExternalVideoEvent;
module.link("./methods/emitExternalVideoEvent", {
  default(v) {
    emitExternalVideoEvent = v;
  }

}, 4);
Meteor.methods({
  initializeExternalVideo,
  startWatchingExternalVideo,
  stopWatchingExternalVideo,
  emitExternalVideoEvent
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"group-chat":{"server":{"handlers":{"groupChatCreated.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChatCreated.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatCreated
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChatCreated({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  addGroupChat(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatDestroyed.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChatDestroyed.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatDestroyed
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChatDestroyed({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  addGroupChat(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChats.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChats.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChats
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChats({
  body
}, meetingId) {
  const {
    chats
  } = body;
  check(meetingId, String);
  check(chats, Array);
  chats.forEach(chat => addGroupChat(meetingId, chat));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods/createGroupChat.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createGroupChat
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let CHAT_ACCESS_PRIVATE;
module.link("/imports/api/group-chat", {
  CHAT_ACCESS_PRIVATE(v) {
    CHAT_ACCESS_PRIVATE = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function createGroupChat(receiver) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'CreateGroupChatReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(receiver, Object);
  const payload = {
    correlationId: `${requesterUserId}-${Date.now()}`,
    msg: [],
    users: [receiver.userId],
    access: CHAT_ACCESS_PRIVATE,
    name: receiver.name
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"destroyGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods/destroyGroupChat.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createGroupChat
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function createGroupChat() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const eventName = 'DestroyGroupChatReqMsg';
  const payload = {// TODO: Implement this together with #4988
    // chats: Array[String],
  };
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/modifiers/addGroupChat.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addGroupChat
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 3);

function addGroupChat(meetingId, chat) {
  check(meetingId, String);
  check(chat, {
    id: Match.Maybe(String),
    chatId: Match.Maybe(String),
    correlationId: Match.Maybe(String),
    name: String,
    access: String,
    createdBy: Object,
    users: Array,
    msg: Match.Maybe(Array)
  });
  const chatDocument = {
    meetingId,
    chatId: chat.chatId || chat.id,
    name: chat.name,
    access: chat.access,
    users: chat.users.map(u => u.id),
    createdBy: chat.createdBy.id
  };
  const selector = {
    chatId: chatDocument.chatId,
    meetingId
  };
  const modifier = {
    $set: flat(chatDocument, {
      safe: true
    })
  };

  try {
    const {
      insertedId
    } = GroupChat.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added group-chat name=${chat.name} meetingId=${meetingId}`);
    } else {
      Logger.info(`Upserted group-chat name=${chat.name} meetingId=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding group-chat to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/modifiers/clearGroupChat.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGroupChat
});
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let clearGroupChatMsg;
module.link("/imports/api/group-chat-msg/server/modifiers/clearGroupChatMsg", {
  default(v) {
    clearGroupChatMsg = v;
  }

}, 2);

function clearGroupChat(meetingId) {
  try {
    clearGroupChatMsg(meetingId);
    const numberAffected = GroupChat.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared GroupChat (${meetingId})`);
    }
  } catch (err) {
    Logger.error(`Error on clearing GroupChat (${meetingId}). ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/eventHandlers.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleGroupChats;
module.link("./handlers/groupChats", {
  default(v) {
    handleGroupChats = v;
  }

}, 1);
let handleGroupChatCreated;
module.link("./handlers/groupChatCreated", {
  default(v) {
    handleGroupChatCreated = v;
  }

}, 2);
let handleGroupChatDestroyed;
module.link("./handlers/groupChatDestroyed", {
  default(v) {
    handleGroupChatDestroyed = v;
  }

}, 3);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 4);
RedisPubSub.on('GetGroupChatsRespMsg', processForHTML5ServerOnly(handleGroupChats));
RedisPubSub.on('GroupChatCreatedEvtMsg', handleGroupChatCreated);
RedisPubSub.on('GroupChatDestroyedEvtMsg', handleGroupChatDestroyed);
RedisPubSub.on('SyncGetGroupChatsRespMsg', handleGroupChats);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("/imports/api/group-chat-msg/server");
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createGroupChat;
module.link("./methods/createGroupChat", {
  default(v) {
    createGroupChat = v;
  }

}, 1);
let destroyGroupChat;
module.link("./methods/destroyGroupChat", {
  default(v) {
    destroyGroupChat = v;
  }

}, 2);
Meteor.methods({
  createGroupChat,
  destroyGroupChat
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/publishers.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function groupChat() {
  if (!this.userId) {
    return GroupChat.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_CHAT_TYPE = CHAT_CONFIG.type_public;
  Logger.debug('Publishing group-chat', {
    meetingId,
    requesterUserId
  });
  return GroupChat.find({
    $or: [{
      meetingId,
      access: PUBLIC_CHAT_TYPE
    }, {
      meetingId,
      users: {
        $all: [requesterUserId]
      }
    }]
  });
}

function publish(...args) {
  const boundGroupChat = groupChat.bind(this);
  return boundGroupChat(...args);
}

Meteor.publish('group-chat', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/index.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  CHAT_ACCESS_PUBLIC: () => CHAT_ACCESS_PUBLIC,
  CHAT_ACCESS_PRIVATE: () => CHAT_ACCESS_PRIVATE
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const GroupChat = new Mongo.Collection('group-chat');

if (Meteor.isServer) {
  GroupChat._ensureIndex({
    meetingId: 1,
    chatId: 1,
    access: 1,
    users: 1
  });
}

module.exportDefault(GroupChat);
const CHAT_ACCESS = {
  PUBLIC: 'PUBLIC_ACCESS',
  PRIVATE: 'PRIVATE_ACCESS'
};
const CHAT_ACCESS_PUBLIC = CHAT_ACCESS.PUBLIC;
const CHAT_ACCESS_PRIVATE = CHAT_ACCESS.PRIVATE;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"group-chat-msg":{"server":{"handlers":{"clearPublicGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/clearPublicGroupChat.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPublicChatHistory
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearGroupChatMsg;
module.link("../modifiers/clearGroupChatMsg", {
  default(v) {
    clearGroupChatMsg = v;
  }

}, 1);

function clearPublicChatHistory({
  header,
  body
}) {
  const {
    meetingId
  } = header;
  const {
    chatId
  } = body;
  check(meetingId, String);
  check(chatId, String);
  return clearGroupChatMsg(meetingId, chatId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatMsgBroadcast.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/groupChatMsgBroadcast.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatMsgBroadcast
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 1);
let addGroupChatMsg;
module.link("../modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 2);
let addBulkGroupChatMsgs;
module.link("../modifiers/addBulkGroupChatMsgs", {
  default(v) {
    addBulkGroupChatMsgs = v;
  }

}, 3);
const {
  bufferChatInsertsMs
} = Meteor.settings.public.chat;
const msgBuffer = [];

const bulkFn = _.throttle(addBulkGroupChatMsgs, bufferChatInsertsMs);

function handleGroupChatMsgBroadcast({
  body
}, meetingId) {
  const {
    chatId,
    msg
  } = body;
  check(meetingId, String);
  check(chatId, String);
  check(msg, Object);

  if (bufferChatInsertsMs) {
    msgBuffer.push({
      meetingId,
      chatId,
      msg
    });
    bulkFn(msgBuffer);
  } else {
    addGroupChatMsg(meetingId, chatId, msg);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"syncGroupsChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/syncGroupsChat.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSyncGroupChat
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let syncMeetingChatMsgs;
module.link("../modifiers/syncMeetingChatMsgs", {
  default(v) {
    syncMeetingChatMsgs = v;
  }

}, 1);

function handleSyncGroupChat({
  body
}, meetingId) {
  const {
    chatId,
    msgs
  } = body;
  check(meetingId, String);
  check(chatId, String);
  check(msgs, Match.Maybe(Array));
  syncMeetingChatMsgs(meetingId, chatId, msgs);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/userTyping.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let startTyping;
module.link("../modifiers/startTyping", {
  default(v) {
    startTyping = v;
  }

}, 1);

function handleUserTyping({
  body
}, meetingId) {
  const {
    chatId,
    userId
  } = body;
  check(meetingId, String);
  check(userId, String);
  check(chatId, String);
  startTyping(meetingId, userId, chatId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"clearPublicChatHistory.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/clearPublicChatHistory.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPublicChatHistory
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function clearPublicChatHistory() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ClearPublicChatHistoryPubMsg';
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    chatId: PUBLIC_GROUP_CHAT_ID
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/sendGroupChatMsg.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendGroupChatMsg
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let RegexWebUrl;
module.link("/imports/utils/regex-weburl", {
  default(v) {
    RegexWebUrl = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const HTML_SAFE_MAP = {
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;'
};

const parseMessage = message => {
  let parsedMessage = message || '';
  parsedMessage = parsedMessage.trim(); // Replace <br/> with \n\r

  parsedMessage = parsedMessage.replace(/<br\s*[\\/]?>/gi, '\n\r'); // Sanitize. See: http://shebang.brandonmintern.com/foolproof-html-escaping-in-javascript/

  parsedMessage = parsedMessage.replace(/[<>'"]/g, c => HTML_SAFE_MAP[c]); // Replace flash links to flash valid ones

  parsedMessage = parsedMessage.replace(RegexWebUrl, "<a href='event:$&'><u>$&</u></a>");
  return parsedMessage;
};

function sendGroupChatMsg(chatId, message) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendGroupChatMessageMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(message, Object);
  const parsedMessage = parseMessage(message.message);
  message.message = parsedMessage;
  const payload = {
    msg: message,
    chatId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startUserTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/startUserTyping.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startUserTyping
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function startUserTyping(chatId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserTypingPubMsg';
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(chatId, String);
  const payload = {
    chatId: chatId || PUBLIC_GROUP_CHAT_ID
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopUserTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/stopUserTyping.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopUserTyping
});
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 0);
let stopTyping;
module.link("../modifiers/stopTyping", {
  default(v) {
    stopTyping = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function stopUserTyping() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userTyping = UsersTyping.findOne({
    meetingId,
    userId: requesterUserId
  });

  if (userTyping && meetingId && requesterUserId) {
    stopTyping(meetingId, requesterUserId, true);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addBulkGroupChatMsgs.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/addBulkGroupChatMsgs.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => addBulkGroupChatMsgs
});
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 2);
let parseMessage;
module.link("./addGroupChatMsg", {
  parseMessage(v) {
    parseMessage = v;
  }

}, 3);

function addBulkGroupChatMsgs(msgs) {
  return Promise.asyncApply(() => {
    if (!msgs.length) return;
    const mappedMsgs = msgs.map(({
      chatId,
      meetingId,
      msg
    }) => (0, _objectSpread2.default)({
      _id: new Mongo.ObjectID()._str
    }, msg, {
      meetingId,
      chatId,
      message: parseMessage(msg.message),
      sender: msg.sender.id
    })).map(el => flat(el, {
      safe: true
    }));

    try {
      const {
        insertedCount
      } = Promise.await(GroupChatMsg.rawCollection().insertMany(mappedMsgs));
      msgs.length = 0;

      if (insertedCount) {
        Logger.info(`Inserted ${insertedCount} messages`);
      }
    } catch (err) {
      Logger.error(`Error on bulk insert. ${err}`);
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/addGroupChatMsg.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  parseMessage: () => parseMessage,
  default: () => addGroupChatMsg
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 3);
let BREAK_LINE;
module.link("/imports/utils/lineEndings", {
  BREAK_LINE(v) {
    BREAK_LINE = v;
  }

}, 4);

function parseMessage(message) {
  let parsedMessage = message || ''; // Replace \r and \n to <br/>

  parsedMessage = parsedMessage.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, `$1${BREAK_LINE}$2`); // Replace flash links to html valid ones

  parsedMessage = parsedMessage.split('<a href=\'event:').join('<a target="_blank" href=\'');
  parsedMessage = parsedMessage.split('<a href="event:').join('<a target="_blank" href="');
  return parsedMessage;
}

function addGroupChatMsg(meetingId, chatId, msg) {
  check(meetingId, String);
  check(chatId, String);
  check(msg, {
    id: Match.Maybe(String),
    timestamp: Number,
    sender: Object,
    color: String,
    message: String,
    correlationId: Match.Maybe(String)
  });
  const msgDocument = (0, _objectSpread2.default)({}, msg, {
    meetingId,
    chatId,
    message: parseMessage(msg.message),
    sender: msg.sender.id
  });
  const modifier = flat(msgDocument, {
    safe: true
  });

  try {
    const insertedId = GroupChatMsg.insert(modifier);

    if (insertedId) {
      Logger.info(`Added group-chat-msg msgId=${msg.id} chatId=${chatId} meetingId=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Error on adding group-chat-msg to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/clearGroupChatMsg.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGroupChatMsg
});
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let addGroupChatMsg;
module.link("/imports/api/group-chat-msg/server/modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 2);

function clearGroupChatMsg(meetingId, chatId) {
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_CHAT_SYSTEM_ID = CHAT_CONFIG.system_userid;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const CHAT_CLEAR_MESSAGE = CHAT_CONFIG.system_messages_keys.chat_clear;

  if (chatId) {
    try {
      const numberAffected = GroupChatMsg.remove({
        meetingId,
        chatId
      });

      if (numberAffected) {
        Logger.info(`Cleared GroupChatMsg (${meetingId}, ${chatId})`);
        const clearMsg = {
          color: '0',
          timestamp: Date.now(),
          correlationId: `${PUBLIC_CHAT_SYSTEM_ID}-${Date.now()}`,
          sender: {
            id: PUBLIC_CHAT_SYSTEM_ID,
            name: ''
          },
          message: CHAT_CLEAR_MESSAGE
        };
        addGroupChatMsg(meetingId, PUBLIC_GROUP_CHAT_ID, clearMsg);
      }
    } catch (err) {
      Logger.error(`Error on clearing GroupChat (${meetingId}, ${chatId}). ${err}`);
    }

    return true;
  }

  if (meetingId) {
    try {
      const numberAffected = GroupChatMsg.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared GroupChatMsg (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing GroupChatMsg (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = GroupChatMsg.remove({
        chatId: {
          $eq: PUBLIC_GROUP_CHAT_ID
        }
      });

      if (numberAffected) {
        Logger.info('Cleared GroupChatMsg (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing GroupChatMsg (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/startTyping.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 3);
let stopTyping;
module.link("./stopTyping", {
  default(v) {
    stopTyping = v;
  }

}, 4);
const TYPING_TIMEOUT = 5000;

function startTyping(meetingId, userId, chatId) {
  check(meetingId, String);
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };
  const user = Users.findOne(selector, {
    fields: {
      name: 1,
      role: 1
    }
  });
  const modifier = {
    meetingId,
    userId,
    name: user.name,
    isTypingTo: chatId,
    role: user.role,
    time: new Date()
  };
  const typingUser = UsersTyping.findOne(selector, {
    fields: {
      time: 1
    }
  });

  if (typingUser) {
    if (modifier.time - typingUser.time <= TYPING_TIMEOUT - 100) return;
  }

  try {
    const {
      numberAffected
    } = UsersTyping.upsert(selector, modifier);

    if (numberAffected) {
      Logger.debug('Typing indicator update', {
        userId,
        chatId
      });
      Meteor.setTimeout(() => {
        stopTyping(meetingId, userId);
      }, TYPING_TIMEOUT);
    }
  } catch (err) {
    Logger.error(`Typing indicator update error: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/stopTyping.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 2);

function stopTyping(meetingId, userId, sendMsgInitiated = false) {
  check(meetingId, String);
  check(userId, String);
  check(sendMsgInitiated, Boolean);
  const selector = {
    meetingId,
    userId
  };
  const user = UsersTyping.findOne(selector);
  const stillTyping = !sendMsgInitiated && user && new Date() - user.time < 3000;
  if (stillTyping) return;

  try {
    const numberAffected = UsersTyping.remove(selector);

    if (numberAffected) {
      Logger.debug('Stopped typing indicator', {
        userId
      });
    }
  } catch (err) {
    Logger.error(`Stop user=${userId} typing indicator error: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"syncMeetingChatMsgs.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/syncMeetingChatMsgs.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => syncMeetingChatMsgs
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 1);
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let parseMessage;
module.link("./addGroupChatMsg", {
  parseMessage(v) {
    parseMessage = v;
  }

}, 4);

function syncMeetingChatMsgs(meetingId, chatId, msgs) {
  if (!msgs.length) return;
  check(meetingId, String);
  check(chatId, String);
  check(msgs, Match.Maybe(Array));

  try {
    const bulkOperations = GroupChatMsg.rawCollection().initializeOrderedBulkOp();
    msgs.forEach(msg => {
      const msgToSync = (0, _objectSpread2.default)({}, msg, {
        meetingId,
        chatId,
        message: parseMessage(msg.message),
        sender: msg.sender.id
      });
      const modifier = flat(msgToSync, {
        safe: true
      });
      bulkOperations.find({
        chatId,
        meetingId,
        id: msg.id
      }).upsert().updateOne({
        $setOnInsert: {
          _id: new Mongo.ObjectID()._str
        },
        $set: (0, _objectSpread2.default)({}, modifier)
      });
    });
    bulkOperations.execute();
    Logger.info('Chat messages synchronized', {
      chatId,
      meetingId
    });
  } catch (err) {
    Logger.error(`Error on sync chat messages: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/eventHandlers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleGroupChatMsgBroadcast;
module.link("./handlers/groupChatMsgBroadcast", {
  default(v) {
    handleGroupChatMsgBroadcast = v;
  }

}, 1);
let handleClearPublicGroupChat;
module.link("./handlers/clearPublicGroupChat", {
  default(v) {
    handleClearPublicGroupChat = v;
  }

}, 2);
let handleUserTyping;
module.link("./handlers/userTyping", {
  default(v) {
    handleUserTyping = v;
  }

}, 3);
let handleSyncGroupChatMsg;
module.link("./handlers/syncGroupsChat", {
  default(v) {
    handleSyncGroupChatMsg = v;
  }

}, 4);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 5);
RedisPubSub.on('GetGroupChatMsgsRespMsg', processForHTML5ServerOnly(handleSyncGroupChatMsg));
RedisPubSub.on('GroupChatMessageBroadcastEvtMsg', handleGroupChatMsgBroadcast);
RedisPubSub.on('ClearPublicChatHistoryEvtMsg', handleClearPublicGroupChat);
RedisPubSub.on('SyncGetGroupChatMsgsRespMsg', handleSyncGroupChatMsg);
RedisPubSub.on('UserTypingEvtMsg', handleUserTyping);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let sendGroupChatMsg;
module.link("./methods/sendGroupChatMsg", {
  default(v) {
    sendGroupChatMsg = v;
  }

}, 1);
let clearPublicChatHistory;
module.link("./methods/clearPublicChatHistory", {
  default(v) {
    clearPublicChatHistory = v;
  }

}, 2);
let startUserTyping;
module.link("./methods/startUserTyping", {
  default(v) {
    startUserTyping = v;
  }

}, 3);
let stopUserTyping;
module.link("./methods/stopUserTyping", {
  default(v) {
    stopUserTyping = v;
  }

}, 4);
Meteor.methods({
  sendGroupChatMsg,
  clearPublicChatHistory,
  startUserTyping,
  stopUserTyping
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GroupChatMsg, UsersTyping;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  },

  UsersTyping(v) {
    UsersTyping = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function groupChatMsg(chatsIds) {
  if (!this.userId) {
    return GroupChatMsg.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  Logger.debug('Publishing group-chat-msg', {
    meetingId,
    requesterUserId
  });
  return GroupChatMsg.find({
    $or: [{
      meetingId,
      chatId: {
        $eq: PUBLIC_GROUP_CHAT_ID
      }
    }, {
      chatId: {
        $in: chatsIds
      }
    }]
  });
}

function publish(...args) {
  const boundGroupChat = groupChatMsg.bind(this);
  return boundGroupChat(...args);
}

Meteor.publish('group-chat-msg', publish);

function usersTyping() {
  if (!this.userId) {
    return UsersTyping.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing users-typing', {
    meetingId,
    requesterUserId
  });
  return UsersTyping.find({
    meetingId
  });
}

function pubishUsersTyping(...args) {
  const boundUsersTyping = usersTyping.bind(this);
  return boundUsersTyping(...args);
}

Meteor.publish('users-typing', pubishUsersTyping);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  GroupChatMsg: () => GroupChatMsg,
  UsersTyping: () => UsersTyping
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const GroupChatMsg = new Mongo.Collection('group-chat-msg');
const UsersTyping = new Mongo.Collection('users-typing');

if (Meteor.isServer) {
  GroupChatMsg._ensureIndex({
    meetingId: 1,
    chatId: 1
  });

  UsersTyping._ensureIndex({
    meetingId: 1,
    isTypingTo: 1
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"guest-users":{"server":{"handlers":{"guestApproved.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/handlers/guestApproved.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGuestApproved
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setGuestStatus;
module.link("../modifiers/setGuestStatus", {
  default(v) {
    setGuestStatus = v;
  }

}, 1);

function handleGuestApproved({
  body
}, meetingId) {
  const {
    approvedBy,
    guests
  } = body;
  check(meetingId, String);
  check(approvedBy, String);
  check(guests, Array);
  return guests.forEach(guest => setGuestStatus(meetingId, guest.guest, guest.status, approvedBy));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"guestsWaitingForApproval.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/handlers/guestsWaitingForApproval.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => handleGuestsWaitingForApproval
});
let stringHash;
module.link("string-hash", {
  default(v) {
    stringHash = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GuestUsers;
module.link("/imports/api/guest-users/", {
  default(v) {
    GuestUsers = v;
  }

}, 3);
const COLOR_LIST = ['#7b1fa2', '#6a1b9a', '#4a148c', '#5e35b1', '#512da8', '#4527a0', '#311b92', '#3949ab', '#303f9f', '#283593', '#1a237e', '#1976d2', '#1565c0', '#0d47a1', '#0277bd', '#01579b'];

function handleGuestsWaitingForApproval({
  body
}, meetingId) {
  const {
    guests
  } = body;
  check(guests, Array);
  check(meetingId, String);
  return guests.map(guest => {
    try {
      const {
        insertedId,
        numberAffected
      } = GuestUsers.upsert({
        meetingId,
        intId: guest.intId
      }, (0, _objectSpread2.default)({
        approved: false,
        denied: false
      }, guest, {
        meetingId,
        loginTime: new Date().getTime(),
        color: COLOR_LIST[stringHash(guest.intId) % COLOR_LIST.length]
      }));

      if (insertedId) {
        Logger.info(`Added guest user meeting=${meetingId}`);
      } else if (numberAffected) {
        Logger.info(`Upserted guest user meeting=${meetingId}`);
      }
    } catch (err) {
      Logger.error(`Adding guest user to collection: ${err}`);
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"allowPendingUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods/allowPendingUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => allowPendingUsers
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const REDIS_CONFIG = Meteor.settings.private.redis;
const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
const EVENT_NAME = 'GuestsWaitingApprovedMsg';

function allowPendingUsers(guests, status) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(guests, Array);
  const mappedGuests = guests.map(guest => ({
    status,
    guest: guest.intId
  }));
  const payload = {
    approvedBy: requesterUserId,
    guests: mappedGuests
  };
  Logger.info(`User=${requesterUserId} ${status} guests ${JSON.stringify(mappedGuests)}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeGuestPolicy.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods/changeGuestPolicy.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeGuestPolicy
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const REDIS_CONFIG = Meteor.settings.private.redis;
const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
const EVENT_NAME = 'SetGuestPolicyCmdMsg';

function changeGuestPolicy(policyRule) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(policyRule, String);
  const payload = {
    setBy: requesterUserId,
    policy: policyRule
  };
  Logger.info(`User=${requesterUserId} change guest policy to ${policyRule}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearGuestUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/modifiers/clearGuestUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGuestUsers
});
let GuestUsers;
module.link("/imports/api/guest-users", {
  default(v) {
    GuestUsers = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearGuestUsers(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = GuestUsers.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared GuestUsers in (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing GuestUsers in (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = GuestUsers.remove({});

      if (numberAffected) {
        Logger.info('Cleared GuestUsers in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing GuestUsers in all meetings. ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setGuestStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/modifiers/setGuestStatus.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setGuestStatus
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let GuestUsers;
module.link("/imports/api/guest-users", {
  default(v) {
    GuestUsers = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
const GUEST_STATUS_ALLOW = 'ALLOW';
const GUEST_STATUS_DENY = 'DENY';

function setGuestStatus(meetingId, intId, status, approvedBy = null) {
  check(meetingId, String);
  check(intId, String);
  check(status, String);
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: {
      approved: status === GUEST_STATUS_ALLOW,
      denied: status === GUEST_STATUS_DENY,
      approvedBy
    }
  };

  try {
    const numberAffected = GuestUsers.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated status=${status} user=${intId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Updating status=${status} user=${intId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleGuestApproved;
module.link("./handlers/guestApproved", {
  default(v) {
    handleGuestApproved = v;
  }

}, 2);
let handleGuestsWaitingForApproval;
module.link("./handlers/guestsWaitingForApproval", {
  default(v) {
    handleGuestsWaitingForApproval = v;
  }

}, 3);
RedisPubSub.on('GuestsWaitingForApprovalEvtMsg', processForHTML5ServerOnly(handleGuestsWaitingForApproval));
RedisPubSub.on('GuestsWaitingApprovedEvtMsg', processForHTML5ServerOnly(handleGuestApproved));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let allowPendingUsers;
module.link("/imports/api/guest-users/server/methods/allowPendingUsers", {
  default(v) {
    allowPendingUsers = v;
  }

}, 1);
let changeGuestPolicy;
module.link("/imports/api/guest-users/server/methods/changeGuestPolicy", {
  default(v) {
    changeGuestPolicy = v;
  }

}, 2);
Meteor.methods({
  allowPendingUsers,
  changeGuestPolicy
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GuestUsers;
module.link("/imports/api/guest-users/", {
  default(v) {
    GuestUsers = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function guestUsers() {
  if (!this.userId) {
    return GuestUsers.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`Publishing Slides for ${meetingId} ${requesterUserId}`);
  return GuestUsers.find({
    meetingId
  });
}

function publish(...args) {
  const boundSlides = guestUsers.bind(this);
  return boundSlides(...args);
}

Meteor.publish('guestUser', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Mongo;
module.link("meteor/mongo", {
  Mongo(v) {
    Mongo = v;
  }

}, 1);
const GuestUsers = new Mongo.Collection('guestUsers');
module.exportDefault(GuestUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"local-settings":{"server":{"methods":{"userChangedLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/methods/userChangedLocalSettings.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userChangedLocalSettings
});

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 2);
let setChangedLocalSettings;
module.link("../modifiers/setChangedLocalSettings", {
  default(v) {
    setChangedLocalSettings = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userChangedLocalSettings(settings) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  if (!meetingId || !requesterUserId) return;
  check(settings, Object);
  const userLocalSettings = LocalSettings.findOne({
    meetingId,
    userId: requesterUserId
  }, {
    fields: {
      settings: 1
    }
  });

  if (!userLocalSettings || !_.isEqual(userLocalSettings.settings, settings)) {
    setChangedLocalSettings(meetingId, requesterUserId, settings);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/modifiers/clearLocalSettings.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearLocalSettings
});
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearLocalSettings(meetingId) {
  try {
    const numberAffected = LocalSettings.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared Local Settings (${meetingId})`);
    }
  } catch (err) {
    Logger.error(`Error on clearing Local Settings (${meetingId}). ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setChangedLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/modifiers/setChangedLocalSettings.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setChangedLocalSettings
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setChangedLocalSettings(meetingId, userId, settings) {
  check(meetingId, String);
  check(userId, String);
  check(settings, Object);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      settings
    }
  };

  try {
    const {
      numChanged
    } = LocalSettings.upsert(selector, modifier);

    if (numChanged) {
      Logger.info(`Updated settings for user ${userId} on meeting ${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Error on update settings. ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userChangedLocalSettings;
module.link("./methods/userChangedLocalSettings", {
  default(v) {
    userChangedLocalSettings = v;
  }

}, 1);
Meteor.methods({
  userChangedLocalSettings
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function localSettings() {
  if (!this.userId) {
    return LocalSettings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing local settings', {
    requesterUserId
  });
  return LocalSettings.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundLocalSettings = localSettings.bind(this);
  return boundLocalSettings(...args);
}

Meteor.publish('local-settings', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const LocalSettings = new Mongo.Collection('local-settings');

if (Meteor.isServer) {
  LocalSettings._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(LocalSettings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"log-client":{"server":{"methods":{"logClient.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/methods/logClient.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);

const logClient = function (type, logDescription, logCode = 'was_not_provided', extraInfo = {}, userInfo = {}) {
  const connectionId = this.connection.id;
  const User = Users.findOne({
    connectionId
  });
  const logContents = {
    logCode,
    logDescription,
    connectionId,
    extraInfo,
    userInfo
  };

  if (User) {
    // TODO--
    if (userInfo.credentials && User.meetingId === userInfo.credentials.meetingId || userInfo.meetingId && User.meetingId === userInfo.meetingId) {
      logContents.extraInfo.validUser = 'valid';
    } else {
      logContents.extraInfo.validUser = 'invalid';
    }
  } else {
    logContents.extraInfo.validUser = 'notFound';
  } // If I don't pass message, logs will start with `undefined`


  Logger.log({
    message: JSON.stringify(logContents),
    level: type
  }); // Logger.log({ message: 'client->server', level: type, logContents });
};

module.exportDefault(logClient);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/methods.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let logClient;
module.link("./methods/logClient", {
  default(v) {
    logClient = v;
  }

}, 1);
Meteor.methods({
  logClient
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"meetings":{"server":{"handlers":{"getAllMeetings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/getAllMeetings.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetAllMeetings
});
let handleMeetingCreation;
module.link("./meetingCreation", {
  default(v) {
    handleMeetingCreation = v;
  }

}, 0);

function handleGetAllMeetings({
  body
}) {
  return handleMeetingCreation({
    body
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingCreation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingCreation.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingCreation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addMeeting;
module.link("../modifiers/addMeeting", {
  default(v) {
    addMeeting = v;
  }

}, 1);

function handleMeetingCreation({
  body
}) {
  const meeting = body.props;
  const durationInSecods = meeting.durationProps.duration * 60;
  meeting.durationProps.timeRemaining = durationInSecods;
  check(meeting, Object);
  return addMeeting(meeting);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingDestruction.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingDestruction.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingDestruction
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let destroyExternalVideo;
module.link("/imports/api/external-videos/server/methods/destroyExternalVideo", {
  default(v) {
    destroyExternalVideo = v;
  }

}, 2);
let removeAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  removeAnnotationsStreamer(v) {
    removeAnnotationsStreamer = v;
  }

}, 3);
let removeCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  removeCursorStreamer(v) {
    removeCursorStreamer = v;
  }

}, 4);

function handleMeetingDestruction({
  body
}) {
  check(body, Object);
  const {
    meetingId
  } = body;
  check(meetingId, String);
  destroyExternalVideo(meetingId);
  removeAnnotationsStreamer(meetingId);
  removeCursorStreamer(meetingId);
  return RedisPubSub.destroyMeetingQueue(meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingEnd.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingEnd.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingEnd
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let meetingHasEnded;
module.link("../modifiers/meetingHasEnded", {
  default(v) {
    meetingHasEnded = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 3);
let Users;
module.link("/imports/api/users/", {
  default(v) {
    Users = v;
  }

}, 4);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 5);

function handleMeetingEnd({
  body
}) {
  check(body, Object);
  const {
    meetingId
  } = body;
  check(meetingId, String);

  const cb = (err, num, meetingType) => {
    if (err) {
      Logger.error(`${meetingType} ending error: ${err}`);
      return;
    }

    if (num) {
      Users.update({
        meetingId
      }, {
        $set: {
          connectionStatus: 'offline'
        }
      }, (error, numAffected) => {
        if (error) {
          Logger.error(`Error marking ending ${meetingType} users as offline: ${meetingId} ${err}`);
          return;
        }

        if (numAffected) {
          Logger.info(`Success marking ending ${meetingType} users as offline: ${meetingId}`);
        }
      });
      Meteor.setTimeout(() => {
        meetingHasEnded(meetingId);
      }, 10000);
    }
  };

  Meetings.update({
    meetingId
  }, {
    $set: {
      meetingEnded: true
    }
  }, (err, num) => {
    cb(err, num, 'Meeting');
  });
  Breakouts.update({
    parentMeetingId: meetingId
  }, {
    $set: {
      meetingEnded: true
    }
  }, (err, num) => {
    cb(err, num, 'Breakout');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingLockChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingLockChange.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleLockSettingsInMeeting
});
let changeLockSettings;
module.link("../modifiers/changeLockSettings", {
  default(v) {
    changeLockSettings = v;
  }

}, 0);

function handleLockSettingsInMeeting({
  body
}, meetingId) {
  changeLockSettings(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"recordingStatusChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/recordingStatusChange.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRecordingStatusChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleRecordingStatusChange({
  body
}, meetingId) {
  const {
    recording
  } = body;
  check(recording, Boolean);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      recording
    }
  };

  try {
    const {
      numberAffected
    } = RecordMeetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed meeting record status id=${meetingId} recording=${recording}`);
    }
  } catch (err) {
    Logger.error(`Changing record status: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"recordingTimerChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/recordingTimerChange.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRecordingTimerChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleRecordingTimerChange({
  body
}, meetingId) {
  const {
    time
  } = body;
  check(meetingId, String);
  check(body, {
    time: Number
  });
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      time
    }
  };

  try {
    RecordMeetings.upsert(selector, modifier);
  } catch (err) {
    Logger.error(`Changing recording time: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeRemainingUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/timeRemainingUpdate.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleTimeRemainingUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleTimeRemainingUpdate({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, {
    timeLeftInSec: Number
  });
  const {
    timeLeftInSec
  } = body;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      timeRemaining: timeLeftInSec
    }
  };

  try {
    MeetingTimeRemaining.upsert(selector, modifier);
  } catch (err) {
    Logger.error(`Changing recording time: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLockChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/userLockChange.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleLockSettingsInMeeting
});
let changeUserLock;
module.link("../modifiers/changeUserLock", {
  default(v) {
    changeUserLock = v;
  }

}, 0);

function handleLockSettingsInMeeting({
  body
}, meetingId) {
  changeUserLock(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webcamOnlyModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/webcamOnlyModerator.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleChangeWebcamOnlyModerator
});
let changeWebcamOnlyModerator;
module.link("../modifiers/webcamOnlyModerator", {
  default(v) {
    changeWebcamOnlyModerator = v;
  }

}, 0);

function handleChangeWebcamOnlyModerator({
  body
}, meetingId) {
  changeWebcamOnlyModerator(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"endMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/endMeeting.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => endMeeting
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function endMeeting() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'LogoutAndEndMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    userId: requesterUserId
  };
  Logger.warn(`Meeting '${meetingId}' is destroyed by '${requesterUserId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleLockSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleLockSettings.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleLockSettings
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function toggleLockSettings(lockSettingsProps) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeLockSettingsInMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(lockSettingsProps, {
    disableCam: Boolean,
    disableMic: Boolean,
    disablePrivateChat: Boolean,
    disablePublicChat: Boolean,
    disableNote: Boolean,
    hideUserList: Boolean,
    lockedLayout: Boolean,
    lockOnJoin: Boolean,
    lockOnJoinConfigurable: Boolean,
    setBy: Match.Maybe(String)
  });
  const {
    disableCam,
    disableMic,
    disablePrivateChat: disablePrivChat,
    disablePublicChat: disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable
  } = lockSettingsProps;
  const payload = {
    disableCam,
    disableMic,
    disablePrivChat,
    disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable,
    setBy: requesterUserId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleRecording.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleRecording.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleRecording
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function toggleRecording() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const EVENT_NAME = 'SetRecordingStatusCmdMsg';
  let meetingRecorded;
  let allowedToRecord;
  const recordObject = RecordMeetings.findOne({
    meetingId
  });

  if (recordObject != null) {
    const {
      allowStartStopRecording,
      recording,
      record
    } = recordObject;
    meetingRecorded = recording;
    allowedToRecord = record && allowStartStopRecording; // TODO-- remove some day
  }

  const payload = {
    recording: !meetingRecorded,
    setBy: requesterUserId
  };
  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const user = Users.findOne(selector);

  if (allowedToRecord && !!user && user.role === ROLE_MODERATOR) {
    Logger.info(`Setting the record parameter to ${!meetingRecorded} for ${meetingId} by ${requesterUserId}`);
    return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
  }

  return null;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleWebcamsOnlyForModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleWebcamsOnlyForModerator.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleWebcamsOnlyForModerator
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("../../../common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function toggleWebcamsOnlyForModerator(webcamsOnlyForModerator) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UpdateWebcamsOnlyForModeratorCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(webcamsOnlyForModerator, Boolean);
  const payload = {
    webcamsOnlyForModerator,
    setBy: requesterUserId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"transferUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/transferUser.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => transferUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function transferUser(fromMeetingId, toMeetingId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'TransferUserToMeetingRequestMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    fromMeetingId,
    toMeetingId,
    userId: requesterUserId
  };
  Logger.verbose('User was transferred from one meting to another', {
    requesterUserId,
    fromMeetingId,
    toMeetingId
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/addMeeting.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

module.export({
  default: () => addMeeting
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let check, Match;
module.link("meteor/check", {
  check(v) {
    check = v;
  },

  Match(v) {
    Match = v;
  }

}, 1);
let SanitizeHTML;
module.link("sanitize-html", {
  default(v) {
    SanitizeHTML = v;
  }

}, 2);
let Meetings, RecordMeetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  },

  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let createNote;
module.link("/imports/api/note/server/methods/createNote", {
  default(v) {
    createNote = v;
  }

}, 5);
let createCaptions;
module.link("/imports/api/captions/server/methods/createCaptions", {
  default(v) {
    createCaptions = v;
  }

}, 6);
let addAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  addAnnotationsStreamer(v) {
    addAnnotationsStreamer = v;
  }

}, 7);
let addCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  addCursorStreamer(v) {
    addCursorStreamer = v;
  }

}, 8);
let BannedUsers;
module.link("/imports/api/users/server/store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 9);

function addMeeting(meeting) {
  const meetingId = meeting.meetingProp.intId;
  check(meetingId, String);
  check(meeting, {
    breakoutProps: {
      sequence: Number,
      freeJoin: Boolean,
      breakoutRooms: Array,
      parentId: String,
      enabled: Boolean,
      record: Boolean,
      privateChatEnabled: Boolean
    },
    meetingProp: {
      intId: String,
      extId: String,
      isBreakout: Boolean,
      name: String
    },
    usersProp: {
      webcamsOnlyForModerator: Boolean,
      guestPolicy: String,
      maxUsers: Number,
      allowModsToUnmuteUsers: Boolean
    },
    durationProps: {
      createdTime: Number,
      duration: Number,
      createdDate: String,
      maxInactivityTimeoutMinutes: Number,
      warnMinutesBeforeMax: Number,
      meetingExpireIfNoUserJoinedInMinutes: Number,
      meetingExpireWhenLastUserLeftInMinutes: Number,
      userInactivityInspectTimerInMinutes: Number,
      userInactivityThresholdInMinutes: Number,
      userActivitySignResponseDelayInMinutes: Number,
      timeRemaining: Number
    },
    welcomeProp: {
      welcomeMsg: String,
      modOnlyMessage: String,
      welcomeMsgTemplate: String
    },
    recordProp: Match.ObjectIncluding({
      allowStartStopRecording: Boolean,
      autoStartRecording: Boolean,
      record: Boolean
    }),
    password: {
      viewerPass: String,
      moderatorPass: String
    },
    voiceProp: {
      voiceConf: String,
      dialNumber: String,
      telVoice: String,
      muteOnStart: Boolean
    },
    screenshareProps: {
      red5ScreenshareIp: String,
      red5ScreenshareApp: String,
      screenshareConf: String
    },
    metadataProp: Object,
    lockSettingsProps: {
      disableCam: Boolean,
      disableMic: Boolean,
      disablePrivateChat: Boolean,
      disablePublicChat: Boolean,
      disableNote: Boolean,
      hideUserList: Boolean,
      lockOnJoin: Boolean,
      lockOnJoinConfigurable: Boolean,
      lockedLayout: Boolean
    }
  });
  const {
    recordProp
  } = meeting,
        restProps = (0, _objectWithoutProperties2.default)(meeting, ["recordProp"]);
  const newMeeting = restProps;
  const selector = {
    meetingId
  };
  newMeeting.lockSettingsProps = Object.assign(meeting.lockSettingsProps, {
    setBy: 'temp'
  });
  const meetingEnded = false;
  let {
    welcomeMsg
  } = newMeeting.welcomeProp;

  const sanitizeTextInChat = original => SanitizeHTML(original, {
    allowedTags: ['a', 'b', 'br', 'i', 'img', 'li', 'small', 'span', 'strong', 'u', 'ul'],
    allowedAttributes: {
      a: ['href', 'name', 'target'],
      img: ['src', 'width', 'height']
    },
    allowedSchemes: ['https']
  });

  const sanitizedWelcomeText = sanitizeTextInChat(welcomeMsg);
  welcomeMsg = sanitizedWelcomeText.replace('href="event:', 'href="');

  const insertBlankTarget = (s, i) => `${s.substr(0, i)} target="_blank"${s.substr(i)}`;

  const linkWithoutTarget = new RegExp('<a href="(.*?)">', 'g');
  linkWithoutTarget.test(welcomeMsg);

  if (linkWithoutTarget.lastIndex > 0) {
    welcomeMsg = insertBlankTarget(welcomeMsg, linkWithoutTarget.lastIndex - 1);
  }

  newMeeting.welcomeProp.welcomeMsg = welcomeMsg; // note: as of July 2020 `modOnlyMessage` is not published to the client side.
  // We are sanitizing this data simply to prevent future potential usage
  // At the moment `modOnlyMessage` is obtained from client side as a response to Enter API

  newMeeting.welcomeProp.modOnlyMessage = sanitizeTextInChat(newMeeting.welcomeProp.modOnlyMessage);
  const modifier = {
    $set: Object.assign({
      meetingId,
      meetingEnded,
      publishedPoll: false
    }, flat(newMeeting, {
      safe: true
    }))
  };

  try {
    const {
      insertedId,
      numberAffected
    } = RecordMeetings.upsert(selector, (0, _objectSpread2.default)({
      meetingId
    }, recordProp));

    if (insertedId) {
      Logger.info(`Added record prop id=${meetingId}`);
    } else if (numberAffected) {
      Logger.info(`Upserted record prop id=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding record prop to collection: ${err}`);
  }

  try {
    const {
      insertedId,
      numberAffected
    } = Meetings.upsert(selector, modifier);
    addAnnotationsStreamer(meetingId);
    addCursorStreamer(meetingId);

    if (insertedId) {
      Logger.info(`Added meeting id=${meetingId}`); // TODO: Here we call Etherpad API to create this meeting notes. Is there a
      // better place we can run this post-creation routine?

      createNote(meetingId);
      createCaptions(meetingId);
      BannedUsers.init(meetingId);
    } else if (numberAffected) {
      Logger.info(`Upserted meeting id=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding meeting to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeLockSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/changeLockSettings.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeLockSettings
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeLockSettings(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    disableCam: Boolean,
    disableMic: Boolean,
    disablePrivChat: Boolean,
    disablePubChat: Boolean,
    disableNote: Boolean,
    hideUserList: Boolean,
    lockedLayout: Boolean,
    lockOnJoin: Boolean,
    lockOnJoinConfigurable: Boolean,
    setBy: Match.Maybe(String)
  });
  const {
    disableCam,
    disableMic,
    disablePrivChat,
    disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable,
    setBy
  } = payload;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      lockSettingsProps: {
        disableCam,
        disableMic,
        disablePrivateChat: disablePrivChat,
        disablePublicChat: disablePubChat,
        disableNote,
        hideUserList,
        lockedLayout,
        lockOnJoin,
        lockOnJoinConfigurable,
        setBy
      }
    }
  };

  try {
    const {
      numberAffected
    } = Meetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed meeting={${meetingId}} updated lock settings`);
    } else {
      Logger.info(`meeting={${meetingId}} lock settings were not updated`);
    }
  } catch (err) {
    Logger.error(`Changing meeting={${meetingId}} lock settings: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeUserLock.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/changeUserLock.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeUserLock
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeUserLock(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    userId: String,
    locked: Boolean,
    lockedBy: String
  });
  const {
    userId,
    locked,
    lockedBy
  } = payload;
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      locked
    }
  };

  try {
    const {
      numberAffected
    } = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`User's userId=${userId} lock status was changed to: ${locked} by user userId=${lockedBy}`);
    } else {
      Logger.info(`User's userId=${userId} lock status wasn't updated`);
    }
  } catch (err) {
    Logger.error(`Changing user lock setting: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearMeetingTimeRemaining.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/clearMeetingTimeRemaining.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearMeetingTimeRemaining
});
let MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearMeetingTimeRemaining(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = MeetingTimeRemaining.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared MeetingTimeRemaining in (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing MeetingTimeRemaining in (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = MeetingTimeRemaining.remove({});

      if (numberAffected) {
        Logger.info('Cleared MeetingTimeRemaining in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing MeetingTimeRemaining in all meetings. ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearRecordMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/clearRecordMeeting.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => meetingHasEnded
});
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function meetingHasEnded(meetingId) {
  try {
    const numberAffected = RecordMeetings.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared record prop from meeting with id ${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Error on clearing record prop from meeting with id ${meetingId}. ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingHasEnded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/meetingHasEnded.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => meetingHasEnded
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let removeAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  removeAnnotationsStreamer(v) {
    removeAnnotationsStreamer = v;
  }

}, 2);
let removeCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  removeCursorStreamer(v) {
    removeCursorStreamer = v;
  }

}, 3);
let clearUsers;
module.link("/imports/api/users/server/modifiers/clearUsers", {
  default(v) {
    clearUsers = v;
  }

}, 4);
let clearUsersSettings;
module.link("/imports/api/users-settings/server/modifiers/clearUsersSettings", {
  default(v) {
    clearUsersSettings = v;
  }

}, 5);
let clearGroupChat;
module.link("/imports/api/group-chat/server/modifiers/clearGroupChat", {
  default(v) {
    clearGroupChat = v;
  }

}, 6);
let clearGuestUsers;
module.link("/imports/api/guest-users/server/modifiers/clearGuestUsers", {
  default(v) {
    clearGuestUsers = v;
  }

}, 7);
let clearBreakouts;
module.link("/imports/api/breakouts/server/modifiers/clearBreakouts", {
  default(v) {
    clearBreakouts = v;
  }

}, 8);
let clearAnnotations;
module.link("/imports/api/annotations/server/modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 9);
let clearSlides;
module.link("/imports/api/slides/server/modifiers/clearSlides", {
  default(v) {
    clearSlides = v;
  }

}, 10);
let clearPolls;
module.link("/imports/api/polls/server/modifiers/clearPolls", {
  default(v) {
    clearPolls = v;
  }

}, 11);
let clearCaptions;
module.link("/imports/api/captions/server/modifiers/clearCaptions", {
  default(v) {
    clearCaptions = v;
  }

}, 12);
let clearPresentationPods;
module.link("/imports/api/presentation-pods/server/modifiers/clearPresentationPods", {
  default(v) {
    clearPresentationPods = v;
  }

}, 13);
let clearVoiceUsers;
module.link("/imports/api/voice-users/server/modifiers/clearVoiceUsers", {
  default(v) {
    clearVoiceUsers = v;
  }

}, 14);
let clearUserInfo;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfo", {
  default(v) {
    clearUserInfo = v;
  }

}, 15);
let clearScreenshare;
module.link("/imports/api/screenshare/server/modifiers/clearScreenshare", {
  default(v) {
    clearScreenshare = v;
  }

}, 16);
let clearNote;
module.link("/imports/api/note/server/modifiers/clearNote", {
  default(v) {
    clearNote = v;
  }

}, 17);
let clearNetworkInformation;
module.link("/imports/api/network-information/server/modifiers/clearNetworkInformation", {
  default(v) {
    clearNetworkInformation = v;
  }

}, 18);
let clearMeetingTimeRemaining;
module.link("/imports/api/meetings/server/modifiers/clearMeetingTimeRemaining", {
  default(v) {
    clearMeetingTimeRemaining = v;
  }

}, 19);
let clearLocalSettings;
module.link("/imports/api/local-settings/server/modifiers/clearLocalSettings", {
  default(v) {
    clearLocalSettings = v;
  }

}, 20);
let clearRecordMeeting;
module.link("./clearRecordMeeting", {
  default(v) {
    clearRecordMeeting = v;
  }

}, 21);
let clearVoiceCallStates;
module.link("/imports/api/voice-call-states/server/modifiers/clearVoiceCallStates", {
  default(v) {
    clearVoiceCallStates = v;
  }

}, 22);
let clearVideoStreams;
module.link("/imports/api/video-streams/server/modifiers/clearVideoStreams", {
  default(v) {
    clearVideoStreams = v;
  }

}, 23);
let clearWhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/server/modifiers/clearWhiteboardMultiUser", {
  default(v) {
    clearWhiteboardMultiUser = v;
  }

}, 24);
let BannedUsers;
module.link("/imports/api/users/server/store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 25);
let Metrics;
module.link("/imports/startup/server/metrics", {
  default(v) {
    Metrics = v;
  }

}, 26);

function meetingHasEnded(meetingId) {
  removeAnnotationsStreamer(meetingId);
  removeCursorStreamer(meetingId);
  return Meetings.remove({
    meetingId
  }, () => {
    clearCaptions(meetingId);
    clearGroupChat(meetingId);
    clearGuestUsers(meetingId);
    clearPresentationPods(meetingId);
    clearBreakouts(meetingId);
    clearPolls(meetingId);
    clearAnnotations(meetingId);
    clearSlides(meetingId);
    clearUsers(meetingId);
    clearUsersSettings(meetingId);
    clearVoiceUsers(meetingId);
    clearUserInfo(meetingId);
    clearNote(meetingId);
    clearNetworkInformation(meetingId);
    clearLocalSettings(meetingId);
    clearMeetingTimeRemaining(meetingId);
    clearRecordMeeting(meetingId);
    clearVoiceCallStates(meetingId);
    clearVideoStreams(meetingId);
    clearWhiteboardMultiUser(meetingId);
    clearScreenshare(meetingId);
    BannedUsers.delete(meetingId);
    Metrics.removeMeeting(meetingId);
    Logger.info(`Cleared Meetings with id ${meetingId}`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPublishedPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/setPublishedPoll.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPublishedPoll
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function setPublishedPoll(meetingId, isPublished) {
  check(meetingId, String);
  check(isPublished, Boolean);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      publishedPoll: isPublished
    }
  };

  try {
    const {
      numberAffected
    } = Meetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Set publishedPoll=${isPublished} in meeitingId=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Setting publishedPoll=${isPublished} for meetingId=${meetingId}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webcamOnlyModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/webcamOnlyModerator.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeWebcamOnlyModerator
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeWebcamOnlyModerator(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    webcamsOnlyForModerator: Boolean,
    setBy: String
  });
  const {
    webcamsOnlyForModerator
  } = payload;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      'usersProp.webcamsOnlyForModerator': webcamsOnlyForModerator
    }
  };

  try {
    const {
      numberAffected
    } = Meetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed meeting={${meetingId}} updated webcam Only for Moderator`);
    } else {
      Logger.info(`meeting={${meetingId}} webcam Only for Moderator were not updated`);
    }
  } catch (err) {
    Logger.error(`Changwing meeting={${meetingId}} webcam Only for Moderator: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/eventHandlers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleMeetingCreation;
module.link("./handlers/meetingCreation", {
  default(v) {
    handleMeetingCreation = v;
  }

}, 1);
let handleGetAllMeetings;
module.link("./handlers/getAllMeetings", {
  default(v) {
    handleGetAllMeetings = v;
  }

}, 2);
let handleMeetingEnd;
module.link("./handlers/meetingEnd", {
  default(v) {
    handleMeetingEnd = v;
  }

}, 3);
let handleMeetingDestruction;
module.link("./handlers/meetingDestruction", {
  default(v) {
    handleMeetingDestruction = v;
  }

}, 4);
let handleMeetingLocksChange;
module.link("./handlers/meetingLockChange", {
  default(v) {
    handleMeetingLocksChange = v;
  }

}, 5);
let handleUserLockChange;
module.link("./handlers/userLockChange", {
  default(v) {
    handleUserLockChange = v;
  }

}, 6);
let handleRecordingStatusChange;
module.link("./handlers/recordingStatusChange", {
  default(v) {
    handleRecordingStatusChange = v;
  }

}, 7);
let handleRecordingTimerChange;
module.link("./handlers/recordingTimerChange", {
  default(v) {
    handleRecordingTimerChange = v;
  }

}, 8);
let handleTimeRemainingUpdate;
module.link("./handlers/timeRemainingUpdate", {
  default(v) {
    handleTimeRemainingUpdate = v;
  }

}, 9);
let handleChangeWebcamOnlyModerator;
module.link("./handlers/webcamOnlyModerator", {
  default(v) {
    handleChangeWebcamOnlyModerator = v;
  }

}, 10);
RedisPubSub.on('MeetingCreatedEvtMsg', handleMeetingCreation);
RedisPubSub.on('SyncGetMeetingInfoRespMsg', handleGetAllMeetings);
RedisPubSub.on('MeetingEndingEvtMsg', handleMeetingEnd);
RedisPubSub.on('MeetingDestroyedEvtMsg', handleMeetingDestruction);
RedisPubSub.on('LockSettingsInMeetingChangedEvtMsg', handleMeetingLocksChange);
RedisPubSub.on('UserLockedInMeetingEvtMsg', handleUserLockChange);
RedisPubSub.on('RecordingStatusChangedEvtMsg', handleRecordingStatusChange);
RedisPubSub.on('UpdateRecordingTimerEvtMsg', handleRecordingTimerChange);
RedisPubSub.on('WebcamsOnlyForModeratorChangedEvtMsg', handleChangeWebcamOnlyModerator);
RedisPubSub.on('GetLockSettingsRespMsg', handleMeetingLocksChange);
RedisPubSub.on('MeetingTimeRemainingUpdateEvtMsg', handleTimeRemainingUpdate);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/index.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let endMeeting;
module.link("./methods/endMeeting", {
  default(v) {
    endMeeting = v;
  }

}, 1);
let toggleRecording;
module.link("./methods/toggleRecording", {
  default(v) {
    toggleRecording = v;
  }

}, 2);
let transferUser;
module.link("./methods/transferUser", {
  default(v) {
    transferUser = v;
  }

}, 3);
let toggleLockSettings;
module.link("./methods/toggleLockSettings", {
  default(v) {
    toggleLockSettings = v;
  }

}, 4);
let toggleWebcamsOnlyForModerator;
module.link("./methods/toggleWebcamsOnlyForModerator", {
  default(v) {
    toggleWebcamsOnlyForModerator = v;
  }

}, 5);
Meteor.methods({
  endMeeting,
  toggleRecording,
  toggleLockSettings,
  transferUser,
  toggleWebcamsOnlyForModerator
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/publishers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Meetings, RecordMeetings, MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  },

  RecordMeetings(v) {
    RecordMeetings = v;
  },

  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function meetings(role) {
  if (!this.userId) {
    return Meetings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing meeting', {
    meetingId,
    requesterUserId
  });
  const selector = {
    $or: [{
      meetingId
    }]
  };
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    selector.$or.push({
      'meetingProp.isBreakout': true,
      'breakoutProps.parentId': meetingId
    });
  }

  const options = {
    fields: {
      password: false,
      'welcomeProp.modOnlyMessage': false
    }
  };
  return Meetings.find(selector, options);
}

function publish(...args) {
  const boundMeetings = meetings.bind(this);
  return boundMeetings(...args);
}

Meteor.publish('meetings', publish);

function recordMeetings() {
  if (!this.userId) {
    return RecordMeetings.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return RecordMeetings.find({
    meetingId
  });
}

function recordPublish(...args) {
  const boundRecordMeetings = recordMeetings.bind(this);
  return boundRecordMeetings(...args);
}

Meteor.publish('record-meetings', recordPublish);

function meetingTimeRemaining() {
  if (!this.userId) {
    return MeetingTimeRemaining.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return MeetingTimeRemaining.find({
    meetingId
  });
}

function timeRemainingPublish(...args) {
  const boundtimeRemaining = meetingTimeRemaining.bind(this);
  return boundtimeRemaining(...args);
}

Meteor.publish('meeting-time-remaining', timeRemainingPublish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/index.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  RecordMeetings: () => RecordMeetings,
  MeetingTimeRemaining: () => MeetingTimeRemaining
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Meetings = new Mongo.Collection('meetings');
const RecordMeetings = new Mongo.Collection('record-meetings');
const MeetingTimeRemaining = new Mongo.Collection('meeting-time-remaining');

if (Meteor.isServer) {
  // types of queries for the meetings:
  // 1. meetingId
  Meetings._ensureIndex({
    meetingId: 1
  });

  RecordMeetings._ensureIndex({
    meetingId: 1
  });

  MeetingTimeRemaining._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Meetings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"network-information":{"server":{"methods":{"userInstabilityDetected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/methods/userInstabilityDetected.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userInstabilityDetected
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function userInstabilityDetected(sender) {
  const {
    meetingId,
    requesterUserId: receiver
  } = extractCredentials(this.userId);
  check(sender, String);
  const payload = {
    time: new Date().getTime(),
    meetingId,
    receiver,
    sender
  };
  Logger.debug('Receiver reported a network instability', {
    receiver,
    meetingId
  });
  return NetworkInformation.insert(payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearNetworkInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/modifiers/clearNetworkInformation.js                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearNetworkInformation
});
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearNetworkInformation(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = NetworkInformation.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Network Information (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing Network Information (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = NetworkInformation.remove({});

      if (numberAffected) {
        Logger.info('Cleared Network Information (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing Network Information (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/index.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publisher");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/methods.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userInstabilityDetected;
module.link("./methods/userInstabilityDetected", {
  default(v) {
    userInstabilityDetected = v;
  }

}, 1);
Meteor.methods({
  userInstabilityDetected
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publisher.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/publisher.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function networkInformation() {
  if (!this.userId) {
    return NetworkInformation.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return NetworkInformation.find({
    meetingId
  });
}

function publish(...args) {
  const boundNetworkInformation = networkInformation.bind(this);
  return boundNetworkInformation(...args);
}

Meteor.publish('network-information', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/index.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const NetworkInformation = new Mongo.Collection('network-information');

if (Meteor.isServer) {
  NetworkInformation._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(NetworkInformation);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"note":{"server":{"handlers":{"padUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/handlers/padUpdate.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateNote;
module.link("/imports/api/note/server/modifiers/updateNote", {
  default(v) {
    updateNote = v;
  }

}, 1);

function handlePadUpdate({
  body
}) {
  const {
    pad,
    revs
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  check(revs, Number);
  updateNote(id, revs);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"addPad.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/methods/addPad.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPad
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function addPad(meetingId, padId, readOnlyId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'AddPadSysMsg';
  check(meetingId, String);
  check(padId, String);
  check(readOnlyId, String);
  const payload = {
    padId,
    readOnlyId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, 'nodeJSapp', payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"createNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/methods/createNote.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createNote
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let generateNoteId, createPadURL, getReadOnlyIdURL, isEnabled, getDataFromResponse;
module.link("/imports/api/note/server/helpers", {
  generateNoteId(v) {
    generateNoteId = v;
  },

  createPadURL(v) {
    createPadURL = v;
  },

  getReadOnlyIdURL(v) {
    getReadOnlyIdURL = v;
  },

  isEnabled(v) {
    isEnabled = v;
  },

  getDataFromResponse(v) {
    getDataFromResponse = v;
  }

}, 2);
let addNote;
module.link("/imports/api/note/server/modifiers/addNote", {
  default(v) {
    addNote = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function createNote(meetingId) {
  // Avoid note creation if this feature is disabled
  if (!isEnabled()) {
    Logger.warn(`Notes are disabled for ${meetingId}`);
    return;
  }

  check(meetingId, String);
  const noteId = generateNoteId(meetingId);
  const createURL = createPadURL(noteId);
  axios({
    method: 'get',
    url: createURL,
    responseType: 'json'
  }).then(responseOuter => {
    const {
      status
    } = responseOuter;

    if (status !== 200) {
      Logger.error(`Could not get note info for ${meetingId} ${status}`);
      return;
    }

    const readOnlyURL = getReadOnlyIdURL(noteId);
    axios({
      method: 'get',
      url: readOnlyURL,
      responseType: 'json'
    }).then(response => {
      const readOnlyNoteId = getDataFromResponse(response.data, 'readOnlyID');

      if (readOnlyNoteId) {
        addNote(meetingId, noteId, readOnlyNoteId);
      } else {
        Logger.error(`Could not get note readOnlyID for ${meetingId}`);
      }
    }).catch(error => Logger.error(`Could not get note readOnlyID for ${meetingId}: ${error}`));
  }).catch(error => Logger.error(`Could not create note for ${meetingId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/addNote.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addNote
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let addPad;
module.link("/imports/api/note/server/methods/addPad", {
  default(v) {
    addPad = v;
  }

}, 3);

function addNote(meetingId, noteId, readOnlyNoteId) {
  check(meetingId, String);
  check(noteId, String);
  check(readOnlyNoteId, String);
  const selector = {
    meetingId,
    noteId
  };
  const modifier = {
    meetingId,
    noteId,
    readOnlyNoteId,
    revs: 0
  };

  try {
    const {
      insertedId
    } = Note.upsert(selector, modifier);

    if (insertedId) {
      addPad(meetingId, noteId, readOnlyNoteId);
      Logger.info(`Added note id=${noteId} readOnlyId=${readOnlyNoteId} meeting=${meetingId}`);
    } else {
      Logger.info(`Upserted note id=${noteId} readOnlyId=${readOnlyNoteId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding note to the collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/clearNote.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearNote
});
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearNote(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = Note.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Note (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing Note (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Note.remove({});

      if (numberAffected) {
        Logger.info('Cleared Note (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing Note (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/updateNote.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateNote
});
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function updateNote(noteId, revs) {
  check(noteId, String);
  check(revs, Number);
  const selector = {
    noteId
  };
  const modifier = {
    $set: {
      revs
    }
  };

  try {
    const numberAffected = Note.update(selector, modifier, {
      multi: true
    });

    if (numberAffected) {
      Logger.verbose('Notes: update note pad', {
        pad: noteId,
        revs
      });
    }
  } catch (err) {
    Logger.error('Notes: error when updating note pad', {
      err
    });
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/eventHandlers.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForNotePadOnly;
module.link("/imports/api/note/server/helpers", {
  processForNotePadOnly(v) {
    processForNotePadOnly = v;
  }

}, 1);
let handlePadUpdate;
module.link("./handlers/padUpdate", {
  default(v) {
    handlePadUpdate = v;
  }

}, 2);
RedisPubSub.on('PadUpdateSysMsg', processForNotePadOnly(handlePadUpdate));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/helpers.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  generateNoteId: () => generateNoteId,
  createPadURL: () => createPadURL,
  getReadOnlyIdURL: () => getReadOnlyIdURL,
  isEnabled: () => isEnabled,
  getDataFromResponse: () => getDataFromResponse,
  appendTextURL: () => appendTextURL,
  processForNotePadOnly: () => processForNotePadOnly
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let hashSHA1;
module.link("/imports/api/common/server/helpers", {
  hashSHA1(v) {
    hashSHA1 = v;
  }

}, 1);
const ETHERPAD = Meteor.settings.private.etherpad;
const NOTE_CONFIG = Meteor.settings.public.note;
const BASE_URL = `http://${ETHERPAD.host}:${ETHERPAD.port}/api/${ETHERPAD.version}`;
const TOKEN = '_';

const createPadURL = padId => `${BASE_URL}/createPad?apikey=${ETHERPAD.apikey}&padID=${padId}`;

const getReadOnlyIdURL = padId => `${BASE_URL}/getReadOnlyID?apikey=${ETHERPAD.apikey}&padID=${padId}`;

const appendTextURL = (padId, text) => `${BASE_URL}/appendText?apikey=${ETHERPAD.apikey}&padID=${padId}&text=${encodeURIComponent(text)}`;

const generateNoteId = meetingId => hashSHA1(meetingId + ETHERPAD.apikey);

const isEnabled = () => NOTE_CONFIG.enabled;

const getDataFromResponse = (data, key) => {
  if (data) {
    const innerData = data.data;

    if (innerData && innerData[key]) {
      return innerData[key];
    }
  }

  return null;
};

const isNotePad = padId => padId.search(TOKEN);

const processForNotePadOnly = fn => (message, ...args) => {
  const {
    body
  } = message;
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  if (isNotePad(id)) return fn(message, ...args);
  return () => {};
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./publishers");
module.link("./eventHandlers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/publishers.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function note() {
  if (!this.userId) {
    return Note.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`Publishing note for ${meetingId} ${requesterUserId}`);
  return Note.find({
    meetingId
  });
}

function publish(...args) {
  const boundNote = note.bind(this);
  return boundNote(...args);
}

Meteor.publish('note', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/index.js                                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Note = new Mongo.Collection('note');

if (Meteor.isServer) {
  Note._ensureIndex({
    meetingId: 1,
    noteId: 1
  });
}

module.exportDefault(Note);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"ping-pong":{"server":{"methods":{"ping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/methods/ping.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => ping
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function ping() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const modifier = {
    $set: {
      lastPing: Date.now()
    }
  };

  try {
    Users.update(selector, modifier);
  } catch (err) {
    Logger.error(`Error updating lastPing for ${requesterUserId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/index.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./publishers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/methods.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let ping;
module.link("./methods/ping", {
  default(v) {
    ping = v;
  }

}, 1);
Meteor.methods({
  ping
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/publishers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
const COLLECTION_NAME = 'ping-pong';
const INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.clearUsersInSeconds * 1000;
const INTERVAL_TIME = INTERVAL_IN_SETTINGS < 10000 ? 10000 : INTERVAL_IN_SETTINGS;
const PONG_INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.pongTimeInSeconds * 1000;
const PONG_INTERVAL = PONG_INTERVAL_IN_SETTINGS >= INTERVAL_TIME / 2 ? INTERVAL_TIME / 2 : PONG_INTERVAL_IN_SETTINGS;

function pingPong() {
  if (!this.userId) {
    return; // TODO-- is there a more appropriate set to return?
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);

  const id = _.uniqueId('pong-');

  Logger.info(`Starting ping-pong publish for userId: ${requesterUserId}`);

  const pongSender = interval => {
    const payload = {
      pong: {
        message: 'pong',
        time: Date.now(),
        meetingId
      }
    };
    let fn = this.added.bind(this);
    if (interval) fn = this.changed.bind(this);
    fn(COLLECTION_NAME, id, payload);
  };

  pongSender();
  this.ready();
  const interval = Meteor.setInterval(() => pongSender(true), PONG_INTERVAL);
  this.onStop(() => {
    Meteor.clearInterval(interval);
  });
}

Meteor.publish('ping-pong', pingPong);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"polls":{"server":{"handlers":{"pollPublished.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollPublished.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollPublished
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePoll;
module.link("../modifiers/removePoll", {
  default(v) {
    removePoll = v;
  }

}, 1);
let setPublishedPoll;
module.link("../../../meetings/server/modifiers/setPublishedPoll", {
  default(v) {
    setPublishedPoll = v;
  }

}, 2);

function pollPublished({
  body
}, meetingId) {
  const {
    pollId
  } = body;
  check(meetingId, String);
  check(pollId, String);
  setPublishedPoll(meetingId, true);
  return removePoll(meetingId, pollId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pollStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollStarted.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollStarted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPoll;
module.link("../modifiers/addPoll", {
  default(v) {
    addPoll = v;
  }

}, 1);
let setPublishedPoll;
module.link("../../../meetings/server/modifiers/setPublishedPoll", {
  default(v) {
    setPublishedPoll = v;
  }

}, 2);

function pollStarted({
  body
}, meetingId) {
  const {
    userId
  } = body;
  const {
    poll
  } = body;
  check(meetingId, String);
  check(userId, String);
  check(poll, Object);
  setPublishedPoll(meetingId, false);
  return addPoll(meetingId, userId, poll);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pollStopped.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollStopped.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollStopped
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePoll;
module.link("../modifiers/removePoll", {
  default(v) {
    removePoll = v;
  }

}, 1);
let clearPolls;
module.link("../modifiers/clearPolls", {
  default(v) {
    clearPolls = v;
  }

}, 2);

function pollStopped({
  body
}, meetingId) {
  const {
    poll
  } = body;
  check(meetingId, String);

  if (poll) {
    const {
      pollId
    } = poll;
    check(pollId, String);
    return removePoll(meetingId, pollId);
  }

  return clearPolls(meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userResponded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/userResponded.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userResponded
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function userResponded({
  body
}) {
  const {
    pollId,
    userId,
    answerId
  } = body;
  check(pollId, String);
  check(userId, String);
  check(answerId, Number);
  const selector = {
    id: pollId
  };
  const modifier = {
    $pull: {
      users: userId
    },
    $push: {
      responses: {
        userId,
        answerId
      }
    }
  };

  try {
    const numberAffected = Polls.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updating Poll response (userId: ${userId}, response: ${answerId}, pollId: ${pollId})`);
    }
  } catch (err) {
    Logger.error(`Updating Poll responses: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userVoted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/userVoted.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userVoted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVotes;
module.link("../modifiers/updateVotes", {
  default(v) {
    updateVotes = v;
  }

}, 1);

function userVoted({
  body
}, meetingId) {
  const {
    poll
  } = body;
  check(meetingId, String);
  check(poll, {
    id: String,
    answers: [{
      id: Number,
      key: String,
      numVotes: Number
    }],
    numRespondents: Number,
    numResponders: Number
  });
  return updateVotes(poll, meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"publishPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/publishPoll.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function publishPoll() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ShowPollResultReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const poll = Polls.findOne({
    meetingId
  }); // TODO--send pollid from client

  if (!poll) {
    Logger.error(`Attempted to publish inexisting poll for meetingId: ${meetingId}`);
    return false;
  }

  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, {
    requesterId: requesterUserId,
    pollId: poll.id
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishVote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/publishVote.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishVote
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function publishVote(pollId, pollAnswerId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'RespondToPollReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(pollAnswerId, Number);
  check(pollId, String);
  const allowedToVote = Polls.findOne({
    id: pollId,
    users: {
      $in: [requesterUserId]
    }
  }, {
    fields: {
      users: 1
    }
  });

  if (!allowedToVote) {
    Logger.info(`Poll User={${requesterUserId}} has already voted in PollId={${pollId}}`);
    return null;
  }

  const selector = {
    users: requesterUserId,
    meetingId,
    'answers.id': pollAnswerId
  };
  const payload = {
    requesterId: requesterUserId,
    pollId,
    questionId: 0,
    answerId: pollAnswerId
  };
  /*
   We keep an array of people who were in the meeting at the time the poll
   was started. The poll is published to them only.
   Once they vote - their ID is removed and they cannot see the poll anymore
  */

  const modifier = {
    $pull: {
      users: requesterUserId
    }
  };

  try {
    const numberAffected = Polls.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Removed responded user=${requesterUserId} from poll (meetingId: ${meetingId}, pollId: ${pollId}!)`);
      RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
    }
  } catch (err) {
    Logger.error(`Removing responded user from Polls collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/startPoll.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function startPoll(pollType, pollId, answers) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  let EVENT_NAME = 'StartPollReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(pollId, String);
  check(pollType, String);
  const payload = {
    requesterId: requesterUserId,
    pollId: `${pollId}/${new Date().getTime()}`,
    pollType
  };

  if (pollType === 'custom') {
    EVENT_NAME = 'StartCustomPollReqMsg';
    check(answers, Array);
    payload.answers = answers;
  }

  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/stopPoll.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);

function stopPoll() {
  const {
    meetingId,
    requesterUserId: requesterId
  } = extractCredentials(this.userId);
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StopPollReqMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterId, {
    requesterId
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/addPoll.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPoll
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

function addPoll(meetingId, requesterId, poll) {
  check(requesterId, String);
  check(meetingId, String);
  check(poll, {
    id: String,
    answers: [{
      id: Number,
      key: String
    }]
  });
  const userSelector = {
    meetingId,
    userId: {
      $ne: requesterId
    },
    clientType: {
      $ne: 'dial-in-user'
    }
  };
  const userIds = Users.find(userSelector, {
    fields: {
      userId: 1
    }
  }).fetch().map(user => user.userId);
  const selector = {
    meetingId,
    requester: requesterId,
    id: poll.id
  };
  const modifier = Object.assign({
    meetingId
  }, {
    requester: requesterId
  }, {
    users: userIds
  }, flat(poll, {
    safe: true
  }));

  try {
    const {
      insertedId
    } = Polls.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added Poll id=${poll.id}`);
    } else {
      Logger.info(`Upserted Poll id=${poll.id}`);
    }
  } catch (err) {
    Logger.error(`Adding Poll to collection: ${poll.id}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPolls.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/clearPolls.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPolls
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPolls(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = Polls.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Polls (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing Polls (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Polls.remove({});

      if (numberAffected) {
        Logger.info('Cleared Polls (all)');
      }
    } catch (err) {
      Logger.info(`Error on clearing Polls (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/removePoll.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePoll
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function removePoll(meetingId, id) {
  check(meetingId, String);
  check(id, String);
  const selector = {
    meetingId,
    id
  };

  try {
    const numberAffected = Polls.remove(selector);

    if (numberAffected) {
      Logger.info(`Removed Poll id=${id}`);
    }
  } catch (err) {
    Logger.error(`Removing Poll from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateVotes.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/updateVotes.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateVotes
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function updateVotes(poll, meetingId) {
  check(meetingId, String);
  check(poll, Object);
  const {
    id,
    answers,
    numResponders,
    numRespondents
  } = poll;
  check(id, String);
  check(answers, Array);
  check(numResponders, Number);
  check(numRespondents, Number);
  const selector = {
    meetingId,
    id
  };
  const modifier = {
    $set: flat(poll, {
      safe: true
    })
  };

  try {
    const numberAffected = Polls.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updating Polls collection (meetingId: ${meetingId}, pollId: ${id}!)`);
    }
  } catch (err) {
    Logger.error(`Updating Polls collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/eventHandlers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handlePollStarted;
module.link("./handlers/pollStarted", {
  default(v) {
    handlePollStarted = v;
  }

}, 1);
let handlePollStopped;
module.link("./handlers/pollStopped", {
  default(v) {
    handlePollStopped = v;
  }

}, 2);
let handlePollPublished;
module.link("./handlers/pollPublished", {
  default(v) {
    handlePollPublished = v;
  }

}, 3);
let handleUserVoted;
module.link("./handlers/userVoted", {
  default(v) {
    handleUserVoted = v;
  }

}, 4);
let handleUserResponded;
module.link("./handlers/userResponded", {
  default(v) {
    handleUserResponded = v;
  }

}, 5);
RedisPubSub.on('PollShowResultEvtMsg', handlePollPublished);
RedisPubSub.on('PollStartedEvtMsg', handlePollStarted);
RedisPubSub.on('PollStoppedEvtMsg', handlePollStopped);
RedisPubSub.on('PollUpdatedEvtMsg', handleUserVoted);
RedisPubSub.on('UserRespondedToPollRespMsg', handleUserResponded);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/index.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let publishVote;
module.link("./methods/publishVote", {
  default(v) {
    publishVote = v;
  }

}, 1);
let publishPoll;
module.link("./methods/publishPoll", {
  default(v) {
    publishPoll = v;
  }

}, 2);
let startPoll;
module.link("./methods/startPoll", {
  default(v) {
    startPoll = v;
  }

}, 3);
let stopPoll;
module.link("./methods/stopPoll", {
  default(v) {
    stopPoll = v;
  }

}, 4);
Meteor.methods({
  publishVote,
  publishPoll,
  startPoll,
  stopPoll
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/publishers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function currentPoll() {
  if (!this.userId) {
    return Polls.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId
  };
  Logger.debug('Publishing poll', {
    meetingId
  });
  return Polls.find(selector);
}

function publishCurrentPoll(...args) {
  const boundPolls = currentPoll.bind(this);
  return boundPolls(...args);
}

Meteor.publish('current-poll', publishCurrentPoll);

function polls() {
  if (!this.userId) {
    return Polls.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing polls', {
    meetingId,
    requesterUserId
  });
  const selector = {
    meetingId,
    users: requesterUserId
  };
  return Polls.find(selector);
}

function publish(...args) {
  const boundPolls = polls.bind(this);
  return boundPolls(...args);
}

Meteor.publish('polls', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/index.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Polls = new Mongo.Collection('polls');

if (Meteor.isServer) {
  // We can have just one active poll per meeting
  // makes no sense to index it by anything other than meetingId
  Polls._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Polls);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentation-pods":{"server":{"handlers":{"createNewPresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/createNewPresentationPod.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleCreateNewPresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPresentationPod;
module.link("../modifiers/addPresentationPod", {
  default(v) {
    addPresentationPod = v;
  }

}, 1);

function handleCreateNewPresentationPod({
  body
}, meetingId) {
  check(body, {
    currentPresenterId: String,
    podId: String
  });
  check(meetingId, String);
  const {
    currentPresenterId,
    podId
  } = body;
  const pod = {
    currentPresenterId,
    podId
  };
  addPresentationPod(meetingId, pod);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/removePresentationPod.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRemovePresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePresentationPod;
module.link("../modifiers/removePresentationPod", {
  default(v) {
    removePresentationPod = v;
  }

}, 1);

function handleRemovePresentationPod({
  body
}, meetingId) {
  check(body, Object);
  check(meetingId, String);
  const {
    podId
  } = body;
  check(podId, String);
  removePresentationPod(meetingId, podId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresenterInPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/setPresenterInPod.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSetPresenterInPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setPresenterInPod;
module.link("../modifiers/setPresenterInPod", {
  default(v) {
    setPresenterInPod = v;
  }

}, 1);

function handleSetPresenterInPod({
  body
}, meetingId) {
  check(body, Object);
  const {
    podId,
    nextPresenterId
  } = body;
  check(podId, String);
  check(nextPresenterId, String);
  setPresenterInPod(meetingId, podId, nextPresenterId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"syncGetPresentationPods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/syncGetPresentationPods.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSyncGetPresentationPods
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let removePresentationPod;
module.link("../modifiers/removePresentationPod", {
  default(v) {
    removePresentationPod = v;
  }

}, 2);
let addPresentationPod;
module.link("../modifiers/addPresentationPod", {
  default(v) {
    addPresentationPod = v;
  }

}, 3);

function handleSyncGetPresentationPods({
  body
}, meetingId) {
  check(body, Object);
  check(meetingId, String);
  const {
    pods
  } = body;
  check(pods, Array);
  const presentationPodIds = pods.map(pod => pod.id);
  const presentationPodsToRemove = PresentationPods.find({
    meetingId,
    podId: {
      $nin: presentationPodIds
    }
  }, {
    fields: {
      podId: 1
    }
  }).fetch();
  presentationPodsToRemove.forEach(p => removePresentationPod(meetingId, p.podId));
  pods.forEach(pod => {
    // 'podId' and 'currentPresenterId' for some reason called 'id' and 'currentPresenter'
    // in this message
    const {
      id: podId,
      currentPresenter: currentPresenterId,
      presentations
    } = pod;
    addPresentationPod(meetingId, {
      podId,
      currentPresenterId
    }, presentations);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/addPresentationPod.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPresentationPod
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let addPresentation;
module.link("/imports/api/presentations/server/modifiers/addPresentation", {
  default(v) {
    addPresentation = v;
  }

}, 3);

function addPresentationPod(meetingId, pod, presentations = undefined) {
  check(meetingId, String);
  check(presentations, Match.Maybe(Array));
  check(pod, {
    currentPresenterId: String,
    podId: String
  });
  const {
    currentPresenterId,
    podId
  } = pod;
  const selector = {
    meetingId,
    podId
  };
  const modifier = {
    meetingId,
    podId,
    currentPresenterId
  };

  try {
    const {
      insertedId
    } = PresentationPods.upsert(selector, modifier); // if it's a Sync message - continue adding the attached presentations

    if (presentations) {
      presentations.forEach(presentation => addPresentation(meetingId, podId, presentation));
    }

    if (insertedId) {
      Logger.info(`Added presentation pod id=${podId} meeting=${meetingId}`);
    } else {
      Logger.info(`Upserted presentation pod id=${podId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding presentation pod to the collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPresentationPods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/clearPresentationPods.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentationPods
});
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let clearPresentations;
module.link("/imports/api/presentations/server/modifiers/clearPresentations", {
  default(v) {
    clearPresentations = v;
  }

}, 2);
let clearPresentationUploadToken;
module.link("/imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken", {
  default(v) {
    clearPresentationUploadToken = v;
  }

}, 3);

function clearPresentationPods(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = PresentationPods.remove({
        meetingId
      });

      if (numberAffected) {
        clearPresentations(meetingId);
        clearPresentationUploadToken(meetingId);
        Logger.info(`Cleared Presentations Pods (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing Presentations Pods (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = PresentationPods.remove({});

      if (numberAffected) {
        clearPresentations();
        clearPresentationUploadToken();
        Logger.info('Cleared Presentations Pods (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing Presentations Pods (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/removePresentationPod.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let clearPresentations;
module.link("/imports/api/presentations/server/modifiers/clearPresentations", {
  default(v) {
    clearPresentations = v;
  }

}, 3);
let clearPresentationUploadToken;
module.link("/imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken", {
  default(v) {
    clearPresentationUploadToken = v;
  }

}, 4);

function removePresentationPod(meetingId, podId) {
  check(meetingId, String);
  check(podId, String);
  const selector = {
    meetingId,
    podId
  };

  try {
    const numberAffected = PresentationPods.remove(selector);

    if (numberAffected && podId) {
      Logger.info(`Removed presentation pod id=${podId} meeting=${meetingId}`);
      clearPresentations(meetingId, podId);
      clearPresentationUploadToken(meetingId, podId);
    }
  } catch (err) {
    Logger.error(`Error on removing presentation pod from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresenterInPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/setPresenterInPod.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresenterInPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setPresenterInPod(meetingId, podId, nextPresenterId) {
  check(meetingId, String);
  check(podId, String);
  check(nextPresenterId, String);
  const selector = {
    meetingId,
    podId
  };
  const modifier = {
    $set: {
      currentPresenterId: nextPresenterId
    }
  };

  try {
    const {
      numberAffected
    } = PresentationPods.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Set a new presenter in pod id=${podId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Setting a presenter in pod: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/eventHandlers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleCreateNewPresentationPod;
module.link("./handlers/createNewPresentationPod", {
  default(v) {
    handleCreateNewPresentationPod = v;
  }

}, 1);
let handleRemovePresentationPod;
module.link("./handlers/removePresentationPod", {
  default(v) {
    handleRemovePresentationPod = v;
  }

}, 2);
let handleSyncGetPresentationPods;
module.link("./handlers/syncGetPresentationPods", {
  default(v) {
    handleSyncGetPresentationPods = v;
  }

}, 3);
let handleSetPresenterInPod;
module.link("./handlers/setPresenterInPod", {
  default(v) {
    handleSetPresenterInPod = v;
  }

}, 4);
RedisPubSub.on('CreateNewPresentationPodEvtMsg', handleCreateNewPresentationPod);
RedisPubSub.on('RemovePresentationPodEvtMsg', handleRemovePresentationPod);
RedisPubSub.on('SetPresenterInPodRespMsg', handleSetPresenterInPod);
RedisPubSub.on('SyncGetPresentationPodsRespMsg', handleSyncGetPresentationPods);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/index.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/methods.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/publishers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function presentationPods() {
  if (!this.userId) {
    return PresentationPods.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing presentation-pods', {
    meetingId,
    requesterUserId
  });
  return PresentationPods.find({
    meetingId
  });
}

function publish(...args) {
  const boundPresentationPods = presentationPods.bind(this);
  return boundPresentationPods(...args);
}

Meteor.publish('presentation-pods', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const PresentationPods = new Mongo.Collection('presentation-pods');

if (Meteor.isServer) {
  // types of queries for the presentation pods:
  // 1. meetingId, podId  ( 4 )
  PresentationPods._ensureIndex({
    meetingId: 1,
    podId: 1
  });
}

module.exportDefault(PresentationPods);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentation-upload-token":{"server":{"handlers":{"presentationUploadTokenFail.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/handlers/presentationUploadTokenFail.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationUploadTokenFail
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);

function handlePresentationUploadTokenFail({
  body,
  header
}, meetingId) {
  check(body, Object);
  const {
    userId
  } = header;
  const {
    podId,
    filename
  } = body;
  check(userId, String);
  check(podId, String);
  check(filename, String);
  const selector = {
    meetingId,
    userId,
    podId,
    filename
  };

  try {
    const {
      numberAffected
    } = PresentationUploadToken.upsert(selector, {
      failed: true,
      authzToken: null
    });

    if (numberAffected) {
      Logger.info(`Removing presentationToken filename=${filename} podId=${podId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Removing presentationToken from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationUploadTokenPass.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/handlers/presentationUploadTokenPass.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationUploadTokenPass
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);

function handlePresentationUploadTokenPass({
  body,
  header
}, meetingId) {
  check(body, Object);
  const {
    userId
  } = header;
  const {
    podId,
    authzToken,
    filename
  } = body;
  check(userId, String);
  check(podId, String);
  check(authzToken, String);
  check(filename, String);
  const selector = {
    meetingId,
    podId,
    userId,
    filename
  };
  const modifier = {
    meetingId,
    podId,
    userId,
    filename,
    authzToken,
    failed: false,
    used: false
  };

  try {
    const {
      insertedId
    } = PresentationUploadToken.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Inserting presentationToken filename=${filename} podId=${podId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Inserting presentationToken from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"requestPresentationUploadToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods/requestPresentationUploadToken.js                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => requestPresentationUploadToken
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function requestPresentationUploadToken(podId, filename) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'PresentationUploadTokenReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(podId, String);
  check(filename, String);
  const payload = {
    podId,
    filename
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUsedToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods/setUsedToken.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUsedToken
});
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setUsedToken(authzToken) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    $set: {
      used: true
    }
  };

  try {
    const numberAffected = PresentationUploadToken.update({
      meetingId,
      userId: requesterUserId,
      authzToken
    }, payload);

    if (numberAffected) {
      Logger.info(`Token: ${authzToken} has been set as used in meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Unable to set token as used : ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearPresentationUploadToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken.js                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentationUploadToken
});
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPresentationUploadToken(meetingId, podId) {
  if (meetingId && podId) {
    try {
      const numberAffected = PresentationUploadToken.remove({
        meetingId,
        podId
      });

      if (numberAffected) {
        Logger.info(`Cleared Presentations Upload Token (${meetingId}, ${podId})`);
        return true;
      }
    } catch (err) {
      Logger.info(`Error on clearing Presentations Upload Token (${meetingId}, ${podId}). ${err}`);
      return false;
    }
  }

  if (meetingId) {
    try {
      const numberAffected = PresentationUploadToken.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Presentations Upload Token (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing Presentations Upload Token (${meetingId}). ${err}`);
    }
  } else {
    try {
      // clearing presentations for the whole server
      const numberAffected = PresentationUploadToken.remove({});

      if (numberAffected) {
        Logger.info('Cleared Presentations Upload Token (all)');
      }
    } catch (err) {
      Logger.info(`Error on clearing Presentations Upload Token (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/eventHandlers.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handlePresentationUploadTokenPass;
module.link("./handlers/presentationUploadTokenPass", {
  default(v) {
    handlePresentationUploadTokenPass = v;
  }

}, 2);
let handlePresentationUploadTokenFail;
module.link("./handlers/presentationUploadTokenFail", {
  default(v) {
    handlePresentationUploadTokenFail = v;
  }

}, 3);
RedisPubSub.on('PresentationUploadTokenPassRespMsg', processForHTML5ServerOnly(handlePresentationUploadTokenPass));
RedisPubSub.on('PresentationUploadTokenFailRespMsg', processForHTML5ServerOnly(handlePresentationUploadTokenFail));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/index.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let requestPresentationUploadToken;
module.link("./methods/requestPresentationUploadToken", {
  default(v) {
    requestPresentationUploadToken = v;
  }

}, 1);
let setUsedToken;
module.link("./methods/setUsedToken", {
  default(v) {
    setUsedToken = v;
  }

}, 2);
Meteor.methods({
  requestPresentationUploadToken,
  setUsedToken
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/publishers.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function presentationUploadToken(podId, filename) {
  if (!this.userId) {
    return PresentationUploadToken.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(podId, String);
  check(filename, String);
  const selector = {
    meetingId,
    podId,
    userId: requesterUserId,
    filename
  };
  Logger.debug('Publishing PresentationUploadToken', {
    meetingId,
    requesterUserId
  });
  return PresentationUploadToken.find(selector);
}

function publish(...args) {
  const boundPresentationUploadToken = presentationUploadToken.bind(this);
  return boundPresentationUploadToken(...args);
}

Meteor.publish('presentation-upload-token', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/index.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
const PresentationUploadToken = new Mongo.Collection('presentation-upload-token');
module.exportDefault(PresentationUploadToken);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentations":{"server":{"handlers":{"presentationAdded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationAdded.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationAdded
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPresentation;
module.link("../modifiers/addPresentation", {
  default(v) {
    addPresentation = v;
  }

}, 1);

function handlePresentationAdded({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentation,
    podId
  } = body;
  check(meetingId, String);
  check(podId, String);
  check(presentation, Object);
  return addPresentation(meetingId, podId, presentation);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationConversionUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationConversionUpdate.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationConversionUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 2);
// const OFFICE_DOC_CONVERSION_SUCCESS_KEY = 'OFFICE_DOC_CONVERSION_SUCCESS';
const OFFICE_DOC_CONVERSION_FAILED_KEY = 'OFFICE_DOC_CONVERSION_FAILED';
const OFFICE_DOC_CONVERSION_INVALID_KEY = 'OFFICE_DOC_CONVERSION_INVALID';
const SUPPORTED_DOCUMENT_KEY = 'SUPPORTED_DOCUMENT';
const UNSUPPORTED_DOCUMENT_KEY = 'UNSUPPORTED_DOCUMENT';
const PAGE_COUNT_FAILED_KEY = 'PAGE_COUNT_FAILED';
const PAGE_COUNT_EXCEEDED_KEY = 'PAGE_COUNT_EXCEEDED';
const PDF_HAS_BIG_PAGE_KEY = 'PDF_HAS_BIG_PAGE';
const GENERATED_SLIDE_KEY = 'GENERATED_SLIDE'; // const GENERATING_THUMBNAIL_KEY = 'GENERATING_THUMBNAIL';
// const GENERATED_THUMBNAIL_KEY = 'GENERATED_THUMBNAIL';
// const GENERATING_TEXTFILES_KEY = 'GENERATING_TEXTFILES';
// const GENERATED_TEXTFILES_KEY = 'GENERATED_TEXTFILES';
// const GENERATING_SVGIMAGES_KEY = 'GENERATING_SVGIMAGES';
// const GENERATED_SVGIMAGES_KEY = 'GENERATED_SVGIMAGES';
// const CONVERSION_COMPLETED_KEY = 'CONVERSION_COMPLETED';

function handlePresentationConversionUpdate({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId,
    messageKey: status,
    presName: presentationName
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(status, String);
  const statusModifier = {
    'conversion.status': status,
    'conversion.error': false,
    'conversion.done': false
  };

  switch (status) {
    case SUPPORTED_DOCUMENT_KEY:
      statusModifier.id = presentationId;
      statusModifier.name = presentationName;
      break;

    case UNSUPPORTED_DOCUMENT_KEY:
    case OFFICE_DOC_CONVERSION_FAILED_KEY:
    case OFFICE_DOC_CONVERSION_INVALID_KEY:
    case PAGE_COUNT_FAILED_KEY:
    case PAGE_COUNT_EXCEEDED_KEY:
    case PDF_HAS_BIG_PAGE_KEY:
      statusModifier.id = presentationId;
      statusModifier.name = presentationName;
      statusModifier['conversion.error'] = true;
      break;

    case GENERATED_SLIDE_KEY:
      statusModifier['conversion.pagesCompleted'] = body.pagesCompleted;
      statusModifier['conversion.numPages'] = body.numberOfPages;
      break;

    default:
      break;
  }

  const selector = {
    meetingId,
    podId,
    id: presentationId
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      podId
    }, statusModifier)
  };

  try {
    const {
      insertedId
    } = Presentations.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Updated presentation conversion status=${status} id=${presentationId} meeting=${meetingId}`);
    } else {
      Logger.debug('Upserted presentation conversion', {
        status,
        presentationId,
        meetingId
      });
    }
  } catch (err) {
    Logger.error(`Updating conversion status presentation to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationCurrentSet.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationCurrentSet.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationCurrentSet
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setCurrentPresentation;
module.link("../modifiers/setCurrentPresentation", {
  default(v) {
    setCurrentPresentation = v;
  }

}, 1);

function handlePresentationCurrentSet({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  return setCurrentPresentation(meetingId, podId, presentationId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationDownloadableSet.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationDownloadableSet.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationDownloadableSet
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setPresentationDownloadable;
module.link("../modifiers/setPresentationDownloadable", {
  default(v) {
    setPresentationDownloadable = v;
  }

}, 1);

function handlePresentationDownloadableSet({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId,
    downloadable
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(downloadable, Boolean);
  return setPresentationDownloadable(meetingId, podId, presentationId, downloadable);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationRemove.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationRemove.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationRemove
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePresentation;
module.link("../modifiers/removePresentation", {
  default(v) {
    removePresentation = v;
  }

}, 1);

function handlePresentationRemove({
  body
}, meetingId) {
  const {
    podId,
    presentationId
  } = body;
  check(meetingId, String);
  check(podId, String);
  check(presentationId, String);
  return removePresentation(meetingId, podId, presentationId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"removePresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/removePresentation.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function removePresentation(presentationId, podId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'RemovePresentationPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(presentationId, String);
  check(podId, String);
  const payload = {
    presentationId,
    podId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/setPresentation.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setPresentation(presentationId, podId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetCurrentPresentationPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(presentationId, String);
  check(podId, String);
  const payload = {
    presentationId,
    podId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentationDownloadable.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/setPresentationDownloadable.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentationDownloadable
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setPresentationDownloadable(presentationId, downloadable) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetPresentationDownloadablePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(downloadable, Boolean);
  check(presentationId, String);
  const payload = {
    presentationId,
    podId: 'DEFAULT_PRESENTATION_POD',
    downloadable
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/addPresentation.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPresentation
});
let HTTP;
module.link("meteor/http", {
  HTTP(v) {
    HTTP = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 4);
let addSlide;
module.link("/imports/api/slides/server/modifiers/addSlide", {
  default(v) {
    addSlide = v;
  }

}, 5);
let setCurrentPresentation;
module.link("./setCurrentPresentation", {
  default(v) {
    setCurrentPresentation = v;
  }

}, 6);

const getSlideText = url => Promise.asyncApply(() => {
  let content = '';

  try {
    content = Promise.await(HTTP.get(url).content);
  } catch (error) {
    Logger.error(`No file found. ${error}`);
  }

  return content;
});

const addSlides = (meetingId, podId, presentationId, slides) => {
  slides.forEach(slide => Promise.asyncApply(() => {
    const content = Promise.await(getSlideText(slide.txtUri));
    Object.assign(slide, {
      content
    });
    addSlide(meetingId, podId, presentationId, slide);
  }));
};

function addPresentation(meetingId, podId, presentation) {
  check(meetingId, String);
  check(podId, String);
  check(presentation, {
    id: String,
    name: String,
    current: Boolean,
    pages: [{
      id: String,
      num: Number,
      thumbUri: String,
      swfUri: String,
      txtUri: String,
      svgUri: String,
      current: Boolean,
      xOffset: Number,
      yOffset: Number,
      widthRatio: Number,
      heightRatio: Number
    }],
    downloadable: Boolean
  });
  const selector = {
    meetingId,
    podId,
    id: presentation.id
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      podId,
      'conversion.done': true,
      'conversion.error': false
    }, flat(presentation, {
      safe: true
    }))
  };

  try {
    const {
      insertedId
    } = Presentations.upsert(selector, modifier);
    addSlides(meetingId, podId, presentation.id, presentation.pages);

    if (insertedId) {
      if (presentation.current) {
        setCurrentPresentation(meetingId, podId, presentation.id);
        Logger.info(`Added presentation id=${presentation.id} meeting=${meetingId}`);
      } else {
        Logger.info(`Upserted presentation id=${presentation.id} meeting=${meetingId}`);
      }
    }
  } catch (err) {
    Logger.error(`Adding presentation to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPresentations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/clearPresentations.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentations
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPresentations(meetingId, podId) {
  // clearing presentations for 1 pod
  if (meetingId && podId) {
    try {
      const numberAffected = Presentations.remove({
        meetingId,
        podId
      });

      if (numberAffected) {
        Logger.info(`Cleared Presentations (${meetingId}, ${podId})`);
        return true;
      }
    } catch (err) {
      Logger.error(`Error on cleaning Presentations (${meetingId}, ${podId}). ${err}`);
      return false;
    }
  } // clearing presentations for the whole meeting


  if (meetingId) {
    try {
      const numberAffected = Presentations.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Presentations (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on cleaning Presentations (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Presentations.remove({});

      if (numberAffected) {
        Logger.info('Cleared Presentations (all)');
      }
    } catch (err) {
      Logger.error(`Error on cleaning Presentations (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/removePresentation.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let clearSlidesPresentation;
module.link("/imports/api/slides/server/modifiers/clearSlidesPresentation", {
  default(v) {
    clearSlidesPresentation = v;
  }

}, 3);

function removePresentation(meetingId, podId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  const selector = {
    meetingId,
    podId,
    id: presentationId
  };

  try {
    const numberAffected = Presentations.remove(selector);

    if (numberAffected) {
      clearSlidesPresentation(meetingId, presentationId);
      Logger.info(`Removed presentation id=${presentationId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Removing presentation from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setCurrentPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/setCurrentPresentation.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setCurrentPresentation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setCurrentPresentation(meetingId, podId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  const oldCurrent = {
    selector: {
      meetingId,
      podId,
      current: true
    },
    modifier: {
      $set: {
        current: false
      }
    },
    callback: err => {
      if (err) {
        Logger.error(`Unsetting the current presentation: ${err}`);
        return;
      }

      Logger.info('Unsetted as current presentation');
      return;
    }
  };
  const newCurrent = {
    selector: {
      meetingId,
      podId,
      id: presentationId
    },
    modifier: {
      $set: {
        current: true
      }
    },
    callback: err => {
      if (err) {
        Logger.error(`Setting as current presentation id=${presentationId}: ${err}`);
        return;
      }

      Logger.info(`Setted as current presentation id=${presentationId}`);
      return;
    }
  };
  const oldPresentation = Presentations.findOne(oldCurrent.selector);
  const newPresentation = Presentations.findOne(newCurrent.selector); // Prevent bug with presentation being unset, same happens in the slide
  // See: https://github.com/bigbluebutton/bigbluebutton/pull/4431

  if (oldPresentation && newPresentation && oldPresentation._id === newPresentation._id) {
    return;
  }

  if (newPresentation) {
    Presentations.update(newPresentation._id, newCurrent.modifier, newCurrent.callback);
  }

  if (oldPresentation) {
    Presentations.update(oldPresentation._id, oldCurrent.modifier, oldCurrent.callback);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentationDownloadable.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/setPresentationDownloadable.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentationDownloadable
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setPresentationDownloadable(meetingId, podId, presentationId, downloadable) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(downloadable, Boolean);
  const selector = {
    meetingId,
    podId,
    id: presentationId
  };
  const modifier = {
    $set: {
      downloadable
    }
  };

  try {
    const {
      numberAffected
    } = Presentations.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Set downloadable status on presentation {${presentationId} in meeting {${meetingId}}`);
    }
  } catch (err) {
    Logger.error(`Could not set downloadable on pres {${presentationId} in meeting {${meetingId}} ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/eventHandlers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handlePresentationAdded;
module.link("./handlers/presentationAdded", {
  default(v) {
    handlePresentationAdded = v;
  }

}, 1);
let handlePresentationRemove;
module.link("./handlers/presentationRemove", {
  default(v) {
    handlePresentationRemove = v;
  }

}, 2);
let handlePresentationCurrentSet;
module.link("./handlers/presentationCurrentSet", {
  default(v) {
    handlePresentationCurrentSet = v;
  }

}, 3);
let handlePresentationConversionUpdate;
module.link("./handlers/presentationConversionUpdate", {
  default(v) {
    handlePresentationConversionUpdate = v;
  }

}, 4);
let handlePresentationDownloadableSet;
module.link("./handlers/presentationDownloadableSet", {
  default(v) {
    handlePresentationDownloadableSet = v;
  }

}, 5);
RedisPubSub.on('PdfConversionInvalidErrorEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationPageGeneratedEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationPageCountErrorEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationConversionUpdateEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationConversionCompletedEvtMsg', handlePresentationAdded);
RedisPubSub.on('RemovePresentationEvtMsg', handlePresentationRemove);
RedisPubSub.on('SetCurrentPresentationEvtMsg', handlePresentationCurrentSet);
RedisPubSub.on('SetPresentationDownloadableEvtMsg', handlePresentationDownloadableSet);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/index.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let removePresentation;
module.link("./methods/removePresentation", {
  default(v) {
    removePresentation = v;
  }

}, 1);
let setPresentation;
module.link("./methods/setPresentation", {
  default(v) {
    setPresentation = v;
  }

}, 2);
let setPresentationDownloadable;
module.link("./methods/setPresentationDownloadable", {
  default(v) {
    setPresentationDownloadable = v;
  }

}, 3);
Meteor.methods({
  removePresentation,
  setPresentation,
  setPresentationDownloadable
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/publishers.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function presentations() {
  if (!this.userId) {
    return Presentations.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Presentations', {
    meetingId,
    requesterUserId
  });
  return Presentations.find({
    meetingId
  });
}

function publish(...args) {
  const boundPresentations = presentations.bind(this);
  return boundPresentations(...args);
}

Meteor.publish('presentations', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Presentations = new Mongo.Collection('presentations');

if (Meteor.isServer) {
  // types of queries for the presentations:
  // 1. meetingId, podId, id        ( 3 )
  // 2. meetingId, id               ( 1 )
  // 3. meetingId, id, current      ( 2 )
  // 4. meetingId                   ( 1 )
  Presentations._ensureIndex({
    meetingId: 1,
    podId: 1,
    id: 1
  });
}

module.exportDefault(Presentations);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"screenshare":{"server":{"handlers":{"screenshareStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/handlers/screenshareStarted.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleScreenshareStarted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let addScreenshare;
module.link("../modifiers/addScreenshare", {
  default(v) {
    addScreenshare = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 5);

function handleScreenshareStarted({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  const meeting = Meetings.findOne({
    meetingId
  });
  const presenter = Users.findOne({
    meetingId,
    presenter: true
  });
  const presenterId = presenter && presenter.userId ? presenter.userId : 'system-screenshare-starting';

  if (meeting && meeting.externalVideoUrl) {
    Logger.info(`ScreenshareStarted: There is external video being shared. Stopping it due to presenter change, ${meeting.externalVideoUrl}`);
    stopWatchingExternalVideo({
      meetingId,
      requesterUserId: presenterId
    });
  }

  return addScreenshare(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"screenshareStopped.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/handlers/screenshareStopped.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleScreenshareStopped
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearScreenshare;
module.link("../modifiers/clearScreenshare", {
  default(v) {
    clearScreenshare = v;
  }

}, 1);

function handleScreenshareStopped({
  body
}, meetingId) {
  const {
    screenshareConf
  } = body;
  check(meetingId, String);
  check(screenshareConf, String);
  return clearScreenshare(meetingId, screenshareConf);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addScreenshare.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/modifiers/addScreenshare.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addScreenshare
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 3);

function addScreenshare(meetingId, body) {
  check(meetingId, String);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      meetingId,
      screenshare: flat(body)
    }
  };

  try {
    const {
      numberAffected
    } = Screenshare.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Upserted screenshare id=${body.screenshareConf}`);
    }
  } catch (err) {
    Logger.error(`Adding screenshare to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearScreenshare.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/modifiers/clearScreenshare.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearScreenshare
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 1);

function clearScreenshare(meetingId, screenshareConf) {
  try {
    let numberAffected;

    if (meetingId && screenshareConf) {
      numberAffected = Screenshare.remove({
        meetingId,
        'screenshare.screenshareConf': screenshareConf
      });
    } else if (meetingId) {
      numberAffected = Screenshare.remove({
        meetingId
      });
    } else {
      numberAffected = Screenshare.remove({});
    }

    if (numberAffected) {
      Logger.info(`removed screenshare meetingId=${meetingId} id=${screenshareConf}`);
    }
  } catch (err) {
    Logger.error(`removing screenshare to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleScreenshareStarted;
module.link("./handlers/screenshareStarted", {
  default(v) {
    handleScreenshareStarted = v;
  }

}, 1);
let handleScreenshareStopped;
module.link("./handlers/screenshareStopped", {
  default(v) {
    handleScreenshareStopped = v;
  }

}, 2);
RedisPubSub.on('ScreenshareRtmpBroadcastStartedEvtMsg', handleScreenshareStarted);
RedisPubSub.on('ScreenshareRtmpBroadcastStoppedEvtMsg', handleScreenshareStopped);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
Meteor.methods({});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function screenshare() {
  if (!this.userId) {
    return Screenshare.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Screenshare', {
    meetingId,
    requesterUserId
  });
  return Screenshare.find({
    meetingId
  });
}

function publish(...args) {
  const boundScreenshare = screenshare.bind(this);
  return boundScreenshare(...args);
}

Meteor.publish('screenshare', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Screenshare = new Mongo.Collection('screenshare');

if (Meteor.isServer) {
  // types of queries for the screenshare:
  // 1. meetingId
  Screenshare._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Screenshare);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"slides":{"server":{"handlers":{"slideChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/handlers/slideChange.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSlideChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let changeCurrentSlide;
module.link("../modifiers/changeCurrentSlide", {
  default(v) {
    changeCurrentSlide = v;
  }

}, 1);

function handleSlideChange({
  body
}, meetingId) {
  const {
    pageId,
    presentationId,
    podId
  } = body;
  check(pageId, String);
  check(presentationId, String);
  check(podId, String);
  return changeCurrentSlide(meetingId, podId, presentationId, pageId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"slideResize.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/handlers/slideResize.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSlideResize
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let resizeSlide;
module.link("../modifiers/resizeSlide", {
  default(v) {
    resizeSlide = v;
  }

}, 1);

function handleSlideResize({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  return resizeSlide(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"switchSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods/switchSlide.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => switchSlide
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function switchSlide(slideNumber, podId) {
  // TODO-- send presentationId and SlideId
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetCurrentPagePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(slideNumber, Number);
  const selector = {
    meetingId,
    podId,
    current: true
  };
  const Presentation = Presentations.findOne(selector);

  if (!Presentation) {
    throw new Meteor.Error('presentation-not-found', 'You need a presentation to be able to switch slides');
  }

  const Slide = Slides.findOne({
    meetingId,
    podId,
    presentationId: Presentation.id,
    num: slideNumber
  });

  if (!Slide) {
    throw new Meteor.Error('slide-not-found', `Slide number ${slideNumber} not found in the current presentation`);
  }

  const payload = {
    podId,
    presentationId: Presentation.id,
    pageId: Slide.id
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zoomSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods/zoomSlide.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => zoomSlide
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function zoomSlide(slideNumber, podId, widthRatio, heightRatio, x, y) {
  // TODO-- send presentationId and SlideId
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ResizeAndMovePagePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    podId,
    current: true
  };
  const Presentation = Presentations.findOne(selector);

  if (!Presentation) {
    throw new Meteor.Error('presentation-not-found', 'You need a presentation to be able to switch slides');
  }

  const Slide = Slides.findOne({
    meetingId,
    podId,
    presentationId: Presentation.id,
    num: slideNumber
  });

  if (!Slide) {
    throw new Meteor.Error('slide-not-found', `Slide number ${slideNumber} not found in the current presentation`);
  }

  const payload = {
    podId,
    presentationId: Presentation.id,
    pageId: Slide.id,
    xOffset: x,
    yOffset: y,
    widthRatio,
    heightRatio
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/addSlide.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

module.export({
  default: () => addSlide
});
let probe;
module.link("probe-image-size", {
  default(v) {
    probe = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 5);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 6);
let SVG, PNG;
module.link("/imports/utils/mimeTypes", {
  SVG(v) {
    SVG = v;
  },

  PNG(v) {
    PNG = v;
  }

}, 7);
let calculateSlideData;
module.link("/imports/api/slides/server/helpers", {
  default(v) {
    calculateSlideData = v;
  }

}, 8);
let addSlidePositions;
module.link("./addSlidePositions", {
  default(v) {
    addSlidePositions = v;
  }

}, 9);
const loadSlidesFromHttpAlways = Meteor.settings.private.app.loadSlidesFromHttpAlways || false;

const requestWhiteboardHistory = (meetingId, slideId) => {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'GetWhiteboardAnnotationsReqMsg';
  const USER_ID = 'nodeJSapp';
  const payload = {
    whiteboardId: slideId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, USER_ID, payload);
};

const SUPPORTED_TYPES = [SVG, PNG];

const fetchImageSizes = imageUri => probe(imageUri).then(result => {
  if (!SUPPORTED_TYPES.includes(result.mime)) {
    throw new Meteor.Error('invalid-image-type', `received ${result.mime} expecting ${SUPPORTED_TYPES.join()}`);
  }

  return {
    width: result.width,
    height: result.height
  };
}).catch(reason => {
  Logger.error(`Error parsing image size. ${reason}. uri=${imageUri}`);
  return reason;
});

function addSlide(meetingId, podId, presentationId, slide) {
  check(podId, String);
  check(presentationId, String);
  check(slide, {
    id: String,
    num: Number,
    thumbUri: String,
    swfUri: String,
    txtUri: String,
    svgUri: String,
    current: Boolean,
    xOffset: Number,
    yOffset: Number,
    widthRatio: Number,
    heightRatio: Number,
    content: String
  });
  const {
    id: slideId,
    xOffset,
    yOffset,
    widthRatio,
    heightRatio
  } = slide,
        restSlide = (0, _objectWithoutProperties2.default)(slide, ["id", "xOffset", "yOffset", "widthRatio", "heightRatio"]);
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: slideId
  };
  const imageUri = slide.svgUri || slide.pngUri;
  const modifier = {
    $set: Object.assign({
      meetingId
    }, {
      podId
    }, {
      presentationId
    }, {
      id: slideId
    }, {
      imageUri
    }, flat(restSlide), {
      safe: true
    })
  };
  const imageSizeUri = loadSlidesFromHttpAlways ? imageUri.replace(/^https/i, 'http') : imageUri;
  return fetchImageSizes(imageSizeUri).then(({
    width,
    height
  }) => {
    // there is a rare case when for a very long not-active meeting the presentation
    // files just disappear and width/height can't be retrieved
    if (width && height) {
      // pre-calculating the width, height, and vieBox coordinates / dimensions
      // to unload the client-side
      const slideData = {
        width,
        height,
        xOffset,
        yOffset,
        widthRatio,
        heightRatio
      };
      const slidePosition = calculateSlideData(slideData);
      addSlidePositions(meetingId, podId, presentationId, slideId, slidePosition);
    }

    try {
      const {
        insertedId,
        numberAffected
      } = Slides.upsert(selector, modifier);
      requestWhiteboardHistory(meetingId, slideId);

      if (insertedId) {
        Logger.info(`Added slide id=${slideId} pod=${podId} presentation=${presentationId}`);
      } else if (numberAffected) {
        Logger.info(`Upserted slide id=${slideId} pod=${podId} presentation=${presentationId}`);
      }
    } catch (err) {
      Logger.error(`Error on adding slide to collection: ${err}`);
    }
  }).catch(reason => Logger.error(`Error parsing image size. ${reason}. slide=${slideId} uri=${imageUri}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addSlidePositions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/addSlidePositions.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addSlidePositions
});
let SlidePositions;
module.link("/imports/api/slides", {
  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function addSlidePositions(meetingId, podId, presentationId, slideId, slidePosition) {
  check(meetingId, String);
  check(podId, String);
  check(presentationId, String);
  check(slideId, String);
  check(slidePosition, {
    width: Number,
    height: Number,
    x: Number,
    y: Number,
    viewBoxWidth: Number,
    viewBoxHeight: Number
  });
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: slideId
  };
  const modifier = {
    $set: Object.assign({
      meetingId
    }, {
      podId
    }, {
      presentationId
    }, {
      id: slideId
    }, flat(slidePosition), {
      safe: true
    })
  };

  try {
    const {
      insertedId
    } = SlidePositions.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added slide position id=${slideId} pod=${podId} presentation=${presentationId}`);
    } else {
      Logger.info(`Upserted slide position id=${slideId} pod=${podId} presentation=${presentationId}`);
    }
  } catch (err) {
    Logger.error(`Adding slide position to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeCurrentSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/changeCurrentSlide.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeCurrentSlide
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function changeCurrentSlide(meetingId, podId, presentationId, slideId) {
  check(meetingId, String);
  check(presentationId, String);
  check(slideId, String);
  check(podId, String);
  const oldCurrent = {
    selector: {
      meetingId,
      podId,
      presentationId,
      current: true
    },
    modifier: {
      $set: {
        current: false
      }
    },
    callback: err => {
      if (err) {
        Logger.error(`Unsetting the current slide: ${err}`);
        return;
      }

      Logger.info('Unsetted the current slide');
      return;
    }
  };
  const newCurrent = {
    selector: {
      meetingId,
      podId,
      presentationId,
      id: slideId
    },
    modifier: {
      $set: {
        current: true
      }
    },
    callback: err => {
      if (err) {
        Logger.error(`Setting as current slide id=${slideId}: ${err}`);
        return;
      }

      Logger.info(`Setted as current slide id=${slideId}`);
      return;
    }
  };
  const oldSlide = Slides.findOne(oldCurrent.selector);
  const newSlide = Slides.findOne(newCurrent.selector); // if the oldCurrent and newCurrent have the same ids

  if (oldSlide && newSlide && oldSlide._id === newSlide._id) {
    return;
  }

  if (newSlide) {
    Slides.update(newSlide._id, newCurrent.modifier, newCurrent.callback);
  }

  if (oldSlide) {
    Slides.update(oldSlide._id, oldCurrent.modifier, oldCurrent.callback);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearSlides.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/clearSlides.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearSlides
});
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearSlides(meetingId) {
  if (meetingId) {
    try {
      const numberAffectedSlidePositions = SlidePositions.remove({
        meetingId
      });
      const numberAffected = Slides.remove({
        meetingId
      });

      if (numberAffectedSlidePositions) {
        Logger.info(`Cleared SlidePositions (${meetingId})`);
      }

      if (numberAffected) {
        Logger.info(`Cleared Slides (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on cleaning Slides (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffectedSlidePositions = SlidePositions.remove({
        meetingId
      });
      const numberAffected = Slides.remove({
        meetingId
      });

      if (numberAffectedSlidePositions) {
        Logger.info(`Cleared SlidePositions (${meetingId})`);
      }

      if (numberAffected) {
        Logger.info('Cleared Slides (all)');
      }
    } catch (err) {
      Logger.error(`Error on cleaning Slides (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearSlidesPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/clearSlidesPresentation.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearSlidesPresentation
});
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let clearAnnotations;
module.link("/imports/api/annotations/server/modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 3);

function clearSlidesPresentation(meetingId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  const selector = {
    meetingId,
    presentationId
  };
  const whiteboardIds = Slides.find(selector, {
    fields: {
      id: 1
    }
  }).map(row => row.id);

  try {
    SlidePositions.remove(selector);
    const numberAffected = Slides.remove(selector);

    if (numberAffected) {
      whiteboardIds.forEach(whiteboardId => clearAnnotations(meetingId, whiteboardId));
      Logger.info(`Removed Slides where presentationId=${presentationId}`);
    }
  } catch (err) {
    Logger.error(`Removing Slides from collection: ${err}`);
    return;
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"resizeSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/resizeSlide.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => resizeSlide
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let SlidePositions;
module.link("/imports/api/slides", {
  SlidePositions(v) {
    SlidePositions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let calculateSlideData;
module.link("/imports/api/slides/server/helpers", {
  default(v) {
    calculateSlideData = v;
  }

}, 3);

function resizeSlide(meetingId, slide) {
  check(meetingId, String);
  const {
    podId,
    presentationId,
    pageId,
    widthRatio,
    heightRatio,
    xOffset,
    yOffset
  } = slide;
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: pageId
  }; // fetching the current slide data
  // and pre-calculating the width, height, and vieBox coordinates / sizes
  // to reduce the client-side load

  const SlidePosition = SlidePositions.findOne(selector);

  if (SlidePosition) {
    const {
      width,
      height
    } = SlidePosition;
    const slideData = {
      width,
      height,
      xOffset,
      yOffset,
      widthRatio,
      heightRatio
    };
    const calculatedData = calculateSlideData(slideData);
    const modifier = {
      $set: calculatedData
    };

    try {
      const numberAffected = SlidePositions.update(selector, modifier);

      if (numberAffected) {
        Logger.debug(`Resized slide positions id=${pageId}`);
      } else {
        Logger.info(`No slide positions found with id=${pageId}`);
      }
    } catch (err) {
      Logger.error(`Resizing slide positions id=${pageId}: ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/eventHandlers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleSlideResize;
module.link("./handlers/slideResize", {
  default(v) {
    handleSlideResize = v;
  }

}, 1);
let handleSlideChange;
module.link("./handlers/slideChange", {
  default(v) {
    handleSlideChange = v;
  }

}, 2);
RedisPubSub.on('ResizeAndMovePageEvtMsg', handleSlideResize);
RedisPubSub.on('SetCurrentPageEvtMsg', handleSlideChange);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/helpers.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
const calculateSlideData = slideData => {
  const {
    width,
    height,
    xOffset,
    yOffset,
    widthRatio,
    heightRatio
  } = slideData; // calculating viewBox and offsets for the current presentation

  return {
    width,
    height,
    x: -xOffset * 2 * width / 100,
    y: -yOffset * 2 * height / 100,
    viewBoxWidth: width * widthRatio / 100,
    viewBoxHeight: height * heightRatio / 100
  };
};

module.exportDefault(calculateSlideData);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let switchSlide;
module.link("./methods/switchSlide", {
  default(v) {
    switchSlide = v;
  }

}, 1);
let zoomSlide;
module.link("./methods/zoomSlide", {
  default(v) {
    zoomSlide = v;
  }

}, 2);
Meteor.methods({
  switchSlide,
  zoomSlide
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/publishers.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function slides() {
  if (!this.userId) {
    return Slides.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Slides', {
    meetingId,
    requesterUserId
  });
  return Slides.find({
    meetingId
  });
}

function publish(...args) {
  const boundSlides = slides.bind(this);
  return boundSlides(...args);
}

Meteor.publish('slides', publish);

function slidePositions() {
  if (!this.userId) {
    return SlidePositions.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing SlidePositions', {
    meetingId,
    requesterUserId
  });
  return SlidePositions.find({
    meetingId
  });
}

function publishPositions(...args) {
  const boundSlidePositions = slidePositions.bind(this);
  return boundSlidePositions(...args);
}

Meteor.publish('slide-positions', publishPositions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/index.js                                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  Slides: () => Slides,
  SlidePositions: () => SlidePositions
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Slides = new Mongo.Collection('slides');
const SlidePositions = new Mongo.Collection('slide-positions');

if (Meteor.isServer) {
  // types of queries for the slides:
  // 1. meetingId                                  ( 1 )
  // 2. meetingId, podId                           ( 1 )
  // 3. meetingId, presentationId                  ( 1 )
  // 3. meetingId, presentationId, num             ( 1 )
  // 4. meetingId, podId, presentationId, id       ( 3 ) - incl. resizeSlide, which can be intense
  // 5. meetingId, podId, presentationId, current  ( 1 )
  Slides._ensureIndex({
    meetingId: 1,
    podId: 1,
    presentationId: 1,
    id: 1
  });

  SlidePositions._ensureIndex({
    meetingId: 1,
    podId: 1,
    presentationId: 1,
    id: 1
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users":{"server":{"handlers":{"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/changeRole.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleChangeRole
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let changeRole;
module.link("/imports/api/users/server/modifiers/changeRole", {
  default(v) {
    changeRole = v;
  }

}, 1);

function handleChangeRole(payload, meetingId) {
  check(payload.body, Object);
  check(meetingId, String);
  const {
    userId,
    role,
    changedBy
  } = payload.body;
  changeRole(role, userId, meetingId, changedBy);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"emojiStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/emojiStatus.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleEmojiStatus
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);

function handleEmojiStatus({
  body
}, meetingId) {
  const {
    userId,
    emoji
  } = body;
  check(userId, String);
  check(emoji, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      emojiTime: new Date().getTime(),
      emoji
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Assigned user emoji status ${emoji} id=${userId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Assigning user emoji status: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/getUsers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetUsers
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users/", {
  default(v) {
    Users = v;
  }

}, 1);
let addUser;
module.link("../modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 2);
let removeUser;
module.link("../modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 3);

function handleGetUsers({
  body
}, meetingId) {
  const {
    users
  } = body;
  check(meetingId, String);
  check(users, Array);
  const usersIds = users.map(m => m.intId);
  const usersToRemove = Users.find({
    meetingId,
    userId: {
      $nin: usersIds
    }
  }, {
    fields: {
      userId: 1
    }
  }).fetch();
  usersToRemove.forEach(user => removeUser(meetingId, user.userId));
  const usersAdded = [];
  users.forEach(user => {
    usersAdded.push(addUser(meetingId, user));
  });
  return usersAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presenterAssigned.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/presenterAssigned.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresenterAssigned
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let changePresenter;
module.link("/imports/api/users/server/modifiers/changePresenter", {
  default(v) {
    changePresenter = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);

function setPresenterInPodReqMsg(credentials) {
  // TODO-- switch to meetingId, etc
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetPresenterInPodReqMsg';
  const {
    meetingId,
    requesterUserId,
    presenterId
  } = credentials;
  const payload = {
    podId: 'DEFAULT_PRESENTATION_POD',
    nextPresenterId: presenterId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}

function handlePresenterAssigned({
  body
}, meetingId) {
  const {
    presenterId,
    assignedBy
  } = body;
  changePresenter(true, presenterId, meetingId, assignedBy);
  const selector = {
    meetingId,
    userId: {
      $ne: presenterId
    },
    presenter: true
  };
  const prevPresenter = Users.findOne(selector); // no previous presenters
  // The below code is responsible for set Meeting presenter to be default pod presenter as well.
  // It's been handled here because right now akka-apps don't handle all cases scenarios.

  if (!prevPresenter) {
    const setPresenterPayload = {
      meetingId,
      requesterUserId: assignedBy,
      presenterId
    };
    const defaultPodSelector = {
      meetingId,
      podId: 'DEFAULT_PRESENTATION_POD'
    };
    const currentDefaultPodPresenter = PresentationPods.findOne(defaultPodSelector);
    const {
      currentPresenterId
    } = currentDefaultPodPresenter;

    if (currentPresenterId === '') {
      return setPresenterInPodReqMsg(setPresenterPayload);
    }

    const oldPresenter = Users.findOne({
      meetingId,
      userId: currentPresenterId,
      connectionStatus: 'offline'
    });

    if (oldPresenter) {
      return setPresenterInPodReqMsg(setPresenterPayload);
    }

    return true;
  }

  changePresenter(false, prevPresenter.userId, meetingId, assignedBy);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/removeUser.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRemoveUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removeUser;
module.link("../modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 1);

function handleRemoveUser({
  body
}, meetingId) {
  const {
    intId
  } = body;
  check(meetingId, String);
  check(intId, String);
  return removeUser(meetingId, intId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userEjected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userEjected.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleEjectedUser
});
let userEjected;
module.link("../modifiers/userEjected", {
  default(v) {
    userEjected = v;
  }

}, 0);

function handleEjectedUser({
  header,
  body
}) {
  const {
    meetingId,
    userId
  } = header;
  const {
    reasonCode
  } = body;
  userEjected(meetingId, userId, reasonCode);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userInactivityInspect.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userInactivityInspect.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserInactivityInspect
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let userInactivityInspect;
module.link("../modifiers/userInactivityInspect", {
  default(v) {
    userInactivityInspect = v;
  }

}, 1);

function handleUserInactivityInspect({
  header,
  body
}, meetingId) {
  const {
    userId
  } = header;
  const {
    responseDelay
  } = body;
  check(userId, String);
  check(responseDelay, Match.Integer);
  check(meetingId, String);
  userInactivityInspect(userId, responseDelay);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userJoin.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userJoin.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userJoin
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);

function userJoin(meetingId, userId, authToken) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserJoinMeetingReqMsg';
  check(authToken, String);
  const payload = {
    userId,
    authToken,
    clientType: 'HTML5'
  };
  Logger.info(`User='${userId}' is joining meeting='${meetingId}' authToken='${authToken}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userJoined.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userJoined.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserJoined
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUser;
module.link("../modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 1);

function handleUserJoined({
  body
}, meetingId) {
  const user = body;
  check(user, Object);
  addUser(meetingId, user);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"validateAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/validateAuthToken.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleValidateAuthToken
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let userJoin;
module.link("./userJoin", {
  default(v) {
    userJoin = v;
  }

}, 3);
let pendingAuthenticationsStore;
module.link("../store/pendingAuthentications", {
  default(v) {
    pendingAuthenticationsStore = v;
  }

}, 4);
let createDummyUser;
module.link("../modifiers/createDummyUser", {
  default(v) {
    createDummyUser = v;
  }

}, 5);
let setConnectionIdAndAuthToken;
module.link("../modifiers/setConnectionIdAndAuthToken", {
  default(v) {
    setConnectionIdAndAuthToken = v;
  }

}, 6);

const clearOtherSessions = (sessionUserId, current = false) => {
  const serverSessions = Meteor.server.sessions;
  Object.keys(serverSessions).filter(i => serverSessions[i].userId === sessionUserId).filter(i => i !== current).forEach(i => serverSessions[i].close());
};

function handleValidateAuthToken({
  body
}, meetingId) {
  const {
    userId,
    valid,
    authToken,
    waitForApproval
  } = body;
  check(userId, String);
  check(authToken, String);
  check(valid, Boolean);
  check(waitForApproval, Boolean);
  const pendingAuths = pendingAuthenticationsStore.take(meetingId, userId, authToken);

  if (!valid) {
    pendingAuths.forEach(pendingAuth => {
      try {
        const {
          methodInvocationObject
        } = pendingAuth;
        const connectionId = methodInvocationObject.connection.id; // Schedule socket disconnection for this user, giving some time for client receiving the reason of disconnection

        Meteor.setTimeout(() => {
          methodInvocationObject.connection.close();
        }, 2000);
        Logger.info(`Closed connection ${connectionId} due to invalid auth token.`);
      } catch (e) {
        Logger.error(`Error closing socket for meetingId '${meetingId}', userId '${userId}', authToken ${authToken}`);
      }
    });
    return;
  }

  if (valid) {
    // Define user ID on connections
    pendingAuths.forEach(pendingAuth => {
      const {
        methodInvocationObject
      } = pendingAuth;
      /* Logic migrated from validateAuthToken method ( postponed to only run in case of success response ) - Begin */

      const sessionId = `${meetingId}--${userId}`;
      methodInvocationObject.setUserId(sessionId);
      const User = Users.findOne({
        meetingId,
        userId
      });

      if (!User) {
        createDummyUser(meetingId, userId, authToken);
      }

      setConnectionIdAndAuthToken(meetingId, userId, methodInvocationObject.connection.id, authToken);
      /* End of logic migrated from validateAuthToken */
    });
  }

  const selector = {
    meetingId,
    userId,
    clientType: 'HTML5'
  };
  const User = Users.findOne(selector); // If we dont find the user on our collection is a flash user and we can skip

  if (!User) return; // Publish user join message

  if (valid && !waitForApproval) {
    Logger.info('User=', User);
    userJoin(meetingId, userId, User.authToken);
  }

  const modifier = {
    $set: {
      validated: valid,
      approved: !waitForApproval,
      loginTime: Date.now(),
      inactivityCheck: false
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      if (valid) {
        const sessionUserId = `${meetingId}-${userId}`;
        const currentConnectionId = User.connectionId ? User.connectionId : false;
        clearOtherSessions(sessionUserId, currentConnectionId);
      }

      Logger.info(`Validated auth token as ${valid} user=${userId} meeting=${meetingId}`);
    } else {
      Logger.info('No auth to validate');
    }
  } catch (err) {
    Logger.error(`Validating auth token: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"assignPresenter.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/assignPresenter.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => assignPresenter
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function assignPresenter(userId) {
  // TODO-- send username from client side
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'AssignPresenterReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const User = Users.findOne({
    meetingId,
    userId
  });

  if (!User) {
    throw new Meteor.Error('user-not-found', 'You need a valid user to be able to set presenter');
  }

  const payload = {
    newPresenterId: userId,
    newPresenterName: User.name,
    assignedBy: requesterUserId,
    requesterId: requesterUserId
  };
  Logger.verbose('User set as presenter', {
    userId,
    meetingId,
    setBy: requesterUserId
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/changeRole.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeRole
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function changeRole(userId, role) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserRoleCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  check(role, String);
  const payload = {
    userId,
    role,
    changedBy: requesterUserId
  };
  Logger.verbose('Changed user role', {
    userId,
    role,
    changedBy: requesterUserId,
    meetingId
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/removeUser.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let BannedUsers;
module.link("/imports/api/users/server/store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 5);

function removeUser(userId, banUser) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EjectUserFromMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId: ejectedBy
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    userId,
    ejectedBy,
    banUser
  };
  const removedUser = Users.findOne({
    meetingId,
    userId
  }, {
    extId: 1
  });
  if (banUser && removedUser) BannedUsers.add(meetingId, removedUser.extId);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, ejectedBy, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setEmojiStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/setEmojiStatus.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setEmojiStatus
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function setEmojiStatus(userId, status) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserEmojiCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    emoji: status,
    userId
  };
  Logger.verbose('User emoji status updated', {
    userId,
    status,
    requesterUserId,
    meetingId
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUserEffectiveConnectionType.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/setUserEffectiveConnectionType.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUserEffectiveConnectionType
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
let setEffectiveConnectionType;
module.link("../modifiers/setUserEffectiveConnectionType", {
  default(v) {
    setEffectiveConnectionType = v;
  }

}, 5);

function setUserEffectiveConnectionType(effectiveConnectionType) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserEffectiveConnectionMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(effectiveConnectionType, String);
  const payload = {
    meetingId,
    userId: requesterUserId,
    effectiveConnectionType
  };
  setEffectiveConnectionType(meetingId, requesterUserId, effectiveConnectionType);
  Logger.verbose('Updated user effective connection', {
    requesterUserId,
    effectiveConnectionType
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleUserLock.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/toggleUserLock.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleUserLock
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function toggleUserLock(userId, lock) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'LockUserInMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId: lockedBy
  } = extractCredentials(this.userId);
  check(lockedBy, String);
  check(userId, String);
  check(lock, Boolean);
  const payload = {
    lockedBy,
    userId,
    lock
  };
  Logger.verbose('Updated lock status for user', {
    meetingId,
    userId,
    lock,
    lockedBy
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, lockedBy, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userActivitySign.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userActivitySign.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userActivitySign
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userActivitySign() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserActivitySignCmdMsg';
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const payload = {
    userId
  };
  const selector = {
    userId
  };
  const modifier = {
    $set: {
      inactivityCheck: false
    }
  };
  Users.update(selector, modifier); // TODO-- we should move this to a modifier

  Logger.info(`User ${userId} sent a activity sign for meeting ${meetingId}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLeaving.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userLeaving.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userLeaving
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);

function userLeaving(meetingId, userId, connectionId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserLeaveReqMsg';
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };
  const User = Users.findOne(selector);

  if (!User) {
    Logger.info(`Skipping userLeaving. Could not find ${userId} in ${meetingId}`);
    return;
  } // If the current user connection is not the same that triggered the leave we skip


  if (User.connectionId !== connectionId) {
    Logger.info(`Skipping userLeaving. User connectionId=${User.connectionId} is different from requester connectionId=${connectionId}`);
    return false;
  }

  const payload = {
    userId,
    sessionId: meetingId
  };
  Logger.info(`User '${userId}' is leaving meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLeftMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userLeftMeeting.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userLeftMeeting
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function userLeftMeeting() {
  // TODO-- spread the code to method/modifier/handler
  // so we don't update the db in a method
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    userId: requesterUserId
  };

  try {
    const numberAffected = Users.update(selector, {
      $set: {
        loggedOut: true
      }
    });

    if (numberAffected) {
      Logger.info(`user left id=${requesterUserId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`leaving dummy user to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"validateAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/validateAuthToken.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => validateAuthToken
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let pendingAuthenticationsStore;
module.link("../store/pendingAuthentications", {
  default(v) {
    pendingAuthenticationsStore = v;
  }

}, 3);
let BannedUsers;
module.link("../store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 4);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 5);

function validateAuthToken(meetingId, requesterUserId, requesterToken, externalId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ValidateAuthTokenReqMsg'; // Check if externalId is banned from the meeting

  if (externalId) {
    if (BannedUsers.has(meetingId, externalId)) {
      Logger.warn(`A banned user with extId ${externalId} tried to enter in meeting ${meetingId}`);
      return {
        invalid: true,
        reason: 'User has been banned',
        error_type: 'user_banned'
      };
    }
  } // Prevent users who have left or been ejected to use the same sessionToken again.


  const isUserInvalid = Users.findOne({
    meetingId,
    userId: requesterUserId,
    authToken: requesterToken,
    $or: [{
      ejected: true
    }, {
      loggedOut: true
    }]
  });

  if (isUserInvalid) {
    Logger.warn(`An invalid sessionToken tried to validateAuthToken meetingId=${meetingId} authToken=${requesterToken}`);
    return {
      invalid: true,
      reason: `User has an invalid sessionToken due to ${isUserInvalid.ejected ? 'ejection' : 'log out'}`,
      error_type: `invalid_session_token_due_to_${isUserInvalid.ejected ? 'eject' : 'log_out'}`
    };
  } // Store reference of methodInvocationObject ( to postpone the connection userId definition )


  pendingAuthenticationsStore.add(meetingId, requesterUserId, requesterToken, this);
  const payload = {
    userId: requesterUserId,
    authToken: requesterToken
  };
  Logger.info(`User '${requesterUserId}' is trying to validate auth token for meeting '${meetingId}' from connection '${this.connection.id}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addDialInUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/addDialInUser.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addDialInUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUser;
module.link("/imports/api/users/server/modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 1);

function addDialInUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, Object);
  const USER_CONFIG = Meteor.settings.public.user;
  const ROLE_VIEWER = USER_CONFIG.role_viewer;
  const {
    intId,
    callerName
  } = voiceUser;
  const voiceOnlyUser = {
    intId,
    extId: intId,
    // TODO
    name: callerName,
    role: ROLE_VIEWER.toLowerCase(),
    guest: false,
    authed: true,
    waitingForAcceptance: false,
    guestStatus: 'ALLOW',
    emoji: 'none',
    presenter: false,
    locked: false,
    // TODO
    avatar: '',
    clientType: 'dial-in-user'
  };
  return addUser(meetingId, voiceOnlyUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/addUser.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 3);
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 4);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 5);
let SanitizeHTML;
module.link("sanitize-html", {
  default(v) {
    SanitizeHTML = v;
  }

}, 6);
let stringHash;
module.link("string-hash", {
  default(v) {
    stringHash = v;
  }

}, 7);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 8);
let addVoiceUser;
module.link("/imports/api/voice-users/server/modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 9);
const COLOR_LIST = ['#7b1fa2', '#6a1b9a', '#4a148c', '#5e35b1', '#512da8', '#4527a0', '#311b92', '#3949ab', '#303f9f', '#283593', '#1a237e', '#1976d2', '#1565c0', '#0d47a1', '#0277bd', '#01579b'];

function addUser(meetingId, userData) {
  const user = userData;
  const sanitizedName = SanitizeHTML(userData.name, {
    allowedTags: [],
    allowedAttributes: {}
  }); // if user typed only tags

  user.name = sanitizedName.length === 0 ? _.escape(userData.name) : sanitizedName;
  check(meetingId, String);
  check(user, {
    intId: String,
    extId: String,
    name: String,
    role: String,
    guest: Boolean,
    authed: Boolean,
    waitingForAcceptance: Match.Maybe(Boolean),
    guestStatus: String,
    emoji: String,
    presenter: Boolean,
    locked: Boolean,
    avatar: String,
    clientType: String
  });
  const userId = user.intId;
  const selector = {
    meetingId,
    userId
  };
  const Meeting = Meetings.findOne({
    meetingId
  });
  /* While the akka-apps dont generate a color we just pick one
    from a list based on the userId */

  const color = COLOR_LIST[stringHash(user.intId) % COLOR_LIST.length];
  const modifier = {
    $set: Object.assign({
      meetingId,
      connectionStatus: 'online',
      sortName: user.name.trim().toLowerCase(),
      color,
      breakoutProps: {
        isBreakoutUser: Meeting.meetingProp.isBreakout,
        parentId: Meeting.breakoutProps.parentId
      },
      effectiveConnectionType: null,
      inactivityCheck: false,
      responseDelay: 0,
      loggedOut: false
    }, flat(user))
  }; // Only add an empty VoiceUser if there isn't one already and if the user coming in isn't a
  // dial-in user. We want to avoid overwriting good data

  if (user.clientType !== 'dial-in-user' && !VoiceUsers.findOne({
    meetingId,
    intId: userId
  })) {
    addVoiceUser(meetingId, {
      voiceUserId: '',
      intId: userId,
      callerName: user.name,
      callerNum: '',
      muted: false,
      talking: false,
      callingWith: '',
      listenOnly: false,
      voiceConf: '',
      joined: false
    });
  }

  try {
    const {
      insertedId
    } = Users.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added user id=${userId} meeting=${meetingId}`);
    } else {
      Logger.info(`Upserted user id=${userId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding user to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changePresenter.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/changePresenter.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changePresenter
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 3);

function changePresenter(presenter, userId, meetingId, changedBy) {
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      presenter
    }
  };

  try {
    const meeting = Meetings.findOne({
      meetingId
    });

    if (meeting && meeting.externalVideoUrl) {
      Logger.info(`ChangePresenter:There is external video being shared. Stopping it due to presenter change, ${meeting.externalVideoUrl}`);
      stopWatchingExternalVideo({
        meetingId,
        requesterUserId: userId
      });
    }

    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed presenter=${presenter} id=${userId} meeting=${meetingId}` + `${changedBy ? ` changedBy=${changedBy}` : ''}`);
    }
  } catch (err) {
    Logger.error(`Changed user role: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/changeRole.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeRole
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);

function changeRole(role, userId, meetingId, changedBy) {
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      role
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed user role=${role} id=${userId} meeting=${meetingId}` + `${changedBy ? ` changedBy=${changedBy}` : ''}`);
    }
  } catch (err) {
    Logger.error(`Changed user role: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/clearUsers.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsers
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users/index", {
  default(v) {
    Users = v;
  }

}, 1);

function clearUsers(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = Users.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Users (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error clearing Users (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Users.remove({});

      if (numberAffected) {
        Logger.info('Cleared Users (all)');
      }
    } catch (err) {
      Logger.error(`Error clearing Users (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"createDummyUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/createDummyUser.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createDummyUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);

function createDummyUser(meetingId, userId, authToken) {
  check(meetingId, String);
  check(userId, String);
  check(authToken, String);
  const User = Users.findOne({
    meetingId,
    userId
  });

  if (User) {
    throw new Meteor.Error('existing-user', 'Tried to create a dummy user for an existing user');
  }

  const doc = {
    meetingId,
    userId,
    authToken,
    clientType: 'HTML5',
    validated: null
  };

  try {
    const insertedId = Users.insert(doc);

    if (insertedId) {
      Logger.info(`Created dummy user id=${userId} token=${authToken} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Creating dummy user to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/removeUser.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 4);
let clearUserInfoForRequester;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfoForRequester", {
  default(v) {
    clearUserInfoForRequester = v;
  }

}, 5);

const clearAllSessions = sessionUserId => {
  const serverSessions = Meteor.server.sessions;
  Object.keys(serverSessions).filter(i => serverSessions[i].userId === sessionUserId).forEach(i => serverSessions[i].close());
};

function removeUser(meetingId, userId) {
  check(meetingId, String);
  check(userId, String);
  const userToRemove = Users.findOne({
    userId,
    meetingId
  });

  if (userToRemove) {
    const {
      presenter
    } = userToRemove;

    if (presenter) {
      stopWatchingExternalVideo({
        meetingId,
        requesterUserId: userId
      });
    }
  }

  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      connectionStatus: 'offline',
      validated: false,
      emoji: 'none',
      presenter: false,
      role: 'VIEWER'
    }
  };

  try {
    VideoStreams.remove({
      meetingId,
      userId
    });
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      const sessionUserId = `${meetingId}-${userId}`;
      clearAllSessions(sessionUserId);
      clearUserInfoForRequester(meetingId, userId);
      Logger.info(`Removed user id=${userId} meeting=${meetingId}`);
      return;
    }
  } catch (err) {
    Logger.error(`Removing user from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setConnectionIdAndAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/setConnectionIdAndAuthToken.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setConnectionIdAndAuthToken
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setConnectionIdAndAuthToken(meetingId, userId, connectionId, authToken) {
  check(meetingId, String);
  check(userId, String);
  check(authToken, String);
  check(connectionId, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      connectionId,
      authToken
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated connectionId and authToken user=${userId} connectionId=${connectionId} meeting=${meetingId} authToken=${authToken}`);
    }
  } catch (err) {
    Logger.error(`Updating connectionId user=${userId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUserEffectiveConnectionType.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/setUserEffectiveConnectionType.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUserEffectiveConnectionType
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setUserEffectiveConnectionType(meetingId, userId, effectiveConnectionType) {
  check(meetingId, String);
  check(userId, String);
  check(effectiveConnectionType, String);
  const selector = {
    meetingId,
    userId,
    effectiveConnectionType: {
      $ne: effectiveConnectionType
    }
  };
  const modifier = {
    $set: {
      effectiveConnectionType
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated user ${userId} effective connection to ${effectiveConnectionType} in meeting ${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Updating user ${userId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userEjected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/userEjected.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userEjected
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let clearUserInfoForRequester;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfoForRequester", {
  default(v) {
    clearUserInfoForRequester = v;
  }

}, 3);

function userEjected(meetingId, userId, ejectedReason) {
  check(meetingId, String);
  check(userId, String);
  check(ejectedReason, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      ejected: true,
      ejectedReason
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      clearUserInfoForRequester(meetingId, userId);
      Logger.info(`Ejected user id=${userId} meeting=${meetingId} reason=${ejectedReason}`);
    }
  } catch (err) {
    Logger.error(`Ejecting user from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userInactivityInspect.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/userInactivityInspect.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userInactivityInspect
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);

function userInactivityInspect(userId, responseDelay) {
  check(userId, String);
  check(responseDelay, Match.Integer);
  const selector = {
    userId,
    inactivityCheck: false
  };
  const modifier = {
    $set: {
      inactivityCheck: true,
      responseDelay
    }
  };

  try {
    const {
      numberAffected
    } = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated user ${userId} with inactivity inspect`);
    }
  } catch (err) {
    Logger.error(`Inactivity check for user ${userId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"store":{"bannedUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/store/bannedUsers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

class BannedUsers {
  constructor() {
    Logger.debug('BannedUsers :: Initializing');
    this.store = {};
  }

  init(meetingId) {
    Logger.debug('BannedUsers :: init', {
      meetingId
    });
    if (!this.store[meetingId]) this.store[meetingId] = new Set();
  }

  add(meetingId, externalId) {
    Logger.debug('BannedUsers :: add', {
      meetingId,
      externalId
    });
    if (!this.store[meetingId]) this.store[meetingId] = new Set();
    this.store[meetingId].add(externalId);
  }

  delete(meetingId) {
    Logger.debug('BannedUsers :: delete', {
      meetingId
    });
    delete this.store[meetingId];
  }

  has(meetingId, externalId) {
    Logger.debug('BannedUsers :: has', {
      meetingId,
      externalId
    });
    if (!this.store[meetingId]) this.store[meetingId] = new Set();
    return this.store[meetingId].has(externalId);
  }

}

module.exportDefault(new BannedUsers());
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pendingAuthentications.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/store/pendingAuthentications.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

class PendingAuthentitcations {
  constructor() {
    Logger.debug("PendingAuthentitcations :: constructor");
    this.store = [];
  }

  generateKey(meetingId, userId, authToken) {
    // Protect against separator injection
    meetingId = meetingId.replace(/ /g, '');
    userId = userId.replace(/ /g, '');
    authToken = authToken.replace(/ /g, ''); // Space separated key

    return `${meetingId} ${userId} ${authToken}`;
  }

  add(meetingId, userId, authToken, methodInvocationObject) {
    Logger.debug("PendingAuthentitcations :: add", {
      meetingId,
      userId,
      authToken
    });
    this.store.push({
      key: this.generateKey(meetingId, userId, authToken),
      meetingId,
      userId,
      authToken,
      methodInvocationObject
    });
  }

  take(meetingId, userId, authToken) {
    const key = this.generateKey(meetingId, userId, authToken);
    Logger.debug("PendingAuthentitcations :: take", {
      key,
      meetingId,
      userId,
      authToken
    }); // find matches

    const matches = this.store.filter(e => e.key === key); // remove matches (if any)

    if (matches.length) {
      this.store = this.store.filter(e => e.key !== key);
    } // return matches


    return matches;
  }

}

module.exportDefault(new PendingAuthentitcations());
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/eventHandlers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleRemoveUser;
module.link("./handlers/removeUser", {
  default(v) {
    handleRemoveUser = v;
  }

}, 1);
let handleUserJoined;
module.link("./handlers/userJoined", {
  default(v) {
    handleUserJoined = v;
  }

}, 2);
let handleValidateAuthToken;
module.link("./handlers/validateAuthToken", {
  default(v) {
    handleValidateAuthToken = v;
  }

}, 3);
let handlePresenterAssigned;
module.link("./handlers/presenterAssigned", {
  default(v) {
    handlePresenterAssigned = v;
  }

}, 4);
let handleEmojiStatus;
module.link("./handlers/emojiStatus", {
  default(v) {
    handleEmojiStatus = v;
  }

}, 5);
let handleGetUsers;
module.link("./handlers/getUsers", {
  default(v) {
    handleGetUsers = v;
  }

}, 6);
let handleUserEjected;
module.link("./handlers/userEjected", {
  default(v) {
    handleUserEjected = v;
  }

}, 7);
let handleChangeRole;
module.link("./handlers/changeRole", {
  default(v) {
    handleChangeRole = v;
  }

}, 8);
let handleUserInactivityInspect;
module.link("./handlers/userInactivityInspect", {
  default(v) {
    handleUserInactivityInspect = v;
  }

}, 9);
RedisPubSub.on('PresenterAssignedEvtMsg', handlePresenterAssigned);
RedisPubSub.on('UserJoinedMeetingEvtMsg', handleUserJoined);
RedisPubSub.on('UserLeftMeetingEvtMsg', handleRemoveUser);
RedisPubSub.on('ValidateAuthTokenRespMsg', handleValidateAuthToken);
RedisPubSub.on('UserEmojiChangedEvtMsg', handleEmojiStatus);
RedisPubSub.on('SyncGetUsersMeetingRespMsg', handleGetUsers);
RedisPubSub.on('UserEjectedFromMeetingEvtMsg', handleUserEjected);
RedisPubSub.on('UserRoleChangedEvtMsg', handleChangeRole);
RedisPubSub.on('UserInactivityInspectMsg', handleUserInactivityInspect);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/index.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let validateAuthToken;
module.link("./methods/validateAuthToken", {
  default(v) {
    validateAuthToken = v;
  }

}, 1);
let setEmojiStatus;
module.link("./methods/setEmojiStatus", {
  default(v) {
    setEmojiStatus = v;
  }

}, 2);
let assignPresenter;
module.link("./methods/assignPresenter", {
  default(v) {
    assignPresenter = v;
  }

}, 3);
let changeRole;
module.link("./methods/changeRole", {
  default(v) {
    changeRole = v;
  }

}, 4);
let removeUser;
module.link("./methods/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 5);
let toggleUserLock;
module.link("./methods/toggleUserLock", {
  default(v) {
    toggleUserLock = v;
  }

}, 6);
let setUserEffectiveConnectionType;
module.link("./methods/setUserEffectiveConnectionType", {
  default(v) {
    setUserEffectiveConnectionType = v;
  }

}, 7);
let userActivitySign;
module.link("./methods/userActivitySign", {
  default(v) {
    userActivitySign = v;
  }

}, 8);
let userLeftMeeting;
module.link("./methods/userLeftMeeting", {
  default(v) {
    userLeftMeeting = v;
  }

}, 9);
Meteor.methods({
  setEmojiStatus,
  assignPresenter,
  changeRole,
  removeUser,
  validateAuthToken,
  toggleUserLock,
  setUserEffectiveConnectionType,
  userActivitySign,
  userLeftMeeting
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/publishers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let userLeaving;
module.link("./methods/userLeaving", {
  default(v) {
    userLeaving = v;
  }

}, 5);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 6);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function currentUser() {
  if (!this.userId) {
    return Users.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const connectionId = this.connection.id;
  const onCloseConnection = Meteor.bindEnvironment(() => {
    try {
      userLeaving(meetingId, requesterUserId, connectionId);
    } catch (e) {
      Logger.error(`Exception while executing userLeaving: ${e}`);
    }
  });

  this._session.socket.on('close', _.debounce(onCloseConnection, 100));

  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const options = {
    fields: {
      user: false,
      authToken: false // Not asking for authToken from client side but also not exposing it

    }
  };
  return Users.find(selector, options);
}

function publishCurrentUser(...args) {
  const boundUsers = currentUser.bind(this);
  return boundUsers(...args);
}

Meteor.publish('current-user', publishCurrentUser);

function users(role) {
  if (!this.userId) {
    return Users.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    $or: [{
      meetingId
    }]
  };
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    selector.$or.push({
      'breakoutProps.isBreakoutUser': true,
      'breakoutProps.parentId': meetingId,
      connectionStatus: 'online'
    });
  }

  const options = {
    fields: {
      authToken: false,
      lastPing: false
    }
  };
  Logger.debug('Publishing Users', {
    meetingId,
    requesterUserId
  });
  return Users.find(selector, options);
}

function publish(...args) {
  const boundUsers = users.bind(this);
  return boundUsers(...args);
}

Meteor.publish('users', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/index.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Users = new Mongo.Collection('users');

if (Meteor.isServer) {
  // types of queries for the users:
  // 1. meetingId
  // 2. meetingId, userId
  Users._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(Users);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users-infos":{"server":{"handlers":{"userInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/handlers/userInformation.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserInformation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUserInfo;
module.link("../modifiers/addUserInfo", {
  default(v) {
    addUserInfo = v;
  }

}, 1);

function handleUserInformation({
  header,
  body
}) {
  check(body, Object);
  check(header, Object);
  const {
    userInfo
  } = body;
  const {
    userId,
    meetingId
  } = header;
  check(userInfo, Array);
  check(userId, String);
  check(meetingId, String);
  return addUserInfo(userInfo, userId, meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"removeUserInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods/removeUserInformation.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUserInformation
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function removeUserInformation() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    requesterUserId
  };

  try {
    const numberAffected = UserInfos.remove(selector);

    if (numberAffected) {
      Logger.info(`Removed user information: requester id=${requesterUserId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Removing user information from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"requestUserInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods/requestUserInformation.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => getUserInformation
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function getUserInformation(externalUserId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toThirdParty;
  const EVENT_NAME = 'LookUpUserReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(externalUserId, String);
  const payload = {
    externalUserId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addUserInfo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/addUserInfo.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUserInfo
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function addUserInfo(userInfo, requesterUserId, meetingId) {
  const info = {
    meetingId,
    requesterUserId,
    userInfo
  };

  try {
    const numberAffected = UserInfos.insert(info);

    if (numberAffected) {
      Logger.info(`Added user information: requester id=${requesterUserId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding user information to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUserInfo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/clearUserInfo.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersInfo
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersInfo(meetingId) {
  try {
    const numberAffected = UserInfos.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared User Infos (${meetingId})`);
    }
  } catch (err) {
    Logger.error(`Error on clearing User Infos (${meetingId}). ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUserInfoForRequester.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/clearUserInfoForRequester.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersInfoForRequester
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersInfoForRequester(meetingId, requesterUserId) {
  try {
    const numberAffected = UserInfos.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared User Infos requested by user=${requesterUserId}`);
    }
  } catch (err) {
    Logger.info(`Error on clearing User Infos requested by user=${requesterUserId}. ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleUserInformation;
module.link("./handlers/userInformation", {
  default(v) {
    handleUserInformation = v;
  }

}, 1);
RedisPubSub.on('LookUpUserRespMsg', handleUserInformation);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let requestUserInformation;
module.link("./methods/requestUserInformation", {
  default(v) {
    requestUserInformation = v;
  }

}, 1);
let removeUserInformation;
module.link("./methods/removeUserInformation", {
  default(v) {
    removeUserInformation = v;
  }

}, 2);
Meteor.methods({
  requestUserInformation,
  removeUserInformation
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function userInfos() {
  if (!this.userId) {
    return UserInfos.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing user infos requested', {
    requesterUserId
  });
  return UserInfos.find({
    meetingId,
    requesterUserId
  });
}

function publish(...args) {
  const boundUserInfos = userInfos.bind(this);
  return boundUserInfos(...args);
}

Meteor.publish('users-infos', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const UserInfos = new Mongo.Collection('users-infos');

if (Meteor.isServer) {
  UserInfos._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(UserInfos);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users-settings":{"server":{"methods":{"addUserSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/methods/addUserSettings.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => addUserSettings
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUserSetting;
module.link("/imports/api/users-settings/server/modifiers/addUserSetting", {
  default(v) {
    addUserSetting = v;
  }

}, 1);
let logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
const oldParameters = {
  askForFeedbackOnLogout: 'bbb_ask_for_feedback_on_logout',
  autoJoin: 'bbb_auto_join_audio',
  autoShareWebcam: 'bbb_auto_share_webcam',
  autoSwapLayout: 'bbb_auto_swap_layout',
  clientTitle: 'bbb_client_title',
  customStyle: 'bbb_custom_style',
  customStyleUrl: 'bbb_custom_style_url',
  displayBrandingArea: 'bbb_display_branding_area',
  enableScreensharing: 'bbb_enable_screen_sharing',
  enableVideo: 'bbb_enable_video',
  forceListenOnly: 'bbb_force_listen_only',
  hidePresentation: 'bbb_hide_presentation',
  listenOnlyMode: 'bbb_listen_only_mode',
  multiUserPenOnly: 'bbb_multi_user_pen_only',
  multiUserTools: 'bbb_multi_user_tools',
  outsideToggleRecording: 'bbb_outside_toggle_recording',
  outsideToggleSelfVoice: 'bbb_outside_toggle_self_voice',
  presenterTools: 'bbb_presenter_tools',
  shortcuts: 'bbb_shortcuts',
  skipCheck: 'bbb_skip_check_audio'
};
const oldParametersKeys = Object.keys(oldParameters);
const currentParameters = [// APP
'bbb_ask_for_feedback_on_logout', 'bbb_auto_join_audio', 'bbb_client_title', 'bbb_force_listen_only', 'bbb_listen_only_mode', 'bbb_skip_check_audio', // BRANDING
'bbb_display_branding_area', // SHORTCUTS
'bbb_shortcuts', // KURENTO
'bbb_auto_share_webcam', 'bbb_preferred_camera_profile', 'bbb_enable_screen_sharing', 'bbb_enable_video', 'bbb_record_video', 'bbb_skip_video_preview', 'bbb_mirror_own_webcam', // PRESENTATION
'bbb_force_restore_presentation_on_new_events', // WHITEBOARD
'bbb_multi_user_pen_only', 'bbb_presenter_tools', 'bbb_multi_user_tools', // SKINNING/THEMMING
'bbb_custom_style', 'bbb_custom_style_url', // LAYOUT
'bbb_auto_swap_layout', 'bbb_hide_presentation', 'bbb_show_participants_on_login', 'bbb_show_public_chat_on_login', // OUTSIDE COMMANDS
'bbb_outside_toggle_self_voice', 'bbb_outside_toggle_recording'];

function valueParser(val) {
  try {
    const parsedValue = JSON.parse(val.toLowerCase().trim());
    return parsedValue;
  } catch (error) {
    logger.warn(`addUserSettings:Parameter ${val} could not be parsed (was not json)`);
    return val;
  }
}

function addUserSettings(settings) {
  check(settings, [Object]);
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  let parameters = {};
  settings.forEach(el => {
    const settingKey = Object.keys(el).shift();
    const normalizedKey = settingKey.trim();

    if (currentParameters.includes(normalizedKey)) {
      if (!Object.keys(parameters).includes(normalizedKey)) {
        parameters = (0, _objectSpread2.default)({
          [normalizedKey]: valueParser(el[settingKey])
        }, parameters);
      } else {
        parameters[normalizedKey] = el[settingKey];
      }

      return;
    }

    if (oldParametersKeys.includes(normalizedKey)) {
      const matchingNewKey = oldParameters[normalizedKey];

      if (!Object.keys(parameters).includes(matchingNewKey)) {
        parameters = (0, _objectSpread2.default)({
          [matchingNewKey]: valueParser(el[settingKey])
        }, parameters);
      }

      return;
    }

    logger.warn(`Parameter ${normalizedKey} not handled`);
  });
  const settingsAdded = [];
  Object.entries(parameters).forEach(el => {
    const setting = el[0];
    const value = el[1];
    settingsAdded.push(addUserSetting(meetingId, userId, setting, value));
  });
  return settingsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addUserSetting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/modifiers/addUserSetting.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUserSetting
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addUserSetting(meetingId, userId, setting, value) {
  check(meetingId, String);
  check(userId, String);
  check(setting, String);
  check(value, Match.Any);
  const selector = {
    meetingId,
    userId,
    setting
  };
  const modifier = {
    $set: {
      meetingId,
      userId,
      setting,
      value
    }
  };

  try {
    const {
      numberAffected
    } = UserSettings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.verbose('Upserted user setting', {
        meetingId,
        userId,
        setting
      });
    }
  } catch (err) {
    Logger.error(`Adding user setting to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUsersSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/modifiers/clearUsersSettings.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersSettings
});
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersSettings(meetingId) {
  try {
    const numberAffected = UserSettings.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared User Settings (${meetingId})`);
    }
  } catch (err) {
    Logger.error(`Error on clearing User Settings (${meetingId}). ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let addUserSettings;
module.link("./methods/addUserSettings", {
  default(v) {
    addUserSettings = v;
  }

}, 1);
Meteor.methods({
  addUserSettings
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let User;
module.link("/imports/api/users", {
  default(v) {
    User = v;
  }

}, 4);

function userSettings() {
  if (!this.userId) {
    return UserSettings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const currentUser = User.findOne({
    userId: requesterUserId
  });

  if (currentUser && currentUser.breakoutProps.isBreakoutUser) {
    const {
      parentId
    } = currentUser.breakoutProps;
    const [externalId] = currentUser.extId.split('-');
    const mainRoomUserSettings = UserSettings.find({
      meetingId: parentId,
      userId: externalId
    });
    mainRoomUserSettings.map(({
      setting,
      value
    }) => ({
      meetingId,
      setting,
      userId: requesterUserId,
      value
    })).forEach(doc => {
      const selector = {
        meetingId,
        setting: doc.setting
      };
      UserSettings.upsert(selector, doc);
    });
    Logger.debug('Publishing user settings', {
      requesterUserId
    });
    return UserSettings.find({
      meetingId,
      userId: requesterUserId
    });
  }

  Logger.debug('Publishing user settings', {
    requesterUserId
  });
  return UserSettings.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundUserSettings = userSettings.bind(this);
  return boundUserSettings(...args);
}

Meteor.publish('users-settings', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const UserSettings = new Mongo.Collection('users-settings');

if (Meteor.isServer) {
  UserSettings._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(UserSettings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"video-streams":{"server":{"handlers":{"userSharedHtml5Webcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/handlers/userSharedHtml5Webcam.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserSharedHtml5Webcam
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let sharedWebcam;
module.link("../modifiers/sharedWebcam", {
  default(v) {
    sharedWebcam = v;
  }

}, 1);
let isValidStream;
module.link("/imports/api/video-streams/server/helpers", {
  isValidStream(v) {
    isValidStream = v;
  }

}, 2);

function handleUserSharedHtml5Webcam({
  header,
  body
}, meetingId) {
  const {
    userId,
    stream
  } = body;
  check(header, Object);
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  if (!isValidStream(stream)) return false;
  return sharedWebcam(meetingId, userId, stream);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userUnsharedHtml5Webcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/handlers/userUnsharedHtml5Webcam.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserUnsharedHtml5Webcam
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let unsharedWebcam;
module.link("../modifiers/unsharedWebcam", {
  default(v) {
    unsharedWebcam = v;
  }

}, 1);
let isValidStream;
module.link("/imports/api/video-streams/server/helpers", {
  isValidStream(v) {
    isValidStream = v;
  }

}, 2);

function handleUserUnsharedHtml5Webcam({
  header,
  body
}, meetingId) {
  const {
    userId,
    stream
  } = body;
  check(header, Object);
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  if (!isValidStream(stream)) return false;
  return unsharedWebcam(meetingId, userId, stream);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"userShareWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods/userShareWebcam.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userShareWebcam
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userShareWebcam(stream) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserBroadcastCamStartMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`user sharing webcam: ${meetingId} ${requesterUserId}`);
  check(stream, String); // const actionName = 'joinVideo';

  /* TODO throw an error if user has no permission to share webcam
  if (!isAllowedTo(actionName, credentials)) {
    throw new Meteor.Error('not-allowed', `You are not allowed to share webcam`);
  } */

  const payload = {
    stream
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userUnshareWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods/userUnshareWebcam.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userUnshareWebcam
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userUnshareWebcam(stream) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserBroadcastCamStopMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`user unsharing webcam: ${meetingId} ${requesterUserId}`);
  check(stream, String); // const actionName = 'joinVideo';

  /* TODO throw an error if user has no permission to share webcam
  if (!isAllowedTo(actionName, credentials)) {
    throw new Meteor.Error('not-allowed', `You are not allowed to share webcam`);
  } */

  const payload = {
    stream
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearVideoStreams.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/clearVideoStreams.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVideoStreams
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);

function clearVideoStreams(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = VideoStreams.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared VideoStreams in (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing VideoStreams (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = VideoStreams.remove({});

      if (numberAffected) {
        Logger.info('Cleared VideoStreams in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing VideoStreams (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sharedWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/sharedWebcam.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sharedWebcam
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let getDeviceId, getUserName;
module.link("/imports/api/video-streams/server/helpers", {
  getDeviceId(v) {
    getDeviceId = v;
  },

  getUserName(v) {
    getUserName = v;
  }

}, 3);

function sharedWebcam(meetingId, userId, stream) {
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  const deviceId = getDeviceId(stream);
  const name = getUserName(userId);
  const selector = {
    meetingId,
    userId,
    deviceId
  };
  const modifier = {
    $set: {
      stream,
      name
    }
  };

  try {
    const {
      insertedId
    } = VideoStreams.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Updated stream=${stream} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Error setting stream: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"unsharedWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/unsharedWebcam.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => unsharedWebcam
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let getDeviceId;
module.link("/imports/api/video-streams/server/helpers", {
  getDeviceId(v) {
    getDeviceId = v;
  }

}, 3);

function unsharedWebcam(meetingId, userId, stream) {
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  const deviceId = getDeviceId(stream);
  const selector = {
    meetingId,
    userId,
    deviceId
  };

  try {
    VideoStreams.remove(selector);
    Logger.info(`Removed stream=${stream} meeting=${meetingId}`);
  } catch (err) {
    Logger.error(`Error removing stream: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/eventHandlers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleUserSharedHtml5Webcam;
module.link("./handlers/userSharedHtml5Webcam", {
  default(v) {
    handleUserSharedHtml5Webcam = v;
  }

}, 1);
let handleUserUnsharedHtml5Webcam;
module.link("./handlers/userUnsharedHtml5Webcam", {
  default(v) {
    handleUserUnsharedHtml5Webcam = v;
  }

}, 2);
RedisPubSub.on('UserBroadcastCamStartedEvtMsg', handleUserSharedHtml5Webcam);
RedisPubSub.on('UserBroadcastCamStoppedEvtMsg', handleUserUnsharedHtml5Webcam);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/helpers.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  isValidStream: () => isValidStream,
  getDeviceId: () => getDeviceId,
  getUserName: () => getUserName
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
const FLASH_STREAM_REGEX = /^([A-z0-9]+)-([A-z0-9]+)-([A-z0-9]+)(-recorded)?$/;
const TOKEN = '_';

const isValidStream = stream => !FLASH_STREAM_REGEX.test(stream);

const getDeviceId = stream => {
  const splitStream = stream.split(TOKEN);
  if (splitStream.length === 3) return splitStream[2];
  Logger.warn(`Could not get deviceId from stream=${stream}`);
  return stream;
};

const getUserName = userId => {
  const user = Users.findOne({
    userId
  }, {
    fields: {
      name: 1
    }
  });
  if (user) return user.name;
  return userId;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/index.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publisher");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userShareWebcam;
module.link("./methods/userShareWebcam", {
  default(v) {
    userShareWebcam = v;
  }

}, 1);
let userUnshareWebcam;
module.link("./methods/userUnshareWebcam", {
  default(v) {
    userUnshareWebcam = v;
  }

}, 2);
Meteor.methods({
  userShareWebcam,
  userUnshareWebcam
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publisher.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/publisher.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function videoStreams() {
  if (!this.userId) {
    return VideoStreams.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing video users', {
    meetingId
  });
  const selector = {
    meetingId
  };
  return VideoStreams.find(selector);
}

function publish(...args) {
  const boundVideoStreams = videoStreams.bind(this);
  return boundVideoStreams(...args);
}

Meteor.publish('video-streams', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VideoStreams = new Mongo.Collection('video-streams');

if (Meteor.isServer) {
  // types of queries for the video users:
  // 2. meetingId
  VideoStreams._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(VideoStreams);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"voice-call-states":{"server":{"handlers":{"voiceCallStateEvent.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/handlers/voiceCallStateEvent.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceCallStateEvent
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let VoiceCallState;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallState = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleVoiceCallStateEvent({
  body
}, meetingId) {
  const {
    voiceConf,
    clientSession,
    userId,
    callerName,
    callState
  } = body;
  check(meetingId, String);
  check(voiceConf, String);
  check(clientSession, String);
  check(userId, String);
  check(callerName, String);
  check(callState, String);
  const selector = {
    meetingId,
    userId,
    clientSession
  };
  const modifier = {
    $set: {
      meetingId,
      userId,
      voiceConf,
      clientSession,
      callState
    }
  };

  try {
    const {
      numberAffected
    } = VoiceCallState.upsert(selector, modifier);

    if (numberAffected) {
      Logger.debug('Update voice call', {
        state: userId,
        meetingId,
        clientSession,
        callState
      });
    }
  } catch (err) {
    Logger.error(`Update voice call state=${userId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearVoiceCallStates.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/modifiers/clearVoiceCallStates.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVoiceCallStates
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VoiceCallStates;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallStates = v;
  }

}, 1);

function clearVoiceCallStates(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = VoiceCallStates.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared VoiceCallStates in (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing VoiceCallStates in (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = VoiceCallStates.remove({});

      if (numberAffected) {
        Logger.info('Cleared VoiceCallStates in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing VoiceCallStates in all meetings. ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/eventHandlers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleVoiceCallStateEvent;
module.link("./handlers/voiceCallStateEvent", {
  default(v) {
    handleVoiceCallStateEvent = v;
  }

}, 1);
RedisPubSub.on('VoiceCallStateEvtMsg', handleVoiceCallStateEvent);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/index.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/publishers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let VoiceCallStates;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallStates = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function voiceCallStates() {
  if (!this.userId) {
    return VoiceCallStates.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Voice Call States', {
    meetingId,
    requesterUserId
  });
  return VoiceCallStates.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundVoiceCallStates = voiceCallStates.bind(this);
  return boundVoiceCallStates(...args);
}

Meteor.publish('voice-call-states', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VoiceCallStates = new Mongo.Collection('voiceCallStates');

if (Meteor.isServer) {
  // types of queries for the voice users:
  // 1. intId
  // 2. meetingId, intId
  VoiceCallStates._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(VoiceCallStates);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"voice-users":{"server":{"handlers":{"getVoiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/getVoiceUsers.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetVoiceUsers
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 3);
let removeVoiceUser;
module.link("../modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 4);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 5);

function handleGetVoiceUsers({
  body
}, meetingId) {
  const {
    users
  } = body;
  check(meetingId, String);
  check(users, Array);
  const meeting = Meetings.findOne({
    meetingId
  }, {
    fields: {
      'voiceProp.voiceConf': 1
    }
  });
  const usersIds = users.map(m => m.intId);
  const voiceUsersIdsToUpdate = VoiceUsers.find({
    meetingId,
    intId: {
      $in: usersIds
    }
  }, {
    fields: {
      intId: 1
    }
  }).fetch().map(m => m.intId);
  const voiceUsersUpdated = [];
  users.forEach(user => {
    if (voiceUsersIdsToUpdate.indexOf(user.intId) >= 0) {
      // user already exist, then update
      voiceUsersUpdated.push(updateVoiceUser(meetingId, {
        intId: user.intId,
        voiceUserId: user.voiceUserId,
        talking: user.talking,
        muted: user.muted,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      }));
    } else {
      // user doesn't exist yet, then add it
      addVoiceUser(meetingId, {
        voiceUserId: user.voiceUserId,
        intId: user.intId,
        callerName: user.callerName,
        callerNum: user.callerNum,
        muted: user.muted,
        talking: user.talking,
        callingWith: user.callingWith,
        listenOnly: user.listenOnly,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      });
    }
  }); // removing extra users already existing in Mongo

  const voiceUsersToRemove = VoiceUsers.find({
    meetingId,
    intId: {
      $nin: usersIds
    }
  }).fetch();
  voiceUsersToRemove.forEach(user => removeVoiceUser(meetingId, {
    voiceConf: meeting.voiceProp.voiceConf,
    voiceUserId: user.voiceUserId,
    intId: user.intId
  }));
  return voiceUsersUpdated;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"joinVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/joinVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleJoinVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let addDialInUser;
module.link("/imports/api/users/server/modifiers/addDialInUser", {
  default(v) {
    addDialInUser = v;
  }

}, 2);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 3);

function handleJoinVoiceUser({
  body
}, meetingId) {
  const voiceUser = body;
  voiceUser.joined = true;
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    intId: String,
    voiceUserId: String,
    callerName: String,
    callerNum: String,
    muted: Boolean,
    talking: Boolean,
    callingWith: String,
    listenOnly: Boolean,
    joined: Boolean
  });
  const {
    intId
  } = voiceUser;
  const User = Users.findOne({
    meetingId,
    intId,
    connectionStatus: 'online'
  });

  if (!User) {
    /* voice-only user - called into the conference */
    addDialInUser(meetingId, voiceUser);
  }

  return addVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"leftVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/leftVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removeVoiceUser;
module.link("/imports/api/voice-users/server/modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 1);
let removeUser;
module.link("/imports/api/users/server/modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    intId: String,
    voiceUserId: String
  });
  const {
    intId,
    voiceUserId
  } = voiceUser;

  const isDialInUser = (userId, meetingID) => !!Users.findOne({
    meetingId: meetingID,
    userId,
    clientType: 'dial-in-user'
  }); // if the user is dial-in, leaving voice also means leaving userlist


  if (isDialInUser(voiceUserId, meetingId)) removeUser(meetingId, intId);
  return removeVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingMuted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/meetingMuted.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingMuted
});
let changeMuteMeeting;
module.link("../modifiers/changeMuteMeeting", {
  default(v) {
    changeMuteMeeting = v;
  }

}, 0);

function handleMeetingMuted({
  body
}, meetingId) {
  changeMuteMeeting(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mutedVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/mutedVoiceUser.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 1);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String); // If a person is muted we have to force them to not talking

  if (voiceUser.muted) {
    voiceUser.talking = false;
  }

  return updateVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"talkingVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/talkingVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 1);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String);
  return updateVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"voiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/voiceUsers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUsers
});
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let addDialInUser;
module.link("/imports/api/users/server/modifiers/addDialInUser", {
  default(v) {
    addDialInUser = v;
  }

}, 2);
let removeVoiceUser;
module.link("../modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 3);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 4);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 5);

function handleVoiceUsers({
  header,
  body
}) {
  const {
    voiceUsers
  } = body;
  const {
    meetingId
  } = header;
  const meeting = Meetings.findOne({
    meetingId
  }, {
    fields: {
      'voiceProp.voiceConf': 1
    }
  });
  const usersIds = voiceUsers.map(m => m.intId);
  const voiceUsersIdsToUpdate = VoiceUsers.find({
    meetingId,
    intId: {
      $in: usersIds
    }
  }, {
    fields: {
      intId: 1
    }
  }).fetch().map(m => m.intId);
  const voiceUsersUpdated = [];
  voiceUsers.forEach(voice => {
    if (voiceUsersIdsToUpdate.indexOf(voice.intId) >= 0) {
      // user already exist, then update
      voiceUsersUpdated.push(updateVoiceUser(meetingId, {
        intId: voice.intId,
        voiceUserId: voice.voiceUserId,
        talking: voice.talking,
        muted: voice.muted,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      }));
    } else {
      // user doesn't exist yet, then add it
      addVoiceUser(meetingId, {
        voiceUserId: voice.voiceUserId,
        intId: voice.intId,
        callerName: voice.callerName,
        callerNum: voice.callerNum,
        muted: voice.muted,
        talking: voice.talking,
        callingWith: voice.callingWith,
        listenOnly: voice.listenOnly,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      });
      addDialInUser(meetingId, voice);
    }
  }); // removing extra users already existing in Mongo

  const voiceUsersToRemove = VoiceUsers.find({
    meetingId,
    intId: {
      $nin: usersIds
    }
  }, {
    fields: {
      voiceUserId: 1,
      intId: 1
    }
  }).fetch();
  voiceUsersToRemove.forEach(user => removeVoiceUser(meetingId, {
    voiceConf: meeting.voiceProp.voiceConf,
    voiceUserId: user.voiceUserId,
    intId: user.intId
  }));
  return voiceUsersUpdated;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"ejectUserFromVoice.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/ejectUserFromVoice.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => ejectUserFromVoice
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function ejectUserFromVoice(userId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EjectUserFromVoiceCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    userId,
    ejectedBy: requesterUserId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteAllExceptPresenterToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteAllExceptPresenterToggle.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteAllExceptPresenterToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function muteAllExceptPresenterToggle() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteAllExceptPresentersCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const meeting = Meetings.findOne({
    meetingId
  });
  const toggleMeetingMuted = !meeting.voiceProp.muteOnStart;
  const payload = {
    mutedBy: requesterUserId,
    mute: toggleMeetingMuted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteAllToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteAllToggle.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteAllToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function muteAllToggle() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const meeting = Meetings.findOne({
    meetingId
  });
  const toggleMeetingMuted = !meeting.voiceProp.muteOnStart;
  const payload = {
    mutedBy: requesterUserId,
    mute: toggleMeetingMuted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteToggle.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 4);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 5);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 6);

function muteToggle(uId, toggle) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteUserCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userToMute = uId || requesterUserId;
  const requester = Users.findOne({
    meetingId,
    userId: requesterUserId
  });
  const voiceUser = VoiceUsers.findOne({
    intId: userToMute,
    meetingId
  });
  if (!requester || !voiceUser) return;
  const {
    listenOnly,
    muted
  } = voiceUser;
  if (listenOnly) return; // if allowModsToUnmuteUsers is false, users will be kicked out for attempting to unmute others

  if (requesterUserId !== userToMute && muted) {
    const meeting = Meetings.findOne({
      meetingId
    }, {
      fields: {
        'usersProp.allowModsToUnmuteUsers': 1
      }
    });

    if (meeting.usersProp && !meeting.usersProp.allowModsToUnmuteUsers) {
      Logger.warn(`Attempted unmuting by another user meetingId:${meetingId} requester: ${requesterUserId} userId: ${userToMute}`);
      return;
    }
  }

  let _muted;

  if (toggle === undefined || toggle === null) {
    _muted = !muted;
  } else {
    _muted = !!toggle;
  }

  const payload = {
    userId: userToMute,
    mutedBy: requesterUserId,
    mute: _muted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/addVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 4);

function addVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    voiceUserId: String,
    intId: String,
    callerName: String,
    callerNum: String,
    muted: Boolean,
    talking: Boolean,
    callingWith: String,
    listenOnly: Boolean,
    voiceConf: String,
    joined: Boolean // This is a HTML5 only param.

  });
  const {
    intId,
    talking
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      spoke: talking
    }, flat(voiceUser))
  };
  const user = Users.findOne({
    meetingId,
    userId: intId
  }, {
    fields: {
      color: 1
    }
  });
  if (user) modifier.$set.color = user.color;

  try {
    const {
      numberAffected
    } = VoiceUsers.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Add voice user=${intId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Add voice user=${intId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeMuteMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/changeMuteMeeting.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeMuteMeeting
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function changeMuteMeeting(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    muted: Boolean,
    mutedBy: String
  });
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      'voiceProp.muteOnStart': payload.muted
    }
  };

  try {
    const {
      numberAffected
    } = Meetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed meeting mute status meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Changing meeting mute status meeting={${meetingId}} ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearVoiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/clearVoiceUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVoiceUser
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 1);

function clearVoiceUser(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = VoiceUsers.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared VoiceUsers in (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing VoiceUsers in ${meetingId}. ${err}`);
    }
  } else {
    try {
      const numberAffected = VoiceUsers.remove({});

      if (numberAffected) {
        Logger.info('Cleared VoiceUsers in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing VoiceUsers. ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/removeVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let clearSpokeTimeout;
module.link("/imports/api/common/server/helpers", {
  clearSpokeTimeout(v) {
    clearSpokeTimeout = v;
  }

}, 3);

function removeVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    voiceUserId: String,
    intId: String
  });
  const {
    intId
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: {
      muted: false,
      talking: false,
      listenOnly: false,
      joined: false,
      spoke: false
    }
  };

  try {
    clearSpokeTimeout(meetingId, intId);
    const numberAffected = VoiceUsers.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Remove voiceUser=${intId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Remove voiceUser=${intId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/updateVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateVoiceUser
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let spokeTimeoutHandles, clearSpokeTimeout;
module.link("/imports/api/common/server/helpers", {
  spokeTimeoutHandles(v) {
    spokeTimeoutHandles = v;
  },

  clearSpokeTimeout(v) {
    clearSpokeTimeout = v;
  }

}, 4);
const TALKING_TIMEOUT = 6000;

function updateVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    intId: String,
    voiceUserId: String,
    talking: Match.Maybe(Boolean),
    muted: Match.Maybe(Boolean),
    voiceConf: String,
    joined: Match.Maybe(Boolean)
  });
  const {
    intId
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: Object.assign(flat(voiceUser))
  };

  if (voiceUser.talking) {
    const user = VoiceUsers.findOne({
      meetingId,
      intId
    }, {
      fields: {
        startTime: 1
      }
    });
    if (user && !user.startTime) modifier.$set.startTime = Date.now();
    modifier.$set.spoke = true;
    modifier.$set.endTime = null;
    clearSpokeTimeout(meetingId, intId);
  }

  if (!voiceUser.talking) {
    const timeoutHandle = Meteor.setTimeout(() => {
      const user = VoiceUsers.findOne({
        meetingId,
        intId
      }, {
        fields: {
          endTime: 1,
          talking: 1
        }
      });

      if (user) {
        const {
          endTime,
          talking
        } = user;
        const spokeDelay = Date.now() - endTime < TALKING_TIMEOUT;
        if (talking || spokeDelay) return;
        modifier.$set.spoke = false;
        modifier.$set.startTime = null;

        try {
          const numberAffected = VoiceUsers.update(selector, modifier);

          if (numberAffected) {
            Logger.debug('Update voiceUser', {
              voiceUser: intId,
              meetingId
            });
          }
        } catch (err) {
          Logger.error(`Update voiceUser=${intId}: ${err}`);
        }
      }
    }, TALKING_TIMEOUT);
    spokeTimeoutHandles[`${meetingId}-${intId}`] = timeoutHandle;
    modifier.$set.endTime = Date.now();
  }

  try {
    const numberAffected = VoiceUsers.update(selector, modifier);

    if (numberAffected) {
      Logger.debug('Update voiceUser', {
        voiceUser: intId,
        meetingId
      });
    }
  } catch (err) {
    Logger.error(`Update voiceUser=${intId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleJoinVoiceUser;
module.link("./handlers/joinVoiceUser", {
  default(v) {
    handleJoinVoiceUser = v;
  }

}, 2);
let handleLeftVoiceUser;
module.link("./handlers/leftVoiceUser", {
  default(v) {
    handleLeftVoiceUser = v;
  }

}, 3);
let handleTalkingVoiceUser;
module.link("./handlers/talkingVoiceUser", {
  default(v) {
    handleTalkingVoiceUser = v;
  }

}, 4);
let handleMutedVoiceUser;
module.link("./handlers/mutedVoiceUser", {
  default(v) {
    handleMutedVoiceUser = v;
  }

}, 5);
let handleGetVoiceUsers;
module.link("./handlers/getVoiceUsers", {
  default(v) {
    handleGetVoiceUsers = v;
  }

}, 6);
let handleVoiceUsers;
module.link("./handlers/voiceUsers", {
  default(v) {
    handleVoiceUsers = v;
  }

}, 7);
let handleMeetingMuted;
module.link("./handlers/meetingMuted", {
  default(v) {
    handleMeetingMuted = v;
  }

}, 8);
RedisPubSub.on('UserLeftVoiceConfToClientEvtMsg', handleLeftVoiceUser);
RedisPubSub.on('UserJoinedVoiceConfToClientEvtMsg', handleJoinVoiceUser);
RedisPubSub.on('UserTalkingVoiceEvtMsg', handleTalkingVoiceUser);
RedisPubSub.on('UserMutedVoiceEvtMsg', handleMutedVoiceUser);
RedisPubSub.on('GetVoiceUsersMeetingRespMsg', processForHTML5ServerOnly(handleGetVoiceUsers));
RedisPubSub.on('SyncGetVoiceUsersRespMsg', handleVoiceUsers);
RedisPubSub.on('MeetingMutedEvtMsg', handleMeetingMuted);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./publishers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let muteToggle;
module.link("./methods/muteToggle", {
  default(v) {
    muteToggle = v;
  }

}, 1);
let muteAllToggle;
module.link("./methods/muteAllToggle", {
  default(v) {
    muteAllToggle = v;
  }

}, 2);
let muteAllExceptPresenterToggle;
module.link("./methods/muteAllExceptPresenterToggle", {
  default(v) {
    muteAllExceptPresenterToggle = v;
  }

}, 3);
let ejectUserFromVoice;
module.link("./methods/ejectUserFromVoice", {
  default(v) {
    ejectUserFromVoice = v;
  }

}, 4);
Meteor.methods({
  toggleVoice: muteToggle,
  muteAllUsers: muteAllToggle,
  muteAllExceptPresenter: muteAllExceptPresenterToggle,
  ejectUserFromVoice
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let ejectUserFromVoice;
module.link("./methods/ejectUserFromVoice", {
  default(v) {
    ejectUserFromVoice = v;
  }

}, 4);

function voiceUser() {
  if (!this.userId) {
    return VoiceUsers.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const onCloseConnection = Meteor.bindEnvironment(() => {
    try {
      // I used user because voiceUser is the function's name
      const User = VoiceUsers.findOne({
        meetingId,
        requesterUserId
      });

      if (User) {
        ejectUserFromVoice(requesterUserId);
      }
    } catch (e) {
      Logger.error(`Exception while executing ejectUserFromVoice for ${requesterUserId}: ${e}`);
    }
  });
  Logger.debug('Publishing Voice User', {
    meetingId,
    requesterUserId
  });

  this._session.socket.on('close', _.debounce(onCloseConnection, 100));

  return VoiceUsers.find({
    meetingId
  });
}

function publish(...args) {
  const boundVoiceUser = voiceUser.bind(this);
  return boundVoiceUser(...args);
}

Meteor.publish('voiceUsers', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VoiceUsers = new Mongo.Collection('voiceUsers');

if (Meteor.isServer) {
  // types of queries for the voice users:
  // 1. intId
  // 2. meetingId, intId
  VoiceUsers._ensureIndex({
    intId: 1
  });

  VoiceUsers._ensureIndex({
    meetingId: 1,
    intId: 1
  });
}

module.exportDefault(VoiceUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"whiteboard-multi-user":{"server":{"handlers":{"modifyWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/handlers/modifyWhiteboardAccess.js                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleModifyWhiteboardAccess
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let modifyWhiteboardAccess;
module.link("../modifiers/modifyWhiteboardAccess", {
  default(v) {
    modifyWhiteboardAccess = v;
  }

}, 1);

function handleModifyWhiteboardAccess({
  body
}, meetingId) {
  const {
    multiUser,
    whiteboardId
  } = body;
  check(multiUser, Boolean);
  check(whiteboardId, String);
  check(meetingId, String);
  return modifyWhiteboardAccess(meetingId, whiteboardId, multiUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"changeWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/methods/changeWhiteboardAccess.js                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeWhiteboardAccess
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function changeWhiteboardAccess(multiUser, whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ModifyWhiteboardAccessPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(multiUser, Boolean);
  check(whiteboardId, String);
  const payload = {
    multiUser,
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearWhiteboardMultiUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/modifiers/clearWhiteboardMultiUser.js                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearWhiteboardMultiUser
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 1);

function clearWhiteboardMultiUser(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = WhiteboardMultiUser.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared WhiteboardMultiUser (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error clearing WhiteboardMultiUser (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = WhiteboardMultiUser.remove({});

      if (numberAffected) {
        Logger.info('Cleared WhiteboardMultiUser (all)');
      }
    } catch (err) {
      Logger.info(`Error clearing WhiteboardMultiUser (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"modifyWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/modifiers/modifyWhiteboardAccess.js                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => modifyWhiteboardAccess
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 2);

function modifyWhiteboardAccess(meetingId, whiteboardId, multiUser) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(multiUser, Boolean);
  const selector = {
    meetingId,
    whiteboardId
  };
  const modifier = {
    meetingId,
    whiteboardId,
    multiUser
  };

  try {
    const {
      insertedId
    } = WhiteboardMultiUser.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added multiUser flag=${multiUser} meetingId=${meetingId} whiteboardId=${whiteboardId}`);
    } else {
      Logger.info(`Upserted multiUser flag=${multiUser} meetingId=${meetingId} whiteboardId=${whiteboardId}`);
    }
  } catch (err) {
    Logger.error(`Error while adding an entry to Multi-User collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/eventHandlers.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleGetWhiteboardAccess;
module.link("./handlers/modifyWhiteboardAccess", {
  default(v) {
    handleGetWhiteboardAccess = v;
  }

}, 2);
RedisPubSub.on('GetWhiteboardAccessRespMsg', processForHTML5ServerOnly(handleGetWhiteboardAccess));
RedisPubSub.on('SyncGetWhiteboardAccessRespMsg', handleGetWhiteboardAccess);
RedisPubSub.on('ModifyWhiteboardAccessEvtMsg', handleGetWhiteboardAccess);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/index.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/methods.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let changeWhiteboardAccess;
module.link("./methods/changeWhiteboardAccess", {
  default(v) {
    changeWhiteboardAccess = v;
  }

}, 1);
Meteor.methods({
  changeWhiteboardAccess
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/publishers.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function whiteboardMultiUser() {
  if (!this.userId) {
    return WhiteboardMultiUser.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing whiteboard-multi-user', {
    meetingId,
    requesterUserId
  });
  return WhiteboardMultiUser.find({
    meetingId
  });
}

function publish(...args) {
  const boundMultiUser = whiteboardMultiUser.bind(this);
  return boundMultiUser(...args);
}

Meteor.publish('whiteboard-multi-user', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const WhiteboardMultiUser = new Mongo.Collection('whiteboard-multi-user');

if (Meteor.isServer) {
  // types of queries for the whiteboard-multi-user:
  // 1. meetingId
  WhiteboardMultiUser._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(WhiteboardMultiUser);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"common":{"server":{"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/common/server/helpers.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  spokeTimeoutHandles: () => spokeTimeoutHandles,
  clearSpokeTimeout: () => clearSpokeTimeout,
  indexOf: () => indexOf,
  processForHTML5ServerOnly: () => processForHTML5ServerOnly,
  hashSHA1: () => hashSHA1,
  extractCredentials: () => extractCredentials
});
let sha1;
module.link("crypto-js/sha1", {
  default(v) {
    sha1 = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
const MSG_DIRECT_TYPE = 'DIRECT';
const NODE_USER = 'nodeJSapp';
const spokeTimeoutHandles = {};

const clearSpokeTimeout = (meetingId, userId) => {
  if (spokeTimeoutHandles[`${meetingId}-${userId}`]) {
    Meteor.clearTimeout(spokeTimeoutHandles[`${meetingId}-${userId}`]);
    delete spokeTimeoutHandles[`${meetingId}-${userId}`];
  }
};

const indexOf = [].indexOf || function (item) {
  for (let i = 0, l = this.length; i < l; i += 1) {
    if (i in this && this[i] === item) {
      return i;
    }
  }

  return -1;
};

const processForHTML5ServerOnly = fn => (message, ...args) => {
  const {
    envelope
  } = message;
  const {
    routing
  } = envelope;
  const {
    msgType,
    meetingId,
    userId
  } = routing;
  const selector = {
    userId,
    meetingId
  };
  const user = Users.findOne(selector);
  const shouldSkip = user && msgType === MSG_DIRECT_TYPE && userId !== NODE_USER && user.clientType !== 'HTML5';
  if (shouldSkip) return () => {};
  return fn(message, ...args);
};

const hashSHA1 = str => sha1(str).toString();

const extractCredentials = credentials => {
  if (!credentials) return {};
  const credentialsArray = credentials.split('--');
  const meetingId = credentialsArray[0];
  const requesterUserId = credentialsArray[1];
  return {
    meetingId,
    requesterUserId
  };
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"startup":{"server":{"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/index.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  eventEmitter: () => eventEmitter,
  redisPubSub: () => redisPubSub
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let WebAppInternals;
module.link("meteor/webapp", {
  WebAppInternals(v) {
    WebAppInternals = v;
  }

}, 1);
let Langmap;
module.link("langmap", {
  default(v) {
    Langmap = v;
  }

}, 2);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 3);
let path;
module.link("path", {
  default(v) {
    path = v;
  }

}, 4);
let heapdump;
module.link("heapdump", {
  default(v) {
    heapdump = v;
  }

}, 5);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 6);
module.link("./settings");
let lookupUserAgent;
module.link("useragent", {
  lookup(v) {
    lookupUserAgent = v;
  }

}, 7);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 8);
let memwatch;
module.link("memwatch-next", {
  default(v) {
    memwatch = v;
  }

}, 9);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 10);
let Redis;
module.link("./redis", {
  default(v) {
    Redis = v;
  }

}, 11);
let setMinBrowserVersions;
module.link("./minBrowserVersion", {
  default(v) {
    setMinBrowserVersions = v;
  }

}, 12);
let userLeaving;
module.link("/imports/api/users/server/methods/userLeaving", {
  default(v) {
    userLeaving = v;
  }

}, 13);
const AVAILABLE_LOCALES = fs.readdirSync('assets/app/locales');
process.on('uncaughtException', err => {
  Logger.error(`uncaughtException: ${err}`);
  process.exit(1);
});
Meteor.startup(() => {
  const APP_CONFIG = Meteor.settings.public.app;
  const INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.clearUsersInSeconds * 1000;
  const INTERVAL_TIME = INTERVAL_IN_SETTINGS < 10000 ? 10000 : INTERVAL_IN_SETTINGS;
  const env = Meteor.isDevelopment ? 'development' : 'production';
  const CDN_URL = APP_CONFIG.cdn;
  const {
    customHeartbeat
  } = APP_CONFIG;

  if (customHeartbeat) {
    Logger.warn('Custom heartbeat functions are enabled'); // https://github.com/sockjs/sockjs-node/blob/1ef08901f045aae7b4df0f91ef598d7a11e82897/lib/transport/websocket.js#L74-L82

    const newHeartbeat = function heartbeat() {
      const currentTime = new Date().getTime(); // Skipping heartbeat, because websocket is sending data

      if (currentTime - this.ws.lastSentFrameTimestamp < 10000) {
        try {
          Logger.info('Skipping heartbeat, because websocket is sending data', {
            currentTime,
            lastSentFrameTimestamp: this.ws.lastSentFrameTimestamp,
            userId: this.session.connection._meteorSession.userId
          });
          return;
        } catch (err) {
          Logger.error(`Skipping heartbeat error: ${err}`);
        }
      }

      const supportsHeartbeats = this.ws.ping(null, () => clearTimeout(this.hto_ref));

      if (supportsHeartbeats) {
        this.hto_ref = setTimeout(() => {
          try {
            Logger.info('Heartbeat timeout', {
              userId: this.session.connection._meteorSession.userId,
              sentAt: currentTime,
              now: new Date().getTime()
            });
          } catch (err) {
            Logger.error(`Heartbeat timeout error: ${err}`);
          }
        }, Meteor.server.options.heartbeatTimeout);
      } else {
        Logger.error('Unexpected error supportsHeartbeats=false');
      }
    }; // https://github.com/davhani/hagty/blob/6a5c78e9ae5a5e4ade03e747fb4cc8ea2df4be0c/faye-websocket/lib/faye/websocket/api.js#L84-L88


    const newSend = function send(data) {
      try {
        this.lastSentFrameTimestamp = new Date().getTime();

        if (this.meteorHeartbeat) {
          // Call https://github.com/meteor/meteor/blob/1e7e56eec8414093cd0c1c70750b894069fc972a/packages/ddp-common/heartbeat.js#L80-L88
          this.meteorHeartbeat._seenPacket = true;

          if (this.meteorHeartbeat._heartbeatTimeoutHandle) {
            this.meteorHeartbeat._clearHeartbeatTimeoutTimer();
          }
        }

        if (this.readyState > 1
        /* API.OPEN = 1 */
        ) return false;
        if (!(data instanceof Buffer)) data = String(data);
        return this._driver.messages.write(data);
      } catch (err) {
        console.error('Error on send data', err);
        return false;
      }
    };

    Meteor.setInterval(() => {
      for (const session of Meteor.server.sessions.values()) {
        const {
          socket
        } = session;
        const recv = socket._session.recv;

        if (session.bbbFixApplied || !recv || !recv.ws) {
          continue;
        }

        recv.ws.meteorHeartbeat = session.heartbeat;
        recv.__proto__.heartbeat = newHeartbeat;
        recv.ws.__proto__.send = newSend;
        session.bbbFixApplied = true;
      }
    }, 5000);
  }

  const memoryMonitoringSettings = Meteor.settings.private.memoryMonitoring;
  let heapDumpMbThreshold = memoryMonitoringSettings.heapdump.thresholdMb;
  const {
    heapdumpFolderPath
  } = memoryMonitoringSettings.heapdump;

  if (memoryMonitoringSettings.stat.enabled) {
    memwatch.on('stats', stats => {
      let heapDumpTriggered = false;

      if (memoryMonitoringSettings.heapdump.enabled) {
        heapDumpTriggered = stats.current_base / 1048576 > heapDumpMbThreshold;
      }

      Logger.info('memwatch stats', (0, _objectSpread2.default)({}, stats));

      if (heapDumpTriggered) {
        heapdump.writeSnapshot(path.join(heapdumpFolderPath, `heapdump-stats-${Date.now()}.heapsnapshot`));
        heapDumpMbThreshold += memoryMonitoringSettings.heapdump.thresholdMb;
      }
    });
  } // if (memoryMonitoringSettings.leak.enabled) {
  //   memwatch.on('leak', (info) => {
  //     Logger.info('memwatch leak', info);
  //   });
  // }
  // if (memoryMonitoringSettings.heapdump.enabled) {
  //   const { heapdumpFolderPath, heapdumpIntervalMs } = memoryMonitoringSettings.heapdump;
  //   Meteor.setInterval(() => {
  //     heapdump.writeSnapshot(path.join(heapdumpFolderPath, `${new Date().toISOString()}.heapsnapshot`));
  //     Logger.info('Heapsnapshot file successfully written');
  //   }, heapdumpIntervalMs);
  // }


  if (CDN_URL.trim()) {
    // Add CDN
    BrowserPolicy.content.disallowEval();
    BrowserPolicy.content.allowInlineScripts();
    BrowserPolicy.content.allowInlineStyles();
    BrowserPolicy.content.allowImageDataUrl(CDN_URL);
    BrowserPolicy.content.allowFontDataUrl(CDN_URL);
    BrowserPolicy.content.allowOriginForAll(CDN_URL);
    WebAppInternals.setBundledJsCssPrefix(CDN_URL + APP_CONFIG.basename);
    const fontRegExp = /\.(eot|ttf|otf|woff|woff2)$/;
    WebApp.rawConnectHandlers.use('/', (req, res, next) => {
      if (fontRegExp.test(req._parsedUrl.pathname)) {
        res.setHeader('Access-Control-Allow-Origin', '*');
        res.setHeader('Vary', 'Origin');
        res.setHeader('Pragma', 'public');
        res.setHeader('Cache-Control', '"public"');
      }

      return next();
    });
  }

  setMinBrowserVersions();
  Meteor.setInterval(() => {
    const currentTime = Date.now();
    Logger.info('Checking for inactive users');
    const users = Users.find({
      connectionStatus: 'online',
      clientType: 'HTML5',
      lastPing: {
        $lt: currentTime - INTERVAL_TIME // get user who has not pinged in the last 10 seconds

      },
      loginTime: {
        $lt: currentTime - INTERVAL_TIME
      }
    }).fetch();
    if (!users.length) return Logger.info('No inactive users');
    Logger.info('Removing inactive users');
    users.forEach(user => {
      Logger.info(`Detected inactive user, userId:${user.userId}, meetingId:${user.meetingId}`);
      return userLeaving(user.meetingId, user.userId, user.connectionId);
    });
    return Logger.info('All inactive users have been removed');
  }, INTERVAL_TIME);
  Logger.warn(`SERVER STARTED.\nENV=${env},\nnodejs version=${process.version}\nCDN=${CDN_URL}\n`, APP_CONFIG);
});
WebApp.connectHandlers.use('/check', (req, res) => {
  const payload = {
    html5clientStatus: 'running'
  };
  res.setHeader('Content-Type', 'application/json');
  res.writeHead(200);
  res.end(JSON.stringify(payload));
});
WebApp.connectHandlers.use('/locale', (req, res) => {
  const APP_CONFIG = Meteor.settings.public.app;
  const fallback = APP_CONFIG.defaultSettings.application.fallbackLocale;
  const override = APP_CONFIG.defaultSettings.application.overrideLocale;
  const browserLocale = override && req.query.init === 'true' ? override.split(/[-_]/g) : req.query.locale.split(/[-_]/g);
  const localeList = [fallback];
  const usableLocales = AVAILABLE_LOCALES.map(file => file.replace('.json', '')).reduce((locales, locale) => locale.match(browserLocale[0]) ? [...locales, locale] : locales, []);
  const regionDefault = usableLocales.find(locale => browserLocale[0] === locale);
  if (regionDefault) localeList.push(regionDefault);
  if (!regionDefault && usableLocales.length) localeList.push(usableLocales[0]);
  let normalizedLocale;
  let messages = {};

  if (browserLocale.length > 1) {
    normalizedLocale = `${browserLocale[0]}_${browserLocale[1].toUpperCase()}`;
    localeList.push(normalizedLocale);
  }

  localeList.forEach(locale => {
    try {
      const data = Assets.getText(`locales/${locale}.json`);
      messages = Object.assign(messages, JSON.parse(data));
      normalizedLocale = locale;
    } catch (e) {
      Logger.warn(`'Could not process locale ${locale}:${e}`); // Getting here means the locale is not available in the current locale files.
    }
  });
  res.setHeader('Content-Type', 'application/json');
  res.end(JSON.stringify({
    normalizedLocale,
    messages
  }));
});
WebApp.connectHandlers.use('/locales', (req, res) => {
  let locales = [];

  try {
    locales = AVAILABLE_LOCALES.map(file => file.replace('.json', '')).map(file => file.replace('_', '-')).map(locale => ({
      locale,
      name: Langmap[locale].nativeName
    }));
  } catch (e) {
    Logger.warn(`'Could not process locales error: ${e}`);
  }

  res.setHeader('Content-Type', 'application/json');
  res.writeHead(200);
  res.end(JSON.stringify(locales));
});
WebApp.connectHandlers.use('/feedback', (req, res) => {
  req.on('data', Meteor.bindEnvironment(data => {
    const body = JSON.parse(data);
    const {
      meetingId,
      userId,
      authToken,
      userName: reqUserName,
      comment,
      rating
    } = body;
    check(meetingId, String);
    check(userId, String);
    check(authToken, String);
    check(reqUserName, String);
    check(comment, String);
    check(rating, Number);
    const user = Users.findOne({
      meetingId,
      userId,
      connectionStatus: 'offline',
      authToken
    });

    if (!user) {
      Logger.warn('Couldn\'t find user for feedback');
    }

    res.setHeader('Content-Type', 'application/json');
    res.writeHead(200);
    res.end(JSON.stringify({
      status: 'ok'
    }));
    body.userName = user ? user.name : `[unconfirmed] ${reqUserName}`;
    const feedback = (0, _objectSpread2.default)({}, body);
    Logger.info('FEEDBACK LOG:', feedback);
  }));
});
WebApp.connectHandlers.use('/useragent', (req, res) => {
  const userAgent = req.headers['user-agent'];
  let response = 'No user agent found in header';

  if (userAgent) {
    response = lookupUserAgent(userAgent).toString();
  }

  Logger.info(`The requesting user agent is ${response}`); // res.setHeader('Content-Type', 'application/json');

  res.writeHead(200);
  res.end(response);
});
const eventEmitter = Redis.emitter;
const redisPubSub = Redis;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"logger.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/logger.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  logger: () => logger
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createLogger, format, transports;
module.link("winston", {
  createLogger(v) {
    createLogger = v;
  },

  format(v) {
    format = v;
  },

  transports(v) {
    transports = v;
  }

}, 1);
const LOG_CONFIG = Meteor.settings.private.serverLog || {};
const {
  level
} = LOG_CONFIG;
const Logger = createLogger({
  level,
  format: format.combine(format.colorize({
    level: true
  }), format.splat(), format.simple()),
  transports: [// console logging
  new transports.Console({
    prettyPrint: false,
    humanReadableUnhandledException: true,
    colorize: true,
    handleExceptions: true,
    level
  })]
});
module.exportDefault(Logger);
const logger = Logger;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"metrics.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/metrics.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 0);
let path;
module.link("path", {
  default(v) {
    path = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 3);
const {
  metricsDumpIntervalMs,
  metricsFolderPath,
  removeMeetingOnEnd
} = Meteor.settings.private.redis.metrics;

class Metrics {
  constructor() {
    this.metrics = {};
  }

  addEvent(meetingId, eventName, messageLength) {
    if (!this.metrics.hasOwnProperty(meetingId)) {
      this.metrics[meetingId] = {
        currentlyInQueue: {},
        wasInQueue: {}
      };
    }

    const {
      currentlyInQueue
    } = this.metrics[meetingId];

    if (!currentlyInQueue.hasOwnProperty(eventName)) {
      currentlyInQueue[eventName] = {
        count: 1,
        payloadSize: messageLength
      };
    } else {
      currentlyInQueue[eventName].count += 1;
      currentlyInQueue[eventName].payloadSize += messageLength;
    }
  }

  processEvent(meetingId, eventName, size, processingStartTimestamp) {
    const currentProcessingTimestamp = Date.now();
    const processTime = currentProcessingTimestamp - processingStartTimestamp;

    if (!this.metrics[meetingId].wasInQueue.hasOwnProperty(eventName)) {
      this.metrics[meetingId].wasInQueue[eventName] = {
        count: 1,
        payloadSize: {
          min: size,
          max: size,
          last: size,
          total: size,
          avg: size
        },
        processingTime: {
          min: processTime,
          max: processTime,
          last: processTime,
          total: processTime,
          avg: processTime
        }
      };
      this.metrics[meetingId].currentlyInQueue[eventName].count -= 1;

      if (!this.metrics[meetingId].currentlyInQueue[eventName].count) {
        delete this.metrics[meetingId].currentlyInQueue[eventName];
      }
    } else {
      const {
        currentlyInQueue,
        wasInQueue
      } = this.metrics[meetingId];
      currentlyInQueue[eventName].count -= 1;

      if (!currentlyInQueue[eventName].count) {
        delete currentlyInQueue[eventName];
      }

      const {
        payloadSize,
        processingTime
      } = wasInQueue[eventName];
      wasInQueue[eventName].count += 1;
      payloadSize.last = size;
      payloadSize.total += size;
      if (payloadSize.min > size) payloadSize.min = size;
      if (payloadSize.max < size) payloadSize.max = size;
      payloadSize.avg = payloadSize.total / wasInQueue[eventName].count;
      if (processingTime.min > processTime) processingTime.min = processTime;
      if (processingTime.max < processTime) processingTime.max = processTime;
      processingTime.last = processTime;
      processingTime.total += processTime;
      processingTime.avg = processingTime.total / wasInQueue[eventName].count;
    }
  }

  setAnnotationQueueLength(meetingId, size) {
    this.metrics[meetingId].annotationQueueLength = size;
  }

  startDumpFile() {
    Meteor.setInterval(() => {
      try {
        const fileDate = new Date();
        const fullYear = fileDate.getFullYear();
        const month = (fileDate.getMonth() + 1).toString().padStart(2, '0');
        const day = fileDate.getDate().toString().padStart(2, '0');
        const hour = fileDate.getHours().toString().padStart(2, '0');
        const minutes = fileDate.getMinutes().toString().padStart(2, '0');
        const seconds = fileDate.getSeconds().toString().padStart(2, '0');
        const folderName = `${fullYear}${month}${day}_${hour}`;
        const fileName = `${folderName}${minutes}${seconds}_metrics.json`;
        const folderPath = path.join(metricsFolderPath, folderName);
        const fullFilePath = path.join(folderPath, fileName);

        if (!fs.existsSync(folderPath)) {
          Logger.debug(`Creating folder: ${folderPath}`);
          fs.mkdirSync(folderPath);
        }

        fs.writeFileSync(fullFilePath, JSON.stringify(this.metrics));
        Logger.info('Metric file successfully written');
      } catch (err) {
        Logger.error('Error on writing metrics to disk.', err);
      }
    }, metricsDumpIntervalMs);
  }

  removeMeeting(meetingId) {
    if (removeMeetingOnEnd) {
      Logger.info(`Removing meeting ${meetingId} from metrics`);
      delete this.metrics[meetingId];
    } else {
      Logger.info(`Skipping remove of meeting ${meetingId} from metrics`);
    }
  }

}

const metricsSingleton = new Metrics();
module.exportDefault(metricsSingleton);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"minBrowserVersion.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/minBrowserVersion.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let setMinimumBrowserVersions;
module.link("meteor/modern-browsers", {
  setMinimumBrowserVersions(v) {
    setMinimumBrowserVersions = v;
  }

}, 1);

const setMinBrowserVersions = () => {
  const {
    minBrowserVersions
  } = Meteor.settings.private;
  const versions = {};
  minBrowserVersions.forEach(elem => {
    let {
      version
    } = elem;
    if (version === 'Infinity') version = Infinity;
    versions[elem.browser] = version;
  });
  setMinimumBrowserVersions(versions, 'bbb-min');
};

module.exportDefault(setMinBrowserVersions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"redis.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/redis.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Redis;
module.link("redis", {
  default(v) {
    Redis = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let EventEmitter2;
module.link("eventemitter2", {
  EventEmitter2(v) {
    EventEmitter2 = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 4);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 5);
let Metrics;
module.link("./metrics", {
  default(v) {
    Metrics = v;
  }

}, 6);
// Fake meetingId used for messages that have no meetingId
const NO_MEETING_ID = '_';
const {
  queueMetrics
} = Meteor.settings.private.redis.metrics;

const makeEnvelope = (channel, eventName, header, body, routing) => {
  const envelope = {
    envelope: {
      name: eventName,
      routing: routing || {
        sender: 'bbb-apps-akka' // sender: 'html5-server', // TODO

      },
      timestamp: Date.now()
    },
    core: {
      header,
      body
    }
  };
  return JSON.stringify(envelope);
};

class MeetingMessageQueue {
  constructor(eventEmitter, asyncMessages = [], redisDebugEnabled = false) {
    this.asyncMessages = asyncMessages;
    this.emitter = eventEmitter;
    this.queue = new PowerQueue();
    this.redisDebugEnabled = redisDebugEnabled;
    this.handleTask = this.handleTask.bind(this);
    this.queue.taskHandler = this.handleTask;
  }

  handleTask(data, next) {
    const {
      channel
    } = data;
    const {
      envelope
    } = data.parsedMessage;
    const {
      header
    } = data.parsedMessage.core;
    const {
      body
    } = data.parsedMessage.core;
    const {
      meetingId
    } = header;
    const eventName = header.name;
    const isAsync = this.asyncMessages.includes(channel) || this.asyncMessages.includes(eventName);
    const beginHandleTimestamp = Date.now();
    let called = false;
    check(eventName, String);
    check(body, Object);

    const callNext = () => {
      if (called) return;

      if (this.redisDebugEnabled) {
        Logger.debug(`Redis: ${eventName} completed ${isAsync ? 'async' : 'sync'}`);
      }

      called = true;

      if (queueMetrics) {
        const queueId = meetingId || NO_MEETING_ID;
        const dataLength = JSON.stringify(data).length;
        Metrics.processEvent(queueId, eventName, dataLength, beginHandleTimestamp);
      }

      const queueLength = this.queue.length();

      if (queueLength > 100) {
        Logger.warn(`Redis: MeetingMessageQueue for meetingId=${meetingId} has queue size=${queueLength} `);
      }

      next();
    };

    const onError = reason => {
      Logger.error(`${eventName}: ${reason.stack ? reason.stack : reason}`);
      callNext();
    };

    try {
      if (this.redisDebugEnabled) {
        Logger.debug(`Redis: ${JSON.stringify(data.parsedMessage.core)} emitted`);
      }

      if (isAsync) {
        callNext();
      }

      this.emitter.emitAsync(eventName, {
        envelope,
        header,
        body
      }, meetingId).then(callNext).catch(onError);
    } catch (reason) {
      onError(reason);
    }
  }

  add(...args) {
    return this.queue.add(...args);
  }

}

class RedisPubSub {
  static handlePublishError(err) {
    if (err) {
      Logger.error(err);
    }
  }

  constructor(config = {}) {
    this.config = config;
    this.didSendRequestEvent = false;
    const host = process.env.REDIS_HOST || Meteor.settings.private.redis.host;
    const redisConf = Meteor.settings.private.redis;
    const {
      password,
      port
    } = redisConf;

    if (password) {
      this.pub = Redis.createClient({
        host,
        port,
        password
      });
      this.sub = Redis.createClient({
        host,
        port,
        password
      });
      this.pub.auth(password);
      this.sub.auth(password);
    } else {
      this.pub = Redis.createClient({
        host,
        port
      });
      this.sub = Redis.createClient({
        host,
        port
      });
    }

    if (queueMetrics) {
      Metrics.startDumpFile();
    }

    this.emitter = new EventEmitter2();
    this.mettingsQueues = {};
    this.handleSubscribe = this.handleSubscribe.bind(this);
    this.handleMessage = this.handleMessage.bind(this);
  }

  init() {
    this.sub.on('psubscribe', Meteor.bindEnvironment(this.handleSubscribe));
    this.sub.on('pmessage', Meteor.bindEnvironment(this.handleMessage));
    const channelsToSubscribe = this.config.subscribeTo;
    channelsToSubscribe.forEach(channel => {
      this.sub.psubscribe(channel);
    });

    if (this.redisDebugEnabled) {
      Logger.debug(`Redis: Subscribed to '${channelsToSubscribe}'`);
    }
  }

  updateConfig(config) {
    this.config = Object.assign({}, this.config, config);
    this.redisDebugEnabled = this.config.debug;
  } // TODO: Move this out of this class, maybe pass as a callback to init?


  handleSubscribe() {
    if (this.didSendRequestEvent) return; // populate collections with pre-existing data

    const REDIS_CONFIG = Meteor.settings.private.redis;
    const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
    const EVENT_NAME = 'GetAllMeetingsReqMsg';
    const body = {
      requesterId: 'nodeJSapp'
    };
    this.publishSystemMessage(CHANNEL, EVENT_NAME, body);
    this.didSendRequestEvent = true;
  }

  handleMessage(pattern, channel, message) {
    const parsedMessage = JSON.parse(message);
    const {
      name: eventName,
      meetingId
    } = parsedMessage.core.header;
    const {
      ignored: ignoredMessages,
      async
    } = this.config;

    if (ignoredMessages.includes(channel) || ignoredMessages.includes(eventName)) {
      if (eventName === 'CheckAlivePongSysMsg') {
        return;
      }

      if (this.redisDebugEnabled) {
        Logger.debug(`Redis: ${eventName} skipped`);
      }

      return;
    }

    const queueId = meetingId || NO_MEETING_ID;

    if (queueMetrics) {
      Metrics.addEvent(queueId, eventName, message.length);
    }

    if (!(queueId in this.mettingsQueues)) {
      this.mettingsQueues[meetingId] = new MeetingMessageQueue(this.emitter, async, this.redisDebugEnabled);
    }

    this.mettingsQueues[meetingId].add({
      pattern,
      channel,
      eventName,
      parsedMessage
    });
  }

  destroyMeetingQueue(id) {
    delete this.mettingsQueues[id];
  }

  on(...args) {
    return this.emitter.on(...args);
  }

  publishVoiceMessage(channel, eventName, voiceConf, payload) {
    const header = {
      name: eventName,
      voiceConf
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishSystemMessage(channel, eventName, payload) {
    const header = {
      name: eventName
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishMeetingMessage(channel, eventName, meetingId, payload) {
    const header = {
      name: eventName,
      meetingId
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishUserMessage(channel, eventName, meetingId, userId, payload) {
    const header = {
      name: eventName,
      meetingId,
      userId
    };

    if (!meetingId || !userId) {
      Logger.warn(`Publishing ${eventName} with potentially missing data userId=${userId} meetingId=${meetingId}`);
    }

    const envelope = makeEnvelope(channel, eventName, header, payload, {
      meetingId,
      userId
    });
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

}

const RedisPubSubSingleton = new RedisPubSub();
Meteor.startup(() => {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  RedisPubSubSingleton.updateConfig(REDIS_CONFIG);
  RedisPubSubSingleton.init();
});
module.exportDefault(RedisPubSubSingleton);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"settings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/settings.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 1);
let YAML;
module.link("yaml", {
  default(v) {
    YAML = v;
  }

}, 2);
const YAML_FILE_PATH = 'assets/app/config/settings.yml';

try {
  if (fs.existsSync(YAML_FILE_PATH)) {
    const SETTINGS = YAML.parse(fs.readFileSync(YAML_FILE_PATH, 'utf-8'));
    Meteor.settings = SETTINGS;
    __meteor_runtime_config__.PUBLIC_SETTINGS = SETTINGS.public;
  } else {
    throw new Error('File doesn\'t exists');
  }
} catch (error) {
  console.error('Error on load configuration file.', error);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"utils":{"lineEndings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/lineEndings.js                                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  BREAK_LINE: () => BREAK_LINE,
  CARRIAGE_RETURN: () => CARRIAGE_RETURN,
  NEW_LINE: () => NEW_LINE
});
// Used in Flash and HTML to show a legitimate break in the line
const BREAK_LINE = '<br/>'; // Soft return in HTML to signify a broken line without
// displaying the escaped '<br/>' line break text

const CARRIAGE_RETURN = '\r'; // Handle this the same as carriage return, in case text copied has this

const NEW_LINE = '\n';
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mimeTypes.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/mimeTypes.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  XLS: () => XLS,
  XLSX: () => XLSX,
  DOC: () => DOC,
  DOCX: () => DOCX,
  PPT: () => PPT,
  PPTX: () => PPTX,
  ODT: () => ODT,
  RTF: () => RTF,
  TXT: () => TXT,
  ODS: () => ODS,
  ODP: () => ODP,
  PDF: () => PDF,
  JPEG: () => JPEG,
  PNG: () => PNG,
  SVG: () => SVG,
  UPLOAD_SUPORTED: () => UPLOAD_SUPORTED
});
const XLS = 'application/vnd.ms-excel';
const XLSX = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';
const DOC = 'application/msword';
const DOCX = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';
const PPT = 'application/vnd.ms-powerpoint';
const PPTX = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';
const ODT = 'application/vnd.oasis.opendocument.text';
const RTF = 'application/rtf';
const TXT = 'text/plain';
const ODS = 'application/vnd.oasis.opendocument.spreadsheet';
const ODP = 'application/vnd.oasis.opendocument.presentation';
const PDF = 'application/pdf';
const JPEG = 'image/jpeg';
const PNG = 'image/png';
const SVG = 'image/svg+xml';
const UPLOAD_SUPORTED = [XLS, XLSX, DOC, DOCX, PPT, PPTX, ODT, RTF, TXT, ODS, ODP, PDF, JPEG, PNG];
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"regex-weburl.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/regex-weburl.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.exportDefault(new RegExp( // protocol identifier
'(?:(?:https?|ftp)://)' + // user:pass authentication
'(?:\\S+(?::\\S*)?@)?' + '(?:' + // IP address exclusion
// private & local networks
'(?!(?:10|127)(?:\\.\\d{1,3}){3})' + '(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})' + '(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})' + // IP address dotted notation octets
// excludes loopback network 0.0.0.0
// excludes reserved space >= 224.0.0.0
// excludes network & broacast addresses
// (first & last IP address of each class)
'(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])' + '(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}' + '(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))' + '|' + // host name
'(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)' + // domain name
'(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*' + // TLD identifier
'(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))' + // TLD may end with dot
'\\.?' + ')' + // port number
'(?::\\d{2,5})?' + // resource path
'(?:[/?#]\\S*)?', 'img'));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"server":{"main.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// server/main.js                                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("/imports/startup/server");
module.link("/imports/api/meetings/server");
module.link("/imports/api/users/server");
module.link("/imports/api/annotations/server");
module.link("/imports/api/cursor/server");
module.link("/imports/api/polls/server");
module.link("/imports/api/captions/server");
module.link("/imports/api/presentations/server");
module.link("/imports/api/presentation-pods/server");
module.link("/imports/api/presentation-upload-token/server");
module.link("/imports/api/slides/server");
module.link("/imports/api/breakouts/server");
module.link("/imports/api/group-chat/server");
module.link("/imports/api/group-chat-msg/server");
module.link("/imports/api/screenshare/server");
module.link("/imports/api/users-settings/server");
module.link("/imports/api/voice-users/server");
module.link("/imports/api/whiteboard-multi-user/server");
module.link("/imports/api/video-streams/server");
module.link("/imports/api/network-information/server");
module.link("/imports/api/users-infos/server");
module.link("/imports/api/note/server");
module.link("/imports/api/external-videos/server");
module.link("/imports/api/guest-users/server");
module.link("/imports/api/ping-pong/server");
module.link("/imports/api/local-settings/server");
module.link("/imports/api/voice-call-states/server");
module.link("/imports/api/log-client/server");
module.link("/imports/api/common/server/helpers");
module.link("/imports/startup/server/logger");

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
global._ = _;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},{
  "extensions": [
    ".js",
    ".json",
    ".jsx"
  ]
});

var exports = require("/server/main.js");
//# sourceURL=meteor://💻app/app/app.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3doaXRlYm9hcmRBbm5vdGF0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3doaXRlYm9hcmRDbGVhcmVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvd2hpdGVib2FyZFNlbmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9oYW5kbGVycy93aGl0ZWJvYXJkVW5kby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21ldGhvZHMvY2xlYXJXaGl0ZWJvYXJkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9zZW5kQW5ub3RhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21ldGhvZHMvc2VuZEFubm90YXRpb25IZWxwZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tZXRob2RzL3NlbmRCdWxrQW5ub3RhdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tZXRob2RzL3VuZG9Bbm5vdGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEFubm90YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJBbm5vdGF0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVBbm5vdGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvYWRkQW5ub3RhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvYnJlYWtvdXRDbG9zZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvYnJlYWtvdXRKb2luVVJMLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL2hhbmRsZXJzL2JyZWFrb3V0U3RhcnRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9oYW5kbGVycy9qb2luZWRVc2Vyc0NoYW5nZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvdXBkYXRlVGltZVJlbWFpbmluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9tZXRob2RzL2NyZWF0ZUJyZWFrb3V0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvZW5kQWxsQnJlYWtvdXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvcmVxdWVzdEpvaW5VUkwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQnJlYWtvdXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oYW5kbGVycy9wYWRDcmVhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oYW5kbGVycy9wYWRVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2FkZENhcHRpb25zUGFkcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvYWRkUGFkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9hcHBlbmRUZXh0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9jcmVhdGVDYXB0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvZWRpdENhcHRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9mZXRjaFJlYWRPbmx5UGFkSWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL3Rha2VPd25lcnNoaXAuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL3VwZGF0ZU93bmVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZENhcHRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJDYXB0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy91cGRhdGVPd25lcklkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZVBhZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy91cGRhdGVSZWFkT25seVBhZElkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2hlbHBlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9oYW5kbGVycy9jdXJzb3JVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvbWV0aG9kcy9wdWJsaXNoQ3Vyc29yVXBkYXRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9zdHJlYW1lci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL2Rlc3Ryb3lFeHRlcm5hbFZpZGVvLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvZW1pdEV4dGVybmFsVmlkZW9FdmVudC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL2luaXRpYWxpemVFeHRlcm5hbFZpZGVvLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvc3RhcnRXYXRjaGluZ0V4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9zdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL2hhbmRsZXJzL2dyb3VwQ2hhdENyZWF0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL2hhbmRsZXJzL2dyb3VwQ2hhdERlc3Ryb3llZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvaGFuZGxlcnMvZ3JvdXBDaGF0cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvbWV0aG9kcy9jcmVhdGVHcm91cENoYXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL21ldGhvZHMvZGVzdHJveUdyb3VwQ2hhdC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyR3JvdXBDaGF0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL2hhbmRsZXJzL2NsZWFyUHVibGljR3JvdXBDaGF0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvaGFuZGxlcnMvZ3JvdXBDaGF0TXNnQnJvYWRjYXN0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvaGFuZGxlcnMvc3luY0dyb3Vwc0NoYXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9oYW5kbGVycy91c2VyVHlwaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbWV0aG9kcy9jbGVhclB1YmxpY0NoYXRIaXN0b3J5LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbWV0aG9kcy9zZW5kR3JvdXBDaGF0TXNnLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbWV0aG9kcy9zdGFydFVzZXJUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL3N0b3BVc2VyVHlwaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEJ1bGtHcm91cENoYXRNc2dzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21vZGlmaWVycy9jbGVhckdyb3VwQ2hhdE1zZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21vZGlmaWVycy9zdGFydFR5cGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21vZGlmaWVycy9zdG9wVHlwaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL3N5bmNNZWV0aW5nQ2hhdE1zZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9oYW5kbGVycy9ndWVzdEFwcHJvdmVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvZ3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9hbGxvd1BlbmRpbmdVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyL21ldGhvZHMvY2hhbmdlR3Vlc3RQb2xpY3kuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJHdWVzdFVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3NldEd1ZXN0U3RhdHVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncy9zZXJ2ZXIvbWV0aG9kcy91c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJMb2NhbFNldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL3NldENoYW5nZWRMb2NhbFNldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvZy1jbGllbnQvc2VydmVyL21ldGhvZHMvbG9nQ2xpZW50LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2ctY2xpZW50L3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9nLWNsaWVudC9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2hhbmRsZXJzL2dldEFsbE1lZXRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvbWVldGluZ0NyZWF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvbWVldGluZ0Rlc3RydWN0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvbWVldGluZ0VuZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2hhbmRsZXJzL21lZXRpbmdMb2NrQ2hhbmdlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvcmVjb3JkaW5nU3RhdHVzQ2hhbmdlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvcmVjb3JkaW5nVGltZXJDaGFuZ2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy90aW1lUmVtYWluaW5nVXBkYXRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvdXNlckxvY2tDaGFuZ2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbWV0aG9kcy9lbmRNZWV0aW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbWV0aG9kcy90b2dnbGVMb2NrU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tZXRob2RzL3RvZ2dsZVJlY29yZGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21ldGhvZHMvdG9nZ2xlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3IuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tZXRob2RzL3RyYW5zZmVyVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9hZGRNZWV0aW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZUxvY2tTZXR0aW5ncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VVc2VyTG9jay5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9jbGVhck1lZXRpbmdUaW1lUmVtYWluaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUmVjb3JkTWVldGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9tZWV0aW5nSGFzRW5kZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tb2RpZmllcnMvc2V0UHVibGlzaGVkUG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9tZXRob2RzL3VzZXJJbnN0YWJpbGl0eURldGVjdGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9tb2RpZmllcnMvY2xlYXJOZXR3b3JrSW5mb3JtYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9wdWJsaXNoZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hhbmRsZXJzL3BhZFVwZGF0ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbWV0aG9kcy9hZGRQYWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL21ldGhvZHMvY3JlYXRlTm90ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbW9kaWZpZXJzL2FkZE5vdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL21vZGlmaWVycy9jbGVhck5vdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL21vZGlmaWVycy91cGRhdGVOb3RlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9oZWxwZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcGluZy1wb25nL3NlcnZlci9tZXRob2RzL3BpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BpbmctcG9uZy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BpbmctcG9uZy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcGluZy1wb25nL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvaGFuZGxlcnMvcG9sbFB1Ymxpc2hlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL2hhbmRsZXJzL3BvbGxTdGFydGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvaGFuZGxlcnMvcG9sbFN0b3BwZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9oYW5kbGVycy91c2VyUmVzcG9uZGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvaGFuZGxlcnMvdXNlclZvdGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbWV0aG9kcy9wdWJsaXNoUG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21ldGhvZHMvcHVibGlzaFZvdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tZXRob2RzL3N0YXJ0UG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21ldGhvZHMvc3RvcFBvbGwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tb2RpZmllcnMvYWRkUG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21vZGlmaWVycy9jbGVhclBvbGxzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbW9kaWZpZXJzL3JlbW92ZVBvbGwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlVm90ZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9oYW5kbGVycy9jcmVhdGVOZXdQcmVzZW50YXRpb25Qb2QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9oYW5kbGVycy9yZW1vdmVQcmVzZW50YXRpb25Qb2QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9oYW5kbGVycy9zZXRQcmVzZW50ZXJJblBvZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL2hhbmRsZXJzL3N5bmNHZXRQcmVzZW50YXRpb25Qb2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFByZXNlbnRhdGlvblBvZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvblBvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9tb2RpZmllcnMvcmVtb3ZlUHJlc2VudGF0aW9uUG9kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvbW9kaWZpZXJzL3NldFByZXNlbnRlckluUG9kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL2hhbmRsZXJzL3ByZXNlbnRhdGlvblVwbG9hZFRva2VuRmFpbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uVXBsb2FkVG9rZW5QYXNzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9tZXRob2RzL3JlcXVlc3RQcmVzZW50YXRpb25VcGxvYWRUb2tlbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvbWV0aG9kcy9zZXRVc2VkVG9rZW4uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uQWRkZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkN1cnJlbnRTZXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVNldC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uUmVtb3ZlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tZXRob2RzL3JlbW92ZVByZXNlbnRhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9zZXRQcmVzZW50YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21ldGhvZHMvc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvYWRkUHJlc2VudGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQcmVzZW50YXRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvcmVtb3ZlUHJlc2VudGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvc2V0Q3VycmVudFByZXNlbnRhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3NldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9oYW5kbGVycy9zY3JlZW5zaGFyZVN0YXJ0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9oYW5kbGVycy9zY3JlZW5zaGFyZVN0b3BwZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9tb2RpZmllcnMvYWRkU2NyZWVuc2hhcmUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9tb2RpZmllcnMvY2xlYXJTY3JlZW5zaGFyZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9oYW5kbGVycy9zbGlkZUNoYW5nZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9oYW5kbGVycy9zbGlkZVJlc2l6ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tZXRob2RzL3N3aXRjaFNsaWRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21ldGhvZHMvem9vbVNsaWRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9hZGRTbGlkZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvYWRkU2xpZGVQb3NpdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZUN1cnJlbnRTbGlkZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJTbGlkZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyU2xpZGVzUHJlc2VudGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9yZXNpemVTbGlkZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2hlbHBlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy9jaGFuZ2VSb2xlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvZW1vamlTdGF0dXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy9nZXRVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL3ByZXNlbnRlckFzc2lnbmVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvcmVtb3ZlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL3VzZXJFamVjdGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvdXNlckluYWN0aXZpdHlJbnNwZWN0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvdXNlckpvaW4uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy91c2VySm9pbmVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvdmFsaWRhdGVBdXRoVG9rZW4uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL2Fzc2lnblByZXNlbnRlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvY2hhbmdlUm9sZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvcmVtb3ZlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvc2V0RW1vamlTdGF0dXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3NldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvdG9nZ2xlVXNlckxvY2suanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3VzZXJBY3Rpdml0eVNpZ24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3VzZXJMZWF2aW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy91c2VyTGVmdE1lZXRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3ZhbGlkYXRlQXV0aFRva2VuLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZERpYWxJblVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VQcmVzZW50ZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvY2hhbmdlUm9sZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9jbGVhclVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NyZWF0ZUR1bW15VXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3NldENvbm5lY3Rpb25JZEFuZEF1dGhUb2tlbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9zZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvdXNlckVqZWN0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvdXNlckluYWN0aXZpdHlJbnNwZWN0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvc3RvcmUvYmFubmVkVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9zdG9yZS9wZW5kaW5nQXV0aGVudGljYXRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvaGFuZGxlcnMvdXNlckluZm9ybWF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbWV0aG9kcy9yZW1vdmVVc2VySW5mb3JtYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tZXRob2RzL3JlcXVlc3RVc2VySW5mb3JtYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tb2RpZmllcnMvYWRkVXNlckluZm8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2VySW5mby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL21vZGlmaWVycy9jbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvbWV0aG9kcy9hZGRVc2VyU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvYWRkVXNlclNldHRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2Vyc1NldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3MvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2hhbmRsZXJzL3VzZXJTaGFyZWRIdG1sNVdlYmNhbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGFuZGxlcnMvdXNlclVuc2hhcmVkSHRtbDVXZWJjYW0uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL21ldGhvZHMvdXNlclNoYXJlV2ViY2FtLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tZXRob2RzL3VzZXJVbnNoYXJlV2ViY2FtLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJWaWRlb1N0cmVhbXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL21vZGlmaWVycy9zaGFyZWRXZWJjYW0uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL21vZGlmaWVycy91bnNoYXJlZFdlYmNhbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGVscGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL3B1Ymxpc2hlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvc2VydmVyL2hhbmRsZXJzL3ZvaWNlQ2FsbFN0YXRlRXZlbnQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJWb2ljZUNhbGxTdGF0ZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2hhbmRsZXJzL2dldFZvaWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy9qb2luVm9pY2VVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvbGVmdFZvaWNlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2hhbmRsZXJzL21lZXRpbmdNdXRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2hhbmRsZXJzL211dGVkVm9pY2VVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvdGFsa2luZ1ZvaWNlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2hhbmRsZXJzL3ZvaWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tZXRob2RzL2VqZWN0VXNlckZyb21Wb2ljZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21ldGhvZHMvbXV0ZUFsbEV4Y2VwdFByZXNlbnRlclRvZ2dsZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21ldGhvZHMvbXV0ZUFsbFRvZ2dsZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21ldGhvZHMvbXV0ZVRvZ2dsZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9hZGRWb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvY2hhbmdlTXV0ZU1lZXRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJWb2ljZVVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3JlbW92ZVZvaWNlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy91cGRhdGVWb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvaGFuZGxlcnMvbW9kaWZ5V2hpdGVib2FyZEFjY2Vzcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9tZXRob2RzL2NoYW5nZVdoaXRlYm9hcmRBY2Nlc3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyV2hpdGVib2FyZE11bHRpVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9tb2RpZmllcnMvbW9kaWZ5V2hpdGVib2FyZEFjY2Vzcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL21ldHJpY3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbWluQnJvd3NlclZlcnNpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvc2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvdXRpbHMvbGluZUVuZGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvdXRpbHMvbWltZVR5cGVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3V0aWxzL3JlZ2V4LXdlYnVybC5qcyIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21haW4uanMiXSwibmFtZXMiOlsiYm9keSIsImNoZWNrIiwiaGVhZGVyIiwibXVsdGlVc2VyIiwiY2xlYXJBbm5vdGF0aW9ucyIsImFubm90YXRpb25zQWRkZWQiLCJfIiwiYW5ub3RhdGlvbiIsInVzZXJJZCIsImFkZEFubm90YXRpb24iLCJtb2RpZnlXaGl0ZWJvYXJkQWNjZXNzIiwid2hpdGVib2FyZElkIiwiZnVsbENsZWFyIiwiQm9vbGVhbiIsIkFubm90YXRpb25zU3RyZWFtZXIiLCJxdWV1ZU1ldHJpY3MiLCJNZXRlb3IiLCJhbm5vdGF0aW9uc1F1ZXVlUHJvY2Vzc0ludGVydmFsIiwiQU5OT1RBVElPTl9QUk9DRVNTX0lOVEVSVkFMIiwiYW5ub3RhdGlvbnNRdWV1ZSIsImFubm90YXRpb25zUmVjaWV2ZXJJc1J1bm5pbmciLCJwcm9jZXNzIiwiT2JqZWN0IiwibWVldGluZ0lkIiwiYW5ub3RhdGlvbnMiLCJNZXRyaWNzIiwic2hhcGVJZCIsInJlbW92ZUFubm90YXRpb24iLCJSZWRpc1B1YlN1YiIsIlJFRElTX0NPTkZJRyIsIkNIQU5ORUwiLCJFVkVOVF9OQU1FIiwicmVxdWVzdGVyVXNlcklkIiwiZXh0cmFjdENyZWRlbnRpYWxzIiwicGF5bG9hZCIsInNlbmRBbm5vdGF0aW9uSGVscGVyIiwiaWQiLCJzdGF0dXMiLCJhbm5vdGF0aW9uVHlwZSIsImFubm90YXRpb25JbmZvIiwieCIsInkiLCJmb250Q29sb3IiLCJjYWxjZWRGb250U2l6ZSIsInRleHRCb3hXaWR0aCIsInRleHQiLCJ0ZXh0Qm94SGVpZ2h0IiwiZm9udFNpemUiLCJkYXRhUG9pbnRzIiwidHlwZSIsIlN0cmluZyIsIndiSWQiLCJwb3NpdGlvbiIsIk51bWJlciIsImNvbG9yIiwidGhpY2tuZXNzIiwicG9pbnRzIiwiZGltZW5zaW9ucyIsIk1hdGNoIiwicXVlcnkiLCJhZGRBbm5vdGF0aW9uUXVlcnkiLCJpbnNlcnRlZElkIiwiQW5ub3RhdGlvbnMiLCJMb2dnZXIiLCJlcnIiLCJzZWxlY3RvciIsIm51bWJlckFmZmVjdGVkIiwicHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSIsInNlbmRCdWxrQW5ub3RhdGlvbnMiLCJib3VuZEFubm90YXRpb25zIiwic3RyZWFtZXIiLCJyZXRyYW5zbWl0IiwiQU5OT1RBVElPTl9UWVBFX1RFWFQiLCJBTk5PVEFUSU9OX1RZUEVfUEVOQ0lMIiwibW9kaWZpZXIiLCIkc2V0IiwiJHNldE9uSW5zZXJ0IiwiJGluYyIsInZlcnNpb24iLCJEUkFXX1NUQVJUIiwiRFJBV19VUERBVEUiLCJEUkFXX0VORCIsImJhc2VTZWxlY3RvciIsImJhc2VNb2RpZmllciIsIiRwdXNoIiwiJGVhY2giLCJoYW5kbGVUZXh0VXBkYXRlIiwiaGFuZGxlUGVuY2lsVXBkYXRlIiwiaGFuZGxlQ29tbW9uQW5ub3RhdGlvbiIsIk1vbmdvIiwiYnJlYWtvdXRJZCIsImNsZWFyQnJlYWtvdXRzIiwidXNlcnMiLCJpbnNlcnRlZFRpbWUiLCJCcmVha291dHMiLCJERUZBVUxUX1RJTUVfUkVNQUlOSU5HIiwiYnJlYWtvdXQiLCJqb2luZWRVc2VycyIsInRpbWVSZW1haW5pbmciLCJwYXJlbnRNZWV0aW5nSWQiLCJmbGF0IiwidXNlcnNNYXBwZWQiLCJ1c2VyIiwibmFtZSIsIm9wdGlvbnMiLCJtdWx0aSIsInJlY29yZCIsIkJSRUFLT1VUX0xJTSIsIk1JTl9CUkVBS09VVF9ST09NUyIsIk1BWF9CUkVBS09VVF9ST09NUyIsImV2ZW50TmFtZSIsInJvb21zIiwidXNlcklkVG9JbnZpdGUiLCJlbmRBbGxCcmVha291dHMiLCJST0xFX01PREVSQVRPUiIsIlVzZXIiLCJmaWVsZHMiLCJyb2xlIiwicHJlc2VudGVyU2VsZWN0b3IiLCIkb3IiLCJmcmVlSm9pbiIsImJvdW5kQnJlYWtvdXRzIiwiYnJlYWtvdXRzIiwicGFkIiwiZmV0Y2hSZWFkT25seVBhZElkIiwiY2hhbmdlc2V0IiwiZGF0YSIsImdldERhdGFGcm9tQ2hhbmdlc2V0IiwidXBkYXRlUGFkIiwicGFkSWRzIiwicGFkSWQiLCJyZWFkT25seUlkIiwiZ2VuZXJhdGVQYWRJZCIsImF4aW9zIiwibWV0aG9kIiwidXJsIiwiYXBwZW5kVGV4dFVSTCIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJpc0VuYWJsZWQiLCJnZXRMb2NhbGVzVVJMIiwibG9jYWxlcyIsImxvY2FsZSIsImFkZENhcHRpb24iLCJhZGRDYXB0aW9uc1BhZHMiLCJnZXRJbmRleCIsImxlbmd0aCIsImluZGV4Iiwic3RhcnRJbmRleCIsImxvY2FsZUNvZGUiLCJlbmRJbmRleCIsInJlYWRPbmx5VVJMIiwiZ2V0UmVhZE9ubHlJZFVSTCIsInJlYWRPbmx5UGFkSWQiLCJnZXREYXRhRnJvbVJlc3BvbnNlIiwidXBkYXRlUmVhZE9ubHlQYWRJZCIsIiRyZWdleCIsIkNBUFRJT05TX1RPS0VOIiwidXBkYXRlT3duZXJJZCIsIm93bmVySWQiLCJyZXZzIiwiQ2FwdGlvbnMiLCJ1cGRhdGVPd25lciIsImVkaXRDYXB0aW9ucyIsImFkZFBhZCIsInByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkiLCJFVEhFUlBBRCIsIkNBUFRJT05TX0NPTkZJRyIsIkJBU0VOQU1FIiwiQVBQIiwiTE9DQUxFU19VUkwiLCJob3N0IiwicG9ydCIsImxvY2FsZXNVcmwiLCJUT0tFTiIsImhhc2hTSEExIiwiaXNDYXB0aW9uc1BhZCIsInNwbGl0UGFkSWQiLCJzcGxpdENoYW5nZXNldCIsImZuIiwiYXBwZW5kVGV4dCIsImJvdW5kQ2FwdGlvbnMiLCJjYXB0aW9ucyIsInN0cmVhbWVyTG9nIiwiQ1VSU09SX1BST0NDRVNTX0lOVEVSVkFMIiwiY3Vyc29yUXVldWUiLCJwcm9jY2VzcyIsImN1cnNvcnMiLCJDdXJzb3JTdHJlYW1lciIsInB1Ymxpc2hDdXJzb3JVcGRhdGUiLCJtZXNzYWdlIiwic3RyZWFtTmFtZSIsInN0cmVhbWVyTmFtZSIsImFsbG93UmVjZW50TWVzc2FnZXMiLCJzdGF0ZSIsImV4dGVybmFsVmlkZW9VcmwiLCJwcmVzZW50ZXIiLCJNZWV0aW5ncyIsIm1lZXRpbmciLCJlbWl0RXh0ZXJuYWxWaWRlb0V2ZW50IiwiYWRkR3JvdXBDaGF0IiwiY2hhdHMiLCJjaGF0IiwiY29ycmVsYXRpb25JZCIsIkRhdGUiLCJtc2ciLCJyZWNlaXZlciIsImFjY2VzcyIsImNoYXRJZCIsImNyZWF0ZWRCeSIsImNoYXREb2N1bWVudCIsInUiLCJzYWZlIiwiR3JvdXBDaGF0IiwiY2xlYXJHcm91cENoYXRNc2ciLCJkZXN0cm95R3JvdXBDaGF0IiwiQ0hBVF9DT05GSUciLCJQVUJMSUNfQ0hBVF9UWVBFIiwiJGFsbCIsImJvdW5kR3JvdXBDaGF0IiwiZ3JvdXBDaGF0IiwiQ0hBVF9BQ0NFU1MiLCJQVUJMSUMiLCJQUklWQVRFIiwiQ0hBVF9BQ0NFU1NfUFVCTElDIiwiQ0hBVF9BQ0NFU1NfUFJJVkFURSIsImJ1ZmZlckNoYXRJbnNlcnRzTXMiLCJtc2dCdWZmZXIiLCJidWxrRm4iLCJhZGRHcm91cENoYXRNc2ciLCJtc2dzIiwic3luY01lZXRpbmdDaGF0TXNncyIsInN0YXJ0VHlwaW5nIiwiUFVCTElDX0dST1VQX0NIQVRfSUQiLCJIVE1MX1NBRkVfTUFQIiwicGFyc2VNZXNzYWdlIiwicGFyc2VkTWVzc2FnZSIsImMiLCJVc2Vyc1R5cGluZyIsInVzZXJUeXBpbmciLCJzdG9wVHlwaW5nIiwiR3JvdXBDaGF0TXNnIiwibWFwcGVkTXNncyIsIl9pZCIsInNlbmRlciIsImVsIiwiaW5zZXJ0ZWRDb3VudCIsIkJSRUFLX0xJTkUiLCJ0aW1lc3RhbXAiLCJtc2dEb2N1bWVudCIsIlBVQkxJQ19DSEFUX1NZU1RFTV9JRCIsIkNIQVRfQ0xFQVJfTUVTU0FHRSIsImNsZWFyTXNnIiwiJGVxIiwiVFlQSU5HX1RJTUVPVVQiLCJpc1R5cGluZ1RvIiwidGltZSIsInR5cGluZ1VzZXIiLCJzZW5kTXNnSW5pdGlhdGVkIiwic3RpbGxUeXBpbmciLCJidWxrT3BlcmF0aW9ucyIsIm1zZ1RvU3luYyIsIl9zdHIiLCJzdG9wVXNlclR5cGluZyIsIiRpbiIsImNoYXRzSWRzIiwiZ3JvdXBDaGF0TXNnIiwiYm91bmRVc2Vyc1R5cGluZyIsInVzZXJzVHlwaW5nIiwiZ3Vlc3RzIiwiZ3Vlc3QiLCJzZXRHdWVzdFN0YXR1cyIsInN0cmluZ0hhc2giLCJDT0xPUl9MSVNUIiwiaW50SWQiLCJhcHByb3ZlZCIsImRlbmllZCIsImxvZ2luVGltZSIsIm1hcHBlZEd1ZXN0cyIsImFwcHJvdmVkQnkiLCJKU09OIiwic2V0QnkiLCJwb2xpY3kiLCJwb2xpY3lSdWxlIiwiR3Vlc3RVc2VycyIsIkdVRVNUX1NUQVRVU19BTExPVyIsIkdVRVNUX1NUQVRVU19ERU5ZIiwiY2hhbmdlR3Vlc3RQb2xpY3kiLCJib3VuZFNsaWRlcyIsImd1ZXN0VXNlcnMiLCJ1c2VyTG9jYWxTZXR0aW5ncyIsInNldHRpbmdzIiwic2V0Q2hhbmdlZExvY2FsU2V0dGluZ3MiLCJMb2NhbFNldHRpbmdzIiwibnVtQ2hhbmdlZCIsInVzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncyIsImJvdW5kTG9jYWxTZXR0aW5ncyIsImxvY2FsU2V0dGluZ3MiLCJsb2dDbGllbnQiLCJsb2dDb2RlIiwiZXh0cmFJbmZvIiwidXNlckluZm8iLCJjb25uZWN0aW9uSWQiLCJsb2dDb250ZW50cyIsImxldmVsIiwiaGFuZGxlTWVldGluZ0NyZWF0aW9uIiwiZHVyYXRpb25JblNlY29kcyIsImFkZE1lZXRpbmciLCJkZXN0cm95RXh0ZXJuYWxWaWRlbyIsInJlbW92ZUFubm90YXRpb25zU3RyZWFtZXIiLCJyZW1vdmVDdXJzb3JTdHJlYW1lciIsImNiIiwibWVldGluZ1R5cGUiLCJVc2VycyIsImNvbm5lY3Rpb25TdGF0dXMiLCJtZWV0aW5nSGFzRW5kZWQiLCJtZWV0aW5nRW5kZWQiLCJjaGFuZ2VMb2NrU2V0dGluZ3MiLCJyZWNvcmRpbmciLCJSZWNvcmRNZWV0aW5ncyIsInRpbWVMZWZ0SW5TZWMiLCJNZWV0aW5nVGltZVJlbWFpbmluZyIsImNoYW5nZVVzZXJMb2NrIiwiY2hhbmdlV2ViY2FtT25seU1vZGVyYXRvciIsImRpc2FibGVDYW0iLCJkaXNhYmxlTWljIiwiZGlzYWJsZVByaXZhdGVDaGF0IiwiZGlzYWJsZVB1YmxpY0NoYXQiLCJkaXNhYmxlTm90ZSIsImhpZGVVc2VyTGlzdCIsImxvY2tlZExheW91dCIsImxvY2tPbkpvaW4iLCJsb2NrT25Kb2luQ29uZmlndXJhYmxlIiwicmVjb3JkT2JqZWN0IiwibWVldGluZ1JlY29yZGVkIiwiYWxsb3dlZFRvUmVjb3JkIiwidG9NZWV0aW5nSWQiLCJicmVha291dFByb3BzIiwic2VxdWVuY2UiLCJicmVha291dFJvb21zIiwicGFyZW50SWQiLCJlbmFibGVkIiwicHJpdmF0ZUNoYXRFbmFibGVkIiwibWVldGluZ1Byb3AiLCJleHRJZCIsImlzQnJlYWtvdXQiLCJ1c2Vyc1Byb3AiLCJ3ZWJjYW1zT25seUZvck1vZGVyYXRvciIsImd1ZXN0UG9saWN5IiwibWF4VXNlcnMiLCJhbGxvd01vZHNUb1VubXV0ZVVzZXJzIiwiZHVyYXRpb25Qcm9wcyIsImNyZWF0ZWRUaW1lIiwiZHVyYXRpb24iLCJjcmVhdGVkRGF0ZSIsIm1heEluYWN0aXZpdHlUaW1lb3V0TWludXRlcyIsIndhcm5NaW51dGVzQmVmb3JlTWF4IiwibWVldGluZ0V4cGlyZUlmTm9Vc2VySm9pbmVkSW5NaW51dGVzIiwibWVldGluZ0V4cGlyZVdoZW5MYXN0VXNlckxlZnRJbk1pbnV0ZXMiLCJ1c2VySW5hY3Rpdml0eUluc3BlY3RUaW1lckluTWludXRlcyIsInVzZXJJbmFjdGl2aXR5VGhyZXNob2xkSW5NaW51dGVzIiwidXNlckFjdGl2aXR5U2lnblJlc3BvbnNlRGVsYXlJbk1pbnV0ZXMiLCJ3ZWxjb21lUHJvcCIsIndlbGNvbWVNc2ciLCJtb2RPbmx5TWVzc2FnZSIsIndlbGNvbWVNc2dUZW1wbGF0ZSIsInJlY29yZFByb3AiLCJhbGxvd1N0YXJ0U3RvcFJlY29yZGluZyIsImF1dG9TdGFydFJlY29yZGluZyIsInBhc3N3b3JkIiwidmlld2VyUGFzcyIsIm1vZGVyYXRvclBhc3MiLCJ2b2ljZVByb3AiLCJ2b2ljZUNvbmYiLCJkaWFsTnVtYmVyIiwidGVsVm9pY2UiLCJtdXRlT25TdGFydCIsInNjcmVlbnNoYXJlUHJvcHMiLCJyZWQ1U2NyZWVuc2hhcmVJcCIsInJlZDVTY3JlZW5zaGFyZUFwcCIsInNjcmVlbnNoYXJlQ29uZiIsIm1ldGFkYXRhUHJvcCIsImxvY2tTZXR0aW5nc1Byb3BzIiwicmVzdFByb3BzIiwibmV3TWVldGluZyIsInNhbml0aXplVGV4dEluQ2hhdCIsIm9yaWdpbmFsIiwiU2FuaXRpemVIVE1MIiwiYWxsb3dlZFRhZ3MiLCJhbGxvd2VkQXR0cmlidXRlcyIsImEiLCJpbWciLCJhbGxvd2VkU2NoZW1lcyIsInNhbml0aXplZFdlbGNvbWVUZXh0IiwiaW5zZXJ0QmxhbmtUYXJnZXQiLCJzIiwibGlua1dpdGhvdXRUYXJnZXQiLCJwdWJsaXNoZWRQb2xsIiwiYWRkQW5ub3RhdGlvbnNTdHJlYW1lciIsImFkZEN1cnNvclN0cmVhbWVyIiwiY3JlYXRlTm90ZSIsImNyZWF0ZUNhcHRpb25zIiwiQmFubmVkVXNlcnMiLCJkaXNhYmxlUHJpdkNoYXQiLCJkaXNhYmxlUHViQ2hhdCIsImxvY2tlZCIsImxvY2tlZEJ5IiwiY2xlYXJDYXB0aW9ucyIsImNsZWFyR3JvdXBDaGF0IiwiY2xlYXJHdWVzdFVzZXJzIiwiY2xlYXJQcmVzZW50YXRpb25Qb2RzIiwiY2xlYXJQb2xscyIsImNsZWFyU2xpZGVzIiwiY2xlYXJVc2VycyIsImNsZWFyVXNlcnNTZXR0aW5ncyIsImNsZWFyVm9pY2VVc2VycyIsImNsZWFyVXNlckluZm8iLCJjbGVhck5vdGUiLCJjbGVhck5ldHdvcmtJbmZvcm1hdGlvbiIsImNsZWFyTG9jYWxTZXR0aW5ncyIsImNsZWFyTWVldGluZ1RpbWVSZW1haW5pbmciLCJjbGVhclJlY29yZE1lZXRpbmciLCJjbGVhclZvaWNlQ2FsbFN0YXRlcyIsImNsZWFyVmlkZW9TdHJlYW1zIiwiY2xlYXJXaGl0ZWJvYXJkTXVsdGlVc2VyIiwiY2xlYXJTY3JlZW5zaGFyZSIsImlzUHVibGlzaGVkIiwidG9nZ2xlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3IiLCJib3VuZE1lZXRpbmdzIiwibWVldGluZ3MiLCJib3VuZFJlY29yZE1lZXRpbmdzIiwicmVjb3JkTWVldGluZ3MiLCJib3VuZHRpbWVSZW1haW5pbmciLCJtZWV0aW5nVGltZVJlbWFpbmluZyIsIk5ldHdvcmtJbmZvcm1hdGlvbiIsInVzZXJJbnN0YWJpbGl0eURldGVjdGVkIiwiYm91bmROZXR3b3JrSW5mb3JtYXRpb24iLCJuZXR3b3JrSW5mb3JtYXRpb24iLCJ1cGRhdGVOb3RlIiwibm90ZUlkIiwiZ2VuZXJhdGVOb3RlSWQiLCJjcmVhdGVVUkwiLCJjcmVhdGVQYWRVUkwiLCJyZXNwb25zZU91dGVyIiwicmVhZE9ubHlOb3RlSWQiLCJhZGROb3RlIiwiTm90ZSIsInByb2Nlc3NGb3JOb3RlUGFkT25seSIsIk5PVEVfQ09ORklHIiwiQkFTRV9VUkwiLCJhcGlrZXkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJpbm5lckRhdGEiLCJpc05vdGVQYWQiLCJib3VuZE5vdGUiLCJub3RlIiwibGFzdFBpbmciLCJwaW5nIiwiQ09MTEVDVElPTl9OQU1FIiwiSU5URVJWQUxfSU5fU0VUVElOR1MiLCJJTlRFUlZBTF9USU1FIiwiUE9OR19JTlRFUlZBTF9JTl9TRVRUSU5HUyIsIlBPTkdfSU5URVJWQUwiLCJwb25nU2VuZGVyIiwiaW50ZXJ2YWwiLCJwb25nIiwicG9sbElkIiwic2V0UHVibGlzaGVkUG9sbCIsInJlbW92ZVBvbGwiLCJwb2xsIiwiYWRkUG9sbCIsImFuc3dlcklkIiwiJHB1bGwiLCJyZXNwb25zZXMiLCJQb2xscyIsImFuc3dlcnMiLCJrZXkiLCJudW1Wb3RlcyIsIm51bVJlc3BvbmRlbnRzIiwibnVtUmVzcG9uZGVycyIsInVwZGF0ZVZvdGVzIiwicmVxdWVzdGVySWQiLCJhbGxvd2VkVG9Wb3RlIiwicG9sbEFuc3dlcklkIiwicXVlc3Rpb25JZCIsInBvbGxUeXBlIiwidXNlclNlbGVjdG9yIiwiJG5lIiwiY2xpZW50VHlwZSIsInVzZXJJZHMiLCJyZXF1ZXN0ZXIiLCJzdG9wUG9sbCIsImJvdW5kUG9sbHMiLCJjdXJyZW50UG9sbCIsInBvbGxzIiwiY3VycmVudFByZXNlbnRlcklkIiwicG9kSWQiLCJwb2QiLCJhZGRQcmVzZW50YXRpb25Qb2QiLCJyZW1vdmVQcmVzZW50YXRpb25Qb2QiLCJuZXh0UHJlc2VudGVySWQiLCJzZXRQcmVzZW50ZXJJblBvZCIsInBvZHMiLCJwcmVzZW50YXRpb25Qb2RJZHMiLCJwcmVzZW50YXRpb25Qb2RzVG9SZW1vdmUiLCIkbmluIiwicCIsImN1cnJlbnRQcmVzZW50ZXIiLCJwcmVzZW50YXRpb25zIiwiUHJlc2VudGF0aW9uUG9kcyIsInByZXNlbnRhdGlvbiIsImFkZFByZXNlbnRhdGlvbiIsImNsZWFyUHJlc2VudGF0aW9ucyIsImNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4iLCJib3VuZFByZXNlbnRhdGlvblBvZHMiLCJwcmVzZW50YXRpb25Qb2RzIiwiZmlsZW5hbWUiLCJmYWlsZWQiLCJhdXRoelRva2VuIiwidXNlZCIsIlByZXNlbnRhdGlvblVwbG9hZFRva2VuIiwic2V0VXNlZFRva2VuIiwiYm91bmRQcmVzZW50YXRpb25VcGxvYWRUb2tlbiIsInByZXNlbnRhdGlvblVwbG9hZFRva2VuIiwiT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0ZBSUxFRF9LRVkiLCJPRkZJQ0VfRE9DX0NPTlZFUlNJT05fSU5WQUxJRF9LRVkiLCJTVVBQT1JURURfRE9DVU1FTlRfS0VZIiwiVU5TVVBQT1JURURfRE9DVU1FTlRfS0VZIiwiUEFHRV9DT1VOVF9GQUlMRURfS0VZIiwiUEFHRV9DT1VOVF9FWENFRURFRF9LRVkiLCJQREZfSEFTX0JJR19QQUdFX0tFWSIsIkdFTkVSQVRFRF9TTElERV9LRVkiLCJtZXNzYWdlS2V5IiwicHJlc05hbWUiLCJwcmVzZW50YXRpb25OYW1lIiwic3RhdHVzTW9kaWZpZXIiLCJwcmVzZW50YXRpb25JZCIsIlByZXNlbnRhdGlvbnMiLCJzZXRDdXJyZW50UHJlc2VudGF0aW9uIiwiZG93bmxvYWRhYmxlIiwic2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlIiwicmVtb3ZlUHJlc2VudGF0aW9uIiwiZ2V0U2xpZGVUZXh0IiwiY29udGVudCIsIkhUVFAiLCJhZGRTbGlkZXMiLCJzbGlkZXMiLCJzbGlkZSIsImFkZFNsaWRlIiwiY3VycmVudCIsInBhZ2VzIiwibnVtIiwidGh1bWJVcmkiLCJzd2ZVcmkiLCJ0eHRVcmkiLCJzdmdVcmkiLCJ4T2Zmc2V0IiwieU9mZnNldCIsIndpZHRoUmF0aW8iLCJoZWlnaHRSYXRpbyIsImNsZWFyU2xpZGVzUHJlc2VudGF0aW9uIiwib2xkQ3VycmVudCIsImNhbGxiYWNrIiwibmV3Q3VycmVudCIsIm9sZFByZXNlbnRhdGlvbiIsIm5ld1ByZXNlbnRhdGlvbiIsImJvdW5kUHJlc2VudGF0aW9ucyIsInByZXNlbnRlcklkIiwic3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyIsImFkZFNjcmVlbnNoYXJlIiwic2NyZWVuc2hhcmUiLCJTY3JlZW5zaGFyZSIsImJvdW5kU2NyZWVuc2hhcmUiLCJjaGFuZ2VDdXJyZW50U2xpZGUiLCJyZXNpemVTbGlkZSIsIlByZXNlbnRhdGlvbiIsIlNsaWRlIiwic2xpZGVOdW1iZXIiLCJwYWdlSWQiLCJsb2FkU2xpZGVzRnJvbUh0dHBBbHdheXMiLCJyZXF1ZXN0V2hpdGVib2FyZEhpc3RvcnkiLCJVU0VSX0lEIiwic2xpZGVJZCIsIlNVUFBPUlRFRF9UWVBFUyIsImZldGNoSW1hZ2VTaXplcyIsImltYWdlVXJpIiwicmVzdWx0IiwibWltZSIsIndpZHRoIiwiaGVpZ2h0IiwicmVhc29uIiwicmVzdFNsaWRlIiwiaW1hZ2VTaXplVXJpIiwic2xpZGVEYXRhIiwic2xpZGVQb3NpdGlvbiIsImNhbGN1bGF0ZVNsaWRlRGF0YSIsImFkZFNsaWRlUG9zaXRpb25zIiwiU2xpZGVzIiwiU2xpZGVQb3NpdGlvbnMiLCJ2aWV3Qm94V2lkdGgiLCJ2aWV3Qm94SGVpZ2h0Iiwib2xkU2xpZGUiLCJuZXdTbGlkZSIsIm51bWJlckFmZmVjdGVkU2xpZGVQb3NpdGlvbnMiLCJ3aGl0ZWJvYXJkSWRzIiwicm93IiwiU2xpZGVQb3NpdGlvbiIsImNhbGN1bGF0ZWREYXRhIiwiem9vbVNsaWRlIiwiYm91bmRTbGlkZVBvc2l0aW9ucyIsInNsaWRlUG9zaXRpb25zIiwiY2hhbmdlZEJ5IiwiY2hhbmdlUm9sZSIsImVtb2ppIiwiZW1vamlUaW1lIiwidXNlcnNJZHMiLCJtIiwidXNlcnNUb1JlbW92ZSIsInJlbW92ZVVzZXIiLCJ1c2Vyc0FkZGVkIiwiYWRkVXNlciIsImFzc2lnbmVkQnkiLCJjaGFuZ2VQcmVzZW50ZXIiLCJwcmV2UHJlc2VudGVyIiwic2V0UHJlc2VudGVyUGF5bG9hZCIsImRlZmF1bHRQb2RTZWxlY3RvciIsImN1cnJlbnREZWZhdWx0UG9kUHJlc2VudGVyIiwic2V0UHJlc2VudGVySW5Qb2RSZXFNc2ciLCJvbGRQcmVzZW50ZXIiLCJ1c2VyRWplY3RlZCIsInJlYXNvbkNvZGUiLCJyZXNwb25zZURlbGF5IiwidXNlckluYWN0aXZpdHlJbnNwZWN0IiwiYXV0aFRva2VuIiwiY2xlYXJPdGhlclNlc3Npb25zIiwic2VydmVyU2Vzc2lvbnMiLCJpIiwid2FpdEZvckFwcHJvdmFsIiwicGVuZGluZ0F1dGhzIiwicGVuZGluZ0F1dGhlbnRpY2F0aW9uc1N0b3JlIiwicGVuZGluZ0F1dGgiLCJtZXRob2RJbnZvY2F0aW9uT2JqZWN0Iiwic2Vzc2lvbklkIiwiY3JlYXRlRHVtbXlVc2VyIiwic2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuIiwidmFsaWQiLCJ1c2VySm9pbiIsInZhbGlkYXRlZCIsImluYWN0aXZpdHlDaGVjayIsInNlc3Npb25Vc2VySWQiLCJjdXJyZW50Q29ubmVjdGlvbklkIiwibmV3UHJlc2VudGVySWQiLCJuZXdQcmVzZW50ZXJOYW1lIiwiZWplY3RlZEJ5IiwiYmFuVXNlciIsInJlbW92ZWRVc2VyIiwiZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUiLCJzZXRFZmZlY3RpdmVDb25uZWN0aW9uVHlwZSIsImxvY2siLCJsb2dnZWRPdXQiLCJleHRlcm5hbElkIiwiaW52YWxpZCIsImVycm9yX3R5cGUiLCJpc1VzZXJJbnZhbGlkIiwiZWplY3RlZCIsInJlcXVlc3RlclRva2VuIiwiVVNFUl9DT05GSUciLCJST0xFX1ZJRVdFUiIsImNhbGxlck5hbWUiLCJ2b2ljZU9ubHlVc2VyIiwiYXV0aGVkIiwid2FpdGluZ0ZvckFjY2VwdGFuY2UiLCJndWVzdFN0YXR1cyIsImF2YXRhciIsInNhbml0aXplZE5hbWUiLCJ1c2VyRGF0YSIsIk1lZXRpbmciLCJzb3J0TmFtZSIsImlzQnJlYWtvdXRVc2VyIiwiYWRkVm9pY2VVc2VyIiwidm9pY2VVc2VySWQiLCJjYWxsZXJOdW0iLCJtdXRlZCIsInRhbGtpbmciLCJjYWxsaW5nV2l0aCIsImxpc3Rlbk9ubHkiLCJqb2luZWQiLCJkb2MiLCJjbGVhckFsbFNlc3Npb25zIiwidXNlclRvUmVtb3ZlIiwiVmlkZW9TdHJlYW1zIiwiY2xlYXJVc2VySW5mb0ZvclJlcXVlc3RlciIsImVqZWN0ZWRSZWFzb24iLCJjb25zdHJ1Y3RvciIsImluaXQiLCJhZGQiLCJkZWxldGUiLCJoYXMiLCJnZW5lcmF0ZUtleSIsInRha2UiLCJtYXRjaGVzIiwiZSIsInVzZXJMZWZ0TWVldGluZyIsIm9uQ2xvc2VDb25uZWN0aW9uIiwidXNlckxlYXZpbmciLCJib3VuZFVzZXJzIiwiY3VycmVudFVzZXIiLCJhZGRVc2VySW5mbyIsIlVzZXJJbmZvcyIsImV4dGVybmFsVXNlcklkIiwiaW5mbyIsInJlbW92ZVVzZXJJbmZvcm1hdGlvbiIsImJvdW5kVXNlckluZm9zIiwidXNlckluZm9zIiwib2xkUGFyYW1ldGVycyIsImFza0ZvckZlZWRiYWNrT25Mb2dvdXQiLCJhdXRvSm9pbiIsImF1dG9TaGFyZVdlYmNhbSIsImF1dG9Td2FwTGF5b3V0IiwiY2xpZW50VGl0bGUiLCJjdXN0b21TdHlsZSIsImN1c3RvbVN0eWxlVXJsIiwiZGlzcGxheUJyYW5kaW5nQXJlYSIsImVuYWJsZVNjcmVlbnNoYXJpbmciLCJlbmFibGVWaWRlbyIsImZvcmNlTGlzdGVuT25seSIsImhpZGVQcmVzZW50YXRpb24iLCJsaXN0ZW5Pbmx5TW9kZSIsIm11bHRpVXNlclBlbk9ubHkiLCJtdWx0aVVzZXJUb29scyIsIm91dHNpZGVUb2dnbGVSZWNvcmRpbmciLCJvdXRzaWRlVG9nZ2xlU2VsZlZvaWNlIiwicHJlc2VudGVyVG9vbHMiLCJzaG9ydGN1dHMiLCJza2lwQ2hlY2siLCJvbGRQYXJhbWV0ZXJzS2V5cyIsImN1cnJlbnRQYXJhbWV0ZXJzIiwicGFyc2VkVmFsdWUiLCJ2YWwiLCJsb2dnZXIiLCJwYXJhbWV0ZXJzIiwic2V0dGluZ0tleSIsIm5vcm1hbGl6ZWRLZXkiLCJ2YWx1ZVBhcnNlciIsIm1hdGNoaW5nTmV3S2V5Iiwic2V0dGluZ3NBZGRlZCIsInNldHRpbmciLCJ2YWx1ZSIsImFkZFVzZXJTZXR0aW5nIiwiVXNlclNldHRpbmdzIiwiYWRkVXNlclNldHRpbmdzIiwibWFpblJvb21Vc2VyU2V0dGluZ3MiLCJib3VuZFVzZXJTZXR0aW5ncyIsInVzZXJTZXR0aW5ncyIsInN0cmVhbSIsImlzVmFsaWRTdHJlYW0iLCJzaGFyZWRXZWJjYW0iLCJ1bnNoYXJlZFdlYmNhbSIsImRldmljZUlkIiwiZ2V0RGV2aWNlSWQiLCJnZXRVc2VyTmFtZSIsIkZMQVNIX1NUUkVBTV9SRUdFWCIsInNwbGl0U3RyZWFtIiwidXNlclVuc2hhcmVXZWJjYW0iLCJib3VuZFZpZGVvU3RyZWFtcyIsInZpZGVvU3RyZWFtcyIsImNhbGxTdGF0ZSIsImNsaWVudFNlc3Npb24iLCJWb2ljZUNhbGxTdGF0ZSIsIlZvaWNlQ2FsbFN0YXRlcyIsImJvdW5kVm9pY2VDYWxsU3RhdGVzIiwidm9pY2VDYWxsU3RhdGVzIiwidm9pY2VVc2Vyc0lkc1RvVXBkYXRlIiwidm9pY2VVc2Vyc1VwZGF0ZWQiLCJ1cGRhdGVWb2ljZVVzZXIiLCJ2b2ljZVVzZXJzVG9SZW1vdmUiLCJyZW1vdmVWb2ljZVVzZXIiLCJ2b2ljZVVzZXIiLCJhZGREaWFsSW5Vc2VyIiwiaXNEaWFsSW5Vc2VyIiwiY2hhbmdlTXV0ZU1lZXRpbmciLCJWb2ljZVVzZXJzIiwidm9pY2VVc2VycyIsInZvaWNlIiwidG9nZ2xlTWVldGluZ011dGVkIiwibXV0ZWRCeSIsIm11dGUiLCJ1c2VyVG9NdXRlIiwidUlkIiwidG9nZ2xlIiwiX211dGVkIiwic3Bva2UiLCJjbGVhclNwb2tlVGltZW91dCIsIlRBTEtJTkdfVElNRU9VVCIsInN0YXJ0VGltZSIsInRpbWVvdXRIYW5kbGUiLCJlbmRUaW1lIiwic3Bva2VEZWxheSIsInNwb2tlVGltZW91dEhhbmRsZXMiLCJ0b2dnbGVWb2ljZSIsIm11dGVBbGxVc2VycyIsIm11dGVBbGxFeGNlcHRQcmVzZW50ZXIiLCJlamVjdFVzZXJGcm9tVm9pY2UiLCJib3VuZFZvaWNlVXNlciIsIldoaXRlYm9hcmRNdWx0aVVzZXIiLCJjaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzIiwiYm91bmRNdWx0aVVzZXIiLCJ3aGl0ZWJvYXJkTXVsdGlVc2VyIiwiTVNHX0RJUkVDVF9UWVBFIiwiTk9ERV9VU0VSIiwiaW5kZXhPZiIsImwiLCJlbnZlbG9wZSIsInJvdXRpbmciLCJzaG91bGRTa2lwIiwibXNnVHlwZSIsInN0ciIsInNoYTEiLCJjcmVkZW50aWFscyIsImNyZWRlbnRpYWxzQXJyYXkiLCJBVkFJTEFCTEVfTE9DQUxFUyIsImZzIiwiQVBQX0NPTkZJRyIsImVudiIsIkNETl9VUkwiLCJjdXN0b21IZWFydGJlYXQiLCJuZXdIZWFydGJlYXQiLCJjdXJyZW50VGltZSIsImxhc3RTZW50RnJhbWVUaW1lc3RhbXAiLCJzdXBwb3J0c0hlYXJ0YmVhdHMiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2VudEF0Iiwibm93IiwibmV3U2VuZCIsImNvbnNvbGUiLCJzb2NrZXQiLCJyZWN2Iiwic2Vzc2lvbiIsIm1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncyIsImhlYXBEdW1wTWJUaHJlc2hvbGQiLCJoZWFwZHVtcEZvbGRlclBhdGgiLCJtZW13YXRjaCIsInN0YXRzIiwiaGVhcER1bXBUcmlnZ2VyZWQiLCJoZWFwZHVtcCIsInBhdGgiLCJCcm93c2VyUG9saWN5IiwiV2ViQXBwSW50ZXJuYWxzIiwiZm9udFJlZ0V4cCIsIldlYkFwcCIsInJlcSIsInJlcyIsIm5leHQiLCJzZXRNaW5Ccm93c2VyVmVyc2lvbnMiLCIkbHQiLCJodG1sNWNsaWVudFN0YXR1cyIsImZhbGxiYWNrIiwib3ZlcnJpZGUiLCJicm93c2VyTG9jYWxlIiwibG9jYWxlTGlzdCIsInVzYWJsZUxvY2FsZXMiLCJmaWxlIiwicmVnaW9uRGVmYXVsdCIsIm1lc3NhZ2VzIiwibm9ybWFsaXplZExvY2FsZSIsIkFzc2V0cyIsIkxhbmdtYXAiLCJuYXRpdmVOYW1lIiwidXNlck5hbWUiLCJyYXRpbmciLCJyZXFVc2VyTmFtZSIsImZlZWRiYWNrIiwidXNlckFnZW50IiwibG9va3VwVXNlckFnZW50IiwiZXZlbnRFbWl0dGVyIiwiUmVkaXMiLCJyZWRpc1B1YlN1YiIsIkxPR19DT05GSUciLCJjcmVhdGVMb2dnZXIiLCJmb3JtYXQiLCJ0cmFuc3BvcnRzIiwicHJldHR5UHJpbnQiLCJodW1hblJlYWRhYmxlVW5oYW5kbGVkRXhjZXB0aW9uIiwiY29sb3JpemUiLCJoYW5kbGVFeGNlcHRpb25zIiwicmVtb3ZlTWVldGluZ09uRW5kIiwiYWRkRXZlbnQiLCJjdXJyZW50bHlJblF1ZXVlIiwid2FzSW5RdWV1ZSIsImNvdW50IiwicGF5bG9hZFNpemUiLCJtZXNzYWdlTGVuZ3RoIiwicHJvY2Vzc0V2ZW50IiwiY3VycmVudFByb2Nlc3NpbmdUaW1lc3RhbXAiLCJwcm9jZXNzVGltZSIsIm1pbiIsIm1heCIsImxhc3QiLCJ0b3RhbCIsImF2ZyIsInNpemUiLCJwcm9jZXNzaW5nVGltZSIsInNldEFubm90YXRpb25RdWV1ZUxlbmd0aCIsInN0YXJ0RHVtcEZpbGUiLCJmaWxlRGF0ZSIsImZ1bGxZZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlcyIsInNlY29uZHMiLCJmb2xkZXJOYW1lIiwiZmlsZU5hbWUiLCJmb2xkZXJQYXRoIiwiZnVsbEZpbGVQYXRoIiwicmVtb3ZlTWVldGluZyIsIm1ldHJpY3NTaW5nbGV0b24iLCJtaW5Ccm93c2VyVmVyc2lvbnMiLCJ2ZXJzaW9ucyIsImVsZW0iLCJzZXRNaW5pbXVtQnJvd3NlclZlcnNpb25zIiwiTk9fTUVFVElOR19JRCIsIm1ha2VFbnZlbG9wZSIsImNvcmUiLCJhc3luY01lc3NhZ2VzIiwicmVkaXNEZWJ1Z0VuYWJsZWQiLCJoYW5kbGVUYXNrIiwiY2hhbm5lbCIsImlzQXN5bmMiLCJiZWdpbkhhbmRsZVRpbWVzdGFtcCIsImNhbGxlZCIsImNhbGxOZXh0IiwicXVldWVJZCIsImRhdGFMZW5ndGgiLCJxdWV1ZUxlbmd0aCIsIm9uRXJyb3IiLCJjb25maWciLCJyZWRpc0NvbmYiLCJjaGFubmVsc1RvU3Vic2NyaWJlIiwidXBkYXRlQ29uZmlnIiwiaGFuZGxlU3Vic2NyaWJlIiwiaGFuZGxlTWVzc2FnZSIsImlnbm9yZWQiLCJhc3luYyIsImlnbm9yZWRNZXNzYWdlcyIsImRlc3Ryb3lNZWV0aW5nUXVldWUiLCJvbiIsInB1Ymxpc2hWb2ljZU1lc3NhZ2UiLCJwdWJsaXNoU3lzdGVtTWVzc2FnZSIsInB1Ymxpc2hNZWV0aW5nTWVzc2FnZSIsInB1Ymxpc2hVc2VyTWVzc2FnZSIsIlJlZGlzUHViU3ViU2luZ2xldG9uIiwiWUFNTF9GSUxFX1BBVEgiLCJTRVRUSU5HUyIsIllBTUwiLCJfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fIiwiQ0FSUklBR0VfUkVUVVJOIiwiTkVXX0xJTkUiLCJYTFMiLCJYTFNYIiwiRE9DIiwiRE9DWCIsIlBQVCIsIlBQVFgiLCJPRFQiLCJSVEYiLCJUWFQiLCJPRFMiLCJPRFAiLCJQREYiLCJKUEVHIiwiUE5HIiwiU1ZHIiwiVVBMT0FEX1NVUE9SVEVEIiwiZ2xvYmFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGNBQWM7QUFB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LGFBQVAsQ0EwQ2UsSUFBZix1QkFBZSxFQTFDZixFOzs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFXQW5DLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBO0FBQ0FBLFdBQVcsQ0FBWEE7QUFDQUEsV0FBVyxDQUFYQTtBQUNBQSxXQUFXLENBQVhBLDREOzs7Ozs7Ozs7OztBQ25CQSxPQUFPLElBQVA7QUFBQTtBQUFBLDRCOzs7Ozs7Ozs7OztBQ0FBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFXQVosTUFBTSxDQUFOQSxRQUFlO0FBQUE7QUFBQTtB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LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBtb2RpZnlXaGl0ZWJvYXJkQWNjZXNzIGZyb20gJy9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL21vZGlmaWVycy9tb2RpZnlXaGl0ZWJvYXJkQWNjZXNzJztcbmltcG9ydCBjbGVhckFubm90YXRpb25zIGZyb20gJy4uL21vZGlmaWVycy9jbGVhckFubm90YXRpb25zJztcbmltcG9ydCBhZGRBbm5vdGF0aW9uIGZyb20gJy4uL21vZGlmaWVycy9hZGRBbm5vdGF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlV2hpdGVib2FyZEFubm90YXRpb25zKHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhoZWFkZXIsIE9iamVjdCk7XG4gIGlmIChoZWFkZXIudXNlcklkICE9PSAnbm9kZUpTYXBwJykgeyByZXR1cm4gZmFsc2U7IH1cblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyBhbm5vdGF0aW9ucywgd2hpdGVib2FyZElkLCBtdWx0aVVzZXIgfSA9IGJvZHk7XG5cbiAgY2hlY2soYW5ub3RhdGlvbnMsIEFycmF5KTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuICBjaGVjayhtdWx0aVVzZXIsIEJvb2xlYW4pO1xuXG4gIGNsZWFyQW5ub3RhdGlvbnMobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQpO1xuXG4gIGNvbnN0IGFubm90YXRpb25zQWRkZWQgPSBbXTtcbiAgXy5lYWNoKGFubm90YXRpb25zLCAoYW5ub3RhdGlvbikgPT4ge1xuICAgIGNvbnN0IHsgd2JJZCwgdXNlcklkIH0gPSBhbm5vdGF0aW9uO1xuICAgIGFubm90YXRpb25zQWRkZWQucHVzaChhZGRBbm5vdGF0aW9uKG1lZXRpbmdJZCwgd2JJZCwgdXNlcklkLCBhbm5vdGF0aW9uKSk7XG4gIH0pO1xuXG4gIG1vZGlmeVdoaXRlYm9hcmRBY2Nlc3MobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIG11bHRpVXNlcik7XG5cbiAgcmV0dXJuIGFubm90YXRpb25zQWRkZWQ7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgQW5ub3RhdGlvbnNTdHJlYW1lciBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL3N0cmVhbWVyJztcblxuaW1wb3J0IGNsZWFyQW5ub3RhdGlvbnMgZnJvbSAnLi4vbW9kaWZpZXJzL2NsZWFyQW5ub3RhdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVXaGl0ZWJvYXJkQ2xlYXJlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIHtcbiAgICB1c2VySWQ6IFN0cmluZyxcbiAgICB3aGl0ZWJvYXJkSWQ6IFN0cmluZyxcbiAgICBmdWxsQ2xlYXI6IEJvb2xlYW4sXG4gIH0pO1xuXG4gIGNvbnN0IHsgd2hpdGVib2FyZElkLCBmdWxsQ2xlYXIsIHVzZXJJZCB9ID0gYm9keTtcblxuICBpZiAoZnVsbENsZWFyKSB7XG4gICAgQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ3JlbW92ZWQnLCB7IG1lZXRpbmdJZCwgd2hpdGVib2FyZElkIH0pO1xuICAgIHJldHVybiBjbGVhckFubm90YXRpb25zKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkKTtcbiAgfVxuXG4gIEFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKS5lbWl0KCdyZW1vdmVkJywgeyBtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkIH0pO1xuICByZXR1cm4gY2xlYXJBbm5vdGF0aW9ucyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBBbm5vdGF0aW9uc1N0cmVhbWVyIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuaW1wb3J0IGFkZEFubm90YXRpb24gZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEFubm90YXRpb24nO1xuaW1wb3J0IE1ldHJpY3MgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbWV0cmljcyc7XG5cbmNvbnN0IHsgcXVldWVNZXRyaWNzIH0gPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcy5tZXRyaWNzO1xuXG5jb25zdCB7XG4gIGFubm90YXRpb25zUXVldWVQcm9jZXNzSW50ZXJ2YWw6IEFOTk9UQVRJT05fUFJPQ0VTU19JTlRFUlZBTCxcbn0gPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndoaXRlYm9hcmQ7XG5cbmxldCBhbm5vdGF0aW9uc1F1ZXVlID0ge307XG5sZXQgYW5ub3RhdGlvbnNSZWNpZXZlcklzUnVubmluZyA9IGZhbHNlO1xuXG5jb25zdCBwcm9jZXNzID0gKCkgPT4ge1xuICBpZiAoIU9iamVjdC5rZXlzKGFubm90YXRpb25zUXVldWUpLmxlbmd0aCkge1xuICAgIGFubm90YXRpb25zUmVjaWV2ZXJJc1J1bm5pbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgYW5ub3RhdGlvbnNSZWNpZXZlcklzUnVubmluZyA9IHRydWU7XG4gIE9iamVjdC5rZXlzKGFubm90YXRpb25zUXVldWUpLmZvckVhY2goKG1lZXRpbmdJZCkgPT4ge1xuICAgIEFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKS5lbWl0KCdhZGRlZCcsIHsgbWVldGluZ0lkLCBhbm5vdGF0aW9uczogYW5ub3RhdGlvbnNRdWV1ZVttZWV0aW5nSWRdIH0pO1xuICAgIGlmIChxdWV1ZU1ldHJpY3MpIHtcbiAgICAgIE1ldHJpY3Muc2V0QW5ub3RhdGlvblF1ZXVlTGVuZ3RoKG1lZXRpbmdJZCwgMCk7XG4gICAgfVxuICB9KTtcbiAgYW5ub3RhdGlvbnNRdWV1ZSA9IHt9O1xuXG4gIE1ldGVvci5zZXRUaW1lb3V0KHByb2Nlc3MsIEFOTk9UQVRJT05fUFJPQ0VTU19JTlRFUlZBTCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVXaGl0ZWJvYXJkU2VuZCh7IGhlYWRlciwgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgdXNlcklkID0gaGVhZGVyLnVzZXJJZDtcbiAgY29uc3QgYW5ub3RhdGlvbiA9IGJvZHkuYW5ub3RhdGlvbjtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGFubm90YXRpb24sIE9iamVjdCk7XG5cbiAgY29uc3Qgd2hpdGVib2FyZElkID0gYW5ub3RhdGlvbi53YklkO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG5cbiAgaWYgKCFhbm5vdGF0aW9uc1F1ZXVlLmhhc093blByb3BlcnR5KG1lZXRpbmdJZCkpIHtcbiAgICBhbm5vdGF0aW9uc1F1ZXVlW21lZXRpbmdJZF0gPSBbXTtcbiAgfVxuXG4gIGFubm90YXRpb25zUXVldWVbbWVldGluZ0lkXS5wdXNoKHsgbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbiB9KTtcbiAgaWYgKHF1ZXVlTWV0cmljcykge1xuICAgIE1ldHJpY3Muc2V0QW5ub3RhdGlvblF1ZXVlTGVuZ3RoKG1lZXRpbmdJZCwgYW5ub3RhdGlvbnNRdWV1ZVttZWV0aW5nSWRdLmxlbmd0aCk7XG4gIH1cbiAgaWYgKCFhbm5vdGF0aW9uc1JlY2lldmVySXNSdW5uaW5nKSBwcm9jZXNzKCk7XG5cbiAgcmV0dXJuIGFkZEFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCBBbm5vdGF0aW9uc1N0cmVhbWVyIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuaW1wb3J0IHJlbW92ZUFubm90YXRpb24gZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZUFubm90YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVXaGl0ZWJvYXJkVW5kbyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHdoaXRlYm9hcmRJZCA9IGJvZHkud2hpdGVib2FyZElkO1xuICBjb25zdCBzaGFwZUlkID0gYm9keS5hbm5vdGF0aW9uSWQ7XG5cbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuICBjaGVjayhzaGFwZUlkLCBTdHJpbmcpO1xuXG4gIEFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKS5lbWl0KCdyZW1vdmVkJywgeyBtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgc2hhcGVJZCB9KTtcbiAgcmV0dXJuIHJlbW92ZUFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHNoYXBlSWQpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyV2hpdGVib2FyZCh3aGl0ZWJvYXJkSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDbGVhcldoaXRlYm9hcmRQdWJNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgd2hpdGVib2FyZElkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHNlbmRBbm5vdGF0aW9uSGVscGVyIGZyb20gJy4vc2VuZEFubm90YXRpb25IZWxwZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlbmRBbm5vdGF0aW9uKGFubm90YXRpb24pIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBzZW5kQW5ub3RhdGlvbkhlbHBlcihhbm5vdGF0aW9uLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNlbmRBbm5vdGF0aW9uSGVscGVyKGFubm90YXRpb24sIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2VuZFdoaXRlYm9hcmRBbm5vdGF0aW9uUHViTXNnJztcblxuICBjb25zdCB3aGl0ZWJvYXJkSWQgPSBhbm5vdGF0aW9uLndiSWQ7XG5cbiAgY2hlY2soYW5ub3RhdGlvbiwgT2JqZWN0KTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuXG4gIGlmIChhbm5vdGF0aW9uLmFubm90YXRpb25UeXBlID09PSAndGV4dCcpIHtcbiAgICBjaGVjayhhbm5vdGF0aW9uLCB7XG4gICAgICBpZDogU3RyaW5nLFxuICAgICAgc3RhdHVzOiBTdHJpbmcsXG4gICAgICBhbm5vdGF0aW9uVHlwZTogU3RyaW5nLFxuICAgICAgYW5ub3RhdGlvbkluZm86IHtcbiAgICAgICAgeDogTnVtYmVyLFxuICAgICAgICB5OiBOdW1iZXIsXG4gICAgICAgIGZvbnRDb2xvcjogTnVtYmVyLFxuICAgICAgICBjYWxjZWRGb250U2l6ZTogTnVtYmVyLFxuICAgICAgICB0ZXh0Qm94V2lkdGg6IE51bWJlcixcbiAgICAgICAgdGV4dDogU3RyaW5nLFxuICAgICAgICB0ZXh0Qm94SGVpZ2h0OiBOdW1iZXIsXG4gICAgICAgIGlkOiBTdHJpbmcsXG4gICAgICAgIHdoaXRlYm9hcmRJZDogU3RyaW5nLFxuICAgICAgICBzdGF0dXM6IFN0cmluZyxcbiAgICAgICAgZm9udFNpemU6IE51bWJlcixcbiAgICAgICAgZGF0YVBvaW50czogU3RyaW5nLFxuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICB9LFxuICAgICAgd2JJZDogU3RyaW5nLFxuICAgICAgdXNlcklkOiBTdHJpbmcsXG4gICAgICBwb3NpdGlvbjogTnVtYmVyLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNoZWNrKGFubm90YXRpb24sIHtcbiAgICAgIGlkOiBTdHJpbmcsXG4gICAgICBzdGF0dXM6IFN0cmluZyxcbiAgICAgIGFubm90YXRpb25UeXBlOiBTdHJpbmcsXG4gICAgICBhbm5vdGF0aW9uSW5mbzoge1xuICAgICAgICBjb2xvcjogTnVtYmVyLFxuICAgICAgICB0aGlja25lc3M6IE51bWJlcixcbiAgICAgICAgcG9pbnRzOiBBcnJheSxcbiAgICAgICAgaWQ6IFN0cmluZyxcbiAgICAgICAgd2hpdGVib2FyZElkOiBTdHJpbmcsXG4gICAgICAgIHN0YXR1czogU3RyaW5nLFxuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIGRpbWVuc2lvbnM6IE1hdGNoLk1heWJlKFtOdW1iZXJdKSxcbiAgICAgIH0sXG4gICAgICB3YklkOiBTdHJpbmcsXG4gICAgICB1c2VySWQ6IFN0cmluZyxcbiAgICAgIHBvc2l0aW9uOiBOdW1iZXIsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGFubm90YXRpb24sXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBzZW5kQW5ub3RhdGlvbkhlbHBlciBmcm9tICcuL3NlbmRBbm5vdGF0aW9uSGVscGVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEJ1bGtBbm5vdGF0aW9ucyhwYXlsb2FkKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgcGF5bG9hZC5mb3JFYWNoKGFubm90YXRpb24gPT4gc2VuZEFubm90YXRpb25IZWxwZXIoYW5ub3RhdGlvbiwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQpKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bmRvQW5ub3RhdGlvbih3aGl0ZWJvYXJkSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdVbmRvV2hpdGVib2FyZFB1Yk1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB3aGl0ZWJvYXJkSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgQW5ub3RhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zJztcbmltcG9ydCBhZGRBbm5vdGF0aW9uUXVlcnkgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL2FkZEFubm90YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRBbm5vdGF0aW9uKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKGFubm90YXRpb24sIE9iamVjdCk7XG5cbiAgY29uc3QgcXVlcnkgPSBhZGRBbm5vdGF0aW9uUXVlcnkobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IEFubm90YXRpb25zLnVwc2VydChxdWVyeS5zZWxlY3RvciwgcXVlcnkubW9kaWZpZXIpO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBBZGRlZCBhbm5vdGF0aW9uIGlkPSR7YW5ub3RhdGlvbi5pZH0gd2hpdGVib2FyZD0ke3doaXRlYm9hcmRJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIGFubm90YXRpb24gdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBBbm5vdGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckFubm90YXRpb25zKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQpIHtcbiAgY29uc3Qgc2VsZWN0b3IgPSB7fTtcblxuICBpZiAobWVldGluZ0lkKSB7XG4gICAgc2VsZWN0b3IubWVldGluZ0lkID0gbWVldGluZ0lkO1xuICB9XG5cbiAgaWYgKHdoaXRlYm9hcmRJZCkge1xuICAgIHNlbGVjdG9yLndoaXRlYm9hcmRJZCA9IHdoaXRlYm9hcmRJZDtcbiAgfVxuXG4gIGlmICh1c2VySWQpIHtcbiAgICBzZWxlY3Rvci51c2VySWQgPSB1c2VySWQ7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQW5ub3RhdGlvbnMucmVtb3ZlKHNlbGVjdG9yKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgaWYgKHVzZXJJZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBBbm5vdGF0aW9ucyBmb3IgdXNlcklkPSR7dXNlcklkfSB3aGVyZSB3aGl0ZWJvYXJkPSR7d2hpdGVib2FyZElkfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh3aGl0ZWJvYXJkSWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgQW5ub3RhdGlvbnMgZm9yIHdoaXRlYm9hcmQ9JHt3aGl0ZWJvYXJkSWR9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZXRpbmdJZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBBbm5vdGF0aW9ucyAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIEFubm90YXRpb25zIChhbGwpJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIEFubm90YXRpb25zIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBBbm5vdGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVBbm5vdGF0aW9uKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCBzaGFwZUlkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuICBjaGVjayhzaGFwZUlkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB3aGl0ZWJvYXJkSWQsXG4gICAgaWQ6IHNoYXBlSWQsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IEFubm90YXRpb25zLnJlbW92ZShzZWxlY3Rvcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIGFubm90YXRpb24gaWQ9JHtzaGFwZUlkfSB3aGl0ZWJvYXJkPSR7d2hpdGVib2FyZElkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBhbm5vdGF0aW9uIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgaGFuZGxlV2hpdGVib2FyZENsZWFyZWQgZnJvbSAnLi9oYW5kbGVycy93aGl0ZWJvYXJkQ2xlYXJlZCc7XG5pbXBvcnQgaGFuZGxlV2hpdGVib2FyZFVuZG8gZnJvbSAnLi9oYW5kbGVycy93aGl0ZWJvYXJkVW5kbyc7XG5pbXBvcnQgaGFuZGxlV2hpdGVib2FyZFNlbmQgZnJvbSAnLi9oYW5kbGVycy93aGl0ZWJvYXJkU2VuZCc7XG5pbXBvcnQgaGFuZGxlV2hpdGVib2FyZEFubm90YXRpb25zIGZyb20gJy4vaGFuZGxlcnMvd2hpdGVib2FyZEFubm90YXRpb25zJztcblxuUmVkaXNQdWJTdWIub24oJ0NsZWFyV2hpdGVib2FyZEV2dE1zZycsIGhhbmRsZVdoaXRlYm9hcmRDbGVhcmVkKTtcblJlZGlzUHViU3ViLm9uKCdVbmRvV2hpdGVib2FyZEV2dE1zZycsIGhhbmRsZVdoaXRlYm9hcmRVbmRvKTtcblJlZGlzUHViU3ViLm9uKCdTZW5kV2hpdGVib2FyZEFubm90YXRpb25FdnRNc2cnLCBoYW5kbGVXaGl0ZWJvYXJkU2VuZCk7XG5SZWRpc1B1YlN1Yi5vbignR2V0V2hpdGVib2FyZEFubm90YXRpb25zUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlV2hpdGVib2FyZEFubm90YXRpb25zKSk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB1bmRvQW5ub3RhdGlvbiBmcm9tICcuL21ldGhvZHMvdW5kb0Fubm90YXRpb24nO1xuaW1wb3J0IGNsZWFyV2hpdGVib2FyZCBmcm9tICcuL21ldGhvZHMvY2xlYXJXaGl0ZWJvYXJkJztcbmltcG9ydCBzZW5kQW5ub3RhdGlvbiBmcm9tICcuL21ldGhvZHMvc2VuZEFubm90YXRpb24nO1xuaW1wb3J0IHNlbmRCdWxrQW5ub3RhdGlvbnMgZnJvbSAnLi9tZXRob2RzL3NlbmRCdWxrQW5ub3RhdGlvbnMnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHVuZG9Bbm5vdGF0aW9uLFxuICBjbGVhcldoaXRlYm9hcmQsXG4gIHNlbmRBbm5vdGF0aW9uLFxuICBzZW5kQnVsa0Fubm90YXRpb25zLFxufSk7XG4iLCJpbXBvcnQgQW5ub3RhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGFubm90YXRpb25zKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIEFubm90YXRpb25zLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgQW5ub3RhdGlvbnMnLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBBbm5vdGF0aW9ucy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRBbm5vdGF0aW9ucyA9IGFubm90YXRpb25zLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZEFubm90YXRpb25zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnYW5ub3RhdGlvbnMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKSB7XG4gIExvZ2dlci5pbmZvKGBSZW1vdmluZyBBbm5vdGF0aW9ucyBzdHJlYW1lciBvYmplY3QgZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG4gIGRlbGV0ZSBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tgYW5ub3RhdGlvbnMtJHttZWV0aW5nSWR9YF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCkge1xuICBjb25zdCBzdHJlYW1lciA9IG5ldyBNZXRlb3IuU3RyZWFtZXIoYGFubm90YXRpb25zLSR7bWVldGluZ0lkfWAsIHsgcmV0cmFuc21pdDogZmFsc2UgfSk7XG5cbiAgc3RyZWFtZXIuYWxsb3dSZWFkKGZ1bmN0aW9uIGFsbG93UmVhZCgpIHtcbiAgICBpZiAoIXRoaXMudXNlcklkKSByZXR1cm4gZmFsc2U7XG5cbiAgICByZXR1cm4gdGhpcy51c2VySWQgJiYgdGhpcy51c2VySWQuaW5jbHVkZXMobWVldGluZ0lkKTtcbiAgfSk7XG5cbiAgc3RyZWFtZXIuYWxsb3dXcml0ZShmdW5jdGlvbiBhbGxvd1dyaXRlKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldChtZWV0aW5nSWQpIHtcbiAgcmV0dXJuIE1ldGVvci5TdHJlYW1lckNlbnRyYWwuaW5zdGFuY2VzW2Bhbm5vdGF0aW9ucy0ke21lZXRpbmdJZH1gXTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuY29uc3QgQU5OT1RBVElPTl9UWVBFX1RFWFQgPSAndGV4dCc7XG5jb25zdCBBTk5PVEFUSU9OX1RZUEVfUEVOQ0lMID0gJ3BlbmNpbCc7XG5cbi8vIGxpbmUsIHRyaWFuZ2xlLCBlbGxpcHNlLCByZWN0YW5nbGVcbmZ1bmN0aW9uIGhhbmRsZUNvbW1vbkFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbikge1xuICBjb25zdCB7XG4gICAgaWQsIHN0YXR1cywgYW5ub3RhdGlvblR5cGUsIGFubm90YXRpb25JbmZvLCB3YklkLCBwb3NpdGlvbixcbiAgfSA9IGFubm90YXRpb247XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGlkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICB3aGl0ZWJvYXJkSWQsXG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBpZCxcbiAgICAgIHN0YXR1cyxcbiAgICAgIGFubm90YXRpb25UeXBlLFxuICAgICAgYW5ub3RhdGlvbkluZm8sXG4gICAgICB3YklkLFxuICAgIH0sXG4gICAgJHNldE9uSW5zZXJ0OiB7XG4gICAgICBwb3NpdGlvbixcbiAgICB9LFxuICAgICRpbmM6IHsgdmVyc2lvbjogMSB9LFxuICB9O1xuXG4gIHJldHVybiB7IHNlbGVjdG9yLCBtb2RpZmllciB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVUZXh0VXBkYXRlKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24pIHtcbiAgY29uc3Qge1xuICAgIGlkLCBzdGF0dXMsIGFubm90YXRpb25UeXBlLCBhbm5vdGF0aW9uSW5mbywgd2JJZCwgcG9zaXRpb24sXG4gIH0gPSBhbm5vdGF0aW9uO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBpZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgYW5ub3RhdGlvbkluZm8udGV4dCA9IGFubm90YXRpb25JbmZvLnRleHQucmVwbGFjZSgvW1xccl0vZywgJ1xcbicpO1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHdoaXRlYm9hcmRJZCxcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIGlkLFxuICAgICAgc3RhdHVzLFxuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICBhbm5vdGF0aW9uSW5mbyxcbiAgICAgIHdiSWQsXG4gICAgfSxcbiAgICAkc2V0T25JbnNlcnQ6IHtcbiAgICAgIHBvc2l0aW9uLFxuICAgIH0sXG4gICAgJGluYzogeyB2ZXJzaW9uOiAxIH0sXG4gIH07XG5cbiAgcmV0dXJuIHsgc2VsZWN0b3IsIG1vZGlmaWVyIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVBlbmNpbFVwZGF0ZShtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKSB7XG4gIGNvbnN0IERSQVdfU1RBUlQgPSAnRFJBV19TVEFSVCc7XG4gIGNvbnN0IERSQVdfVVBEQVRFID0gJ0RSQVdfVVBEQVRFJztcbiAgY29uc3QgRFJBV19FTkQgPSAnRFJBV19FTkQnO1xuXG4gIGNvbnN0IHtcbiAgICBpZCwgc3RhdHVzLCBhbm5vdGF0aW9uVHlwZSwgYW5ub3RhdGlvbkluZm8sIHdiSWQsIHBvc2l0aW9uLFxuICB9ID0gYW5ub3RhdGlvbjtcblxuICBjb25zdCBiYXNlU2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGlkLFxuICAgIHVzZXJJZCxcbiAgICB3aGl0ZWJvYXJkSWQsXG4gIH07XG5cbiAgbGV0IGJhc2VNb2RpZmllcjtcbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlIERSQVdfU1RBUlQ6XG4gICAgICAvLyBvbiBzdGFydCB3ZSBzcGxpdCB0aGUgcG9pbnRzXG5cbiAgICAgIC8vIGNyZWF0ZSB0aGUgJ3BlbmNpbF9iYXNlJ1xuICAgICAgLy8gVE9ETzogZmluZCBhbmQgcmVtb3ZlZCB1bnVzZWQgcHJvcHMgKGNodW5rcywgdmVyc2lvbiwgZXRjKVxuICAgICAgYmFzZU1vZGlmaWVyID0ge1xuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgICB3aGl0ZWJvYXJkSWQsXG4gICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgIGFubm90YXRpb25UeXBlLFxuICAgICAgICAgIGFubm90YXRpb25JbmZvLFxuICAgICAgICAgIHdiSWQsXG4gICAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIERSQVdfVVBEQVRFOlxuICAgICAgYmFzZU1vZGlmaWVyID0ge1xuICAgICAgICAkcHVzaDoge1xuICAgICAgICAgICdhbm5vdGF0aW9uSW5mby5wb2ludHMnOiB7ICRlYWNoOiBhbm5vdGF0aW9uSW5mby5wb2ludHMgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgfSxcbiAgICAgICAgJGluYzogeyB2ZXJzaW9uOiAxIH0sXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBEUkFXX0VORDpcbiAgICAgIC8vIFVwZGF0aW5nIHRoZSBtYWluIHBlbmNpbCBvYmplY3Qgd2l0aCB0aGUgZmluYWwgaW5mb1xuICAgICAgYmFzZU1vZGlmaWVyID0ge1xuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgd2hpdGVib2FyZElkLFxuICAgICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICAgICAgYW5ub3RhdGlvbkluZm8sXG4gICAgICAgICAgd2JJZCxcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgfSxcbiAgICAgICAgJGluYzogeyB2ZXJzaW9uOiAxIH0sXG4gICAgICB9O1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgcmV0dXJuIHsgc2VsZWN0b3I6IGJhc2VTZWxlY3RvciwgbW9kaWZpZXI6IGJhc2VNb2RpZmllciB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRBbm5vdGF0aW9uKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKGFubm90YXRpb24sIE9iamVjdCk7XG5cbiAgc3dpdGNoIChhbm5vdGF0aW9uLmFubm90YXRpb25UeXBlKSB7XG4gICAgY2FzZSBBTk5PVEFUSU9OX1RZUEVfVEVYVDpcbiAgICAgIHJldHVybiBoYW5kbGVUZXh0VXBkYXRlKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24pO1xuICAgIGNhc2UgQU5OT1RBVElPTl9UWVBFX1BFTkNJTDpcbiAgICAgIHJldHVybiBoYW5kbGVQZW5jaWxVcGRhdGUobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBoYW5kbGVDb21tb25Bbm5vdGF0aW9uKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgQW5ub3RhdGlvbnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignYW5ub3RhdGlvbnMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgYW5ub3RhdGlvbnMgIChUb3RhbCk6XG4gIC8vIDEuIG1lZXRpbmdJZCwgaWQsIHVzZXJJZCAgICAgICAgICAgICAgICggOCApXG4gIC8vIDIuIG1lZXRpbmdJZCwgaWQsIHVzZXJJZCwgd2hpdGVib2FyZElkICggMSApXG4gIC8vIDMuIG1lZXRpbmdJZCAgICAgICAgICAgICAgICAgICAgICAgICAgICggMSApXG4gIC8vIDQuIG1lZXRpbmdJZCwgd2hpdGVib2FyZElkICAgICAgICAgICAgICggMSApXG4gIC8vIDUuIG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCBpZCAgICAgICAgICggMSApXG4gIC8vIDYuIG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQgICAgICggMSApXG4gIC8vIFRoZXNlIDIgaW5kZXhlcyBzZWVtIHRvIGNvdmVyIGFsbCBvZiB0aGUgY2FzZXNcblxuICBBbm5vdGF0aW9ucy5fZW5zdXJlSW5kZXgoeyBpZDogMSB9KTtcbiAgQW5ub3RhdGlvbnMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCB3aGl0ZWJvYXJkSWQ6IDEsIHVzZXJJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQW5ub3RhdGlvbnM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgY2xlYXJCcmVha291dHMgZnJvbSAnLi4vbW9kaWZpZXJzL2NsZWFyQnJlYWtvdXRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQnJlYWtvdXRDbG9zZWQoeyBib2R5IH0pIHtcbiAgY29uc3QgeyBicmVha291dElkIH0gPSBib2R5O1xuICBjaGVjayhicmVha291dElkLCBTdHJpbmcpO1xuXG4gIHJldHVybiBjbGVhckJyZWFrb3V0cyhicmVha291dElkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBCcmVha291dHMgZnJvbSAnL2ltcG9ydHMvYXBpL2JyZWFrb3V0cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUJyZWFrb3V0Sm9pblVSTCh7IGJvZHkgfSkge1xuICBjb25zdCB7XG4gICAgcmVkaXJlY3RUb0h0bWw1Sm9pblVSTCxcbiAgICB1c2VySWQsXG4gICAgYnJlYWtvdXRJZCxcbiAgfSA9IGJvZHk7XG5cbiAgY2hlY2socmVkaXJlY3RUb0h0bWw1Sm9pblVSTCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBicmVha291dElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRwdXNoOiB7XG4gICAgICB1c2Vyczoge1xuICAgICAgICB1c2VySWQsXG4gICAgICAgIHJlZGlyZWN0VG9IdG1sNUpvaW5VUkwsXG4gICAgICAgIGluc2VydGVkVGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICB9LFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQsIG51bWJlckFmZmVjdGVkIH0gPSBCcmVha291dHMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIGJyZWFrb3V0IGlkPSR7YnJlYWtvdXRJZH1gKTtcbiAgICB9IGVsc2UgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgYnJlYWtvdXQgaWQ9JHticmVha291dElkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgYnJlYWtvdXQgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBCcmVha291dHMgZnJvbSAnL2ltcG9ydHMvYXBpL2JyZWFrb3V0cyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQnJlYWtvdXRSb29tU3RhcnRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIC8vIDAgc2Vjb25kcyBkZWZhdWx0IGJyZWFrb3V0IHRpbWUsIGZvcmNlcyB1c2Ugb2YgcmVhbCBleHBpcmF0aW9uIHRpbWVcbiAgY29uc3QgREVGQVVMVF9USU1FX1JFTUFJTklORyA9IDA7XG5cbiAgY29uc3Qge1xuICAgIHBhcmVudE1lZXRpbmdJZCxcbiAgICBicmVha291dCxcbiAgfSA9IGJvZHk7XG5cbiAgY29uc3QgeyBicmVha291dElkIH0gPSBicmVha291dDtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgYnJlYWtvdXRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICB1c2VyczogW10sXG4gICAgICAgIGpvaW5lZFVzZXJzOiBbXSxcbiAgICAgIH0sXG4gICAgICB7IHRpbWVSZW1haW5pbmc6IERFRkFVTFRfVElNRV9SRU1BSU5JTkcgfSxcbiAgICAgIHsgcGFyZW50TWVldGluZ0lkIH0sXG4gICAgICBmbGF0KGJyZWFrb3V0KSxcbiAgICApLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gQnJlYWtvdXRzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbygnVXBkYXRlZCB0aW1lUmVtYWluaW5nIGFuZCBleHRlcm5hbE1lZXRpbmdJZCAnXG4gICAgICAgICsgYGZvciBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYHVwZGF0aW5nIGJyZWFrb3V0OiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gam9pbmVkVXNlcnNDaGFuZ2VkKHsgYm9keSB9KSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3Qge1xuICAgIHBhcmVudElkLFxuICAgIGJyZWFrb3V0SWQsXG4gICAgdXNlcnMsXG4gIH0gPSBib2R5O1xuXG4gIGNoZWNrKHBhcmVudElkLCBTdHJpbmcpO1xuICBjaGVjayhicmVha291dElkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VycywgQXJyYXkpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHBhcmVudE1lZXRpbmdJZDogcGFyZW50SWQsXG4gICAgYnJlYWtvdXRJZCxcbiAgfTtcblxuICBjb25zdCB1c2Vyc01hcHBlZCA9IHVzZXJzLm1hcCh1c2VyID0+ICh7IHVzZXJJZDogdXNlci5pZCwgbmFtZTogdXNlci5uYW1lIH0pKTtcbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgam9pbmVkVXNlcnM6IHVzZXJzTWFwcGVkLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IEJyZWFrb3V0cy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwZGF0ZWQgam9pbmVkIHVzZXJzIGluIGJyZWFrb3V0IGlkPSR7YnJlYWtvdXRJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgdXBkYXRpbmcgam9pbmVkIHVzZXJzIGluIGJyZWFrb3V0OiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVXBkYXRlVGltZVJlbWFpbmluZyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHtcbiAgICB0aW1lUmVtYWluaW5nLFxuICB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHRpbWVSZW1haW5pbmcsIE51bWJlcik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgcGFyZW50TWVldGluZ0lkOiBtZWV0aW5nSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgdGltZVJlbWFpbmluZyxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgbXVsdGk6IHRydWUsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IEJyZWFrb3V0cy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBvcHRpb25zKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwZGF0ZWQgYnJlYWtvdXQgdGltZSByZW1haW5pbmcgZm9yIGJyZWFrb3V0cyB3aGVyZSBwYXJlbnRNZWV0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIGJyZWFrb3V0czogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVCcmVha291dFJvb20ocm9vbXMsIGR1cmF0aW9uSW5NaW51dGVzLCByZWNvcmQgPSBmYWxzZSkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBCUkVBS09VVF9MSU0gPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmFwcC5icmVha291dFJvb21MaW1pdDtcbiAgY29uc3QgTUlOX0JSRUFLT1VUX1JPT01TID0gMjtcbiAgY29uc3QgTUFYX0JSRUFLT1VUX1JPT01TID0gQlJFQUtPVVRfTElNID4gTUlOX0JSRUFLT1VUX1JPT01TID8gQlJFQUtPVVRfTElNIDogTUlOX0JSRUFLT1VUX1JPT01TO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgZXZlbnROYW1lID0gJ0NyZWF0ZUJyZWFrb3V0Um9vbXNDbWRNc2cnO1xuICBpZiAocm9vbXMubGVuZ3RoID4gTUFYX0JSRUFLT1VUX1JPT01TKSB7XG4gICAgTG9nZ2VyLmluZm8oYEF0dGVtcHQgdG8gY3JlYXRlIGJyZWFrb3V0IHJvb21zIHdpdGggaW52YWxpZCBudW1iZXIgb2Ygcm9vbXMgaW4gbWVldGluZyBpZD0ke21lZXRpbmdJZH1gKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICByZWNvcmQsXG4gICAgZHVyYXRpb25Jbk1pbnV0ZXMsXG4gICAgcm9vbXMsXG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgZXZlbnROYW1lLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW5kQWxsQnJlYWtvdXRzKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhyZXF1ZXN0ZXJVc2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgZXZlbnROYW1lID0gJ0VuZEFsbEJyZWFrb3V0Um9vbXNNc2cnO1xuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIGV2ZW50TmFtZSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIG51bGwpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVlc3RKb2luVVJMKHsgYnJlYWtvdXRJZCwgdXNlcklkOiB1c2VySWRUb0ludml0ZSB9KSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCB1c2VySWQgPSB1c2VySWRUb0ludml0ZSB8fCByZXF1ZXN0ZXJVc2VySWQ7XG4gIGNvbnN0IGV2ZW50TmFtZSA9ICdSZXF1ZXN0QnJlYWtvdXRKb2luVVJMUmVxTXNnJztcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKFxuICAgIENIQU5ORUwsIGV2ZW50TmFtZSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsXG4gICAge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgYnJlYWtvdXRJZCxcbiAgICAgIHVzZXJJZCxcbiAgICB9LFxuICApO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJCcmVha291dHMoYnJlYWtvdXRJZCkge1xuICBpZiAoYnJlYWtvdXRJZCkge1xuICAgIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgICAgYnJlYWtvdXRJZCxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQnJlYWtvdXRzLnJlbW92ZShzZWxlY3Rvcik7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBCcmVha291dHMgKCR7YnJlYWtvdXRJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIEJyZWFrb3V0cyAoJHticmVha291dElkfSlgKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQnJlYWtvdXRzLnJlbW92ZSh7fSk7XG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgQnJlYWtvdXRzIChhbGwpJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoJ0Vycm9yIG9uIGNsZWFyaW5nIEJyZWFrb3V0cyAoYWxsKScpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVCcmVha291dEpvaW5VUkwgZnJvbSAnLi9oYW5kbGVycy9icmVha291dEpvaW5VUkwnO1xuaW1wb3J0IGhhbmRsZUJyZWFrb3V0U3RhcnRlZCBmcm9tICcuL2hhbmRsZXJzL2JyZWFrb3V0U3RhcnRlZCc7XG5pbXBvcnQgaGFuZGxlVXBkYXRlVGltZVJlbWFpbmluZyBmcm9tICcuL2hhbmRsZXJzL3VwZGF0ZVRpbWVSZW1haW5pbmcnO1xuaW1wb3J0IGhhbmRsZUJyZWFrb3V0Q2xvc2VkIGZyb20gJy4vaGFuZGxlcnMvYnJlYWtvdXRDbG9zZWQnO1xuaW1wb3J0IGpvaW5lZFVzZXJzQ2hhbmdlZCBmcm9tICcuL2hhbmRsZXJzL2pvaW5lZFVzZXJzQ2hhbmdlZCc7XG5cblJlZGlzUHViU3ViLm9uKCdCcmVha291dFJvb21TdGFydGVkRXZ0TXNnJywgaGFuZGxlQnJlYWtvdXRTdGFydGVkKTtcblJlZGlzUHViU3ViLm9uKCdCcmVha291dFJvb21Kb2luVVJMRXZ0TXNnJywgaGFuZGxlQnJlYWtvdXRKb2luVVJMKTtcblJlZGlzUHViU3ViLm9uKCdSZXF1ZXN0QnJlYWtvdXRKb2luVVJMUmVzcE1zZycsIGhhbmRsZUJyZWFrb3V0Sm9pblVSTCk7XG5SZWRpc1B1YlN1Yi5vbignQnJlYWtvdXRSb29tc1RpbWVSZW1haW5pbmdVcGRhdGVFdnRNc2cnLCBoYW5kbGVVcGRhdGVUaW1lUmVtYWluaW5nKTtcblJlZGlzUHViU3ViLm9uKCdCcmVha291dFJvb21FbmRlZEV2dE1zZycsIGhhbmRsZUJyZWFrb3V0Q2xvc2VkKTtcblJlZGlzUHViU3ViLm9uKCdVcGRhdGVCcmVha291dFVzZXJzRXZ0TXNnJywgam9pbmVkVXNlcnNDaGFuZ2VkKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGNyZWF0ZUJyZWFrb3V0Um9vbSBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9tZXRob2RzL2NyZWF0ZUJyZWFrb3V0JztcbmltcG9ydCByZXF1ZXN0Sm9pblVSTCBmcm9tICcuL21ldGhvZHMvcmVxdWVzdEpvaW5VUkwnO1xuaW1wb3J0IGVuZEFsbEJyZWFrb3V0cyBmcm9tICcuL21ldGhvZHMvZW5kQWxsQnJlYWtvdXRzJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICByZXF1ZXN0Sm9pblVSTCxcbiAgY3JlYXRlQnJlYWtvdXRSb29tLFxuICBlbmRBbGxCcmVha291dHMsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IFJPTEVfTU9ERVJBVE9SID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy51c2VyLnJvbGVfbW9kZXJhdG9yO1xuXG5mdW5jdGlvbiBicmVha291dHMocm9sZSkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIEJyZWFrb3V0cy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBCcmVha291dHMnLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHsgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsIG1lZXRpbmdJZCB9LCB7IGZpZWxkczogeyByb2xlOiAxIH0gfSk7XG4gIGlmICghIVVzZXIgJiYgVXNlci5yb2xlID09PSBST0xFX01PREVSQVRPUikge1xuICAgIGNvbnN0IHByZXNlbnRlclNlbGVjdG9yID0ge1xuICAgICAgJG9yOiBbXG4gICAgICAgIHsgcGFyZW50TWVldGluZ0lkOiBtZWV0aW5nSWQgfSxcbiAgICAgICAgeyBicmVha291dElkOiBtZWV0aW5nSWQgfSxcbiAgICAgIF0sXG4gICAgfTtcblxuICAgIHJldHVybiBCcmVha291dHMuZmluZChwcmVzZW50ZXJTZWxlY3Rvcik7XG4gIH1cblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgcGFyZW50TWVldGluZ0lkOiBtZWV0aW5nSWQsXG4gICAgICAgIGZyZWVKb2luOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGFyZW50TWVldGluZ0lkOiBtZWV0aW5nSWQsXG4gICAgICAgICd1c2Vycy51c2VySWQnOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBicmVha291dElkOiBtZWV0aW5nSWQsXG4gICAgICB9LFxuICAgIF0sXG4gIH07XG5cbiAgcmV0dXJuIEJyZWFrb3V0cy5maW5kKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kQnJlYWtvdXRzID0gYnJlYWtvdXRzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZEJyZWFrb3V0cyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2JyZWFrb3V0cycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IEJyZWFrb3V0cyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdicmVha291dHMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgYnJlYWtvdXRzOlxuICAvLyAxLiBicmVha291dElkICggaGFuZGxlSm9pblVybCwgcm9vbVN0YXJ0ZWQsIGNsZWFyQnJlYWtvdXRzIClcbiAgLy8gMi4gcGFyZW50TWVldGluZ0lkICggdXBkYXRlVGltZVJlbWFpbmluZyApXG5cbiAgQnJlYWtvdXRzLl9lbnN1cmVJbmRleCh7IGJyZWFrb3V0SWQ6IDEgfSk7XG4gIEJyZWFrb3V0cy5fZW5zdXJlSW5kZXgoeyBwYXJlbnRNZWV0aW5nSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJyZWFrb3V0cztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBmZXRjaFJlYWRPbmx5UGFkSWQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2ZldGNoUmVhZE9ubHlQYWRJZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVBhZENyZWF0ZSh7IGJvZHkgfSkge1xuICBjb25zdCB7IHBhZCB9ID0gYm9keTtcbiAgY29uc3QgeyBpZCB9ID0gcGFkO1xuXG4gIGNoZWNrKGlkLCBTdHJpbmcpO1xuXG4gIGZldGNoUmVhZE9ubHlQYWRJZChpZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBnZXREYXRhRnJvbUNoYW5nZXNldCB9IGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgdXBkYXRlUGFkIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZVBhZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVBhZFVwZGF0ZSh7IGJvZHkgfSkge1xuICBjb25zdCB7IHBhZCwgcmV2cywgY2hhbmdlc2V0IH0gPSBib2R5O1xuICBjb25zdCB7IGlkIH0gPSBwYWQ7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYW5nZXNldCwgU3RyaW5nKTtcbiAgY2hlY2socmV2cywgTnVtYmVyKTtcblxuICBjb25zdCBkYXRhID0gZ2V0RGF0YUZyb21DaGFuZ2VzZXQoY2hhbmdlc2V0KTtcblxuICBpZiAoZGF0YSAhPT0gJycpIHtcbiAgICB1cGRhdGVQYWQoaWQsIGRhdGEsIHJldnMpO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZENhcHRpb25zUGFkcyhtZWV0aW5nSWQsIHBhZElkcykge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0FkZENhcHRpb25zUGFkc1N5c01zZyc7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYWRJZHMsIFtTdHJpbmddKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHBhZElkcyxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgJ25vZGVKU2FwcCcsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFBhZChwYWRJZCwgcmVhZE9ubHlJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0FkZFBhZFN5c01zZyc7XG5cbiAgY2hlY2socGFkSWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlYWRPbmx5SWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGFkID0gQ2FwdGlvbnMuZmluZE9uZSh7IHBhZElkIH0pO1xuXG4gIGlmICghcGFkKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgZmluZCBjbG9zZWQgY2FwdGlvbnMgcGFkICR7cGFkSWR9YCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IHBhZDtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwYWRJZCxcbiAgICByZWFkT25seUlkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCAnbm9kZUpTYXBwJywgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVQYWRJZCxcbn0gZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCB7XG4gIGFwcGVuZFRleHRVUkwsXG59IGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBlbmRUZXh0KHRleHQsIGxvY2FsZSkge1xuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh0ZXh0LCBTdHJpbmcpO1xuICBjaGVjayhsb2NhbGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGFkSWQgPSBnZW5lcmF0ZVBhZElkKG1lZXRpbmdJZCwgbG9jYWxlKTtcblxuICBheGlvcyh7XG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB1cmw6IGFwcGVuZFRleHRVUkwocGFkSWQsIHRleHQpLFxuICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXNwb25zZTtcbiAgICBpZiAoc3RhdHVzICE9PSAyMDApIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGFwcGVuZCBjYXB0aW9ucyBmb3IgcGFkSWQ9JHtwYWRJZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGFwcGVuZCBjYXB0aW9ucyBmb3IgcGFkSWQ9JHtwYWRJZH06ICR7ZXJyb3J9YCkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVQYWRJZCxcbiAgaXNFbmFibGVkLFxuICBnZXRMb2NhbGVzVVJMLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGFkZENhcHRpb24gZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvYWRkQ2FwdGlvbic7XG5pbXBvcnQgYWRkQ2FwdGlvbnNQYWRzIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9hZGRDYXB0aW9uc1BhZHMnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQ2FwdGlvbnMobWVldGluZ0lkKSB7XG4gIC8vIEF2b2lkIGNhcHRpb25zIGNyZWF0aW9uIGlmIHRoaXMgZmVhdHVyZSBpcyBkaXNhYmxlZFxuICBpZiAoIWlzRW5hYmxlZCgpKSB7XG4gICAgTG9nZ2VyLndhcm4oYENhcHRpb25zIGFyZSBkaXNhYmxlZCBmb3IgJHttZWV0aW5nSWR9YCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGF4aW9zKHtcbiAgICBtZXRob2Q6ICdnZXQnLFxuICAgIHVybDogZ2V0TG9jYWxlc1VSTCgpLFxuICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXNwb25zZTtcbiAgICBpZiAoc3RhdHVzICE9PSAyMDApIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGdldCBsb2NhbGVzIGluZm8gZm9yICR7bWVldGluZ0lkfSAke3N0YXR1c31gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFkSWRzID0gW107XG4gICAgY29uc3QgbG9jYWxlcyA9IHJlc3BvbnNlLmRhdGE7XG4gICAgbG9jYWxlcy5mb3JFYWNoKChsb2NhbGUpID0+IHtcbiAgICAgIGNvbnN0IHBhZElkID0gZ2VuZXJhdGVQYWRJZChtZWV0aW5nSWQsIGxvY2FsZS5sb2NhbGUpO1xuICAgICAgYWRkQ2FwdGlvbihtZWV0aW5nSWQsIHBhZElkLCBsb2NhbGUpO1xuICAgICAgcGFkSWRzLnB1c2gocGFkSWQpO1xuICAgIH0pO1xuICAgIGFkZENhcHRpb25zUGFkcyhtZWV0aW5nSWQsIHBhZElkcyk7XG4gIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGNyZWF0ZSBjYXB0aW9ucyBmb3IgJHttZWV0aW5nSWR9OiAke2Vycm9yfWApKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5jb25zdCBnZXRJbmRleCA9IChkYXRhLCBsZW5ndGgpID0+IGxlbmd0aCAtIGRhdGEubGVuZ3RoO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlZGl0Q2FwdGlvbnMocGFkSWQsIGRhdGEpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdFZGl0Q2FwdGlvbkhpc3RvcnlQdWJNc2cnO1xuXG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhkYXRhLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBhZCA9IENhcHRpb25zLmZpbmRPbmUoeyBwYWRJZCB9KTtcblxuICBpZiAoIXBhZCkge1xuICAgIExvZ2dlci5lcnJvcihgRWRpdGluZyBjYXB0aW9ucyBoaXN0b3J5OiAke3BhZElkfWApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgb3duZXJJZCxcbiAgICBsb2NhbGUsXG4gICAgbGVuZ3RoLFxuICB9ID0gcGFkO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sob3duZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2sobG9jYWxlLCB7IGxvY2FsZTogU3RyaW5nLCBuYW1lOiBTdHJpbmcgfSk7XG4gIGNoZWNrKGxlbmd0aCwgTnVtYmVyKTtcblxuICBjb25zdCBpbmRleCA9IGdldEluZGV4KGRhdGEsIGxlbmd0aCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBzdGFydEluZGV4OiBpbmRleCxcbiAgICBsb2NhbGVDb2RlOiBsb2NhbGUubG9jYWxlLFxuICAgIGxvY2FsZTogbG9jYWxlLm5hbWUsXG4gICAgZW5kSW5kZXg6IGluZGV4LFxuICAgIHRleHQ6IGRhdGEsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIG93bmVySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZ2V0UmVhZE9ubHlJZFVSTCxcbiAgZ2V0RGF0YUZyb21SZXNwb25zZSxcbn0gZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHVwZGF0ZVJlYWRPbmx5UGFkSWQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlUmVhZE9ubHlQYWRJZCc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmZXRjaFJlYWRPbmx5UGFkSWQocGFkSWQpIHtcbiAgY2hlY2socGFkSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcmVhZE9ubHlVUkwgPSBnZXRSZWFkT25seUlkVVJMKHBhZElkKTtcblxuICBheGlvcyh7XG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB1cmw6IHJlYWRPbmx5VVJMLFxuICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXNwb25zZTtcbiAgICBpZiAoc3RhdHVzICE9PSAyMDApIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGdldCBjbG9zZWQgY2FwdGlvbnMgcmVhZE9ubHlJRCBmb3IgJHtwYWRJZH0gJHtzdGF0dXN9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlYWRPbmx5UGFkSWQgPSBnZXREYXRhRnJvbVJlc3BvbnNlKHJlc3BvbnNlLmRhdGEsICdyZWFkT25seUlEJyk7XG4gICAgaWYgKHJlYWRPbmx5UGFkSWQpIHtcbiAgICAgIHVwZGF0ZVJlYWRPbmx5UGFkSWQocGFkSWQsIHJlYWRPbmx5UGFkSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgcGFkIHJlYWRPbmx5SUQgZm9yICR7cGFkSWR9YCk7XG4gICAgfVxuICB9KS5jYXRjaChlcnJvciA9PiBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgcGFkIHJlYWRPbmx5SUQgZm9yICR7cGFkSWR9OiAke2Vycm9yfWApKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IHVwZGF0ZU93bmVySWQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlT3duZXJJZCc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCB7IENBUFRJT05TX1RPS0VOIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGFrZU93bmVyc2hpcChsb2NhbGUpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhsb2NhbGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGFkID0gQ2FwdGlvbnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgcGFkSWQ6IHsgJHJlZ2V4OiBgJHtDQVBUSU9OU19UT0tFTn0ke2xvY2FsZX0kYCB9IH0pO1xuXG4gIGlmIChwYWQpIHtcbiAgICB1cGRhdGVPd25lcklkKG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYWQucGFkSWQpO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IENhcHRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZWRpdENhcHRpb25zKG1lZXRpbmdJZCwgdXNlcklkLCBwYWRJZCkgeyAvLyBUT0RPXG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXBkYXRlQ2FwdGlvbk93bmVyUHViTXNnJztcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2socGFkSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGFkID0gQ2FwdGlvbnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgcGFkSWQgfSk7XG5cbiAgaWYgKCFwYWQpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVkaXRpbmcgY2FwdGlvbnMgb3duZXI6ICR7cGFkSWR9YCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgeyBsb2NhbGUgfSA9IHBhZDtcblxuICBjaGVjayhsb2NhbGUsIHsgbG9jYWxlOiBTdHJpbmcsIG5hbWU6IFN0cmluZyB9KTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIG93bmVySWQ6IHVzZXJJZCxcbiAgICBsb2NhbGU6IGxvY2FsZS5uYW1lLFxuICAgIGxvY2FsZUNvZGU6IGxvY2FsZS5sb2NhbGUsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkQ2FwdGlvbihtZWV0aW5nSWQsIHBhZElkLCBsb2NhbGUpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobG9jYWxlLCB7XG4gICAgbG9jYWxlOiBTdHJpbmcsXG4gICAgbmFtZTogU3RyaW5nLFxuICB9KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcGFkSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBhZElkLFxuICAgIGxvY2FsZSxcbiAgICBvd25lcklkOiAnJyxcbiAgICByZWFkT25seVBhZElkOiAnJyxcbiAgICBkYXRhOiAnJyxcbiAgICByZXZzOiAwLFxuICAgIGxlbmd0aDogMCxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCwgbnVtYmVyQWZmZWN0ZWQgfSA9IENhcHRpb25zLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIExvZ2dlci52ZXJib3NlKCdDYXB0aW9uczogYWRkZWQgbG9jYWxlJywgeyBsb2NhbGU6IGxvY2FsZS5sb2NhbGUsIG1lZXRpbmdJZCB9KTtcbiAgICB9IGVsc2UgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIudmVyYm9zZSgnQ2FwdGlvbnM6IHVwc2VydGVkIGxvY2FsZScsIHsgbG9jYWxlOiBsb2NhbGUubG9jYWxlLCBtZWV0aW5nSWQgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyBjYXB0aW9uIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJDYXB0aW9ucyhtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IENhcHRpb25zLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIENhcHRpb25zICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIGNhcHRpb25zICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQ2FwdGlvbnMucmVtb3ZlKHt9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIENhcHRpb25zIChhbGwpJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIGNhcHRpb25zIChhbGwpLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHVwZGF0ZU93bmVyIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy91cGRhdGVPd25lcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZU93bmVySWQobWVldGluZ0lkLCB1c2VySWQsIHBhZElkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcGFkSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgb3duZXJJZDogdXNlcklkLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IENhcHRpb25zLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIHsgbXVsdGk6IHRydWUgfSk7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIHVwZGF0ZU93bmVyKG1lZXRpbmdJZCwgdXNlcklkLCBwYWRJZCk7XG4gICAgICBMb2dnZXIudmVyYm9zZSgnQ2FwdGlvbnM6IHVwZGF0ZWQgY2FwdGlvbicsIHsgcGFkSWQsIG93bmVySWQ6IHVzZXJJZCB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcignQ2FwdGlvbnM6IGVycm9yIHdoaWxlIHVwZGF0aW5nIHBhZCcsIHsgZXJyIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBlZGl0Q2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2VkaXRDYXB0aW9ucyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZVBhZChwYWRJZCwgZGF0YSwgcmV2cykge1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcbiAgY2hlY2soZGF0YSwgU3RyaW5nKTtcbiAgY2hlY2socmV2cywgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBwYWRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBkYXRhLFxuICAgICAgcmV2cyxcbiAgICB9LFxuICAgICRpbmM6IHtcbiAgICAgIGxlbmd0aDogZGF0YS5sZW5ndGgsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQ2FwdGlvbnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgeyBtdWx0aTogdHJ1ZSB9KTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgZWRpdENhcHRpb25zKHBhZElkLCBkYXRhLCByZXZzKTtcbiAgICAgIExvZ2dlci52ZXJib3NlKCdDYXB0aW9uczogdXBkYXRlZCBwYWQnLCB7IHBhZElkLCByZXZzIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBjYXB0aW9ucyBwYWQ6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRQYWQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2FkZFBhZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZVJlYWRPbmx5UGFkSWQocGFkSWQsIHJlYWRPbmx5UGFkSWQpIHtcbiAgY2hlY2socGFkSWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlYWRPbmx5UGFkSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgcGFkSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgcmVhZE9ubHlQYWRJZCxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBDYXB0aW9ucy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCB7IG11bHRpOiB0cnVlIH0pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBhZGRQYWQocGFkSWQsIHJlYWRPbmx5UGFkSWQpO1xuICAgICAgTG9nZ2VyLnZlcmJvc2UoJ0NhcHRpb25zOiBhZGRlZCByZWFkT25seVBhZElkJywgeyBwYWRJZCwgcmVhZE9ubHlQYWRJZCB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcignQ2FwdGlvbnM6IGVycm9yIHdoZW4gYWRkaW5nIHJlYWRPbmx5UGFkSWQnLCB7IGVyciB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IHByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZVBhZENyZWF0ZSBmcm9tICcuL2hhbmRsZXJzL3BhZENyZWF0ZSc7XG5pbXBvcnQgaGFuZGxlUGFkVXBkYXRlIGZyb20gJy4vaGFuZGxlcnMvcGFkVXBkYXRlJztcblxuUmVkaXNQdWJTdWIub24oJ1BhZENyZWF0ZVN5c01zZycsIHByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkoaGFuZGxlUGFkQ3JlYXRlKSk7XG5SZWRpc1B1YlN1Yi5vbignUGFkVXBkYXRlU3lzTXNnJywgcHJvY2Vzc0ZvckNhcHRpb25zUGFkT25seShoYW5kbGVQYWRVcGRhdGUpKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgaGFzaFNIQTEgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuY29uc3QgRVRIRVJQQUQgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5ldGhlcnBhZDtcbmNvbnN0IENBUFRJT05TX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMuY2FwdGlvbnM7XG5jb25zdCBCQVNFTkFNRSA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMuYXBwLmJhc2VuYW1lO1xuY29uc3QgQVBQID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUuYXBwO1xuY29uc3QgTE9DQUxFU19VUkwgPSBgaHR0cDovLyR7QVBQLmhvc3R9OiR7QVBQLnBvcnR9JHtCQVNFTkFNRX0ke0FQUC5sb2NhbGVzVXJsfWA7XG5jb25zdCBDQVBUSU9OU19UT0tFTiA9ICdfY2NfJztcbmNvbnN0IFRPS0VOID0gJyQnO1xuXG4vLyBDYXB0aW9ucyBwYWRJZCBzaG91bGQgbG9vayBsaWtlOiB7cHJlZml4fV9jY197bG9jYWxlfVxuY29uc3QgZ2VuZXJhdGVQYWRJZCA9IChtZWV0aW5nSWQsIGxvY2FsZSkgPT4gYCR7aGFzaFNIQTEobWVldGluZ0lkK2xvY2FsZStFVEhFUlBBRC5hcGlrZXkpfSR7Q0FQVElPTlNfVE9LRU59JHtsb2NhbGV9YDtcblxuY29uc3QgaXNDYXB0aW9uc1BhZCA9IChwYWRJZCkgPT4ge1xuICBjb25zdCBzcGxpdFBhZElkID0gcGFkSWQuc3BsaXQoQ0FQVElPTlNfVE9LRU4pO1xuICByZXR1cm4gc3BsaXRQYWRJZC5sZW5ndGggPT09IDI7XG59O1xuXG5jb25zdCBnZXREYXRhRnJvbUNoYW5nZXNldCA9IChjaGFuZ2VzZXQpID0+IHtcbiAgY29uc3Qgc3BsaXRDaGFuZ2VzZXQgPSBjaGFuZ2VzZXQuc3BsaXQoVE9LRU4pO1xuICBpZiAoc3BsaXRDaGFuZ2VzZXQubGVuZ3RoID4gMSkge1xuICAgIHNwbGl0Q2hhbmdlc2V0LnNoaWZ0KCk7XG4gICAgcmV0dXJuIHNwbGl0Q2hhbmdlc2V0LmpvaW4oVE9LRU4pO1xuICB9XG4gIHJldHVybiAnJztcbn07XG5cbmNvbnN0IGlzRW5hYmxlZCA9ICgpID0+IENBUFRJT05TX0NPTkZJRy5lbmFibGVkO1xuXG5jb25zdCBnZXRMb2NhbGVzVVJMID0gKCkgPT4gTE9DQUxFU19VUkw7XG5cbmNvbnN0IHByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkgPSBmbiA9PiAobWVzc2FnZSwgLi4uYXJncykgPT4ge1xuICBjb25zdCB7IGJvZHkgfSA9IG1lc3NhZ2U7XG4gIGNvbnN0IHsgcGFkIH0gPSBib2R5O1xuICBjb25zdCB7IGlkIH0gPSBwYWQ7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG5cbiAgaWYgKGlzQ2FwdGlvbnNQYWQoaWQpKSByZXR1cm4gZm4obWVzc2FnZSwgLi4uYXJncyk7XG4gIHJldHVybiAoKSA9PiB7fTtcbn07XG5cbmV4cG9ydCB7XG4gIENBUFRJT05TX1RPS0VOLFxuICBnZW5lcmF0ZVBhZElkLFxuICBwcm9jZXNzRm9yQ2FwdGlvbnNQYWRPbmx5LFxuICBpc0VuYWJsZWQsXG4gIGdldExvY2FsZXNVUkwsXG4gIGdldERhdGFGcm9tQ2hhbmdlc2V0LFxufTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHRha2VPd25lcnNoaXAgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL3Rha2VPd25lcnNoaXAnO1xuaW1wb3J0IGFwcGVuZFRleHQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2FwcGVuZFRleHQnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHRha2VPd25lcnNoaXAsXG4gIGFwcGVuZFRleHQsXG59KTtcbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gY2FwdGlvbnMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gQ2FwdGlvbnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBDYXB0aW9ucycsIHsgbWVldGluZ0lkIH0pO1xuXG4gIHJldHVybiBDYXB0aW9ucy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRDYXB0aW9ucyA9IGNhcHRpb25zLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZENhcHRpb25zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnY2FwdGlvbnMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBDYXB0aW9ucyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdjYXB0aW9ucycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIENhcHRpb25zLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgcGFkSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcHRpb25zO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IEN1cnNvclN0cmVhbWVyIGZyb20gJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmNvbnN0IHsgc3RyZWFtZXJMb2cgfSA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnNlcnZlckxvZztcblxuY29uc3QgQ1VSU09SX1BST0NDRVNTX0lOVEVSVkFMID0gMzA7XG5cbmNvbnN0IGN1cnNvclF1ZXVlID0ge307XG5cbmNvbnN0IHByb2NjZXNzID0gXy50aHJvdHRsZSgoKSA9PiB7XG4gIHRyeSB7XG4gICAgT2JqZWN0LmtleXMoY3Vyc29yUXVldWUpLmZvckVhY2goKG1lZXRpbmdJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3Vyc29ycyA9IGN1cnNvclF1ZXVlW21lZXRpbmdJZF07XG4gICAgICAgIGRlbGV0ZSBjdXJzb3JRdWV1ZVttZWV0aW5nSWRdO1xuICAgICAgICBDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ21lc3NhZ2UnLCB7IG1lZXRpbmdJZCwgY3Vyc29ycyB9KTtcblxuICAgICAgICAvLyBpZiAoc3RyZWFtZXJMb2cpIHtcbiAgICAgICAgLy8gICBMb2dnZXIuZGVidWcoJ0N1cnNvclVwZGF0ZSBwcm9jZXNzIGhhcyBmaW5pc2hlZCcsIHsgbWVldGluZ0lkIH0pO1xuICAgICAgICAvLyB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHdoaWxlIHRyeWluZyB0byBzZW5kIGN1cnNvciBzdHJlYW1lciBkYXRhIGZvciBtZWV0aW5nICR7bWVldGluZ0lkfS4gJHtlcnJvcn1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHdoaWxlIHByb2Nlc3NpbmcgY3Vyc29yIHF1ZXVlLiAke2Vycm9yfWApO1xuICB9XG59LCBDVVJTT1JfUFJPQ0NFU1NfSU5URVJWQUwpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVDdXJzb3JVcGRhdGUoeyBoZWFkZXIsIGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcklkIH0gPSBoZWFkZXI7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgaWYgKCFjdXJzb3JRdWV1ZVttZWV0aW5nSWRdKSB7XG4gICAgY3Vyc29yUXVldWVbbWVldGluZ0lkXSA9IHt9O1xuICB9XG5cbiAgLy8gb3ZlcndyaXRlIHNpbmNlIHdlIGRvbnQgY2FyZSBhYm91dCB0aGUgb3RoZXIgcG9zaXRpb25zXG4gIGN1cnNvclF1ZXVlW21lZXRpbmdJZF1bdXNlcklkXSA9IGJvZHk7XG5cbiAgcHJvY2Nlc3MoKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHVibGlzaEN1cnNvclVwZGF0ZShtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NlbmRDdXJzb3JQb3NpdGlvblB1Yk1zZyc7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZUN1cnNvclVwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL2N1cnNvclVwZGF0ZSc7XG5cblJlZGlzUHViU3ViLm9uKCdTZW5kQ3Vyc29yUG9zaXRpb25FdnRNc2cnLCBoYW5kbGVDdXJzb3JVcGRhdGUpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgcHVibGlzaEN1cnNvclVwZGF0ZSBmcm9tICcuL21ldGhvZHMvcHVibGlzaEN1cnNvclVwZGF0ZSc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcHVibGlzaEN1cnNvclVwZGF0ZSxcbn0pO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHB1Ymxpc2hDdXJzb3JVcGRhdGUgZnJvbSAnLi9tZXRob2RzL3B1Ymxpc2hDdXJzb3JVcGRhdGUnO1xuXG5jb25zdCB7IHN0cmVhbWVyTG9nIH0gPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5zZXJ2ZXJMb2c7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpIHtcbiAgTG9nZ2VyLmluZm8oYFJlbW92aW5nIEN1cnNvciBzdHJlYW1lciBvYmplY3QgZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG4gIGRlbGV0ZSBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tgY3Vyc29yLSR7bWVldGluZ0lkfWBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3Vyc29yU3RyZWFtZXIobWVldGluZ0lkKSB7XG4gIGNvbnN0IHN0cmVhbWVyID0gbmV3IE1ldGVvci5TdHJlYW1lcihgY3Vyc29yLSR7bWVldGluZ0lkfWAsIHsgcmV0cmFuc21pdDogZmFsc2UgfSk7XG4gIGlmIChzdHJlYW1lckxvZykge1xuICAgIExvZ2dlci5kZWJ1ZygnQ3Vyc29yIHN0cmVhbWVyIGNyZWF0ZWQnLCB7IG1lZXRpbmdJZCB9KTtcbiAgfVxuXG4gIHN0cmVhbWVyLmFsbG93UmVhZChmdW5jdGlvbiBhbGxvd1JlYWQoKSB7XG4gICAgaWYgKHN0cmVhbWVyTG9nKSB7XG4gICAgICBMb2dnZXIuZGVidWcoJ0N1cnNvciBzdHJlYW1lciBjYWxsZWQgYWxsb3dSZWFkJywgeyB1c2VySWQ6IHRoaXMudXNlcklkLCBtZWV0aW5nSWQgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVzZXJJZCAmJiB0aGlzLnVzZXJJZC5pbmNsdWRlcyhtZWV0aW5nSWQpO1xuICB9KTtcblxuICBzdHJlYW1lci5hbGxvd1dyaXRlKGZ1bmN0aW9uIGFsbG93V3JpdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlcklkICYmIHRoaXMudXNlcklkLmluY2x1ZGVzKG1lZXRpbmdJZCk7XG4gIH0pO1xuXG4gIHN0cmVhbWVyLm9uKCdwdWJsaXNoJywgKG1lc3NhZ2UpID0+IHtcbiAgICBwdWJsaXNoQ3Vyc29yVXBkYXRlKG1lZXRpbmdJZCwgbWVzc2FnZS51c2VySWQsIG1lc3NhZ2UucGF5bG9hZCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXQobWVldGluZ0lkKSB7XG4gIHJldHVybiBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tgY3Vyc29yLSR7bWVldGluZ0lkfWBdO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlc3Ryb3lFeHRlcm5hbFZpZGVvKG1lZXRpbmdJZCkge1xuICBjb25zdCBzdHJlYW1OYW1lID0gYGV4dGVybmFsLXZpZGVvcy0ke21lZXRpbmdJZH1gO1xuXG4gIGlmIChNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tzdHJlYW1OYW1lXSkge1xuICAgIExvZ2dlci5pbmZvKGBEZXN0cm95aW5nIEV4dGVybmFsIFZpZGVvIHN0cmVhbWVyIG9iamVjdCBmb3IgJHtzdHJlYW1OYW1lfWApO1xuICAgIGRlbGV0ZSBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tzdHJlYW1OYW1lXTtcbiAgfVxufVxuIiwiaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW1pdEV4dGVybmFsVmlkZW9FdmVudChtZXNzYWdlTmFtZSwgLi4ucmVzdCkge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoeyB1c2VySWQsIG1lZXRpbmdJZCB9KTtcblxuICBpZiAodXNlciAmJiB1c2VyLnByZXNlbnRlcikge1xuICAgIGNvbnN0IHN0cmVhbWVyTmFtZSA9IGBleHRlcm5hbC12aWRlb3MtJHttZWV0aW5nSWR9YDtcbiAgICBjb25zdCBzdHJlYW1lciA9IE1ldGVvci5TdHJlYW1lckNlbnRyYWwuaW5zdGFuY2VzW3N0cmVhbWVyTmFtZV07XG5cbiAgICBpZiAoc3RyZWFtZXIpIHtcbiAgICAgIHN0cmVhbWVyLmVtaXQobWVzc2FnZU5hbWUsIC4uLnJlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEV4dGVybmFsIFZpZGVvIFN0cmVhbWVyIG5vdCBmb3VuZCBmb3IgbWVldGluZ0lkOiAke21lZXRpbmdJZH0gdXNlcklkOiAke3VzZXJJZH1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5jb25zdCBhbGxvd1JlY2VudE1lc3NhZ2VzID0gKGV2ZW50TmFtZSwgbWVzc2FnZSkgPT4ge1xuICBjb25zdCB7XG4gICAgdXNlcklkLFxuICAgIG1lZXRpbmdJZCxcbiAgICB0aW1lLFxuICAgIHJhdGUsXG4gICAgc3RhdGUsXG4gIH0gPSBtZXNzYWdlO1xuXG4gIExvZ2dlci5kZWJ1ZygnRXh0ZXJuYWxWaWRlbyBTdHJlYW1lciBhdXRoIGFsbG93ZWQnLCB7dXNlcklkLCBtZWV0aW5nSWQsIGV2ZW50TmFtZSwgdGltZSwgcmF0ZSwgc3RhdGV9KTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplRXh0ZXJuYWxWaWRlbygpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc3RyZWFtTmFtZSA9IGBleHRlcm5hbC12aWRlb3MtJHttZWV0aW5nSWR9YDtcbiAgaWYgKCFNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tzdHJlYW1OYW1lXSkge1xuICAgIGNvbnN0IHN0cmVhbWVyID0gbmV3IE1ldGVvci5TdHJlYW1lcihzdHJlYW1OYW1lKTtcbiAgICBzdHJlYW1lci5hbGxvd1JlYWQoJ2FsbCcpO1xuICAgIHN0cmVhbWVyLmFsbG93V3JpdGUoJ25vbmUnKTtcbiAgICBzdHJlYW1lci5hbGxvd0VtaXQoYWxsb3dSZWNlbnRNZXNzYWdlcyk7XG4gICAgTG9nZ2VyLmluZm8oYENyZWF0ZWQgRXh0ZXJuYWwgVmlkZW8gc3RyZWFtZXIgZm9yICR7c3RyZWFtTmFtZX1gKTtcbiAgfSBlbHNlIHtcbiAgICBMb2dnZXIuZGVidWcoJ0V4dGVybmFsIFZpZGVvIHN0cmVhbWVyIGlzIGFscmVhZHkgY3JlYXRlZCcsIHsgc3RyZWFtTmFtZSB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyhvcHRpb25zKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU3RhcnRFeHRlcm5hbFZpZGVvTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IHsgZXh0ZXJuYWxWaWRlb1VybCB9ID0gb3B0aW9ucztcblxuICB0cnkge1xuICAgIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gICAgY2hlY2soZXh0ZXJuYWxWaWRlb1VybCwgU3RyaW5nKTtcblxuICAgIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCB1c2VySWQsIHByZXNlbnRlcjogdHJ1ZSB9LCB7IHByZXNlbnRlcjogMSB9KTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBPbmx5IHByZXNlbnRlcnMgYXJlIGFsbG93ZWQgdG8gc3RhcnQgZXh0ZXJuYWwgdmlkZW8gZm9yIGEgbWVldGluZy4gbWVldGluZz0ke21lZXRpbmdJZH0gdXNlcklkPSR7dXNlcklkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE1lZXRpbmdzLnVwZGF0ZSh7IG1lZXRpbmdJZCB9LCB7ICRzZXQ6IHsgZXh0ZXJuYWxWaWRlb1VybCB9IH0pO1xuXG4gICAgY29uc3QgcGF5bG9hZCA9IHsgZXh0ZXJuYWxWaWRlb1VybCB9O1xuXG4gICAgTG9nZ2VyLmluZm8oYFVzZXIgaWQ9JHt1c2VySWR9IHNoYXJpbmcgYW4gZXh0ZXJuYWwgdmlkZW86ICR7ZXh0ZXJuYWxWaWRlb1VybH0gZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG5cbiAgICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIHNoYXJpbmcgYW4gZXh0ZXJuYWwgdmlkZW86ICR7ZXh0ZXJuYWxWaWRlb1VybH0gJHtlcnJvcn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvKG9wdGlvbnMpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTdG9wRXh0ZXJuYWxWaWRlb01zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gdGhpcy51c2VySWQgPyBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpIDogb3B0aW9ucztcblxuICB0cnkge1xuICAgIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZXF1ZXN0ZXJVc2VySWQsIFN0cmluZyk7XG5cbiAgICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZSh7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgICAgIHByZXNlbnRlcjogdHJ1ZSxcbiAgICB9LCB7IHByZXNlbnRlcjogMSB9KTtcblxuICAgIGlmICh0aGlzLnVzZXJJZCAmJiAhdXNlcikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBPbmx5IHByZXNlbnRlcnMgYXJlIGFsbG93ZWQgdG8gc3RvcCBleHRlcm5hbCB2aWRlbyBmb3IgYSBtZWV0aW5nLiBtZWV0aW5nPSR7bWVldGluZ0lkfSB1c2VySWQ9JHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG4gICAgaWYgKCFtZWV0aW5nIHx8IG1lZXRpbmcuZXh0ZXJuYWxWaWRlb1VybCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgTWVldGluZ3MudXBkYXRlKHsgbWVldGluZ0lkIH0sIHsgJHNldDogeyBleHRlcm5hbFZpZGVvVXJsOiBudWxsIH0gfSk7XG4gICAgY29uc3QgcGF5bG9hZCA9IHt9O1xuXG4gICAgTG9nZ2VyLmluZm8oYFVzZXIgaWQ9JHtyZXF1ZXN0ZXJVc2VySWR9IHN0b3BwZWQgc2hhcmluZyBhbiBleHRlcm5hbCB2aWRlbyBmb3IgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcblxuICAgIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBzdG9wIHNoYXJpbmcgYW4gZXh0ZXJuYWwgdmlkZW8gZm9yIG1lZXRpbmc9JHttZWV0aW5nSWR9ICR7ZXJyb3J9YCk7XG4gIH1cbn1cbiIsImltcG9ydCAnLi9tZXRob2RzJztcblxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgc3RhcnRXYXRjaGluZ0V4dGVybmFsVmlkZW8gZnJvbSAnLi9tZXRob2RzL3N0YXJ0V2F0Y2hpbmdFeHRlcm5hbFZpZGVvJztcbmltcG9ydCBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvIGZyb20gJy4vbWV0aG9kcy9zdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvJztcbmltcG9ydCBpbml0aWFsaXplRXh0ZXJuYWxWaWRlbyBmcm9tICcuL21ldGhvZHMvaW5pdGlhbGl6ZUV4dGVybmFsVmlkZW8nO1xuaW1wb3J0IGVtaXRFeHRlcm5hbFZpZGVvRXZlbnQgZnJvbSAnLi9tZXRob2RzL2VtaXRFeHRlcm5hbFZpZGVvRXZlbnQnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGluaXRpYWxpemVFeHRlcm5hbFZpZGVvLFxuICBzdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyxcbiAgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyxcbiAgZW1pdEV4dGVybmFsVmlkZW9FdmVudCxcbn0pO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZEdyb3VwQ2hhdCBmcm9tICcuLi9tb2RpZmllcnMvYWRkR3JvdXBDaGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3JvdXBDaGF0Q3JlYXRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBhZGRHcm91cENoYXQobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXQgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdERlc3Ryb3llZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBhZGRHcm91cENoYXQobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXQgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdHMoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGNoYXRzIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdHMsIEFycmF5KTtcblxuICBjaGF0cy5mb3JFYWNoKGNoYXQgPT4gYWRkR3JvdXBDaGF0KG1lZXRpbmdJZCwgY2hhdCkpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgQ0hBVF9BQ0NFU1NfUFJJVkFURSB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0JztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVHcm91cENoYXQocmVjZWl2ZXIpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDcmVhdGVHcm91cENoYXRSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2socmVjZWl2ZXIsIE9iamVjdCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjb3JyZWxhdGlvbklkOiBgJHtyZXF1ZXN0ZXJVc2VySWR9LSR7RGF0ZS5ub3coKX1gLFxuICAgIG1zZzogW10sXG4gICAgdXNlcnM6IFtyZWNlaXZlci51c2VySWRdLFxuICAgIGFjY2VzczogQ0hBVF9BQ0NFU1NfUFJJVkFURSxcbiAgICBuYW1lOiByZWNlaXZlci5uYW1lLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwQ2hhdCgpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBldmVudE5hbWUgPSAnRGVzdHJveUdyb3VwQ2hhdFJlcU1zZyc7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgdGhpcyB0b2dldGhlciB3aXRoICM0OTg4XG4gICAgLy8gY2hhdHM6IEFycmF5W1N0cmluZ10sXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBldmVudE5hbWUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRHcm91cENoYXQobWVldGluZ0lkLCBjaGF0KSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdCwge1xuICAgIGlkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIGNoYXRJZDogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgICBjb3JyZWxhdGlvbklkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIG5hbWU6IFN0cmluZyxcbiAgICBhY2Nlc3M6IFN0cmluZyxcbiAgICBjcmVhdGVkQnk6IE9iamVjdCxcbiAgICB1c2VyczogQXJyYXksXG4gICAgbXNnOiBNYXRjaC5NYXliZShBcnJheSksXG4gIH0pO1xuXG4gIGNvbnN0IGNoYXREb2N1bWVudCA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgY2hhdElkOiBjaGF0LmNoYXRJZCB8fCBjaGF0LmlkLFxuICAgIG5hbWU6IGNoYXQubmFtZSxcbiAgICBhY2Nlc3M6IGNoYXQuYWNjZXNzLFxuICAgIHVzZXJzOiBjaGF0LnVzZXJzLm1hcCh1ID0+IHUuaWQpLFxuICAgIGNyZWF0ZWRCeTogY2hhdC5jcmVhdGVkQnkuaWQsXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgY2hhdElkOiBjaGF0RG9jdW1lbnQuY2hhdElkLFxuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBmbGF0KGNoYXREb2N1bWVudCwgeyBzYWZlOiB0cnVlIH0pLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBHcm91cENoYXQudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIGdyb3VwLWNoYXQgbmFtZT0ke2NoYXQubmFtZX0gbWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgZ3JvdXAtY2hhdCBuYW1lPSR7Y2hhdC5uYW1lfSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyBncm91cC1jaGF0IHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgR3JvdXBDaGF0IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjbGVhckdyb3VwQ2hhdE1zZyBmcm9tICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21vZGlmaWVycy9jbGVhckdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyR3JvdXBDaGF0KG1lZXRpbmdJZCkge1xuICB0cnkge1xuICAgIGNsZWFyR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCk7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBHcm91cENoYXQucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBHcm91cENoYXQgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgR3JvdXBDaGF0ICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVHcm91cENoYXRzIGZyb20gJy4vaGFuZGxlcnMvZ3JvdXBDaGF0cyc7XG5pbXBvcnQgaGFuZGxlR3JvdXBDaGF0Q3JlYXRlZCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdENyZWF0ZWQnO1xuaW1wb3J0IGhhbmRsZUdyb3VwQ2hhdERlc3Ryb3llZCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdERlc3Ryb3llZCc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cblJlZGlzUHViU3ViLm9uKCdHZXRHcm91cENoYXRzUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlR3JvdXBDaGF0cykpO1xuUmVkaXNQdWJTdWIub24oJ0dyb3VwQ2hhdENyZWF0ZWRFdnRNc2cnLCBoYW5kbGVHcm91cENoYXRDcmVhdGVkKTtcblJlZGlzUHViU3ViLm9uKCdHcm91cENoYXREZXN0cm95ZWRFdnRNc2cnLCBoYW5kbGVHcm91cENoYXREZXN0cm95ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRHcm91cENoYXRzUmVzcE1zZycsIGhhbmRsZUdyb3VwQ2hhdHMpO1xuIiwiaW1wb3J0ICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyJztcbmltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGNyZWF0ZUdyb3VwQ2hhdCBmcm9tICcuL21ldGhvZHMvY3JlYXRlR3JvdXBDaGF0JztcbmltcG9ydCBkZXN0cm95R3JvdXBDaGF0IGZyb20gJy4vbWV0aG9kcy9kZXN0cm95R3JvdXBDaGF0JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBjcmVhdGVHcm91cENoYXQsXG4gIGRlc3Ryb3lHcm91cENoYXQsXG59KTtcbiIsImltcG9ydCBHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBncm91cENoYXQoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gR3JvdXBDaGF0LmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19DSEFUX1RZUEUgPSBDSEFUX0NPTkZJRy50eXBlX3B1YmxpYztcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgZ3JvdXAtY2hhdCcsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIEdyb3VwQ2hhdC5maW5kKHtcbiAgICAkb3I6IFtcbiAgICAgIHsgbWVldGluZ0lkLCBhY2Nlc3M6IFBVQkxJQ19DSEFUX1RZUEUgfSxcbiAgICAgIHsgbWVldGluZ0lkLCB1c2VyczogeyAkYWxsOiBbcmVxdWVzdGVyVXNlcklkXSB9IH0sXG4gICAgXSxcblxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kR3JvdXBDaGF0ID0gZ3JvdXBDaGF0LmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZEdyb3VwQ2hhdCguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2dyb3VwLWNoYXQnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBHcm91cENoYXQgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignZ3JvdXAtY2hhdCcpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIEdyb3VwQ2hhdC5fZW5zdXJlSW5kZXgoe1xuICAgIG1lZXRpbmdJZDogMSwgY2hhdElkOiAxLCBhY2Nlc3M6IDEsIHVzZXJzOiAxLFxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JvdXBDaGF0O1xuXG5jb25zdCBDSEFUX0FDQ0VTUyA9IHtcbiAgUFVCTElDOiAnUFVCTElDX0FDQ0VTUycsXG4gIFBSSVZBVEU6ICdQUklWQVRFX0FDQ0VTUycsXG59O1xuXG5leHBvcnQgY29uc3QgQ0hBVF9BQ0NFU1NfUFVCTElDID0gQ0hBVF9BQ0NFU1MuUFVCTElDO1xuZXhwb3J0IGNvbnN0IENIQVRfQUNDRVNTX1BSSVZBVEUgPSBDSEFUX0FDQ0VTUy5QUklWQVRFO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGNsZWFyR3JvdXBDaGF0TXNnIGZyb20gJy4uL21vZGlmaWVycy9jbGVhckdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyUHVibGljQ2hhdEhpc3RvcnkoeyBoZWFkZXIsIGJvZHkgfSkge1xuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gaGVhZGVyO1xuICBjb25zdCB7IGNoYXRJZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYXRJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gY2xlYXJHcm91cENoYXRNc2cobWVldGluZ0lkLCBjaGF0SWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBhZGRHcm91cENoYXRNc2cgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5pbXBvcnQgYWRkQnVsa0dyb3VwQ2hhdE1zZ3MgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEJ1bGtHcm91cENoYXRNc2dzJztcblxuY29uc3QgeyBidWZmZXJDaGF0SW5zZXJ0c01zIH0gPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG5cbmNvbnN0IG1zZ0J1ZmZlciA9IFtdO1xuXG5jb25zdCBidWxrRm4gPSBfLnRocm90dGxlKGFkZEJ1bGtHcm91cENoYXRNc2dzLCBidWZmZXJDaGF0SW5zZXJ0c01zKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3JvdXBDaGF0TXNnQnJvYWRjYXN0KHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBjaGF0SWQsIG1zZyB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYXRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobXNnLCBPYmplY3QpO1xuXG4gIGlmIChidWZmZXJDaGF0SW5zZXJ0c01zKSB7XG4gICAgbXNnQnVmZmVyLnB1c2goeyBtZWV0aW5nSWQsIGNoYXRJZCwgbXNnIH0pO1xuICAgIGJ1bGtGbihtc2dCdWZmZXIpO1xuICB9IGVsc2Uge1xuICAgIGFkZEdyb3VwQ2hhdE1zZyhtZWV0aW5nSWQsIGNoYXRJZCwgbXNnKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBzeW5jTWVldGluZ0NoYXRNc2dzIGZyb20gJy4uL21vZGlmaWVycy9zeW5jTWVldGluZ0NoYXRNc2dzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlU3luY0dyb3VwQ2hhdCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgY2hhdElkLCBtc2dzIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdElkLCBTdHJpbmcpO1xuICBjaGVjayhtc2dzLCBNYXRjaC5NYXliZShBcnJheSkpO1xuXG4gIHN5bmNNZWV0aW5nQ2hhdE1zZ3MobWVldGluZ0lkLCBjaGF0SWQsIG1zZ3MpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHN0YXJ0VHlwaW5nIGZyb20gJy4uL21vZGlmaWVycy9zdGFydFR5cGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJUeXBpbmcoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGNoYXRJZCwgdXNlcklkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgc3RhcnRUeXBpbmcobWVldGluZ0lkLCB1c2VySWQsIGNoYXRJZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSgpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDbGVhclB1YmxpY0NoYXRIaXN0b3J5UHViTXNnJztcbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19HUk9VUF9DSEFUX0lEID0gQ0hBVF9DT05GSUcucHVibGljX2dyb3VwX2lkO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjaGF0SWQ6IFBVQkxJQ19HUk9VUF9DSEFUX0lELFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IFJlZ2V4V2ViVXJsIGZyb20gJy9pbXBvcnRzL3V0aWxzL3JlZ2V4LXdlYnVybCc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgSFRNTF9TQUZFX01BUCA9IHtcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5OycsXG59O1xuXG5jb25zdCBwYXJzZU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICBsZXQgcGFyc2VkTWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnRyaW0oKTtcblxuICAvLyBSZXBsYWNlIDxici8+IHdpdGggXFxuXFxyXG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnJlcGxhY2UoLzxiclxccypbXFxcXC9dPz4vZ2ksICdcXG5cXHInKTtcblxuICAvLyBTYW5pdGl6ZS4gU2VlOiBodHRwOi8vc2hlYmFuZy5icmFuZG9ubWludGVybi5jb20vZm9vbHByb29mLWh0bWwtZXNjYXBpbmctaW4tamF2YXNjcmlwdC9cbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2UucmVwbGFjZSgvWzw+J1wiXS9nLCBjID0+IEhUTUxfU0FGRV9NQVBbY10pO1xuXG4gIC8vIFJlcGxhY2UgZmxhc2ggbGlua3MgdG8gZmxhc2ggdmFsaWQgb25lc1xuICBwYXJzZWRNZXNzYWdlID0gcGFyc2VkTWVzc2FnZS5yZXBsYWNlKFJlZ2V4V2ViVXJsLCBcIjxhIGhyZWY9J2V2ZW50OiQmJz48dT4kJjwvdT48L2E+XCIpO1xuXG4gIHJldHVybiBwYXJzZWRNZXNzYWdlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEdyb3VwQ2hhdE1zZyhjaGF0SWQsIG1lc3NhZ2UpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZW5kR3JvdXBDaGF0TWVzc2FnZU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhtZXNzYWdlLCBPYmplY3QpO1xuXG4gIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBwYXJzZU1lc3NhZ2UobWVzc2FnZS5tZXNzYWdlKTtcblxuICBtZXNzYWdlLm1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbXNnOiBtZXNzYWdlLFxuICAgIGNoYXRJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydFVzZXJUeXBpbmcoY2hhdElkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlclR5cGluZ1B1Yk1zZyc7XG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjaGF0SWQ6IGNoYXRJZCB8fCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCBzdG9wVHlwaW5nIGZyb20gJy4uL21vZGlmaWVycy9zdG9wVHlwaW5nJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdG9wVXNlclR5cGluZygpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCB1c2VyVHlwaW5nID0gVXNlcnNUeXBpbmcuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9KTtcblxuICBpZiAodXNlclR5cGluZyAmJiBtZWV0aW5nSWQgJiYgcmVxdWVzdGVyVXNlcklkKSB7XG4gICAgc3RvcFR5cGluZyhtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgdHJ1ZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdyb3VwQ2hhdE1zZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCB7IHBhcnNlTWVzc2FnZSB9IGZyb20gJy4vYWRkR3JvdXBDaGF0TXNnJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gYWRkQnVsa0dyb3VwQ2hhdE1zZ3MobXNncykge1xuICBpZiAoIW1zZ3MubGVuZ3RoKSByZXR1cm47XG5cbiAgY29uc3QgbWFwcGVkTXNncyA9IG1zZ3NcbiAgICAubWFwKCh7IGNoYXRJZCwgbWVldGluZ0lkLCBtc2cgfSkgPT4gKHtcbiAgICAgIF9pZDogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcbiAgICAgIC4uLm1zZyxcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIGNoYXRJZCxcbiAgICAgIG1lc3NhZ2U6IHBhcnNlTWVzc2FnZShtc2cubWVzc2FnZSksXG4gICAgICBzZW5kZXI6IG1zZy5zZW5kZXIuaWQsXG4gICAgfSkpXG4gICAgLm1hcChlbCA9PiBmbGF0KGVsLCB7IHNhZmU6IHRydWUgfSkpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZENvdW50IH0gPSBhd2FpdCBHcm91cENoYXRNc2cucmF3Q29sbGVjdGlvbigpLmluc2VydE1hbnkobWFwcGVkTXNncyk7XG4gICAgbXNncy5sZW5ndGggPSAwO1xuXG4gICAgaWYgKGluc2VydGVkQ291bnQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBJbnNlcnRlZCAke2luc2VydGVkQ291bnR9IG1lc3NhZ2VzYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGJ1bGsgaW5zZXJ0LiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgeyBNYXRjaCwgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgR3JvdXBDaGF0TXNnIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCB7IEJSRUFLX0xJTkUgfSBmcm9tICcvaW1wb3J0cy91dGlscy9saW5lRW5kaW5ncyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1lc3NhZ2UobWVzc2FnZSkge1xuICBsZXQgcGFyc2VkTWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XG5cbiAgLy8gUmVwbGFjZSBcXHIgYW5kIFxcbiB0byA8YnIvPlxuICBwYXJzZWRNZXNzYWdlID0gcGFyc2VkTWVzc2FnZS5yZXBsYWNlKC8oW14+XFxyXFxuXT8pKFxcclxcbnxcXG5cXHJ8XFxyfFxcbikvZywgYCQxJHtCUkVBS19MSU5FfSQyYCk7XG5cbiAgLy8gUmVwbGFjZSBmbGFzaCBsaW5rcyB0byBodG1sIHZhbGlkIG9uZXNcbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2Uuc3BsaXQoJzxhIGhyZWY9XFwnZXZlbnQ6Jykuam9pbignPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cXCcnKTtcbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2Uuc3BsaXQoJzxhIGhyZWY9XCJldmVudDonKS5qb2luKCc8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJyk7XG5cbiAgcmV0dXJuIHBhcnNlZE1lc3NhZ2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZEdyb3VwQ2hhdE1zZyhtZWV0aW5nSWQsIGNoYXRJZCwgbXNnKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdElkLCBTdHJpbmcpO1xuICBjaGVjayhtc2csIHtcbiAgICBpZDogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgICB0aW1lc3RhbXA6IE51bWJlcixcbiAgICBzZW5kZXI6IE9iamVjdCxcbiAgICBjb2xvcjogU3RyaW5nLFxuICAgIG1lc3NhZ2U6IFN0cmluZyxcbiAgICBjb3JyZWxhdGlvbklkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICB9KTtcblxuICBjb25zdCBtc2dEb2N1bWVudCA9IHtcbiAgICAuLi5tc2csXG4gICAgbWVldGluZ0lkLFxuICAgIGNoYXRJZCxcbiAgICBtZXNzYWdlOiBwYXJzZU1lc3NhZ2UobXNnLm1lc3NhZ2UpLFxuICAgIHNlbmRlcjogbXNnLnNlbmRlci5pZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IGZsYXQobXNnRG9jdW1lbnQsIHsgc2FmZTogdHJ1ZSB9KTtcblxuICB0cnkge1xuICAgIGNvbnN0IGluc2VydGVkSWQgPSBHcm91cENoYXRNc2cuaW5zZXJ0KG1vZGlmaWVyKTtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgZ3JvdXAtY2hhdC1tc2cgbXNnSWQ9JHttc2cuaWR9IGNoYXRJZD0ke2NoYXRJZH0gbWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBhZGRpbmcgZ3JvdXAtY2hhdC1tc2cgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdyb3VwQ2hhdE1zZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgYWRkR3JvdXBDaGF0TXNnIGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkKSB7XG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfQ0hBVF9TWVNURU1fSUQgPSBDSEFUX0NPTkZJRy5zeXN0ZW1fdXNlcmlkO1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcbiAgY29uc3QgQ0hBVF9DTEVBUl9NRVNTQUdFID0gQ0hBVF9DT05GSUcuc3lzdGVtX21lc3NhZ2VzX2tleXMuY2hhdF9jbGVhcjtcblxuICBpZiAoY2hhdElkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gR3JvdXBDaGF0TXNnLnJlbW92ZSh7IG1lZXRpbmdJZCwgY2hhdElkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgR3JvdXBDaGF0TXNnICgke21lZXRpbmdJZH0sICR7Y2hhdElkfSlgKTtcbiAgICAgICAgY29uc3QgY2xlYXJNc2cgPSB7XG4gICAgICAgICAgY29sb3I6ICcwJyxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgY29ycmVsYXRpb25JZDogYCR7UFVCTElDX0NIQVRfU1lTVEVNX0lEfS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICBzZW5kZXI6IHtcbiAgICAgICAgICAgIGlkOiBQVUJMSUNfQ0hBVF9TWVNURU1fSUQsXG4gICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1lc3NhZ2U6IENIQVRfQ0xFQVJfTUVTU0FHRSxcbiAgICAgICAgfTtcbiAgICAgICAgYWRkR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgUFVCTElDX0dST1VQX0NIQVRfSUQsIGNsZWFyTXNnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgR3JvdXBDaGF0ICgke21lZXRpbmdJZH0sICR7Y2hhdElkfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBHcm91cENoYXRNc2cucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgR3JvdXBDaGF0TXNnICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIEdyb3VwQ2hhdE1zZyAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IEdyb3VwQ2hhdE1zZy5yZW1vdmUoeyBjaGF0SWQ6IHsgJGVxOiBQVUJMSUNfR1JPVVBfQ0hBVF9JRCB9IH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgR3JvdXBDaGF0TXNnIChhbGwpJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIEdyb3VwQ2hhdE1zZyAoYWxsKS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB7IFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCBzdG9wVHlwaW5nIGZyb20gJy4vc3RvcFR5cGluZyc7XG5cbmNvbnN0IFRZUElOR19USU1FT1VUID0gNTAwMDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRUeXBpbmcobWVldGluZ0lkLCB1c2VySWQsIGNoYXRJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHNlbGVjdG9yLCB7IGZpZWxkczogeyBuYW1lOiAxLCByb2xlOiAxIH0gfSk7XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgaXNUeXBpbmdUbzogY2hhdElkLFxuICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICB0aW1lOiAobmV3IERhdGUoKSksXG4gIH07XG5cbiAgY29uc3QgdHlwaW5nVXNlciA9IFVzZXJzVHlwaW5nLmZpbmRPbmUoc2VsZWN0b3IsIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHRpbWU6IDEsXG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKHR5cGluZ1VzZXIpIHtcbiAgICBpZiAobW9kaWZpZXIudGltZSAtIHR5cGluZ1VzZXIudGltZSA8PSBUWVBJTkdfVElNRU9VVCAtIDEwMCkgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBVc2Vyc1R5cGluZy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmRlYnVnKCdUeXBpbmcgaW5kaWNhdG9yIHVwZGF0ZScsIHsgdXNlcklkLCBjaGF0SWQgfSk7XG4gICAgICBNZXRlb3Iuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHN0b3BUeXBpbmcobWVldGluZ0lkLCB1c2VySWQpO1xuICAgICAgfSwgVFlQSU5HX1RJTUVPVVQpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBUeXBpbmcgaW5kaWNhdG9yIHVwZGF0ZSBlcnJvcjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RvcFR5cGluZyhtZWV0aW5nSWQsIHVzZXJJZCwgc2VuZE1zZ0luaXRpYXRlZCA9IGZhbHNlKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhzZW5kTXNnSW5pdGlhdGVkLCBCb29sZWFuKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IHVzZXIgPSBVc2Vyc1R5cGluZy5maW5kT25lKHNlbGVjdG9yKTtcbiAgY29uc3Qgc3RpbGxUeXBpbmcgPSAhc2VuZE1zZ0luaXRpYXRlZCAmJiB1c2VyICYmIChuZXcgRGF0ZSgpKSAtIHVzZXIudGltZSA8IDMwMDA7XG4gIGlmIChzdGlsbFR5cGluZykgcmV0dXJuO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2Vyc1R5cGluZy5yZW1vdmUoc2VsZWN0b3IpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuZGVidWcoJ1N0b3BwZWQgdHlwaW5nIGluZGljYXRvcicsIHsgdXNlcklkIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBTdG9wIHVzZXI9JHt1c2VySWR9IHR5cGluZyBpbmRpY2F0b3IgZXJyb3I6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNYXRjaCwgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgeyBHcm91cENoYXRNc2cgfSBmcm9tICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgcGFyc2VNZXNzYWdlIH0gZnJvbSAnLi9hZGRHcm91cENoYXRNc2cnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW5jTWVldGluZ0NoYXRNc2dzKG1lZXRpbmdJZCwgY2hhdElkLCBtc2dzKSB7XG4gIGlmICghbXNncy5sZW5ndGgpIHJldHVybjtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYXRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobXNncywgTWF0Y2guTWF5YmUoQXJyYXkpKTtcblxuICB0cnkge1xuICAgIGNvbnN0IGJ1bGtPcGVyYXRpb25zID0gR3JvdXBDaGF0TXNnLnJhd0NvbGxlY3Rpb24oKS5pbml0aWFsaXplT3JkZXJlZEJ1bGtPcCgpO1xuXG4gICAgbXNnc1xuICAgICAgLmZvckVhY2goKG1zZykgPT4ge1xuICAgICAgICBjb25zdCBtc2dUb1N5bmMgPSB7XG4gICAgICAgICAgLi4ubXNnLFxuICAgICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgICBjaGF0SWQsXG4gICAgICAgICAgbWVzc2FnZTogcGFyc2VNZXNzYWdlKG1zZy5tZXNzYWdlKSxcbiAgICAgICAgICBzZW5kZXI6IG1zZy5zZW5kZXIuaWQsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbW9kaWZpZXIgPSBmbGF0KG1zZ1RvU3luYywgeyBzYWZlOiB0cnVlIH0pO1xuXG4gICAgICAgIGJ1bGtPcGVyYXRpb25zXG4gICAgICAgICAgLmZpbmQoeyBjaGF0SWQsIG1lZXRpbmdJZCwgaWQ6IG1zZy5pZCB9KVxuICAgICAgICAgIC51cHNlcnQoKVxuICAgICAgICAgIC51cGRhdGVPbmUoe1xuICAgICAgICAgICAgJHNldE9uSW5zZXJ0OiB7IF9pZDogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0ciB9LFxuICAgICAgICAgICAgJHNldDogeyAuLi5tb2RpZmllciB9LFxuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBidWxrT3BlcmF0aW9ucy5leGVjdXRlKCk7XG5cbiAgICBMb2dnZXIuaW5mbygnQ2hhdCBtZXNzYWdlcyBzeW5jaHJvbml6ZWQnLCB7IGNoYXRJZCwgbWVldGluZ0lkIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIHN5bmMgY2hhdCBtZXNzYWdlczogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlR3JvdXBDaGF0TXNnQnJvYWRjYXN0IGZyb20gJy4vaGFuZGxlcnMvZ3JvdXBDaGF0TXNnQnJvYWRjYXN0JztcbmltcG9ydCBoYW5kbGVDbGVhclB1YmxpY0dyb3VwQ2hhdCBmcm9tICcuL2hhbmRsZXJzL2NsZWFyUHVibGljR3JvdXBDaGF0JztcbmltcG9ydCBoYW5kbGVVc2VyVHlwaW5nIGZyb20gJy4vaGFuZGxlcnMvdXNlclR5cGluZyc7XG5pbXBvcnQgaGFuZGxlU3luY0dyb3VwQ2hhdE1zZyBmcm9tICcuL2hhbmRsZXJzL3N5bmNHcm91cHNDaGF0JztcbmltcG9ydCB7IHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuUmVkaXNQdWJTdWIub24oJ0dldEdyb3VwQ2hhdE1zZ3NSZXNwTXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVTeW5jR3JvdXBDaGF0TXNnKSk7XG5SZWRpc1B1YlN1Yi5vbignR3JvdXBDaGF0TWVzc2FnZUJyb2FkY2FzdEV2dE1zZycsIGhhbmRsZUdyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCk7XG5SZWRpc1B1YlN1Yi5vbignQ2xlYXJQdWJsaWNDaGF0SGlzdG9yeUV2dE1zZycsIGhhbmRsZUNsZWFyUHVibGljR3JvdXBDaGF0KTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0R3JvdXBDaGF0TXNnc1Jlc3BNc2cnLCBoYW5kbGVTeW5jR3JvdXBDaGF0TXNnKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyVHlwaW5nRXZ0TXNnJywgaGFuZGxlVXNlclR5cGluZyk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBzZW5kR3JvdXBDaGF0TXNnIGZyb20gJy4vbWV0aG9kcy9zZW5kR3JvdXBDaGF0TXNnJztcbmltcG9ydCBjbGVhclB1YmxpY0NoYXRIaXN0b3J5IGZyb20gJy4vbWV0aG9kcy9jbGVhclB1YmxpY0NoYXRIaXN0b3J5JztcbmltcG9ydCBzdGFydFVzZXJUeXBpbmcgZnJvbSAnLi9tZXRob2RzL3N0YXJ0VXNlclR5cGluZyc7XG5pbXBvcnQgc3RvcFVzZXJUeXBpbmcgZnJvbSAnLi9tZXRob2RzL3N0b3BVc2VyVHlwaW5nJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBzZW5kR3JvdXBDaGF0TXNnLFxuICBjbGVhclB1YmxpY0NoYXRIaXN0b3J5LFxuICBzdGFydFVzZXJUeXBpbmcsXG4gIHN0b3BVc2VyVHlwaW5nLFxufSk7XG4iLCJpbXBvcnQgeyBHcm91cENoYXRNc2csIFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gZ3JvdXBDaGF0TXNnKGNoYXRzSWRzKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gR3JvdXBDaGF0TXNnLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19HUk9VUF9DSEFUX0lEID0gQ0hBVF9DT05GSUcucHVibGljX2dyb3VwX2lkO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBncm91cC1jaGF0LW1zZycsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIEdyb3VwQ2hhdE1zZy5maW5kKHtcbiAgICAkb3I6IFtcbiAgICAgIHsgbWVldGluZ0lkLCBjaGF0SWQ6IHsgJGVxOiBQVUJMSUNfR1JPVVBfQ0hBVF9JRCB9IH0sXG4gICAgICB7IGNoYXRJZDogeyAkaW46IGNoYXRzSWRzIH0gfSxcbiAgICBdLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kR3JvdXBDaGF0ID0gZ3JvdXBDaGF0TXNnLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZEdyb3VwQ2hhdCguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2dyb3VwLWNoYXQtbXNnJywgcHVibGlzaCk7XG5cbmZ1bmN0aW9uIHVzZXJzVHlwaW5nKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFVzZXJzVHlwaW5nLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgdXNlcnMtdHlwaW5nJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gVXNlcnNUeXBpbmcuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHViaXNoVXNlcnNUeXBpbmcoLi4uYXJncykge1xuICBjb25zdCBib3VuZFVzZXJzVHlwaW5nID0gdXNlcnNUeXBpbmcuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVXNlcnNUeXBpbmcoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd1c2Vycy10eXBpbmcnLCBwdWJpc2hVc2Vyc1R5cGluZyk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgR3JvdXBDaGF0TXNnID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2dyb3VwLWNoYXQtbXNnJyk7XG5jb25zdCBVc2Vyc1R5cGluZyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd1c2Vycy10eXBpbmcnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBHcm91cENoYXRNc2cuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCBjaGF0SWQ6IDEgfSk7XG4gIFVzZXJzVHlwaW5nLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgaXNUeXBpbmdUbzogMSB9KTtcbn1cblxuZXhwb3J0IHsgR3JvdXBDaGF0TXNnLCBVc2Vyc1R5cGluZyB9O1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHNldEd1ZXN0U3RhdHVzIGZyb20gJy4uL21vZGlmaWVycy9zZXRHdWVzdFN0YXR1cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUd1ZXN0QXBwcm92ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGFwcHJvdmVkQnksIGd1ZXN0cyB9ID0gYm9keTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhhcHByb3ZlZEJ5LCBTdHJpbmcpO1xuICBjaGVjayhndWVzdHMsIEFycmF5KTtcblxuICByZXR1cm4gZ3Vlc3RzLmZvckVhY2goZ3Vlc3QgPT4gc2V0R3Vlc3RTdGF0dXMobWVldGluZ0lkLCBndWVzdC5ndWVzdCwgZ3Vlc3Quc3RhdHVzLCBhcHByb3ZlZEJ5KSk7XG59XG4iLCJpbXBvcnQgc3RyaW5nSGFzaCBmcm9tICdzdHJpbmctaGFzaCc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgR3Vlc3RVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvJztcblxuY29uc3QgQ09MT1JfTElTVCA9IFtcbiAgJyM3YjFmYTInLCAnIzZhMWI5YScsICcjNGExNDhjJywgJyM1ZTM1YjEnLCAnIzUxMmRhOCcsICcjNDUyN2EwJyxcbiAgJyMzMTFiOTInLCAnIzM5NDlhYicsICcjMzAzZjlmJywgJyMyODM1OTMnLCAnIzFhMjM3ZScsICcjMTk3NmQyJywgJyMxNTY1YzAnLFxuICAnIzBkNDdhMScsICcjMDI3N2JkJywgJyMwMTU3OWInLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBndWVzdHMgfSA9IGJvZHk7XG4gIGNoZWNrKGd1ZXN0cywgQXJyYXkpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGd1ZXN0cy5tYXAoKGd1ZXN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCwgbnVtYmVyQWZmZWN0ZWQgfSA9IEd1ZXN0VXNlcnMudXBzZXJ0KHtcbiAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICBpbnRJZDogZ3Vlc3QuaW50SWQsXG4gICAgICB9LCB7XG4gICAgICAgIGFwcHJvdmVkOiBmYWxzZSxcbiAgICAgICAgZGVuaWVkOiBmYWxzZSxcbiAgICAgICAgLi4uZ3Vlc3QsXG4gICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgbG9naW5UaW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgY29sb3I6IENPTE9SX0xJU1Rbc3RyaW5nSGFzaChndWVzdC5pbnRJZCkgJSBDT0xPUl9MSVNULmxlbmd0aF0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIGd1ZXN0IHVzZXIgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICAgIH0gZWxzZSBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIGd1ZXN0IHVzZXIgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIGd1ZXN0IHVzZXIgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbmNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbmNvbnN0IEVWRU5UX05BTUUgPSAnR3Vlc3RzV2FpdGluZ0FwcHJvdmVkTXNnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxsb3dQZW5kaW5nVXNlcnMoZ3Vlc3RzLCBzdGF0dXMpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhndWVzdHMsIEFycmF5KTtcbiAgY29uc3QgbWFwcGVkR3Vlc3RzID0gZ3Vlc3RzLm1hcChndWVzdCA9PiAoeyBzdGF0dXMsIGd1ZXN0OiBndWVzdC5pbnRJZCB9KSk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBhcHByb3ZlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgZ3Vlc3RzOiBtYXBwZWRHdWVzdHMsXG4gIH07XG5cbiAgTG9nZ2VyLmluZm8oYFVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9ICR7c3RhdHVzfSBndWVzdHMgJHtKU09OLnN0cmluZ2lmeShtYXBwZWRHdWVzdHMpfWApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuY29uc3QgRVZFTlRfTkFNRSA9ICdTZXRHdWVzdFBvbGljeUNtZE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZUd1ZXN0UG9saWN5KHBvbGljeVJ1bGUpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhwb2xpY3lSdWxlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgc2V0Qnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBwb2xpY3k6IHBvbGljeVJ1bGUsXG4gIH07XG5cbiAgTG9nZ2VyLmluZm8oYFVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9IGNoYW5nZSBndWVzdCBwb2xpY3kgdG8gJHtwb2xpY3lSdWxlfWApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IEd1ZXN0VXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJHdWVzdFVzZXJzKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gR3Vlc3RVc2Vycy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBHdWVzdFVzZXJzIGluICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgRXJyb3Igb24gY2xlYXJpbmcgR3Vlc3RVc2VycyBpbiAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IEd1ZXN0VXNlcnMucmVtb3ZlKHt9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIEd1ZXN0VXNlcnMgaW4gYWxsIG1lZXRpbmdzJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIEd1ZXN0VXNlcnMgaW4gYWxsIG1lZXRpbmdzLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBHdWVzdFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmNvbnN0IEdVRVNUX1NUQVRVU19BTExPVyA9ICdBTExPVyc7XG5jb25zdCBHVUVTVF9TVEFUVVNfREVOWSA9ICdERU5ZJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldEd1ZXN0U3RhdHVzKG1lZXRpbmdJZCwgaW50SWQsIHN0YXR1cywgYXBwcm92ZWRCeSA9IG51bGwpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhpbnRJZCwgU3RyaW5nKTtcbiAgY2hlY2soc3RhdHVzLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBhcHByb3ZlZDogc3RhdHVzID09PSBHVUVTVF9TVEFUVVNfQUxMT1csXG4gICAgICBkZW5pZWQ6IHN0YXR1cyA9PT0gR1VFU1RfU1RBVFVTX0RFTlksXG4gICAgICBhcHByb3ZlZEJ5LFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IEd1ZXN0VXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcGRhdGVkIHN0YXR1cz0ke3N0YXR1c30gdXNlcj0ke2ludElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBzdGF0dXM9JHtzdGF0dXN9IHVzZXI9JHtpbnRJZH06ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZUd1ZXN0QXBwcm92ZWQgZnJvbSAnLi9oYW5kbGVycy9ndWVzdEFwcHJvdmVkJztcbmltcG9ydCBoYW5kbGVHdWVzdHNXYWl0aW5nRm9yQXBwcm92YWwgZnJvbSAnLi9oYW5kbGVycy9ndWVzdHNXYWl0aW5nRm9yQXBwcm92YWwnO1xuXG5SZWRpc1B1YlN1Yi5vbignR3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsRXZ0TXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVHdWVzdHNXYWl0aW5nRm9yQXBwcm92YWwpKTtcblJlZGlzUHViU3ViLm9uKCdHdWVzdHNXYWl0aW5nQXBwcm92ZWRFdnRNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZUd1ZXN0QXBwcm92ZWQpKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGFsbG93UGVuZGluZ1VzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9hbGxvd1BlbmRpbmdVc2Vycyc7XG5pbXBvcnQgY2hhbmdlR3Vlc3RQb2xpY3kgZnJvbSAnL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tZXRob2RzL2NoYW5nZUd1ZXN0UG9saWN5JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBhbGxvd1BlbmRpbmdVc2VycyxcbiAgY2hhbmdlR3Vlc3RQb2xpY3ksXG59KTtcbiIsImltcG9ydCBHdWVzdFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy8nO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gZ3Vlc3RVc2VycygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBHdWVzdFVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgUHVibGlzaGluZyBTbGlkZXMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gR3Vlc3RVc2Vycy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRTbGlkZXMgPSBndWVzdFVzZXJzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNsaWRlcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2d1ZXN0VXNlcicsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBNb25nbyB9IGZyb20gJ21ldGVvci9tb25nbyc7XG5cbmNvbnN0IEd1ZXN0VXNlcnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignZ3Vlc3RVc2VycycpO1xuXG5leHBvcnQgZGVmYXVsdCBHdWVzdFVzZXJzO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2NhbFNldHRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncyc7XG5pbXBvcnQgc2V0Q2hhbmdlZExvY2FsU2V0dGluZ3MgZnJvbSAnLi4vbW9kaWZpZXJzL3NldENoYW5nZWRMb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBpZiAoIW1lZXRpbmdJZCB8fCAhcmVxdWVzdGVyVXNlcklkKSByZXR1cm47XG5cbiAgY2hlY2soc2V0dGluZ3MsIE9iamVjdCk7XG5cbiAgY29uc3QgdXNlckxvY2FsU2V0dGluZ3MgPSBMb2NhbFNldHRpbmdzXG4gICAgLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkczogeyBzZXR0aW5nczogMSB9LFxuICAgICAgfSk7XG5cbiAgaWYgKCF1c2VyTG9jYWxTZXR0aW5ncyB8fCAhXy5pc0VxdWFsKHVzZXJMb2NhbFNldHRpbmdzLnNldHRpbmdzLCBzZXR0aW5ncykpIHtcbiAgICBzZXRDaGFuZ2VkTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgc2V0dGluZ3MpO1xuICB9XG59XG4iLCJpbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckxvY2FsU2V0dGluZ3MobWVldGluZ0lkKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBMb2NhbFNldHRpbmdzLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgTG9jYWwgU2V0dGluZ3MgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgTG9jYWwgU2V0dGluZ3MgKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRDaGFuZ2VkTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQsIHVzZXJJZCwgc2V0dGluZ3MpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHNldHRpbmdzLCBPYmplY3QpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgc2V0dGluZ3MsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgbnVtQ2hhbmdlZCB9ID0gTG9jYWxTZXR0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCBzZXR0aW5ncyBmb3IgdXNlciAke3VzZXJJZH0gb24gbWVldGluZyAke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gdXBkYXRlIHNldHRpbmdzLiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgdXNlckNoYW5nZWRMb2NhbFNldHRpbmdzIGZyb20gJy4vbWV0aG9kcy91c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3MnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHVzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncyxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGxvY2FsU2V0dGluZ3MoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gTG9jYWxTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBsb2NhbCBzZXR0aW5ncycsIHsgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBMb2NhbFNldHRpbmdzLmZpbmQoeyBtZWV0aW5nSWQsIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRMb2NhbFNldHRpbmdzID0gbG9jYWxTZXR0aW5ncy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRMb2NhbFNldHRpbmdzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnbG9jYWwtc2V0dGluZ3MnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBMb2NhbFNldHRpbmdzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2xvY2FsLXNldHRpbmdzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTG9jYWxTZXR0aW5ncy5fZW5zdXJlSW5kZXgoe1xuICAgIG1lZXRpbmdJZDogMSwgdXNlcklkOiAxLFxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9jYWxTZXR0aW5ncztcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5jb25zdCBsb2dDbGllbnQgPSBmdW5jdGlvbiAodHlwZSwgbG9nRGVzY3JpcHRpb24sIGxvZ0NvZGUgPSAnd2FzX25vdF9wcm92aWRlZCcsIGV4dHJhSW5mbyA9IHt9LCB1c2VySW5mbyA9IHt9KSB7XG4gIGNvbnN0IGNvbm5lY3Rpb25JZCA9IHRoaXMuY29ubmVjdGlvbi5pZDtcbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoeyBjb25uZWN0aW9uSWQgfSk7XG4gIGNvbnN0IGxvZ0NvbnRlbnRzID0ge1xuICAgIGxvZ0NvZGUsXG4gICAgbG9nRGVzY3JpcHRpb24sXG4gICAgY29ubmVjdGlvbklkLFxuICAgIGV4dHJhSW5mbyxcbiAgICB1c2VySW5mbyxcbiAgfTtcblxuICBpZiAoVXNlcikgeyAvLyBUT0RPLS1cbiAgICBpZiAoKHVzZXJJbmZvLmNyZWRlbnRpYWxzICYmIFVzZXIubWVldGluZ0lkID09PSB1c2VySW5mby5jcmVkZW50aWFscy5tZWV0aW5nSWQpXG4gICAgICB8fCAoKHVzZXJJbmZvLm1lZXRpbmdJZCAmJiBVc2VyLm1lZXRpbmdJZCA9PT0gdXNlckluZm8ubWVldGluZ0lkKSkpIHtcbiAgICAgIGxvZ0NvbnRlbnRzLmV4dHJhSW5mby52YWxpZFVzZXIgPSAndmFsaWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dDb250ZW50cy5leHRyYUluZm8udmFsaWRVc2VyID0gJ2ludmFsaWQnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsb2dDb250ZW50cy5leHRyYUluZm8udmFsaWRVc2VyID0gJ25vdEZvdW5kJztcbiAgfVxuXG4gIC8vIElmIEkgZG9uJ3QgcGFzcyBtZXNzYWdlLCBsb2dzIHdpbGwgc3RhcnQgd2l0aCBgdW5kZWZpbmVkYFxuICBMb2dnZXIubG9nKHsgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkobG9nQ29udGVudHMpLCBsZXZlbDogdHlwZSB9KTtcbiAgLy8gTG9nZ2VyLmxvZyh7IG1lc3NhZ2U6ICdjbGllbnQtPnNlcnZlcicsIGxldmVsOiB0eXBlLCBsb2dDb250ZW50cyB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ0NsaWVudDtcbiIsImltcG9ydCAnLi9tZXRob2RzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGxvZ0NsaWVudCBmcm9tICcuL21ldGhvZHMvbG9nQ2xpZW50JztcblxuTWV0ZW9yLm1ldGhvZHMoeyBsb2dDbGllbnQgfSk7XG4iLCJpbXBvcnQgaGFuZGxlTWVldGluZ0NyZWF0aW9uIGZyb20gJy4vbWVldGluZ0NyZWF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR2V0QWxsTWVldGluZ3MoeyBib2R5IH0pIHtcbiAgcmV0dXJuIGhhbmRsZU1lZXRpbmdDcmVhdGlvbih7IGJvZHkgfSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkTWVldGluZyBmcm9tICcuLi9tb2RpZmllcnMvYWRkTWVldGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZU1lZXRpbmdDcmVhdGlvbih7IGJvZHkgfSkge1xuICBjb25zdCBtZWV0aW5nID0gYm9keS5wcm9wcztcbiAgY29uc3QgZHVyYXRpb25JblNlY29kcyA9IChtZWV0aW5nLmR1cmF0aW9uUHJvcHMuZHVyYXRpb24gKiA2MCk7XG4gIG1lZXRpbmcuZHVyYXRpb25Qcm9wcy50aW1lUmVtYWluaW5nID0gZHVyYXRpb25JblNlY29kcztcbiAgY2hlY2sobWVldGluZywgT2JqZWN0KTtcblxuICByZXR1cm4gYWRkTWVldGluZyhtZWV0aW5nKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCBkZXN0cm95RXh0ZXJuYWxWaWRlbyBmcm9tICcvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL2Rlc3Ryb3lFeHRlcm5hbFZpZGVvJztcbmltcG9ydCB7IHJlbW92ZUFubm90YXRpb25zU3RyZWFtZXIgfSBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL3N0cmVhbWVyJztcbmltcG9ydCB7IHJlbW92ZUN1cnNvclN0cmVhbWVyIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvc3RyZWFtZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVNZWV0aW5nRGVzdHJ1Y3Rpb24oeyBib2R5IH0pIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGJvZHk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBkZXN0cm95RXh0ZXJuYWxWaWRlbyhtZWV0aW5nSWQpO1xuICByZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCk7XG4gIHJlbW92ZUN1cnNvclN0cmVhbWVyKG1lZXRpbmdJZCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLmRlc3Ryb3lNZWV0aW5nUXVldWUobWVldGluZ0lkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBtZWV0aW5nSGFzRW5kZWQgZnJvbSAnLi4vbW9kaWZpZXJzL21lZXRpbmdIYXNFbmRlZCc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBCcmVha291dHMgZnJvbSAnL2ltcG9ydHMvYXBpL2JyZWFrb3V0cyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZU1lZXRpbmdFbmQoeyBib2R5IH0pIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGJvZHk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bSwgbWVldGluZ1R5cGUpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYCR7bWVldGluZ1R5cGV9IGVuZGluZyBlcnJvcjogJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChudW0pIHtcbiAgICAgIFVzZXJzLnVwZGF0ZSh7IG1lZXRpbmdJZCB9LFxuICAgICAgICB7ICRzZXQ6IHsgY29ubmVjdGlvblN0YXR1czogJ29mZmxpbmUnIH0gfSxcbiAgICAgICAgKGVycm9yLCBudW1BZmZlY3RlZCkgPT4ge1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBtYXJraW5nIGVuZGluZyAke21lZXRpbmdUeXBlfSB1c2VycyBhcyBvZmZsaW5lOiAke21lZXRpbmdJZH0gJHtlcnJ9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG51bUFmZmVjdGVkKSB7XG4gICAgICAgICAgICBMb2dnZXIuaW5mbyhgU3VjY2VzcyBtYXJraW5nIGVuZGluZyAke21lZXRpbmdUeXBlfSB1c2VycyBhcyBvZmZsaW5lOiAke21lZXRpbmdJZH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgTWV0ZW9yLnNldFRpbWVvdXQoKCkgPT4geyBtZWV0aW5nSGFzRW5kZWQobWVldGluZ0lkKTsgfSwgMTAwMDApO1xuICAgIH1cbiAgfTtcblxuICBNZWV0aW5ncy51cGRhdGUoeyBtZWV0aW5nSWQgfSxcbiAgICB7ICRzZXQ6IHsgbWVldGluZ0VuZGVkOiB0cnVlIH0gfSxcbiAgICAoZXJyLCBudW0pID0+IHsgY2IoZXJyLCBudW0sICdNZWV0aW5nJyk7IH0pO1xuXG4gIEJyZWFrb3V0cy51cGRhdGUoeyBwYXJlbnRNZWV0aW5nSWQ6IG1lZXRpbmdJZCB9LFxuICAgIHsgJHNldDogeyBtZWV0aW5nRW5kZWQ6IHRydWUgfSB9LFxuICAgIChlcnIsIG51bSkgPT4geyBjYihlcnIsIG51bSwgJ0JyZWFrb3V0Jyk7IH0pO1xufVxuIiwiaW1wb3J0IGNoYW5nZUxvY2tTZXR0aW5ncyBmcm9tICcuLi9tb2RpZmllcnMvY2hhbmdlTG9ja1NldHRpbmdzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlTG9ja1NldHRpbmdzSW5NZWV0aW5nKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hhbmdlTG9ja1NldHRpbmdzKG1lZXRpbmdJZCwgYm9keSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBSZWNvcmRNZWV0aW5ncyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVJlY29yZGluZ1N0YXR1c0NoYW5nZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcmVjb3JkaW5nIH0gPSBib2R5O1xuICBjaGVjayhyZWNvcmRpbmcsIEJvb2xlYW4pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7IHJlY29yZGluZyB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gUmVjb3JkTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDaGFuZ2VkIG1lZXRpbmcgcmVjb3JkIHN0YXR1cyBpZD0ke21lZXRpbmdJZH0gcmVjb3JkaW5nPSR7cmVjb3JkaW5nfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBDaGFuZ2luZyByZWNvcmQgc3RhdHVzOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgUmVjb3JkTWVldGluZ3MgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVSZWNvcmRpbmdUaW1lckNoYW5nZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdGltZSB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY2hlY2soYm9keSwge1xuICAgIHRpbWU6IE51bWJlcixcbiAgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHsgdGltZSB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgUmVjb3JkTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgcmVjb3JkaW5nIHRpbWU6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBNZWV0aW5nVGltZVJlbWFpbmluZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVRpbWVSZW1haW5pbmdVcGRhdGUoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY2hlY2soYm9keSwge1xuICAgIHRpbWVMZWZ0SW5TZWM6IE51bWJlcixcbiAgfSk7XG4gIGNvbnN0IHsgdGltZUxlZnRJblNlYyB9ID0gYm9keTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgdGltZVJlbWFpbmluZzogdGltZUxlZnRJblNlYyxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgTWVldGluZ1RpbWVSZW1haW5pbmcudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgcmVjb3JkaW5nIHRpbWU6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgY2hhbmdlVXNlckxvY2sgZnJvbSAnLi4vbW9kaWZpZXJzL2NoYW5nZVVzZXJMb2NrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlTG9ja1NldHRpbmdzSW5NZWV0aW5nKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hhbmdlVXNlckxvY2sobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCBjaGFuZ2VXZWJjYW1Pbmx5TW9kZXJhdG9yIGZyb20gJy4uL21vZGlmaWVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlV2ViY2FtT25seU1vZGVyYXRvcih7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoYW5nZVdlYmNhbU9ubHlNb2RlcmF0b3IobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbmRNZWV0aW5nKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0xvZ291dEFuZEVuZE1lZXRpbmdDbWRNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG4gIExvZ2dlci53YXJuKGBNZWV0aW5nICcke21lZXRpbmdJZH0nIGlzIGRlc3Ryb3llZCBieSAnJHtyZXF1ZXN0ZXJVc2VySWR9J2ApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvZ2dsZUxvY2tTZXR0aW5ncyhsb2NrU2V0dGluZ3NQcm9wcykge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0NoYW5nZUxvY2tTZXR0aW5nc0luTWVldGluZ0NtZE1zZyc7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobG9ja1NldHRpbmdzUHJvcHMsIHtcbiAgICBkaXNhYmxlQ2FtOiBCb29sZWFuLFxuICAgIGRpc2FibGVNaWM6IEJvb2xlYW4sXG4gICAgZGlzYWJsZVByaXZhdGVDaGF0OiBCb29sZWFuLFxuICAgIGRpc2FibGVQdWJsaWNDaGF0OiBCb29sZWFuLFxuICAgIGRpc2FibGVOb3RlOiBCb29sZWFuLFxuICAgIGhpZGVVc2VyTGlzdDogQm9vbGVhbixcbiAgICBsb2NrZWRMYXlvdXQ6IEJvb2xlYW4sXG4gICAgbG9ja09uSm9pbjogQm9vbGVhbixcbiAgICBsb2NrT25Kb2luQ29uZmlndXJhYmxlOiBCb29sZWFuLFxuICAgIHNldEJ5OiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgZGlzYWJsZUNhbSxcbiAgICBkaXNhYmxlTWljLFxuICAgIGRpc2FibGVQcml2YXRlQ2hhdDogZGlzYWJsZVByaXZDaGF0LFxuICAgIGRpc2FibGVQdWJsaWNDaGF0OiBkaXNhYmxlUHViQ2hhdCxcbiAgICBkaXNhYmxlTm90ZSxcbiAgICBoaWRlVXNlckxpc3QsXG4gICAgbG9ja2VkTGF5b3V0LFxuICAgIGxvY2tPbkpvaW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZSxcbiAgfSA9IGxvY2tTZXR0aW5nc1Byb3BzO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgZGlzYWJsZUNhbSxcbiAgICBkaXNhYmxlTWljLFxuICAgIGRpc2FibGVQcml2Q2hhdCxcbiAgICBkaXNhYmxlUHViQ2hhdCxcbiAgICBkaXNhYmxlTm90ZSxcbiAgICBoaWRlVXNlckxpc3QsXG4gICAgbG9ja2VkTGF5b3V0LFxuICAgIGxvY2tPbkpvaW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZSxcbiAgICBzZXRCeTogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBSZWNvcmRNZWV0aW5ncyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2dnbGVSZWNvcmRpbmcoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IFJPTEVfTU9ERVJBVE9SID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy51c2VyLnJvbGVfbW9kZXJhdG9yO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2V0UmVjb3JkaW5nU3RhdHVzQ21kTXNnJztcblxuICBsZXQgbWVldGluZ1JlY29yZGVkO1xuICBsZXQgYWxsb3dlZFRvUmVjb3JkO1xuXG4gIGNvbnN0IHJlY29yZE9iamVjdCA9IFJlY29yZE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgaWYgKHJlY29yZE9iamVjdCAhPSBudWxsKSB7XG4gICAgY29uc3Qge1xuICAgICAgYWxsb3dTdGFydFN0b3BSZWNvcmRpbmcsXG4gICAgICByZWNvcmRpbmcsXG4gICAgICByZWNvcmQsXG4gICAgfSA9IHJlY29yZE9iamVjdDtcblxuICAgIG1lZXRpbmdSZWNvcmRlZCA9IHJlY29yZGluZztcbiAgICBhbGxvd2VkVG9SZWNvcmQgPSByZWNvcmQgJiYgYWxsb3dTdGFydFN0b3BSZWNvcmRpbmc7IC8vIFRPRE8tLSByZW1vdmUgc29tZSBkYXlcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcmVjb3JkaW5nOiAhbWVldGluZ1JlY29yZGVkLFxuICAgIHNldEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgaWYgKGFsbG93ZWRUb1JlY29yZCAmJiAhIXVzZXIgJiYgdXNlci5yb2xlID09PSBST0xFX01PREVSQVRPUikge1xuICAgIExvZ2dlci5pbmZvKGBTZXR0aW5nIHRoZSByZWNvcmQgcGFyYW1ldGVyIHRvICR7IW1lZXRpbmdSZWNvcmRlZH0gZm9yICR7bWVldGluZ0lkfSBieSAke3JlcXVlc3RlclVzZXJJZH1gKTtcbiAgICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvZ2dsZVdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yKHdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXBkYXRlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3JDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yLCBCb29sZWFuKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yLFxuICAgIHNldEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZmVyVXNlcihmcm9tTWVldGluZ0lkLCB0b01lZXRpbmdJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1RyYW5zZmVyVXNlclRvTWVldGluZ1JlcXVlc3RNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBmcm9tTWVldGluZ0lkLFxuICAgIHRvTWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIExvZ2dlci52ZXJib3NlKCdVc2VyIHdhcyB0cmFuc2ZlcnJlZCBmcm9tIG9uZSBtZXRpbmcgdG8gYW5vdGhlcicsIHsgcmVxdWVzdGVyVXNlcklkLCBmcm9tTWVldGluZ0lkLCB0b01lZXRpbmdJZCB9KTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IHtcbiAgY2hlY2ssXG4gIE1hdGNoLFxufSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFNhbml0aXplSFRNTCBmcm9tICdzYW5pdGl6ZS1odG1sJztcbmltcG9ydCBNZWV0aW5ncywgeyBSZWNvcmRNZWV0aW5ncyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgY3JlYXRlTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbWV0aG9kcy9jcmVhdGVOb3RlJztcbmltcG9ydCBjcmVhdGVDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvY3JlYXRlQ2FwdGlvbnMnO1xuaW1wb3J0IHsgYWRkQW5ub3RhdGlvbnNTdHJlYW1lciB9IGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuaW1wb3J0IHsgYWRkQ3Vyc29yU3RyZWFtZXIgfSBmcm9tICcvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgQmFubmVkVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9zdG9yZS9iYW5uZWRVc2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZE1lZXRpbmcobWVldGluZykge1xuICBjb25zdCBtZWV0aW5nSWQgPSBtZWV0aW5nLm1lZXRpbmdQcm9wLmludElkO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sobWVldGluZywge1xuICAgIGJyZWFrb3V0UHJvcHM6IHtcbiAgICAgIHNlcXVlbmNlOiBOdW1iZXIsXG4gICAgICBmcmVlSm9pbjogQm9vbGVhbixcbiAgICAgIGJyZWFrb3V0Um9vbXM6IEFycmF5LFxuICAgICAgcGFyZW50SWQ6IFN0cmluZyxcbiAgICAgIGVuYWJsZWQ6IEJvb2xlYW4sXG4gICAgICByZWNvcmQ6IEJvb2xlYW4sXG4gICAgICBwcml2YXRlQ2hhdEVuYWJsZWQ6IEJvb2xlYW4sXG4gICAgfSxcbiAgICBtZWV0aW5nUHJvcDoge1xuICAgICAgaW50SWQ6IFN0cmluZyxcbiAgICAgIGV4dElkOiBTdHJpbmcsXG4gICAgICBpc0JyZWFrb3V0OiBCb29sZWFuLFxuICAgICAgbmFtZTogU3RyaW5nLFxuICAgIH0sXG4gICAgdXNlcnNQcm9wOiB7XG4gICAgICB3ZWJjYW1zT25seUZvck1vZGVyYXRvcjogQm9vbGVhbixcbiAgICAgIGd1ZXN0UG9saWN5OiBTdHJpbmcsXG4gICAgICBtYXhVc2VyczogTnVtYmVyLFxuICAgICAgYWxsb3dNb2RzVG9Vbm11dGVVc2VyczogQm9vbGVhbixcbiAgICB9LFxuICAgIGR1cmF0aW9uUHJvcHM6IHtcbiAgICAgIGNyZWF0ZWRUaW1lOiBOdW1iZXIsXG4gICAgICBkdXJhdGlvbjogTnVtYmVyLFxuICAgICAgY3JlYXRlZERhdGU6IFN0cmluZyxcbiAgICAgIG1heEluYWN0aXZpdHlUaW1lb3V0TWludXRlczogTnVtYmVyLFxuICAgICAgd2Fybk1pbnV0ZXNCZWZvcmVNYXg6IE51bWJlcixcbiAgICAgIG1lZXRpbmdFeHBpcmVJZk5vVXNlckpvaW5lZEluTWludXRlczogTnVtYmVyLFxuICAgICAgbWVldGluZ0V4cGlyZVdoZW5MYXN0VXNlckxlZnRJbk1pbnV0ZXM6IE51bWJlcixcbiAgICAgIHVzZXJJbmFjdGl2aXR5SW5zcGVjdFRpbWVySW5NaW51dGVzOiBOdW1iZXIsXG4gICAgICB1c2VySW5hY3Rpdml0eVRocmVzaG9sZEluTWludXRlczogTnVtYmVyLFxuICAgICAgdXNlckFjdGl2aXR5U2lnblJlc3BvbnNlRGVsYXlJbk1pbnV0ZXM6IE51bWJlcixcbiAgICAgIHRpbWVSZW1haW5pbmc6IE51bWJlcixcbiAgICB9LFxuICAgIHdlbGNvbWVQcm9wOiB7XG4gICAgICB3ZWxjb21lTXNnOiBTdHJpbmcsXG4gICAgICBtb2RPbmx5TWVzc2FnZTogU3RyaW5nLFxuICAgICAgd2VsY29tZU1zZ1RlbXBsYXRlOiBTdHJpbmcsXG4gICAgfSxcbiAgICByZWNvcmRQcm9wOiBNYXRjaC5PYmplY3RJbmNsdWRpbmcoe1xuICAgICAgYWxsb3dTdGFydFN0b3BSZWNvcmRpbmc6IEJvb2xlYW4sXG4gICAgICBhdXRvU3RhcnRSZWNvcmRpbmc6IEJvb2xlYW4sXG4gICAgICByZWNvcmQ6IEJvb2xlYW4sXG4gICAgfSksXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgIHZpZXdlclBhc3M6IFN0cmluZyxcbiAgICAgIG1vZGVyYXRvclBhc3M6IFN0cmluZyxcbiAgICB9LFxuICAgIHZvaWNlUHJvcDoge1xuICAgICAgdm9pY2VDb25mOiBTdHJpbmcsXG4gICAgICBkaWFsTnVtYmVyOiBTdHJpbmcsXG4gICAgICB0ZWxWb2ljZTogU3RyaW5nLFxuICAgICAgbXV0ZU9uU3RhcnQ6IEJvb2xlYW4sXG4gICAgfSxcbiAgICBzY3JlZW5zaGFyZVByb3BzOiB7XG4gICAgICByZWQ1U2NyZWVuc2hhcmVJcDogU3RyaW5nLFxuICAgICAgcmVkNVNjcmVlbnNoYXJlQXBwOiBTdHJpbmcsXG4gICAgICBzY3JlZW5zaGFyZUNvbmY6IFN0cmluZyxcbiAgICB9LFxuICAgIG1ldGFkYXRhUHJvcDogT2JqZWN0LFxuICAgIGxvY2tTZXR0aW5nc1Byb3BzOiB7XG4gICAgICBkaXNhYmxlQ2FtOiBCb29sZWFuLFxuICAgICAgZGlzYWJsZU1pYzogQm9vbGVhbixcbiAgICAgIGRpc2FibGVQcml2YXRlQ2hhdDogQm9vbGVhbixcbiAgICAgIGRpc2FibGVQdWJsaWNDaGF0OiBCb29sZWFuLFxuICAgICAgZGlzYWJsZU5vdGU6IEJvb2xlYW4sXG4gICAgICBoaWRlVXNlckxpc3Q6IEJvb2xlYW4sXG4gICAgICBsb2NrT25Kb2luOiBCb29sZWFuLFxuICAgICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZTogQm9vbGVhbixcbiAgICAgIGxvY2tlZExheW91dDogQm9vbGVhbixcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgcmVjb3JkUHJvcCxcbiAgICAuLi5yZXN0UHJvcHNcbiAgfSA9IG1lZXRpbmc7XG5cbiAgY29uc3QgbmV3TWVldGluZyA9IHJlc3RQcm9wcztcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgbmV3TWVldGluZy5sb2NrU2V0dGluZ3NQcm9wcyA9IE9iamVjdC5hc3NpZ24obWVldGluZy5sb2NrU2V0dGluZ3NQcm9wcywgeyBzZXRCeTogJ3RlbXAnIH0pO1xuXG4gIGNvbnN0IG1lZXRpbmdFbmRlZCA9IGZhbHNlO1xuXG4gIGxldCB7IHdlbGNvbWVNc2cgfSA9IG5ld01lZXRpbmcud2VsY29tZVByb3A7XG5cbiAgY29uc3Qgc2FuaXRpemVUZXh0SW5DaGF0ID0gb3JpZ2luYWwgPT4gU2FuaXRpemVIVE1MKG9yaWdpbmFsLCB7XG4gICAgYWxsb3dlZFRhZ3M6IFsnYScsICdiJywgJ2JyJywgJ2knLCAnaW1nJywgJ2xpJywgJ3NtYWxsJywgJ3NwYW4nLCAnc3Ryb25nJywgJ3UnLCAndWwnXSxcbiAgICBhbGxvd2VkQXR0cmlidXRlczoge1xuICAgICAgYTogWydocmVmJywgJ25hbWUnLCAndGFyZ2V0J10sXG4gICAgICBpbWc6IFsnc3JjJywgJ3dpZHRoJywgJ2hlaWdodCddLFxuICAgIH0sXG4gICAgYWxsb3dlZFNjaGVtZXM6IFsnaHR0cHMnXSxcbiAgfSk7XG5cbiAgY29uc3Qgc2FuaXRpemVkV2VsY29tZVRleHQgPSBzYW5pdGl6ZVRleHRJbkNoYXQod2VsY29tZU1zZyk7XG4gIHdlbGNvbWVNc2cgPSBzYW5pdGl6ZWRXZWxjb21lVGV4dC5yZXBsYWNlKFxuICAgICdocmVmPVwiZXZlbnQ6JyxcbiAgICAnaHJlZj1cIicsXG4gICk7XG5cbiAgY29uc3QgaW5zZXJ0QmxhbmtUYXJnZXQgPSAocywgaSkgPT4gYCR7cy5zdWJzdHIoMCwgaSl9IHRhcmdldD1cIl9ibGFua1wiJHtzLnN1YnN0cihpKX1gO1xuICBjb25zdCBsaW5rV2l0aG91dFRhcmdldCA9IG5ldyBSZWdFeHAoJzxhIGhyZWY9XCIoLio/KVwiPicsICdnJyk7XG4gIGxpbmtXaXRob3V0VGFyZ2V0LnRlc3Qod2VsY29tZU1zZyk7XG5cbiAgaWYgKGxpbmtXaXRob3V0VGFyZ2V0Lmxhc3RJbmRleCA+IDApIHtcbiAgICB3ZWxjb21lTXNnID0gaW5zZXJ0QmxhbmtUYXJnZXQoXG4gICAgICB3ZWxjb21lTXNnLFxuICAgICAgbGlua1dpdGhvdXRUYXJnZXQubGFzdEluZGV4IC0gMSxcbiAgICApO1xuICB9XG5cbiAgbmV3TWVldGluZy53ZWxjb21lUHJvcC53ZWxjb21lTXNnID0gd2VsY29tZU1zZztcblxuICAvLyBub3RlOiBhcyBvZiBKdWx5IDIwMjAgYG1vZE9ubHlNZXNzYWdlYCBpcyBub3QgcHVibGlzaGVkIHRvIHRoZSBjbGllbnQgc2lkZS5cbiAgLy8gV2UgYXJlIHNhbml0aXppbmcgdGhpcyBkYXRhIHNpbXBseSB0byBwcmV2ZW50IGZ1dHVyZSBwb3RlbnRpYWwgdXNhZ2VcbiAgLy8gQXQgdGhlIG1vbWVudCBgbW9kT25seU1lc3NhZ2VgIGlzIG9idGFpbmVkIGZyb20gY2xpZW50IHNpZGUgYXMgYSByZXNwb25zZSB0byBFbnRlciBBUElcbiAgbmV3TWVldGluZy53ZWxjb21lUHJvcC5tb2RPbmx5TWVzc2FnZSA9IHNhbml0aXplVGV4dEluQ2hhdChuZXdNZWV0aW5nLndlbGNvbWVQcm9wLm1vZE9ubHlNZXNzYWdlKTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIG1lZXRpbmdFbmRlZCxcbiAgICAgIHB1Ymxpc2hlZFBvbGw6IGZhbHNlLFxuICAgIH0sIGZsYXQobmV3TWVldGluZywge1xuICAgICAgc2FmZTogdHJ1ZSxcbiAgICB9KSksXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQsIG51bWJlckFmZmVjdGVkIH0gPSBSZWNvcmRNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIHsgbWVldGluZ0lkLCAuLi5yZWNvcmRQcm9wIH0pO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBBZGRlZCByZWNvcmQgcHJvcCBpZD0ke21lZXRpbmdJZH1gKTtcbiAgICB9IGVsc2UgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgcmVjb3JkIHByb3AgaWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyByZWNvcmQgcHJvcCB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkLCBudW1iZXJBZmZlY3RlZCB9ID0gTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBhZGRBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCk7XG4gICAgYWRkQ3Vyc29yU3RyZWFtZXIobWVldGluZ0lkKTtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgbWVldGluZyBpZD0ke21lZXRpbmdJZH1gKTtcbiAgICAgIC8vIFRPRE86IEhlcmUgd2UgY2FsbCBFdGhlcnBhZCBBUEkgdG8gY3JlYXRlIHRoaXMgbWVldGluZyBub3Rlcy4gSXMgdGhlcmUgYVxuICAgICAgLy8gYmV0dGVyIHBsYWNlIHdlIGNhbiBydW4gdGhpcyBwb3N0LWNyZWF0aW9uIHJvdXRpbmU/XG4gICAgICBjcmVhdGVOb3RlKG1lZXRpbmdJZCk7XG4gICAgICBjcmVhdGVDYXB0aW9ucyhtZWV0aW5nSWQpO1xuICAgICAgQmFubmVkVXNlcnMuaW5pdChtZWV0aW5nSWQpO1xuICAgIH0gZWxzZSBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBtZWV0aW5nIGlkPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgbWVldGluZyB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZUxvY2tTZXR0aW5ncyhtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYXlsb2FkLCB7XG4gICAgZGlzYWJsZUNhbTogQm9vbGVhbixcbiAgICBkaXNhYmxlTWljOiBCb29sZWFuLFxuICAgIGRpc2FibGVQcml2Q2hhdDogQm9vbGVhbixcbiAgICBkaXNhYmxlUHViQ2hhdDogQm9vbGVhbixcbiAgICBkaXNhYmxlTm90ZTogQm9vbGVhbixcbiAgICBoaWRlVXNlckxpc3Q6IEJvb2xlYW4sXG4gICAgbG9ja2VkTGF5b3V0OiBCb29sZWFuLFxuICAgIGxvY2tPbkpvaW46IEJvb2xlYW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZTogQm9vbGVhbixcbiAgICBzZXRCeTogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGRpc2FibGVDYW0sXG4gICAgZGlzYWJsZU1pYyxcbiAgICBkaXNhYmxlUHJpdkNoYXQsXG4gICAgZGlzYWJsZVB1YkNoYXQsXG4gICAgZGlzYWJsZU5vdGUsXG4gICAgaGlkZVVzZXJMaXN0LFxuICAgIGxvY2tlZExheW91dCxcbiAgICBsb2NrT25Kb2luLFxuICAgIGxvY2tPbkpvaW5Db25maWd1cmFibGUsXG4gICAgc2V0QnksXG4gIH0gPSBwYXlsb2FkO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBsb2NrU2V0dGluZ3NQcm9wczoge1xuICAgICAgICBkaXNhYmxlQ2FtLFxuICAgICAgICBkaXNhYmxlTWljLFxuICAgICAgICBkaXNhYmxlUHJpdmF0ZUNoYXQ6IGRpc2FibGVQcml2Q2hhdCxcbiAgICAgICAgZGlzYWJsZVB1YmxpY0NoYXQ6IGRpc2FibGVQdWJDaGF0LFxuICAgICAgICBkaXNhYmxlTm90ZSxcbiAgICAgICAgaGlkZVVzZXJMaXN0LFxuICAgICAgICBsb2NrZWRMYXlvdXQsXG4gICAgICAgIGxvY2tPbkpvaW4sXG4gICAgICAgIGxvY2tPbkpvaW5Db25maWd1cmFibGUsXG4gICAgICAgIHNldEJ5LFxuICAgICAgfSxcbiAgICB9LFxuICB9O1xuXG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENoYW5nZWQgbWVldGluZz17JHttZWV0aW5nSWR9fSB1cGRhdGVkIGxvY2sgc2V0dGluZ3NgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gbG9jayBzZXR0aW5ncyB3ZXJlIG5vdCB1cGRhdGVkYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENoYW5naW5nIG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gbG9jayBzZXR0aW5nczogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VVc2VyTG9jayhtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYXlsb2FkLCB7XG4gICAgdXNlcklkOiBTdHJpbmcsXG4gICAgbG9ja2VkOiBCb29sZWFuLFxuICAgIGxvY2tlZEJ5OiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHsgdXNlcklkLCBsb2NrZWQsIGxvY2tlZEJ5IH0gPSBwYXlsb2FkO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgbG9ja2VkLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVzZXIncyB1c2VySWQ9JHt1c2VySWR9IGxvY2sgc3RhdHVzIHdhcyBjaGFuZ2VkIHRvOiAke2xvY2tlZH0gYnkgdXNlciB1c2VySWQ9JHtsb2NrZWRCeX1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYFVzZXIncyB1c2VySWQ9JHt1c2VySWR9IGxvY2sgc3RhdHVzIHdhc24ndCB1cGRhdGVkYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENoYW5naW5nIHVzZXIgbG9jayBzZXR0aW5nOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWVldGluZ1RpbWVSZW1haW5pbmcgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhck1lZXRpbmdUaW1lUmVtYWluaW5nKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gTWVldGluZ1RpbWVSZW1haW5pbmcucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgTWVldGluZ1RpbWVSZW1haW5pbmcgaW4gKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBFcnJvciBvbiBjbGVhcmluZyBNZWV0aW5nVGltZVJlbWFpbmluZyBpbiAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IE1lZXRpbmdUaW1lUmVtYWluaW5nLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBNZWV0aW5nVGltZVJlbWFpbmluZyBpbiBhbGwgbWVldGluZ3MnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgTWVldGluZ1RpbWVSZW1haW5pbmcgaW4gYWxsIG1lZXRpbmdzLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFJlY29yZE1lZXRpbmdzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVldGluZ0hhc0VuZGVkKG1lZXRpbmdJZCkge1xuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUmVjb3JkTWVldGluZ3MucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCByZWNvcmQgcHJvcCBmcm9tIG1lZXRpbmcgd2l0aCBpZCAke21lZXRpbmdJZH1gKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyByZWNvcmQgcHJvcCBmcm9tIG1lZXRpbmcgd2l0aCBpZCAke21lZXRpbmdJZH0uICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuaW1wb3J0IHsgcmVtb3ZlQW5ub3RhdGlvbnNTdHJlYW1lciB9IGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuaW1wb3J0IHsgcmVtb3ZlQ3Vyc29yU3RyZWFtZXIgfSBmcm9tICcvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9zdHJlYW1lcic7XG5cbmltcG9ydCBjbGVhclVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlcnMnO1xuaW1wb3J0IGNsZWFyVXNlcnNTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9jbGVhclVzZXJzU2V0dGluZ3MnO1xuaW1wb3J0IGNsZWFyR3JvdXBDaGF0IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tb2RpZmllcnMvY2xlYXJHcm91cENoYXQnO1xuaW1wb3J0IGNsZWFyR3Vlc3RVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyL21vZGlmaWVycy9jbGVhckd1ZXN0VXNlcnMnO1xuaW1wb3J0IGNsZWFyQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21vZGlmaWVycy9jbGVhckJyZWFrb3V0cyc7XG5pbXBvcnQgY2xlYXJBbm5vdGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhckFubm90YXRpb25zJztcbmltcG9ydCBjbGVhclNsaWRlcyBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJTbGlkZXMnO1xuaW1wb3J0IGNsZWFyUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQb2xscyc7XG5pbXBvcnQgY2xlYXJDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhckNhcHRpb25zJztcbmltcG9ydCBjbGVhclByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQcmVzZW50YXRpb25Qb2RzJztcbmltcG9ydCBjbGVhclZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJWb2ljZVVzZXJzJztcbmltcG9ydCBjbGVhclVzZXJJbmZvIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlckluZm8nO1xuaW1wb3J0IGNsZWFyU2NyZWVuc2hhcmUgZnJvbSAnL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9tb2RpZmllcnMvY2xlYXJTY3JlZW5zaGFyZSc7XG5pbXBvcnQgY2xlYXJOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvY2xlYXJOb3RlJztcbmltcG9ydCBjbGVhck5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbi9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyTmV0d29ya0luZm9ybWF0aW9uJztcbmltcG9ydCBjbGVhck1lZXRpbmdUaW1lUmVtYWluaW5nIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyTWVldGluZ1RpbWVSZW1haW5pbmcnO1xuaW1wb3J0IGNsZWFyTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9jbGVhckxvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IGNsZWFyUmVjb3JkTWVldGluZyBmcm9tICcuL2NsZWFyUmVjb3JkTWVldGluZyc7XG5pbXBvcnQgY2xlYXJWb2ljZUNhbGxTdGF0ZXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJWb2ljZUNhbGxTdGF0ZXMnO1xuaW1wb3J0IGNsZWFyVmlkZW9TdHJlYW1zIGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJWaWRlb1N0cmVhbXMnO1xuaW1wb3J0IGNsZWFyV2hpdGVib2FyZE11bHRpVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9tb2RpZmllcnMvY2xlYXJXaGl0ZWJvYXJkTXVsdGlVc2VyJztcbmltcG9ydCBCYW5uZWRVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL3N0b3JlL2Jhbm5lZFVzZXJzJztcbmltcG9ydCBNZXRyaWNzIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL21ldHJpY3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZWV0aW5nSGFzRW5kZWQobWVldGluZ0lkKSB7XG4gIHJlbW92ZUFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKTtcbiAgcmVtb3ZlQ3Vyc29yU3RyZWFtZXIobWVldGluZ0lkKTtcblxuICByZXR1cm4gTWVldGluZ3MucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICBjbGVhckNhcHRpb25zKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJHcm91cENoYXQobWVldGluZ0lkKTtcbiAgICBjbGVhckd1ZXN0VXNlcnMobWVldGluZ0lkKTtcbiAgICBjbGVhclByZXNlbnRhdGlvblBvZHMobWVldGluZ0lkKTtcbiAgICBjbGVhckJyZWFrb3V0cyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyUG9sbHMobWVldGluZ0lkKTtcbiAgICBjbGVhckFubm90YXRpb25zKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJTbGlkZXMobWVldGluZ0lkKTtcbiAgICBjbGVhclVzZXJzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJVc2Vyc1NldHRpbmdzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJWb2ljZVVzZXJzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJVc2VySW5mbyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyTm90ZShtZWV0aW5nSWQpO1xuICAgIGNsZWFyTmV0d29ya0luZm9ybWF0aW9uKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJMb2NhbFNldHRpbmdzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJNZWV0aW5nVGltZVJlbWFpbmluZyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyUmVjb3JkTWVldGluZyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVm9pY2VDYWxsU3RhdGVzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJWaWRlb1N0cmVhbXMobWVldGluZ0lkKTtcbiAgICBjbGVhcldoaXRlYm9hcmRNdWx0aVVzZXIobWVldGluZ0lkKTtcbiAgICBjbGVhclNjcmVlbnNoYXJlKG1lZXRpbmdJZCk7XG4gICAgQmFubmVkVXNlcnMuZGVsZXRlKG1lZXRpbmdJZCk7XG4gICAgTWV0cmljcy5yZW1vdmVNZWV0aW5nKG1lZXRpbmdJZCk7XG5cbiAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBNZWV0aW5ncyB3aXRoIGlkICR7bWVldGluZ0lkfWApO1xuICB9KTtcbn1cbiIsImltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQdWJsaXNoZWRQb2xsKG1lZXRpbmdJZCwgaXNQdWJsaXNoZWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhpc1B1Ymxpc2hlZCwgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHB1Ymxpc2hlZFBvbGw6IGlzUHVibGlzaGVkLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFNldCBwdWJsaXNoZWRQb2xsPSR7aXNQdWJsaXNoZWR9IGluIG1lZWl0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFNldHRpbmcgcHVibGlzaGVkUG9sbD0ke2lzUHVibGlzaGVkfSBmb3IgbWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlV2ViY2FtT25seU1vZGVyYXRvcihtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYXlsb2FkLCB7XG4gICAgd2ViY2Ftc09ubHlGb3JNb2RlcmF0b3I6IEJvb2xlYW4sXG4gICAgc2V0Qnk6IFN0cmluZyxcbiAgfSk7XG4gIGNvbnN0IHsgd2ViY2Ftc09ubHlGb3JNb2RlcmF0b3IgfSA9IHBheWxvYWQ7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgICd1c2Vyc1Byb3Aud2ViY2Ftc09ubHlGb3JNb2RlcmF0b3InOiB3ZWJjYW1zT25seUZvck1vZGVyYXRvcixcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDaGFuZ2VkIG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gdXBkYXRlZCB3ZWJjYW0gT25seSBmb3IgTW9kZXJhdG9yYClcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gd2ViY2FtIE9ubHkgZm9yIE1vZGVyYXRvciB3ZXJlIG5vdCB1cGRhdGVkYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENoYW5nd2luZyBtZWV0aW5nPXske21lZXRpbmdJZH19IHdlYmNhbSBPbmx5IGZvciBNb2RlcmF0b3I6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZU1lZXRpbmdDcmVhdGlvbiBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdDcmVhdGlvbic7XG5pbXBvcnQgaGFuZGxlR2V0QWxsTWVldGluZ3MgZnJvbSAnLi9oYW5kbGVycy9nZXRBbGxNZWV0aW5ncyc7XG5pbXBvcnQgaGFuZGxlTWVldGluZ0VuZCBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdFbmQnO1xuaW1wb3J0IGhhbmRsZU1lZXRpbmdEZXN0cnVjdGlvbiBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdEZXN0cnVjdGlvbic7XG5pbXBvcnQgaGFuZGxlTWVldGluZ0xvY2tzQ2hhbmdlIGZyb20gJy4vaGFuZGxlcnMvbWVldGluZ0xvY2tDaGFuZ2UnO1xuaW1wb3J0IGhhbmRsZVVzZXJMb2NrQ2hhbmdlIGZyb20gJy4vaGFuZGxlcnMvdXNlckxvY2tDaGFuZ2UnO1xuaW1wb3J0IGhhbmRsZVJlY29yZGluZ1N0YXR1c0NoYW5nZSBmcm9tICcuL2hhbmRsZXJzL3JlY29yZGluZ1N0YXR1c0NoYW5nZSc7XG5pbXBvcnQgaGFuZGxlUmVjb3JkaW5nVGltZXJDaGFuZ2UgZnJvbSAnLi9oYW5kbGVycy9yZWNvcmRpbmdUaW1lckNoYW5nZSc7XG5pbXBvcnQgaGFuZGxlVGltZVJlbWFpbmluZ1VwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL3RpbWVSZW1haW5pbmdVcGRhdGUnO1xuaW1wb3J0IGhhbmRsZUNoYW5nZVdlYmNhbU9ubHlNb2RlcmF0b3IgZnJvbSAnLi9oYW5kbGVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yJztcblxuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdDcmVhdGVkRXZ0TXNnJywgaGFuZGxlTWVldGluZ0NyZWF0aW9uKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0TWVldGluZ0luZm9SZXNwTXNnJywgaGFuZGxlR2V0QWxsTWVldGluZ3MpO1xuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdFbmRpbmdFdnRNc2cnLCBoYW5kbGVNZWV0aW5nRW5kKTtcblJlZGlzUHViU3ViLm9uKCdNZWV0aW5nRGVzdHJveWVkRXZ0TXNnJywgaGFuZGxlTWVldGluZ0Rlc3RydWN0aW9uKTtcblJlZGlzUHViU3ViLm9uKCdMb2NrU2V0dGluZ3NJbk1lZXRpbmdDaGFuZ2VkRXZ0TXNnJywgaGFuZGxlTWVldGluZ0xvY2tzQ2hhbmdlKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyTG9ja2VkSW5NZWV0aW5nRXZ0TXNnJywgaGFuZGxlVXNlckxvY2tDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1JlY29yZGluZ1N0YXR1c0NoYW5nZWRFdnRNc2cnLCBoYW5kbGVSZWNvcmRpbmdTdGF0dXNDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1VwZGF0ZVJlY29yZGluZ1RpbWVyRXZ0TXNnJywgaGFuZGxlUmVjb3JkaW5nVGltZXJDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1dlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yQ2hhbmdlZEV2dE1zZycsIGhhbmRsZUNoYW5nZVdlYmNhbU9ubHlNb2RlcmF0b3IpO1xuUmVkaXNQdWJTdWIub24oJ0dldExvY2tTZXR0aW5nc1Jlc3BNc2cnLCBoYW5kbGVNZWV0aW5nTG9ja3NDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdUaW1lUmVtYWluaW5nVXBkYXRlRXZ0TXNnJywgaGFuZGxlVGltZVJlbWFpbmluZ1VwZGF0ZSk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBlbmRNZWV0aW5nIGZyb20gJy4vbWV0aG9kcy9lbmRNZWV0aW5nJztcbmltcG9ydCB0b2dnbGVSZWNvcmRpbmcgZnJvbSAnLi9tZXRob2RzL3RvZ2dsZVJlY29yZGluZyc7XG5pbXBvcnQgdHJhbnNmZXJVc2VyIGZyb20gJy4vbWV0aG9kcy90cmFuc2ZlclVzZXInO1xuaW1wb3J0IHRvZ2dsZUxvY2tTZXR0aW5ncyBmcm9tICcuL21ldGhvZHMvdG9nZ2xlTG9ja1NldHRpbmdzJztcbmltcG9ydCB0b2dnbGVXZWJjYW1zT25seUZvck1vZGVyYXRvciBmcm9tICcuL21ldGhvZHMvdG9nZ2xlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3InO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGVuZE1lZXRpbmcsXG4gIHRvZ2dsZVJlY29yZGluZyxcbiAgdG9nZ2xlTG9ja1NldHRpbmdzLFxuICB0cmFuc2ZlclVzZXIsXG4gIHRvZ2dsZVdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBNZWV0aW5ncywgeyBSZWNvcmRNZWV0aW5ncywgTWVldGluZ1RpbWVSZW1haW5pbmcgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgUk9MRV9NT0RFUkFUT1IgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLnVzZXIucm9sZV9tb2RlcmF0b3I7XG5cbmZ1bmN0aW9uIG1lZXRpbmdzKHJvbGUpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBNZWV0aW5ncy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBtZWV0aW5nJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICAkb3I6IFtcbiAgICAgIHsgbWVldGluZ0lkIH0sXG4gICAgXSxcbiAgfTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7IHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLCBtZWV0aW5nSWQgfSwgeyBmaWVsZHM6IHsgcm9sZTogMSB9IH0pO1xuICBpZiAoISFVc2VyICYmIFVzZXIucm9sZSA9PT0gUk9MRV9NT0RFUkFUT1IpIHtcbiAgICBzZWxlY3Rvci4kb3IucHVzaCh7XG4gICAgICAnbWVldGluZ1Byb3AuaXNCcmVha291dCc6IHRydWUsXG4gICAgICAnYnJlYWtvdXRQcm9wcy5wYXJlbnRJZCc6IG1lZXRpbmdJZCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwYXNzd29yZDogZmFsc2UsXG4gICAgICAnd2VsY29tZVByb3AubW9kT25seU1lc3NhZ2UnOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBNZWV0aW5ncy5maW5kKHNlbGVjdG9yLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTWVldGluZ3MgPSBtZWV0aW5ncy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRNZWV0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ21lZXRpbmdzJywgcHVibGlzaCk7XG5cbmZ1bmN0aW9uIHJlY29yZE1lZXRpbmdzKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFJlY29yZE1lZXRpbmdzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIHJldHVybiBSZWNvcmRNZWV0aW5ncy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuZnVuY3Rpb24gcmVjb3JkUHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUmVjb3JkTWVldGluZ3MgPSByZWNvcmRNZWV0aW5ncy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRSZWNvcmRNZWV0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3JlY29yZC1tZWV0aW5ncycsIHJlY29yZFB1Ymxpc2gpO1xuXG5mdW5jdGlvbiBtZWV0aW5nVGltZVJlbWFpbmluZygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBNZWV0aW5nVGltZVJlbWFpbmluZy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICByZXR1cm4gTWVldGluZ1RpbWVSZW1haW5pbmcuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cbmZ1bmN0aW9uIHRpbWVSZW1haW5pbmdQdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmR0aW1lUmVtYWluaW5nID0gbWVldGluZ1RpbWVSZW1haW5pbmcuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kdGltZVJlbWFpbmluZyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ21lZXRpbmctdGltZS1yZW1haW5pbmcnLCB0aW1lUmVtYWluaW5nUHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgTWVldGluZ3MgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignbWVldGluZ3MnKTtcbmNvbnN0IFJlY29yZE1lZXRpbmdzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3JlY29yZC1tZWV0aW5ncycpO1xuY29uc3QgTWVldGluZ1RpbWVSZW1haW5pbmcgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignbWVldGluZy10aW1lLXJlbWFpbmluZycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBtZWV0aW5nczpcbiAgLy8gMS4gbWVldGluZ0lkXG5cbiAgTWVldGluZ3MuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xuICBSZWNvcmRNZWV0aW5ncy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEgfSk7XG4gIE1lZXRpbmdUaW1lUmVtYWluaW5nLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IHtcbiAgUmVjb3JkTWVldGluZ3MsXG4gIE1lZXRpbmdUaW1lUmVtYWluaW5nLFxufTtcbmV4cG9ydCBkZWZhdWx0IE1lZXRpbmdzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IE5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlckluc3RhYmlsaXR5RGV0ZWN0ZWQoc2VuZGVyKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHJlY2VpdmVyIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhzZW5kZXIsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVjZWl2ZXIsXG4gICAgc2VuZGVyLFxuICB9O1xuXG4gIExvZ2dlci5kZWJ1ZygnUmVjZWl2ZXIgcmVwb3J0ZWQgYSBuZXR3b3JrIGluc3RhYmlsaXR5JywgeyByZWNlaXZlciwgbWVldGluZ0lkIH0pO1xuXG4gIHJldHVybiBOZXR3b3JrSW5mb3JtYXRpb24uaW5zZXJ0KHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IE5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyTmV0d29ya0luZm9ybWF0aW9uKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gTmV0d29ya0luZm9ybWF0aW9uLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIE5ldHdvcmsgSW5mb3JtYXRpb24gKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgTmV0d29yayBJbmZvcm1hdGlvbiAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IE5ldHdvcmtJbmZvcm1hdGlvbi5yZW1vdmUoe30pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgTmV0d29yayBJbmZvcm1hdGlvbiAoYWxsKScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBOZXR3b3JrIEluZm9ybWF0aW9uIChhbGwpLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXInO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgdXNlckluc3RhYmlsaXR5RGV0ZWN0ZWQgZnJvbSAnLi9tZXRob2RzL3VzZXJJbnN0YWJpbGl0eURldGVjdGVkJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB1c2VySW5zdGFiaWxpdHlEZXRlY3RlZCxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTmV0d29ya0luZm9ybWF0aW9uIGZyb20gJy9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBuZXR3b3JrSW5mb3JtYXRpb24oKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gTmV0d29ya0luZm9ybWF0aW9uLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIHJldHVybiBOZXR3b3JrSW5mb3JtYXRpb24uZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTmV0d29ya0luZm9ybWF0aW9uID0gbmV0d29ya0luZm9ybWF0aW9uLmJpbmQodGhpcyk7XG5cbiAgcmV0dXJuIGJvdW5kTmV0d29ya0luZm9ybWF0aW9uKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnbmV0d29yay1pbmZvcm1hdGlvbicsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IE5ldHdvcmtJbmZvcm1hdGlvbiA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCduZXR3b3JrLWluZm9ybWF0aW9uJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTmV0d29ya0luZm9ybWF0aW9uLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTmV0d29ya0luZm9ybWF0aW9uO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHVwZGF0ZU5vdGUgZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL21vZGlmaWVycy91cGRhdGVOb3RlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUGFkVXBkYXRlKHsgYm9keSB9KSB7XG4gIGNvbnN0IHsgcGFkLCByZXZzIH0gPSBib2R5O1xuICBjb25zdCB7IGlkIH0gPSBwYWQ7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG4gIGNoZWNrKHJldnMsIE51bWJlcik7XG5cbiAgdXBkYXRlTm90ZShpZCwgcmV2cyk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFBhZChtZWV0aW5nSWQsIHBhZElkLCByZWFkT25seUlkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnQWRkUGFkU3lzTXNnJztcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhyZWFkT25seUlkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcGFkSWQsXG4gICAgcmVhZE9ubHlJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgJ25vZGVKU2FwcCcsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVOb3RlSWQsXG4gIGNyZWF0ZVBhZFVSTCxcbiAgZ2V0UmVhZE9ubHlJZFVSTCxcbiAgaXNFbmFibGVkLFxuICBnZXREYXRhRnJvbVJlc3BvbnNlLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgYWRkTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbW9kaWZpZXJzL2FkZE5vdGUnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTm90ZShtZWV0aW5nSWQpIHtcbiAgLy8gQXZvaWQgbm90ZSBjcmVhdGlvbiBpZiB0aGlzIGZlYXR1cmUgaXMgZGlzYWJsZWRcbiAgaWYgKCFpc0VuYWJsZWQoKSkge1xuICAgIExvZ2dlci53YXJuKGBOb3RlcyBhcmUgZGlzYWJsZWQgZm9yICR7bWVldGluZ0lkfWApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCBub3RlSWQgPSBnZW5lcmF0ZU5vdGVJZChtZWV0aW5nSWQpO1xuXG4gIGNvbnN0IGNyZWF0ZVVSTCA9IGNyZWF0ZVBhZFVSTChub3RlSWQpO1xuXG4gIGF4aW9zKHtcbiAgICBtZXRob2Q6ICdnZXQnLFxuICAgIHVybDogY3JlYXRlVVJMLFxuICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICB9KS50aGVuKChyZXNwb25zZU91dGVyKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0dXMgfSA9IHJlc3BvbnNlT3V0ZXI7XG4gICAgaWYgKHN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgbm90ZSBpbmZvIGZvciAke21lZXRpbmdJZH0gJHtzdGF0dXN9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlYWRPbmx5VVJMID0gZ2V0UmVhZE9ubHlJZFVSTChub3RlSWQpO1xuICAgIGF4aW9zKHtcbiAgICAgIG1ldGhvZDogJ2dldCcsXG4gICAgICB1cmw6IHJlYWRPbmx5VVJMLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IHJlYWRPbmx5Tm90ZUlkID0gZ2V0RGF0YUZyb21SZXNwb25zZShyZXNwb25zZS5kYXRhLCAncmVhZE9ubHlJRCcpO1xuICAgICAgaWYgKHJlYWRPbmx5Tm90ZUlkKSB7XG4gICAgICAgIGFkZE5vdGUobWVldGluZ0lkLCBub3RlSWQsIHJlYWRPbmx5Tm90ZUlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGdldCBub3RlIHJlYWRPbmx5SUQgZm9yICR7bWVldGluZ0lkfWApO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGdldCBub3RlIHJlYWRPbmx5SUQgZm9yICR7bWVldGluZ0lkfTogJHtlcnJvcn1gKSk7XG4gIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGNyZWF0ZSBub3RlIGZvciAke21lZXRpbmdJZH06ICR7ZXJyb3J9YCkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IE5vdGUgZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGFkZFBhZCBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbWV0aG9kcy9hZGRQYWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGROb3RlKG1lZXRpbmdJZCwgbm90ZUlkLCByZWFkT25seU5vdGVJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKG5vdGVJZCwgU3RyaW5nKTtcbiAgY2hlY2socmVhZE9ubHlOb3RlSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIG5vdGVJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgbm90ZUlkLFxuICAgIHJlYWRPbmx5Tm90ZUlkLFxuICAgIHJldnM6IDAsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IE5vdGUudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgYWRkUGFkKG1lZXRpbmdJZCwgbm90ZUlkLCByZWFkT25seU5vdGVJZCk7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgbm90ZSBpZD0ke25vdGVJZH0gcmVhZE9ubHlJZD0ke3JlYWRPbmx5Tm90ZUlkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgbm90ZSBpZD0ke25vdGVJZH0gcmVhZE9ubHlJZD0ke3JlYWRPbmx5Tm90ZUlkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgbm90ZSB0byB0aGUgY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJOb3RlKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gTm90ZS5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBOb3RlICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIE5vdGUgKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBOb3RlLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBOb3RlIChhbGwpJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIE5vdGUgKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IE5vdGUgZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVOb3RlKG5vdGVJZCwgcmV2cykge1xuICBjaGVjayhub3RlSWQsIFN0cmluZyk7XG4gIGNoZWNrKHJldnMsIE51bWJlcik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbm90ZUlkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHJldnMsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gTm90ZS51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCB7IG11bHRpOiB0cnVlIH0pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIudmVyYm9zZSgnTm90ZXM6IHVwZGF0ZSBub3RlIHBhZCcsIHsgcGFkOiBub3RlSWQsIHJldnMgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoJ05vdGVzOiBlcnJvciB3aGVuIHVwZGF0aW5nIG5vdGUgcGFkJywgeyBlcnIgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBwcm9jZXNzRm9yTm90ZVBhZE9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgaGFuZGxlUGFkVXBkYXRlIGZyb20gJy4vaGFuZGxlcnMvcGFkVXBkYXRlJztcblxuUmVkaXNQdWJTdWIub24oJ1BhZFVwZGF0ZVN5c01zZycsIHByb2Nlc3NGb3JOb3RlUGFkT25seShoYW5kbGVQYWRVcGRhdGUpKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgaGFzaFNIQTEgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgRVRIRVJQQUQgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5ldGhlcnBhZDtcbmNvbnN0IE5PVEVfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5ub3RlO1xuY29uc3QgQkFTRV9VUkwgPSBgaHR0cDovLyR7RVRIRVJQQUQuaG9zdH06JHtFVEhFUlBBRC5wb3J0fS9hcGkvJHtFVEhFUlBBRC52ZXJzaW9ufWA7XG5jb25zdCBUT0tFTiA9ICdfJztcblxuY29uc3QgY3JlYXRlUGFkVVJMID0gcGFkSWQgPT4gYCR7QkFTRV9VUkx9L2NyZWF0ZVBhZD9hcGlrZXk9JHtFVEhFUlBBRC5hcGlrZXl9JnBhZElEPSR7cGFkSWR9YDtcblxuY29uc3QgZ2V0UmVhZE9ubHlJZFVSTCA9IHBhZElkID0+IGAke0JBU0VfVVJMfS9nZXRSZWFkT25seUlEP2FwaWtleT0ke0VUSEVSUEFELmFwaWtleX0mcGFkSUQ9JHtwYWRJZH1gO1xuXG5jb25zdCBhcHBlbmRUZXh0VVJMID0gKHBhZElkLCB0ZXh0KSA9PiBgJHtCQVNFX1VSTH0vYXBwZW5kVGV4dD9hcGlrZXk9JHtFVEhFUlBBRC5hcGlrZXl9JnBhZElEPSR7cGFkSWR9JnRleHQ9JHtlbmNvZGVVUklDb21wb25lbnQodGV4dCl9YDtcblxuY29uc3QgZ2VuZXJhdGVOb3RlSWQgPSAobWVldGluZ0lkKSA9PiBoYXNoU0hBMShtZWV0aW5nSWQrRVRIRVJQQUQuYXBpa2V5KTtcblxuY29uc3QgaXNFbmFibGVkID0gKCkgPT4gTk9URV9DT05GSUcuZW5hYmxlZDtcblxuY29uc3QgZ2V0RGF0YUZyb21SZXNwb25zZSA9IChkYXRhLCBrZXkpID0+IHtcbiAgaWYgKGRhdGEpIHtcbiAgICBjb25zdCBpbm5lckRhdGEgPSBkYXRhLmRhdGE7XG4gICAgaWYgKGlubmVyRGF0YSAmJiBpbm5lckRhdGFba2V5XSkge1xuICAgICAgcmV0dXJuIGlubmVyRGF0YVtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IGlzTm90ZVBhZCA9IHBhZElkID0+IHBhZElkLnNlYXJjaChUT0tFTik7XG5cbmNvbnN0IHByb2Nlc3NGb3JOb3RlUGFkT25seSA9IGZuID0+IChtZXNzYWdlLCAuLi5hcmdzKSA9PiB7XG4gIGNvbnN0IHsgYm9keSB9ID0gbWVzc2FnZTtcbiAgY29uc3QgeyBwYWQgfSA9IGJvZHk7XG4gIGNvbnN0IHsgaWQgfSA9IHBhZDtcblxuICBjaGVjayhpZCwgU3RyaW5nKTtcblxuICBpZiAoaXNOb3RlUGFkKGlkKSkgcmV0dXJuIGZuKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICByZXR1cm4gKCkgPT4ge307XG59O1xuXG5leHBvcnQge1xuICBnZW5lcmF0ZU5vdGVJZCxcbiAgY3JlYXRlUGFkVVJMLFxuICBnZXRSZWFkT25seUlkVVJMLFxuICBpc0VuYWJsZWQsXG4gIGdldERhdGFGcm9tUmVzcG9uc2UsXG4gIGFwcGVuZFRleHRVUkwsXG4gIHByb2Nlc3NGb3JOb3RlUGFkT25seSxcbn07XG4iLCJpbXBvcnQgJy4vcHVibGlzaGVycyc7XG5pbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBub3RlKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIE5vdGUuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgUHVibGlzaGluZyBub3RlIGZvciAke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgcmV0dXJuIE5vdGUuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTm90ZSA9IG5vdGUuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kTm90ZSguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ25vdGUnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBOb3RlID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ25vdGUnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBOb3RlLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgbm90ZUlkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBOb3RlO1xuIiwiaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGluZygpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgbGFzdFBpbmc6IERhdGUubm93KCksXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHVwZGF0aW5nIGxhc3RQaW5nIGZvciAke3JlcXVlc3RlclVzZXJJZH06ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vcHVibGlzaGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBwaW5nIGZyb20gJy4vbWV0aG9kcy9waW5nJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBwaW5nLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgQ09MTEVDVElPTl9OQU1FID0gJ3BpbmctcG9uZyc7XG5jb25zdCBJTlRFUlZBTF9JTl9TRVRUSU5HUyA9IChNZXRlb3Iuc2V0dGluZ3MucHVibGljLnBpbmdQb25nLmNsZWFyVXNlcnNJblNlY29uZHMpICogMTAwMDtcbmNvbnN0IElOVEVSVkFMX1RJTUUgPSBJTlRFUlZBTF9JTl9TRVRUSU5HUyA8IDEwMDAwID8gMTAwMDAgOiBJTlRFUlZBTF9JTl9TRVRUSU5HUztcbmNvbnN0IFBPTkdfSU5URVJWQUxfSU5fU0VUVElOR1MgPSAoTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5waW5nUG9uZy5wb25nVGltZUluU2Vjb25kcykgKiAxMDAwO1xuY29uc3QgUE9OR19JTlRFUlZBTCA9IFBPTkdfSU5URVJWQUxfSU5fU0VUVElOR1MgPj0gKElOVEVSVkFMX1RJTUUgLyAyKVxuICA/IChJTlRFUlZBTF9USU1FIC8gMikgOiBQT05HX0lOVEVSVkFMX0lOX1NFVFRJTkdTO1xuXG5mdW5jdGlvbiBwaW5nUG9uZygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybjsgLy8gVE9ETy0tIGlzIHRoZXJlIGEgbW9yZSBhcHByb3ByaWF0ZSBzZXQgdG8gcmV0dXJuP1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IGlkID0gXy51bmlxdWVJZCgncG9uZy0nKTtcbiAgTG9nZ2VyLmluZm8oYFN0YXJ0aW5nIHBpbmctcG9uZyBwdWJsaXNoIGZvciB1c2VySWQ6ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuICBjb25zdCBwb25nU2VuZGVyID0gKGludGVydmFsKSA9PiB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgIHBvbmc6IHtcbiAgICAgICAgbWVzc2FnZTogJ3BvbmcnLFxuICAgICAgICB0aW1lOiBEYXRlLm5vdygpLFxuICAgICAgICBtZWV0aW5nSWQsXG4gICAgICB9LFxuICAgIH07XG4gICAgbGV0IGZuID0gdGhpcy5hZGRlZC5iaW5kKHRoaXMpO1xuICAgIGlmIChpbnRlcnZhbCkgZm4gPSB0aGlzLmNoYW5nZWQuYmluZCh0aGlzKTtcbiAgICBmbihDT0xMRUNUSU9OX05BTUUsIGlkLCBwYXlsb2FkKTtcbiAgfTtcbiAgcG9uZ1NlbmRlcigpO1xuICB0aGlzLnJlYWR5KCk7XG4gIGNvbnN0IGludGVydmFsID0gTWV0ZW9yLnNldEludGVydmFsKCgpID0+IHBvbmdTZW5kZXIodHJ1ZSksIFBPTkdfSU5URVJWQUwpO1xuXG4gIHRoaXMub25TdG9wKCgpID0+IHtcbiAgICBNZXRlb3IuY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0pO1xufVxuXG5NZXRlb3IucHVibGlzaCgncGluZy1wb25nJywgcGluZ1BvbmcpO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHJlbW92ZVBvbGwgZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZVBvbGwnO1xuaW1wb3J0IHNldFB1Ymxpc2hlZFBvbGwgZnJvbSAnLi4vLi4vLi4vbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9zZXRQdWJsaXNoZWRQb2xsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9sbFB1Ymxpc2hlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcG9sbElkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9sbElkLCBTdHJpbmcpO1xuXG4gIHNldFB1Ymxpc2hlZFBvbGwobWVldGluZ0lkLCB0cnVlKTtcblxuICByZXR1cm4gcmVtb3ZlUG9sbChtZWV0aW5nSWQsIHBvbGxJZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkUG9sbCBmcm9tICcuLi9tb2RpZmllcnMvYWRkUG9sbCc7XG5pbXBvcnQgc2V0UHVibGlzaGVkUG9sbCBmcm9tICcuLi8uLi8uLi9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL3NldFB1Ymxpc2hlZFBvbGwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2xsU3RhcnRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcklkIH0gPSBib2R5O1xuICBjb25zdCB7IHBvbGwgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvbGwsIE9iamVjdCk7XG5cbiAgc2V0UHVibGlzaGVkUG9sbChtZWV0aW5nSWQsIGZhbHNlKTtcblxuICByZXR1cm4gYWRkUG9sbChtZWV0aW5nSWQsIHVzZXJJZCwgcG9sbCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgcmVtb3ZlUG9sbCBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlUG9sbCc7XG5pbXBvcnQgY2xlYXJQb2xscyBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJQb2xscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbGxTdG9wcGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwb2xsIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBpZiAocG9sbCkge1xuICAgIGNvbnN0IHsgcG9sbElkIH0gPSBwb2xsO1xuXG4gICAgY2hlY2socG9sbElkLCBTdHJpbmcpO1xuXG4gICAgcmV0dXJuIHJlbW92ZVBvbGwobWVldGluZ0lkLCBwb2xsSWQpO1xuICB9XG5cbiAgcmV0dXJuIGNsZWFyUG9sbHMobWVldGluZ0lkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyUmVzcG9uZGVkKHsgYm9keSB9KSB7XG4gIGNvbnN0IHsgcG9sbElkLCB1c2VySWQsIGFuc3dlcklkIH0gPSBib2R5O1xuXG4gIGNoZWNrKHBvbGxJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhhbnN3ZXJJZCwgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBpZDogcG9sbElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRwdWxsOiB7XG4gICAgICB1c2VyczogdXNlcklkLFxuICAgIH0sXG4gICAgJHB1c2g6IHtcbiAgICAgIHJlc3BvbnNlczogeyB1c2VySWQsIGFuc3dlcklkIH0sXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUG9sbHMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcGRhdGluZyBQb2xsIHJlc3BvbnNlICh1c2VySWQ6ICR7dXNlcklkfSwgcmVzcG9uc2U6ICR7YW5zd2VySWR9LCBwb2xsSWQ6ICR7cG9sbElkfSlgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgUG9sbCByZXNwb25zZXM6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgdXBkYXRlVm90ZXMgZnJvbSAnLi4vbW9kaWZpZXJzL3VwZGF0ZVZvdGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlclZvdGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwb2xsIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9sbCwge1xuICAgIGlkOiBTdHJpbmcsXG4gICAgYW5zd2VyczogW1xuICAgICAge1xuICAgICAgICBpZDogTnVtYmVyLFxuICAgICAgICBrZXk6IFN0cmluZyxcbiAgICAgICAgbnVtVm90ZXM6IE51bWJlcixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBudW1SZXNwb25kZW50czogTnVtYmVyLFxuICAgIG51bVJlc3BvbmRlcnM6IE51bWJlcixcbiAgfSk7XG5cbiAgcmV0dXJuIHVwZGF0ZVZvdGVzKHBvbGwsIG1lZXRpbmdJZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHVibGlzaFBvbGwoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2hvd1BvbGxSZXN1bHRSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IHBvbGwgPSBQb2xscy5maW5kT25lKHsgbWVldGluZ0lkIH0pOyAvLyBUT0RPLS1zZW5kIHBvbGxpZCBmcm9tIGNsaWVudFxuICBpZiAoIXBvbGwpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEF0dGVtcHRlZCB0byBwdWJsaXNoIGluZXhpc3RpbmcgcG9sbCBmb3IgbWVldGluZ0lkOiAke21lZXRpbmdJZH1gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKFxuICAgIENIQU5ORUwsXG4gICAgRVZFTlRfTkFNRSxcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVxdWVzdGVyVXNlcklkLFxuICAgICh7IHJlcXVlc3RlcklkOiByZXF1ZXN0ZXJVc2VySWQsIHBvbGxJZDogcG9sbC5pZCB9KSxcbiAgKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwdWJsaXNoVm90ZShwb2xsSWQsIHBvbGxBbnN3ZXJJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1Jlc3BvbmRUb1BvbGxSZXFNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHBvbGxBbnN3ZXJJZCwgTnVtYmVyKTtcbiAgY2hlY2socG9sbElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IGFsbG93ZWRUb1ZvdGUgPSBQb2xscy5maW5kT25lKHsgaWQ6IHBvbGxJZCwgdXNlcnM6IHsgJGluOiBbcmVxdWVzdGVyVXNlcklkXSB9IH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHVzZXJzOiAxLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICghYWxsb3dlZFRvVm90ZSkge1xuICAgIExvZ2dlci5pbmZvKGBQb2xsIFVzZXI9eyR7cmVxdWVzdGVyVXNlcklkfX0gaGFzIGFscmVhZHkgdm90ZWQgaW4gUG9sbElkPXske3BvbGxJZH19YCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICB1c2VyczogcmVxdWVzdGVyVXNlcklkLFxuICAgIG1lZXRpbmdJZCxcbiAgICAnYW5zd2Vycy5pZCc6IHBvbGxBbnN3ZXJJZCxcbiAgfTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHJlcXVlc3RlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgcG9sbElkLFxuICAgIHF1ZXN0aW9uSWQ6IDAsXG4gICAgYW5zd2VySWQ6IHBvbGxBbnN3ZXJJZCxcbiAgfTtcblxuICAvKlxuICAgV2Uga2VlcCBhbiBhcnJheSBvZiBwZW9wbGUgd2hvIHdlcmUgaW4gdGhlIG1lZXRpbmcgYXQgdGhlIHRpbWUgdGhlIHBvbGxcbiAgIHdhcyBzdGFydGVkLiBUaGUgcG9sbCBpcyBwdWJsaXNoZWQgdG8gdGhlbSBvbmx5LlxuICAgT25jZSB0aGV5IHZvdGUgLSB0aGVpciBJRCBpcyByZW1vdmVkIGFuZCB0aGV5IGNhbm5vdCBzZWUgdGhlIHBvbGwgYW55bW9yZVxuICAqL1xuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkcHVsbDoge1xuICAgICAgdXNlcnM6IHJlcXVlc3RlclVzZXJJZCxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQb2xscy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFJlbW92ZWQgcmVzcG9uZGVkIHVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9IGZyb20gcG9sbCAobWVldGluZ0lkOiAke21lZXRpbmdJZH0sIHBvbGxJZDogJHtwb2xsSWR9ISlgKTtcblxuICAgICAgUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgcmVzcG9uZGVkIHVzZXIgZnJvbSBQb2xscyBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydFBvbGwocG9sbFR5cGUsIHBvbGxJZCwgYW5zd2Vycykge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuXG4gIGxldCBFVkVOVF9OQU1FID0gJ1N0YXJ0UG9sbFJlcU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhwb2xsSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvbGxUeXBlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcmVxdWVzdGVySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBwb2xsSWQ6IGAke3BvbGxJZH0vJHtuZXcgRGF0ZSgpLmdldFRpbWUoKX1gLFxuICAgIHBvbGxUeXBlLFxuICB9O1xuXG4gIGlmIChwb2xsVHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICBFVkVOVF9OQU1FID0gJ1N0YXJ0Q3VzdG9tUG9sbFJlcU1zZyc7XG4gICAgY2hlY2soYW5zd2VycywgQXJyYXkpO1xuICAgIHBheWxvYWQuYW5zd2VycyA9IGFuc3dlcnM7XG4gIH1cblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RvcFBvbGwoKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHJlcXVlc3RlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1N0b3BQb2xsUmVxTXNnJztcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKFxuICAgIENIQU5ORUwsXG4gICAgRVZFTlRfTkFNRSxcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVxdWVzdGVySWQsXG4gICAgKHsgcmVxdWVzdGVySWQgfSksXG4gICk7XG59XG4iLCJpbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFBvbGwobWVldGluZ0lkLCByZXF1ZXN0ZXJJZCwgcG9sbCkge1xuICBjaGVjayhyZXF1ZXN0ZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2xsLCB7XG4gICAgaWQ6IFN0cmluZyxcbiAgICBhbnN3ZXJzOiBbXG4gICAgICB7XG4gICAgICAgIGlkOiBOdW1iZXIsXG4gICAgICAgIGtleTogU3RyaW5nLFxuICAgICAgfSxcbiAgICBdLFxuICB9KTtcblxuICBjb25zdCB1c2VyU2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogeyAkbmU6IHJlcXVlc3RlcklkIH0sXG4gICAgY2xpZW50VHlwZTogeyAkbmU6ICdkaWFsLWluLXVzZXInIH0sXG4gIH07XG5cbiAgY29uc3QgdXNlcklkcyA9IFVzZXJzLmZpbmQodXNlclNlbGVjdG9yLCB7IGZpZWxkczogeyB1c2VySWQ6IDEgfSB9KVxuICAgIC5mZXRjaCgpXG4gICAgLm1hcCh1c2VyID0+IHVzZXIudXNlcklkKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVxdWVzdGVyOiByZXF1ZXN0ZXJJZCxcbiAgICBpZDogcG9sbC5pZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IE9iamVjdC5hc3NpZ24oXG4gICAgeyBtZWV0aW5nSWQgfSxcbiAgICB7IHJlcXVlc3RlcjogcmVxdWVzdGVySWQgfSxcbiAgICB7IHVzZXJzOiB1c2VySWRzIH0sXG4gICAgZmxhdChwb2xsLCB7IHNhZmU6IHRydWUgfSksXG4gICk7XG5cblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gUG9sbHMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIFBvbGwgaWQ9JHtwb2xsLmlkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgUG9sbCBpZD0ke3BvbGwuaWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyBQb2xsIHRvIGNvbGxlY3Rpb246ICR7cG9sbC5pZH1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyUG9sbHMobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQb2xscy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBQb2xscyAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmluZm8oYEVycm9yIG9uIGNsZWFyaW5nIFBvbGxzICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUG9sbHMucmVtb3ZlKHt9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFBvbGxzIChhbGwpJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgRXJyb3Igb24gY2xlYXJpbmcgUG9sbHMgKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVBvbGwobWVldGluZ0lkLCBpZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGlkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBpZCxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUG9sbHMucmVtb3ZlKHNlbGVjdG9yKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFJlbW92ZWQgUG9sbCBpZD0ke2lkfWApO1xuICAgIH1cblxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIFBvbGwgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlVm90ZXMocG9sbCwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9sbCwgT2JqZWN0KTtcblxuICBjb25zdCB7XG4gICAgaWQsXG4gICAgYW5zd2VycyxcbiAgICBudW1SZXNwb25kZXJzLFxuICAgIG51bVJlc3BvbmRlbnRzLFxuICB9ID0gcG9sbDtcblxuICBjaGVjayhpZCwgU3RyaW5nKTtcbiAgY2hlY2soYW5zd2VycywgQXJyYXkpO1xuXG4gIGNoZWNrKG51bVJlc3BvbmRlcnMsIE51bWJlcik7XG4gIGNoZWNrKG51bVJlc3BvbmRlbnRzLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBpZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBmbGF0KHBvbGwsIHsgc2FmZTogdHJ1ZSB9KSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUG9sbHMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcGRhdGluZyBQb2xscyBjb2xsZWN0aW9uIChtZWV0aW5nSWQ6ICR7bWVldGluZ0lkfSwgcG9sbElkOiAke2lkfSEpYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIFBvbGxzIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVBvbGxTdGFydGVkIGZyb20gJy4vaGFuZGxlcnMvcG9sbFN0YXJ0ZWQnO1xuaW1wb3J0IGhhbmRsZVBvbGxTdG9wcGVkIGZyb20gJy4vaGFuZGxlcnMvcG9sbFN0b3BwZWQnO1xuaW1wb3J0IGhhbmRsZVBvbGxQdWJsaXNoZWQgZnJvbSAnLi9oYW5kbGVycy9wb2xsUHVibGlzaGVkJztcbmltcG9ydCBoYW5kbGVVc2VyVm90ZWQgZnJvbSAnLi9oYW5kbGVycy91c2VyVm90ZWQnO1xuaW1wb3J0IGhhbmRsZVVzZXJSZXNwb25kZWQgZnJvbSAnLi9oYW5kbGVycy91c2VyUmVzcG9uZGVkJztcblxuUmVkaXNQdWJTdWIub24oJ1BvbGxTaG93UmVzdWx0RXZ0TXNnJywgaGFuZGxlUG9sbFB1Ymxpc2hlZCk7XG5SZWRpc1B1YlN1Yi5vbignUG9sbFN0YXJ0ZWRFdnRNc2cnLCBoYW5kbGVQb2xsU3RhcnRlZCk7XG5SZWRpc1B1YlN1Yi5vbignUG9sbFN0b3BwZWRFdnRNc2cnLCBoYW5kbGVQb2xsU3RvcHBlZCk7XG5SZWRpc1B1YlN1Yi5vbignUG9sbFVwZGF0ZWRFdnRNc2cnLCBoYW5kbGVVc2VyVm90ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJSZXNwb25kZWRUb1BvbGxSZXNwTXNnJywgaGFuZGxlVXNlclJlc3BvbmRlZCk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBwdWJsaXNoVm90ZSBmcm9tICcuL21ldGhvZHMvcHVibGlzaFZvdGUnO1xuaW1wb3J0IHB1Ymxpc2hQb2xsIGZyb20gJy4vbWV0aG9kcy9wdWJsaXNoUG9sbCc7XG5pbXBvcnQgc3RhcnRQb2xsIGZyb20gJy4vbWV0aG9kcy9zdGFydFBvbGwnO1xuaW1wb3J0IHN0b3BQb2xsIGZyb20gJy4vbWV0aG9kcy9zdG9wUG9sbCc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcHVibGlzaFZvdGUsXG4gIHB1Ymxpc2hQb2xsLFxuICBzdGFydFBvbGwsXG4gIHN0b3BQb2xsLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGN1cnJlbnRQb2xsKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFBvbGxzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgcG9sbCcsIHsgbWVldGluZ0lkIH0pO1xuXG4gIHJldHVybiBQb2xscy5maW5kKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaEN1cnJlbnRQb2xsKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRQb2xscyA9IGN1cnJlbnRQb2xsLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFBvbGxzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnY3VycmVudC1wb2xsJywgcHVibGlzaEN1cnJlbnRQb2xsKTtcblxuXG5mdW5jdGlvbiBwb2xscygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBQb2xscy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIHBvbGxzJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcnM6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICByZXR1cm4gUG9sbHMuZmluZChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFBvbGxzID0gcG9sbHMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kUG9sbHMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdwb2xscycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFBvbGxzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3BvbGxzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gV2UgY2FuIGhhdmUganVzdCBvbmUgYWN0aXZlIHBvbGwgcGVyIG1lZXRpbmdcbiAgLy8gbWFrZXMgbm8gc2Vuc2UgdG8gaW5kZXggaXQgYnkgYW55dGhpbmcgb3RoZXIgdGhhbiBtZWV0aW5nSWRcblxuICBQb2xscy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvbGxzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZFByZXNlbnRhdGlvblBvZCBmcm9tICcuLi9tb2RpZmllcnMvYWRkUHJlc2VudGF0aW9uUG9kJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQ3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwge1xuICAgIGN1cnJlbnRQcmVzZW50ZXJJZDogU3RyaW5nLFxuICAgIHBvZElkOiBTdHJpbmcsXG4gIH0pO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgeyBjdXJyZW50UHJlc2VudGVySWQsIHBvZElkIH0gPSBib2R5O1xuXG4gIGNvbnN0IHBvZCA9IHtcbiAgICBjdXJyZW50UHJlc2VudGVySWQsXG4gICAgcG9kSWQsXG4gIH07XG5cbiAgYWRkUHJlc2VudGF0aW9uUG9kKG1lZXRpbmdJZCwgcG9kKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCByZW1vdmVQcmVzZW50YXRpb25Qb2QgZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZVByZXNlbnRhdGlvblBvZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZVByZXNlbnRhdGlvblBvZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCB7IHBvZElkIH0gPSBib2R5O1xuXG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIHJlbW92ZVByZXNlbnRhdGlvblBvZChtZWV0aW5nSWQsIHBvZElkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBzZXRQcmVzZW50ZXJJblBvZCBmcm9tICcuLi9tb2RpZmllcnMvc2V0UHJlc2VudGVySW5Qb2QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVTZXRQcmVzZW50ZXJJblBvZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyBwb2RJZCwgbmV4dFByZXNlbnRlcklkIH0gPSBib2R5O1xuXG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhuZXh0UHJlc2VudGVySWQsIFN0cmluZyk7XG5cbiAgc2V0UHJlc2VudGVySW5Qb2QobWVldGluZ0lkLCBwb2RJZCwgbmV4dFByZXNlbnRlcklkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgcmVtb3ZlUHJlc2VudGF0aW9uUG9kIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVQcmVzZW50YXRpb25Qb2QnO1xuaW1wb3J0IGFkZFByZXNlbnRhdGlvblBvZCBmcm9tICcuLi9tb2RpZmllcnMvYWRkUHJlc2VudGF0aW9uUG9kJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlU3luY0dldFByZXNlbnRhdGlvblBvZHMoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgeyBwb2RzIH0gPSBib2R5O1xuICBjaGVjayhwb2RzLCBBcnJheSk7XG5cbiAgY29uc3QgcHJlc2VudGF0aW9uUG9kSWRzID0gcG9kcy5tYXAocG9kID0+IHBvZC5pZCk7XG5cbiAgY29uc3QgcHJlc2VudGF0aW9uUG9kc1RvUmVtb3ZlID0gUHJlc2VudGF0aW9uUG9kcy5maW5kKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQ6IHsgJG5pbjogcHJlc2VudGF0aW9uUG9kSWRzIH0sXG4gIH0sIHsgZmllbGRzOiB7IHBvZElkOiAxIH0gfSkuZmV0Y2goKTtcblxuICBwcmVzZW50YXRpb25Qb2RzVG9SZW1vdmUuZm9yRWFjaChwID0+IHJlbW92ZVByZXNlbnRhdGlvblBvZChtZWV0aW5nSWQsIHAucG9kSWQpKTtcblxuICBwb2RzLmZvckVhY2goKHBvZCkgPT4ge1xuICAgIC8vICdwb2RJZCcgYW5kICdjdXJyZW50UHJlc2VudGVySWQnIGZvciBzb21lIHJlYXNvbiBjYWxsZWQgJ2lkJyBhbmQgJ2N1cnJlbnRQcmVzZW50ZXInXG4gICAgLy8gaW4gdGhpcyBtZXNzYWdlXG4gICAgY29uc3Qge1xuICAgICAgaWQ6IHBvZElkLFxuICAgICAgY3VycmVudFByZXNlbnRlcjogY3VycmVudFByZXNlbnRlcklkLFxuICAgICAgcHJlc2VudGF0aW9ucyxcbiAgICB9ID0gcG9kO1xuICAgIGFkZFByZXNlbnRhdGlvblBvZChtZWV0aW5nSWQsIHsgcG9kSWQsIGN1cnJlbnRQcmVzZW50ZXJJZCB9LCBwcmVzZW50YXRpb25zKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBNYXRjaCwgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBhZGRQcmVzZW50YXRpb24gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9hZGRQcmVzZW50YXRpb24nO1xuXG4vLyAncHJlc2VudGF0aW9ucycgaXMgcGFzc2VkIGRvd24gaGVyZSB3aGVuIHdlIHJlY2VpdmUgYSBTeW5jIG1lc3NhZ2Vcbi8vIGFuZCBpdCdzIG5vdCB1c2VkIHdoZW4gd2UganVzdCBjcmVhdGUgYSBuZXcgcHJlc2VudGF0aW9uIHBvZFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkUHJlc2VudGF0aW9uUG9kKG1lZXRpbmdJZCwgcG9kLCBwcmVzZW50YXRpb25zID0gdW5kZWZpbmVkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9ucywgTWF0Y2guTWF5YmUoQXJyYXkpKTtcbiAgY2hlY2socG9kLCB7XG4gICAgY3VycmVudFByZXNlbnRlcklkOiBTdHJpbmcsXG4gICAgcG9kSWQ6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3QgeyBjdXJyZW50UHJlc2VudGVySWQsIHBvZElkIH0gPSBwb2Q7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBjdXJyZW50UHJlc2VudGVySWQsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IFByZXNlbnRhdGlvblBvZHMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICAvLyBpZiBpdCdzIGEgU3luYyBtZXNzYWdlIC0gY29udGludWUgYWRkaW5nIHRoZSBhdHRhY2hlZCBwcmVzZW50YXRpb25zXG4gICAgaWYgKHByZXNlbnRhdGlvbnMpIHtcbiAgICAgIHByZXNlbnRhdGlvbnMuZm9yRWFjaChwcmVzZW50YXRpb24gPT4gYWRkUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbikpO1xuICAgIH1cblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgcHJlc2VudGF0aW9uIHBvZCBpZD0ke3BvZElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgcHJlc2VudGF0aW9uIHBvZCBpZD0ke3BvZElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgcHJlc2VudGF0aW9uIHBvZCB0byB0aGUgY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgY2xlYXJQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQcmVzZW50YXRpb25zJztcbmltcG9ydCBjbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyUHJlc2VudGF0aW9uUG9kcyhtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFByZXNlbnRhdGlvblBvZHMucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgY2xlYXJQcmVzZW50YXRpb25zKG1lZXRpbmdJZCk7XG4gICAgICAgIGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4obWVldGluZ0lkKTtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgUHJlc2VudGF0aW9ucyBQb2RzICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIFByZXNlbnRhdGlvbnMgUG9kcyAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFByZXNlbnRhdGlvblBvZHMucmVtb3ZlKHt9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIGNsZWFyUHJlc2VudGF0aW9ucygpO1xuICAgICAgICBjbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuKCk7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFByZXNlbnRhdGlvbnMgUG9kcyAoYWxsKScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBQcmVzZW50YXRpb25zIFBvZHMgKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjbGVhclByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlUHJlc2VudGF0aW9uUG9kKG1lZXRpbmdJZCwgcG9kSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFByZXNlbnRhdGlvblBvZHMucmVtb3ZlKHNlbGVjdG9yKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCAmJiBwb2RJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFJlbW92ZWQgcHJlc2VudGF0aW9uIHBvZCBpZD0ke3BvZElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgICAgY2xlYXJQcmVzZW50YXRpb25zKG1lZXRpbmdJZCwgcG9kSWQpO1xuICAgICAgY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbihtZWV0aW5nSWQsIHBvZElkKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gcmVtb3ZpbmcgcHJlc2VudGF0aW9uIHBvZCBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcmVzZW50ZXJJblBvZChtZWV0aW5nSWQsIHBvZElkLCBuZXh0UHJlc2VudGVySWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2sobmV4dFByZXNlbnRlcklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBjdXJyZW50UHJlc2VudGVySWQ6IG5leHRQcmVzZW50ZXJJZCxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gUHJlc2VudGF0aW9uUG9kcy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFNldCBhIG5ldyBwcmVzZW50ZXIgaW4gcG9kIGlkPSR7cG9kSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFNldHRpbmcgYSBwcmVzZW50ZXIgaW4gcG9kOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVDcmVhdGVOZXdQcmVzZW50YXRpb25Qb2QgZnJvbSAnLi9oYW5kbGVycy9jcmVhdGVOZXdQcmVzZW50YXRpb25Qb2QnO1xuaW1wb3J0IGhhbmRsZVJlbW92ZVByZXNlbnRhdGlvblBvZCBmcm9tICcuL2hhbmRsZXJzL3JlbW92ZVByZXNlbnRhdGlvblBvZCc7XG5pbXBvcnQgaGFuZGxlU3luY0dldFByZXNlbnRhdGlvblBvZHMgZnJvbSAnLi9oYW5kbGVycy9zeW5jR2V0UHJlc2VudGF0aW9uUG9kcyc7XG5pbXBvcnQgaGFuZGxlU2V0UHJlc2VudGVySW5Qb2QgZnJvbSAnLi9oYW5kbGVycy9zZXRQcmVzZW50ZXJJblBvZCc7XG5cblJlZGlzUHViU3ViLm9uKCdDcmVhdGVOZXdQcmVzZW50YXRpb25Qb2RFdnRNc2cnLCBoYW5kbGVDcmVhdGVOZXdQcmVzZW50YXRpb25Qb2QpO1xuUmVkaXNQdWJTdWIub24oJ1JlbW92ZVByZXNlbnRhdGlvblBvZEV2dE1zZycsIGhhbmRsZVJlbW92ZVByZXNlbnRhdGlvblBvZCk7XG5SZWRpc1B1YlN1Yi5vbignU2V0UHJlc2VudGVySW5Qb2RSZXNwTXNnJywgaGFuZGxlU2V0UHJlc2VudGVySW5Qb2QpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRQcmVzZW50YXRpb25Qb2RzUmVzcE1zZycsIGhhbmRsZVN5bmNHZXRQcmVzZW50YXRpb25Qb2RzKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBwcmVzZW50YXRpb25Qb2RzKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFByZXNlbnRhdGlvblBvZHMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIHByZXNlbnRhdGlvbi1wb2RzJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uUG9kcy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRQcmVzZW50YXRpb25Qb2RzID0gcHJlc2VudGF0aW9uUG9kcy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRQcmVzZW50YXRpb25Qb2RzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgncHJlc2VudGF0aW9uLXBvZHMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBQcmVzZW50YXRpb25Qb2RzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ByZXNlbnRhdGlvbi1wb2RzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHByZXNlbnRhdGlvbiBwb2RzOlxuICAvLyAxLiBtZWV0aW5nSWQsIHBvZElkICAoIDQgKVxuXG4gIFByZXNlbnRhdGlvblBvZHMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCBwb2RJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJlc2VudGF0aW9uUG9kcztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRhdGlvblVwbG9hZFRva2VuRmFpbCh7IGJvZHksIGhlYWRlciB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7IHVzZXJJZCB9ID0gaGVhZGVyO1xuICBjb25zdCB7IHBvZElkLCBmaWxlbmFtZSB9ID0gYm9keTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhmaWxlbmFtZSwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICAgIHBvZElkLFxuICAgIGZpbGVuYW1lLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4udXBzZXJ0KHNlbGVjdG9yLCB7IGZhaWxlZDogdHJ1ZSwgYXV0aHpUb2tlbjogbnVsbCB9KTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFJlbW92aW5nIHByZXNlbnRhdGlvblRva2VuIGZpbGVuYW1lPSR7ZmlsZW5hbWV9IHBvZElkPSR7cG9kSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIHByZXNlbnRhdGlvblRva2VuIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRhdGlvblVwbG9hZFRva2VuUGFzcyh7IGJvZHksIGhlYWRlciB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7IHVzZXJJZCB9ID0gaGVhZGVyO1xuICBjb25zdCB7IHBvZElkLCBhdXRoelRva2VuLCBmaWxlbmFtZSB9ID0gYm9keTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhhdXRoelRva2VuLCBTdHJpbmcpO1xuICBjaGVjayhmaWxlbmFtZSwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgdXNlcklkLFxuICAgIGZpbGVuYW1lLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICB1c2VySWQsXG4gICAgZmlsZW5hbWUsXG4gICAgYXV0aHpUb2tlbixcbiAgICBmYWlsZWQ6IGZhbHNlLFxuICAgIHVzZWQ6IGZhbHNlLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgSW5zZXJ0aW5nIHByZXNlbnRhdGlvblRva2VuIGZpbGVuYW1lPSR7ZmlsZW5hbWV9IHBvZElkPSR7cG9kSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEluc2VydGluZyBwcmVzZW50YXRpb25Ub2tlbiBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlcXVlc3RQcmVzZW50YXRpb25VcGxvYWRUb2tlbihwb2RJZCwgZmlsZW5hbWUpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdQcmVzZW50YXRpb25VcGxvYWRUb2tlblJlcU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKGZpbGVuYW1lLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcG9kSWQsXG4gICAgZmlsZW5hbWUsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFVzZWRUb2tlbihhdXRoelRva2VuKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAkc2V0OiB7XG4gICAgICB1c2VkOiB0cnVlLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFByZXNlbnRhdGlvblVwbG9hZFRva2VuLnVwZGF0ZSh7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgICAgIGF1dGh6VG9rZW4sXG4gICAgfSwgcGF5bG9hZCk7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBUb2tlbjogJHthdXRoelRva2VufSBoYXMgYmVlbiBzZXQgYXMgdXNlZCBpbiBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBVbmFibGUgdG8gc2V0IHRva2VuIGFzIHVzZWQgOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFByZXNlbnRhdGlvblVwbG9hZFRva2VuIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbihtZWV0aW5nSWQsIHBvZElkKSB7XG4gIGlmIChtZWV0aW5nSWQgJiYgcG9kSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi5yZW1vdmUoeyBtZWV0aW5nSWQsIHBvZElkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgUHJlc2VudGF0aW9ucyBVcGxvYWQgVG9rZW4gKCR7bWVldGluZ0lkfSwgJHtwb2RJZH0pYCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmluZm8oYEVycm9yIG9uIGNsZWFyaW5nIFByZXNlbnRhdGlvbnMgVXBsb2FkIFRva2VuICgke21lZXRpbmdJZH0sICR7cG9kSWR9KS4gJHtlcnJ9YCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFByZXNlbnRhdGlvblVwbG9hZFRva2VuLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFByZXNlbnRhdGlvbnMgVXBsb2FkIFRva2VuICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgRXJyb3Igb24gY2xlYXJpbmcgUHJlc2VudGF0aW9ucyBVcGxvYWQgVG9rZW4gKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgLy8gY2xlYXJpbmcgcHJlc2VudGF0aW9ucyBmb3IgdGhlIHdob2xlIHNlcnZlclxuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi5yZW1vdmUoe30pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgUHJlc2VudGF0aW9ucyBVcGxvYWQgVG9rZW4gKGFsbCknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBFcnJvciBvbiBjbGVhcmluZyBQcmVzZW50YXRpb25zIFVwbG9hZCBUb2tlbiAoYWxsKS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5QYXNzIGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uVXBsb2FkVG9rZW5QYXNzJztcbmltcG9ydCBoYW5kbGVQcmVzZW50YXRpb25VcGxvYWRUb2tlbkZhaWwgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50YXRpb25VcGxvYWRUb2tlbkZhaWwnO1xuXG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5QYXNzUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5QYXNzKSk7XG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5GYWlsUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5GYWlsKSk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCByZXF1ZXN0UHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnLi9tZXRob2RzL3JlcXVlc3RQcmVzZW50YXRpb25VcGxvYWRUb2tlbic7XG5pbXBvcnQgc2V0VXNlZFRva2VuIGZyb20gJy4vbWV0aG9kcy9zZXRVc2VkVG9rZW4nO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHJlcXVlc3RQcmVzZW50YXRpb25VcGxvYWRUb2tlbixcbiAgc2V0VXNlZFRva2VuLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gcHJlc2VudGF0aW9uVXBsb2FkVG9rZW4ocG9kSWQsIGZpbGVuYW1lKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4uZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKGZpbGVuYW1lLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBmaWxlbmFtZSxcbiAgfTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4nLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi5maW5kKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gPSBwcmVzZW50YXRpb25VcGxvYWRUb2tlbi5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRQcmVzZW50YXRpb25VcGxvYWRUb2tlbiguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nLCBwdWJsaXNoKTtcbiIsImNvbnN0IFByZXNlbnRhdGlvblVwbG9hZFRva2VuID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW47XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkUHJlc2VudGF0aW9uIGZyb20gJy4uL21vZGlmaWVycy9hZGRQcmVzZW50YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25BZGRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyBwcmVzZW50YXRpb24sIHBvZElkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbiwgT2JqZWN0KTtcblxuICByZXR1cm4gYWRkUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5cbi8vIGNvbnN0IE9GRklDRV9ET0NfQ09OVkVSU0lPTl9TVUNDRVNTX0tFWSA9ICdPRkZJQ0VfRE9DX0NPTlZFUlNJT05fU1VDQ0VTUyc7XG5jb25zdCBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fRkFJTEVEX0tFWSA9ICdPRkZJQ0VfRE9DX0NPTlZFUlNJT05fRkFJTEVEJztcbmNvbnN0IE9GRklDRV9ET0NfQ09OVkVSU0lPTl9JTlZBTElEX0tFWSA9ICdPRkZJQ0VfRE9DX0NPTlZFUlNJT05fSU5WQUxJRCc7XG5jb25zdCBTVVBQT1JURURfRE9DVU1FTlRfS0VZID0gJ1NVUFBPUlRFRF9ET0NVTUVOVCc7XG5jb25zdCBVTlNVUFBPUlRFRF9ET0NVTUVOVF9LRVkgPSAnVU5TVVBQT1JURURfRE9DVU1FTlQnO1xuY29uc3QgUEFHRV9DT1VOVF9GQUlMRURfS0VZID0gJ1BBR0VfQ09VTlRfRkFJTEVEJztcbmNvbnN0IFBBR0VfQ09VTlRfRVhDRUVERURfS0VZID0gJ1BBR0VfQ09VTlRfRVhDRUVERUQnO1xuY29uc3QgUERGX0hBU19CSUdfUEFHRV9LRVkgPSAnUERGX0hBU19CSUdfUEFHRSc7XG5jb25zdCBHRU5FUkFURURfU0xJREVfS0VZID0gJ0dFTkVSQVRFRF9TTElERSc7XG4vLyBjb25zdCBHRU5FUkFUSU5HX1RIVU1CTkFJTF9LRVkgPSAnR0VORVJBVElOR19USFVNQk5BSUwnO1xuLy8gY29uc3QgR0VORVJBVEVEX1RIVU1CTkFJTF9LRVkgPSAnR0VORVJBVEVEX1RIVU1CTkFJTCc7XG4vLyBjb25zdCBHRU5FUkFUSU5HX1RFWFRGSUxFU19LRVkgPSAnR0VORVJBVElOR19URVhURklMRVMnO1xuLy8gY29uc3QgR0VORVJBVEVEX1RFWFRGSUxFU19LRVkgPSAnR0VORVJBVEVEX1RFWFRGSUxFUyc7XG4vLyBjb25zdCBHRU5FUkFUSU5HX1NWR0lNQUdFU19LRVkgPSAnR0VORVJBVElOR19TVkdJTUFHRVMnO1xuLy8gY29uc3QgR0VORVJBVEVEX1NWR0lNQUdFU19LRVkgPSAnR0VORVJBVEVEX1NWR0lNQUdFUyc7XG4vLyBjb25zdCBDT05WRVJTSU9OX0NPTVBMRVRFRF9LRVkgPSAnQ09OVkVSU0lPTl9DT01QTEVURUQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7XG4gICAgcHJlc2VudGF0aW9uSWQsIHBvZElkLCBtZXNzYWdlS2V5OiBzdGF0dXMsIHByZXNOYW1lOiBwcmVzZW50YXRpb25OYW1lLFxuICB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soc3RhdHVzLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHN0YXR1c01vZGlmaWVyID0ge1xuICAgICdjb252ZXJzaW9uLnN0YXR1cyc6IHN0YXR1cyxcbiAgICAnY29udmVyc2lvbi5lcnJvcic6IGZhbHNlLFxuICAgICdjb252ZXJzaW9uLmRvbmUnOiBmYWxzZSxcbiAgfTtcblxuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgU1VQUE9SVEVEX0RPQ1VNRU5UX0tFWTpcbiAgICAgIHN0YXR1c01vZGlmaWVyLmlkID0gcHJlc2VudGF0aW9uSWQ7XG4gICAgICBzdGF0dXNNb2RpZmllci5uYW1lID0gcHJlc2VudGF0aW9uTmFtZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBVTlNVUFBPUlRFRF9ET0NVTUVOVF9LRVk6XG4gICAgY2FzZSBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fRkFJTEVEX0tFWTpcbiAgICBjYXNlIE9GRklDRV9ET0NfQ09OVkVSU0lPTl9JTlZBTElEX0tFWTpcbiAgICBjYXNlIFBBR0VfQ09VTlRfRkFJTEVEX0tFWTpcbiAgICBjYXNlIFBBR0VfQ09VTlRfRVhDRUVERURfS0VZOlxuICAgIGNhc2UgUERGX0hBU19CSUdfUEFHRV9LRVk6XG4gICAgICBzdGF0dXNNb2RpZmllci5pZCA9IHByZXNlbnRhdGlvbklkO1xuICAgICAgc3RhdHVzTW9kaWZpZXIubmFtZSA9IHByZXNlbnRhdGlvbk5hbWU7XG4gICAgICBzdGF0dXNNb2RpZmllclsnY29udmVyc2lvbi5lcnJvciddID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBHRU5FUkFURURfU0xJREVfS0VZOlxuICAgICAgc3RhdHVzTW9kaWZpZXJbJ2NvbnZlcnNpb24ucGFnZXNDb21wbGV0ZWQnXSA9IGJvZHkucGFnZXNDb21wbGV0ZWQ7XG4gICAgICBzdGF0dXNNb2RpZmllclsnY29udmVyc2lvbi5udW1QYWdlcyddID0gYm9keS5udW1iZXJPZlBhZ2VzO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgaWQ6IHByZXNlbnRhdGlvbklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oeyBtZWV0aW5nSWQsIHBvZElkIH0sIHN0YXR1c01vZGlmaWVyKSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gUHJlc2VudGF0aW9ucy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCBwcmVzZW50YXRpb24gY29udmVyc2lvbiBzdGF0dXM9JHtzdGF0dXN9IGlkPSR7cHJlc2VudGF0aW9uSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIExvZ2dlci5kZWJ1ZygnVXBzZXJ0ZWQgcHJlc2VudGF0aW9uIGNvbnZlcnNpb24nLCB7IHN0YXR1cywgcHJlc2VudGF0aW9uSWQsIG1lZXRpbmdJZCB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgY29udmVyc2lvbiBzdGF0dXMgcHJlc2VudGF0aW9uIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgc2V0Q3VycmVudFByZXNlbnRhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvc2V0Q3VycmVudFByZXNlbnRhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRhdGlvbkN1cnJlbnRTZXQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgcHJlc2VudGF0aW9uSWQsIHBvZElkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIHJldHVybiBzZXRDdXJyZW50UHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUgZnJvbSAnLi4vbW9kaWZpZXJzL3NldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVNldCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyBwcmVzZW50YXRpb25JZCwgcG9kSWQsIGRvd25sb2FkYWJsZSB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soZG93bmxvYWRhYmxlLCBCb29sZWFuKTtcblxuICByZXR1cm4gc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBkb3dubG9hZGFibGUpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgcmVtb3ZlUHJlc2VudGF0aW9uIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVQcmVzZW50YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25SZW1vdmUoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHBvZElkLCBwcmVzZW50YXRpb25JZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcblxuICByZXR1cm4gcmVtb3ZlUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlUHJlc2VudGF0aW9uKHByZXNlbnRhdGlvbklkLCBwb2RJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1JlbW92ZVByZXNlbnRhdGlvblB1Yk1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBwb2RJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJlc2VudGF0aW9uKHByZXNlbnRhdGlvbklkLCBwb2RJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NldEN1cnJlbnRQcmVzZW50YXRpb25QdWJNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIHBvZElkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUocHJlc2VudGF0aW9uSWQsIGRvd25sb2FkYWJsZSkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVB1Yk1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhkb3dubG9hZGFibGUsIEJvb2xlYW4pO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIHBvZElkOiAnREVGQVVMVF9QUkVTRU5UQVRJT05fUE9EJyxcbiAgICBkb3dubG9hZGFibGUsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBIVFRQIH0gZnJvbSAnbWV0ZW9yL2h0dHAnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgYWRkU2xpZGUgZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFNsaWRlJztcbmltcG9ydCBzZXRDdXJyZW50UHJlc2VudGF0aW9uIGZyb20gJy4vc2V0Q3VycmVudFByZXNlbnRhdGlvbic7XG5cbmNvbnN0IGdldFNsaWRlVGV4dCA9IGFzeW5jICh1cmwpID0+IHtcbiAgbGV0IGNvbnRlbnQgPSAnJztcbiAgdHJ5IHtcbiAgICBjb250ZW50ID0gYXdhaXQgSFRUUC5nZXQodXJsKS5jb250ZW50O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIExvZ2dlci5lcnJvcihgTm8gZmlsZSBmb3VuZC4gJHtlcnJvcn1gKTtcbiAgfVxuICByZXR1cm4gY29udGVudDtcbn07XG5cbmNvbnN0IGFkZFNsaWRlcyA9IChtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgc2xpZGVzKSA9PiB7XG4gIHNsaWRlcy5mb3JFYWNoKGFzeW5jIChzbGlkZSkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBnZXRTbGlkZVRleHQoc2xpZGUudHh0VXJpKTtcblxuICAgIE9iamVjdC5hc3NpZ24oc2xpZGUsIHsgY29udGVudCB9KTtcblxuICAgIGFkZFNsaWRlKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBzbGlkZSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb24sIHtcbiAgICBpZDogU3RyaW5nLFxuICAgIG5hbWU6IFN0cmluZyxcbiAgICBjdXJyZW50OiBCb29sZWFuLFxuICAgIHBhZ2VzOiBbXG4gICAgICB7XG4gICAgICAgIGlkOiBTdHJpbmcsXG4gICAgICAgIG51bTogTnVtYmVyLFxuICAgICAgICB0aHVtYlVyaTogU3RyaW5nLFxuICAgICAgICBzd2ZVcmk6IFN0cmluZyxcbiAgICAgICAgdHh0VXJpOiBTdHJpbmcsXG4gICAgICAgIHN2Z1VyaTogU3RyaW5nLFxuICAgICAgICBjdXJyZW50OiBCb29sZWFuLFxuICAgICAgICB4T2Zmc2V0OiBOdW1iZXIsXG4gICAgICAgIHlPZmZzZXQ6IE51bWJlcixcbiAgICAgICAgd2lkdGhSYXRpbzogTnVtYmVyLFxuICAgICAgICBoZWlnaHRSYXRpbzogTnVtYmVyLFxuICAgICAgfSxcbiAgICBdLFxuICAgIGRvd25sb2FkYWJsZTogQm9vbGVhbixcbiAgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIGlkOiBwcmVzZW50YXRpb24uaWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbih7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZCxcbiAgICAgICdjb252ZXJzaW9uLmRvbmUnOiB0cnVlLFxuICAgICAgJ2NvbnZlcnNpb24uZXJyb3InOiBmYWxzZSxcbiAgICB9LCBmbGF0KHByZXNlbnRhdGlvbiwgeyBzYWZlOiB0cnVlIH0pKSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gUHJlc2VudGF0aW9ucy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGFkZFNsaWRlcyhtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24uaWQsIHByZXNlbnRhdGlvbi5wYWdlcyk7XG4gICAgXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIGlmIChwcmVzZW50YXRpb24uY3VycmVudCkge1xuICAgICAgICBzZXRDdXJyZW50UHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbi5pZCk7XG4gICAgICAgIExvZ2dlci5pbmZvKGBBZGRlZCBwcmVzZW50YXRpb24gaWQ9JHtwcmVzZW50YXRpb24uaWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgcHJlc2VudGF0aW9uIGlkPSR7cHJlc2VudGF0aW9uLmlkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgcHJlc2VudGF0aW9uIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyUHJlc2VudGF0aW9ucyhtZWV0aW5nSWQsIHBvZElkKSB7XG4gIC8vIGNsZWFyaW5nIHByZXNlbnRhdGlvbnMgZm9yIDEgcG9kXG4gIGlmIChtZWV0aW5nSWQgJiYgcG9kSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25zLnJlbW92ZSh7IG1lZXRpbmdJZCwgcG9kSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBQcmVzZW50YXRpb25zICgke21lZXRpbmdJZH0sICR7cG9kSWR9KWApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYW5pbmcgUHJlc2VudGF0aW9ucyAoJHttZWV0aW5nSWR9LCAke3BvZElkfSkuICR7ZXJyfWApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNsZWFyaW5nIHByZXNlbnRhdGlvbnMgZm9yIHRoZSB3aG9sZSBtZWV0aW5nXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25zLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFByZXNlbnRhdGlvbnMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYW5pbmcgUHJlc2VudGF0aW9ucyAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFByZXNlbnRhdGlvbnMucmVtb3ZlKHt9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFByZXNlbnRhdGlvbnMgKGFsbCknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYW5pbmcgUHJlc2VudGF0aW9ucyAoYWxsKS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmltcG9ydCBjbGVhclNsaWRlc1ByZXNlbnRhdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJTbGlkZXNQcmVzZW50YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVQcmVzZW50YXRpb24obWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIGlkOiBwcmVzZW50YXRpb25JZCxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUHJlc2VudGF0aW9ucy5yZW1vdmUoc2VsZWN0b3IpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBjbGVhclNsaWRlc1ByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHByZXNlbnRhdGlvbklkKTtcbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIHByZXNlbnRhdGlvbiBpZD0ke3ByZXNlbnRhdGlvbklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBwcmVzZW50YXRpb24gZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRDdXJyZW50UHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IG9sZEN1cnJlbnQgPSB7XG4gICAgc2VsZWN0b3I6IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHBvZElkLFxuICAgICAgY3VycmVudDogdHJ1ZSxcbiAgICB9LFxuICAgIG1vZGlmaWVyOiB7XG4gICAgICAkc2V0OiB7IGN1cnJlbnQ6IGZhbHNlIH0sXG4gICAgfSxcbiAgICBjYWxsYmFjazogKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYFVuc2V0dGluZyB0aGUgY3VycmVudCBwcmVzZW50YXRpb246ICR7ZXJyfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIExvZ2dlci5pbmZvKCdVbnNldHRlZCBhcyBjdXJyZW50IHByZXNlbnRhdGlvbicpO1xuICAgICAgcmV0dXJuO1xuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgbmV3Q3VycmVudCA9IHtcbiAgICBzZWxlY3Rvcjoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcG9kSWQsXG4gICAgICBpZDogcHJlc2VudGF0aW9uSWQsXG4gICAgfSxcbiAgICBtb2RpZmllcjoge1xuICAgICAgJHNldDogeyBjdXJyZW50OiB0cnVlIH0sXG4gICAgfSxcbiAgICBjYWxsYmFjazogKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYFNldHRpbmcgYXMgY3VycmVudCBwcmVzZW50YXRpb24gaWQ9JHtwcmVzZW50YXRpb25JZH06ICR7ZXJyfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIExvZ2dlci5pbmZvKGBTZXR0ZWQgYXMgY3VycmVudCBwcmVzZW50YXRpb24gaWQ9JHtwcmVzZW50YXRpb25JZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG9sZFByZXNlbnRhdGlvbiA9IFByZXNlbnRhdGlvbnMuZmluZE9uZShvbGRDdXJyZW50LnNlbGVjdG9yKTtcbiAgY29uc3QgbmV3UHJlc2VudGF0aW9uID0gUHJlc2VudGF0aW9ucy5maW5kT25lKG5ld0N1cnJlbnQuc2VsZWN0b3IpO1xuXG4gIC8vIFByZXZlbnQgYnVnIHdpdGggcHJlc2VudGF0aW9uIGJlaW5nIHVuc2V0LCBzYW1lIGhhcHBlbnMgaW4gdGhlIHNsaWRlXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JpZ2JsdWVidXR0b24vYmlnYmx1ZWJ1dHRvbi9wdWxsLzQ0MzFcbiAgaWYgKG9sZFByZXNlbnRhdGlvbiAmJiBuZXdQcmVzZW50YXRpb24gJiYgKG9sZFByZXNlbnRhdGlvbi5faWQgPT09IG5ld1ByZXNlbnRhdGlvbi5faWQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG5ld1ByZXNlbnRhdGlvbikge1xuICAgIFByZXNlbnRhdGlvbnMudXBkYXRlKG5ld1ByZXNlbnRhdGlvbi5faWQsIG5ld0N1cnJlbnQubW9kaWZpZXIsIG5ld0N1cnJlbnQuY2FsbGJhY2spO1xuICB9XG5cbiAgaWYgKG9sZFByZXNlbnRhdGlvbikge1xuICAgIFByZXNlbnRhdGlvbnMudXBkYXRlKG9sZFByZXNlbnRhdGlvbi5faWQsIG9sZEN1cnJlbnQubW9kaWZpZXIsIG9sZEN1cnJlbnQuY2FsbGJhY2spO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZShtZWV0aW5nSWQsIHBvZElkLFxuICBwcmVzZW50YXRpb25JZCwgZG93bmxvYWRhYmxlKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhkb3dubG9hZGFibGUsIEJvb2xlYW4pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBpZDogcHJlc2VudGF0aW9uSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgZG93bmxvYWRhYmxlLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBQcmVzZW50YXRpb25zLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgU2V0IGRvd25sb2FkYWJsZSBzdGF0dXMgb24gcHJlc2VudGF0aW9uIHske3ByZXNlbnRhdGlvbklkfSBpbiBtZWV0aW5nIHske21lZXRpbmdJZH19YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBzZXQgZG93bmxvYWRhYmxlIG9uIHByZXMgeyR7cHJlc2VudGF0aW9uSWR9IGluIG1lZXRpbmcgeyR7bWVldGluZ0lkfX0gJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uQWRkZWQgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50YXRpb25BZGRlZCc7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uUmVtb3ZlIGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uUmVtb3ZlJztcbmltcG9ydCBoYW5kbGVQcmVzZW50YXRpb25DdXJyZW50U2V0IGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uQ3VycmVudFNldCc7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUnO1xuaW1wb3J0IGhhbmRsZVByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVNldCBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVNldCc7XG5cblJlZGlzUHViU3ViLm9uKCdQZGZDb252ZXJzaW9uSW52YWxpZEVycm9yRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSk7XG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uUGFnZUdlbmVyYXRlZEV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUpO1xuUmVkaXNQdWJTdWIub24oJ1ByZXNlbnRhdGlvblBhZ2VDb3VudEVycm9yRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSk7XG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZUV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUpO1xuUmVkaXNQdWJTdWIub24oJ1ByZXNlbnRhdGlvbkNvbnZlcnNpb25Db21wbGV0ZWRFdnRNc2cnLCBoYW5kbGVQcmVzZW50YXRpb25BZGRlZCk7XG5SZWRpc1B1YlN1Yi5vbignUmVtb3ZlUHJlc2VudGF0aW9uRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uUmVtb3ZlKTtcblJlZGlzUHViU3ViLm9uKCdTZXRDdXJyZW50UHJlc2VudGF0aW9uRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uQ3VycmVudFNldCk7XG5SZWRpc1B1YlN1Yi5vbignU2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uRG93bmxvYWRhYmxlU2V0KTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHJlbW92ZVByZXNlbnRhdGlvbiBmcm9tICcuL21ldGhvZHMvcmVtb3ZlUHJlc2VudGF0aW9uJztcbmltcG9ydCBzZXRQcmVzZW50YXRpb24gZnJvbSAnLi9tZXRob2RzL3NldFByZXNlbnRhdGlvbic7XG5pbXBvcnQgc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlIGZyb20gJy4vbWV0aG9kcy9zZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHJlbW92ZVByZXNlbnRhdGlvbixcbiAgc2V0UHJlc2VudGF0aW9uLFxuICBzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHByZXNlbnRhdGlvbnMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9ucy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBQcmVzZW50YXRpb25zJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9ucy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRQcmVzZW50YXRpb25zID0gcHJlc2VudGF0aW9ucy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRQcmVzZW50YXRpb25zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgncHJlc2VudGF0aW9ucycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFByZXNlbnRhdGlvbnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigncHJlc2VudGF0aW9ucycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBwcmVzZW50YXRpb25zOlxuICAvLyAxLiBtZWV0aW5nSWQsIHBvZElkLCBpZCAgICAgICAgKCAzIClcbiAgLy8gMi4gbWVldGluZ0lkLCBpZCAgICAgICAgICAgICAgICggMSApXG4gIC8vIDMuIG1lZXRpbmdJZCwgaWQsIGN1cnJlbnQgICAgICAoIDIgKVxuICAvLyA0LiBtZWV0aW5nSWQgICAgICAgICAgICAgICAgICAgKCAxIClcblxuICBQcmVzZW50YXRpb25zLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgcG9kSWQ6IDEsIGlkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQcmVzZW50YXRpb25zO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBhZGRTY3JlZW5zaGFyZSBmcm9tICcuLi9tb2RpZmllcnMvYWRkU2NyZWVuc2hhcmUnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8gZnJvbSAnL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9zdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlU2NyZWVuc2hhcmVTdGFydGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuICBjb25zdCBwcmVzZW50ZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCBwcmVzZW50ZXI6IHRydWUgfSk7XG4gIGNvbnN0IHByZXNlbnRlcklkID0gcHJlc2VudGVyICYmIHByZXNlbnRlci51c2VySWQgPyBwcmVzZW50ZXIudXNlcklkIDogJ3N5c3RlbS1zY3JlZW5zaGFyZS1zdGFydGluZyc7XG4gIGlmIChtZWV0aW5nICYmIG1lZXRpbmcuZXh0ZXJuYWxWaWRlb1VybCkge1xuICAgIExvZ2dlci5pbmZvKGBTY3JlZW5zaGFyZVN0YXJ0ZWQ6IFRoZXJlIGlzIGV4dGVybmFsIHZpZGVvIGJlaW5nIHNoYXJlZC4gU3RvcHBpbmcgaXQgZHVlIHRvIHByZXNlbnRlciBjaGFuZ2UsICR7bWVldGluZy5leHRlcm5hbFZpZGVvVXJsfWApO1xuICAgIHN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8oeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogcHJlc2VudGVySWQgfSk7XG4gIH1cbiAgcmV0dXJuIGFkZFNjcmVlbnNoYXJlKG1lZXRpbmdJZCwgYm9keSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgY2xlYXJTY3JlZW5zaGFyZSBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJTY3JlZW5zaGFyZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNjcmVlbnNoYXJlU3RvcHBlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgc2NyZWVuc2hhcmVDb25mIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soc2NyZWVuc2hhcmVDb25mLCBTdHJpbmcpO1xuXG4gIHJldHVybiBjbGVhclNjcmVlbnNoYXJlKG1lZXRpbmdJZCwgc2NyZWVuc2hhcmVDb25mKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFNjcmVlbnNoYXJlIGZyb20gJy9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFNjcmVlbnNoYXJlKG1lZXRpbmdJZCwgYm9keSkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHNjcmVlbnNoYXJlOiBmbGF0KGJvZHkpLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBTY3JlZW5zaGFyZS51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIHNjcmVlbnNoYXJlIGlkPSR7Ym9keS5zY3JlZW5zaGFyZUNvbmZ9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyBzY3JlZW5zaGFyZSB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFNjcmVlbnNoYXJlIGZyb20gJy9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyU2NyZWVuc2hhcmUobWVldGluZ0lkLCBzY3JlZW5zaGFyZUNvbmYpIHtcbiAgdHJ5IHtcbiAgICBsZXQgbnVtYmVyQWZmZWN0ZWQ7XG5cbiAgICBpZiAobWVldGluZ0lkICYmIHNjcmVlbnNoYXJlQ29uZikge1xuICAgICAgbnVtYmVyQWZmZWN0ZWQgPSBTY3JlZW5zaGFyZS5yZW1vdmUoeyBtZWV0aW5nSWQsICdzY3JlZW5zaGFyZS5zY3JlZW5zaGFyZUNvbmYnOiBzY3JlZW5zaGFyZUNvbmYgfSk7XG4gICAgfSBlbHNlIGlmIChtZWV0aW5nSWQpIHtcbiAgICAgIG51bWJlckFmZmVjdGVkID0gU2NyZWVuc2hhcmUucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBudW1iZXJBZmZlY3RlZCA9IFNjcmVlbnNoYXJlLnJlbW92ZSh7fSk7XG4gICAgfVxuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgcmVtb3ZlZCBzY3JlZW5zaGFyZSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9IGlkPSR7c2NyZWVuc2hhcmVDb25mfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGByZW1vdmluZyBzY3JlZW5zaGFyZSB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVTY3JlZW5zaGFyZVN0YXJ0ZWQgZnJvbSAnLi9oYW5kbGVycy9zY3JlZW5zaGFyZVN0YXJ0ZWQnO1xuaW1wb3J0IGhhbmRsZVNjcmVlbnNoYXJlU3RvcHBlZCBmcm9tICcuL2hhbmRsZXJzL3NjcmVlbnNoYXJlU3RvcHBlZCc7XG5cblJlZGlzUHViU3ViLm9uKCdTY3JlZW5zaGFyZVJ0bXBCcm9hZGNhc3RTdGFydGVkRXZ0TXNnJywgaGFuZGxlU2NyZWVuc2hhcmVTdGFydGVkKTtcblJlZGlzUHViU3ViLm9uKCdTY3JlZW5zaGFyZVJ0bXBCcm9hZGNhc3RTdG9wcGVkRXZ0TXNnJywgaGFuZGxlU2NyZWVuc2hhcmVTdG9wcGVkKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5NZXRlb3IubWV0aG9kcyh7XG59KTtcbiIsImltcG9ydCBTY3JlZW5zaGFyZSBmcm9tICcvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gc2NyZWVuc2hhcmUoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gU2NyZWVuc2hhcmUuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgU2NyZWVuc2hhcmUnLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBTY3JlZW5zaGFyZS5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRTY3JlZW5zaGFyZSA9IHNjcmVlbnNoYXJlLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNjcmVlbnNoYXJlKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnc2NyZWVuc2hhcmUnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBTY3JlZW5zaGFyZSA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdzY3JlZW5zaGFyZScpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBzY3JlZW5zaGFyZTpcbiAgLy8gMS4gbWVldGluZ0lkXG5cbiAgU2NyZWVuc2hhcmUuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JlZW5zaGFyZTtcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjaGFuZ2VDdXJyZW50U2xpZGUgZnJvbSAnLi4vbW9kaWZpZXJzL2NoYW5nZUN1cnJlbnRTbGlkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNsaWRlQ2hhbmdlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwYWdlSWQsIHByZXNlbnRhdGlvbklkLCBwb2RJZCB9ID0gYm9keTtcblxuICBjaGVjayhwYWdlSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gY2hhbmdlQ3VycmVudFNsaWRlKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBwYWdlSWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHJlc2l6ZVNsaWRlIGZyb20gJy4uL21vZGlmaWVycy9yZXNpemVTbGlkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNsaWRlUmVzaXplKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIHJldHVybiByZXNpemVTbGlkZShtZWV0aW5nSWQsIGJvZHkpO1xufVxuIiwiaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IHsgU2xpZGVzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3dpdGNoU2xpZGUoc2xpZGVOdW1iZXIsIHBvZElkKSB7IC8vIFRPRE8tLSBzZW5kIHByZXNlbnRhdGlvbklkIGFuZCBTbGlkZUlkXG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuXG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZXRDdXJyZW50UGFnZVB1Yk1zZyc7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHNsaWRlTnVtYmVyLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBjdXJyZW50OiB0cnVlLFxuICB9O1xuXG4gIGNvbnN0IFByZXNlbnRhdGlvbiA9IFByZXNlbnRhdGlvbnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgaWYgKCFQcmVzZW50YXRpb24pIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwcmVzZW50YXRpb24tbm90LWZvdW5kJywgJ1lvdSBuZWVkIGEgcHJlc2VudGF0aW9uIHRvIGJlIGFibGUgdG8gc3dpdGNoIHNsaWRlcycpO1xuICB9XG5cbiAgY29uc3QgU2xpZGUgPSBTbGlkZXMuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkOiBQcmVzZW50YXRpb24uaWQsXG4gICAgbnVtOiBzbGlkZU51bWJlcixcbiAgfSk7XG5cbiAgaWYgKCFTbGlkZSkge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3NsaWRlLW5vdC1mb3VuZCcsIGBTbGlkZSBudW1iZXIgJHtzbGlkZU51bWJlcn0gbm90IGZvdW5kIGluIHRoZSBjdXJyZW50IHByZXNlbnRhdGlvbmApO1xuICB9XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZDogUHJlc2VudGF0aW9uLmlkLFxuICAgIHBhZ2VJZDogU2xpZGUuaWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgeyBTbGlkZXMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB6b29tU2xpZGUoc2xpZGVOdW1iZXIsIHBvZElkLCB3aWR0aFJhdGlvLCBoZWlnaHRSYXRpbywgeCwgeSkgeyAvLyBUT0RPLS0gc2VuZCBwcmVzZW50YXRpb25JZCBhbmQgU2xpZGVJZFxuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcblxuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnUmVzaXplQW5kTW92ZVBhZ2VQdWJNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBjdXJyZW50OiB0cnVlLFxuICB9O1xuICBjb25zdCBQcmVzZW50YXRpb24gPSBQcmVzZW50YXRpb25zLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGlmICghUHJlc2VudGF0aW9uKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigncHJlc2VudGF0aW9uLW5vdC1mb3VuZCcsICdZb3UgbmVlZCBhIHByZXNlbnRhdGlvbiB0byBiZSBhYmxlIHRvIHN3aXRjaCBzbGlkZXMnKTtcbiAgfVxuXG4gIGNvbnN0IFNsaWRlID0gU2xpZGVzLmZpbmRPbmUoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZDogUHJlc2VudGF0aW9uLmlkLFxuICAgIG51bTogc2xpZGVOdW1iZXIsXG4gIH0pO1xuXG4gIGlmICghU2xpZGUpIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdzbGlkZS1ub3QtZm91bmQnLCBgU2xpZGUgbnVtYmVyICR7c2xpZGVOdW1iZXJ9IG5vdCBmb3VuZCBpbiB0aGUgY3VycmVudCBwcmVzZW50YXRpb25gKTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQ6IFByZXNlbnRhdGlvbi5pZCxcbiAgICBwYWdlSWQ6IFNsaWRlLmlkLFxuICAgIHhPZmZzZXQ6IHgsXG4gICAgeU9mZnNldDogeSxcbiAgICB3aWR0aFJhdGlvLFxuICAgIGhlaWdodFJhdGlvLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHByb2JlIGZyb20gJ3Byb2JlLWltYWdlLXNpemUnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBTbGlkZXMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IFNWRywgUE5HIH0gZnJvbSAnL2ltcG9ydHMvdXRpbHMvbWltZVR5cGVzJztcbmltcG9ydCBjYWxjdWxhdGVTbGlkZURhdGEgZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgYWRkU2xpZGVQb3NpdGlvbnMgZnJvbSAnLi9hZGRTbGlkZVBvc2l0aW9ucyc7XG5cbmNvbnN0IGxvYWRTbGlkZXNGcm9tSHR0cEFsd2F5cyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLmFwcC5sb2FkU2xpZGVzRnJvbUh0dHBBbHdheXMgfHwgZmFsc2U7XG5cbmNvbnN0IHJlcXVlc3RXaGl0ZWJvYXJkSGlzdG9yeSA9IChtZWV0aW5nSWQsIHNsaWRlSWQpID0+IHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdHZXRXaGl0ZWJvYXJkQW5ub3RhdGlvbnNSZXFNc2cnO1xuICBjb25zdCBVU0VSX0lEID0gJ25vZGVKU2FwcCc7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB3aGl0ZWJvYXJkSWQ6IHNsaWRlSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIFVTRVJfSUQsIHBheWxvYWQpO1xufTtcblxuY29uc3QgU1VQUE9SVEVEX1RZUEVTID0gW1NWRywgUE5HXTtcblxuY29uc3QgZmV0Y2hJbWFnZVNpemVzID0gaW1hZ2VVcmkgPT4gcHJvYmUoaW1hZ2VVcmkpXG4gIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAoIVNVUFBPUlRFRF9UWVBFUy5pbmNsdWRlcyhyZXN1bHQubWltZSkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ludmFsaWQtaW1hZ2UtdHlwZScsIGByZWNlaXZlZCAke3Jlc3VsdC5taW1lfSBleHBlY3RpbmcgJHtTVVBQT1JURURfVFlQRVMuam9pbigpfWApO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogcmVzdWx0LndpZHRoLFxuICAgICAgaGVpZ2h0OiByZXN1bHQuaGVpZ2h0LFxuICAgIH07XG4gIH0pXG4gIC5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBwYXJzaW5nIGltYWdlIHNpemUuICR7cmVhc29ufS4gdXJpPSR7aW1hZ2VVcml9YCk7XG4gICAgcmV0dXJuIHJlYXNvbjtcbiAgfSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFNsaWRlKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBzbGlkZSkge1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG5cbiAgY2hlY2soc2xpZGUsIHtcbiAgICBpZDogU3RyaW5nLFxuICAgIG51bTogTnVtYmVyLFxuICAgIHRodW1iVXJpOiBTdHJpbmcsXG4gICAgc3dmVXJpOiBTdHJpbmcsXG4gICAgdHh0VXJpOiBTdHJpbmcsXG4gICAgc3ZnVXJpOiBTdHJpbmcsXG4gICAgY3VycmVudDogQm9vbGVhbixcbiAgICB4T2Zmc2V0OiBOdW1iZXIsXG4gICAgeU9mZnNldDogTnVtYmVyLFxuICAgIHdpZHRoUmF0aW86IE51bWJlcixcbiAgICBoZWlnaHRSYXRpbzogTnVtYmVyLFxuICAgIGNvbnRlbnQ6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGlkOiBzbGlkZUlkLFxuICAgIHhPZmZzZXQsXG4gICAgeU9mZnNldCxcbiAgICB3aWR0aFJhdGlvLFxuICAgIGhlaWdodFJhdGlvLFxuICAgIC4uLnJlc3RTbGlkZVxuICB9ID0gc2xpZGU7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIGlkOiBzbGlkZUlkLFxuICB9O1xuXG4gIGNvbnN0IGltYWdlVXJpID0gc2xpZGUuc3ZnVXJpIHx8IHNsaWRlLnBuZ1VyaTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKFxuICAgICAgeyBtZWV0aW5nSWQgfSxcbiAgICAgIHsgcG9kSWQgfSxcbiAgICAgIHsgcHJlc2VudGF0aW9uSWQgfSxcbiAgICAgIHsgaWQ6IHNsaWRlSWQgfSxcbiAgICAgIHsgaW1hZ2VVcmkgfSxcbiAgICAgIGZsYXQocmVzdFNsaWRlKSxcbiAgICAgIHsgc2FmZTogdHJ1ZSB9LFxuICAgICksXG4gIH07XG5cbiAgY29uc3QgaW1hZ2VTaXplVXJpID0gKGxvYWRTbGlkZXNGcm9tSHR0cEFsd2F5cyA/IGltYWdlVXJpLnJlcGxhY2UoL15odHRwcy9pLCAnaHR0cCcpIDogaW1hZ2VVcmkpO1xuXG4gIHJldHVybiBmZXRjaEltYWdlU2l6ZXMoaW1hZ2VTaXplVXJpKVxuICAgIC50aGVuKCh7IHdpZHRoLCBoZWlnaHQgfSkgPT4ge1xuICAgICAgLy8gdGhlcmUgaXMgYSByYXJlIGNhc2Ugd2hlbiBmb3IgYSB2ZXJ5IGxvbmcgbm90LWFjdGl2ZSBtZWV0aW5nIHRoZSBwcmVzZW50YXRpb25cbiAgICAgIC8vIGZpbGVzIGp1c3QgZGlzYXBwZWFyIGFuZCB3aWR0aC9oZWlnaHQgY2FuJ3QgYmUgcmV0cmlldmVkXG4gICAgICBpZiAod2lkdGggJiYgaGVpZ2h0KSB7XG4gICAgICAgIC8vIHByZS1jYWxjdWxhdGluZyB0aGUgd2lkdGgsIGhlaWdodCwgYW5kIHZpZUJveCBjb29yZGluYXRlcyAvIGRpbWVuc2lvbnNcbiAgICAgICAgLy8gdG8gdW5sb2FkIHRoZSBjbGllbnQtc2lkZVxuICAgICAgICBjb25zdCBzbGlkZURhdGEgPSB7XG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIHhPZmZzZXQsXG4gICAgICAgICAgeU9mZnNldCxcbiAgICAgICAgICB3aWR0aFJhdGlvLFxuICAgICAgICAgIGhlaWdodFJhdGlvLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzbGlkZVBvc2l0aW9uID0gY2FsY3VsYXRlU2xpZGVEYXRhKHNsaWRlRGF0YSk7XG5cbiAgICAgICAgYWRkU2xpZGVQb3NpdGlvbnMobWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQsIHNsaWRlSWQsIHNsaWRlUG9zaXRpb24pO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGluc2VydGVkSWQsIG51bWJlckFmZmVjdGVkIH0gPSBTbGlkZXMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICAgICAgcmVxdWVzdFdoaXRlYm9hcmRIaXN0b3J5KG1lZXRpbmdJZCwgc2xpZGVJZCk7XG5cbiAgICAgICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgc2xpZGUgaWQ9JHtzbGlkZUlkfSBwb2Q9JHtwb2RJZH0gcHJlc2VudGF0aW9uPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gICAgICAgIH0gZWxzZSBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgc2xpZGUgaWQ9JHtzbGlkZUlkfSBwb2Q9JHtwb2RJZH0gcHJlc2VudGF0aW9uPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gICAgICAgIH1cblxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gYWRkaW5nIHNsaWRlIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKHJlYXNvbiA9PiBMb2dnZXIuZXJyb3IoYEVycm9yIHBhcnNpbmcgaW1hZ2Ugc2l6ZS4gJHtyZWFzb259LiBzbGlkZT0ke3NsaWRlSWR9IHVyaT0ke2ltYWdlVXJpfWApKTtcbn1cbiIsImltcG9ydCB7IFNsaWRlUG9zaXRpb25zIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkU2xpZGVQb3NpdGlvbnMoXG4gIG1lZXRpbmdJZCxcbiAgcG9kSWQsXG4gIHByZXNlbnRhdGlvbklkLFxuICBzbGlkZUlkLFxuICBzbGlkZVBvc2l0aW9uLFxuKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhzbGlkZUlkLCBTdHJpbmcpO1xuXG4gIGNoZWNrKHNsaWRlUG9zaXRpb24sIHtcbiAgICB3aWR0aDogTnVtYmVyLFxuICAgIGhlaWdodDogTnVtYmVyLFxuICAgIHg6IE51bWJlcixcbiAgICB5OiBOdW1iZXIsXG4gICAgdmlld0JveFdpZHRoOiBOdW1iZXIsXG4gICAgdmlld0JveEhlaWdodDogTnVtYmVyLFxuICB9KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQsXG4gICAgaWQ6IHNsaWRlSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIHsgbWVldGluZ0lkIH0sXG4gICAgICB7IHBvZElkIH0sXG4gICAgICB7IHByZXNlbnRhdGlvbklkIH0sXG4gICAgICB7IGlkOiBzbGlkZUlkIH0sXG4gICAgICBmbGF0KHNsaWRlUG9zaXRpb24pLFxuICAgICAgeyBzYWZlOiB0cnVlIH0sXG4gICAgKSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gU2xpZGVQb3NpdGlvbnMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIHNsaWRlIHBvc2l0aW9uIGlkPSR7c2xpZGVJZH0gcG9kPSR7cG9kSWR9IHByZXNlbnRhdGlvbj0ke3ByZXNlbnRhdGlvbklkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgc2xpZGUgcG9zaXRpb24gaWQ9JHtzbGlkZUlkfSBwb2Q9JHtwb2RJZH0gcHJlc2VudGF0aW9uPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyBzbGlkZSBwb3NpdGlvbiB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgU2xpZGVzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZUN1cnJlbnRTbGlkZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgc2xpZGVJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhzbGlkZUlkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICBjb25zdCBvbGRDdXJyZW50ID0ge1xuICAgIHNlbGVjdG9yOiB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZCxcbiAgICAgIHByZXNlbnRhdGlvbklkLFxuICAgICAgY3VycmVudDogdHJ1ZSxcbiAgICB9LFxuICAgIG1vZGlmaWVyOiB7XG4gICAgICAkc2V0OiB7IGN1cnJlbnQ6IGZhbHNlIH0sXG4gICAgfSxcbiAgICBjYWxsYmFjazogKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYFVuc2V0dGluZyB0aGUgY3VycmVudCBzbGlkZTogJHtlcnJ9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgTG9nZ2VyLmluZm8oJ1Vuc2V0dGVkIHRoZSBjdXJyZW50IHNsaWRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBuZXdDdXJyZW50ID0ge1xuICAgIHNlbGVjdG9yOiB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZCxcbiAgICAgIHByZXNlbnRhdGlvbklkLFxuICAgICAgaWQ6IHNsaWRlSWQsXG4gICAgfSxcbiAgICBtb2RpZmllcjoge1xuICAgICAgJHNldDogeyBjdXJyZW50OiB0cnVlIH0sXG4gICAgfSxcbiAgICBjYWxsYmFjazogKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYFNldHRpbmcgYXMgY3VycmVudCBzbGlkZSBpZD0ke3NsaWRlSWR9OiAke2Vycn1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBMb2dnZXIuaW5mbyhgU2V0dGVkIGFzIGN1cnJlbnQgc2xpZGUgaWQ9JHtzbGlkZUlkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH0sXG4gIH07XG5cbiAgY29uc3Qgb2xkU2xpZGUgPSBTbGlkZXMuZmluZE9uZShvbGRDdXJyZW50LnNlbGVjdG9yKTtcbiAgY29uc3QgbmV3U2xpZGUgPSBTbGlkZXMuZmluZE9uZShuZXdDdXJyZW50LnNlbGVjdG9yKTtcblxuICAvLyBpZiB0aGUgb2xkQ3VycmVudCBhbmQgbmV3Q3VycmVudCBoYXZlIHRoZSBzYW1lIGlkc1xuICBpZiAob2xkU2xpZGUgJiYgbmV3U2xpZGUgJiYgKG9sZFNsaWRlLl9pZCA9PT0gbmV3U2xpZGUuX2lkKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChuZXdTbGlkZSkge1xuICAgIFNsaWRlcy51cGRhdGUobmV3U2xpZGUuX2lkLCBuZXdDdXJyZW50Lm1vZGlmaWVyLCBuZXdDdXJyZW50LmNhbGxiYWNrKTtcbiAgfVxuXG4gIGlmIChvbGRTbGlkZSkge1xuICAgIFNsaWRlcy51cGRhdGUob2xkU2xpZGUuX2lkLCBvbGRDdXJyZW50Lm1vZGlmaWVyLCBvbGRDdXJyZW50LmNhbGxiYWNrKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU2xpZGVzLCBTbGlkZVBvc2l0aW9ucyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclNsaWRlcyhtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZFNsaWRlUG9zaXRpb25zID0gU2xpZGVQb3NpdGlvbnMucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFNsaWRlcy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZFNsaWRlUG9zaXRpb25zKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFNsaWRlUG9zaXRpb25zICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBTbGlkZXMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYW5pbmcgU2xpZGVzICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkU2xpZGVQb3NpdGlvbnMgPSBTbGlkZVBvc2l0aW9ucy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gU2xpZGVzLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkU2xpZGVQb3NpdGlvbnMpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgU2xpZGVQb3NpdGlvbnMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFNsaWRlcyAoYWxsKScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhbmluZyBTbGlkZXMgKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU2xpZGVzLCBTbGlkZVBvc2l0aW9ucyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGNsZWFyQW5ub3RhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJBbm5vdGF0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyU2xpZGVzUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcHJlc2VudGF0aW9uSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcHJlc2VudGF0aW9uSWQsXG4gIH07XG5cbiAgY29uc3Qgd2hpdGVib2FyZElkcyA9IFNsaWRlcy5maW5kKHNlbGVjdG9yLCB7IGZpZWxkczogeyBpZDogMSB9IH0pLm1hcChyb3cgPT4gcm93LmlkKTtcblxuICB0cnkge1xuICAgIFNsaWRlUG9zaXRpb25zLnJlbW92ZShzZWxlY3Rvcik7XG5cbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFNsaWRlcy5yZW1vdmUoc2VsZWN0b3IpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICB3aGl0ZWJvYXJkSWRzLmZvckVhY2god2hpdGVib2FyZElkID0+IGNsZWFyQW5ub3RhdGlvbnMobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQpKTtcblxuICAgICAgTG9nZ2VyLmluZm8oYFJlbW92ZWQgU2xpZGVzIHdoZXJlIHByZXNlbnRhdGlvbklkPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIFNsaWRlcyBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIHJldHVybjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgU2xpZGVQb3NpdGlvbnMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjYWxjdWxhdGVTbGlkZURhdGEgZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc2l6ZVNsaWRlKG1lZXRpbmdJZCwgc2xpZGUpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHtcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBwYWdlSWQsXG4gICAgd2lkdGhSYXRpbyxcbiAgICBoZWlnaHRSYXRpbyxcbiAgICB4T2Zmc2V0LFxuICAgIHlPZmZzZXQsXG4gIH0gPSBzbGlkZTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQsXG4gICAgaWQ6IHBhZ2VJZCxcbiAgfTtcblxuICAvLyBmZXRjaGluZyB0aGUgY3VycmVudCBzbGlkZSBkYXRhXG4gIC8vIGFuZCBwcmUtY2FsY3VsYXRpbmcgdGhlIHdpZHRoLCBoZWlnaHQsIGFuZCB2aWVCb3ggY29vcmRpbmF0ZXMgLyBzaXplc1xuICAvLyB0byByZWR1Y2UgdGhlIGNsaWVudC1zaWRlIGxvYWRcbiAgY29uc3QgU2xpZGVQb3NpdGlvbiA9IFNsaWRlUG9zaXRpb25zLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGlmIChTbGlkZVBvc2l0aW9uKSB7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgfSA9IFNsaWRlUG9zaXRpb247XG5cbiAgICBjb25zdCBzbGlkZURhdGEgPSB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHhPZmZzZXQsXG4gICAgICB5T2Zmc2V0LFxuICAgICAgd2lkdGhSYXRpbyxcbiAgICAgIGhlaWdodFJhdGlvLFxuICAgIH07XG4gICAgY29uc3QgY2FsY3VsYXRlZERhdGEgPSBjYWxjdWxhdGVTbGlkZURhdGEoc2xpZGVEYXRhKTtcblxuICAgIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICAgJHNldDogY2FsY3VsYXRlZERhdGEsXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFNsaWRlUG9zaXRpb25zLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKGBSZXNpemVkIHNsaWRlIHBvc2l0aW9ucyBpZD0ke3BhZ2VJZH1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBObyBzbGlkZSBwb3NpdGlvbnMgZm91bmQgd2l0aCBpZD0ke3BhZ2VJZH1gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgUmVzaXppbmcgc2xpZGUgcG9zaXRpb25zIGlkPSR7cGFnZUlkfTogJHtlcnJ9YCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVNsaWRlUmVzaXplIGZyb20gJy4vaGFuZGxlcnMvc2xpZGVSZXNpemUnO1xuaW1wb3J0IGhhbmRsZVNsaWRlQ2hhbmdlIGZyb20gJy4vaGFuZGxlcnMvc2xpZGVDaGFuZ2UnO1xuXG5SZWRpc1B1YlN1Yi5vbignUmVzaXplQW5kTW92ZVBhZ2VFdnRNc2cnLCBoYW5kbGVTbGlkZVJlc2l6ZSk7XG5SZWRpc1B1YlN1Yi5vbignU2V0Q3VycmVudFBhZ2VFdnRNc2cnLCBoYW5kbGVTbGlkZUNoYW5nZSk7XG4iLCJcbmNvbnN0IGNhbGN1bGF0ZVNsaWRlRGF0YSA9IChzbGlkZURhdGEpID0+IHtcbiAgY29uc3Qge1xuICAgIHdpZHRoLCBoZWlnaHQsIHhPZmZzZXQsIHlPZmZzZXQsIHdpZHRoUmF0aW8sIGhlaWdodFJhdGlvLFxuICB9ID0gc2xpZGVEYXRhO1xuXG4gIC8vIGNhbGN1bGF0aW5nIHZpZXdCb3ggYW5kIG9mZnNldHMgZm9yIHRoZSBjdXJyZW50IHByZXNlbnRhdGlvblxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICB4OiAoKC14T2Zmc2V0ICogMikgKiB3aWR0aCkgLyAxMDAsXG4gICAgeTogKCgteU9mZnNldCAqIDIpICogaGVpZ2h0KSAvIDEwMCxcbiAgICB2aWV3Qm94V2lkdGg6ICh3aWR0aCAqIHdpZHRoUmF0aW8pIC8gMTAwLFxuICAgIHZpZXdCb3hIZWlnaHQ6IChoZWlnaHQgKiBoZWlnaHRSYXRpbykgLyAxMDAsXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjYWxjdWxhdGVTbGlkZURhdGE7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBzd2l0Y2hTbGlkZSBmcm9tICcuL21ldGhvZHMvc3dpdGNoU2xpZGUnO1xuaW1wb3J0IHpvb21TbGlkZSBmcm9tICcuL21ldGhvZHMvem9vbVNsaWRlJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBzd2l0Y2hTbGlkZSxcbiAgem9vbVNsaWRlLFxufSk7XG4iLCJpbXBvcnQgeyBTbGlkZXMsIFNsaWRlUG9zaXRpb25zIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBzbGlkZXMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gU2xpZGVzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBTbGlkZXMnLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBTbGlkZXMuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kU2xpZGVzID0gc2xpZGVzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNsaWRlcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3NsaWRlcycsIHB1Ymxpc2gpO1xuXG5mdW5jdGlvbiBzbGlkZVBvc2l0aW9ucygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBTbGlkZVBvc2l0aW9ucy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBTbGlkZVBvc2l0aW9ucycsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIFNsaWRlUG9zaXRpb25zLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hQb3NpdGlvbnMoLi4uYXJncykge1xuICBjb25zdCBib3VuZFNsaWRlUG9zaXRpb25zID0gc2xpZGVQb3NpdGlvbnMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kU2xpZGVQb3NpdGlvbnMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdzbGlkZS1wb3NpdGlvbnMnLCBwdWJsaXNoUG9zaXRpb25zKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBTbGlkZXMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignc2xpZGVzJyk7XG5jb25zdCBTbGlkZVBvc2l0aW9ucyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdzbGlkZS1wb3NpdGlvbnMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgc2xpZGVzOlxuXG4gIC8vIDEuIG1lZXRpbmdJZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIDEgKVxuICAvLyAyLiBtZWV0aW5nSWQsIHBvZElkICAgICAgICAgICAgICAgICAgICAgICAgICAgKCAxIClcbiAgLy8gMy4gbWVldGluZ0lkLCBwcmVzZW50YXRpb25JZCAgICAgICAgICAgICAgICAgICggMSApXG4gIC8vIDMuIG1lZXRpbmdJZCwgcHJlc2VudGF0aW9uSWQsIG51bSAgICAgICAgICAgICAoIDEgKVxuICAvLyA0LiBtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgaWQgICAgICAgKCAzICkgLSBpbmNsLiByZXNpemVTbGlkZSwgd2hpY2ggY2FuIGJlIGludGVuc2VcbiAgLy8gNS4gbWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQsIGN1cnJlbnQgICggMSApXG5cbiAgU2xpZGVzLl9lbnN1cmVJbmRleCh7XG4gICAgbWVldGluZ0lkOiAxLCBwb2RJZDogMSwgcHJlc2VudGF0aW9uSWQ6IDEsIGlkOiAxLFxuICB9KTtcblxuICBTbGlkZVBvc2l0aW9ucy5fZW5zdXJlSW5kZXgoe1xuICAgIG1lZXRpbmdJZDogMSwgcG9kSWQ6IDEsIHByZXNlbnRhdGlvbklkOiAxLCBpZDogMSxcbiAgfSk7XG59XG5cbmV4cG9ydCB7IFNsaWRlcywgU2xpZGVQb3NpdGlvbnMgfTtcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjaGFuZ2VSb2xlIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZVJvbGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VSb2xlKHBheWxvYWQsIG1lZXRpbmdJZCkge1xuICBjaGVjayhwYXlsb2FkLmJvZHksIE9iamVjdCk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCB7IHVzZXJJZCwgcm9sZSwgY2hhbmdlZEJ5IH0gPSBwYXlsb2FkLmJvZHk7XG5cbiAgY2hhbmdlUm9sZShyb2xlLCB1c2VySWQsIG1lZXRpbmdJZCwgY2hhbmdlZEJ5KTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVFbW9qaVN0YXR1cyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcklkLCBlbW9qaSB9ID0gYm9keTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGVtb2ppLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgZW1vamlUaW1lOiAobmV3IERhdGUoKSkuZ2V0VGltZSgpLFxuICAgICAgZW1vamksXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBBc3NpZ25lZCB1c2VyIGVtb2ppIHN0YXR1cyAke2Vtb2ppfSBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQXNzaWduaW5nIHVzZXIgZW1vamkgc3RhdHVzOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy8nO1xuaW1wb3J0IGFkZFVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFVzZXInO1xuaW1wb3J0IHJlbW92ZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZVVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVHZXRVc2Vycyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcnMgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VycywgQXJyYXkpO1xuXG4gIGNvbnN0IHVzZXJzSWRzID0gdXNlcnMubWFwKG0gPT4gbS5pbnRJZCk7XG5cbiAgY29uc3QgdXNlcnNUb1JlbW92ZSA9IFVzZXJzLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHsgJG5pbjogdXNlcnNJZHMgfSxcbiAgfSwgeyBmaWVsZHM6IHsgdXNlcklkOiAxIH0gfSkuZmV0Y2goKTtcblxuICB1c2Vyc1RvUmVtb3ZlLmZvckVhY2godXNlciA9PiByZW1vdmVVc2VyKG1lZXRpbmdJZCwgdXNlci51c2VySWQpKTtcblxuICBjb25zdCB1c2Vyc0FkZGVkID0gW107XG4gIHVzZXJzLmZvckVhY2goKHVzZXIpID0+IHtcbiAgICB1c2Vyc0FkZGVkLnB1c2goYWRkVXNlcihtZWV0aW5nSWQsIHVzZXIpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHVzZXJzQWRkZWQ7XG59XG4iLCJpbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgY2hhbmdlUHJlc2VudGVyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZVByZXNlbnRlcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuXG5mdW5jdGlvbiBzZXRQcmVzZW50ZXJJblBvZFJlcU1zZyhjcmVkZW50aWFscykgeyAvLyBUT0RPLS0gc3dpdGNoIHRvIG1lZXRpbmdJZCwgZXRjXG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2V0UHJlc2VudGVySW5Qb2RSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHByZXNlbnRlcklkIH0gPSBjcmVkZW50aWFscztcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHBvZElkOiAnREVGQVVMVF9QUkVTRU5UQVRJT05fUE9EJyxcbiAgICBuZXh0UHJlc2VudGVySWQ6IHByZXNlbnRlcklkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRlckFzc2lnbmVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwcmVzZW50ZXJJZCwgYXNzaWduZWRCeSB9ID0gYm9keTtcblxuICBjaGFuZ2VQcmVzZW50ZXIodHJ1ZSwgcHJlc2VudGVySWQsIG1lZXRpbmdJZCwgYXNzaWduZWRCeSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogeyAkbmU6IHByZXNlbnRlcklkIH0sXG4gICAgcHJlc2VudGVyOiB0cnVlLFxuICB9O1xuXG4gIGNvbnN0IHByZXZQcmVzZW50ZXIgPSBVc2Vycy5maW5kT25lKHNlbGVjdG9yKTtcblxuICAvLyBubyBwcmV2aW91cyBwcmVzZW50ZXJzXG4gIC8vIFRoZSBiZWxvdyBjb2RlIGlzIHJlc3BvbnNpYmxlIGZvciBzZXQgTWVldGluZyBwcmVzZW50ZXIgdG8gYmUgZGVmYXVsdCBwb2QgcHJlc2VudGVyIGFzIHdlbGwuXG4gIC8vIEl0J3MgYmVlbiBoYW5kbGVkIGhlcmUgYmVjYXVzZSByaWdodCBub3cgYWtrYS1hcHBzIGRvbid0IGhhbmRsZSBhbGwgY2FzZXMgc2NlbmFyaW9zLlxuICBpZiAoIXByZXZQcmVzZW50ZXIpIHtcbiAgICBjb25zdCBzZXRQcmVzZW50ZXJQYXlsb2FkID0ge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcmVxdWVzdGVyVXNlcklkOiBhc3NpZ25lZEJ5LFxuICAgICAgcHJlc2VudGVySWQsXG4gICAgfTtcblxuICAgIGNvbnN0IGRlZmF1bHRQb2RTZWxlY3RvciA9IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHBvZElkOiAnREVGQVVMVF9QUkVTRU5UQVRJT05fUE9EJyxcbiAgICB9O1xuICAgIGNvbnN0IGN1cnJlbnREZWZhdWx0UG9kUHJlc2VudGVyID0gUHJlc2VudGF0aW9uUG9kcy5maW5kT25lKGRlZmF1bHRQb2RTZWxlY3Rvcik7XG4gICAgY29uc3QgeyBjdXJyZW50UHJlc2VudGVySWQgfSA9IGN1cnJlbnREZWZhdWx0UG9kUHJlc2VudGVyO1xuXG4gICAgaWYgKGN1cnJlbnRQcmVzZW50ZXJJZCA9PT0gJycpIHtcbiAgICAgIHJldHVybiBzZXRQcmVzZW50ZXJJblBvZFJlcU1zZyhzZXRQcmVzZW50ZXJQYXlsb2FkKTtcbiAgICB9XG5cbiAgICBjb25zdCBvbGRQcmVzZW50ZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCB1c2VySWQ6IGN1cnJlbnRQcmVzZW50ZXJJZCwgY29ubmVjdGlvblN0YXR1czogJ29mZmxpbmUnIH0pO1xuXG4gICAgaWYgKG9sZFByZXNlbnRlcikge1xuICAgICAgcmV0dXJuIHNldFByZXNlbnRlckluUG9kUmVxTXNnKHNldFByZXNlbnRlclBheWxvYWQpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgY2hhbmdlUHJlc2VudGVyKGZhbHNlLCBwcmV2UHJlc2VudGVyLnVzZXJJZCwgbWVldGluZ0lkLCBhc3NpZ25lZEJ5KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuaW1wb3J0IHJlbW92ZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZVVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVSZW1vdmVVc2VyKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBpbnRJZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGludElkLCBTdHJpbmcpO1xuXG4gIHJldHVybiByZW1vdmVVc2VyKG1lZXRpbmdJZCwgaW50SWQpO1xufVxuIiwiaW1wb3J0IHVzZXJFamVjdGVkIGZyb20gJy4uL21vZGlmaWVycy91c2VyRWplY3RlZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUVqZWN0ZWRVc2VyKHsgaGVhZGVyLCBib2R5IH0pIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHVzZXJJZCB9ID0gaGVhZGVyO1xuICBjb25zdCB7IHJlYXNvbkNvZGUgfSA9IGJvZHk7XG5cbiAgdXNlckVqZWN0ZWQobWVldGluZ0lkLCB1c2VySWQsIHJlYXNvbkNvZGUpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHVzZXJJbmFjdGl2aXR5SW5zcGVjdCBmcm9tICcuLi9tb2RpZmllcnMvdXNlckluYWN0aXZpdHlJbnNwZWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVXNlckluYWN0aXZpdHlJbnNwZWN0KHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJJZCB9ID0gaGVhZGVyO1xuICBjb25zdCB7IHJlc3BvbnNlRGVsYXkgfSA9IGJvZHk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhyZXNwb25zZURlbGF5LCBNYXRjaC5JbnRlZ2VyKTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG5cbiAgdXNlckluYWN0aXZpdHlJbnNwZWN0KHVzZXJJZCwgcmVzcG9uc2VEZWxheSk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJKb2luKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdVc2VySm9pbk1lZXRpbmdSZXFNc2cnO1xuXG4gIGNoZWNrKGF1dGhUb2tlbiwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgICBhdXRoVG9rZW4sXG4gICAgY2xpZW50VHlwZTogJ0hUTUw1JyxcbiAgfTtcblxuICBMb2dnZXIuaW5mbyhgVXNlcj0nJHt1c2VySWR9JyBpcyBqb2luaW5nIG1lZXRpbmc9JyR7bWVldGluZ0lkfScgYXV0aFRva2VuPScke2F1dGhUb2tlbn0nYCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCBhZGRVc2VyIGZyb20gJy4uL21vZGlmaWVycy9hZGRVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVXNlckpvaW5lZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHVzZXIgPSBib2R5O1xuXG4gIGNoZWNrKHVzZXIsIE9iamVjdCk7XG5cbiAgYWRkVXNlcihtZWV0aW5nSWQsIHVzZXIpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgdXNlckpvaW4gZnJvbSAnLi91c2VySm9pbic7XG5pbXBvcnQgcGVuZGluZ0F1dGhlbnRpY2F0aW9uc1N0b3JlIGZyb20gJy4uL3N0b3JlL3BlbmRpbmdBdXRoZW50aWNhdGlvbnMnO1xuaW1wb3J0IGNyZWF0ZUR1bW15VXNlciBmcm9tICcuLi9tb2RpZmllcnMvY3JlYXRlRHVtbXlVc2VyJztcbmltcG9ydCBzZXRDb25uZWN0aW9uSWRBbmRBdXRoVG9rZW4gZnJvbSAnLi4vbW9kaWZpZXJzL3NldENvbm5lY3Rpb25JZEFuZEF1dGhUb2tlbic7XG5cbmNvbnN0IGNsZWFyT3RoZXJTZXNzaW9ucyA9IChzZXNzaW9uVXNlcklkLCBjdXJyZW50ID0gZmFsc2UpID0+IHtcbiAgY29uc3Qgc2VydmVyU2Vzc2lvbnMgPSBNZXRlb3Iuc2VydmVyLnNlc3Npb25zO1xuICBPYmplY3Qua2V5cyhzZXJ2ZXJTZXNzaW9ucylcbiAgICAuZmlsdGVyKGkgPT4gc2VydmVyU2Vzc2lvbnNbaV0udXNlcklkID09PSBzZXNzaW9uVXNlcklkKVxuICAgIC5maWx0ZXIoaSA9PiBpICE9PSBjdXJyZW50KVxuICAgIC5mb3JFYWNoKGkgPT4gc2VydmVyU2Vzc2lvbnNbaV0uY2xvc2UoKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVWYWxpZGF0ZUF1dGhUb2tlbih7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHtcbiAgICB1c2VySWQsXG4gICAgdmFsaWQsXG4gICAgYXV0aFRva2VuLFxuICAgIHdhaXRGb3JBcHByb3ZhbCxcbiAgfSA9IGJvZHk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhhdXRoVG9rZW4sIFN0cmluZyk7XG4gIGNoZWNrKHZhbGlkLCBCb29sZWFuKTtcbiAgY2hlY2sod2FpdEZvckFwcHJvdmFsLCBCb29sZWFuKTtcblxuICBjb25zdCBwZW5kaW5nQXV0aHMgPSBwZW5kaW5nQXV0aGVudGljYXRpb25zU3RvcmUudGFrZShtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKTtcblxuICBpZiAoIXZhbGlkKSB7XG4gICAgcGVuZGluZ0F1dGhzLmZvckVhY2goXG4gICAgICAocGVuZGluZ0F1dGgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IG1ldGhvZEludm9jYXRpb25PYmplY3QgfSA9IHBlbmRpbmdBdXRoO1xuICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb25JZCA9IG1ldGhvZEludm9jYXRpb25PYmplY3QuY29ubmVjdGlvbi5pZDtcblxuICAgICAgICAgIC8vIFNjaGVkdWxlIHNvY2tldCBkaXNjb25uZWN0aW9uIGZvciB0aGlzIHVzZXIsIGdpdmluZyBzb21lIHRpbWUgZm9yIGNsaWVudCByZWNlaXZpbmcgdGhlIHJlYXNvbiBvZiBkaXNjb25uZWN0aW9uXG4gICAgICAgICAgTWV0ZW9yLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgbWV0aG9kSW52b2NhdGlvbk9iamVjdC5jb25uZWN0aW9uLmNsb3NlKCk7XG4gICAgICAgICAgfSwgMjAwMCk7XG5cbiAgICAgICAgICBMb2dnZXIuaW5mbyhgQ2xvc2VkIGNvbm5lY3Rpb24gJHtjb25uZWN0aW9uSWR9IGR1ZSB0byBpbnZhbGlkIGF1dGggdG9rZW4uYCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIGNsb3Npbmcgc29ja2V0IGZvciBtZWV0aW5nSWQgJyR7bWVldGluZ0lkfScsIHVzZXJJZCAnJHt1c2VySWR9JywgYXV0aFRva2VuICR7YXV0aFRva2VufWApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodmFsaWQpIHtcbiAgICAvLyBEZWZpbmUgdXNlciBJRCBvbiBjb25uZWN0aW9uc1xuICAgIHBlbmRpbmdBdXRocy5mb3JFYWNoKFxuICAgICAgKHBlbmRpbmdBdXRoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kSW52b2NhdGlvbk9iamVjdCB9ID0gcGVuZGluZ0F1dGg7XG5cbiAgICAgICAgLyogTG9naWMgbWlncmF0ZWQgZnJvbSB2YWxpZGF0ZUF1dGhUb2tlbiBtZXRob2QgKCBwb3N0cG9uZWQgdG8gb25seSBydW4gaW4gY2FzZSBvZiBzdWNjZXNzIHJlc3BvbnNlICkgLSBCZWdpbiAqL1xuICAgICAgICBjb25zdCBzZXNzaW9uSWQgPSBgJHttZWV0aW5nSWR9LS0ke3VzZXJJZH1gO1xuXG4gICAgICAgIG1ldGhvZEludm9jYXRpb25PYmplY3Quc2V0VXNlcklkKHNlc3Npb25JZCk7XG5cbiAgICAgICAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghVXNlcikge1xuICAgICAgICAgIGNyZWF0ZUR1bW15VXNlcihtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldENvbm5lY3Rpb25JZEFuZEF1dGhUb2tlbihtZWV0aW5nSWQsIHVzZXJJZCwgbWV0aG9kSW52b2NhdGlvbk9iamVjdC5jb25uZWN0aW9uLmlkLCBhdXRoVG9rZW4pO1xuICAgICAgICAvKiBFbmQgb2YgbG9naWMgbWlncmF0ZWQgZnJvbSB2YWxpZGF0ZUF1dGhUb2tlbiAqL1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBjbGllbnRUeXBlOiAnSFRNTDUnLFxuICB9O1xuXG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHNlbGVjdG9yKTtcblxuICAvLyBJZiB3ZSBkb250IGZpbmQgdGhlIHVzZXIgb24gb3VyIGNvbGxlY3Rpb24gaXMgYSBmbGFzaCB1c2VyIGFuZCB3ZSBjYW4gc2tpcFxuICBpZiAoIVVzZXIpIHJldHVybjtcblxuICAvLyBQdWJsaXNoIHVzZXIgam9pbiBtZXNzYWdlXG4gIGlmICh2YWxpZCAmJiAhd2FpdEZvckFwcHJvdmFsKSB7XG4gICAgTG9nZ2VyLmluZm8oJ1VzZXI9JywgVXNlcik7XG4gICAgdXNlckpvaW4obWVldGluZ0lkLCB1c2VySWQsIFVzZXIuYXV0aFRva2VuKTtcbiAgfVxuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHZhbGlkYXRlZDogdmFsaWQsXG4gICAgICBhcHByb3ZlZDogIXdhaXRGb3JBcHByb3ZhbCxcbiAgICAgIGxvZ2luVGltZTogRGF0ZS5ub3coKSxcbiAgICAgIGluYWN0aXZpdHlDaGVjazogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICBjb25zdCBzZXNzaW9uVXNlcklkID0gYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gO1xuICAgICAgICBjb25zdCBjdXJyZW50Q29ubmVjdGlvbklkID0gVXNlci5jb25uZWN0aW9uSWQgPyBVc2VyLmNvbm5lY3Rpb25JZCA6IGZhbHNlO1xuICAgICAgICBjbGVhck90aGVyU2Vzc2lvbnMoc2Vzc2lvblVzZXJJZCwgY3VycmVudENvbm5lY3Rpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIExvZ2dlci5pbmZvKGBWYWxpZGF0ZWQgYXV0aCB0b2tlbiBhcyAke3ZhbGlkfSB1c2VyPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbygnTm8gYXV0aCB0byB2YWxpZGF0ZScpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBWYWxpZGF0aW5nIGF1dGggdG9rZW46ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhc3NpZ25QcmVzZW50ZXIodXNlcklkKSB7IC8vIFRPRE8tLSBzZW5kIHVzZXJuYW1lIGZyb20gY2xpZW50IHNpZGVcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdBc3NpZ25QcmVzZW50ZXJSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfSk7XG5cbiAgaWYgKCFVc2VyKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndXNlci1ub3QtZm91bmQnLCAnWW91IG5lZWQgYSB2YWxpZCB1c2VyIHRvIGJlIGFibGUgdG8gc2V0IHByZXNlbnRlcicpO1xuICB9XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBuZXdQcmVzZW50ZXJJZDogdXNlcklkLFxuICAgIG5ld1ByZXNlbnRlck5hbWU6IFVzZXIubmFtZSxcbiAgICBhc3NpZ25lZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgcmVxdWVzdGVySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBMb2dnZXIudmVyYm9zZSgnVXNlciBzZXQgYXMgcHJlc2VudGVyJywgeyB1c2VySWQsIG1lZXRpbmdJZCwgc2V0Qnk6IHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VSb2xlKHVzZXJJZCwgcm9sZSkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0NoYW5nZVVzZXJSb2xlQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2socm9sZSwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgICByb2xlLFxuICAgIGNoYW5nZWRCeTogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIExvZ2dlci52ZXJib3NlKCdDaGFuZ2VkIHVzZXIgcm9sZScsIHtcbiAgICB1c2VySWQsIHJvbGUsIGNoYW5nZWRCeTogcmVxdWVzdGVyVXNlcklkLCBtZWV0aW5nSWQsXG4gIH0pO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBCYW5uZWRVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL3N0b3JlL2Jhbm5lZFVzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlVXNlcih1c2VySWQsIGJhblVzZXIpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdFamVjdFVzZXJGcm9tTWVldGluZ0NtZE1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogZWplY3RlZEJ5IH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgICBlamVjdGVkQnksXG4gICAgYmFuVXNlcixcbiAgfTtcblxuICBjb25zdCByZW1vdmVkVXNlciA9IFVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHVzZXJJZCB9LCB7IGV4dElkOiAxIH0pO1xuXG4gIGlmIChiYW5Vc2VyICYmIHJlbW92ZWRVc2VyKSBCYW5uZWRVc2Vycy5hZGQobWVldGluZ0lkLCByZW1vdmVkVXNlci5leHRJZCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIGVqZWN0ZWRCeSwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0RW1vamlTdGF0dXModXNlcklkLCBzdGF0dXMpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDaGFuZ2VVc2VyRW1vamlDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgZW1vamk6IHN0YXR1cyxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgTG9nZ2VyLnZlcmJvc2UoJ1VzZXIgZW1vamkgc3RhdHVzIHVwZGF0ZWQnLCB7XG4gICAgdXNlcklkLCBzdGF0dXMsIHJlcXVlc3RlclVzZXJJZCwgbWVldGluZ0lkLFxuICB9KTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHNldEVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlIGZyb20gJy4uL21vZGlmaWVycy9zZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUoZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDaGFuZ2VVc2VyRWZmZWN0aXZlQ29ubmVjdGlvbk1zZyc7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2soZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUsXG4gIH07XG5cbiAgc2V0RWZmZWN0aXZlQ29ubmVjdGlvblR5cGUobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlKTtcblxuICBMb2dnZXIudmVyYm9zZSgnVXBkYXRlZCB1c2VyIGVmZmVjdGl2ZSBjb25uZWN0aW9uJywgeyByZXF1ZXN0ZXJVc2VySWQsIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlIH0pO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvZ2dsZVVzZXJMb2NrKHVzZXJJZCwgbG9jaykge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0xvY2tVc2VySW5NZWV0aW5nQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiBsb2NrZWRCeSB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhsb2NrZWRCeSwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhsb2NrLCBCb29sZWFuKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGxvY2tlZEJ5LFxuICAgIHVzZXJJZCxcbiAgICBsb2NrLFxuICB9O1xuXG4gIExvZ2dlci52ZXJib3NlKCdVcGRhdGVkIGxvY2sgc3RhdHVzIGZvciB1c2VyJywge1xuICAgIG1lZXRpbmdJZCwgdXNlcklkLCBsb2NrLCBsb2NrZWRCeSxcbiAgfSk7XG5cblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgbG9ja2VkQnksIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlckFjdGl2aXR5U2lnbigpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdVc2VyQWN0aXZpdHlTaWduQ21kTXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogdXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgaW5hY3Rpdml0eUNoZWNrOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpOyAvLyBUT0RPLS0gd2Ugc2hvdWxkIG1vdmUgdGhpcyB0byBhIG1vZGlmaWVyXG5cbiAgTG9nZ2VyLmluZm8oYFVzZXIgJHt1c2VySWR9IHNlbnQgYSBhY3Rpdml0eSBzaWduIGZvciBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCB1c2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJMZWF2aW5nKG1lZXRpbmdJZCwgdXNlcklkLCBjb25uZWN0aW9uSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdVc2VyTGVhdmVSZXFNc2cnO1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHNlbGVjdG9yKTtcblxuICBpZiAoIVVzZXIpIHtcbiAgICBMb2dnZXIuaW5mbyhgU2tpcHBpbmcgdXNlckxlYXZpbmcuIENvdWxkIG5vdCBmaW5kICR7dXNlcklkfSBpbiAke21lZXRpbmdJZH1gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBJZiB0aGUgY3VycmVudCB1c2VyIGNvbm5lY3Rpb24gaXMgbm90IHRoZSBzYW1lIHRoYXQgdHJpZ2dlcmVkIHRoZSBsZWF2ZSB3ZSBza2lwXG4gIGlmIChVc2VyLmNvbm5lY3Rpb25JZCAhPT0gY29ubmVjdGlvbklkKSB7XG4gICAgTG9nZ2VyLmluZm8oYFNraXBwaW5nIHVzZXJMZWF2aW5nLiBVc2VyIGNvbm5lY3Rpb25JZD0ke1VzZXIuY29ubmVjdGlvbklkfSBpcyBkaWZmZXJlbnQgZnJvbSByZXF1ZXN0ZXIgY29ubmVjdGlvbklkPSR7Y29ubmVjdGlvbklkfWApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkLFxuICAgIHNlc3Npb25JZDogbWVldGluZ0lkLFxuICB9O1xuXG4gIExvZ2dlci5pbmZvKGBVc2VyICcke3VzZXJJZH0nIGlzIGxlYXZpbmcgbWVldGluZyAnJHttZWV0aW5nSWR9J2ApO1xuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJMZWZ0TWVldGluZygpIHsgLy8gVE9ETy0tIHNwcmVhZCB0aGUgY29kZSB0byBtZXRob2QvbW9kaWZpZXIvaGFuZGxlclxuICAvLyBzbyB3ZSBkb24ndCB1cGRhdGUgdGhlIGRiIGluIGEgbWV0aG9kXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIHsgJHNldDogeyBsb2dnZWRPdXQ6IHRydWUgfSB9KTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYHVzZXIgbGVmdCBpZD0ke3JlcXVlc3RlclVzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgbGVhdmluZyBkdW1teSB1c2VyIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgcGVuZGluZ0F1dGhlbnRpY2F0aW9uc1N0b3JlIGZyb20gJy4uL3N0b3JlL3BlbmRpbmdBdXRoZW50aWNhdGlvbnMnO1xuaW1wb3J0IEJhbm5lZFVzZXJzIGZyb20gJy4uL3N0b3JlL2Jhbm5lZFVzZXJzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2YWxpZGF0ZUF1dGhUb2tlbihtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcmVxdWVzdGVyVG9rZW4sIGV4dGVybmFsSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdWYWxpZGF0ZUF1dGhUb2tlblJlcU1zZyc7XG5cbiAgLy8gQ2hlY2sgaWYgZXh0ZXJuYWxJZCBpcyBiYW5uZWQgZnJvbSB0aGUgbWVldGluZ1xuICBpZiAoZXh0ZXJuYWxJZCkge1xuICAgIGlmIChCYW5uZWRVc2Vycy5oYXMobWVldGluZ0lkLCBleHRlcm5hbElkKSkge1xuICAgICAgTG9nZ2VyLndhcm4oYEEgYmFubmVkIHVzZXIgd2l0aCBleHRJZCAke2V4dGVybmFsSWR9IHRyaWVkIHRvIGVudGVyIGluIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG4gICAgICByZXR1cm4geyBpbnZhbGlkOiB0cnVlLCByZWFzb246ICdVc2VyIGhhcyBiZWVuIGJhbm5lZCcsIGVycm9yX3R5cGU6ICd1c2VyX2Jhbm5lZCcgfTtcbiAgICB9XG4gIH1cblxuICAvLyBQcmV2ZW50IHVzZXJzIHdobyBoYXZlIGxlZnQgb3IgYmVlbiBlamVjdGVkIHRvIHVzZSB0aGUgc2FtZSBzZXNzaW9uVG9rZW4gYWdhaW4uXG4gIGNvbnN0IGlzVXNlckludmFsaWQgPSBVc2Vycy5maW5kT25lKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgYXV0aFRva2VuOiByZXF1ZXN0ZXJUb2tlbixcbiAgICAkb3I6IFt7IGVqZWN0ZWQ6IHRydWUgfSwgeyBsb2dnZWRPdXQ6IHRydWUgfV0sXG4gIH0pO1xuXG4gIGlmIChpc1VzZXJJbnZhbGlkKSB7XG4gICAgTG9nZ2VyLndhcm4oYEFuIGludmFsaWQgc2Vzc2lvblRva2VuIHRyaWVkIHRvIHZhbGlkYXRlQXV0aFRva2VuIG1lZXRpbmdJZD0ke21lZXRpbmdJZH0gYXV0aFRva2VuPSR7cmVxdWVzdGVyVG9rZW59YCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGludmFsaWQ6IHRydWUsXG4gICAgICByZWFzb246IGBVc2VyIGhhcyBhbiBpbnZhbGlkIHNlc3Npb25Ub2tlbiBkdWUgdG8gJHtpc1VzZXJJbnZhbGlkLmVqZWN0ZWQgPyAnZWplY3Rpb24nIDogJ2xvZyBvdXQnfWAsXG4gICAgICBlcnJvcl90eXBlOiBgaW52YWxpZF9zZXNzaW9uX3Rva2VuX2R1ZV90b18ke2lzVXNlckludmFsaWQuZWplY3RlZCA/ICdlamVjdCcgOiAnbG9nX291dCd9YCxcbiAgICB9O1xuICB9XG5cbiAgLy8gU3RvcmUgcmVmZXJlbmNlIG9mIG1ldGhvZEludm9jYXRpb25PYmplY3QgKCB0byBwb3N0cG9uZSB0aGUgY29ubmVjdGlvbiB1c2VySWQgZGVmaW5pdGlvbiApXG4gIHBlbmRpbmdBdXRoZW50aWNhdGlvbnNTdG9yZS5hZGQobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHJlcXVlc3RlclRva2VuLCB0aGlzKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIGF1dGhUb2tlbjogcmVxdWVzdGVyVG9rZW4sXG4gIH07XG5cbiAgTG9nZ2VyLmluZm8oYFVzZXIgJyR7cmVxdWVzdGVyVXNlcklkfScgaXMgdHJ5aW5nIHRvIHZhbGlkYXRlIGF1dGggdG9rZW4gZm9yIG1lZXRpbmcgJyR7bWVldGluZ0lkfScgZnJvbSBjb25uZWN0aW9uICcke3RoaXMuY29ubmVjdGlvbi5pZH0nYCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9hZGRVc2VyJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGREaWFsSW5Vc2VyKG1lZXRpbmdJZCwgdm9pY2VVc2VyKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VVc2VyLCBPYmplY3QpO1xuXG4gIGNvbnN0IFVTRVJfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy51c2VyO1xuICBjb25zdCBST0xFX1ZJRVdFUiA9IFVTRVJfQ09ORklHLnJvbGVfdmlld2VyO1xuXG4gIGNvbnN0IHsgaW50SWQsIGNhbGxlck5hbWUgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCB2b2ljZU9ubHlVc2VyID0ge1xuICAgIGludElkLFxuICAgIGV4dElkOiBpbnRJZCwgLy8gVE9ET1xuICAgIG5hbWU6IGNhbGxlck5hbWUsXG4gICAgcm9sZTogUk9MRV9WSUVXRVIudG9Mb3dlckNhc2UoKSxcbiAgICBndWVzdDogZmFsc2UsXG4gICAgYXV0aGVkOiB0cnVlLFxuICAgIHdhaXRpbmdGb3JBY2NlcHRhbmNlOiBmYWxzZSxcbiAgICBndWVzdFN0YXR1czogJ0FMTE9XJyxcbiAgICBlbW9qaTogJ25vbmUnLFxuICAgIHByZXNlbnRlcjogZmFsc2UsXG4gICAgbG9ja2VkOiBmYWxzZSwgLy8gVE9ET1xuICAgIGF2YXRhcjogJycsXG4gICAgY2xpZW50VHlwZTogJ2RpYWwtaW4tdXNlcicsXG4gIH07XG5cbiAgcmV0dXJuIGFkZFVzZXIobWVldGluZ0lkLCB2b2ljZU9ubHlVc2VyKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgU2FuaXRpemVIVE1MIGZyb20gJ3Nhbml0aXplLWh0bWwnO1xuXG5pbXBvcnQgc3RyaW5nSGFzaCBmcm9tICdzdHJpbmctaGFzaCc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcblxuaW1wb3J0IGFkZFZvaWNlVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9hZGRWb2ljZVVzZXInO1xuXG5jb25zdCBDT0xPUl9MSVNUID0gW1xuICAnIzdiMWZhMicsICcjNmExYjlhJywgJyM0YTE0OGMnLCAnIzVlMzViMScsICcjNTEyZGE4JywgJyM0NTI3YTAnLFxuICAnIzMxMWI5MicsICcjMzk0OWFiJywgJyMzMDNmOWYnLCAnIzI4MzU5MycsICcjMWEyMzdlJywgJyMxOTc2ZDInLCAnIzE1NjVjMCcsXG4gICcjMGQ0N2ExJywgJyMwMjc3YmQnLCAnIzAxNTc5YicsXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRVc2VyKG1lZXRpbmdJZCwgdXNlckRhdGEpIHtcbiAgY29uc3QgdXNlciA9IHVzZXJEYXRhO1xuICBjb25zdCBzYW5pdGl6ZWROYW1lID0gU2FuaXRpemVIVE1MKHVzZXJEYXRhLm5hbWUsIHtcbiAgICBhbGxvd2VkVGFnczogW10sXG4gICAgYWxsb3dlZEF0dHJpYnV0ZXM6IHt9LFxuICB9KTtcbiAgLy8gaWYgdXNlciB0eXBlZCBvbmx5IHRhZ3NcbiAgdXNlci5uYW1lID0gc2FuaXRpemVkTmFtZS5sZW5ndGggPT09IDBcbiAgICA/IF8uZXNjYXBlKHVzZXJEYXRhLm5hbWUpXG4gICAgOiBzYW5pdGl6ZWROYW1lO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjaGVjayh1c2VyLCB7XG4gICAgaW50SWQ6IFN0cmluZyxcbiAgICBleHRJZDogU3RyaW5nLFxuICAgIG5hbWU6IFN0cmluZyxcbiAgICByb2xlOiBTdHJpbmcsXG4gICAgZ3Vlc3Q6IEJvb2xlYW4sXG4gICAgYXV0aGVkOiBCb29sZWFuLFxuICAgIHdhaXRpbmdGb3JBY2NlcHRhbmNlOiBNYXRjaC5NYXliZShCb29sZWFuKSxcbiAgICBndWVzdFN0YXR1czogU3RyaW5nLFxuICAgIGVtb2ppOiBTdHJpbmcsXG4gICAgcHJlc2VudGVyOiBCb29sZWFuLFxuICAgIGxvY2tlZDogQm9vbGVhbixcbiAgICBhdmF0YXI6IFN0cmluZyxcbiAgICBjbGllbnRUeXBlOiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHVzZXJJZCA9IHVzZXIuaW50SWQ7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcbiAgY29uc3QgTWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgLyogV2hpbGUgdGhlIGFra2EtYXBwcyBkb250IGdlbmVyYXRlIGEgY29sb3Igd2UganVzdCBwaWNrIG9uZVxuICAgIGZyb20gYSBsaXN0IGJhc2VkIG9uIHRoZSB1c2VySWQgKi9cbiAgY29uc3QgY29sb3IgPSBDT0xPUl9MSVNUW3N0cmluZ0hhc2godXNlci5pbnRJZCkgJSBDT0xPUl9MSVNULmxlbmd0aF07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICBjb25uZWN0aW9uU3RhdHVzOiAnb25saW5lJyxcbiAgICAgICAgc29ydE5hbWU6IHVzZXIubmFtZS50cmltKCkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgY29sb3IsXG4gICAgICAgIGJyZWFrb3V0UHJvcHM6IHtcbiAgICAgICAgICBpc0JyZWFrb3V0VXNlcjogTWVldGluZy5tZWV0aW5nUHJvcC5pc0JyZWFrb3V0LFxuICAgICAgICAgIHBhcmVudElkOiBNZWV0aW5nLmJyZWFrb3V0UHJvcHMucGFyZW50SWQsXG4gICAgICAgIH0sXG4gICAgICAgIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlOiBudWxsLFxuICAgICAgICBpbmFjdGl2aXR5Q2hlY2s6IGZhbHNlLFxuICAgICAgICByZXNwb25zZURlbGF5OiAwLFxuICAgICAgICBsb2dnZWRPdXQ6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIGZsYXQodXNlciksXG4gICAgKSxcbiAgfTtcblxuICAvLyBPbmx5IGFkZCBhbiBlbXB0eSBWb2ljZVVzZXIgaWYgdGhlcmUgaXNuJ3Qgb25lIGFscmVhZHkgYW5kIGlmIHRoZSB1c2VyIGNvbWluZyBpbiBpc24ndCBhXG4gIC8vIGRpYWwtaW4gdXNlci4gV2Ugd2FudCB0byBhdm9pZCBvdmVyd3JpdGluZyBnb29kIGRhdGFcbiAgaWYgKHVzZXIuY2xpZW50VHlwZSAhPT0gJ2RpYWwtaW4tdXNlcicgJiYgIVZvaWNlVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgaW50SWQ6IHVzZXJJZCB9KSkge1xuICAgIGFkZFZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICAgIHZvaWNlVXNlcklkOiAnJyxcbiAgICAgIGludElkOiB1c2VySWQsXG4gICAgICBjYWxsZXJOYW1lOiB1c2VyLm5hbWUsXG4gICAgICBjYWxsZXJOdW06ICcnLFxuICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgdGFsa2luZzogZmFsc2UsXG4gICAgICBjYWxsaW5nV2l0aDogJycsXG4gICAgICBsaXN0ZW5Pbmx5OiBmYWxzZSxcbiAgICAgIHZvaWNlQ29uZjogJycsXG4gICAgICBqb2luZWQ6IGZhbHNlLFxuICAgIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IFVzZXJzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBBZGRlZCB1c2VyIGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgdXNlciBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIHVzZXIgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyBmcm9tICcvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL3N0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VQcmVzZW50ZXIocHJlc2VudGVyLCB1c2VySWQsIG1lZXRpbmdJZCwgY2hhbmdlZEJ5KSB7XG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgcHJlc2VudGVyLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBtZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9KTtcbiAgICBpZiAobWVldGluZyAmJiBtZWV0aW5nLmV4dGVybmFsVmlkZW9VcmwpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDaGFuZ2VQcmVzZW50ZXI6VGhlcmUgaXMgZXh0ZXJuYWwgdmlkZW8gYmVpbmcgc2hhcmVkLiBTdG9wcGluZyBpdCBkdWUgdG8gcHJlc2VudGVyIGNoYW5nZSwgJHttZWV0aW5nLmV4dGVybmFsVmlkZW9Vcmx9YCk7XG4gICAgICBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvKHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHVzZXJJZCB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2hhbmdlZCBwcmVzZW50ZXI9JHtwcmVzZW50ZXJ9IGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWBcbiAgICAgICAgKyBgJHtjaGFuZ2VkQnkgPyBgIGNoYW5nZWRCeT0ke2NoYW5nZWRCeX1gIDogJyd9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENoYW5nZWQgdXNlciByb2xlOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZVJvbGUocm9sZSwgdXNlcklkLCBtZWV0aW5nSWQsIGNoYW5nZWRCeSkge1xuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHJvbGUsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDaGFuZ2VkIHVzZXIgcm9sZT0ke3JvbGV9IGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWBcbiAgICAgICAgKyBgJHtjaGFuZ2VkQnkgPyBgIGNoYW5nZWRCeT0ke2NoYW5nZWRCeX1gIDogJyd9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENoYW5nZWQgdXNlciByb2xlOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9pbmRleCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyVXNlcnMobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2Vycy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBVc2VycyAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBjbGVhcmluZyBVc2VycyAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJzLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBVc2VycyAoYWxsKScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBjbGVhcmluZyBVc2VycyAoYWxsKS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVEdW1teVVzZXIobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soYXV0aFRva2VuLCBTdHJpbmcpO1xuXG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCB1c2VySWQgfSk7XG4gIGlmIChVc2VyKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXhpc3RpbmctdXNlcicsICdUcmllZCB0byBjcmVhdGUgYSBkdW1teSB1c2VyIGZvciBhbiBleGlzdGluZyB1c2VyJyk7XG4gIH1cblxuICBjb25zdCBkb2MgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBhdXRoVG9rZW4sXG4gICAgY2xpZW50VHlwZTogJ0hUTUw1JyxcbiAgICB2YWxpZGF0ZWQ6IG51bGwsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBpbnNlcnRlZElkID0gVXNlcnMuaW5zZXJ0KGRvYyk7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENyZWF0ZWQgZHVtbXkgdXNlciBpZD0ke3VzZXJJZH0gdG9rZW49JHthdXRoVG9rZW59IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENyZWF0aW5nIGR1bW15IHVzZXIgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IFZpZGVvU3RyZWFtcyBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyBmcm9tICcvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL3N0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8nO1xuaW1wb3J0IGNsZWFyVXNlckluZm9Gb3JSZXF1ZXN0ZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2VySW5mb0ZvclJlcXVlc3Rlcic7XG5cbmNvbnN0IGNsZWFyQWxsU2Vzc2lvbnMgPSAoc2Vzc2lvblVzZXJJZCkgPT4ge1xuICBjb25zdCBzZXJ2ZXJTZXNzaW9ucyA9IE1ldGVvci5zZXJ2ZXIuc2Vzc2lvbnM7XG4gIE9iamVjdC5rZXlzKHNlcnZlclNlc3Npb25zKVxuICAgIC5maWx0ZXIoaSA9PiBzZXJ2ZXJTZXNzaW9uc1tpXS51c2VySWQgPT09IHNlc3Npb25Vc2VySWQpXG4gICAgLmZvckVhY2goaSA9PiBzZXJ2ZXJTZXNzaW9uc1tpXS5jbG9zZSgpKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVVzZXIobWVldGluZ0lkLCB1c2VySWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgdXNlclRvUmVtb3ZlID0gVXNlcnMuZmluZE9uZSh7IHVzZXJJZCwgbWVldGluZ0lkIH0pO1xuXG4gIGlmICh1c2VyVG9SZW1vdmUpIHtcbiAgICBjb25zdCB7IHByZXNlbnRlciB9ID0gdXNlclRvUmVtb3ZlO1xuICAgIGlmIChwcmVzZW50ZXIpIHtcbiAgICAgIHN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8oeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogdXNlcklkIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgY29ubmVjdGlvblN0YXR1czogJ29mZmxpbmUnLFxuICAgICAgdmFsaWRhdGVkOiBmYWxzZSxcbiAgICAgIGVtb2ppOiAnbm9uZScsXG4gICAgICBwcmVzZW50ZXI6IGZhbHNlLFxuICAgICAgcm9sZTogJ1ZJRVdFUicsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIFZpZGVvU3RyZWFtcy5yZW1vdmUoeyBtZWV0aW5nSWQsIHVzZXJJZCB9KTtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBjb25zdCBzZXNzaW9uVXNlcklkID0gYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gO1xuICAgICAgY2xlYXJBbGxTZXNzaW9ucyhzZXNzaW9uVXNlcklkKTtcblxuICAgICAgY2xlYXJVc2VySW5mb0ZvclJlcXVlc3RlcihtZWV0aW5nSWQsIHVzZXJJZCk7XG5cbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIHVzZXIgaWQ9JHt1c2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIHVzZXIgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldENvbm5lY3Rpb25JZEFuZEF1dGhUb2tlbihtZWV0aW5nSWQsIHVzZXJJZCwgY29ubmVjdGlvbklkLCBhdXRoVG9rZW4pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGF1dGhUb2tlbiwgU3RyaW5nKTtcbiAgY2hlY2soY29ubmVjdGlvbklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgY29ubmVjdGlvbklkLFxuICAgICAgYXV0aFRva2VuLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCBjb25uZWN0aW9uSWQgYW5kIGF1dGhUb2tlbiB1c2VyPSR7dXNlcklkfSBjb25uZWN0aW9uSWQ9JHtjb25uZWN0aW9uSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9IGF1dGhUb2tlbj0ke2F1dGhUb2tlbn1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgY29ubmVjdGlvbklkIHVzZXI9JHt1c2VySWR9OiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZShtZWV0aW5nSWQsIHVzZXJJZCwgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGU6IHsgJG5lOiBlZmZlY3RpdmVDb25uZWN0aW9uVHlwZSB9LFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCB1c2VyICR7dXNlcklkfSBlZmZlY3RpdmUgY29ubmVjdGlvbiB0byAke2VmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlfSBpbiBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBVcGRhdGluZyB1c2VyICR7dXNlcklkfTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IGNsZWFyVXNlckluZm9Gb3JSZXF1ZXN0ZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2VySW5mb0ZvclJlcXVlc3Rlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJFamVjdGVkKG1lZXRpbmdJZCwgdXNlcklkLCBlamVjdGVkUmVhc29uKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhlamVjdGVkUmVhc29uLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgZWplY3RlZDogdHJ1ZSxcbiAgICAgIGVqZWN0ZWRSZWFzb24sXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIGNsZWFyVXNlckluZm9Gb3JSZXF1ZXN0ZXIobWVldGluZ0lkLCB1c2VySWQpO1xuICAgICAgTG9nZ2VyLmluZm8oYEVqZWN0ZWQgdXNlciBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH0gcmVhc29uPSR7ZWplY3RlZFJlYXNvbn1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRWplY3RpbmcgdXNlciBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlckluYWN0aXZpdHlJbnNwZWN0KHVzZXJJZCwgcmVzcG9uc2VEZWxheSkge1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlc3BvbnNlRGVsYXksIE1hdGNoLkludGVnZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHVzZXJJZCxcbiAgICBpbmFjdGl2aXR5Q2hlY2s6IGZhbHNlLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGluYWN0aXZpdHlDaGVjazogdHJ1ZSxcbiAgICAgIHJlc3BvbnNlRGVsYXksXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgbnVtYmVyQWZmZWN0ZWQgfSA9IFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCB1c2VyICR7dXNlcklkfSB3aXRoIGluYWN0aXZpdHkgaW5zcGVjdGApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBJbmFjdGl2aXR5IGNoZWNrIGZvciB1c2VyICR7dXNlcklkfTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuY2xhc3MgQmFubmVkVXNlcnMge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBMb2dnZXIuZGVidWcoJ0Jhbm5lZFVzZXJzIDo6IEluaXRpYWxpemluZycpO1xuICAgIHRoaXMuc3RvcmUgPSB7fTtcbiAgfVxuXG4gIGluaXQobWVldGluZ0lkKSB7XG4gICAgTG9nZ2VyLmRlYnVnKCdCYW5uZWRVc2VycyA6OiBpbml0JywgeyBtZWV0aW5nSWQgfSk7XG5cbiAgICBpZiAoIXRoaXMuc3RvcmVbbWVldGluZ0lkXSkgdGhpcy5zdG9yZVttZWV0aW5nSWRdID0gbmV3IFNldCgpO1xuICB9XG5cbiAgYWRkKG1lZXRpbmdJZCwgZXh0ZXJuYWxJZCkge1xuICAgIExvZ2dlci5kZWJ1ZygnQmFubmVkVXNlcnMgOjogYWRkJywgeyBtZWV0aW5nSWQsIGV4dGVybmFsSWQgfSk7XG4gICAgaWYgKCF0aGlzLnN0b3JlW21lZXRpbmdJZF0pIHRoaXMuc3RvcmVbbWVldGluZ0lkXSA9IG5ldyBTZXQoKTtcblxuICAgIHRoaXMuc3RvcmVbbWVldGluZ0lkXS5hZGQoZXh0ZXJuYWxJZCk7XG4gIH1cblxuICBkZWxldGUobWVldGluZ0lkKSB7XG4gICAgTG9nZ2VyLmRlYnVnKCdCYW5uZWRVc2VycyA6OiBkZWxldGUnLCB7IG1lZXRpbmdJZCB9KTtcbiAgICBkZWxldGUgdGhpcy5zdG9yZVttZWV0aW5nSWRdO1xuICB9XG5cbiAgaGFzKG1lZXRpbmdJZCwgZXh0ZXJuYWxJZCkge1xuICAgIExvZ2dlci5kZWJ1ZygnQmFubmVkVXNlcnMgOjogaGFzJywgeyBtZWV0aW5nSWQsIGV4dGVybmFsSWQgfSk7XG4gICAgaWYgKCF0aGlzLnN0b3JlW21lZXRpbmdJZF0pIHRoaXMuc3RvcmVbbWVldGluZ0lkXSA9IG5ldyBTZXQoKTtcblxuICAgIHJldHVybiB0aGlzLnN0b3JlW21lZXRpbmdJZF0uaGFzKGV4dGVybmFsSWQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBCYW5uZWRVc2VycygpO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5jbGFzcyBQZW5kaW5nQXV0aGVudGl0Y2F0aW9ucyB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICBMb2dnZXIuZGVidWcoXCJQZW5kaW5nQXV0aGVudGl0Y2F0aW9ucyA6OiBjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IFtdO1xuICAgIH1cblxuICAgIGdlbmVyYXRlS2V5IChtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKSB7XG4gICAgICAgIC8vIFByb3RlY3QgYWdhaW5zdCBzZXBhcmF0b3IgaW5qZWN0aW9uXG4gICAgICAgIG1lZXRpbmdJZCA9IG1lZXRpbmdJZC5yZXBsYWNlKC8gL2csICcnKTtcbiAgICAgICAgdXNlcklkICAgID0gdXNlcklkLnJlcGxhY2UoLyAvZywgJycpO1xuICAgICAgICBhdXRoVG9rZW4gPSBhdXRoVG9rZW4ucmVwbGFjZSgvIC9nLCAnJyk7XG5cbiAgICAgICAgLy8gU3BhY2Ugc2VwYXJhdGVkIGtleVxuICAgICAgICByZXR1cm4gYCR7bWVldGluZ0lkfSAke3VzZXJJZH0gJHthdXRoVG9rZW59YDtcbiAgICB9XG5cbiAgICBhZGQgKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4sIG1ldGhvZEludm9jYXRpb25PYmplY3QpIHtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKFwiUGVuZGluZ0F1dGhlbnRpdGNhdGlvbnMgOjogYWRkXCIsIHttZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VufSk7XG4gICAgICAgIHRoaXMuc3RvcmUucHVzaCh7XG4gICAgICAgICAgICBrZXk6IHRoaXMuZ2VuZXJhdGVLZXkobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbiksXG4gICAgICAgICAgICBtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuLCBtZXRob2RJbnZvY2F0aW9uT2JqZWN0XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRha2UgKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5nZW5lcmF0ZUtleShtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKTtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKFwiUGVuZGluZ0F1dGhlbnRpdGNhdGlvbnMgOjogdGFrZVwiLCB7a2V5LCBtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VufSk7XG4gICAgICAgIFxuICAgICAgICAvLyBmaW5kIG1hdGNoZXNcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHRoaXMuc3RvcmUuZmlsdGVyKCBlID0+IGUua2V5ID09PSBrZXkgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIHJlbW92ZSBtYXRjaGVzIChpZiBhbnkpXG4gICAgICAgIGlmKG1hdGNoZXMubGVuZ3RoKSB7IFxuICAgICAgICAgICAgdGhpcy5zdG9yZSA9IHRoaXMuc3RvcmUuZmlsdGVyKCBlID0+IGUua2V5ICE9PSBrZXkgKSA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXR1cm4gbWF0Y2hlc1xuICAgICAgICByZXR1cm4gbWF0Y2hlcztcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBuZXcgUGVuZGluZ0F1dGhlbnRpdGNhdGlvbnMoKTsiLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVJlbW92ZVVzZXIgZnJvbSAnLi9oYW5kbGVycy9yZW1vdmVVc2VyJztcbmltcG9ydCBoYW5kbGVVc2VySm9pbmVkIGZyb20gJy4vaGFuZGxlcnMvdXNlckpvaW5lZCc7XG5pbXBvcnQgaGFuZGxlVmFsaWRhdGVBdXRoVG9rZW4gZnJvbSAnLi9oYW5kbGVycy92YWxpZGF0ZUF1dGhUb2tlbic7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGVyQXNzaWduZWQgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50ZXJBc3NpZ25lZCc7XG5pbXBvcnQgaGFuZGxlRW1vamlTdGF0dXMgZnJvbSAnLi9oYW5kbGVycy9lbW9qaVN0YXR1cyc7XG5pbXBvcnQgaGFuZGxlR2V0VXNlcnMgZnJvbSAnLi9oYW5kbGVycy9nZXRVc2Vycyc7XG5pbXBvcnQgaGFuZGxlVXNlckVqZWN0ZWQgZnJvbSAnLi9oYW5kbGVycy91c2VyRWplY3RlZCc7XG5pbXBvcnQgaGFuZGxlQ2hhbmdlUm9sZSBmcm9tICcuL2hhbmRsZXJzL2NoYW5nZVJvbGUnO1xuaW1wb3J0IGhhbmRsZVVzZXJJbmFjdGl2aXR5SW5zcGVjdCBmcm9tICcuL2hhbmRsZXJzL3VzZXJJbmFjdGl2aXR5SW5zcGVjdCc7XG5cblJlZGlzUHViU3ViLm9uKCdQcmVzZW50ZXJBc3NpZ25lZEV2dE1zZycsIGhhbmRsZVByZXNlbnRlckFzc2lnbmVkKTtcblJlZGlzUHViU3ViLm9uKCdVc2VySm9pbmVkTWVldGluZ0V2dE1zZycsIGhhbmRsZVVzZXJKb2luZWQpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJMZWZ0TWVldGluZ0V2dE1zZycsIGhhbmRsZVJlbW92ZVVzZXIpO1xuUmVkaXNQdWJTdWIub24oJ1ZhbGlkYXRlQXV0aFRva2VuUmVzcE1zZycsIGhhbmRsZVZhbGlkYXRlQXV0aFRva2VuKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyRW1vamlDaGFuZ2VkRXZ0TXNnJywgaGFuZGxlRW1vamlTdGF0dXMpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRVc2Vyc01lZXRpbmdSZXNwTXNnJywgaGFuZGxlR2V0VXNlcnMpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJFamVjdGVkRnJvbU1lZXRpbmdFdnRNc2cnLCBoYW5kbGVVc2VyRWplY3RlZCk7XG5SZWRpc1B1YlN1Yi5vbignVXNlclJvbGVDaGFuZ2VkRXZ0TXNnJywgaGFuZGxlQ2hhbmdlUm9sZSk7XG5SZWRpc1B1YlN1Yi5vbignVXNlckluYWN0aXZpdHlJbnNwZWN0TXNnJywgaGFuZGxlVXNlckluYWN0aXZpdHlJbnNwZWN0KTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHZhbGlkYXRlQXV0aFRva2VuIGZyb20gJy4vbWV0aG9kcy92YWxpZGF0ZUF1dGhUb2tlbic7XG5pbXBvcnQgc2V0RW1vamlTdGF0dXMgZnJvbSAnLi9tZXRob2RzL3NldEVtb2ppU3RhdHVzJztcbmltcG9ydCBhc3NpZ25QcmVzZW50ZXIgZnJvbSAnLi9tZXRob2RzL2Fzc2lnblByZXNlbnRlcic7XG5pbXBvcnQgY2hhbmdlUm9sZSBmcm9tICcuL21ldGhvZHMvY2hhbmdlUm9sZSc7XG5pbXBvcnQgcmVtb3ZlVXNlciBmcm9tICcuL21ldGhvZHMvcmVtb3ZlVXNlcic7XG5pbXBvcnQgdG9nZ2xlVXNlckxvY2sgZnJvbSAnLi9tZXRob2RzL3RvZ2dsZVVzZXJMb2NrJztcbmltcG9ydCBzZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUgZnJvbSAnLi9tZXRob2RzL3NldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZSc7XG5pbXBvcnQgdXNlckFjdGl2aXR5U2lnbiBmcm9tICcuL21ldGhvZHMvdXNlckFjdGl2aXR5U2lnbic7XG5pbXBvcnQgdXNlckxlZnRNZWV0aW5nIGZyb20gJy4vbWV0aG9kcy91c2VyTGVmdE1lZXRpbmcnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHNldEVtb2ppU3RhdHVzLFxuICBhc3NpZ25QcmVzZW50ZXIsXG4gIGNoYW5nZVJvbGUsXG4gIHJlbW92ZVVzZXIsXG4gIHZhbGlkYXRlQXV0aFRva2VuLFxuICB0b2dnbGVVc2VyTG9jayxcbiAgc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLFxuICB1c2VyQWN0aXZpdHlTaWduLFxuICB1c2VyTGVmdE1lZXRpbmcsXG59KTtcbiIsImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5pbXBvcnQgdXNlckxlYXZpbmcgZnJvbSAnLi9tZXRob2RzL3VzZXJMZWF2aW5nJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBST0xFX01PREVSQVRPUiA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMudXNlci5yb2xlX21vZGVyYXRvcjtcblxuZnVuY3Rpb24gY3VycmVudFVzZXIoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVXNlcnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlcXVlc3RlclVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBjb25uZWN0aW9uSWQgPSB0aGlzLmNvbm5lY3Rpb24uaWQ7XG4gIGNvbnN0IG9uQ2xvc2VDb25uZWN0aW9uID0gTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHVzZXJMZWF2aW5nKG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBjb25uZWN0aW9uSWQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXhjZXB0aW9uIHdoaWxlIGV4ZWN1dGluZyB1c2VyTGVhdmluZzogJHtlfWApO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5fc2Vzc2lvbi5zb2NrZXQub24oJ2Nsb3NlJywgXy5kZWJvdW5jZShvbkNsb3NlQ29ubmVjdGlvbiwgMTAwKSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgZmllbGRzOiB7XG4gICAgICB1c2VyOiBmYWxzZSxcbiAgICAgIGF1dGhUb2tlbjogZmFsc2UsIC8vIE5vdCBhc2tpbmcgZm9yIGF1dGhUb2tlbiBmcm9tIGNsaWVudCBzaWRlIGJ1dCBhbHNvIG5vdCBleHBvc2luZyBpdFxuICAgIH0sXG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzLmZpbmQoc2VsZWN0b3IsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoQ3VycmVudFVzZXIoLi4uYXJncykge1xuICBjb25zdCBib3VuZFVzZXJzID0gY3VycmVudFVzZXIuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVXNlcnMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdjdXJyZW50LXVzZXInLCBwdWJsaXNoQ3VycmVudFVzZXIpO1xuXG5mdW5jdGlvbiB1c2Vycyhyb2xlKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVXNlcnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICAkb3I6IFtcbiAgICAgIHsgbWVldGluZ0lkIH0sXG4gICAgXSxcbiAgfTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7IHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLCBtZWV0aW5nSWQgfSwgeyBmaWVsZHM6IHsgcm9sZTogMSB9IH0pO1xuICBpZiAoISFVc2VyICYmIFVzZXIucm9sZSA9PT0gUk9MRV9NT0RFUkFUT1IpIHtcbiAgICBzZWxlY3Rvci4kb3IucHVzaCh7XG4gICAgICAnYnJlYWtvdXRQcm9wcy5pc0JyZWFrb3V0VXNlcic6IHRydWUsXG4gICAgICAnYnJlYWtvdXRQcm9wcy5wYXJlbnRJZCc6IG1lZXRpbmdJZCxcbiAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdvbmxpbmUnLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIGF1dGhUb2tlbjogZmFsc2UsXG4gICAgICBsYXN0UGluZzogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgVXNlcnMnLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBVc2Vycy5maW5kKHNlbGVjdG9yLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kVXNlcnMgPSB1c2Vycy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRVc2VycyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3VzZXJzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVXNlcnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigndXNlcnMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgdXNlcnM6XG4gIC8vIDEuIG1lZXRpbmdJZFxuICAvLyAyLiBtZWV0aW5nSWQsIHVzZXJJZFxuXG4gIFVzZXJzLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgdXNlcklkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VycztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRVc2VySW5mbyBmcm9tICcuLi9tb2RpZmllcnMvYWRkVXNlckluZm8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVVc2VySW5mb3JtYXRpb24oeyBoZWFkZXIsIGJvZHkgfSkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuICBjaGVjayhoZWFkZXIsIE9iamVjdCk7XG5cbiAgY29uc3QgeyB1c2VySW5mbyB9ID0gYm9keTtcbiAgY29uc3QgeyB1c2VySWQsIG1lZXRpbmdJZCB9ID0gaGVhZGVyO1xuXG4gIGNoZWNrKHVzZXJJbmZvLCBBcnJheSk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIHJldHVybiBhZGRVc2VySW5mbyh1c2VySW5mbywgdXNlcklkLCBtZWV0aW5nSWQpO1xufVxuIiwiaW1wb3J0IFVzZXJJbmZvcyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVVzZXJJbmZvcm1hdGlvbigpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVXNlckluZm9zLnJlbW92ZShzZWxlY3Rvcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIHVzZXIgaW5mb3JtYXRpb246IHJlcXVlc3RlciBpZD0ke3JlcXVlc3RlclVzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgdXNlciBpbmZvcm1hdGlvbiBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VXNlckluZm9ybWF0aW9uKGV4dGVybmFsVXNlcklkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvVGhpcmRQYXJ0eTtcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdMb29rVXBVc2VyUmVxTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhleHRlcm5hbFVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGV4dGVybmFsVXNlcklkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFVzZXJJbmZvcyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRVc2VySW5mbyh1c2VySW5mbywgcmVxdWVzdGVyVXNlcklkLCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgaW5mbyA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVxdWVzdGVyVXNlcklkLFxuICAgIHVzZXJJbmZvLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2VySW5mb3MuaW5zZXJ0KGluZm8pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgdXNlciBpbmZvcm1hdGlvbjogcmVxdWVzdGVyIGlkPSR7cmVxdWVzdGVyVXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgdXNlciBpbmZvcm1hdGlvbiB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFVzZXJJbmZvcyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclVzZXJzSW5mbyhtZWV0aW5nSWQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJJbmZvcy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFVzZXIgSW5mb3MgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgVXNlciBJbmZvcyAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBVc2VySW5mb3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJVc2Vyc0luZm9Gb3JSZXF1ZXN0ZXIobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJJbmZvcy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFVzZXIgSW5mb3MgcmVxdWVzdGVkIGJ5IHVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuaW5mbyhgRXJyb3Igb24gY2xlYXJpbmcgVXNlciBJbmZvcyByZXF1ZXN0ZWQgYnkgdXNlcj0ke3JlcXVlc3RlclVzZXJJZH0uICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVVzZXJJbmZvcm1hdGlvbiBmcm9tICcuL2hhbmRsZXJzL3VzZXJJbmZvcm1hdGlvbic7XG5cblJlZGlzUHViU3ViLm9uKCdMb29rVXBVc2VyUmVzcE1zZycsIGhhbmRsZVVzZXJJbmZvcm1hdGlvbik7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCByZXF1ZXN0VXNlckluZm9ybWF0aW9uIGZyb20gJy4vbWV0aG9kcy9yZXF1ZXN0VXNlckluZm9ybWF0aW9uJztcbmltcG9ydCByZW1vdmVVc2VySW5mb3JtYXRpb24gZnJvbSAnLi9tZXRob2RzL3JlbW92ZVVzZXJJbmZvcm1hdGlvbic7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcmVxdWVzdFVzZXJJbmZvcm1hdGlvbixcbiAgcmVtb3ZlVXNlckluZm9ybWF0aW9uLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBVc2VySW5mb3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiB1c2VySW5mb3MoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVXNlckluZm9zLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIHVzZXIgaW5mb3MgcmVxdWVzdGVkJywgeyByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIFVzZXJJbmZvcy5maW5kKHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFVzZXJJbmZvcyA9IHVzZXJJbmZvcy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRVc2VySW5mb3MoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd1c2Vycy1pbmZvcycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFVzZXJJbmZvcyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd1c2Vycy1pbmZvcycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIFVzZXJJbmZvcy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHVzZXJJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm9zO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZFVzZXJTZXR0aW5nIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFVzZXJTZXR0aW5nJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBvbGRQYXJhbWV0ZXJzID0ge1xuICBhc2tGb3JGZWVkYmFja09uTG9nb3V0OiAnYmJiX2Fza19mb3JfZmVlZGJhY2tfb25fbG9nb3V0JyxcbiAgYXV0b0pvaW46ICdiYmJfYXV0b19qb2luX2F1ZGlvJyxcbiAgYXV0b1NoYXJlV2ViY2FtOiAnYmJiX2F1dG9fc2hhcmVfd2ViY2FtJyxcbiAgYXV0b1N3YXBMYXlvdXQ6ICdiYmJfYXV0b19zd2FwX2xheW91dCcsXG4gIGNsaWVudFRpdGxlOiAnYmJiX2NsaWVudF90aXRsZScsXG4gIGN1c3RvbVN0eWxlOiAnYmJiX2N1c3RvbV9zdHlsZScsXG4gIGN1c3RvbVN0eWxlVXJsOiAnYmJiX2N1c3RvbV9zdHlsZV91cmwnLFxuICBkaXNwbGF5QnJhbmRpbmdBcmVhOiAnYmJiX2Rpc3BsYXlfYnJhbmRpbmdfYXJlYScsXG4gIGVuYWJsZVNjcmVlbnNoYXJpbmc6ICdiYmJfZW5hYmxlX3NjcmVlbl9zaGFyaW5nJyxcbiAgZW5hYmxlVmlkZW86ICdiYmJfZW5hYmxlX3ZpZGVvJyxcbiAgZm9yY2VMaXN0ZW5Pbmx5OiAnYmJiX2ZvcmNlX2xpc3Rlbl9vbmx5JyxcbiAgaGlkZVByZXNlbnRhdGlvbjogJ2JiYl9oaWRlX3ByZXNlbnRhdGlvbicsXG4gIGxpc3Rlbk9ubHlNb2RlOiAnYmJiX2xpc3Rlbl9vbmx5X21vZGUnLFxuICBtdWx0aVVzZXJQZW5Pbmx5OiAnYmJiX211bHRpX3VzZXJfcGVuX29ubHknLFxuICBtdWx0aVVzZXJUb29sczogJ2JiYl9tdWx0aV91c2VyX3Rvb2xzJyxcbiAgb3V0c2lkZVRvZ2dsZVJlY29yZGluZzogJ2JiYl9vdXRzaWRlX3RvZ2dsZV9yZWNvcmRpbmcnLFxuICBvdXRzaWRlVG9nZ2xlU2VsZlZvaWNlOiAnYmJiX291dHNpZGVfdG9nZ2xlX3NlbGZfdm9pY2UnLFxuICBwcmVzZW50ZXJUb29sczogJ2JiYl9wcmVzZW50ZXJfdG9vbHMnLFxuICBzaG9ydGN1dHM6ICdiYmJfc2hvcnRjdXRzJyxcbiAgc2tpcENoZWNrOiAnYmJiX3NraXBfY2hlY2tfYXVkaW8nLFxufTtcblxuY29uc3Qgb2xkUGFyYW1ldGVyc0tleXMgPSBPYmplY3Qua2V5cyhvbGRQYXJhbWV0ZXJzKTtcblxuY29uc3QgY3VycmVudFBhcmFtZXRlcnMgPSBbXG4gIC8vIEFQUFxuICAnYmJiX2Fza19mb3JfZmVlZGJhY2tfb25fbG9nb3V0JyxcbiAgJ2JiYl9hdXRvX2pvaW5fYXVkaW8nLFxuICAnYmJiX2NsaWVudF90aXRsZScsXG4gICdiYmJfZm9yY2VfbGlzdGVuX29ubHknLFxuICAnYmJiX2xpc3Rlbl9vbmx5X21vZGUnLFxuICAnYmJiX3NraXBfY2hlY2tfYXVkaW8nLFxuICAvLyBCUkFORElOR1xuICAnYmJiX2Rpc3BsYXlfYnJhbmRpbmdfYXJlYScsXG4gIC8vIFNIT1JUQ1VUU1xuICAnYmJiX3Nob3J0Y3V0cycsXG4gIC8vIEtVUkVOVE9cbiAgJ2JiYl9hdXRvX3NoYXJlX3dlYmNhbScsXG4gICdiYmJfcHJlZmVycmVkX2NhbWVyYV9wcm9maWxlJyxcbiAgJ2JiYl9lbmFibGVfc2NyZWVuX3NoYXJpbmcnLFxuICAnYmJiX2VuYWJsZV92aWRlbycsXG4gICdiYmJfcmVjb3JkX3ZpZGVvJyxcbiAgJ2JiYl9za2lwX3ZpZGVvX3ByZXZpZXcnLFxuICAnYmJiX21pcnJvcl9vd25fd2ViY2FtJyxcbiAgLy8gUFJFU0VOVEFUSU9OXG4gICdiYmJfZm9yY2VfcmVzdG9yZV9wcmVzZW50YXRpb25fb25fbmV3X2V2ZW50cycsXG4gIC8vIFdISVRFQk9BUkRcbiAgJ2JiYl9tdWx0aV91c2VyX3Blbl9vbmx5JyxcbiAgJ2JiYl9wcmVzZW50ZXJfdG9vbHMnLFxuICAnYmJiX211bHRpX3VzZXJfdG9vbHMnLFxuICAvLyBTS0lOTklORy9USEVNTUlOR1xuICAnYmJiX2N1c3RvbV9zdHlsZScsXG4gICdiYmJfY3VzdG9tX3N0eWxlX3VybCcsXG4gIC8vIExBWU9VVFxuICAnYmJiX2F1dG9fc3dhcF9sYXlvdXQnLFxuICAnYmJiX2hpZGVfcHJlc2VudGF0aW9uJyxcbiAgJ2JiYl9zaG93X3BhcnRpY2lwYW50c19vbl9sb2dpbicsXG4gICdiYmJfc2hvd19wdWJsaWNfY2hhdF9vbl9sb2dpbicsXG4gIC8vIE9VVFNJREUgQ09NTUFORFNcbiAgJ2JiYl9vdXRzaWRlX3RvZ2dsZV9zZWxmX3ZvaWNlJyxcbiAgJ2JiYl9vdXRzaWRlX3RvZ2dsZV9yZWNvcmRpbmcnLFxuXTtcblxuZnVuY3Rpb24gdmFsdWVQYXJzZXIodmFsKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcGFyc2VkVmFsdWUgPSBKU09OLnBhcnNlKHZhbC50b0xvd2VyQ2FzZSgpLnRyaW0oKSk7XG4gICAgcmV0dXJuIHBhcnNlZFZhbHVlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci53YXJuKGBhZGRVc2VyU2V0dGluZ3M6UGFyYW1ldGVyICR7dmFsfSBjb3VsZCBub3QgYmUgcGFyc2VkICh3YXMgbm90IGpzb24pYCk7XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRVc2VyU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgY2hlY2soc2V0dGluZ3MsIFtPYmplY3RdKTtcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgbGV0IHBhcmFtZXRlcnMgPSB7fTtcblxuICBzZXR0aW5ncy5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnN0IHNldHRpbmdLZXkgPSBPYmplY3Qua2V5cyhlbCkuc2hpZnQoKTtcbiAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gc2V0dGluZ0tleS50cmltKCk7XG5cbiAgICBpZiAoY3VycmVudFBhcmFtZXRlcnMuaW5jbHVkZXMobm9ybWFsaXplZEtleSkpIHtcbiAgICAgIGlmICghT2JqZWN0LmtleXMocGFyYW1ldGVycykuaW5jbHVkZXMobm9ybWFsaXplZEtleSkpIHtcbiAgICAgICAgcGFyYW1ldGVycyA9IHtcbiAgICAgICAgICBbbm9ybWFsaXplZEtleV06IHZhbHVlUGFyc2VyKGVsW3NldHRpbmdLZXldKSxcbiAgICAgICAgICAuLi5wYXJhbWV0ZXJzLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1ldGVyc1tub3JtYWxpemVkS2V5XSA9IGVsW3NldHRpbmdLZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvbGRQYXJhbWV0ZXJzS2V5cy5pbmNsdWRlcyhub3JtYWxpemVkS2V5KSkge1xuICAgICAgY29uc3QgbWF0Y2hpbmdOZXdLZXkgPSBvbGRQYXJhbWV0ZXJzW25vcm1hbGl6ZWRLZXldO1xuICAgICAgaWYgKCFPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKS5pbmNsdWRlcyhtYXRjaGluZ05ld0tleSkpIHtcbiAgICAgICAgcGFyYW1ldGVycyA9IHtcbiAgICAgICAgICBbbWF0Y2hpbmdOZXdLZXldOiB2YWx1ZVBhcnNlcihlbFtzZXR0aW5nS2V5XSksXG4gICAgICAgICAgLi4ucGFyYW1ldGVycyxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsb2dnZXIud2FybihgUGFyYW1ldGVyICR7bm9ybWFsaXplZEtleX0gbm90IGhhbmRsZWRgKTtcbiAgfSk7XG5cbiAgY29uc3Qgc2V0dGluZ3NBZGRlZCA9IFtdO1xuICBPYmplY3QuZW50cmllcyhwYXJhbWV0ZXJzKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnN0IHNldHRpbmcgPSBlbFswXTtcbiAgICBjb25zdCB2YWx1ZSA9IGVsWzFdO1xuICAgIHNldHRpbmdzQWRkZWQucHVzaChhZGRVc2VyU2V0dGluZyhtZWV0aW5nSWQsIHVzZXJJZCwgc2V0dGluZywgdmFsdWUpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHNldHRpbmdzQWRkZWQ7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVXNlclNldHRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFVzZXJTZXR0aW5nKG1lZXRpbmdJZCwgdXNlcklkLCBzZXR0aW5nLCB2YWx1ZSkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soc2V0dGluZywgU3RyaW5nKTtcbiAgY2hlY2sodmFsdWUsIE1hdGNoLkFueSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBzZXR0aW5nLFxuICB9O1xuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBzZXR0aW5nLFxuICAgICAgdmFsdWUsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgbnVtYmVyQWZmZWN0ZWQgfSA9IFVzZXJTZXR0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLnZlcmJvc2UoJ1Vwc2VydGVkIHVzZXIgc2V0dGluZycsIHsgbWVldGluZ0lkLCB1c2VySWQsIHNldHRpbmcgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyB1c2VyIHNldHRpbmcgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBVc2VyU2V0dGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJVc2Vyc1NldHRpbmdzKG1lZXRpbmdJZCkge1xuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVXNlclNldHRpbmdzLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgVXNlciBTZXR0aW5ncyAoJHttZWV0aW5nSWR9KWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBVc2VyIFNldHRpbmdzICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgYWRkVXNlclNldHRpbmdzIGZyb20gJy4vbWV0aG9kcy9hZGRVc2VyU2V0dGluZ3MnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGFkZFVzZXJTZXR0aW5ncyxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgVXNlclNldHRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBVc2VyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmZ1bmN0aW9uIHVzZXJTZXR0aW5ncygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBVc2VyU2V0dGluZ3MuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBjdXJyZW50VXNlciA9IFVzZXIuZmluZE9uZSh7IHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIGlmIChjdXJyZW50VXNlciAmJiBjdXJyZW50VXNlci5icmVha291dFByb3BzLmlzQnJlYWtvdXRVc2VyKSB7XG4gICAgY29uc3QgeyBwYXJlbnRJZCB9ID0gY3VycmVudFVzZXIuYnJlYWtvdXRQcm9wcztcblxuICAgIGNvbnN0IFtleHRlcm5hbElkXSA9IGN1cnJlbnRVc2VyLmV4dElkLnNwbGl0KCctJyk7XG5cbiAgICBjb25zdCBtYWluUm9vbVVzZXJTZXR0aW5ncyA9IFVzZXJTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkOiBwYXJlbnRJZCwgdXNlcklkOiBleHRlcm5hbElkIH0pO1xuXG4gICAgbWFpblJvb21Vc2VyU2V0dGluZ3MubWFwKCh7IHNldHRpbmcsIHZhbHVlIH0pID0+ICh7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBzZXR0aW5nLFxuICAgICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgICB2YWx1ZSxcbiAgICB9KSkuZm9yRWFjaCgoZG9jKSA9PiB7XG4gICAgICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICBzZXR0aW5nOiBkb2Muc2V0dGluZyxcbiAgICAgIH07XG5cbiAgICAgIFVzZXJTZXR0aW5ncy51cHNlcnQoc2VsZWN0b3IsIGRvYyk7XG4gICAgfSk7XG5cbiAgICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgdXNlciBzZXR0aW5ncycsIHsgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gICAgcmV0dXJuIFVzZXJTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkLCB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCB9KTtcbiAgfVxuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyB1c2VyIHNldHRpbmdzJywgeyByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIFVzZXJTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkLCB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kVXNlclNldHRpbmdzID0gdXNlclNldHRpbmdzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFVzZXJTZXR0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3VzZXJzLXNldHRpbmdzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVXNlclNldHRpbmdzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3VzZXJzLXNldHRpbmdzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgVXNlclNldHRpbmdzLl9lbnN1cmVJbmRleCh7XG4gICAgbWVldGluZ0lkOiAxLCB1c2VySWQ6IDEsXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyU2V0dGluZ3M7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgc2hhcmVkV2ViY2FtIGZyb20gJy4uL21vZGlmaWVycy9zaGFyZWRXZWJjYW0nO1xuaW1wb3J0IHsgaXNWYWxpZFN0cmVhbSB9IGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVXNlclNoYXJlZEh0bWw1V2ViY2FtKHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJJZCwgc3RyZWFtIH0gPSBib2R5O1xuXG4gIGNoZWNrKGhlYWRlciwgT2JqZWN0KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICBpZiAoIWlzVmFsaWRTdHJlYW0oc3RyZWFtKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiBzaGFyZWRXZWJjYW0obWVldGluZ0lkLCB1c2VySWQsIHN0cmVhbSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgdW5zaGFyZWRXZWJjYW0gZnJvbSAnLi4vbW9kaWZpZXJzL3Vuc2hhcmVkV2ViY2FtJztcbmltcG9ydCB7IGlzVmFsaWRTdHJlYW0gfSBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJVbnNoYXJlZEh0bWw1V2ViY2FtKHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJJZCwgc3RyZWFtIH0gPSBib2R5O1xuXG4gIGNoZWNrKGhlYWRlciwgT2JqZWN0KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICBpZiAoIWlzVmFsaWRTdHJlYW0oc3RyZWFtKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB1bnNoYXJlZFdlYmNhbShtZWV0aW5nSWQsIHVzZXJJZCwgc3RyZWFtKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyU2hhcmVXZWJjYW0oc3RyZWFtKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckJyb2FkY2FzdENhbVN0YXJ0TXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgdXNlciBzaGFyaW5nIHdlYmNhbTogJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICAvLyBjb25zdCBhY3Rpb25OYW1lID0gJ2pvaW5WaWRlbyc7XG4gIC8qIFRPRE8gdGhyb3cgYW4gZXJyb3IgaWYgdXNlciBoYXMgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB3ZWJjYW1cbiAgaWYgKCFpc0FsbG93ZWRUbyhhY3Rpb25OYW1lLCBjcmVkZW50aWFscykpIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdub3QtYWxsb3dlZCcsIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHNoYXJlIHdlYmNhbWApO1xuICB9ICovXG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBzdHJlYW0sXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlclVuc2hhcmVXZWJjYW0oc3RyZWFtKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckJyb2FkY2FzdENhbVN0b3BNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5pbmZvKGB1c2VyIHVuc2hhcmluZyB3ZWJjYW06ICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICBjaGVjayhzdHJlYW0sIFN0cmluZyk7XG5cbiAgLy8gY29uc3QgYWN0aW9uTmFtZSA9ICdqb2luVmlkZW8nO1xuICAvKiBUT0RPIHRocm93IGFuIGVycm9yIGlmIHVzZXIgaGFzIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgd2ViY2FtXG4gIGlmICghaXNBbGxvd2VkVG8oYWN0aW9uTmFtZSwgY3JlZGVudGlhbHMpKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm90LWFsbG93ZWQnLCBgWW91IGFyZSBub3QgYWxsb3dlZCB0byBzaGFyZSB3ZWJjYW1gKTtcbiAgfSAqL1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgc3RyZWFtLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZpZGVvU3RyZWFtcyBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyVmlkZW9TdHJlYW1zKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVmlkZW9TdHJlYW1zLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFZpZGVvU3RyZWFtcyBpbiAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBWaWRlb1N0cmVhbXMgKCR7IG1lZXRpbmdJZCB9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFZpZGVvU3RyZWFtcy5yZW1vdmUoe30pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgVmlkZW9TdHJlYW1zIGluIGFsbCBtZWV0aW5ncycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBWaWRlb1N0cmVhbXMgKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZpZGVvU3RyZWFtcyBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQge1xuICBnZXREZXZpY2VJZCxcbiAgZ2V0VXNlck5hbWUsXG59IGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hhcmVkV2ViY2FtKG1lZXRpbmdJZCwgdXNlcklkLCBzdHJlYW0pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICBjb25zdCBkZXZpY2VJZCA9IGdldERldmljZUlkKHN0cmVhbSk7XG4gIGNvbnN0IG5hbWUgPSBnZXRVc2VyTmFtZSh1c2VySWQpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgZGV2aWNlSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgc3RyZWFtLFxuICAgICAgbmFtZSxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBWaWRlb1N0cmVhbXMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwZGF0ZWQgc3RyZWFtPSR7c3RyZWFtfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBzZXR0aW5nIHN0cmVhbTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWaWRlb1N0cmVhbXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZ2V0RGV2aWNlSWQgfSBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuc2hhcmVkV2ViY2FtKG1lZXRpbmdJZCwgdXNlcklkLCBzdHJlYW0pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICBjb25zdCBkZXZpY2VJZCA9IGdldERldmljZUlkKHN0cmVhbSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBkZXZpY2VJZCxcbiAgfTtcblxuICB0cnkge1xuICAgIFZpZGVvU3RyZWFtcy5yZW1vdmUoc2VsZWN0b3IpO1xuXG4gICAgTG9nZ2VyLmluZm8oYFJlbW92ZWQgc3RyZWFtPSR7c3RyZWFtfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHJlbW92aW5nIHN0cmVhbTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlVXNlclNoYXJlZEh0bWw1V2ViY2FtIGZyb20gJy4vaGFuZGxlcnMvdXNlclNoYXJlZEh0bWw1V2ViY2FtJztcbmltcG9ydCBoYW5kbGVVc2VyVW5zaGFyZWRIdG1sNVdlYmNhbSBmcm9tICcuL2hhbmRsZXJzL3VzZXJVbnNoYXJlZEh0bWw1V2ViY2FtJztcblxuUmVkaXNQdWJTdWIub24oJ1VzZXJCcm9hZGNhc3RDYW1TdGFydGVkRXZ0TXNnJywgaGFuZGxlVXNlclNoYXJlZEh0bWw1V2ViY2FtKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyQnJvYWRjYXN0Q2FtU3RvcHBlZEV2dE1zZycsIGhhbmRsZVVzZXJVbnNoYXJlZEh0bWw1V2ViY2FtKTtcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5jb25zdCBGTEFTSF9TVFJFQU1fUkVHRVggPSAvXihbQS16MC05XSspLShbQS16MC05XSspLShbQS16MC05XSspKC1yZWNvcmRlZCk/JC87XG5jb25zdCBUT0tFTiA9ICdfJztcblxuY29uc3QgaXNWYWxpZFN0cmVhbSA9IHN0cmVhbSA9PiAhRkxBU0hfU1RSRUFNX1JFR0VYLnRlc3Qoc3RyZWFtKTtcbmNvbnN0IGdldERldmljZUlkID0gKHN0cmVhbSkgPT4ge1xuICBjb25zdCBzcGxpdFN0cmVhbSA9IHN0cmVhbS5zcGxpdChUT0tFTik7XG4gIGlmIChzcGxpdFN0cmVhbS5sZW5ndGggPT09IDMpIHJldHVybiBzcGxpdFN0cmVhbVsyXTtcbiAgTG9nZ2VyLndhcm4oYENvdWxkIG5vdCBnZXQgZGV2aWNlSWQgZnJvbSBzdHJlYW09JHtzdHJlYW19YCk7XG4gIHJldHVybiBzdHJlYW07XG59O1xuXG5jb25zdCBnZXRVc2VyTmFtZSA9ICh1c2VySWQpID0+IHtcbiAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoXG4gICAgeyB1c2VySWQgfSxcbiAgICB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSxcbiAgKTtcbiAgaWYgKHVzZXIpIHJldHVybiB1c2VyLm5hbWU7XG4gIHJldHVybiB1c2VySWQ7XG59O1xuXG5leHBvcnQge1xuICBpc1ZhbGlkU3RyZWFtLFxuICBnZXREZXZpY2VJZCxcbiAgZ2V0VXNlck5hbWUsXG59O1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcic7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB1c2VyU2hhcmVXZWJjYW0gZnJvbSAnLi9tZXRob2RzL3VzZXJTaGFyZVdlYmNhbSc7XG5pbXBvcnQgdXNlclVuc2hhcmVXZWJjYW0gZnJvbSAnLi9tZXRob2RzL3VzZXJVbnNoYXJlV2ViY2FtJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB1c2VyU2hhcmVXZWJjYW0sXG4gIHVzZXJVbnNoYXJlV2ViY2FtLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWaWRlb1N0cmVhbXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHZpZGVvU3RyZWFtcygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBWaWRlb1N0cmVhbXMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIHZpZGVvIHVzZXJzJywgeyBtZWV0aW5nSWQgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIHJldHVybiBWaWRlb1N0cmVhbXMuZmluZChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFZpZGVvU3RyZWFtcyA9IHZpZGVvU3RyZWFtcy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRWaWRlb1N0cmVhbXMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd2aWRlby1zdHJlYW1zJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVmlkZW9TdHJlYW1zID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ZpZGVvLXN0cmVhbXMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgdmlkZW8gdXNlcnM6XG4gIC8vIDIuIG1lZXRpbmdJZFxuXG4gIFZpZGVvU3RyZWFtcy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZGVvU3RyZWFtcztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBWb2ljZUNhbGxTdGF0ZSBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG4vLyBcIkNBTExfU1RBUlRFRFwiLCBcIklOX0VDSE9fVEVTVFwiLCBcIklOX0NPTkZFUkVOQ0VcIiwgXCJDQUxMX0VOREVEXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVm9pY2VDYWxsU3RhdGVFdmVudCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHtcbiAgICB2b2ljZUNvbmYsXG4gICAgY2xpZW50U2Vzc2lvbixcbiAgICB1c2VySWQsXG4gICAgY2FsbGVyTmFtZSxcbiAgICBjYWxsU3RhdGUsXG4gIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VDb25mLCBTdHJpbmcpO1xuICBjaGVjayhjbGllbnRTZXNzaW9uLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGNhbGxlck5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGNhbGxTdGF0ZSwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICAgIGNsaWVudFNlc3Npb24sXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgdXNlcklkLFxuICAgICAgdm9pY2VDb25mLFxuICAgICAgY2xpZW50U2Vzc2lvbixcbiAgICAgIGNhbGxTdGF0ZSxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gVm9pY2VDYWxsU3RhdGUudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5kZWJ1ZygnVXBkYXRlIHZvaWNlIGNhbGwnLCB7XG4gICAgICAgIHN0YXRlOiB1c2VySWQsIG1lZXRpbmdJZCwgY2xpZW50U2Vzc2lvbiwgY2FsbFN0YXRlLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFVwZGF0ZSB2b2ljZSBjYWxsIHN0YXRlPSR7dXNlcklkfTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWb2ljZUNhbGxTdGF0ZXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJWb2ljZUNhbGxTdGF0ZXMobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBWb2ljZUNhbGxTdGF0ZXMucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgVm9pY2VDYWxsU3RhdGVzIGluICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgRXJyb3Igb24gY2xlYXJpbmcgVm9pY2VDYWxsU3RhdGVzIGluICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVm9pY2VDYWxsU3RhdGVzLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBWb2ljZUNhbGxTdGF0ZXMgaW4gYWxsIG1lZXRpbmdzJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIFZvaWNlQ2FsbFN0YXRlcyBpbiBhbGwgbWVldGluZ3MuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVWb2ljZUNhbGxTdGF0ZUV2ZW50IGZyb20gJy4vaGFuZGxlcnMvdm9pY2VDYWxsU3RhdGVFdmVudCc7XG5cblJlZGlzUHViU3ViLm9uKCdWb2ljZUNhbGxTdGF0ZUV2dE1zZycsIGhhbmRsZVZvaWNlQ2FsbFN0YXRlRXZlbnQpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IFZvaWNlQ2FsbFN0YXRlcyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gdm9pY2VDYWxsU3RhdGVzKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFZvaWNlQ2FsbFN0YXRlcy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBWb2ljZSBDYWxsIFN0YXRlcycsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIFZvaWNlQ2FsbFN0YXRlcy5maW5kKHsgbWVldGluZ0lkLCB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kVm9pY2VDYWxsU3RhdGVzID0gdm9pY2VDYWxsU3RhdGVzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFZvaWNlQ2FsbFN0YXRlcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3ZvaWNlLWNhbGwtc3RhdGVzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVm9pY2VDYWxsU3RhdGVzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ZvaWNlQ2FsbFN0YXRlcycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSB2b2ljZSB1c2VyczpcbiAgLy8gMS4gaW50SWRcbiAgLy8gMi4gbWVldGluZ0lkLCBpbnRJZFxuXG4gIFZvaWNlQ2FsbFN0YXRlcy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHVzZXJJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVm9pY2VDYWxsU3RhdGVzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzLyc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBhZGRWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFZvaWNlVXNlcic7XG5pbXBvcnQgcmVtb3ZlVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVWb2ljZVVzZXInO1xuaW1wb3J0IHVwZGF0ZVZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvdXBkYXRlVm9pY2VVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR2V0Vm9pY2VVc2Vycyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcnMgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VycywgQXJyYXkpO1xuXG4gIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0sIHsgZmllbGRzOiB7ICd2b2ljZVByb3Audm9pY2VDb25mJzogMSB9IH0pO1xuICBjb25zdCB1c2Vyc0lkcyA9IHVzZXJzLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHZvaWNlVXNlcnNJZHNUb1VwZGF0ZSA9IFZvaWNlVXNlcnMuZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkOiB7ICRpbjogdXNlcnNJZHMgfSxcbiAgfSwgeyBmaWVsZHM6IHsgaW50SWQ6IDEgfSB9KS5mZXRjaCgpLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHZvaWNlVXNlcnNVcGRhdGVkID0gW107XG4gIHVzZXJzLmZvckVhY2goKHVzZXIpID0+IHtcbiAgICBpZiAodm9pY2VVc2Vyc0lkc1RvVXBkYXRlLmluZGV4T2YodXNlci5pbnRJZCkgPj0gMCkge1xuICAgICAgLy8gdXNlciBhbHJlYWR5IGV4aXN0LCB0aGVuIHVwZGF0ZVxuICAgICAgdm9pY2VVc2Vyc1VwZGF0ZWQucHVzaCh1cGRhdGVWb2ljZVVzZXIobWVldGluZ0lkLCB7XG4gICAgICAgIGludElkOiB1c2VyLmludElkLFxuICAgICAgICB2b2ljZVVzZXJJZDogdXNlci52b2ljZVVzZXJJZCxcbiAgICAgICAgdGFsa2luZzogdXNlci50YWxraW5nLFxuICAgICAgICBtdXRlZDogdXNlci5tdXRlZCxcbiAgICAgICAgdm9pY2VDb25mOiBtZWV0aW5nLnZvaWNlUHJvcC52b2ljZUNvbmYsXG4gICAgICAgIGpvaW5lZDogdHJ1ZSxcbiAgICAgIH0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlciBkb2Vzbid0IGV4aXN0IHlldCwgdGhlbiBhZGQgaXRcbiAgICAgIGFkZFZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICAgICAgdm9pY2VVc2VySWQ6IHVzZXIudm9pY2VVc2VySWQsXG4gICAgICAgIGludElkOiB1c2VyLmludElkLFxuICAgICAgICBjYWxsZXJOYW1lOiB1c2VyLmNhbGxlck5hbWUsXG4gICAgICAgIGNhbGxlck51bTogdXNlci5jYWxsZXJOdW0sXG4gICAgICAgIG11dGVkOiB1c2VyLm11dGVkLFxuICAgICAgICB0YWxraW5nOiB1c2VyLnRhbGtpbmcsXG4gICAgICAgIGNhbGxpbmdXaXRoOiB1c2VyLmNhbGxpbmdXaXRoLFxuICAgICAgICBsaXN0ZW5Pbmx5OiB1c2VyLmxpc3Rlbk9ubHksXG4gICAgICAgIHZvaWNlQ29uZjogbWVldGluZy52b2ljZVByb3Audm9pY2VDb25mLFxuICAgICAgICBqb2luZWQ6IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHJlbW92aW5nIGV4dHJhIHVzZXJzIGFscmVhZHkgZXhpc3RpbmcgaW4gTW9uZ29cbiAgY29uc3Qgdm9pY2VVc2Vyc1RvUmVtb3ZlID0gVm9pY2VVc2Vycy5maW5kKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQ6IHsgJG5pbjogdXNlcnNJZHMgfSxcbiAgfSkuZmV0Y2goKTtcbiAgdm9pY2VVc2Vyc1RvUmVtb3ZlLmZvckVhY2godXNlciA9PiByZW1vdmVWb2ljZVVzZXIobWVldGluZ0lkLCB7XG4gICAgdm9pY2VDb25mOiBtZWV0aW5nLnZvaWNlUHJvcC52b2ljZUNvbmYsXG4gICAgdm9pY2VVc2VySWQ6IHVzZXIudm9pY2VVc2VySWQsXG4gICAgaW50SWQ6IHVzZXIuaW50SWQsXG4gIH0pKTtcblxuICByZXR1cm4gdm9pY2VVc2Vyc1VwZGF0ZWQ7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBhZGREaWFsSW5Vc2VyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZERpYWxJblVzZXInO1xuaW1wb3J0IGFkZFZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvYWRkVm9pY2VVc2VyJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVKb2luVm9pY2VVc2VyKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qgdm9pY2VVc2VyID0gYm9keTtcbiAgdm9pY2VVc2VyLmpvaW5lZCA9IHRydWU7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIHtcbiAgICB2b2ljZUNvbmY6IFN0cmluZyxcbiAgICBpbnRJZDogU3RyaW5nLFxuICAgIHZvaWNlVXNlcklkOiBTdHJpbmcsXG4gICAgY2FsbGVyTmFtZTogU3RyaW5nLFxuICAgIGNhbGxlck51bTogU3RyaW5nLFxuICAgIG11dGVkOiBCb29sZWFuLFxuICAgIHRhbGtpbmc6IEJvb2xlYW4sXG4gICAgY2FsbGluZ1dpdGg6IFN0cmluZyxcbiAgICBsaXN0ZW5Pbmx5OiBCb29sZWFuLFxuICAgIGpvaW5lZDogQm9vbGVhbixcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGludElkLFxuICB9ID0gdm9pY2VVc2VyO1xuXG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gICAgY29ubmVjdGlvblN0YXR1czogJ29ubGluZScsXG4gIH0pO1xuXG4gIGlmICghVXNlcikge1xuICAgIC8qIHZvaWNlLW9ubHkgdXNlciAtIGNhbGxlZCBpbnRvIHRoZSBjb25mZXJlbmNlICovXG4gICAgYWRkRGlhbEluVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcik7XG4gIH1cblxuICByZXR1cm4gYWRkVm9pY2VVc2VyKG1lZXRpbmdJZCwgdm9pY2VVc2VyKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuaW1wb3J0IHJlbW92ZVZvaWNlVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVWb2ljZVVzZXInO1xuaW1wb3J0IHJlbW92ZVVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvcmVtb3ZlVXNlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVm9pY2VVcGRhdGUoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB2b2ljZVVzZXIgPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VVc2VyLCB7XG4gICAgdm9pY2VDb25mOiBTdHJpbmcsXG4gICAgaW50SWQ6IFN0cmluZyxcbiAgICB2b2ljZVVzZXJJZDogU3RyaW5nLFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgaW50SWQsXG4gICAgdm9pY2VVc2VySWQsXG4gIH0gPSB2b2ljZVVzZXI7XG5cbiAgY29uc3QgaXNEaWFsSW5Vc2VyID0gKHVzZXJJZCwgbWVldGluZ0lEKSA9PiAhIVVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQ6IG1lZXRpbmdJRCwgdXNlcklkLCBjbGllbnRUeXBlOiAnZGlhbC1pbi11c2VyJyB9KTtcblxuICAvLyBpZiB0aGUgdXNlciBpcyBkaWFsLWluLCBsZWF2aW5nIHZvaWNlIGFsc28gbWVhbnMgbGVhdmluZyB1c2VybGlzdFxuICBpZiAoaXNEaWFsSW5Vc2VyKHZvaWNlVXNlcklkLCBtZWV0aW5nSWQpKSByZW1vdmVVc2VyKG1lZXRpbmdJZCwgaW50SWQpO1xuXG4gIHJldHVybiByZW1vdmVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpO1xufVxuIiwiaW1wb3J0IGNoYW5nZU11dGVNZWV0aW5nIGZyb20gJy4uL21vZGlmaWVycy9jaGFuZ2VNdXRlTWVldGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZU1lZXRpbmdNdXRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoYW5nZU11dGVNZWV0aW5nKG1lZXRpbmdJZCwgYm9keSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCB1cGRhdGVWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3VwZGF0ZVZvaWNlVXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZvaWNlVXBkYXRlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qgdm9pY2VVc2VyID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgLy8gSWYgYSBwZXJzb24gaXMgbXV0ZWQgd2UgaGF2ZSB0byBmb3JjZSB0aGVtIHRvIG5vdCB0YWxraW5nXG4gIGlmICh2b2ljZVVzZXIubXV0ZWQpIHtcbiAgICB2b2ljZVVzZXIudGFsa2luZyA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCB1cGRhdGVWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3VwZGF0ZVZvaWNlVXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZvaWNlVXBkYXRlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qgdm9pY2VVc2VyID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIHVwZGF0ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcik7XG59XG4iLCJpbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IGFkZERpYWxJblVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkRGlhbEluVXNlcic7XG5pbXBvcnQgcmVtb3ZlVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVWb2ljZVVzZXInO1xuaW1wb3J0IHVwZGF0ZVZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvdXBkYXRlVm9pY2VVc2VyJztcbmltcG9ydCBhZGRWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFZvaWNlVXNlcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVm9pY2VVc2Vycyh7IGhlYWRlciwgYm9keSB9KSB7XG4gIGNvbnN0IHsgdm9pY2VVc2VycyB9ID0gYm9keTtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGhlYWRlcjtcblxuICBjb25zdCBtZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9LCB7IGZpZWxkczogeyAndm9pY2VQcm9wLnZvaWNlQ29uZic6IDEgfSB9KTtcbiAgY29uc3QgdXNlcnNJZHMgPSB2b2ljZVVzZXJzLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHZvaWNlVXNlcnNJZHNUb1VwZGF0ZSA9IFZvaWNlVXNlcnMuZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkOiB7ICRpbjogdXNlcnNJZHMgfSxcbiAgfSwgeyBmaWVsZHM6IHsgaW50SWQ6IDEgfSB9KS5mZXRjaCgpLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHZvaWNlVXNlcnNVcGRhdGVkID0gW107XG4gIHZvaWNlVXNlcnMuZm9yRWFjaCgodm9pY2UpID0+IHtcbiAgICBpZiAodm9pY2VVc2Vyc0lkc1RvVXBkYXRlLmluZGV4T2Yodm9pY2UuaW50SWQpID49IDApIHtcbiAgICAgIC8vIHVzZXIgYWxyZWFkeSBleGlzdCwgdGhlbiB1cGRhdGVcbiAgICAgIHZvaWNlVXNlcnNVcGRhdGVkLnB1c2godXBkYXRlVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgICAgICBpbnRJZDogdm9pY2UuaW50SWQsXG4gICAgICAgIHZvaWNlVXNlcklkOiB2b2ljZS52b2ljZVVzZXJJZCxcbiAgICAgICAgdGFsa2luZzogdm9pY2UudGFsa2luZyxcbiAgICAgICAgbXV0ZWQ6IHZvaWNlLm11dGVkLFxuICAgICAgICB2b2ljZUNvbmY6IG1lZXRpbmcudm9pY2VQcm9wLnZvaWNlQ29uZixcbiAgICAgICAgam9pbmVkOiB0cnVlLFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2VyIGRvZXNuJ3QgZXhpc3QgeWV0LCB0aGVuIGFkZCBpdFxuICAgICAgYWRkVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgICAgICB2b2ljZVVzZXJJZDogdm9pY2Uudm9pY2VVc2VySWQsXG4gICAgICAgIGludElkOiB2b2ljZS5pbnRJZCxcbiAgICAgICAgY2FsbGVyTmFtZTogdm9pY2UuY2FsbGVyTmFtZSxcbiAgICAgICAgY2FsbGVyTnVtOiB2b2ljZS5jYWxsZXJOdW0sXG4gICAgICAgIG11dGVkOiB2b2ljZS5tdXRlZCxcbiAgICAgICAgdGFsa2luZzogdm9pY2UudGFsa2luZyxcbiAgICAgICAgY2FsbGluZ1dpdGg6IHZvaWNlLmNhbGxpbmdXaXRoLFxuICAgICAgICBsaXN0ZW5Pbmx5OiB2b2ljZS5saXN0ZW5Pbmx5LFxuICAgICAgICB2b2ljZUNvbmY6IG1lZXRpbmcudm9pY2VQcm9wLnZvaWNlQ29uZixcbiAgICAgICAgam9pbmVkOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIGFkZERpYWxJblVzZXIobWVldGluZ0lkLCB2b2ljZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyByZW1vdmluZyBleHRyYSB1c2VycyBhbHJlYWR5IGV4aXN0aW5nIGluIE1vbmdvXG4gIGNvbnN0IHZvaWNlVXNlcnNUb1JlbW92ZSA9IFZvaWNlVXNlcnMuZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkOiB7ICRuaW46IHVzZXJzSWRzIH0sXG4gIH0sIHsgZmllbGRzOiB7IHZvaWNlVXNlcklkOiAxLCBpbnRJZDogMSB9IH0pLmZldGNoKCk7XG4gIHZvaWNlVXNlcnNUb1JlbW92ZS5mb3JFYWNoKHVzZXIgPT4gcmVtb3ZlVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgIHZvaWNlQ29uZjogbWVldGluZy52b2ljZVByb3Audm9pY2VDb25mLFxuICAgIHZvaWNlVXNlcklkOiB1c2VyLnZvaWNlVXNlcklkLFxuICAgIGludElkOiB1c2VyLmludElkLFxuICB9KSk7XG5cbiAgcmV0dXJuIHZvaWNlVXNlcnNVcGRhdGVkO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVqZWN0VXNlckZyb21Wb2ljZSh1c2VySWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdFamVjdFVzZXJGcm9tVm9pY2VDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgICBlamVjdGVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG11dGVBbGxFeGNlcHRQcmVzZW50ZXJUb2dnbGUoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnTXV0ZUFsbEV4Y2VwdFByZXNlbnRlcnNDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG4gIGNvbnN0IHRvZ2dsZU1lZXRpbmdNdXRlZCA9ICFtZWV0aW5nLnZvaWNlUHJvcC5tdXRlT25TdGFydDtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIG11dGVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBtdXRlOiB0b2dnbGVNZWV0aW5nTXV0ZWQsXG4gIH07XG5cbiAgUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG11dGVBbGxUb2dnbGUoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnTXV0ZU1lZXRpbmdDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG4gIGNvbnN0IHRvZ2dsZU1lZXRpbmdNdXRlZCA9ICFtZWV0aW5nLnZvaWNlUHJvcC5tdXRlT25TdGFydDtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIG11dGVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBtdXRlOiB0b2dnbGVNZWV0aW5nTXV0ZWQsXG4gIH07XG5cbiAgUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG11dGVUb2dnbGUodUlkLCB0b2dnbGUpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdNdXRlVXNlckNtZE1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY29uc3QgdXNlclRvTXV0ZSA9IHVJZCB8fCByZXF1ZXN0ZXJVc2VySWQ7XG5cbiAgY29uc3QgcmVxdWVzdGVyID0gVXNlcnMuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9KTtcblxuICBjb25zdCB2b2ljZVVzZXIgPSBWb2ljZVVzZXJzLmZpbmRPbmUoe1xuICAgIGludElkOiB1c2VyVG9NdXRlLFxuICAgIG1lZXRpbmdJZCxcbiAgfSk7XG5cbiAgaWYgKCFyZXF1ZXN0ZXIgfHwgIXZvaWNlVXNlcikgcmV0dXJuO1xuXG4gIGNvbnN0IHsgbGlzdGVuT25seSwgbXV0ZWQgfSA9IHZvaWNlVXNlcjtcbiAgaWYgKGxpc3Rlbk9ubHkpIHJldHVybjtcblxuICAvLyBpZiBhbGxvd01vZHNUb1VubXV0ZVVzZXJzIGlzIGZhbHNlLCB1c2VycyB3aWxsIGJlIGtpY2tlZCBvdXQgZm9yIGF0dGVtcHRpbmcgdG8gdW5tdXRlIG90aGVyc1xuICBpZiAocmVxdWVzdGVyVXNlcklkICE9PSB1c2VyVG9NdXRlICYmIG11dGVkKSB7XG4gICAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSxcbiAgICAgIHsgZmllbGRzOiB7ICd1c2Vyc1Byb3AuYWxsb3dNb2RzVG9Vbm11dGVVc2Vycyc6IDEgfSB9KTtcbiAgICBpZiAobWVldGluZy51c2Vyc1Byb3AgJiYgIW1lZXRpbmcudXNlcnNQcm9wLmFsbG93TW9kc1RvVW5tdXRlVXNlcnMpIHtcbiAgICAgIExvZ2dlci53YXJuKGBBdHRlbXB0ZWQgdW5tdXRpbmcgYnkgYW5vdGhlciB1c2VyIG1lZXRpbmdJZDoke21lZXRpbmdJZH0gcmVxdWVzdGVyOiAke3JlcXVlc3RlclVzZXJJZH0gdXNlcklkOiAke3VzZXJUb011dGV9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgbGV0IF9tdXRlZDtcblxuICBpZiAoKHRvZ2dsZSA9PT0gdW5kZWZpbmVkKSB8fCAodG9nZ2xlID09PSBudWxsKSkge1xuICAgIF9tdXRlZCA9ICFtdXRlZDtcbiAgfSBlbHNlIHtcbiAgICBfbXV0ZWQgPSAhIXRvZ2dsZTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkOiB1c2VyVG9NdXRlLFxuICAgIG11dGVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBtdXRlOiBfbXV0ZWQsXG4gIH07XG5cbiAgUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWb2ljZVVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIHtcbiAgICB2b2ljZVVzZXJJZDogU3RyaW5nLFxuICAgIGludElkOiBTdHJpbmcsXG4gICAgY2FsbGVyTmFtZTogU3RyaW5nLFxuICAgIGNhbGxlck51bTogU3RyaW5nLFxuICAgIG11dGVkOiBCb29sZWFuLFxuICAgIHRhbGtpbmc6IEJvb2xlYW4sXG4gICAgY2FsbGluZ1dpdGg6IFN0cmluZyxcbiAgICBsaXN0ZW5Pbmx5OiBCb29sZWFuLFxuICAgIHZvaWNlQ29uZjogU3RyaW5nLFxuICAgIGpvaW5lZDogQm9vbGVhbiwgLy8gVGhpcyBpcyBhIEhUTUw1IG9ubHkgcGFyYW0uXG4gIH0pO1xuXG4gIGNvbnN0IHsgaW50SWQsIHRhbGtpbmcgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIHsgbWVldGluZ0lkLCBzcG9rZTogdGFsa2luZyB9LFxuICAgICAgZmxhdCh2b2ljZVVzZXIpLFxuICAgICksXG4gIH07XG5cbiAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHVzZXJJZDogaW50SWQgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgY29sb3I6IDEsXG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKHVzZXIpIG1vZGlmaWVyLiRzZXQuY29sb3IgPSB1c2VyLmNvbG9yO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gVm9pY2VVc2Vycy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZCB2b2ljZSB1c2VyPSR7aW50SWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZCB2b2ljZSB1c2VyPSR7aW50SWR9OiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZU11dGVNZWV0aW5nKG1lZXRpbmdJZCwgcGF5bG9hZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBheWxvYWQsIHtcbiAgICBtdXRlZDogQm9vbGVhbixcbiAgICBtdXRlZEJ5OiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICAndm9pY2VQcm9wLm11dGVPblN0YXJ0JzogcGF5bG9hZC5tdXRlZCxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDaGFuZ2VkIG1lZXRpbmcgbXV0ZSBzdGF0dXMgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgbWVldGluZyBtdXRlIHN0YXR1cyBtZWV0aW5nPXske21lZXRpbmdJZH19ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclZvaWNlVXNlcihtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFZvaWNlVXNlcnMucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgVm9pY2VVc2VycyBpbiAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBWb2ljZVVzZXJzIGluICR7bWVldGluZ0lkfS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFZvaWNlVXNlcnMucmVtb3ZlKHt9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFZvaWNlVXNlcnMgaW4gYWxsIG1lZXRpbmdzJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIFZvaWNlVXNlcnMuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzJztcbmltcG9ydCB7IGNsZWFyU3Bva2VUaW1lb3V0IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHZvaWNlVXNlciwge1xuICAgIHZvaWNlQ29uZjogU3RyaW5nLFxuICAgIHZvaWNlVXNlcklkOiBTdHJpbmcsXG4gICAgaW50SWQ6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3QgeyBpbnRJZCB9ID0gdm9pY2VVc2VyO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBtdXRlZDogZmFsc2UsXG4gICAgICB0YWxraW5nOiBmYWxzZSxcbiAgICAgIGxpc3Rlbk9ubHk6IGZhbHNlLFxuICAgICAgam9pbmVkOiBmYWxzZSxcbiAgICAgIHNwb2tlOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY2xlYXJTcG9rZVRpbWVvdXQobWVldGluZ0lkLCBpbnRJZCk7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBWb2ljZVVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgUmVtb3ZlIHZvaWNlVXNlcj0ke2ludElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBSZW1vdmUgdm9pY2VVc2VyPSR7aW50SWR9OiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWb2ljZVVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycyc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCB7IHNwb2tlVGltZW91dEhhbmRsZXMsIGNsZWFyU3Bva2VUaW1lb3V0IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IFRBTEtJTkdfVElNRU9VVCA9IDYwMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHZvaWNlVXNlciwge1xuICAgIGludElkOiBTdHJpbmcsXG4gICAgdm9pY2VVc2VySWQ6IFN0cmluZyxcbiAgICB0YWxraW5nOiBNYXRjaC5NYXliZShCb29sZWFuKSxcbiAgICBtdXRlZDogTWF0Y2guTWF5YmUoQm9vbGVhbiksXG4gICAgdm9pY2VDb25mOiBTdHJpbmcsXG4gICAgam9pbmVkOiBNYXRjaC5NYXliZShCb29sZWFuKSxcbiAgfSk7XG5cbiAgY29uc3QgeyBpbnRJZCB9ID0gdm9pY2VVc2VyO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKFxuICAgICAgZmxhdCh2b2ljZVVzZXIpLFxuICAgICksXG4gIH07XG5cbiAgaWYgKHZvaWNlVXNlci50YWxraW5nKSB7XG4gICAgY29uc3QgdXNlciA9IFZvaWNlVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgaW50SWQgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXJ0VGltZTogMSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBpZiAodXNlciAmJiAhdXNlci5zdGFydFRpbWUpIG1vZGlmaWVyLiRzZXQuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBtb2RpZmllci4kc2V0LnNwb2tlID0gdHJ1ZTtcbiAgICBtb2RpZmllci4kc2V0LmVuZFRpbWUgPSBudWxsO1xuICAgIGNsZWFyU3Bva2VUaW1lb3V0KG1lZXRpbmdJZCwgaW50SWQpO1xuICB9XG5cbiAgaWYgKCF2b2ljZVVzZXIudGFsa2luZykge1xuICAgIGNvbnN0IHRpbWVvdXRIYW5kbGUgPSBNZXRlb3Iuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gVm9pY2VVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCBpbnRJZCB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGVuZFRpbWU6IDEsXG4gICAgICAgICAgdGFsa2luZzogMSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodXNlcikge1xuICAgICAgICBjb25zdCB7IGVuZFRpbWUsIHRhbGtpbmcgfSA9IHVzZXI7XG4gICAgICAgIGNvbnN0IHNwb2tlRGVsYXkgPSAoKERhdGUubm93KCkgLSBlbmRUaW1lKSA8IFRBTEtJTkdfVElNRU9VVCk7XG4gICAgICAgIGlmICh0YWxraW5nIHx8IHNwb2tlRGVsYXkpIHJldHVybjtcbiAgICAgICAgbW9kaWZpZXIuJHNldC5zcG9rZSA9IGZhbHNlO1xuICAgICAgICBtb2RpZmllci4kc2V0LnN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBWb2ljZVVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgICAgICBMb2dnZXIuZGVidWcoJ1VwZGF0ZSB2b2ljZVVzZXInLCB7IHZvaWNlVXNlcjogaW50SWQsIG1lZXRpbmdJZCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIExvZ2dlci5lcnJvcihgVXBkYXRlIHZvaWNlVXNlcj0ke2ludElkfTogJHtlcnJ9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBUQUxLSU5HX1RJTUVPVVQpO1xuXG4gICAgc3Bva2VUaW1lb3V0SGFuZGxlc1tgJHttZWV0aW5nSWR9LSR7aW50SWR9YF0gPSB0aW1lb3V0SGFuZGxlO1xuICAgIG1vZGlmaWVyLiRzZXQuZW5kVGltZSA9IERhdGUubm93KCk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVm9pY2VVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmRlYnVnKCdVcGRhdGUgdm9pY2VVc2VyJywgeyB2b2ljZVVzZXI6IGludElkLCBtZWV0aW5nSWQgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFVwZGF0ZSB2b2ljZVVzZXI9JHtpbnRJZH06ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZUpvaW5Wb2ljZVVzZXIgZnJvbSAnLi9oYW5kbGVycy9qb2luVm9pY2VVc2VyJztcbmltcG9ydCBoYW5kbGVMZWZ0Vm9pY2VVc2VyIGZyb20gJy4vaGFuZGxlcnMvbGVmdFZvaWNlVXNlcic7XG5pbXBvcnQgaGFuZGxlVGFsa2luZ1ZvaWNlVXNlciBmcm9tICcuL2hhbmRsZXJzL3RhbGtpbmdWb2ljZVVzZXInO1xuaW1wb3J0IGhhbmRsZU11dGVkVm9pY2VVc2VyIGZyb20gJy4vaGFuZGxlcnMvbXV0ZWRWb2ljZVVzZXInO1xuaW1wb3J0IGhhbmRsZUdldFZvaWNlVXNlcnMgZnJvbSAnLi9oYW5kbGVycy9nZXRWb2ljZVVzZXJzJztcbmltcG9ydCBoYW5kbGVWb2ljZVVzZXJzIGZyb20gJy4vaGFuZGxlcnMvdm9pY2VVc2Vycyc7XG5pbXBvcnQgaGFuZGxlTWVldGluZ011dGVkIGZyb20gJy4vaGFuZGxlcnMvbWVldGluZ011dGVkJztcblxuUmVkaXNQdWJTdWIub24oJ1VzZXJMZWZ0Vm9pY2VDb25mVG9DbGllbnRFdnRNc2cnLCBoYW5kbGVMZWZ0Vm9pY2VVc2VyKTtcblJlZGlzUHViU3ViLm9uKCdVc2VySm9pbmVkVm9pY2VDb25mVG9DbGllbnRFdnRNc2cnLCBoYW5kbGVKb2luVm9pY2VVc2VyKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyVGFsa2luZ1ZvaWNlRXZ0TXNnJywgaGFuZGxlVGFsa2luZ1ZvaWNlVXNlcik7XG5SZWRpc1B1YlN1Yi5vbignVXNlck11dGVkVm9pY2VFdnRNc2cnLCBoYW5kbGVNdXRlZFZvaWNlVXNlcik7XG5SZWRpc1B1YlN1Yi5vbignR2V0Vm9pY2VVc2Vyc01lZXRpbmdSZXNwTXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVHZXRWb2ljZVVzZXJzKSk7XG5SZWRpc1B1YlN1Yi5vbignU3luY0dldFZvaWNlVXNlcnNSZXNwTXNnJywgaGFuZGxlVm9pY2VVc2Vycyk7XG5SZWRpc1B1YlN1Yi5vbignTWVldGluZ011dGVkRXZ0TXNnJywgaGFuZGxlTWVldGluZ011dGVkKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IG11dGVUb2dnbGUgZnJvbSAnLi9tZXRob2RzL211dGVUb2dnbGUnO1xuaW1wb3J0IG11dGVBbGxUb2dnbGUgZnJvbSAnLi9tZXRob2RzL211dGVBbGxUb2dnbGUnO1xuaW1wb3J0IG11dGVBbGxFeGNlcHRQcmVzZW50ZXJUb2dnbGUgZnJvbSAnLi9tZXRob2RzL211dGVBbGxFeGNlcHRQcmVzZW50ZXJUb2dnbGUnO1xuaW1wb3J0IGVqZWN0VXNlckZyb21Wb2ljZSBmcm9tICcuL21ldGhvZHMvZWplY3RVc2VyRnJvbVZvaWNlJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB0b2dnbGVWb2ljZTogbXV0ZVRvZ2dsZSxcbiAgbXV0ZUFsbFVzZXJzOiBtdXRlQWxsVG9nZ2xlLFxuICBtdXRlQWxsRXhjZXB0UHJlc2VudGVyOiBtdXRlQWxsRXhjZXB0UHJlc2VudGVyVG9nZ2xlLFxuICBlamVjdFVzZXJGcm9tVm9pY2UsXG59KTtcbiIsImltcG9ydCBWb2ljZVVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGVqZWN0VXNlckZyb21Wb2ljZSBmcm9tICcuL21ldGhvZHMvZWplY3RVc2VyRnJvbVZvaWNlJztcblxuZnVuY3Rpb24gdm9pY2VVc2VyKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFZvaWNlVXNlcnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlcXVlc3RlclVzZXJJZCwgU3RyaW5nKTtcbiAgY29uc3Qgb25DbG9zZUNvbm5lY3Rpb24gPSBNZXRlb3IuYmluZEVudmlyb25tZW50KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gSSB1c2VkIHVzZXIgYmVjYXVzZSB2b2ljZVVzZXIgaXMgdGhlIGZ1bmN0aW9uJ3MgbmFtZVxuICAgICAgY29uc3QgVXNlciA9IFZvaWNlVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuICAgICAgaWYgKFVzZXIpIHtcbiAgICAgICAgZWplY3RVc2VyRnJvbVZvaWNlKHJlcXVlc3RlclVzZXJJZCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFeGNlcHRpb24gd2hpbGUgZXhlY3V0aW5nIGVqZWN0VXNlckZyb21Wb2ljZSBmb3IgJHtyZXF1ZXN0ZXJVc2VySWR9OiAke2V9YCk7XG4gICAgfVxuICB9KTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgVm9pY2UgVXNlcicsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgdGhpcy5fc2Vzc2lvbi5zb2NrZXQub24oJ2Nsb3NlJywgXy5kZWJvdW5jZShvbkNsb3NlQ29ubmVjdGlvbiwgMTAwKSk7XG4gIHJldHVybiBWb2ljZVVzZXJzLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFZvaWNlVXNlciA9IHZvaWNlVXNlci5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRWb2ljZVVzZXIoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd2b2ljZVVzZXJzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVm9pY2VVc2VycyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd2b2ljZVVzZXJzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHZvaWNlIHVzZXJzOlxuICAvLyAxLiBpbnRJZFxuICAvLyAyLiBtZWV0aW5nSWQsIGludElkXG5cbiAgVm9pY2VVc2Vycy5fZW5zdXJlSW5kZXgoeyBpbnRJZDogMSB9KTtcbiAgVm9pY2VVc2Vycy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIGludElkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBWb2ljZVVzZXJzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IG1vZGlmeVdoaXRlYm9hcmRBY2Nlc3MgZnJvbSAnLi4vbW9kaWZpZXJzL21vZGlmeVdoaXRlYm9hcmRBY2Nlc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVNb2RpZnlXaGl0ZWJvYXJkQWNjZXNzKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBtdWx0aVVzZXIsIHdoaXRlYm9hcmRJZCB9ID0gYm9keTtcblxuICBjaGVjayhtdWx0aVVzZXIsIEJvb2xlYW4pO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gbW9kaWZ5V2hpdGVib2FyZEFjY2VzcyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgbXVsdGlVc2VyKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzKG11bHRpVXNlciwgd2hpdGVib2FyZElkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnTW9kaWZ5V2hpdGVib2FyZEFjY2Vzc1B1Yk1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhtdWx0aVVzZXIsIEJvb2xlYW4pO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBtdWx0aVVzZXIsXG4gICAgd2hpdGVib2FyZElkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFdoaXRlYm9hcmRNdWx0aVVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyV2hpdGVib2FyZE11bHRpVXNlcihtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFdoaXRlYm9hcmRNdWx0aVVzZXIucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgV2hpdGVib2FyZE11bHRpVXNlciAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmluZm8oYEVycm9yIGNsZWFyaW5nIFdoaXRlYm9hcmRNdWx0aVVzZXIgKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBXaGl0ZWJvYXJkTXVsdGlVc2VyLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBXaGl0ZWJvYXJkTXVsdGlVc2VyIChhbGwpJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgRXJyb3IgY2xlYXJpbmcgV2hpdGVib2FyZE11bHRpVXNlciAoYWxsKS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgV2hpdGVib2FyZE11bHRpVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyLyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1vZGlmeVdoaXRlYm9hcmRBY2Nlc3MobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIG11bHRpVXNlcikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobXVsdGlVc2VyLCBCb29sZWFuKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgd2hpdGVib2FyZElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB3aGl0ZWJvYXJkSWQsXG4gICAgbXVsdGlVc2VyLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBXaGl0ZWJvYXJkTXVsdGlVc2VyLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgbXVsdGlVc2VyIGZsYWc9JHttdWx0aVVzZXJ9IG1lZXRpbmdJZD0ke21lZXRpbmdJZH0gd2hpdGVib2FyZElkPSR7d2hpdGVib2FyZElkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgbXVsdGlVc2VyIGZsYWc9JHttdWx0aVVzZXJ9IG1lZXRpbmdJZD0ke21lZXRpbmdJZH0gd2hpdGVib2FyZElkPSR7d2hpdGVib2FyZElkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciB3aGlsZSBhZGRpbmcgYW4gZW50cnkgdG8gTXVsdGktVXNlciBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBoYW5kbGVHZXRXaGl0ZWJvYXJkQWNjZXNzIGZyb20gJy4vaGFuZGxlcnMvbW9kaWZ5V2hpdGVib2FyZEFjY2Vzcyc7XG5cblJlZGlzUHViU3ViLm9uKCdHZXRXaGl0ZWJvYXJkQWNjZXNzUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlR2V0V2hpdGVib2FyZEFjY2VzcykpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRXaGl0ZWJvYXJkQWNjZXNzUmVzcE1zZycsIGhhbmRsZUdldFdoaXRlYm9hcmRBY2Nlc3MpO1xuUmVkaXNQdWJTdWIub24oJ01vZGlmeVdoaXRlYm9hcmRBY2Nlc3NFdnRNc2cnLCBoYW5kbGVHZXRXaGl0ZWJvYXJkQWNjZXNzKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGNoYW5nZVdoaXRlYm9hcmRBY2Nlc3MgZnJvbSAnLi9tZXRob2RzL2NoYW5nZVdoaXRlYm9hcmRBY2Nlc3MnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGNoYW5nZVdoaXRlYm9hcmRBY2Nlc3MsXG59KTtcbiIsImltcG9ydCBXaGl0ZWJvYXJkTXVsdGlVc2VyIGZyb20gJy9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHdoaXRlYm9hcmRNdWx0aVVzZXIoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gV2hpdGVib2FyZE11bHRpVXNlci5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyB3aGl0ZWJvYXJkLW11bHRpLXVzZXInLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBXaGl0ZWJvYXJkTXVsdGlVc2VyLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTXVsdGlVc2VyID0gd2hpdGVib2FyZE11bHRpVXNlci5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRNdWx0aVVzZXIoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd3aGl0ZWJvYXJkLW11bHRpLXVzZXInLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBXaGl0ZWJvYXJkTXVsdGlVc2VyID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3doaXRlYm9hcmQtbXVsdGktdXNlcicpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSB3aGl0ZWJvYXJkLW11bHRpLXVzZXI6XG4gIC8vIDEuIG1lZXRpbmdJZFxuXG4gIFdoaXRlYm9hcmRNdWx0aVVzZXIuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBXaGl0ZWJvYXJkTXVsdGlVc2VyO1xuIiwiaW1wb3J0IHNoYTEgZnJvbSAnY3J5cHRvLWpzL3NoYTEnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmNvbnN0IE1TR19ESVJFQ1RfVFlQRSA9ICdESVJFQ1QnO1xuY29uc3QgTk9ERV9VU0VSID0gJ25vZGVKU2FwcCc7XG5cbmV4cG9ydCBjb25zdCBzcG9rZVRpbWVvdXRIYW5kbGVzID0ge307XG5leHBvcnQgY29uc3QgY2xlYXJTcG9rZVRpbWVvdXQgPSAobWVldGluZ0lkLCB1c2VySWQpID0+IHtcbiAgaWYgKHNwb2tlVGltZW91dEhhbmRsZXNbYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gXSkge1xuICAgIE1ldGVvci5jbGVhclRpbWVvdXQoc3Bva2VUaW1lb3V0SGFuZGxlc1tgJHttZWV0aW5nSWR9LSR7dXNlcklkfWBdKTtcbiAgICBkZWxldGUgc3Bva2VUaW1lb3V0SGFuZGxlc1tgJHttZWV0aW5nSWR9LSR7dXNlcklkfWBdO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgaW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkgKz0gMSkge1xuICAgIGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIC0xO1xufTtcblxuZXhwb3J0IGNvbnN0IHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkgPSBmbiA9PiAobWVzc2FnZSwgLi4uYXJncykgPT4ge1xuICBjb25zdCB7IGVudmVsb3BlIH0gPSBtZXNzYWdlO1xuICBjb25zdCB7IHJvdXRpbmcgfSA9IGVudmVsb3BlO1xuICBjb25zdCB7IG1zZ1R5cGUsIG1lZXRpbmdJZCwgdXNlcklkIH0gPSByb3V0aW5nO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHVzZXJJZCxcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGNvbnN0IHNob3VsZFNraXAgPSB1c2VyICYmIG1zZ1R5cGUgPT09IE1TR19ESVJFQ1RfVFlQRSAmJiB1c2VySWQgIT09IE5PREVfVVNFUiAmJiB1c2VyLmNsaWVudFR5cGUgIT09ICdIVE1MNSc7XG4gIGlmIChzaG91bGRTa2lwKSByZXR1cm4gKCkgPT4geyB9O1xuICByZXR1cm4gZm4obWVzc2FnZSwgLi4uYXJncyk7XG59O1xuXG5leHBvcnQgY29uc3QgaGFzaFNIQTEgPSAoc3RyKSA9PiBzaGExKHN0cikudG9TdHJpbmcoKTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RDcmVkZW50aWFscyA9IChjcmVkZW50aWFscykgPT4ge1xuICBpZiAoIWNyZWRlbnRpYWxzKSByZXR1cm4ge307XG4gIGNvbnN0IGNyZWRlbnRpYWxzQXJyYXkgPSBjcmVkZW50aWFscy5zcGxpdCgnLS0nKTtcbiAgY29uc3QgbWVldGluZ0lkID0gY3JlZGVudGlhbHNBcnJheVswXTtcbiAgY29uc3QgcmVxdWVzdGVyVXNlcklkID0gY3JlZGVudGlhbHNBcnJheVsxXTtcbiAgcmV0dXJuIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfTtcbn07XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IFdlYkFwcEludGVybmFscyB9IGZyb20gJ21ldGVvci93ZWJhcHAnO1xuaW1wb3J0IExhbmdtYXAgZnJvbSAnbGFuZ21hcCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgaGVhcGR1bXAgZnJvbSAnaGVhcGR1bXAnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgbG9va3VwIGFzIGxvb2t1cFVzZXJBZ2VudCB9IGZyb20gJ3VzZXJhZ2VudCc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgbWVtd2F0Y2ggZnJvbSAnbWVtd2F0Y2gtbmV4dCc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCBSZWRpcyBmcm9tICcuL3JlZGlzJztcbmltcG9ydCBzZXRNaW5Ccm93c2VyVmVyc2lvbnMgZnJvbSAnLi9taW5Ccm93c2VyVmVyc2lvbic7XG5pbXBvcnQgdXNlckxlYXZpbmcgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3VzZXJMZWF2aW5nJztcblxuY29uc3QgQVZBSUxBQkxFX0xPQ0FMRVMgPSBmcy5yZWFkZGlyU3luYygnYXNzZXRzL2FwcC9sb2NhbGVzJyk7XG5cbnByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKGVycikgPT4ge1xuICBMb2dnZXIuZXJyb3IoYHVuY2F1Z2h0RXhjZXB0aW9uOiAke2Vycn1gKTtcbiAgcHJvY2Vzcy5leGl0KDEpO1xufSk7XG5cbk1ldGVvci5zdGFydHVwKCgpID0+IHtcbiAgY29uc3QgQVBQX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMuYXBwO1xuICBjb25zdCBJTlRFUlZBTF9JTl9TRVRUSU5HUyA9IChNZXRlb3Iuc2V0dGluZ3MucHVibGljLnBpbmdQb25nLmNsZWFyVXNlcnNJblNlY29uZHMpICogMTAwMDtcbiAgY29uc3QgSU5URVJWQUxfVElNRSA9IElOVEVSVkFMX0lOX1NFVFRJTkdTIDwgMTAwMDAgPyAxMDAwMCA6IElOVEVSVkFMX0lOX1NFVFRJTkdTO1xuICBjb25zdCBlbnYgPSBNZXRlb3IuaXNEZXZlbG9wbWVudCA/ICdkZXZlbG9wbWVudCcgOiAncHJvZHVjdGlvbic7XG4gIGNvbnN0IENETl9VUkwgPSBBUFBfQ09ORklHLmNkbjtcblxuICBjb25zdCB7IGN1c3RvbUhlYXJ0YmVhdCB9ID0gQVBQX0NPTkZJRztcblxuICBpZiAoY3VzdG9tSGVhcnRiZWF0KSB7XG4gICAgTG9nZ2VyLndhcm4oJ0N1c3RvbSBoZWFydGJlYXQgZnVuY3Rpb25zIGFyZSBlbmFibGVkJyk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3NvY2tqcy9zb2NranMtbm9kZS9ibG9iLzFlZjA4OTAxZjA0NWFhZTdiNGRmMGY5MWVmNTk4ZDdhMTFlODI4OTcvbGliL3RyYW5zcG9ydC93ZWJzb2NrZXQuanMjTDc0LUw4MlxuICAgIGNvbnN0IG5ld0hlYXJ0YmVhdCA9IGZ1bmN0aW9uIGhlYXJ0YmVhdCgpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgIC8vIFNraXBwaW5nIGhlYXJ0YmVhdCwgYmVjYXVzZSB3ZWJzb2NrZXQgaXMgc2VuZGluZyBkYXRhXG4gICAgICBpZiAoY3VycmVudFRpbWUgLSB0aGlzLndzLmxhc3RTZW50RnJhbWVUaW1lc3RhbXAgPCAxMDAwMCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIExvZ2dlci5pbmZvKCdTa2lwcGluZyBoZWFydGJlYXQsIGJlY2F1c2Ugd2Vic29ja2V0IGlzIHNlbmRpbmcgZGF0YScsIHtcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgbGFzdFNlbnRGcmFtZVRpbWVzdGFtcDogdGhpcy53cy5sYXN0U2VudEZyYW1lVGltZXN0YW1wLFxuICAgICAgICAgICAgdXNlcklkOiB0aGlzLnNlc3Npb24uY29ubmVjdGlvbi5fbWV0ZW9yU2Vzc2lvbi51c2VySWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBMb2dnZXIuZXJyb3IoYFNraXBwaW5nIGhlYXJ0YmVhdCBlcnJvcjogJHtlcnJ9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3VwcG9ydHNIZWFydGJlYXRzID0gdGhpcy53cy5waW5nKG51bGwsICgpID0+IGNsZWFyVGltZW91dCh0aGlzLmh0b19yZWYpKTtcbiAgICAgIGlmIChzdXBwb3J0c0hlYXJ0YmVhdHMpIHtcbiAgICAgICAgdGhpcy5odG9fcmVmID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIExvZ2dlci5pbmZvKCdIZWFydGJlYXQgdGltZW91dCcsIHsgdXNlcklkOiB0aGlzLnNlc3Npb24uY29ubmVjdGlvbi5fbWV0ZW9yU2Vzc2lvbi51c2VySWQsIHNlbnRBdDogY3VycmVudFRpbWUsIG5vdzogbmV3IERhdGUoKS5nZXRUaW1lKCkgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBMb2dnZXIuZXJyb3IoYEhlYXJ0YmVhdCB0aW1lb3V0IGVycm9yOiAke2Vycn1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIE1ldGVvci5zZXJ2ZXIub3B0aW9ucy5oZWFydGJlYXRUaW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExvZ2dlci5lcnJvcignVW5leHBlY3RlZCBlcnJvciBzdXBwb3J0c0hlYXJ0YmVhdHM9ZmFsc2UnKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2RhdmhhbmkvaGFndHkvYmxvYi82YTVjNzhlOWFlNWE1ZTRhZGUwM2U3NDdmYjRjYzhlYTJkZjRiZTBjL2ZheWUtd2Vic29ja2V0L2xpYi9mYXllL3dlYnNvY2tldC9hcGkuanMjTDg0LUw4OFxuICAgIGNvbnN0IG5ld1NlbmQgPSBmdW5jdGlvbiBzZW5kKGRhdGEpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMubGFzdFNlbnRGcmFtZVRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm1ldGVvckhlYXJ0YmVhdCkge1xuICAgICAgICAgIC8vIENhbGwgaHR0cHM6Ly9naXRodWIuY29tL21ldGVvci9tZXRlb3IvYmxvYi8xZTdlNTZlZWM4NDE0MDkzY2QwYzFjNzA3NTBiODk0MDY5ZmM5NzJhL3BhY2thZ2VzL2RkcC1jb21tb24vaGVhcnRiZWF0LmpzI0w4MC1MODhcbiAgICAgICAgICB0aGlzLm1ldGVvckhlYXJ0YmVhdC5fc2VlblBhY2tldCA9IHRydWU7XG4gICAgICAgICAgaWYgKHRoaXMubWV0ZW9ySGVhcnRiZWF0Ll9oZWFydGJlYXRUaW1lb3V0SGFuZGxlKSB7XG4gICAgICAgICAgICB0aGlzLm1ldGVvckhlYXJ0YmVhdC5fY2xlYXJIZWFydGJlYXRUaW1lb3V0VGltZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID4gMS8qIEFQSS5PUEVOID0gMSAqLykgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIShkYXRhIGluc3RhbmNlb2YgQnVmZmVyKSkgZGF0YSA9IFN0cmluZyhkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RyaXZlci5tZXNzYWdlcy53cml0ZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBvbiBzZW5kIGRhdGEnLCBlcnIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIE1ldGVvci5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2YgTWV0ZW9yLnNlcnZlci5zZXNzaW9ucy52YWx1ZXMoKSkge1xuICAgICAgICBjb25zdCB7IHNvY2tldCB9ID0gc2Vzc2lvbjtcbiAgICAgICAgY29uc3QgcmVjdiA9IHNvY2tldC5fc2Vzc2lvbi5yZWN2O1xuXG4gICAgICAgIGlmIChzZXNzaW9uLmJiYkZpeEFwcGxpZWQgfHwgIXJlY3YgfHwgIXJlY3Yud3MpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY3Yud3MubWV0ZW9ySGVhcnRiZWF0ID0gc2Vzc2lvbi5oZWFydGJlYXQ7XG4gICAgICAgIHJlY3YuX19wcm90b19fLmhlYXJ0YmVhdCA9IG5ld0hlYXJ0YmVhdDtcbiAgICAgICAgcmVjdi53cy5fX3Byb3RvX18uc2VuZCA9IG5ld1NlbmQ7XG4gICAgICAgIHNlc3Npb24uYmJiRml4QXBwbGllZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICBjb25zdCBtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5tZW1vcnlNb25pdG9yaW5nO1xuICBsZXQgaGVhcER1bXBNYlRocmVzaG9sZCA9IG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5oZWFwZHVtcC50aHJlc2hvbGRNYjtcbiAgY29uc3QgeyBoZWFwZHVtcEZvbGRlclBhdGggfSA9IG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5oZWFwZHVtcDtcblxuICBpZiAobWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzLnN0YXQuZW5hYmxlZCkge1xuICAgIG1lbXdhdGNoLm9uKCdzdGF0cycsIChzdGF0cykgPT4ge1xuICAgICAgbGV0IGhlYXBEdW1wVHJpZ2dlcmVkID0gZmFsc2U7XG5cbiAgICAgIGlmIChtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MuaGVhcGR1bXAuZW5hYmxlZCkge1xuICAgICAgICBoZWFwRHVtcFRyaWdnZXJlZCA9IChzdGF0cy5jdXJyZW50X2Jhc2UgLyAxMDQ4NTc2KSA+IGhlYXBEdW1wTWJUaHJlc2hvbGQ7XG4gICAgICB9XG4gICAgICBMb2dnZXIuaW5mbygnbWVtd2F0Y2ggc3RhdHMnLCB7IC4uLnN0YXRzIH0pO1xuXG4gICAgICBpZiAoaGVhcER1bXBUcmlnZ2VyZWQpIHtcbiAgICAgICAgaGVhcGR1bXAud3JpdGVTbmFwc2hvdChwYXRoLmpvaW4oaGVhcGR1bXBGb2xkZXJQYXRoLCBgaGVhcGR1bXAtc3RhdHMtJHtEYXRlLm5vdygpfS5oZWFwc25hcHNob3RgKSk7XG4gICAgICAgIGhlYXBEdW1wTWJUaHJlc2hvbGQgKz0gbWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzLmhlYXBkdW1wLnRocmVzaG9sZE1iO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gaWYgKG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5sZWFrLmVuYWJsZWQpIHtcbiAgLy8gICBtZW13YXRjaC5vbignbGVhaycsIChpbmZvKSA9PiB7XG4gIC8vICAgICBMb2dnZXIuaW5mbygnbWVtd2F0Y2ggbGVhaycsIGluZm8pO1xuICAvLyAgIH0pO1xuICAvLyB9XG5cbiAgLy8gaWYgKG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5oZWFwZHVtcC5lbmFibGVkKSB7XG4gIC8vICAgY29uc3QgeyBoZWFwZHVtcEZvbGRlclBhdGgsIGhlYXBkdW1wSW50ZXJ2YWxNcyB9ID0gbWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzLmhlYXBkdW1wO1xuICAvLyAgIE1ldGVvci5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gIC8vICAgICBoZWFwZHVtcC53cml0ZVNuYXBzaG90KHBhdGguam9pbihoZWFwZHVtcEZvbGRlclBhdGgsIGAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0uaGVhcHNuYXBzaG90YCkpO1xuICAvLyAgICAgTG9nZ2VyLmluZm8oJ0hlYXBzbmFwc2hvdCBmaWxlIHN1Y2Nlc3NmdWxseSB3cml0dGVuJyk7XG4gIC8vICAgfSwgaGVhcGR1bXBJbnRlcnZhbE1zKTtcbiAgLy8gfVxuXG4gIGlmIChDRE5fVVJMLnRyaW0oKSkge1xuICAgIC8vIEFkZCBDRE5cbiAgICBCcm93c2VyUG9saWN5LmNvbnRlbnQuZGlzYWxsb3dFdmFsKCk7XG4gICAgQnJvd3NlclBvbGljeS5jb250ZW50LmFsbG93SW5saW5lU2NyaXB0cygpO1xuICAgIEJyb3dzZXJQb2xpY3kuY29udGVudC5hbGxvd0lubGluZVN0eWxlcygpO1xuICAgIEJyb3dzZXJQb2xpY3kuY29udGVudC5hbGxvd0ltYWdlRGF0YVVybChDRE5fVVJMKTtcbiAgICBCcm93c2VyUG9saWN5LmNvbnRlbnQuYWxsb3dGb250RGF0YVVybChDRE5fVVJMKTtcbiAgICBCcm93c2VyUG9saWN5LmNvbnRlbnQuYWxsb3dPcmlnaW5Gb3JBbGwoQ0ROX1VSTCk7XG4gICAgV2ViQXBwSW50ZXJuYWxzLnNldEJ1bmRsZWRKc0Nzc1ByZWZpeChDRE5fVVJMICsgQVBQX0NPTkZJRy5iYXNlbmFtZSk7XG5cbiAgICBjb25zdCBmb250UmVnRXhwID0gL1xcLihlb3R8dHRmfG90Znx3b2ZmfHdvZmYyKSQvO1xuXG4gICAgV2ViQXBwLnJhd0Nvbm5lY3RIYW5kbGVycy51c2UoJy8nLCAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgIGlmIChmb250UmVnRXhwLnRlc3QocmVxLl9wYXJzZWRVcmwucGF0aG5hbWUpKSB7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJyk7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ1ZhcnknLCAnT3JpZ2luJyk7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ1ByYWdtYScsICdwdWJsaWMnKTtcbiAgICAgICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdcInB1YmxpY1wiJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0TWluQnJvd3NlclZlcnNpb25zKCk7XG5cbiAgTWV0ZW9yLnNldEludGVydmFsKCgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgTG9nZ2VyLmluZm8oJ0NoZWNraW5nIGZvciBpbmFjdGl2ZSB1c2VycycpO1xuICAgIGNvbnN0IHVzZXJzID0gVXNlcnMuZmluZCh7XG4gICAgICBjb25uZWN0aW9uU3RhdHVzOiAnb25saW5lJyxcbiAgICAgIGNsaWVudFR5cGU6ICdIVE1MNScsXG4gICAgICBsYXN0UGluZzoge1xuICAgICAgICAkbHQ6IChjdXJyZW50VGltZSAtIElOVEVSVkFMX1RJTUUpLCAvLyBnZXQgdXNlciB3aG8gaGFzIG5vdCBwaW5nZWQgaW4gdGhlIGxhc3QgMTAgc2Vjb25kc1xuICAgICAgfSxcbiAgICAgIGxvZ2luVGltZToge1xuICAgICAgICAkbHQ6IChjdXJyZW50VGltZSAtIElOVEVSVkFMX1RJTUUpLFxuICAgICAgfSxcbiAgICB9KS5mZXRjaCgpO1xuICAgIGlmICghdXNlcnMubGVuZ3RoKSByZXR1cm4gTG9nZ2VyLmluZm8oJ05vIGluYWN0aXZlIHVzZXJzJyk7XG4gICAgTG9nZ2VyLmluZm8oJ1JlbW92aW5nIGluYWN0aXZlIHVzZXJzJyk7XG4gICAgdXNlcnMuZm9yRWFjaCgodXNlcikgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYERldGVjdGVkIGluYWN0aXZlIHVzZXIsIHVzZXJJZDoke3VzZXIudXNlcklkfSwgbWVldGluZ0lkOiR7dXNlci5tZWV0aW5nSWR9YCk7XG4gICAgICByZXR1cm4gdXNlckxlYXZpbmcodXNlci5tZWV0aW5nSWQsIHVzZXIudXNlcklkLCB1c2VyLmNvbm5lY3Rpb25JZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKCdBbGwgaW5hY3RpdmUgdXNlcnMgaGF2ZSBiZWVuIHJlbW92ZWQnKTtcbiAgfSwgSU5URVJWQUxfVElNRSk7XG5cbiAgTG9nZ2VyLndhcm4oYFNFUlZFUiBTVEFSVEVELlxcbkVOVj0ke2Vudn0sXFxubm9kZWpzIHZlcnNpb249JHtwcm9jZXNzLnZlcnNpb259XFxuQ0ROPSR7Q0ROX1VSTH1cXG5gLCBBUFBfQ09ORklHKTtcbn0pO1xuXG5XZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSgnL2NoZWNrJywgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHBheWxvYWQgPSB7IGh0bWw1Y2xpZW50U3RhdHVzOiAncnVubmluZycgfTtcblxuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICByZXMud3JpdGVIZWFkKDIwMCk7XG4gIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpO1xufSk7XG5cbldlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKCcvbG9jYWxlJywgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IEFQUF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmFwcDtcbiAgY29uc3QgZmFsbGJhY2sgPSBBUFBfQ09ORklHLmRlZmF1bHRTZXR0aW5ncy5hcHBsaWNhdGlvbi5mYWxsYmFja0xvY2FsZTtcbiAgY29uc3Qgb3ZlcnJpZGUgPSBBUFBfQ09ORklHLmRlZmF1bHRTZXR0aW5ncy5hcHBsaWNhdGlvbi5vdmVycmlkZUxvY2FsZTtcbiAgY29uc3QgYnJvd3NlckxvY2FsZSA9IG92ZXJyaWRlICYmIHJlcS5xdWVyeS5pbml0ID09PSAndHJ1ZSdcbiAgICA/IG92ZXJyaWRlLnNwbGl0KC9bLV9dL2cpIDogcmVxLnF1ZXJ5LmxvY2FsZS5zcGxpdCgvWy1fXS9nKTtcblxuICBjb25zdCBsb2NhbGVMaXN0ID0gW2ZhbGxiYWNrXTtcblxuICBjb25zdCB1c2FibGVMb2NhbGVzID0gQVZBSUxBQkxFX0xPQ0FMRVNcbiAgICAubWFwKGZpbGUgPT4gZmlsZS5yZXBsYWNlKCcuanNvbicsICcnKSlcbiAgICAucmVkdWNlKChsb2NhbGVzLCBsb2NhbGUpID0+IChsb2NhbGUubWF0Y2goYnJvd3NlckxvY2FsZVswXSlcbiAgICAgID8gWy4uLmxvY2FsZXMsIGxvY2FsZV1cbiAgICAgIDogbG9jYWxlcyksIFtdKTtcblxuICBjb25zdCByZWdpb25EZWZhdWx0ID0gdXNhYmxlTG9jYWxlcy5maW5kKGxvY2FsZSA9PiBicm93c2VyTG9jYWxlWzBdID09PSBsb2NhbGUpO1xuXG4gIGlmIChyZWdpb25EZWZhdWx0KSBsb2NhbGVMaXN0LnB1c2gocmVnaW9uRGVmYXVsdCk7XG4gIGlmICghcmVnaW9uRGVmYXVsdCAmJiB1c2FibGVMb2NhbGVzLmxlbmd0aCkgbG9jYWxlTGlzdC5wdXNoKHVzYWJsZUxvY2FsZXNbMF0pO1xuXG4gIGxldCBub3JtYWxpemVkTG9jYWxlO1xuICBsZXQgbWVzc2FnZXMgPSB7fTtcblxuICBpZiAoYnJvd3NlckxvY2FsZS5sZW5ndGggPiAxKSB7XG4gICAgbm9ybWFsaXplZExvY2FsZSA9IGAke2Jyb3dzZXJMb2NhbGVbMF19XyR7YnJvd3NlckxvY2FsZVsxXS50b1VwcGVyQ2FzZSgpfWA7XG4gICAgbG9jYWxlTGlzdC5wdXNoKG5vcm1hbGl6ZWRMb2NhbGUpO1xuICB9XG5cbiAgbG9jYWxlTGlzdC5mb3JFYWNoKChsb2NhbGUpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IEFzc2V0cy5nZXRUZXh0KGBsb2NhbGVzLyR7bG9jYWxlfS5qc29uYCk7XG4gICAgICBtZXNzYWdlcyA9IE9iamVjdC5hc3NpZ24obWVzc2FnZXMsIEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgbm9ybWFsaXplZExvY2FsZSA9IGxvY2FsZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBMb2dnZXIud2FybihgJ0NvdWxkIG5vdCBwcm9jZXNzIGxvY2FsZSAke2xvY2FsZX06JHtlfWApO1xuICAgICAgLy8gR2V0dGluZyBoZXJlIG1lYW5zIHRoZSBsb2NhbGUgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsb2NhbGUgZmlsZXMuXG4gICAgfVxuICB9KTtcblxuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHsgbm9ybWFsaXplZExvY2FsZSwgbWVzc2FnZXMgfSkpO1xufSk7XG5cbldlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKCcvbG9jYWxlcycsIChyZXEsIHJlcykgPT4ge1xuICBsZXQgbG9jYWxlcyA9IFtdO1xuICB0cnkge1xuICAgIGxvY2FsZXMgPSBBVkFJTEFCTEVfTE9DQUxFU1xuICAgICAgLm1hcChmaWxlID0+IGZpbGUucmVwbGFjZSgnLmpzb24nLCAnJykpXG4gICAgICAubWFwKGZpbGUgPT4gZmlsZS5yZXBsYWNlKCdfJywgJy0nKSlcbiAgICAgIC5tYXAobG9jYWxlID0+ICh7XG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgbmFtZTogTGFuZ21hcFtsb2NhbGVdLm5hdGl2ZU5hbWUsXG4gICAgICB9KSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBMb2dnZXIud2FybihgJ0NvdWxkIG5vdCBwcm9jZXNzIGxvY2FsZXMgZXJyb3I6ICR7ZX1gKTtcbiAgfVxuXG4gIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gIHJlcy53cml0ZUhlYWQoMjAwKTtcbiAgcmVzLmVuZChKU09OLnN0cmluZ2lmeShsb2NhbGVzKSk7XG59KTtcblxuV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoJy9mZWVkYmFjaycsIChyZXEsIHJlcykgPT4ge1xuICByZXEub24oJ2RhdGEnLCBNZXRlb3IuYmluZEVudmlyb25tZW50KChkYXRhKSA9PiB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgY29uc3Qge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgdXNlcklkLFxuICAgICAgYXV0aFRva2VuLFxuICAgICAgdXNlck5hbWU6IHJlcVVzZXJOYW1lLFxuICAgICAgY29tbWVudCxcbiAgICAgIHJhdGluZyxcbiAgICB9ID0gYm9keTtcblxuICAgIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXV0aFRva2VuLCBTdHJpbmcpO1xuICAgIGNoZWNrKHJlcVVzZXJOYW1lLCBTdHJpbmcpO1xuICAgIGNoZWNrKGNvbW1lbnQsIFN0cmluZyk7XG4gICAgY2hlY2socmF0aW5nLCBOdW1iZXIpO1xuXG4gICAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoe1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgdXNlcklkLFxuICAgICAgY29ubmVjdGlvblN0YXR1czogJ29mZmxpbmUnLFxuICAgICAgYXV0aFRva2VuLFxuICAgIH0pO1xuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICBMb2dnZXIud2FybignQ291bGRuXFwndCBmaW5kIHVzZXIgZm9yIGZlZWRiYWNrJyk7XG4gICAgfVxuXG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICByZXMud3JpdGVIZWFkKDIwMCk7XG4gICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7IHN0YXR1czogJ29rJyB9KSk7XG5cbiAgICBib2R5LnVzZXJOYW1lID0gdXNlciA/IHVzZXIubmFtZSA6IGBbdW5jb25maXJtZWRdICR7cmVxVXNlck5hbWV9YDtcblxuICAgIGNvbnN0IGZlZWRiYWNrID0ge1xuICAgICAgLi4uYm9keSxcbiAgICB9O1xuICAgIExvZ2dlci5pbmZvKCdGRUVEQkFDSyBMT0c6JywgZmVlZGJhY2spO1xuICB9KSk7XG59KTtcblxuV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoJy91c2VyYWdlbnQnLCAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgdXNlckFnZW50ID0gcmVxLmhlYWRlcnNbJ3VzZXItYWdlbnQnXTtcbiAgbGV0IHJlc3BvbnNlID0gJ05vIHVzZXIgYWdlbnQgZm91bmQgaW4gaGVhZGVyJztcbiAgaWYgKHVzZXJBZ2VudCkge1xuICAgIHJlc3BvbnNlID0gbG9va3VwVXNlckFnZW50KHVzZXJBZ2VudCkudG9TdHJpbmcoKTtcbiAgfVxuXG4gIExvZ2dlci5pbmZvKGBUaGUgcmVxdWVzdGluZyB1c2VyIGFnZW50IGlzICR7cmVzcG9uc2V9YCk7XG5cbiAgLy8gcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgcmVzLndyaXRlSGVhZCgyMDApO1xuICByZXMuZW5kKHJlc3BvbnNlKTtcbn0pO1xuXG5leHBvcnQgY29uc3QgZXZlbnRFbWl0dGVyID0gUmVkaXMuZW1pdHRlcjtcblxuZXhwb3J0IGNvbnN0IHJlZGlzUHViU3ViID0gUmVkaXM7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNyZWF0ZUxvZ2dlciwgZm9ybWF0LCB0cmFuc3BvcnRzIH0gZnJvbSAnd2luc3Rvbic7XG5cbmNvbnN0IExPR19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5zZXJ2ZXJMb2cgfHwge307XG5jb25zdCB7IGxldmVsIH0gPSBMT0dfQ09ORklHO1xuXG5jb25zdCBMb2dnZXIgPSBjcmVhdGVMb2dnZXIoe1xuICBsZXZlbCxcbiAgZm9ybWF0OiBmb3JtYXQuY29tYmluZShcbiAgICBmb3JtYXQuY29sb3JpemUoeyBsZXZlbDogdHJ1ZSB9KSxcbiAgICBmb3JtYXQuc3BsYXQoKSxcbiAgICBmb3JtYXQuc2ltcGxlKCksXG4gICksXG4gIHRyYW5zcG9ydHM6IFtcbiAgICAvLyBjb25zb2xlIGxvZ2dpbmdcbiAgICBuZXcgdHJhbnNwb3J0cy5Db25zb2xlKHtcbiAgICAgIHByZXR0eVByaW50OiBmYWxzZSxcbiAgICAgIGh1bWFuUmVhZGFibGVVbmhhbmRsZWRFeGNlcHRpb246IHRydWUsXG4gICAgICBjb2xvcml6ZTogdHJ1ZSxcbiAgICAgIGhhbmRsZUV4Y2VwdGlvbnM6IHRydWUsXG4gICAgICBsZXZlbCxcbiAgICB9KSxcbiAgXSxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBMb2dnZXI7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90b3R5cGUtYnVpbHRpbnMgKi9cblxuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcblxuY29uc3Qge1xuICBtZXRyaWNzRHVtcEludGVydmFsTXMsXG4gIG1ldHJpY3NGb2xkZXJQYXRoLFxuICByZW1vdmVNZWV0aW5nT25FbmQsXG59ID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXMubWV0cmljcztcblxuY2xhc3MgTWV0cmljcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubWV0cmljcyA9IHt9O1xuICB9XG5cbiAgYWRkRXZlbnQobWVldGluZ0lkLCBldmVudE5hbWUsIG1lc3NhZ2VMZW5ndGgpIHtcbiAgICBpZiAoIXRoaXMubWV0cmljcy5oYXNPd25Qcm9wZXJ0eShtZWV0aW5nSWQpKSB7XG4gICAgICB0aGlzLm1ldHJpY3NbbWVldGluZ0lkXSA9IHtcbiAgICAgICAgY3VycmVudGx5SW5RdWV1ZToge30sXG4gICAgICAgIHdhc0luUXVldWU6IHt9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGN1cnJlbnRseUluUXVldWUgfSA9IHRoaXMubWV0cmljc1ttZWV0aW5nSWRdO1xuXG4gICAgaWYgKCFjdXJyZW50bHlJblF1ZXVlLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkpIHtcbiAgICAgIGN1cnJlbnRseUluUXVldWVbZXZlbnROYW1lXSA9IHtcbiAgICAgICAgY291bnQ6IDEsXG4gICAgICAgIHBheWxvYWRTaXplOiBtZXNzYWdlTGVuZ3RoLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudGx5SW5RdWV1ZVtldmVudE5hbWVdLmNvdW50ICs9IDE7XG4gICAgICBjdXJyZW50bHlJblF1ZXVlW2V2ZW50TmFtZV0ucGF5bG9hZFNpemUgKz0gbWVzc2FnZUxlbmd0aDtcbiAgICB9XG4gIH1cblxuICBwcm9jZXNzRXZlbnQobWVldGluZ0lkLCBldmVudE5hbWUsIHNpemUsIHByb2Nlc3NpbmdTdGFydFRpbWVzdGFtcCkge1xuICAgIGNvbnN0IGN1cnJlbnRQcm9jZXNzaW5nVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBwcm9jZXNzVGltZSA9IGN1cnJlbnRQcm9jZXNzaW5nVGltZXN0YW1wIC0gcHJvY2Vzc2luZ1N0YXJ0VGltZXN0YW1wO1xuXG4gICAgaWYgKCF0aGlzLm1ldHJpY3NbbWVldGluZ0lkXS53YXNJblF1ZXVlLmhhc093blByb3BlcnR5KGV2ZW50TmFtZSkpIHtcbiAgICAgIHRoaXMubWV0cmljc1ttZWV0aW5nSWRdLndhc0luUXVldWVbZXZlbnROYW1lXSA9IHtcbiAgICAgICAgY291bnQ6IDEsXG4gICAgICAgIHBheWxvYWRTaXplOiB7XG4gICAgICAgICAgbWluOiBzaXplLFxuICAgICAgICAgIG1heDogc2l6ZSxcbiAgICAgICAgICBsYXN0OiBzaXplLFxuICAgICAgICAgIHRvdGFsOiBzaXplLFxuICAgICAgICAgIGF2Zzogc2l6ZSxcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2Vzc2luZ1RpbWU6IHtcbiAgICAgICAgICBtaW46IHByb2Nlc3NUaW1lLFxuICAgICAgICAgIG1heDogcHJvY2Vzc1RpbWUsXG4gICAgICAgICAgbGFzdDogcHJvY2Vzc1RpbWUsXG4gICAgICAgICAgdG90YWw6IHByb2Nlc3NUaW1lLFxuICAgICAgICAgIGF2ZzogcHJvY2Vzc1RpbWUsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgdGhpcy5tZXRyaWNzW21lZXRpbmdJZF0uY3VycmVudGx5SW5RdWV1ZVtldmVudE5hbWVdLmNvdW50IC09IDE7XG5cbiAgICAgIGlmICghdGhpcy5tZXRyaWNzW21lZXRpbmdJZF0uY3VycmVudGx5SW5RdWV1ZVtldmVudE5hbWVdLmNvdW50KSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1ldHJpY3NbbWVldGluZ0lkXS5jdXJyZW50bHlJblF1ZXVlW2V2ZW50TmFtZV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgY3VycmVudGx5SW5RdWV1ZSwgd2FzSW5RdWV1ZSB9ID0gdGhpcy5tZXRyaWNzW21lZXRpbmdJZF07XG5cbiAgICAgIGN1cnJlbnRseUluUXVldWVbZXZlbnROYW1lXS5jb3VudCAtPSAxO1xuXG4gICAgICBpZiAoIWN1cnJlbnRseUluUXVldWVbZXZlbnROYW1lXS5jb3VudCkge1xuICAgICAgICBkZWxldGUgY3VycmVudGx5SW5RdWV1ZVtldmVudE5hbWVdO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IHBheWxvYWRTaXplLCBwcm9jZXNzaW5nVGltZSB9ID0gd2FzSW5RdWV1ZVtldmVudE5hbWVdO1xuXG4gICAgICB3YXNJblF1ZXVlW2V2ZW50TmFtZV0uY291bnQgKz0gMTtcblxuICAgICAgcGF5bG9hZFNpemUubGFzdCA9IHNpemU7XG4gICAgICBwYXlsb2FkU2l6ZS50b3RhbCArPSBzaXplO1xuXG4gICAgICBpZiAocGF5bG9hZFNpemUubWluID4gc2l6ZSkgcGF5bG9hZFNpemUubWluID0gc2l6ZTtcbiAgICAgIGlmIChwYXlsb2FkU2l6ZS5tYXggPCBzaXplKSBwYXlsb2FkU2l6ZS5tYXggPSBzaXplO1xuXG4gICAgICBwYXlsb2FkU2l6ZS5hdmcgPSBwYXlsb2FkU2l6ZS50b3RhbCAvIHdhc0luUXVldWVbZXZlbnROYW1lXS5jb3VudDtcblxuICAgICAgaWYgKHByb2Nlc3NpbmdUaW1lLm1pbiA+IHByb2Nlc3NUaW1lKSBwcm9jZXNzaW5nVGltZS5taW4gPSBwcm9jZXNzVGltZTtcbiAgICAgIGlmIChwcm9jZXNzaW5nVGltZS5tYXggPCBwcm9jZXNzVGltZSkgcHJvY2Vzc2luZ1RpbWUubWF4ID0gcHJvY2Vzc1RpbWU7XG5cbiAgICAgIHByb2Nlc3NpbmdUaW1lLmxhc3QgPSBwcm9jZXNzVGltZTtcbiAgICAgIHByb2Nlc3NpbmdUaW1lLnRvdGFsICs9IHByb2Nlc3NUaW1lO1xuICAgICAgcHJvY2Vzc2luZ1RpbWUuYXZnID0gcHJvY2Vzc2luZ1RpbWUudG90YWwgLyB3YXNJblF1ZXVlW2V2ZW50TmFtZV0uY291bnQ7XG4gICAgfVxuICB9XG5cbiAgc2V0QW5ub3RhdGlvblF1ZXVlTGVuZ3RoKG1lZXRpbmdJZCwgc2l6ZSkge1xuICAgIHRoaXMubWV0cmljc1ttZWV0aW5nSWRdLmFubm90YXRpb25RdWV1ZUxlbmd0aCA9IHNpemU7XG4gIH1cblxuICBzdGFydER1bXBGaWxlKCkge1xuICAgIE1ldGVvci5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmaWxlRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGZ1bGxZZWFyID0gZmlsZURhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgY29uc3QgbW9udGggPSAoZmlsZURhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgY29uc3QgZGF5ID0gZmlsZURhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgY29uc3QgaG91ciA9IGZpbGVEYXRlLmdldEhvdXJzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgICAgICBjb25zdCBtaW51dGVzID0gZmlsZURhdGUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IGZpbGVEYXRlLmdldFNlY29uZHMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG5cbiAgICAgICAgY29uc3QgZm9sZGVyTmFtZSA9IGAke2Z1bGxZZWFyfSR7bW9udGh9JHtkYXl9XyR7aG91cn1gO1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGAke2ZvbGRlck5hbWV9JHttaW51dGVzfSR7c2Vjb25kc31fbWV0cmljcy5qc29uYDtcblxuICAgICAgICBjb25zdCBmb2xkZXJQYXRoID0gcGF0aC5qb2luKG1ldHJpY3NGb2xkZXJQYXRoLCBmb2xkZXJOYW1lKTtcbiAgICAgICAgY29uc3QgZnVsbEZpbGVQYXRoID0gcGF0aC5qb2luKGZvbGRlclBhdGgsIGZpbGVOYW1lKTtcblxuICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoZm9sZGVyUGF0aCkpIHtcbiAgICAgICAgICBMb2dnZXIuZGVidWcoYENyZWF0aW5nIGZvbGRlcjogJHtmb2xkZXJQYXRofWApO1xuICAgICAgICAgIGZzLm1rZGlyU3luYyhmb2xkZXJQYXRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZzLndyaXRlRmlsZVN5bmMoZnVsbEZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeSh0aGlzLm1ldHJpY3MpKTtcblxuICAgICAgICBMb2dnZXIuaW5mbygnTWV0cmljIGZpbGUgc3VjY2Vzc2Z1bGx5IHdyaXR0ZW4nKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoJ0Vycm9yIG9uIHdyaXRpbmcgbWV0cmljcyB0byBkaXNrLicsIGVycik7XG4gICAgICB9XG4gICAgfSwgbWV0cmljc0R1bXBJbnRlcnZhbE1zKTtcbiAgfVxuXG4gIHJlbW92ZU1lZXRpbmcobWVldGluZ0lkKSB7XG4gICAgaWYgKHJlbW92ZU1lZXRpbmdPbkVuZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFJlbW92aW5nIG1lZXRpbmcgJHttZWV0aW5nSWR9IGZyb20gbWV0cmljc2ApO1xuICAgICAgZGVsZXRlIHRoaXMubWV0cmljc1ttZWV0aW5nSWRdO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbyhgU2tpcHBpbmcgcmVtb3ZlIG9mIG1lZXRpbmcgJHttZWV0aW5nSWR9IGZyb20gbWV0cmljc2ApO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtZXRyaWNzU2luZ2xldG9uID0gbmV3IE1ldHJpY3MoKTtcblxuZXhwb3J0IGRlZmF1bHQgbWV0cmljc1NpbmdsZXRvbjtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgc2V0TWluaW11bUJyb3dzZXJWZXJzaW9ucyB9IGZyb20gJ21ldGVvci9tb2Rlcm4tYnJvd3NlcnMnO1xuXG5jb25zdCBzZXRNaW5Ccm93c2VyVmVyc2lvbnMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgbWluQnJvd3NlclZlcnNpb25zIH0gPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZTtcblxuICBjb25zdCB2ZXJzaW9ucyA9IHt9O1xuXG4gIG1pbkJyb3dzZXJWZXJzaW9ucy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgbGV0IHsgdmVyc2lvbiB9ID0gZWxlbTtcbiAgICBpZiAodmVyc2lvbiA9PT0gJ0luZmluaXR5JykgdmVyc2lvbiA9IEluZmluaXR5O1xuXG4gICAgdmVyc2lvbnNbZWxlbS5icm93c2VyXSA9IHZlcnNpb247XG4gIH0pO1xuXG4gIHNldE1pbmltdW1Ccm93c2VyVmVyc2lvbnModmVyc2lvbnMsICdiYmItbWluJyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZXRNaW5Ccm93c2VyVmVyc2lvbnM7XG4iLCIvKiBnbG9iYWwgUG93ZXJRdWV1ZSAqL1xuaW1wb3J0IFJlZGlzIGZyb20gJ3JlZGlzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyMiB9IGZyb20gJ2V2ZW50ZW1pdHRlcjInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IE1ldHJpY3MgZnJvbSAnLi9tZXRyaWNzJztcblxuLy8gRmFrZSBtZWV0aW5nSWQgdXNlZCBmb3IgbWVzc2FnZXMgdGhhdCBoYXZlIG5vIG1lZXRpbmdJZFxuY29uc3QgTk9fTUVFVElOR19JRCA9ICdfJztcblxuY29uc3QgeyBxdWV1ZU1ldHJpY3MgfSA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzLm1ldHJpY3M7XG5cbmNvbnN0IG1ha2VFbnZlbG9wZSA9IChjaGFubmVsLCBldmVudE5hbWUsIGhlYWRlciwgYm9keSwgcm91dGluZykgPT4ge1xuICBjb25zdCBlbnZlbG9wZSA9IHtcbiAgICBlbnZlbG9wZToge1xuICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgICAgcm91dGluZzogcm91dGluZyB8fCB7XG4gICAgICAgIHNlbmRlcjogJ2JiYi1hcHBzLWFra2EnLFxuICAgICAgICAvLyBzZW5kZXI6ICdodG1sNS1zZXJ2ZXInLCAvLyBUT0RPXG4gICAgICB9LFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH0sXG4gICAgY29yZToge1xuICAgICAgaGVhZGVyLFxuICAgICAgYm9keSxcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShlbnZlbG9wZSk7XG59O1xuXG5jbGFzcyBNZWV0aW5nTWVzc2FnZVF1ZXVlIHtcbiAgY29uc3RydWN0b3IoZXZlbnRFbWl0dGVyLCBhc3luY01lc3NhZ2VzID0gW10sIHJlZGlzRGVidWdFbmFibGVkID0gZmFsc2UpIHtcbiAgICB0aGlzLmFzeW5jTWVzc2FnZXMgPSBhc3luY01lc3NhZ2VzO1xuICAgIHRoaXMuZW1pdHRlciA9IGV2ZW50RW1pdHRlcjtcbiAgICB0aGlzLnF1ZXVlID0gbmV3IFBvd2VyUXVldWUoKTtcbiAgICB0aGlzLnJlZGlzRGVidWdFbmFibGVkID0gcmVkaXNEZWJ1Z0VuYWJsZWQ7XG5cbiAgICB0aGlzLmhhbmRsZVRhc2sgPSB0aGlzLmhhbmRsZVRhc2suYmluZCh0aGlzKTtcbiAgICB0aGlzLnF1ZXVlLnRhc2tIYW5kbGVyID0gdGhpcy5oYW5kbGVUYXNrO1xuICB9XG5cbiAgaGFuZGxlVGFzayhkYXRhLCBuZXh0KSB7XG4gICAgY29uc3QgeyBjaGFubmVsIH0gPSBkYXRhO1xuICAgIGNvbnN0IHsgZW52ZWxvcGUgfSA9IGRhdGEucGFyc2VkTWVzc2FnZTtcbiAgICBjb25zdCB7IGhlYWRlciB9ID0gZGF0YS5wYXJzZWRNZXNzYWdlLmNvcmU7XG4gICAgY29uc3QgeyBib2R5IH0gPSBkYXRhLnBhcnNlZE1lc3NhZ2UuY29yZTtcbiAgICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gaGVhZGVyO1xuICAgIGNvbnN0IGV2ZW50TmFtZSA9IGhlYWRlci5uYW1lO1xuICAgIGNvbnN0IGlzQXN5bmMgPSB0aGlzLmFzeW5jTWVzc2FnZXMuaW5jbHVkZXMoY2hhbm5lbClcbiAgICAgIHx8IHRoaXMuYXN5bmNNZXNzYWdlcy5pbmNsdWRlcyhldmVudE5hbWUpO1xuXG4gICAgY29uc3QgYmVnaW5IYW5kbGVUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcblxuICAgIGNoZWNrKGV2ZW50TmFtZSwgU3RyaW5nKTtcbiAgICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gICAgY29uc3QgY2FsbE5leHQgPSAoKSA9PiB7XG4gICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5yZWRpc0RlYnVnRW5hYmxlZCkge1xuICAgICAgICBMb2dnZXIuZGVidWcoYFJlZGlzOiAke2V2ZW50TmFtZX0gY29tcGxldGVkICR7aXNBc3luYyA/ICdhc3luYycgOiAnc3luYyd9YCk7XG4gICAgICB9XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuXG4gICAgICBpZiAocXVldWVNZXRyaWNzKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlSWQgPSBtZWV0aW5nSWQgfHwgTk9fTUVFVElOR19JRDtcbiAgICAgICAgY29uc3QgZGF0YUxlbmd0aCA9IEpTT04uc3RyaW5naWZ5KGRhdGEpLmxlbmd0aDtcblxuICAgICAgICBNZXRyaWNzLnByb2Nlc3NFdmVudChxdWV1ZUlkLCBldmVudE5hbWUsIGRhdGFMZW5ndGgsIGJlZ2luSGFuZGxlVGltZXN0YW1wKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcXVldWVMZW5ndGggPSB0aGlzLnF1ZXVlLmxlbmd0aCgpO1xuICAgICAgaWYgKHF1ZXVlTGVuZ3RoID4gMTAwKSB7XG4gICAgICAgIExvZ2dlci53YXJuKGBSZWRpczogTWVldGluZ01lc3NhZ2VRdWV1ZSBmb3IgbWVldGluZ0lkPSR7bWVldGluZ0lkfSBoYXMgcXVldWUgc2l6ZT0ke3F1ZXVlTGVuZ3RofSBgKTtcbiAgICAgIH1cbiAgICAgIG5leHQoKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25FcnJvciA9IChyZWFzb24pID0+IHtcbiAgICAgIExvZ2dlci5lcnJvcihgJHtldmVudE5hbWV9OiAke3JlYXNvbi5zdGFjayA/IHJlYXNvbi5zdGFjayA6IHJlYXNvbn1gKTtcbiAgICAgIGNhbGxOZXh0KCk7XG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBpZiAodGhpcy5yZWRpc0RlYnVnRW5hYmxlZCkge1xuICAgICAgICBMb2dnZXIuZGVidWcoYFJlZGlzOiAke0pTT04uc3RyaW5naWZ5KGRhdGEucGFyc2VkTWVzc2FnZS5jb3JlKX0gZW1pdHRlZGApO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNBc3luYykge1xuICAgICAgICBjYWxsTmV4dCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVtaXR0ZXJcbiAgICAgICAgLmVtaXRBc3luYyhldmVudE5hbWUsIHsgZW52ZWxvcGUsIGhlYWRlciwgYm9keSB9LCBtZWV0aW5nSWQpXG4gICAgICAgIC50aGVuKGNhbGxOZXh0KVxuICAgICAgICAuY2F0Y2gob25FcnJvcik7XG4gICAgfSBjYXRjaCAocmVhc29uKSB7XG4gICAgICBvbkVycm9yKHJlYXNvbik7XG4gICAgfVxuICB9XG5cbiAgYWRkKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5xdWV1ZS5hZGQoLi4uYXJncyk7XG4gIH1cbn1cblxuY2xhc3MgUmVkaXNQdWJTdWIge1xuICBzdGF0aWMgaGFuZGxlUHVibGlzaEVycm9yKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZyA9IHt9KSB7XG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XG5cbiAgICB0aGlzLmRpZFNlbmRSZXF1ZXN0RXZlbnQgPSBmYWxzZTtcbiAgICBjb25zdCBob3N0ID0gcHJvY2Vzcy5lbnYuUkVESVNfSE9TVCB8fCBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcy5ob3N0O1xuICAgIGNvbnN0IHJlZGlzQ29uZiA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICAgIGNvbnN0IHsgcGFzc3dvcmQsIHBvcnQgfSA9IHJlZGlzQ29uZjtcblxuICAgIGlmIChwYXNzd29yZCkge1xuICAgICAgdGhpcy5wdWIgPSBSZWRpcy5jcmVhdGVDbGllbnQoeyBob3N0LCBwb3J0LCBwYXNzd29yZCB9KTtcbiAgICAgIHRoaXMuc3ViID0gUmVkaXMuY3JlYXRlQ2xpZW50KHsgaG9zdCwgcG9ydCwgcGFzc3dvcmQgfSk7XG4gICAgICB0aGlzLnB1Yi5hdXRoKHBhc3N3b3JkKTtcbiAgICAgIHRoaXMuc3ViLmF1dGgocGFzc3dvcmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1YiA9IFJlZGlzLmNyZWF0ZUNsaWVudCh7IGhvc3QsIHBvcnQgfSk7XG4gICAgICB0aGlzLnN1YiA9IFJlZGlzLmNyZWF0ZUNsaWVudCh7IGhvc3QsIHBvcnQgfSk7XG4gICAgfVxuXG4gICAgaWYgKHF1ZXVlTWV0cmljcykge1xuICAgICAgTWV0cmljcy5zdGFydER1bXBGaWxlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcjIoKTtcbiAgICB0aGlzLm1ldHRpbmdzUXVldWVzID0ge307XG5cbiAgICB0aGlzLmhhbmRsZVN1YnNjcmliZSA9IHRoaXMuaGFuZGxlU3Vic2NyaWJlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVNZXNzYWdlID0gdGhpcy5oYW5kbGVNZXNzYWdlLmJpbmQodGhpcyk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuc3ViLm9uKCdwc3Vic2NyaWJlJywgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCh0aGlzLmhhbmRsZVN1YnNjcmliZSkpO1xuICAgIHRoaXMuc3ViLm9uKCdwbWVzc2FnZScsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQodGhpcy5oYW5kbGVNZXNzYWdlKSk7XG5cbiAgICBjb25zdCBjaGFubmVsc1RvU3Vic2NyaWJlID0gdGhpcy5jb25maWcuc3Vic2NyaWJlVG87XG5cbiAgICBjaGFubmVsc1RvU3Vic2NyaWJlLmZvckVhY2goKGNoYW5uZWwpID0+IHtcbiAgICAgIHRoaXMuc3ViLnBzdWJzY3JpYmUoY2hhbm5lbCk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5yZWRpc0RlYnVnRW5hYmxlZCkge1xuICAgICAgTG9nZ2VyLmRlYnVnKGBSZWRpczogU3Vic2NyaWJlZCB0byAnJHtjaGFubmVsc1RvU3Vic2NyaWJlfSdgKTtcbiAgICB9XG4gIH1cblxuICB1cGRhdGVDb25maWcoY29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvbmZpZywgY29uZmlnKTtcbiAgICB0aGlzLnJlZGlzRGVidWdFbmFibGVkID0gdGhpcy5jb25maWcuZGVidWc7XG4gIH1cblxuXG4gIC8vIFRPRE86IE1vdmUgdGhpcyBvdXQgb2YgdGhpcyBjbGFzcywgbWF5YmUgcGFzcyBhcyBhIGNhbGxiYWNrIHRvIGluaXQ/XG4gIGhhbmRsZVN1YnNjcmliZSgpIHtcbiAgICBpZiAodGhpcy5kaWRTZW5kUmVxdWVzdEV2ZW50KSByZXR1cm47XG5cbiAgICAvLyBwb3B1bGF0ZSBjb2xsZWN0aW9ucyB3aXRoIHByZS1leGlzdGluZyBkYXRhXG4gICAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gICAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICAgIGNvbnN0IEVWRU5UX05BTUUgPSAnR2V0QWxsTWVldGluZ3NSZXFNc2cnO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgIHJlcXVlc3RlcklkOiAnbm9kZUpTYXBwJyxcbiAgICB9O1xuXG4gICAgdGhpcy5wdWJsaXNoU3lzdGVtTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBib2R5KTtcbiAgICB0aGlzLmRpZFNlbmRSZXF1ZXN0RXZlbnQgPSB0cnVlO1xuICB9XG5cbiAgaGFuZGxlTWVzc2FnZShwYXR0ZXJuLCBjaGFubmVsLCBtZXNzYWdlKSB7XG4gICAgY29uc3QgcGFyc2VkTWVzc2FnZSA9IEpTT04ucGFyc2UobWVzc2FnZSk7XG4gICAgY29uc3QgeyBuYW1lOiBldmVudE5hbWUsIG1lZXRpbmdJZCB9ID0gcGFyc2VkTWVzc2FnZS5jb3JlLmhlYWRlcjtcbiAgICBjb25zdCB7IGlnbm9yZWQ6IGlnbm9yZWRNZXNzYWdlcywgYXN5bmMgfSA9IHRoaXMuY29uZmlnO1xuXG4gICAgaWYgKGlnbm9yZWRNZXNzYWdlcy5pbmNsdWRlcyhjaGFubmVsKVxuICAgICAgfHwgaWdub3JlZE1lc3NhZ2VzLmluY2x1ZGVzKGV2ZW50TmFtZSkpIHtcbiAgICAgIGlmIChldmVudE5hbWUgPT09ICdDaGVja0FsaXZlUG9uZ1N5c01zZycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucmVkaXNEZWJ1Z0VuYWJsZWQpIHtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKGBSZWRpczogJHtldmVudE5hbWV9IHNraXBwZWRgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBxdWV1ZUlkID0gbWVldGluZ0lkIHx8IE5PX01FRVRJTkdfSUQ7XG5cbiAgICBpZiAocXVldWVNZXRyaWNzKSB7XG4gICAgICBNZXRyaWNzLmFkZEV2ZW50KHF1ZXVlSWQsIGV2ZW50TmFtZSwgbWVzc2FnZS5sZW5ndGgpO1xuICAgIH1cblxuICAgIGlmICghKHF1ZXVlSWQgaW4gdGhpcy5tZXR0aW5nc1F1ZXVlcykpIHtcbiAgICAgIHRoaXMubWV0dGluZ3NRdWV1ZXNbbWVldGluZ0lkXSA9IG5ldyBNZWV0aW5nTWVzc2FnZVF1ZXVlKHRoaXMuZW1pdHRlciwgYXN5bmMsIHRoaXMucmVkaXNEZWJ1Z0VuYWJsZWQpO1xuICAgIH1cblxuICAgIHRoaXMubWV0dGluZ3NRdWV1ZXNbbWVldGluZ0lkXS5hZGQoe1xuICAgICAgcGF0dGVybixcbiAgICAgIGNoYW5uZWwsXG4gICAgICBldmVudE5hbWUsXG4gICAgICBwYXJzZWRNZXNzYWdlLFxuICAgIH0pO1xuICB9XG5cbiAgZGVzdHJveU1lZXRpbmdRdWV1ZShpZCkge1xuICAgIGRlbGV0ZSB0aGlzLm1ldHRpbmdzUXVldWVzW2lkXTtcbiAgfVxuXG4gIG9uKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5lbWl0dGVyLm9uKC4uLmFyZ3MpO1xuICB9XG5cbiAgcHVibGlzaFZvaWNlTWVzc2FnZShjaGFubmVsLCBldmVudE5hbWUsIHZvaWNlQ29uZiwgcGF5bG9hZCkge1xuICAgIGNvbnN0IGhlYWRlciA9IHtcbiAgICAgIG5hbWU6IGV2ZW50TmFtZSxcbiAgICAgIHZvaWNlQ29uZixcbiAgICB9O1xuXG4gICAgY29uc3QgZW52ZWxvcGUgPSBtYWtlRW52ZWxvcGUoY2hhbm5lbCwgZXZlbnROYW1lLCBoZWFkZXIsIHBheWxvYWQpO1xuXG4gICAgcmV0dXJuIHRoaXMucHViLnB1Ymxpc2goY2hhbm5lbCwgZW52ZWxvcGUsIFJlZGlzUHViU3ViLmhhbmRsZVB1Ymxpc2hFcnJvcik7XG4gIH1cblxuICBwdWJsaXNoU3lzdGVtTWVzc2FnZShjaGFubmVsLCBldmVudE5hbWUsIHBheWxvYWQpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB7XG4gICAgICBuYW1lOiBldmVudE5hbWUsXG4gICAgfTtcblxuICAgIGNvbnN0IGVudmVsb3BlID0gbWFrZUVudmVsb3BlKGNoYW5uZWwsIGV2ZW50TmFtZSwgaGVhZGVyLCBwYXlsb2FkKTtcblxuICAgIHJldHVybiB0aGlzLnB1Yi5wdWJsaXNoKGNoYW5uZWwsIGVudmVsb3BlLCBSZWRpc1B1YlN1Yi5oYW5kbGVQdWJsaXNoRXJyb3IpO1xuICB9XG5cbiAgcHVibGlzaE1lZXRpbmdNZXNzYWdlKGNoYW5uZWwsIGV2ZW50TmFtZSwgbWVldGluZ0lkLCBwYXlsb2FkKSB7XG4gICAgY29uc3QgaGVhZGVyID0ge1xuICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgICAgbWVldGluZ0lkLFxuICAgIH07XG5cbiAgICBjb25zdCBlbnZlbG9wZSA9IG1ha2VFbnZlbG9wZShjaGFubmVsLCBldmVudE5hbWUsIGhlYWRlciwgcGF5bG9hZCk7XG5cbiAgICByZXR1cm4gdGhpcy5wdWIucHVibGlzaChjaGFubmVsLCBlbnZlbG9wZSwgUmVkaXNQdWJTdWIuaGFuZGxlUHVibGlzaEVycm9yKTtcbiAgfVxuXG4gIHB1Ymxpc2hVc2VyTWVzc2FnZShjaGFubmVsLCBldmVudE5hbWUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKSB7XG4gICAgY29uc3QgaGVhZGVyID0ge1xuICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgICAgbWVldGluZ0lkLFxuICAgICAgdXNlcklkLFxuICAgIH07XG5cbiAgICBpZiAoIW1lZXRpbmdJZCB8fCAhdXNlcklkKSB7XG4gICAgICBMb2dnZXIud2FybihgUHVibGlzaGluZyAke2V2ZW50TmFtZX0gd2l0aCBwb3RlbnRpYWxseSBtaXNzaW5nIGRhdGEgdXNlcklkPSR7dXNlcklkfSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICAgIGNvbnN0IGVudmVsb3BlID0gbWFrZUVudmVsb3BlKGNoYW5uZWwsIGV2ZW50TmFtZSwgaGVhZGVyLCBwYXlsb2FkLCB7IG1lZXRpbmdJZCwgdXNlcklkIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMucHViLnB1Ymxpc2goY2hhbm5lbCwgZW52ZWxvcGUsIFJlZGlzUHViU3ViLmhhbmRsZVB1Ymxpc2hFcnJvcik7XG4gIH1cbn1cblxuY29uc3QgUmVkaXNQdWJTdWJTaW5nbGV0b24gPSBuZXcgUmVkaXNQdWJTdWIoKTtcblxuTWV0ZW9yLnN0YXJ0dXAoKCkgPT4ge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcblxuICBSZWRpc1B1YlN1YlNpbmdsZXRvbi51cGRhdGVDb25maWcoUkVESVNfQ09ORklHKTtcbiAgUmVkaXNQdWJTdWJTaW5nbGV0b24uaW5pdCgpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJlZGlzUHViU3ViU2luZ2xldG9uO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IFlBTUwgZnJvbSAneWFtbCc7XG5cbmNvbnN0IFlBTUxfRklMRV9QQVRIID0gJ2Fzc2V0cy9hcHAvY29uZmlnL3NldHRpbmdzLnltbCc7XG5cbnRyeSB7XG4gIGlmIChmcy5leGlzdHNTeW5jKFlBTUxfRklMRV9QQVRIKSkge1xuICAgIGNvbnN0IFNFVFRJTkdTID0gWUFNTC5wYXJzZShmcy5yZWFkRmlsZVN5bmMoWUFNTF9GSUxFX1BBVEgsICd1dGYtOCcpKTtcblxuICAgIE1ldGVvci5zZXR0aW5ncyA9IFNFVFRJTkdTO1xuICAgIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUFVCTElDX1NFVFRJTkdTID0gU0VUVElOR1MucHVibGljO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignRmlsZSBkb2VzblxcJ3QgZXhpc3RzJyk7XG4gIH1cbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG9uIGxvYWQgY29uZmlndXJhdGlvbiBmaWxlLicsIGVycm9yKTtcbn1cbiIsIi8vIFVzZWQgaW4gRmxhc2ggYW5kIEhUTUwgdG8gc2hvdyBhIGxlZ2l0aW1hdGUgYnJlYWsgaW4gdGhlIGxpbmVcbmNvbnN0IEJSRUFLX0xJTkUgPSAnPGJyLz4nO1xuXG4vLyBTb2Z0IHJldHVybiBpbiBIVE1MIHRvIHNpZ25pZnkgYSBicm9rZW4gbGluZSB3aXRob3V0XG4vLyBkaXNwbGF5aW5nIHRoZSBlc2NhcGVkICc8YnIvPicgbGluZSBicmVhayB0ZXh0XG5jb25zdCBDQVJSSUFHRV9SRVRVUk4gPSAnXFxyJztcblxuLy8gSGFuZGxlIHRoaXMgdGhlIHNhbWUgYXMgY2FycmlhZ2UgcmV0dXJuLCBpbiBjYXNlIHRleHQgY29waWVkIGhhcyB0aGlzXG5jb25zdCBORVdfTElORSA9ICdcXG4nO1xuXG5leHBvcnQgeyBCUkVBS19MSU5FLCBDQVJSSUFHRV9SRVRVUk4sIE5FV19MSU5FIH07XG4iLCJleHBvcnQgY29uc3QgWExTID0gJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCc7XG5leHBvcnQgY29uc3QgWExTWCA9ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCc7XG5leHBvcnQgY29uc3QgRE9DID0gJ2FwcGxpY2F0aW9uL21zd29yZCc7XG5leHBvcnQgY29uc3QgRE9DWCA9ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCc7XG5leHBvcnQgY29uc3QgUFBUID0gJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50JztcbmV4cG9ydCBjb25zdCBQUFRYID0gJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb24nO1xuZXhwb3J0IGNvbnN0IE9EVCA9ICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnRleHQnO1xuZXhwb3J0IGNvbnN0IFJURiA9ICdhcHBsaWNhdGlvbi9ydGYnO1xuZXhwb3J0IGNvbnN0IFRYVCA9ICd0ZXh0L3BsYWluJztcbmV4cG9ydCBjb25zdCBPRFMgPSAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5zcHJlYWRzaGVldCc7XG5leHBvcnQgY29uc3QgT0RQID0gJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQucHJlc2VudGF0aW9uJztcbmV4cG9ydCBjb25zdCBQREYgPSAnYXBwbGljYXRpb24vcGRmJztcbmV4cG9ydCBjb25zdCBKUEVHID0gJ2ltYWdlL2pwZWcnO1xuZXhwb3J0IGNvbnN0IFBORyA9ICdpbWFnZS9wbmcnO1xuZXhwb3J0IGNvbnN0IFNWRyA9ICdpbWFnZS9zdmcreG1sJztcblxuZXhwb3J0IGNvbnN0IFVQTE9BRF9TVVBPUlRFRCA9IFtcbiAgWExTLFxuICBYTFNYLFxuICBET0MsXG4gIERPQ1gsXG4gIFBQVCxcbiAgUFBUWCxcbiAgT0RULFxuICBSVEYsXG4gIFRYVCxcbiAgT0RTLFxuICBPRFAsXG4gIFBERixcbiAgSlBFRyxcbiAgUE5HLFxuXTtcbiIsIi8vXG4vLyBSZWd1bGFyIEV4cHJlc3Npb24gZm9yIFVSTCB2YWxpZGF0aW9uXG4vL1xuLy8gQXV0aG9yOiBEaWVnbyBQZXJpbmlcbi8vIFVwZGF0ZWQ6IDIwMTAvMTIvMDVcbi8vIExpY2Vuc2U6IE1JVFxuLy9cbi8vIENvcHlyaWdodCAoYykgMjAxMC0yMDEzIERpZWdvIFBlcmluaSAoaHR0cDovL3d3dy5pcG9ydC5pdClcbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuLy8gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbi8vIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dFxuLy8gcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsXG4vLyBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4vLyBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZ1xuLy8gY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuLy8gaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbi8vIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFU1xuLy8gT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbi8vIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUXG4vLyBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSxcbi8vIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuLy8gRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUlxuLy8gT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy9cbi8vIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gY29tcG9zZWQgJiBjb21tZW50ZWRcbi8vIGNvdWxkIGJlIGVhc2lseSB0d2Vha2VkIGZvciBSRkMgY29tcGxpYW5jZSxcbi8vIGl0IHdhcyBleHByZXNzbHkgbW9kaWZpZWQgdG8gZml0ICYgc2F0aXNmeVxuLy8gdGhlc2UgdGVzdCBmb3IgYW4gVVJMIHNob3J0ZW5lcjpcbi8vXG4vLyAgIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4XG4vL1xuLy8gTm90ZXMgb24gcG9zc2libGUgZGlmZmVyZW5jZXMgZnJvbSBhIHN0YW5kYXJkL2dlbmVyaWMgdmFsaWRhdGlvbjpcbi8vXG4vLyAtIHV0Zi04IGNoYXIgY2xhc3MgdGFrZSBpbiBjb25zaWRlcmF0aW9uIHRoZSBmdWxsIFVuaWNvZGUgcmFuZ2Vcbi8vIC0gVExEcyBoYXZlIGJlZW4gbWFkZSBtYW5kYXRvcnkgc28gc2luZ2xlIG5hbWVzIGxpa2UgXCJsb2NhbGhvc3RcIiBmYWlsc1xuLy8gLSBwcm90b2NvbHMgaGF2ZSBiZWVuIHJlc3RyaWN0ZWQgdG8gZnRwLCBodHRwIGFuZCBodHRwcyBvbmx5IGFzIHJlcXVlc3RlZFxuLy9cbi8vIENoYW5nZXM6XG4vL1xuLy8gLSBJUCBhZGRyZXNzIGRvdHRlZCBub3RhdGlvbiB2YWxpZGF0aW9uLCByYW5nZTogMS4wLjAuMCAtIDIyMy4yNTUuMjU1LjI1NVxuLy8gICBmaXJzdCBhbmQgbGFzdCBJUCBhZGRyZXNzIG9mIGVhY2ggY2xhc3MgaXMgY29uc2lkZXJlZCBpbnZhbGlkXG4vLyAgIChzaW5jZSB0aGV5IGFyZSBicm9hZGNhc3QvbmV0d29yayBhZGRyZXNzZXMpXG4vL1xuLy8gLSBBZGRlZCBleGNsdXNpb24gb2YgcHJpdmF0ZSwgcmVzZXJ2ZWQgYW5kL29yIGxvY2FsIG5ldHdvcmtzIHJhbmdlc1xuLy9cbi8vIC0gTWFkZSBzdGFydGluZyBwYXRoIHNsYXNoIG9wdGlvbmFsIChodHRwOi8vZXhhbXBsZS5jb20/Zm9vPWJhcilcbi8vXG4vLyAtIEFsbG93IGEgZG90ICguKSBhdCB0aGUgZW5kIG9mIGhvc3RuYW1lcyAoaHR0cDovL2V4YW1wbGUuY29tLilcbi8vXG4vLyBDb21wcmVzc2VkIG9uZS1saW5lIHZlcnNpb25zOlxuLy9cbi8vIEphdmFzY3JpcHQgdmVyc2lvbiAobWVyZ2UgaW50byBvbmUgbGluZSlcbi8vXG4vLyAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pXG4vLyAoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KVxuLy8gKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn1cbi8vICg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKVxuLy8gKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKVxcLj8pXG4vLyAoPzo6XFxkezIsNX0pPyg/OlsvPyNdXFxTKik/JC9pXG4vL1xuLy8gUEhQIHZlcnNpb24gKG1lcmdlIGludG8gb25lIGxpbmUpXG4vL1xuLy8gX14oPzooPzpodHRwcz98ZnRwKTovLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNylcbi8vICg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pXG4vLyAoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSlcbi8vIHsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxceHswMGExfS1cXHh7ZmZmZn0wLTldLSopXG4vLyAqW2EtelxceHswMGExfS1cXHh7ZmZmZn0wLTldKykoPzpcXC4oPzpbYS16XFx4ezAwYTF9LVxceHtmZmZmfTAtOV0tKikqW2EtelxceHswMGExfS1cXHh7ZmZmZn0wLTldKylcbi8vICooPzpcXC4oPzpbYS16XFx4ezAwYTF9LVxceHtmZmZmfV17Mix9KSlcXC4/KSg/OjpcXGR7Miw1fSk/KD86Wy8/I11cXFMqKT8kX2l1U1xuLy9cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFJlZ0V4cChcblxuICAvLyBwcm90b2NvbCBpZGVudGlmaWVyXG4gICcoPzooPzpodHRwcz98ZnRwKTovLyknICtcblxuICAvLyB1c2VyOnBhc3MgYXV0aGVudGljYXRpb25cbiAgJyg/OlxcXFxTKyg/OjpcXFxcUyopP0ApPycgK1xuICAnKD86JyArXG5cbiAgICAvLyBJUCBhZGRyZXNzIGV4Y2x1c2lvblxuICAgIC8vIHByaXZhdGUgJiBsb2NhbCBuZXR3b3Jrc1xuICAgICcoPyEoPzoxMHwxMjcpKD86XFxcXC5cXFxcZHsxLDN9KXszfSknICtcbiAgICAnKD8hKD86MTY5XFxcXC4yNTR8MTkyXFxcXC4xNjgpKD86XFxcXC5cXFxcZHsxLDN9KXsyfSknICtcbiAgICAnKD8hMTcyXFxcXC4oPzoxWzYtOV18MlxcXFxkfDNbMC0xXSkoPzpcXFxcLlxcXFxkezEsM30pezJ9KScgK1xuXG4gICAgLy8gSVAgYWRkcmVzcyBkb3R0ZWQgbm90YXRpb24gb2N0ZXRzXG4gICAgLy8gZXhjbHVkZXMgbG9vcGJhY2sgbmV0d29yayAwLjAuMC4wXG4gICAgLy8gZXhjbHVkZXMgcmVzZXJ2ZWQgc3BhY2UgPj0gMjI0LjAuMC4wXG4gICAgLy8gZXhjbHVkZXMgbmV0d29yayAmIGJyb2FjYXN0IGFkZHJlc3Nlc1xuICAgIC8vIChmaXJzdCAmIGxhc3QgSVAgYWRkcmVzcyBvZiBlYWNoIGNsYXNzKVxuICAgICcoPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAxXVxcXFxkfDIyWzAtM10pJyArXG4gICAgJyg/OlxcXFwuKD86MT9cXFxcZHsxLDJ9fDJbMC00XVxcXFxkfDI1WzAtNV0pKXsyfScgK1xuICAgICcoPzpcXFxcLig/OlsxLTldXFxcXGQ/fDFcXFxcZFxcXFxkfDJbMC00XVxcXFxkfDI1WzAtNF0pKScgK1xuICAnfCcgK1xuXG4gICAgLy8gaG9zdCBuYW1lXG4gICAgJyg/Oig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XS0qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKScgK1xuXG4gICAgLy8gZG9tYWluIG5hbWVcbiAgICAnKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0tKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKykqJyArXG5cbiAgICAvLyBUTEQgaWRlbnRpZmllclxuICAgICcoPzpcXFxcLig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmXXsyLH0pKScgK1xuXG4gICAgLy8gVExEIG1heSBlbmQgd2l0aCBkb3RcbiAgICAnXFxcXC4/JyArXG4gICcpJyArXG5cbiAgLy8gcG9ydCBudW1iZXJcbiAgJyg/OjpcXFxcZHsyLDV9KT8nICtcblxuICAvLyByZXNvdXJjZSBwYXRoXG4gICcoPzpbLz8jXVxcXFxTKik/JywgJ2ltZycsXG4pO1xuIiwiaW1wb3J0ICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlcic7XG5cbi8vIDJ4XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvcGluZy1wb25nL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvc2VydmVyJztcblxuLy8gQ29tbW9uc1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvbG9nLWNsaWVudC9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuLy8gTmVlZGVkIGZvciBBdG1vc3BoZXJlIHBhY2thZ2UgUm9ja2V0Q2hhdC9tZXRlb3Itc3RyZWFtZXJcbi8vIEl0IGlzIG91dCBvZiBkYXRlIGFuZCB3YXMgd3JpdHRlbiB3aGVuIE1ldGVvciBjb250YWluZWQgbG9kYXNoXG4vLyBwYWNrYWdlLiBIb3dldmVyLCB3ZSBub3cgaW1wb3J0IGxvZGFzaCBhcyBhbiBucG0gcGFja2FnZVxuLy8gaW4gb3JkZXIgdG8gY29udHJvbCB2ZXJzaW9ucywgdXBkYXRlIGZsZXhpYmx5LCBldGMuLlxuLy8gU2V0dGluZyB0aGUgZ2xvYmFsLl8gdG8gdXRpbGl6ZSB0aGUgbnBtIGxvZGFzaCBwYWNrYWdlIGlzIGFuIGludGVyaW0gZml4XG4vLyBhbmQgaXRzIGludHJvZHVjdGlvbiB3YXMgaW5zcGlyZWQgYnlcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Sb2NrZXRDaGF0L21ldGVvci1zdHJlYW1lci9pc3N1ZXMvNDAjaXNzdWVjb21tZW50LTQ5NzYyNzg5M1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuZ2xvYmFsLl8gPSBfO1xuIl19
