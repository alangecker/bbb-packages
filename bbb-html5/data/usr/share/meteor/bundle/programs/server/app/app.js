var require = meteorInstall({"imports":{"api":{"annotations":{"server":{"handlers":{"whiteboardAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardAnnotations.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardAnnotations
});

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let modifyWhiteboardAccess;
module.link("/imports/api/whiteboard-multi-user/server/modifiers/modifyWhiteboardAccess", {
  default(v) {
    modifyWhiteboardAccess = v;
  }

}, 2);
let clearAnnotations;
module.link("../modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 3);
let addAnnotation;
module.link("../modifiers/addAnnotation", {
  default(v) {
    addAnnotation = v;
  }

}, 4);

function handleWhiteboardAnnotations({
  header,
  body
}, meetingId) {
  check(header, Object);

  if (header.userId !== 'nodeJSapp') {
    return false;
  }

  check(meetingId, String);
  check(body, Object);
  const {
    annotations,
    whiteboardId,
    multiUser
  } = body;
  check(annotations, Array);
  check(whiteboardId, String);
  check(multiUser, Boolean);
  clearAnnotations(meetingId, whiteboardId);
  const annotationsAdded = [];

  _.each(annotations, annotation => {
    const {
      wbId,
      userId
    } = annotation;
    annotationsAdded.push(addAnnotation(meetingId, wbId, userId, annotation));
  });

  modifyWhiteboardAccess(meetingId, whiteboardId, multiUser);
  return annotationsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardCleared.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardCleared.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardCleared
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let clearAnnotations;
module.link("../modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 2);

function handleWhiteboardCleared({
  body
}, meetingId) {
  check(body, {
    userId: String,
    whiteboardId: String,
    fullClear: Boolean
  });
  const {
    whiteboardId,
    fullClear,
    userId
  } = body;

  if (fullClear) {
    AnnotationsStreamer(meetingId).emit('removed', {
      meetingId,
      whiteboardId
    });
    return clearAnnotations(meetingId, whiteboardId);
  }

  AnnotationsStreamer(meetingId).emit('removed', {
    meetingId,
    whiteboardId,
    userId
  });
  return clearAnnotations(meetingId, whiteboardId, userId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardSend.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardSend.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardSend
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let addAnnotation;
module.link("../modifiers/addAnnotation", {
  default(v) {
    addAnnotation = v;
  }

}, 2);
let Metrics;
module.link("/imports/startup/server/metrics", {
  default(v) {
    Metrics = v;
  }

}, 3);
const {
  queueMetrics
} = Meteor.settings.private.redis.metrics;
const {
  annotationsQueueProcessInterval: ANNOTATION_PROCESS_INTERVAL
} = Meteor.settings.public.whiteboard;
let annotationsQueue = {};
let annotationsRecieverIsRunning = false;

const process = () => {
  if (!Object.keys(annotationsQueue).length) {
    annotationsRecieverIsRunning = false;
    return;
  }

  annotationsRecieverIsRunning = true;
  Object.keys(annotationsQueue).forEach(meetingId => {
    AnnotationsStreamer(meetingId).emit('added', {
      meetingId,
      annotations: annotationsQueue[meetingId]
    });

    if (queueMetrics) {
      Metrics.setAnnotationQueueLength(meetingId, 0);
    }
  });
  annotationsQueue = {};
  Meteor.setTimeout(process, ANNOTATION_PROCESS_INTERVAL);
};

function handleWhiteboardSend({
  header,
  body
}, meetingId) {
  const userId = header.userId;
  const annotation = body.annotation;
  check(userId, String);
  check(annotation, Object);
  const whiteboardId = annotation.wbId;
  check(whiteboardId, String);

  if (!annotationsQueue.hasOwnProperty(meetingId)) {
    annotationsQueue[meetingId] = [];
  }

  annotationsQueue[meetingId].push({
    meetingId,
    whiteboardId,
    userId,
    annotation
  });

  if (queueMetrics) {
    Metrics.setAnnotationQueueLength(meetingId, annotationsQueue[meetingId].length);
  }

  if (!annotationsRecieverIsRunning) process();
  return addAnnotation(meetingId, whiteboardId, userId, annotation);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardUndo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardUndo.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardUndo
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let removeAnnotation;
module.link("../modifiers/removeAnnotation", {
  default(v) {
    removeAnnotation = v;
  }

}, 2);

function handleWhiteboardUndo({
  body
}, meetingId) {
  const whiteboardId = body.whiteboardId;
  const shapeId = body.annotationId;
  check(whiteboardId, String);
  check(shapeId, String);
  AnnotationsStreamer(meetingId).emit('removed', {
    meetingId,
    whiteboardId,
    shapeId
  });
  return removeAnnotation(meetingId, whiteboardId, shapeId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"clearWhiteboard.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/clearWhiteboard.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearWhiteboard
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function clearWhiteboard(whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ClearWhiteboardPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(whiteboardId, String);
  const payload = {
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendAnnotation.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendAnnotation
});
let sendAnnotationHelper;
module.link("./sendAnnotationHelper", {
  default(v) {
    sendAnnotationHelper = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);

function sendAnnotation(annotation) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  sendAnnotationHelper(annotation, meetingId, requesterUserId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendAnnotationHelper.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendAnnotationHelper.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendAnnotationHelper
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function sendAnnotationHelper(annotation, meetingId, requesterUserId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendWhiteboardAnnotationPubMsg';
  const whiteboardId = annotation.wbId;
  check(annotation, Object);
  check(whiteboardId, String);

  if (annotation.annotationType === 'text') {
    check(annotation, {
      id: String,
      status: String,
      annotationType: String,
      annotationInfo: {
        x: Number,
        y: Number,
        fontColor: Number,
        calcedFontSize: Number,
        textBoxWidth: Number,
        text: String,
        textBoxHeight: Number,
        id: String,
        whiteboardId: String,
        status: String,
        fontSize: Number,
        dataPoints: String,
        type: String
      },
      wbId: String,
      userId: String,
      position: Number
    });
  } else {
    check(annotation, {
      id: String,
      status: String,
      annotationType: String,
      annotationInfo: {
        color: Number,
        thickness: Number,
        points: Array,
        id: String,
        whiteboardId: String,
        status: String,
        type: String,
        dimensions: Match.Maybe([Number])
      },
      wbId: String,
      userId: String,
      position: Number
    });
  }

  const payload = {
    annotation
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendBulkAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendBulkAnnotations.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendBulkAnnotations
});
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 0);
let sendAnnotationHelper;
module.link("./sendAnnotationHelper", {
  default(v) {
    sendAnnotationHelper = v;
  }

}, 1);

function sendBulkAnnotations(payload) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  payload.forEach(annotation => sendAnnotationHelper(annotation, meetingId, requesterUserId));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"undoAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/undoAnnotation.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => undoAnnotation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function undoAnnotation(whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UndoWhiteboardPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(whiteboardId, String);
  const payload = {
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/addAnnotation.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 2);
let addAnnotationQuery;
module.link("/imports/api/annotations/addAnnotation", {
  default(v) {
    addAnnotationQuery = v;
  }

}, 3);

function addAnnotation(meetingId, whiteboardId, userId, annotation) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(annotation, Object);
  const query = addAnnotationQuery(meetingId, whiteboardId, userId, annotation);

  try {
    const {
      insertedId
    } = Annotations.upsert(query.selector, query.modifier);

    if (insertedId) {
      Logger.info(`Added annotation id=${annotation.id} whiteboard=${whiteboardId}`);
    }
  } catch (err) {
    Logger.error(`Adding annotation to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/clearAnnotations.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearAnnotations
});
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearAnnotations(meetingId, whiteboardId, userId) {
  const selector = {};

  if (meetingId) {
    selector.meetingId = meetingId;
  }

  if (whiteboardId) {
    selector.whiteboardId = whiteboardId;
  }

  if (userId) {
    selector.userId = userId;
  }

  try {
    const numberAffected = Annotations.remove(selector);

    if (numberAffected) {
      if (userId) {
        Logger.info(`Cleared Annotations for userId=${userId} where whiteboard=${whiteboardId}`);
        return;
      }

      if (whiteboardId) {
        Logger.info(`Cleared Annotations for whiteboard=${whiteboardId}`);
        return;
      }

      if (meetingId) {
        Logger.info(`Cleared Annotations (${meetingId})`);
        return;
      }

      Logger.info('Cleared Annotations (all)');
    }
  } catch (err) {
    Logger.error(`Removing Annotations from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/removeAnnotation.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function removeAnnotation(meetingId, whiteboardId, shapeId) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(shapeId, String);
  const selector = {
    meetingId,
    whiteboardId,
    id: shapeId
  };

  try {
    const numberAffected = Annotations.remove(selector);

    if (numberAffected) {
      Logger.info(`Removed annotation id=${shapeId} whiteboard=${whiteboardId}`);
    }
  } catch (err) {
    Logger.error(`Removing annotation from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleWhiteboardCleared;
module.link("./handlers/whiteboardCleared", {
  default(v) {
    handleWhiteboardCleared = v;
  }

}, 2);
let handleWhiteboardUndo;
module.link("./handlers/whiteboardUndo", {
  default(v) {
    handleWhiteboardUndo = v;
  }

}, 3);
let handleWhiteboardSend;
module.link("./handlers/whiteboardSend", {
  default(v) {
    handleWhiteboardSend = v;
  }

}, 4);
let handleWhiteboardAnnotations;
module.link("./handlers/whiteboardAnnotations", {
  default(v) {
    handleWhiteboardAnnotations = v;
  }

}, 5);
RedisPubSub.on('ClearWhiteboardEvtMsg', handleWhiteboardCleared);
RedisPubSub.on('UndoWhiteboardEvtMsg', handleWhiteboardUndo);
RedisPubSub.on('SendWhiteboardAnnotationEvtMsg', handleWhiteboardSend);
RedisPubSub.on('GetWhiteboardAnnotationsRespMsg', processForHTML5ServerOnly(handleWhiteboardAnnotations));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let undoAnnotation;
module.link("./methods/undoAnnotation", {
  default(v) {
    undoAnnotation = v;
  }

}, 1);
let clearWhiteboard;
module.link("./methods/clearWhiteboard", {
  default(v) {
    clearWhiteboard = v;
  }

}, 2);
let sendAnnotation;
module.link("./methods/sendAnnotation", {
  default(v) {
    sendAnnotation = v;
  }

}, 3);
let sendBulkAnnotations;
module.link("./methods/sendBulkAnnotations", {
  default(v) {
    sendBulkAnnotations = v;
  }

}, 4);
Meteor.methods({
  undoAnnotation,
  clearWhiteboard,
  sendAnnotation,
  sendBulkAnnotations
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function annotations() {
  if (!this.userId) {
    return Annotations.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Annotations', {
    meetingId,
    requesterUserId
  });
  return Annotations.find({
    meetingId
  });
}

function publish(...args) {
  const boundAnnotations = annotations.bind(this);
  return boundAnnotations(...args);
}

Meteor.publish('annotations', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"streamer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/streamer.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  removeAnnotationsStreamer: () => removeAnnotationsStreamer,
  addAnnotationsStreamer: () => addAnnotationsStreamer,
  default: () => get
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

function removeAnnotationsStreamer(meetingId) {
  Logger.info(`Removing Annotations streamer object for meeting ${meetingId}`);
  delete Meteor.StreamerCentral.instances[`annotations-${meetingId}`];
}

function addAnnotationsStreamer(meetingId) {
  const streamer = new Meteor.Streamer(`annotations-${meetingId}`, {
    retransmit: false
  });
  streamer.allowRead(function allowRead() {
    if (!this.userId) return false;
    return this.userId && this.userId.includes(meetingId);
  });
  streamer.allowWrite(function allowWrite() {
    return false;
  });
}

function get(meetingId) {
  return Meteor.StreamerCentral.instances[`annotations-${meetingId}`];
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"addAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/addAnnotation.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
const ANNOTATION_TYPE_TEXT = 'text';
const ANNOTATION_TYPE_PENCIL = 'pencil'; // line, triangle, ellipse, rectangle

function handleCommonAnnotation(meetingId, whiteboardId, userId, annotation) {
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const selector = {
    meetingId,
    id,
    userId
  };
  const modifier = {
    $set: {
      whiteboardId,
      meetingId,
      id,
      status,
      annotationType,
      annotationInfo,
      wbId
    },
    $setOnInsert: {
      position
    },
    $inc: {
      version: 1
    }
  };
  return {
    selector,
    modifier
  };
}

function handleTextUpdate(meetingId, whiteboardId, userId, annotation) {
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const selector = {
    meetingId,
    id,
    userId
  };
  annotationInfo.text = annotationInfo.text.replace(/[\r]/g, '\n');
  const modifier = {
    $set: {
      whiteboardId,
      meetingId,
      id,
      status,
      annotationType,
      annotationInfo,
      wbId
    },
    $setOnInsert: {
      position
    },
    $inc: {
      version: 1
    }
  };
  return {
    selector,
    modifier
  };
}

function handlePencilUpdate(meetingId, whiteboardId, userId, annotation) {
  const DRAW_START = 'DRAW_START';
  const DRAW_UPDATE = 'DRAW_UPDATE';
  const DRAW_END = 'DRAW_END';
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const baseSelector = {
    meetingId,
    id,
    userId,
    whiteboardId
  };
  let baseModifier;

  switch (status) {
    case DRAW_START:
      // on start we split the points
      // create the 'pencil_base'
      // TODO: find and removed unused props (chunks, version, etc)
      baseModifier = {
        $set: {
          id,
          userId,
          meetingId,
          whiteboardId,
          position,
          status,
          annotationType,
          annotationInfo,
          wbId,
          version: 1
        }
      };
      break;

    case DRAW_UPDATE:
      baseModifier = {
        $push: {
          'annotationInfo.points': {
            $each: annotationInfo.points
          }
        },
        $set: {
          status
        },
        $inc: {
          version: 1
        }
      };
      break;

    case DRAW_END:
      // Updating the main pencil object with the final info
      baseModifier = {
        $set: {
          whiteboardId,
          meetingId,
          id,
          status,
          annotationType,
          annotationInfo,
          wbId,
          position
        },
        $inc: {
          version: 1
        }
      };
      break;

    default:
      break;
  }

  return {
    selector: baseSelector,
    modifier: baseModifier
  };
}

function addAnnotation(meetingId, whiteboardId, userId, annotation) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(annotation, Object);

  switch (annotation.annotationType) {
    case ANNOTATION_TYPE_TEXT:
      return handleTextUpdate(meetingId, whiteboardId, userId, annotation);

    case ANNOTATION_TYPE_PENCIL:
      return handlePencilUpdate(meetingId, whiteboardId, userId, annotation);

    default:
      return handleCommonAnnotation(meetingId, whiteboardId, userId, annotation);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Annotations = new Mongo.Collection('annotations');

if (Meteor.isServer) {
  // types of queries for the annotations  (Total):
  // 1. meetingId, id, userId               ( 8 )
  // 2. meetingId, id, userId, whiteboardId ( 1 )
  // 3. meetingId                           ( 1 )
  // 4. meetingId, whiteboardId             ( 1 )
  // 5. meetingId, whiteboardId, id         ( 1 )
  // 6. meetingId, whiteboardId, userId     ( 1 )
  // These 2 indexes seem to cover all of the cases
  Annotations._ensureIndex({
    id: 1
  });

  Annotations._ensureIndex({
    meetingId: 1,
    whiteboardId: 1,
    userId: 1
  });
}

module.exportDefault(Annotations);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"breakouts":{"server":{"handlers":{"breakoutClosed.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutClosed.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutClosed
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearBreakouts;
module.link("../modifiers/clearBreakouts", {
  default(v) {
    clearBreakouts = v;
  }

}, 1);

function handleBreakoutClosed({
  body
}) {
  const {
    breakoutId
  } = body;
  check(breakoutId, String);
  return clearBreakouts(breakoutId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"breakoutJoinURL.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutJoinURL.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutJoinURL
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 2);

function handleBreakoutJoinURL({
  body
}) {
  const {
    redirectToHtml5JoinURL,
    userId,
    breakoutId
  } = body;
  check(redirectToHtml5JoinURL, String);
  const selector = {
    breakoutId
  };
  const modifier = {
    $push: {
      users: {
        userId,
        redirectToHtml5JoinURL,
        insertedTime: new Date().getTime()
      }
    }
  };

  try {
    const {
      insertedId,
      numberAffected
    } = Breakouts.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added breakout id=${breakoutId}`);
    } else if (numberAffected) {
      Logger.info(`Upserted breakout id=${breakoutId}`);
    }
  } catch (err) {
    Logger.error(`Adding breakout to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"breakoutStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutStarted.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutRoomStarted
});
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function handleBreakoutRoomStarted({
  body
}, meetingId) {
  // 0 seconds default breakout time, forces use of real expiration time
  const DEFAULT_TIME_REMAINING = 0;
  const {
    parentMeetingId,
    breakout
  } = body;
  const {
    breakoutId
  } = breakout;
  check(meetingId, String);
  const selector = {
    breakoutId
  };
  const modifier = {
    $set: Object.assign({
      users: [],
      joinedUsers: []
    }, {
      timeRemaining: DEFAULT_TIME_REMAINING
    }, {
      parentMeetingId
    }, flat(breakout))
  };

  try {
    const {
      numberAffected
    } = Breakouts.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info('Updated timeRemaining and externalMeetingId ' + `for breakout id=${breakoutId}`);
    }
  } catch (err) {
    Logger.error(`updating breakout: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"joinedUsersChanged.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/joinedUsersChanged.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => joinedUsersChanged
});
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function joinedUsersChanged({
  body
}) {
  check(body, Object);
  const {
    parentId,
    breakoutId,
    users
  } = body;
  check(parentId, String);
  check(breakoutId, String);
  check(users, Array);
  const selector = {
    parentMeetingId: parentId,
    breakoutId
  };
  const usersMapped = users.map(user => ({
    userId: user.id,
    name: user.name
  }));
  const modifier = {
    $set: {
      joinedUsers: usersMapped
    }
  };

  try {
    const numberAffected = Breakouts.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated joined users in breakout id=${breakoutId}`);
    }
  } catch (err) {
    Logger.error(`updating joined users in breakout: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateTimeRemaining.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/updateTimeRemaining.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUpdateTimeRemaining
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 2);

function handleUpdateTimeRemaining({
  body
}, meetingId) {
  const {
    timeRemaining
  } = body;
  check(meetingId, String);
  check(timeRemaining, Number);
  const selector = {
    parentMeetingId: meetingId
  };
  const modifier = {
    $set: {
      timeRemaining
    }
  };
  const options = {
    multi: true
  };

  try {
    const numberAffected = Breakouts.update(selector, modifier, options);

    if (numberAffected) {
      Logger.info(`Updated breakout time remaining for breakouts where parentMeetingId=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Updating breakouts: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createBreakout.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/createBreakout.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createBreakoutRoom
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function createBreakoutRoom(rooms, durationInMinutes, record = false) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const BREAKOUT_LIM = Meteor.settings.public.app.breakoutRoomLimit;
  const MIN_BREAKOUT_ROOMS = 2;
  const MAX_BREAKOUT_ROOMS = BREAKOUT_LIM > MIN_BREAKOUT_ROOMS ? BREAKOUT_LIM : MIN_BREAKOUT_ROOMS;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const eventName = 'CreateBreakoutRoomsCmdMsg';

  if (rooms.length > MAX_BREAKOUT_ROOMS) {
    Logger.info(`Attempt to create breakout rooms with invalid number of rooms in meeting id=${meetingId}`);
    return;
  }

  const payload = {
    record,
    durationInMinutes,
    rooms,
    meetingId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"endAllBreakouts.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/endAllBreakouts.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => endAllBreakouts
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function endAllBreakouts() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const eventName = 'EndAllBreakoutRoomsMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, null);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"requestJoinURL.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/requestJoinURL.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => requestJoinURL
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function requestJoinURL({
  breakoutId,
  userId: userIdToInvite
}) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userId = userIdToInvite || requesterUserId;
  const eventName = 'RequestBreakoutJoinURLReqMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, {
    meetingId,
    breakoutId,
    userId
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearBreakouts.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/modifiers/clearBreakouts.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearBreakouts
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 1);

function clearBreakouts(breakoutId) {
  if (breakoutId) {
    const selector = {
      breakoutId
    };

    try {
      const numberAffected = Breakouts.remove(selector);

      if (numberAffected) {
        Logger.info(`Cleared Breakouts (${breakoutId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing Breakouts (${breakoutId})`);
    }
  } else {
    try {
      const numberAffected = Breakouts.remove({});

      if (numberAffected) {
        Logger.info('Cleared Breakouts (all)');
      }
    } catch (err) {
      Logger.error('Error on clearing Breakouts (all)');
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/eventHandlers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleBreakoutJoinURL;
module.link("./handlers/breakoutJoinURL", {
  default(v) {
    handleBreakoutJoinURL = v;
  }

}, 1);
let handleBreakoutStarted;
module.link("./handlers/breakoutStarted", {
  default(v) {
    handleBreakoutStarted = v;
  }

}, 2);
let handleUpdateTimeRemaining;
module.link("./handlers/updateTimeRemaining", {
  default(v) {
    handleUpdateTimeRemaining = v;
  }

}, 3);
let handleBreakoutClosed;
module.link("./handlers/breakoutClosed", {
  default(v) {
    handleBreakoutClosed = v;
  }

}, 4);
let joinedUsersChanged;
module.link("./handlers/joinedUsersChanged", {
  default(v) {
    joinedUsersChanged = v;
  }

}, 5);
RedisPubSub.on('BreakoutRoomStartedEvtMsg', handleBreakoutStarted);
RedisPubSub.on('BreakoutRoomJoinURLEvtMsg', handleBreakoutJoinURL);
RedisPubSub.on('RequestBreakoutJoinURLRespMsg', handleBreakoutJoinURL);
RedisPubSub.on('BreakoutRoomsTimeRemainingUpdateEvtMsg', handleUpdateTimeRemaining);
RedisPubSub.on('BreakoutRoomEndedEvtMsg', handleBreakoutClosed);
RedisPubSub.on('UpdateBreakoutUsersEvtMsg', joinedUsersChanged);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/index.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createBreakoutRoom;
module.link("/imports/api/breakouts/server/methods/createBreakout", {
  default(v) {
    createBreakoutRoom = v;
  }

}, 1);
let requestJoinURL;
module.link("./methods/requestJoinURL", {
  default(v) {
    requestJoinURL = v;
  }

}, 2);
let endAllBreakouts;
module.link("./methods/endAllBreakouts", {
  default(v) {
    endAllBreakouts = v;
  }

}, 3);
Meteor.methods({
  requestJoinURL,
  createBreakoutRoom,
  endAllBreakouts
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/publishers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function breakouts(role) {
  if (!this.userId) {
    return Breakouts.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Breakouts', {
    meetingId,
    requesterUserId
  });
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    const presenterSelector = {
      $or: [{
        parentMeetingId: meetingId
      }, {
        breakoutId: meetingId
      }]
    };
    return Breakouts.find(presenterSelector);
  }

  const selector = {
    $or: [{
      parentMeetingId: meetingId,
      freeJoin: true
    }, {
      parentMeetingId: meetingId,
      'users.userId': requesterUserId
    }, {
      breakoutId: meetingId
    }]
  };
  return Breakouts.find(selector);
}

function publish(...args) {
  const boundBreakouts = breakouts.bind(this);
  return boundBreakouts(...args);
}

Meteor.publish('breakouts', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/index.js                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Breakouts = new Mongo.Collection('breakouts');

if (Meteor.isServer) {
  // types of queries for the breakouts:
  // 1. breakoutId ( handleJoinUrl, roomStarted, clearBreakouts )
  // 2. parentMeetingId ( updateTimeRemaining )
  Breakouts._ensureIndex({
    breakoutId: 1
  });

  Breakouts._ensureIndex({
    parentMeetingId: 1
  });
}

module.exportDefault(Breakouts);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"captions":{"server":{"handlers":{"padCreate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/handlers/padCreate.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadCreate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let fetchReadOnlyPadId;
module.link("/imports/api/captions/server/methods/fetchReadOnlyPadId", {
  default(v) {
    fetchReadOnlyPadId = v;
  }

}, 1);

function handlePadCreate({
  body
}) {
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  fetchReadOnlyPadId(id);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"padUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/handlers/padUpdate.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let getDataFromChangeset;
module.link("/imports/api/captions/server/helpers", {
  getDataFromChangeset(v) {
    getDataFromChangeset = v;
  }

}, 1);
let updatePad;
module.link("/imports/api/captions/server/modifiers/updatePad", {
  default(v) {
    updatePad = v;
  }

}, 2);

function handlePadUpdate({
  body
}) {
  const {
    pad,
    revs,
    changeset
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  check(changeset, String);
  check(revs, Number);
  const data = getDataFromChangeset(changeset);

  if (data !== '') {
    updatePad(id, data, revs);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"appendText.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/appendText.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => appendText
});
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let generatePadId;
module.link("/imports/api/captions/server/helpers", {
  generatePadId(v) {
    generatePadId = v;
  }

}, 3);
let appendTextURL;
module.link("/imports/api/note/server/helpers", {
  appendTextURL(v) {
    appendTextURL = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function appendText(text, locale) {
  const {
    meetingId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(text, String);
  check(locale, String);
  const padId = generatePadId(meetingId, locale);
  axios({
    method: 'get',
    url: appendTextURL(padId, text),
    responseType: 'json'
  }).then(response => {
    const {
      status
    } = response;

    if (status === 200) {
      Logger.verbose('Captions: appended text', {
        padId
      });
    }
  }).catch(error => Logger.error(`Could not append captions for padId=${padId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"createCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/createCaptions.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createCaptions
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let generatePadId, isEnabled, getLocalesURL;
module.link("/imports/api/captions/server/helpers", {
  generatePadId(v) {
    generatePadId = v;
  },

  isEnabled(v) {
    isEnabled = v;
  },

  getLocalesURL(v) {
    getLocalesURL = v;
  }

}, 2);
let addCaption;
module.link("/imports/api/captions/server/modifiers/addCaption", {
  default(v) {
    addCaption = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function createCaptions(meetingId) {
  // Avoid captions creation if this feature is disabled
  if (!isEnabled()) {
    Logger.warn(`Captions are disabled for ${meetingId}`);
    return;
  }

  check(meetingId, String);
  axios({
    method: 'get',
    url: getLocalesURL(),
    responseType: 'json'
  }).then(response => {
    const {
      status
    } = response;

    if (status !== 200) {
      Logger.error(`Could not get locales info for ${meetingId} ${status}`);
    }

    const locales = response.data;
    locales.forEach(locale => {
      const padId = generatePadId(meetingId, locale.locale);
      addCaption(meetingId, padId, locale);
    });
  }).catch(error => Logger.error(`Could not create captions for ${meetingId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"editCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/editCaptions.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => editCaptions
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

const getIndex = (data, length) => length - data.length;

function editCaptions(padId, data) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EditCaptionHistoryPubMsg';
  check(padId, String);
  check(data, String);
  const pad = Captions.findOne({
    padId
  });

  if (!pad) {
    Logger.error(`Editing captions history: ${padId}`);
    return;
  }

  const {
    meetingId,
    ownerId,
    locale,
    length
  } = pad;
  check(meetingId, String);
  check(ownerId, String);
  check(locale, {
    locale: String,
    name: String
  });
  check(length, Number);
  const index = getIndex(data, length);
  const payload = {
    startIndex: index,
    localeCode: locale.locale,
    locale: locale.name,
    endIndex: index,
    text: data
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, ownerId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"fetchReadOnlyPadId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/fetchReadOnlyPadId.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => fetchReadOnlyPadId
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let getReadOnlyIdURL, getDataFromResponse;
module.link("/imports/api/note/server/helpers", {
  getReadOnlyIdURL(v) {
    getReadOnlyIdURL = v;
  },

  getDataFromResponse(v) {
    getDataFromResponse = v;
  }

}, 2);
let updateReadOnlyPadId;
module.link("/imports/api/captions/server/modifiers/updateReadOnlyPadId", {
  default(v) {
    updateReadOnlyPadId = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function fetchReadOnlyPadId(padId) {
  check(padId, String);
  const readOnlyURL = getReadOnlyIdURL(padId);
  axios({
    method: 'get',
    url: readOnlyURL,
    responseType: 'json'
  }).then(response => {
    const readOnlyPadId = getDataFromResponse(response.data, 'readOnlyID');

    if (readOnlyPadId) {
      updateReadOnlyPadId(padId, readOnlyPadId);
    } else {
      Logger.error(`Could not get pad readOnlyID for ${padId}`);
    }
  }).catch(error => Logger.error(`Could not get pad readOnlyID for ${padId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"takeOwnership.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/takeOwnership.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => takeOwnership
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let updateOwnerId;
module.link("/imports/api/captions/server/modifiers/updateOwnerId", {
  default(v) {
    updateOwnerId = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function takeOwnership(locale) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(locale, String);
  const pad = Captions.findOne({
    meetingId,
    padId: {
      $regex: `_captions_${locale}$`
    }
  });

  if (pad) {
    updateOwnerId(meetingId, requesterUserId, pad.padId);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateOwner.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/updateOwner.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => editCaptions
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

function editCaptions(meetingId, userId, padId) {
  // TODO
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UpdateCaptionOwnerPubMsg';
  check(meetingId, String);
  check(userId, String);
  check(padId, String);
  const pad = Captions.findOne({
    meetingId,
    padId
  });

  if (!pad) {
    Logger.error(`Editing captions owner: ${padId}`);
    return;
  }

  const {
    locale
  } = pad;
  check(locale, {
    locale: String,
    name: String
  });
  const payload = {
    ownerId: userId,
    locale: locale.name,
    localeCode: locale.locale
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addCaption.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/addCaption.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addCaption
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addCaption(meetingId, padId, locale) {
  check(meetingId, String);
  check(padId, String);
  check(locale, {
    locale: String,
    name: String
  });
  const selector = {
    meetingId,
    padId
  };
  const modifier = {
    meetingId,
    padId,
    locale,
    ownerId: '',
    readOnlyPadId: '',
    data: '',
    revs: 0,
    length: 0
  };

  try {
    const {
      insertedId,
      numberAffected
    } = Captions.upsert(selector, modifier);

    if (insertedId) {
      Logger.verbose('Captions: added locale', {
        locale: locale.locale,
        meetingId
      });
    } else if (numberAffected) {
      Logger.verbose('Captions: upserted locale', {
        locale: locale.locale,
        meetingId
      });
    }
  } catch (err) {
    Logger.error(`Adding caption to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/clearCaptions.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearCaptions
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearCaptions(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = Captions.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Captions (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing captions (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Captions.remove({});

      if (numberAffected) {
        Logger.info('Cleared Captions (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing captions (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateOwnerId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updateOwnerId.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateOwnerId
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let updateOwner;
module.link("/imports/api/captions/server/methods/updateOwner", {
  default(v) {
    updateOwner = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function updateOwnerId(meetingId, userId, padId) {
  check(meetingId, String);
  check(userId, String);
  check(padId, String);
  const selector = {
    meetingId,
    padId
  };
  const modifier = {
    $set: {
      ownerId: userId
    }
  };

  try {
    const numberAffected = Captions.update(selector, modifier, {
      multi: true
    });

    if (numberAffected) {
      updateOwner(meetingId, userId, padId);
      Logger.verbose('Captions: updated caption', {
        padId,
        ownerId: userId
      });
    }
  } catch (err) {
    Logger.error('Captions: error while updating pad', {
      err
    });
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updatePad.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updatePad.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updatePad
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let editCaptions;
module.link("/imports/api/captions/server/methods/editCaptions", {
  default(v) {
    editCaptions = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function updatePad(padId, data, revs) {
  check(padId, String);
  check(data, String);
  check(revs, Number);
  const selector = {
    padId
  };
  const modifier = {
    $set: {
      data,
      revs
    },
    $inc: {
      length: data.length
    }
  };

  try {
    const numberAffected = Captions.update(selector, modifier, {
      multi: true
    });

    if (numberAffected) {
      editCaptions(padId, data, revs);
      Logger.verbose('Captions: updated pad', {
        padId,
        revs
      });
    }
  } catch (err) {
    Logger.error(`Updating captions pad: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateReadOnlyPadId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updateReadOnlyPadId.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateReadOnlyPadId
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function updateReadOnlyPadId(padId, readOnlyPadId) {
  check(padId, String);
  check(readOnlyPadId, String);
  const selector = {
    padId
  };
  const modifier = {
    $set: {
      readOnlyPadId
    }
  };

  try {
    const numberAffected = Captions.update(selector, modifier, {
      multi: true
    });

    if (numberAffected) {
      Logger.verbose('Captions: added readOnlyPadId', {
        padId,
        readOnlyPadId
      });
    }
  } catch (err) {
    Logger.error('Captions: error when adding readOnlyPadId', {
      err
    });
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/eventHandlers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForCaptionsPadOnly;
module.link("/imports/api/captions/server/helpers", {
  processForCaptionsPadOnly(v) {
    processForCaptionsPadOnly = v;
  }

}, 1);
let handlePadCreate;
module.link("./handlers/padCreate", {
  default(v) {
    handlePadCreate = v;
  }

}, 2);
let handlePadUpdate;
module.link("./handlers/padUpdate", {
  default(v) {
    handlePadUpdate = v;
  }

}, 3);
RedisPubSub.on('PadCreateSysMsg', processForCaptionsPadOnly(handlePadCreate));
RedisPubSub.on('PadUpdateSysMsg', processForCaptionsPadOnly(handlePadUpdate));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/helpers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  generatePadId: () => generatePadId,
  processForCaptionsPadOnly: () => processForCaptionsPadOnly,
  isEnabled: () => isEnabled,
  getLocalesURL: () => getLocalesURL,
  getDataFromChangeset: () => getDataFromChangeset
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let hashFNV32a;
module.link("/imports/api/common/server/helpers", {
  hashFNV32a(v) {
    hashFNV32a = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
const CAPTIONS_CONFIG = Meteor.settings.public.captions;
const BASENAME = Meteor.settings.public.app.basename;
const APP = Meteor.settings.private.app;
const LOCALES_URL = `http://${APP.host}:${APP.port}${BASENAME}${APP.localesUrl}`;
const CAPTIONS = '_captions_';
const TOKEN = '$'; // Captions padId should look like: {padId}_captions_{locale}

const generatePadId = (meetingId, locale) => {
  const padId = `${hashFNV32a(meetingId, true)}${CAPTIONS}${locale}`;
  return padId;
};

const isCaptionsPad = padId => {
  const splitPadId = padId.split(CAPTIONS);
  return splitPadId.length === 2;
};

const getDataFromChangeset = changeset => {
  const splitChangeset = changeset.split(TOKEN);

  if (splitChangeset.length > 1) {
    splitChangeset.shift();
    return splitChangeset.join(TOKEN);
  }

  return '';
};

const isEnabled = () => CAPTIONS_CONFIG.enabled;

const getLocalesURL = () => LOCALES_URL;

const processForCaptionsPadOnly = fn => (message, ...args) => {
  const {
    body
  } = message;
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  if (isCaptionsPad(id)) return fn(message, ...args);
  return () => {};
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/index.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let takeOwnership;
module.link("/imports/api/captions/server/methods/takeOwnership", {
  default(v) {
    takeOwnership = v;
  }

}, 1);
let appendText;
module.link("/imports/api/captions/server/methods/appendText", {
  default(v) {
    appendText = v;
  }

}, 2);
Meteor.methods({
  takeOwnership,
  appendText
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/publishers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function captions() {
  if (!this.userId) {
    return Captions.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Captions', {
    meetingId
  });
  return Captions.find({
    meetingId
  });
}

function publish(...args) {
  const boundCaptions = captions.bind(this);
  return boundCaptions(...args);
}

Meteor.publish('captions', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/index.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Captions = new Mongo.Collection('captions');

if (Meteor.isServer) {
  Captions._ensureIndex({
    meetingId: 1,
    padId: 1
  });
}

module.exportDefault(Captions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cursor":{"server":{"handlers":{"cursorUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/handlers/cursorUpdate.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleCursorUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let CursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  default(v) {
    CursorStreamer = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 3);
const {
  streamerLog
} = Meteor.settings.private.serverLog;
const CURSOR_PROCCESS_INTERVAL = 30;
const cursorQueue = {};

const proccess = _.throttle(() => {
  try {
    Object.keys(cursorQueue).forEach(meetingId => {
      try {
        const cursors = cursorQueue[meetingId];
        delete cursorQueue[meetingId];
        CursorStreamer(meetingId).emit('message', {
          meetingId,
          cursors
        }); // if (streamerLog) {
        //   Logger.debug('CursorUpdate process has finished', { meetingId });
        // }
      } catch (error) {
        Logger.error(`Error while trying to send cursor streamer data for meeting ${meetingId}. ${error}`);
      }
    });
  } catch (error) {
    Logger.error(`Error while processing cursor queue. ${error}`);
  }
}, CURSOR_PROCCESS_INTERVAL);

function handleCursorUpdate({
  header,
  body
}, meetingId) {
  const {
    userId
  } = header;
  check(body, Object);
  check(meetingId, String);
  check(userId, String);

  if (!cursorQueue[meetingId]) {
    cursorQueue[meetingId] = {};
  } // overwrite since we dont care about the other positions


  cursorQueue[meetingId][userId] = body;
  proccess();
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"publishCursorUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/methods/publishCursorUpdate.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishCursorUpdate
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);

function publishCursorUpdate(meetingId, requesterUserId, payload) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendCursorPositionPubMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/eventHandlers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleCursorUpdate;
module.link("./handlers/cursorUpdate", {
  default(v) {
    handleCursorUpdate = v;
  }

}, 1);
RedisPubSub.on('SendCursorPositionEvtMsg', handleCursorUpdate);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/methods.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let publishCursorUpdate;
module.link("./methods/publishCursorUpdate", {
  default(v) {
    publishCursorUpdate = v;
  }

}, 1);
Meteor.methods({
  publishCursorUpdate
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"streamer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/streamer.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  removeCursorStreamer: () => removeCursorStreamer,
  addCursorStreamer: () => addCursorStreamer,
  default: () => get
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let publishCursorUpdate;
module.link("./methods/publishCursorUpdate", {
  default(v) {
    publishCursorUpdate = v;
  }

}, 1);
const {
  streamerLog
} = Meteor.settings.private.serverLog;

function removeCursorStreamer(meetingId) {
  Logger.info(`Removing Cursor streamer object for meeting ${meetingId}`);
  delete Meteor.StreamerCentral.instances[`cursor-${meetingId}`];
}

function addCursorStreamer(meetingId) {
  const streamer = new Meteor.Streamer(`cursor-${meetingId}`, {
    retransmit: false
  });

  if (streamerLog) {
    Logger.debug('Cursor streamer created', {
      meetingId
    });
  }

  streamer.allowRead(function allowRead() {
    if (streamerLog) {
      Logger.debug('Cursor streamer called allowRead', {
        userId: this.userId,
        meetingId
      });
    }

    return this.userId && this.userId.includes(meetingId);
  });
  streamer.allowWrite(function allowWrite() {
    return this.userId && this.userId.includes(meetingId);
  });
  streamer.on('publish', message => {
    publishCursorUpdate(meetingId, message.userId, message.payload);
  });
}

function get(meetingId) {
  return Meteor.StreamerCentral.instances[`cursor-${meetingId}`];
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"external-videos":{"server":{"methods":{"destroyExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/destroyExternalVideo.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => destroyExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function destroyExternalVideo(meetingId) {
  const streamName = `external-videos-${meetingId}`;

  if (Meteor.StreamerCentral.instances[streamName]) {
    Logger.info(`Destroying External Video streamer object for ${streamName}`);
    delete Meteor.StreamerCentral.instances[streamName];
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"emitExternalVideoEvent.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/emitExternalVideoEvent.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => emitExternalVideoEvent
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function emitExternalVideoEvent(messageName, ...rest) {
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const user = Users.findOne({
    userId,
    meetingId
  });

  if (user && user.presenter) {
    const streamerName = `external-videos-${meetingId}`;
    const streamer = Meteor.StreamerCentral.instances[streamerName];

    if (streamer) {
      streamer.emit(messageName, ...rest);
    } else {
      Logger.error(`External Video Streamer not found for meetingId: ${meetingId} userId: ${userId}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"initializeExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/initializeExternalVideo.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => initializeExternalVideo
});
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

const allowRecentMessages = (eventName, message) => {
  const {
    userId,
    meetingId,
    time,
    rate,
    state
  } = message;
  Logger.debug('ExternalVideo Streamer auth allowed', {
    userId,
    meetingId,
    eventName,
    time,
    rate,
    state
  });
  return true;
};

function initializeExternalVideo() {
  const {
    meetingId
  } = extractCredentials(this.userId);
  const streamName = `external-videos-${meetingId}`;

  if (!Meteor.StreamerCentral.instances[streamName]) {
    const streamer = new Meteor.Streamer(streamName);
    streamer.allowRead('all');
    streamer.allowWrite('none');
    streamer.allowEmit(allowRecentMessages);
    Logger.info(`Created External Video streamer for ${streamName}`);
  } else {
    Logger.debug('External Video streamer is already created', {
      streamName
    });
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startWatchingExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/startWatchingExternalVideo.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startWatchingExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 5);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 6);

function startWatchingExternalVideo(options) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StartExternalVideoMsg';
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const {
    externalVideoUrl
  } = options;

  try {
    check(meetingId, String);
    check(userId, String);
    check(externalVideoUrl, String);
    const user = Users.findOne({
      meetingId,
      userId,
      presenter: true
    }, {
      presenter: 1
    });

    if (!user) {
      Logger.error(`Only presenters are allowed to start external video for a meeting. meeting=${meetingId} userId=${userId}`);
      return;
    }

    Meetings.update({
      meetingId
    }, {
      $set: {
        externalVideoUrl
      }
    });
    const payload = {
      externalVideoUrl
    };
    Logger.info(`User id=${userId} sharing an external video: ${externalVideoUrl} for meeting ${meetingId}`);
    return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
  } catch (error) {
    Logger.error(`Error on sharing an external video: ${externalVideoUrl} ${error}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopWatchingExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/stopWatchingExternalVideo.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopWatchingExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function stopWatchingExternalVideo(options) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StopExternalVideoMsg';
  const {
    meetingId,
    requesterUserId
  } = this.userId ? extractCredentials(this.userId) : options;

  try {
    check(meetingId, String);
    check(requesterUserId, String);
    const user = Users.findOne({
      meetingId,
      userId: requesterUserId,
      presenter: true
    }, {
      presenter: 1
    });

    if (this.userId && !user) {
      Logger.error(`Only presenters are allowed to stop external video for a meeting. meeting=${meetingId} userId=${requesterUserId}`);
      return;
    }

    const meeting = Meetings.findOne({
      meetingId
    });
    if (!meeting || meeting.externalVideoUrl === null) return;
    Meetings.update({
      meetingId
    }, {
      $set: {
        externalVideoUrl: null
      }
    });
    const payload = {};
    Logger.info(`User id=${requesterUserId} stopped sharing an external video for meeting=${meetingId}`);
    RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
  } catch (error) {
    Logger.error(`Error on stop sharing an external video for meeting=${meetingId} ${error}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/index.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let startWatchingExternalVideo;
module.link("./methods/startWatchingExternalVideo", {
  default(v) {
    startWatchingExternalVideo = v;
  }

}, 1);
let stopWatchingExternalVideo;
module.link("./methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 2);
let initializeExternalVideo;
module.link("./methods/initializeExternalVideo", {
  default(v) {
    initializeExternalVideo = v;
  }

}, 3);
let emitExternalVideoEvent;
module.link("./methods/emitExternalVideoEvent", {
  default(v) {
    emitExternalVideoEvent = v;
  }

}, 4);
Meteor.methods({
  initializeExternalVideo,
  startWatchingExternalVideo,
  stopWatchingExternalVideo,
  emitExternalVideoEvent
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"group-chat":{"server":{"handlers":{"groupChatCreated.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChatCreated.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatCreated
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChatCreated({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  addGroupChat(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatDestroyed.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChatDestroyed.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatDestroyed
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChatDestroyed({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  addGroupChat(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChats.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChats.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChats
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChats({
  body
}, meetingId) {
  const {
    chats
  } = body;
  check(meetingId, String);
  check(chats, Array);
  chats.forEach(chat => addGroupChat(meetingId, chat));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods/createGroupChat.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createGroupChat
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let CHAT_ACCESS_PRIVATE;
module.link("/imports/api/group-chat", {
  CHAT_ACCESS_PRIVATE(v) {
    CHAT_ACCESS_PRIVATE = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function createGroupChat(receiver) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'CreateGroupChatReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(receiver, Object);
  const payload = {
    correlationId: `${requesterUserId}-${Date.now()}`,
    msg: [],
    users: [receiver.userId],
    access: CHAT_ACCESS_PRIVATE,
    name: receiver.name
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"destroyGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods/destroyGroupChat.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createGroupChat
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function createGroupChat() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const eventName = 'DestroyGroupChatReqMsg';
  const payload = {// TODO: Implement this together with #4988
    // chats: Array[String],
  };
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/modifiers/addGroupChat.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addGroupChat
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 3);

function addGroupChat(meetingId, chat) {
  check(meetingId, String);
  check(chat, {
    id: Match.Maybe(String),
    chatId: Match.Maybe(String),
    correlationId: Match.Maybe(String),
    name: String,
    access: String,
    createdBy: Object,
    users: Array,
    msg: Match.Maybe(Array)
  });
  const chatDocument = {
    meetingId,
    chatId: chat.chatId || chat.id,
    name: chat.name,
    access: chat.access,
    users: chat.users.map(u => u.id),
    createdBy: chat.createdBy.id
  };
  const selector = {
    chatId: chatDocument.chatId,
    meetingId
  };
  const modifier = {
    $set: flat(chatDocument, {
      safe: true
    })
  };

  try {
    const {
      insertedId
    } = GroupChat.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added group-chat name=${chat.name} meetingId=${meetingId}`);
    } else {
      Logger.info(`Upserted group-chat name=${chat.name} meetingId=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding group-chat to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/modifiers/clearGroupChat.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGroupChat
});
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let clearGroupChatMsg;
module.link("/imports/api/group-chat-msg/server/modifiers/clearGroupChatMsg", {
  default(v) {
    clearGroupChatMsg = v;
  }

}, 2);

function clearGroupChat(meetingId) {
  try {
    clearGroupChatMsg(meetingId);
    const numberAffected = GroupChat.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared GroupChat (${meetingId})`);
    }
  } catch (err) {
    Logger.error(`Error on clearing GroupChat (${meetingId}). ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/eventHandlers.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleGroupChats;
module.link("./handlers/groupChats", {
  default(v) {
    handleGroupChats = v;
  }

}, 1);
let handleGroupChatCreated;
module.link("./handlers/groupChatCreated", {
  default(v) {
    handleGroupChatCreated = v;
  }

}, 2);
let handleGroupChatDestroyed;
module.link("./handlers/groupChatDestroyed", {
  default(v) {
    handleGroupChatDestroyed = v;
  }

}, 3);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 4);
RedisPubSub.on('GetGroupChatsRespMsg', processForHTML5ServerOnly(handleGroupChats));
RedisPubSub.on('GroupChatCreatedEvtMsg', handleGroupChatCreated);
RedisPubSub.on('GroupChatDestroyedEvtMsg', handleGroupChatDestroyed);
RedisPubSub.on('SyncGetGroupChatsRespMsg', handleGroupChats);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("/imports/api/group-chat-msg/server");
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createGroupChat;
module.link("./methods/createGroupChat", {
  default(v) {
    createGroupChat = v;
  }

}, 1);
let destroyGroupChat;
module.link("./methods/destroyGroupChat", {
  default(v) {
    destroyGroupChat = v;
  }

}, 2);
Meteor.methods({
  createGroupChat,
  destroyGroupChat
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/publishers.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function groupChat() {
  if (!this.userId) {
    return GroupChat.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_CHAT_TYPE = CHAT_CONFIG.type_public;
  Logger.debug('Publishing group-chat', {
    meetingId,
    requesterUserId
  });
  return GroupChat.find({
    $or: [{
      meetingId,
      access: PUBLIC_CHAT_TYPE
    }, {
      meetingId,
      users: {
        $all: [requesterUserId]
      }
    }]
  });
}

function publish(...args) {
  const boundGroupChat = groupChat.bind(this);
  return boundGroupChat(...args);
}

Meteor.publish('group-chat', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/index.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  CHAT_ACCESS_PUBLIC: () => CHAT_ACCESS_PUBLIC,
  CHAT_ACCESS_PRIVATE: () => CHAT_ACCESS_PRIVATE
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const GroupChat = new Mongo.Collection('group-chat');

if (Meteor.isServer) {
  GroupChat._ensureIndex({
    meetingId: 1,
    chatId: 1,
    access: 1,
    users: 1
  });
}

module.exportDefault(GroupChat);
const CHAT_ACCESS = {
  PUBLIC: 'PUBLIC_ACCESS',
  PRIVATE: 'PRIVATE_ACCESS'
};
const CHAT_ACCESS_PUBLIC = CHAT_ACCESS.PUBLIC;
const CHAT_ACCESS_PRIVATE = CHAT_ACCESS.PRIVATE;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"group-chat-msg":{"server":{"handlers":{"clearPublicGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/clearPublicGroupChat.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPublicChatHistory
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearGroupChatMsg;
module.link("../modifiers/clearGroupChatMsg", {
  default(v) {
    clearGroupChatMsg = v;
  }

}, 1);

function clearPublicChatHistory({
  header,
  body
}) {
  const {
    meetingId
  } = header;
  const {
    chatId
  } = body;
  check(meetingId, String);
  check(chatId, String);
  return clearGroupChatMsg(meetingId, chatId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatMsgBroadcast.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/groupChatMsgBroadcast.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatMsgBroadcast
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 1);
let addGroupChatMsg;
module.link("../modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 2);
let addBulkGroupChatMsgs;
module.link("../modifiers/addBulkGroupChatMsgs", {
  default(v) {
    addBulkGroupChatMsgs = v;
  }

}, 3);
const {
  bufferChatInsertsMs
} = Meteor.settings.public.chat;
const msgBuffer = [];

const bulkFn = _.throttle(addBulkGroupChatMsgs, bufferChatInsertsMs);

function handleGroupChatMsgBroadcast({
  body
}, meetingId) {
  const {
    chatId,
    msg
  } = body;
  check(meetingId, String);
  check(chatId, String);
  check(msg, Object);

  if (bufferChatInsertsMs) {
    msgBuffer.push({
      meetingId,
      chatId,
      msg
    });
    bulkFn(msgBuffer);
  } else {
    addGroupChatMsg(meetingId, chatId, msg);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"syncGroupsChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/syncGroupsChat.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSyncGroupChat
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let syncMeetingChatMsgs;
module.link("../modifiers/syncMeetingChatMsgs", {
  default(v) {
    syncMeetingChatMsgs = v;
  }

}, 1);

function handleSyncGroupChat({
  body
}, meetingId) {
  const {
    chatId,
    msgs
  } = body;
  check(meetingId, String);
  check(chatId, String);
  check(msgs, Match.Maybe(Array));
  syncMeetingChatMsgs(meetingId, chatId, msgs);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/userTyping.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let startTyping;
module.link("../modifiers/startTyping", {
  default(v) {
    startTyping = v;
  }

}, 1);

function handleUserTyping({
  body
}, meetingId) {
  const {
    chatId,
    userId
  } = body;
  check(meetingId, String);
  check(userId, String);
  check(chatId, String);
  startTyping(meetingId, userId, chatId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"clearPublicChatHistory.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/clearPublicChatHistory.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPublicChatHistory
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function clearPublicChatHistory() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ClearPublicChatHistoryPubMsg';
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    chatId: PUBLIC_GROUP_CHAT_ID
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/sendGroupChatMsg.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendGroupChatMsg
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let RegexWebUrl;
module.link("/imports/utils/regex-weburl", {
  default(v) {
    RegexWebUrl = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const HTML_SAFE_MAP = {
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;'
};

const parseMessage = message => {
  let parsedMessage = message || '';
  parsedMessage = parsedMessage.trim(); // Replace <br/> with \n\r

  parsedMessage = parsedMessage.replace(/<br\s*[\\/]?>/gi, '\n\r'); // Sanitize. See: http://shebang.brandonmintern.com/foolproof-html-escaping-in-javascript/

  parsedMessage = parsedMessage.replace(/[<>'"]/g, c => HTML_SAFE_MAP[c]); // Replace flash links to flash valid ones

  parsedMessage = parsedMessage.replace(RegexWebUrl, "<a href='event:$&'><u>$&</u></a>");
  return parsedMessage;
};

function sendGroupChatMsg(chatId, message) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendGroupChatMessageMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(message, Object);
  const parsedMessage = parseMessage(message.message);
  message.message = parsedMessage;
  const payload = {
    msg: message,
    chatId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startUserTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/startUserTyping.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startUserTyping
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function startUserTyping(chatId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserTypingPubMsg';
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(chatId, String);
  const payload = {
    chatId: chatId || PUBLIC_GROUP_CHAT_ID
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopUserTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/stopUserTyping.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopUserTyping
});
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 0);
let stopTyping;
module.link("../modifiers/stopTyping", {
  default(v) {
    stopTyping = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function stopUserTyping() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userTyping = UsersTyping.findOne({
    meetingId,
    userId: requesterUserId
  });

  if (userTyping && meetingId && requesterUserId) {
    stopTyping(meetingId, requesterUserId, true);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addBulkGroupChatMsgs.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/addBulkGroupChatMsgs.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => addBulkGroupChatMsgs
});
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 2);
let parseMessage;
module.link("./addGroupChatMsg", {
  parseMessage(v) {
    parseMessage = v;
  }

}, 3);

function addBulkGroupChatMsgs(msgs) {
  return Promise.asyncApply(() => {
    if (!msgs.length) return;
    const mappedMsgs = msgs.map(({
      chatId,
      meetingId,
      msg
    }) => (0, _objectSpread2.default)({
      _id: new Mongo.ObjectID()._str
    }, msg, {
      meetingId,
      chatId,
      message: parseMessage(msg.message),
      sender: msg.sender.id
    })).map(el => flat(el, {
      safe: true
    }));

    try {
      const {
        insertedCount
      } = Promise.await(GroupChatMsg.rawCollection().insertMany(mappedMsgs));
      msgs.length = 0;

      if (insertedCount) {
        Logger.info(`Inserted ${insertedCount} messages`);
      }
    } catch (err) {
      Logger.error(`Error on bulk insert. ${err}`);
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/addGroupChatMsg.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  parseMessage: () => parseMessage,
  default: () => addGroupChatMsg
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 3);
let BREAK_LINE;
module.link("/imports/utils/lineEndings", {
  BREAK_LINE(v) {
    BREAK_LINE = v;
  }

}, 4);

function parseMessage(message) {
  let parsedMessage = message || ''; // Replace \r and \n to <br/>

  parsedMessage = parsedMessage.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, `$1${BREAK_LINE}$2`); // Replace flash links to html valid ones

  parsedMessage = parsedMessage.split('<a href=\'event:').join('<a target="_blank" href=\'');
  parsedMessage = parsedMessage.split('<a href="event:').join('<a target="_blank" href="');
  return parsedMessage;
}

function addGroupChatMsg(meetingId, chatId, msg) {
  check(meetingId, String);
  check(chatId, String);
  check(msg, {
    id: Match.Maybe(String),
    timestamp: Number,
    sender: Object,
    color: String,
    message: String,
    correlationId: Match.Maybe(String)
  });
  const msgDocument = (0, _objectSpread2.default)({}, msg, {
    meetingId,
    chatId,
    message: parseMessage(msg.message),
    sender: msg.sender.id
  });
  const modifier = flat(msgDocument, {
    safe: true
  });

  try {
    const insertedId = GroupChatMsg.insert(modifier);

    if (insertedId) {
      Logger.info(`Added group-chat-msg msgId=${msg.id} chatId=${chatId} meetingId=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Error on adding group-chat-msg to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/clearGroupChatMsg.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGroupChatMsg
});
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let addGroupChatMsg;
module.link("/imports/api/group-chat-msg/server/modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 2);

function clearGroupChatMsg(meetingId, chatId) {
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_CHAT_SYSTEM_ID = CHAT_CONFIG.system_userid;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const CHAT_CLEAR_MESSAGE = CHAT_CONFIG.system_messages_keys.chat_clear;

  if (chatId) {
    try {
      const numberAffected = GroupChatMsg.remove({
        meetingId,
        chatId
      });

      if (numberAffected) {
        Logger.info(`Cleared GroupChatMsg (${meetingId}, ${chatId})`);
        const clearMsg = {
          color: '0',
          timestamp: Date.now(),
          correlationId: `${PUBLIC_CHAT_SYSTEM_ID}-${Date.now()}`,
          sender: {
            id: PUBLIC_CHAT_SYSTEM_ID,
            name: ''
          },
          message: CHAT_CLEAR_MESSAGE
        };
        addGroupChatMsg(meetingId, PUBLIC_GROUP_CHAT_ID, clearMsg);
      }
    } catch (err) {
      Logger.error(`Error on clearing GroupChat (${meetingId}, ${chatId}). ${err}`);
    }

    return true;
  }

  if (meetingId) {
    try {
      const numberAffected = GroupChatMsg.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared GroupChatMsg (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing GroupChatMsg (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = GroupChatMsg.remove({
        chatId: {
          $eq: PUBLIC_GROUP_CHAT_ID
        }
      });

      if (numberAffected) {
        Logger.info('Cleared GroupChatMsg (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing GroupChatMsg (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/startTyping.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 3);
let stopTyping;
module.link("./stopTyping", {
  default(v) {
    stopTyping = v;
  }

}, 4);
const TYPING_TIMEOUT = 5000;

function startTyping(meetingId, userId, chatId) {
  check(meetingId, String);
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };
  const user = Users.findOne(selector, {
    fields: {
      name: 1,
      role: 1
    }
  });
  const modifier = {
    meetingId,
    userId,
    name: user.name,
    isTypingTo: chatId,
    role: user.role,
    time: new Date()
  };
  const typingUser = UsersTyping.findOne(selector, {
    fields: {
      time: 1
    }
  });

  if (typingUser) {
    if (modifier.time - typingUser.time <= TYPING_TIMEOUT - 100) return;
  }

  try {
    const {
      numberAffected
    } = UsersTyping.upsert(selector, modifier);

    if (numberAffected) {
      Logger.debug('Typing indicator update', {
        userId,
        chatId
      });
      Meteor.setTimeout(() => {
        stopTyping(meetingId, userId);
      }, TYPING_TIMEOUT);
    }
  } catch (err) {
    Logger.error(`Typing indicator update error: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/stopTyping.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 2);

function stopTyping(meetingId, userId, sendMsgInitiated = false) {
  check(meetingId, String);
  check(userId, String);
  check(sendMsgInitiated, Boolean);
  const selector = {
    meetingId,
    userId
  };
  const user = UsersTyping.findOne(selector);
  const stillTyping = !sendMsgInitiated && user && new Date() - user.time < 3000;
  if (stillTyping) return;

  try {
    const numberAffected = UsersTyping.remove(selector);

    if (numberAffected) {
      Logger.debug('Stopped typing indicator', {
        userId
      });
    }
  } catch (err) {
    Logger.error(`Stop user=${userId} typing indicator error: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"syncMeetingChatMsgs.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/syncMeetingChatMsgs.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => syncMeetingChatMsgs
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 1);
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let parseMessage;
module.link("./addGroupChatMsg", {
  parseMessage(v) {
    parseMessage = v;
  }

}, 4);

function syncMeetingChatMsgs(meetingId, chatId, msgs) {
  if (!msgs.length) return;
  check(meetingId, String);
  check(chatId, String);
  check(msgs, Match.Maybe(Array));

  try {
    const bulkOperations = GroupChatMsg.rawCollection().initializeOrderedBulkOp();
    msgs.forEach(msg => {
      const msgToSync = (0, _objectSpread2.default)({}, msg, {
        meetingId,
        chatId,
        message: parseMessage(msg.message),
        sender: msg.sender.id
      });
      const modifier = flat(msgToSync, {
        safe: true
      });
      bulkOperations.find({
        chatId,
        meetingId,
        id: msg.id
      }).upsert().updateOne({
        $setOnInsert: {
          _id: new Mongo.ObjectID()._str
        },
        $set: (0, _objectSpread2.default)({}, modifier)
      });
    });
    bulkOperations.execute();
    Logger.info('Chat messages synchronized', {
      chatId,
      meetingId
    });
  } catch (err) {
    Logger.error(`Error on sync chat messages: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/eventHandlers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleGroupChatMsgBroadcast;
module.link("./handlers/groupChatMsgBroadcast", {
  default(v) {
    handleGroupChatMsgBroadcast = v;
  }

}, 1);
let handleClearPublicGroupChat;
module.link("./handlers/clearPublicGroupChat", {
  default(v) {
    handleClearPublicGroupChat = v;
  }

}, 2);
let handleUserTyping;
module.link("./handlers/userTyping", {
  default(v) {
    handleUserTyping = v;
  }

}, 3);
let handleSyncGroupChatMsg;
module.link("./handlers/syncGroupsChat", {
  default(v) {
    handleSyncGroupChatMsg = v;
  }

}, 4);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 5);
RedisPubSub.on('GetGroupChatMsgsRespMsg', processForHTML5ServerOnly(handleSyncGroupChatMsg));
RedisPubSub.on('GroupChatMessageBroadcastEvtMsg', handleGroupChatMsgBroadcast);
RedisPubSub.on('ClearPublicChatHistoryEvtMsg', handleClearPublicGroupChat);
RedisPubSub.on('SyncGetGroupChatMsgsRespMsg', handleSyncGroupChatMsg);
RedisPubSub.on('UserTypingEvtMsg', handleUserTyping);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let sendGroupChatMsg;
module.link("./methods/sendGroupChatMsg", {
  default(v) {
    sendGroupChatMsg = v;
  }

}, 1);
let clearPublicChatHistory;
module.link("./methods/clearPublicChatHistory", {
  default(v) {
    clearPublicChatHistory = v;
  }

}, 2);
let startUserTyping;
module.link("./methods/startUserTyping", {
  default(v) {
    startUserTyping = v;
  }

}, 3);
let stopUserTyping;
module.link("./methods/stopUserTyping", {
  default(v) {
    stopUserTyping = v;
  }

}, 4);
Meteor.methods({
  sendGroupChatMsg,
  clearPublicChatHistory,
  startUserTyping,
  stopUserTyping
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GroupChatMsg, UsersTyping;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  },

  UsersTyping(v) {
    UsersTyping = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function groupChatMsg(chatsIds) {
  if (!this.userId) {
    return GroupChatMsg.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  Logger.debug('Publishing group-chat-msg', {
    meetingId,
    requesterUserId
  });
  return GroupChatMsg.find({
    $or: [{
      meetingId,
      chatId: {
        $eq: PUBLIC_GROUP_CHAT_ID
      }
    }, {
      chatId: {
        $in: chatsIds
      }
    }]
  });
}

function publish(...args) {
  const boundGroupChat = groupChatMsg.bind(this);
  return boundGroupChat(...args);
}

Meteor.publish('group-chat-msg', publish);

function usersTyping() {
  if (!this.userId) {
    return UsersTyping.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing users-typing', {
    meetingId,
    requesterUserId
  });
  return UsersTyping.find({
    meetingId
  });
}

function pubishUsersTyping(...args) {
  const boundUsersTyping = usersTyping.bind(this);
  return boundUsersTyping(...args);
}

Meteor.publish('users-typing', pubishUsersTyping);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  GroupChatMsg: () => GroupChatMsg,
  UsersTyping: () => UsersTyping
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const GroupChatMsg = new Mongo.Collection('group-chat-msg');
const UsersTyping = new Mongo.Collection('users-typing');

if (Meteor.isServer) {
  GroupChatMsg._ensureIndex({
    meetingId: 1,
    chatId: 1
  });

  UsersTyping._ensureIndex({
    meetingId: 1,
    isTypingTo: 1
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"guest-users":{"server":{"handlers":{"guestApproved.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/handlers/guestApproved.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGuestApproved
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setGuestStatus;
module.link("../modifiers/setGuestStatus", {
  default(v) {
    setGuestStatus = v;
  }

}, 1);

function handleGuestApproved({
  body
}, meetingId) {
  const {
    approvedBy,
    guests
  } = body;
  check(meetingId, String);
  check(approvedBy, String);
  check(guests, Array);
  return guests.forEach(guest => setGuestStatus(meetingId, guest.guest, guest.status, approvedBy));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"guestsWaitingForApproval.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/handlers/guestsWaitingForApproval.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => handleGuestsWaitingForApproval
});
let stringHash;
module.link("string-hash", {
  default(v) {
    stringHash = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GuestUsers;
module.link("/imports/api/guest-users/", {
  default(v) {
    GuestUsers = v;
  }

}, 3);
const COLOR_LIST = ['#7b1fa2', '#6a1b9a', '#4a148c', '#5e35b1', '#512da8', '#4527a0', '#311b92', '#3949ab', '#303f9f', '#283593', '#1a237e', '#1976d2', '#1565c0', '#0d47a1', '#0277bd', '#01579b'];

function handleGuestsWaitingForApproval({
  body
}, meetingId) {
  const {
    guests
  } = body;
  check(guests, Array);
  check(meetingId, String);
  return guests.map(guest => {
    try {
      const {
        insertedId,
        numberAffected
      } = GuestUsers.upsert({
        meetingId,
        intId: guest.intId
      }, (0, _objectSpread2.default)({
        approved: false,
        denied: false
      }, guest, {
        meetingId,
        loginTime: new Date().getTime(),
        color: COLOR_LIST[stringHash(guest.intId) % COLOR_LIST.length]
      }));

      if (insertedId) {
        Logger.info(`Added guest user meeting=${meetingId}`);
      } else if (numberAffected) {
        Logger.info(`Upserted guest user meeting=${meetingId}`);
      }
    } catch (err) {
      Logger.error(`Adding guest user to collection: ${err}`);
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"allowPendingUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods/allowPendingUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => allowPendingUsers
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const REDIS_CONFIG = Meteor.settings.private.redis;
const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
const EVENT_NAME = 'GuestsWaitingApprovedMsg';

function allowPendingUsers(guests, status) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(guests, Array);
  const mappedGuests = guests.map(guest => ({
    status,
    guest: guest.intId
  }));
  const payload = {
    approvedBy: requesterUserId,
    guests: mappedGuests
  };
  Logger.info(`User=${requesterUserId} ${status} guests ${JSON.stringify(mappedGuests)}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeGuestPolicy.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods/changeGuestPolicy.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeGuestPolicy
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const REDIS_CONFIG = Meteor.settings.private.redis;
const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
const EVENT_NAME = 'SetGuestPolicyCmdMsg';

function changeGuestPolicy(policyRule) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(policyRule, String);
  const payload = {
    setBy: requesterUserId,
    policy: policyRule
  };
  Logger.info(`User=${requesterUserId} change guest policy to ${policyRule}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearGuestUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/modifiers/clearGuestUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGuestUsers
});
let GuestUsers;
module.link("/imports/api/guest-users", {
  default(v) {
    GuestUsers = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearGuestUsers(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = GuestUsers.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared GuestUsers in (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing GuestUsers in (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = GuestUsers.remove({});

      if (numberAffected) {
        Logger.info('Cleared GuestUsers in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing GuestUsers in all meetings. ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setGuestStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/modifiers/setGuestStatus.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setGuestStatus
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let GuestUsers;
module.link("/imports/api/guest-users", {
  default(v) {
    GuestUsers = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
const GUEST_STATUS_ALLOW = 'ALLOW';
const GUEST_STATUS_DENY = 'DENY';

function setGuestStatus(meetingId, intId, status, approvedBy = null) {
  check(meetingId, String);
  check(intId, String);
  check(status, String);
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: {
      approved: status === GUEST_STATUS_ALLOW,
      denied: status === GUEST_STATUS_DENY,
      approvedBy
    }
  };

  try {
    const numberAffected = GuestUsers.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated status=${status} user=${intId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Updating status=${status} user=${intId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleGuestApproved;
module.link("./handlers/guestApproved", {
  default(v) {
    handleGuestApproved = v;
  }

}, 2);
let handleGuestsWaitingForApproval;
module.link("./handlers/guestsWaitingForApproval", {
  default(v) {
    handleGuestsWaitingForApproval = v;
  }

}, 3);
RedisPubSub.on('GuestsWaitingForApprovalEvtMsg', processForHTML5ServerOnly(handleGuestsWaitingForApproval));
RedisPubSub.on('GuestsWaitingApprovedEvtMsg', processForHTML5ServerOnly(handleGuestApproved));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let allowPendingUsers;
module.link("/imports/api/guest-users/server/methods/allowPendingUsers", {
  default(v) {
    allowPendingUsers = v;
  }

}, 1);
let changeGuestPolicy;
module.link("/imports/api/guest-users/server/methods/changeGuestPolicy", {
  default(v) {
    changeGuestPolicy = v;
  }

}, 2);
Meteor.methods({
  allowPendingUsers,
  changeGuestPolicy
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GuestUsers;
module.link("/imports/api/guest-users/", {
  default(v) {
    GuestUsers = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function guestUsers() {
  if (!this.userId) {
    return GuestUsers.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`Publishing Slides for ${meetingId} ${requesterUserId}`);
  return GuestUsers.find({
    meetingId
  });
}

function publish(...args) {
  const boundSlides = guestUsers.bind(this);
  return boundSlides(...args);
}

Meteor.publish('guestUser', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Mongo;
module.link("meteor/mongo", {
  Mongo(v) {
    Mongo = v;
  }

}, 1);
const GuestUsers = new Mongo.Collection('guestUsers');
module.exportDefault(GuestUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"local-settings":{"server":{"methods":{"userChangedLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/methods/userChangedLocalSettings.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userChangedLocalSettings
});

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 2);
let setChangedLocalSettings;
module.link("../modifiers/setChangedLocalSettings", {
  default(v) {
    setChangedLocalSettings = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userChangedLocalSettings(settings) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  if (!meetingId || !requesterUserId) return;
  check(settings, Object);
  const userLocalSettings = LocalSettings.findOne({
    meetingId,
    userId: requesterUserId
  }, {
    fields: {
      settings: 1
    }
  });

  if (!userLocalSettings || !_.isEqual(userLocalSettings.settings, settings)) {
    setChangedLocalSettings(meetingId, requesterUserId, settings);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/modifiers/clearLocalSettings.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearLocalSettings
});
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearLocalSettings(meetingId) {
  try {
    const numberAffected = LocalSettings.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared Local Settings (${meetingId})`);
    }
  } catch (err) {
    Logger.error(`Error on clearing Local Settings (${meetingId}). ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setChangedLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/modifiers/setChangedLocalSettings.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setChangedLocalSettings
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setChangedLocalSettings(meetingId, userId, settings) {
  check(meetingId, String);
  check(userId, String);
  check(settings, Object);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      settings
    }
  };

  try {
    const {
      numChanged
    } = LocalSettings.upsert(selector, modifier);

    if (numChanged) {
      Logger.info(`Updated settings for user ${userId} on meeting ${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Error on update settings. ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userChangedLocalSettings;
module.link("./methods/userChangedLocalSettings", {
  default(v) {
    userChangedLocalSettings = v;
  }

}, 1);
Meteor.methods({
  userChangedLocalSettings
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function localSettings() {
  if (!this.userId) {
    return LocalSettings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing local settings', {
    requesterUserId
  });
  return LocalSettings.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundLocalSettings = localSettings.bind(this);
  return boundLocalSettings(...args);
}

Meteor.publish('local-settings', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const LocalSettings = new Mongo.Collection('local-settings');

if (Meteor.isServer) {
  LocalSettings._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(LocalSettings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"log-client":{"server":{"methods":{"logClient.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/methods/logClient.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);

const logClient = function (type, logDescription, logCode = 'was_not_provided', extraInfo = {}, userInfo = {}) {
  const connectionId = this.connection.id;
  const User = Users.findOne({
    connectionId
  });
  const logContents = {
    logCode,
    logDescription,
    connectionId,
    extraInfo,
    userInfo
  };

  if (User) {
    // TODO--
    if (userInfo.credentials && User.meetingId === userInfo.credentials.meetingId || userInfo.meetingId && User.meetingId === userInfo.meetingId) {
      logContents.extraInfo.validUser = 'valid';
    } else {
      logContents.extraInfo.validUser = 'invalid';
    }
  } else {
    logContents.extraInfo.validUser = 'notFound';
  } // If I don't pass message, logs will start with `undefined`


  Logger.log({
    message: JSON.stringify(logContents),
    level: type
  }); // Logger.log({ message: 'client->server', level: type, logContents });
};

module.exportDefault(logClient);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/methods.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let logClient;
module.link("./methods/logClient", {
  default(v) {
    logClient = v;
  }

}, 1);
Meteor.methods({
  logClient
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"meetings":{"server":{"handlers":{"getAllMeetings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/getAllMeetings.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetAllMeetings
});
let handleMeetingCreation;
module.link("./meetingCreation", {
  default(v) {
    handleMeetingCreation = v;
  }

}, 0);

function handleGetAllMeetings({
  body
}) {
  return handleMeetingCreation({
    body
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingCreation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingCreation.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingCreation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addMeeting;
module.link("../modifiers/addMeeting", {
  default(v) {
    addMeeting = v;
  }

}, 1);

function handleMeetingCreation({
  body
}) {
  const meeting = body.props;
  const durationInSecods = meeting.durationProps.duration * 60;
  meeting.durationProps.timeRemaining = durationInSecods;
  check(meeting, Object);
  return addMeeting(meeting);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingDestruction.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingDestruction.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingDestruction
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let destroyExternalVideo;
module.link("/imports/api/external-videos/server/methods/destroyExternalVideo", {
  default(v) {
    destroyExternalVideo = v;
  }

}, 2);
let removeAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  removeAnnotationsStreamer(v) {
    removeAnnotationsStreamer = v;
  }

}, 3);
let removeCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  removeCursorStreamer(v) {
    removeCursorStreamer = v;
  }

}, 4);

function handleMeetingDestruction({
  body
}) {
  check(body, Object);
  const {
    meetingId
  } = body;
  check(meetingId, String);
  destroyExternalVideo(meetingId);
  removeAnnotationsStreamer(meetingId);
  removeCursorStreamer(meetingId);
  return RedisPubSub.destroyMeetingQueue(meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingEnd.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingEnd.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingEnd
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let meetingHasEnded;
module.link("../modifiers/meetingHasEnded", {
  default(v) {
    meetingHasEnded = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 3);
let Users;
module.link("/imports/api/users/", {
  default(v) {
    Users = v;
  }

}, 4);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 5);

function handleMeetingEnd({
  body
}) {
  check(body, Object);
  const {
    meetingId
  } = body;
  check(meetingId, String);

  const cb = (err, num, meetingType) => {
    if (err) {
      Logger.error(`${meetingType} ending error: ${err}`);
      return;
    }

    if (num) {
      Users.update({
        meetingId
      }, {
        $set: {
          connectionStatus: 'offline'
        }
      }, (error, numAffected) => {
        if (error) {
          Logger.error(`Error marking ending ${meetingType} users as offline: ${meetingId} ${err}`);
          return;
        }

        if (numAffected) {
          Logger.info(`Success marking ending ${meetingType} users as offline: ${meetingId}`);
        }
      });
      Meteor.setTimeout(() => {
        meetingHasEnded(meetingId);
      }, 10000);
    }
  };

  Meetings.update({
    meetingId
  }, {
    $set: {
      meetingEnded: true
    }
  }, (err, num) => {
    cb(err, num, 'Meeting');
  });
  Breakouts.update({
    parentMeetingId: meetingId
  }, {
    $set: {
      meetingEnded: true
    }
  }, (err, num) => {
    cb(err, num, 'Breakout');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingLockChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingLockChange.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleLockSettingsInMeeting
});
let changeLockSettings;
module.link("../modifiers/changeLockSettings", {
  default(v) {
    changeLockSettings = v;
  }

}, 0);

function handleLockSettingsInMeeting({
  body
}, meetingId) {
  changeLockSettings(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"recordingStatusChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/recordingStatusChange.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRecordingStatusChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleRecordingStatusChange({
  body
}, meetingId) {
  const {
    recording
  } = body;
  check(recording, Boolean);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      recording
    }
  };

  try {
    const {
      numberAffected
    } = RecordMeetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed meeting record status id=${meetingId} recording=${recording}`);
    }
  } catch (err) {
    Logger.error(`Changing record status: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"recordingTimerChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/recordingTimerChange.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRecordingTimerChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleRecordingTimerChange({
  body
}, meetingId) {
  const {
    time
  } = body;
  check(meetingId, String);
  check(body, {
    time: Number
  });
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      time
    }
  };

  try {
    RecordMeetings.upsert(selector, modifier);
  } catch (err) {
    Logger.error(`Changing recording time: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeRemainingUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/timeRemainingUpdate.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleTimeRemainingUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleTimeRemainingUpdate({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, {
    timeLeftInSec: Number
  });
  const {
    timeLeftInSec
  } = body;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      timeRemaining: timeLeftInSec
    }
  };

  try {
    MeetingTimeRemaining.upsert(selector, modifier);
  } catch (err) {
    Logger.error(`Changing recording time: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLockChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/userLockChange.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleLockSettingsInMeeting
});
let changeUserLock;
module.link("../modifiers/changeUserLock", {
  default(v) {
    changeUserLock = v;
  }

}, 0);

function handleLockSettingsInMeeting({
  body
}, meetingId) {
  changeUserLock(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webcamOnlyModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/webcamOnlyModerator.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleChangeWebcamOnlyModerator
});
let changeWebcamOnlyModerator;
module.link("../modifiers/webcamOnlyModerator", {
  default(v) {
    changeWebcamOnlyModerator = v;
  }

}, 0);

function handleChangeWebcamOnlyModerator({
  body
}, meetingId) {
  changeWebcamOnlyModerator(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"endMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/endMeeting.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => endMeeting
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function endMeeting() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'LogoutAndEndMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    userId: requesterUserId
  };
  Logger.warn(`Meeting '${meetingId}' is destroyed by '${requesterUserId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleLockSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleLockSettings.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleLockSettings
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function toggleLockSettings(lockSettingsProps) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeLockSettingsInMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(lockSettingsProps, {
    disableCam: Boolean,
    disableMic: Boolean,
    disablePrivateChat: Boolean,
    disablePublicChat: Boolean,
    disableNote: Boolean,
    hideUserList: Boolean,
    lockedLayout: Boolean,
    lockOnJoin: Boolean,
    lockOnJoinConfigurable: Boolean,
    setBy: Match.Maybe(String)
  });
  const {
    disableCam,
    disableMic,
    disablePrivateChat: disablePrivChat,
    disablePublicChat: disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable
  } = lockSettingsProps;
  const payload = {
    disableCam,
    disableMic,
    disablePrivChat,
    disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable,
    setBy: requesterUserId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleRecording.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleRecording.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleRecording
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function toggleRecording() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const EVENT_NAME = 'SetRecordingStatusCmdMsg';
  let meetingRecorded;
  let allowedToRecord;
  const recordObject = RecordMeetings.findOne({
    meetingId
  });

  if (recordObject != null) {
    const {
      allowStartStopRecording,
      recording,
      record
    } = recordObject;
    meetingRecorded = recording;
    allowedToRecord = record && allowStartStopRecording; // TODO-- remove some day
  }

  const payload = {
    recording: !meetingRecorded,
    setBy: requesterUserId
  };
  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const user = Users.findOne(selector);

  if (allowedToRecord && !!user && user.role === ROLE_MODERATOR) {
    Logger.info(`Setting the record parameter to ${!meetingRecorded} for ${meetingId} by ${requesterUserId}`);
    return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
  }

  return null;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleWebcamsOnlyForModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleWebcamsOnlyForModerator.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleWebcamsOnlyForModerator
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("../../../common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function toggleWebcamsOnlyForModerator(webcamsOnlyForModerator) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UpdateWebcamsOnlyForModeratorCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(webcamsOnlyForModerator, Boolean);
  const payload = {
    webcamsOnlyForModerator,
    setBy: requesterUserId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"transferUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/transferUser.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => transferUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function transferUser(fromMeetingId, toMeetingId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'TransferUserToMeetingRequestMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    fromMeetingId,
    toMeetingId,
    userId: requesterUserId
  };
  Logger.verbose('User was transferred from one meting to another', {
    requesterUserId,
    fromMeetingId,
    toMeetingId
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/addMeeting.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

module.export({
  default: () => addMeeting
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let check, Match;
module.link("meteor/check", {
  check(v) {
    check = v;
  },

  Match(v) {
    Match = v;
  }

}, 1);
let SanitizeHTML;
module.link("sanitize-html", {
  default(v) {
    SanitizeHTML = v;
  }

}, 2);
let Meetings, RecordMeetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  },

  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let createNote;
module.link("/imports/api/note/server/methods/createNote", {
  default(v) {
    createNote = v;
  }

}, 5);
let createCaptions;
module.link("/imports/api/captions/server/methods/createCaptions", {
  default(v) {
    createCaptions = v;
  }

}, 6);
let addAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  addAnnotationsStreamer(v) {
    addAnnotationsStreamer = v;
  }

}, 7);
let addCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  addCursorStreamer(v) {
    addCursorStreamer = v;
  }

}, 8);
let BannedUsers;
module.link("/imports/api/users/server/store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 9);

function addMeeting(meeting) {
  const meetingId = meeting.meetingProp.intId;
  check(meetingId, String);
  check(meeting, {
    breakoutProps: {
      sequence: Number,
      freeJoin: Boolean,
      breakoutRooms: Array,
      parentId: String,
      enabled: Boolean,
      record: Boolean,
      privateChatEnabled: Boolean
    },
    meetingProp: {
      intId: String,
      extId: String,
      isBreakout: Boolean,
      name: String
    },
    usersProp: {
      webcamsOnlyForModerator: Boolean,
      guestPolicy: String,
      maxUsers: Number,
      allowModsToUnmuteUsers: Boolean
    },
    durationProps: {
      createdTime: Number,
      duration: Number,
      createdDate: String,
      maxInactivityTimeoutMinutes: Number,
      warnMinutesBeforeMax: Number,
      meetingExpireIfNoUserJoinedInMinutes: Number,
      meetingExpireWhenLastUserLeftInMinutes: Number,
      userInactivityInspectTimerInMinutes: Number,
      userInactivityThresholdInMinutes: Number,
      userActivitySignResponseDelayInMinutes: Number,
      timeRemaining: Number
    },
    welcomeProp: {
      welcomeMsg: String,
      modOnlyMessage: String,
      welcomeMsgTemplate: String
    },
    recordProp: Match.ObjectIncluding({
      allowStartStopRecording: Boolean,
      autoStartRecording: Boolean,
      record: Boolean
    }),
    password: {
      viewerPass: String,
      moderatorPass: String
    },
    voiceProp: {
      voiceConf: String,
      dialNumber: String,
      telVoice: String,
      muteOnStart: Boolean
    },
    screenshareProps: {
      red5ScreenshareIp: String,
      red5ScreenshareApp: String,
      screenshareConf: String
    },
    metadataProp: Object,
    lockSettingsProps: {
      disableCam: Boolean,
      disableMic: Boolean,
      disablePrivateChat: Boolean,
      disablePublicChat: Boolean,
      disableNote: Boolean,
      hideUserList: Boolean,
      lockOnJoin: Boolean,
      lockOnJoinConfigurable: Boolean,
      lockedLayout: Boolean
    }
  });
  const {
    recordProp
  } = meeting,
        restProps = (0, _objectWithoutProperties2.default)(meeting, ["recordProp"]);
  const newMeeting = restProps;
  const selector = {
    meetingId
  };
  newMeeting.lockSettingsProps = Object.assign(meeting.lockSettingsProps, {
    setBy: 'temp'
  });
  const meetingEnded = false;
  let {
    welcomeMsg
  } = newMeeting.welcomeProp;

  const sanitizeTextInChat = original => SanitizeHTML(original, {
    allowedTags: ['a', 'b', 'br', 'i', 'img', 'li', 'small', 'span', 'strong', 'u', 'ul'],
    allowedAttributes: {
      a: ['href', 'name', 'target'],
      img: ['src', 'width', 'height']
    },
    allowedSchemes: ['https']
  });

  const sanitizedWelcomeText = sanitizeTextInChat(welcomeMsg);
  welcomeMsg = sanitizedWelcomeText.replace('href="event:', 'href="');

  const insertBlankTarget = (s, i) => `${s.substr(0, i)} target="_blank"${s.substr(i)}`;

  const linkWithoutTarget = new RegExp('<a href="(.*?)">', 'g');
  linkWithoutTarget.test(welcomeMsg);

  if (linkWithoutTarget.lastIndex > 0) {
    welcomeMsg = insertBlankTarget(welcomeMsg, linkWithoutTarget.lastIndex - 1);
  }

  newMeeting.welcomeProp.welcomeMsg = welcomeMsg; // note: as of July 2020 `modOnlyMessage` is not published to the client side.
  // We are sanitizing this data simply to prevent future potential usage
  // At the moment `modOnlyMessage` is obtained from client side as a response to Enter API

  newMeeting.welcomeProp.modOnlyMessage = sanitizeTextInChat(newMeeting.welcomeProp.modOnlyMessage);
  const modifier = {
    $set: Object.assign({
      meetingId,
      meetingEnded,
      publishedPoll: false
    }, flat(newMeeting, {
      safe: true
    }))
  };

  try {
    const {
      insertedId,
      numberAffected
    } = RecordMeetings.upsert(selector, (0, _objectSpread2.default)({
      meetingId
    }, recordProp));

    if (insertedId) {
      Logger.info(`Added record prop id=${meetingId}`);
    } else if (numberAffected) {
      Logger.info(`Upserted record prop id=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding record prop to collection: ${err}`);
  }

  try {
    const {
      insertedId,
      numberAffected
    } = Meetings.upsert(selector, modifier);
    addAnnotationsStreamer(meetingId);
    addCursorStreamer(meetingId);

    if (insertedId) {
      Logger.info(`Added meeting id=${meetingId}`); // TODO: Here we call Etherpad API to create this meeting notes. Is there a
      // better place we can run this post-creation routine?

      createNote(meetingId);
      createCaptions(meetingId);
      BannedUsers.init(meetingId);
    } else if (numberAffected) {
      Logger.info(`Upserted meeting id=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding meeting to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeLockSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/changeLockSettings.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeLockSettings
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeLockSettings(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    disableCam: Boolean,
    disableMic: Boolean,
    disablePrivChat: Boolean,
    disablePubChat: Boolean,
    disableNote: Boolean,
    hideUserList: Boolean,
    lockedLayout: Boolean,
    lockOnJoin: Boolean,
    lockOnJoinConfigurable: Boolean,
    setBy: Match.Maybe(String)
  });
  const {
    disableCam,
    disableMic,
    disablePrivChat,
    disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable,
    setBy
  } = payload;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      lockSettingsProps: {
        disableCam,
        disableMic,
        disablePrivateChat: disablePrivChat,
        disablePublicChat: disablePubChat,
        disableNote,
        hideUserList,
        lockedLayout,
        lockOnJoin,
        lockOnJoinConfigurable,
        setBy
      }
    }
  };

  try {
    const {
      numberAffected
    } = Meetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed meeting={${meetingId}} updated lock settings`);
    } else {
      Logger.info(`meeting={${meetingId}} lock settings were not updated`);
    }
  } catch (err) {
    Logger.error(`Changing meeting={${meetingId}} lock settings: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeUserLock.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/changeUserLock.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeUserLock
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeUserLock(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    userId: String,
    locked: Boolean,
    lockedBy: String
  });
  const {
    userId,
    locked,
    lockedBy
  } = payload;
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      locked
    }
  };

  try {
    const {
      numberAffected
    } = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`User's userId=${userId} lock status was changed to: ${locked} by user userId=${lockedBy}`);
    } else {
      Logger.info(`User's userId=${userId} lock status wasn't updated`);
    }
  } catch (err) {
    Logger.error(`Changing user lock setting: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearMeetingTimeRemaining.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/clearMeetingTimeRemaining.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearMeetingTimeRemaining
});
let MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearMeetingTimeRemaining(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = MeetingTimeRemaining.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared MeetingTimeRemaining in (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing MeetingTimeRemaining in (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = MeetingTimeRemaining.remove({});

      if (numberAffected) {
        Logger.info('Cleared MeetingTimeRemaining in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing MeetingTimeRemaining in all meetings. ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearRecordMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/clearRecordMeeting.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => meetingHasEnded
});
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function meetingHasEnded(meetingId) {
  try {
    const numberAffected = RecordMeetings.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared record prop from meeting with id ${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Error on clearing record prop from meeting with id ${meetingId}. ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingHasEnded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/meetingHasEnded.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => meetingHasEnded
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let removeAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  removeAnnotationsStreamer(v) {
    removeAnnotationsStreamer = v;
  }

}, 2);
let removeCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  removeCursorStreamer(v) {
    removeCursorStreamer = v;
  }

}, 3);
let clearUsers;
module.link("/imports/api/users/server/modifiers/clearUsers", {
  default(v) {
    clearUsers = v;
  }

}, 4);
let clearUsersSettings;
module.link("/imports/api/users-settings/server/modifiers/clearUsersSettings", {
  default(v) {
    clearUsersSettings = v;
  }

}, 5);
let clearGroupChat;
module.link("/imports/api/group-chat/server/modifiers/clearGroupChat", {
  default(v) {
    clearGroupChat = v;
  }

}, 6);
let clearGuestUsers;
module.link("/imports/api/guest-users/server/modifiers/clearGuestUsers", {
  default(v) {
    clearGuestUsers = v;
  }

}, 7);
let clearBreakouts;
module.link("/imports/api/breakouts/server/modifiers/clearBreakouts", {
  default(v) {
    clearBreakouts = v;
  }

}, 8);
let clearAnnotations;
module.link("/imports/api/annotations/server/modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 9);
let clearSlides;
module.link("/imports/api/slides/server/modifiers/clearSlides", {
  default(v) {
    clearSlides = v;
  }

}, 10);
let clearPolls;
module.link("/imports/api/polls/server/modifiers/clearPolls", {
  default(v) {
    clearPolls = v;
  }

}, 11);
let clearCaptions;
module.link("/imports/api/captions/server/modifiers/clearCaptions", {
  default(v) {
    clearCaptions = v;
  }

}, 12);
let clearPresentationPods;
module.link("/imports/api/presentation-pods/server/modifiers/clearPresentationPods", {
  default(v) {
    clearPresentationPods = v;
  }

}, 13);
let clearVoiceUsers;
module.link("/imports/api/voice-users/server/modifiers/clearVoiceUsers", {
  default(v) {
    clearVoiceUsers = v;
  }

}, 14);
let clearUserInfo;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfo", {
  default(v) {
    clearUserInfo = v;
  }

}, 15);
let clearScreenshare;
module.link("/imports/api/screenshare/server/modifiers/clearScreenshare", {
  default(v) {
    clearScreenshare = v;
  }

}, 16);
let clearNote;
module.link("/imports/api/note/server/modifiers/clearNote", {
  default(v) {
    clearNote = v;
  }

}, 17);
let clearNetworkInformation;
module.link("/imports/api/network-information/server/modifiers/clearNetworkInformation", {
  default(v) {
    clearNetworkInformation = v;
  }

}, 18);
let clearMeetingTimeRemaining;
module.link("/imports/api/meetings/server/modifiers/clearMeetingTimeRemaining", {
  default(v) {
    clearMeetingTimeRemaining = v;
  }

}, 19);
let clearLocalSettings;
module.link("/imports/api/local-settings/server/modifiers/clearLocalSettings", {
  default(v) {
    clearLocalSettings = v;
  }

}, 20);
let clearRecordMeeting;
module.link("./clearRecordMeeting", {
  default(v) {
    clearRecordMeeting = v;
  }

}, 21);
let clearVoiceCallStates;
module.link("/imports/api/voice-call-states/server/modifiers/clearVoiceCallStates", {
  default(v) {
    clearVoiceCallStates = v;
  }

}, 22);
let clearVideoStreams;
module.link("/imports/api/video-streams/server/modifiers/clearVideoStreams", {
  default(v) {
    clearVideoStreams = v;
  }

}, 23);
let clearWhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/server/modifiers/clearWhiteboardMultiUser", {
  default(v) {
    clearWhiteboardMultiUser = v;
  }

}, 24);
let BannedUsers;
module.link("/imports/api/users/server/store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 25);
let Metrics;
module.link("/imports/startup/server/metrics", {
  default(v) {
    Metrics = v;
  }

}, 26);

function meetingHasEnded(meetingId) {
  removeAnnotationsStreamer(meetingId);
  removeCursorStreamer(meetingId);
  return Meetings.remove({
    meetingId
  }, () => {
    clearCaptions(meetingId);
    clearGroupChat(meetingId);
    clearGuestUsers(meetingId);
    clearPresentationPods(meetingId);
    clearBreakouts(meetingId);
    clearPolls(meetingId);
    clearAnnotations(meetingId);
    clearSlides(meetingId);
    clearUsers(meetingId);
    clearUsersSettings(meetingId);
    clearVoiceUsers(meetingId);
    clearUserInfo(meetingId);
    clearNote(meetingId);
    clearNetworkInformation(meetingId);
    clearLocalSettings(meetingId);
    clearMeetingTimeRemaining(meetingId);
    clearRecordMeeting(meetingId);
    clearVoiceCallStates(meetingId);
    clearVideoStreams(meetingId);
    clearWhiteboardMultiUser(meetingId);
    clearScreenshare(meetingId);
    BannedUsers.delete(meetingId);
    Metrics.removeMeeting(meetingId);
    Logger.info(`Cleared Meetings with id ${meetingId}`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPublishedPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/setPublishedPoll.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPublishedPoll
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function setPublishedPoll(meetingId, isPublished) {
  check(meetingId, String);
  check(isPublished, Boolean);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      publishedPoll: isPublished
    }
  };

  try {
    const {
      numberAffected
    } = Meetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Set publishedPoll=${isPublished} in meeitingId=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Setting publishedPoll=${isPublished} for meetingId=${meetingId}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webcamOnlyModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/webcamOnlyModerator.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeWebcamOnlyModerator
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeWebcamOnlyModerator(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    webcamsOnlyForModerator: Boolean,
    setBy: String
  });
  const {
    webcamsOnlyForModerator
  } = payload;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      'usersProp.webcamsOnlyForModerator': webcamsOnlyForModerator
    }
  };

  try {
    const {
      numberAffected
    } = Meetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed meeting={${meetingId}} updated webcam Only for Moderator`);
    } else {
      Logger.info(`meeting={${meetingId}} webcam Only for Moderator were not updated`);
    }
  } catch (err) {
    Logger.error(`Changwing meeting={${meetingId}} webcam Only for Moderator: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/eventHandlers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleMeetingCreation;
module.link("./handlers/meetingCreation", {
  default(v) {
    handleMeetingCreation = v;
  }

}, 1);
let handleGetAllMeetings;
module.link("./handlers/getAllMeetings", {
  default(v) {
    handleGetAllMeetings = v;
  }

}, 2);
let handleMeetingEnd;
module.link("./handlers/meetingEnd", {
  default(v) {
    handleMeetingEnd = v;
  }

}, 3);
let handleMeetingDestruction;
module.link("./handlers/meetingDestruction", {
  default(v) {
    handleMeetingDestruction = v;
  }

}, 4);
let handleMeetingLocksChange;
module.link("./handlers/meetingLockChange", {
  default(v) {
    handleMeetingLocksChange = v;
  }

}, 5);
let handleUserLockChange;
module.link("./handlers/userLockChange", {
  default(v) {
    handleUserLockChange = v;
  }

}, 6);
let handleRecordingStatusChange;
module.link("./handlers/recordingStatusChange", {
  default(v) {
    handleRecordingStatusChange = v;
  }

}, 7);
let handleRecordingTimerChange;
module.link("./handlers/recordingTimerChange", {
  default(v) {
    handleRecordingTimerChange = v;
  }

}, 8);
let handleTimeRemainingUpdate;
module.link("./handlers/timeRemainingUpdate", {
  default(v) {
    handleTimeRemainingUpdate = v;
  }

}, 9);
let handleChangeWebcamOnlyModerator;
module.link("./handlers/webcamOnlyModerator", {
  default(v) {
    handleChangeWebcamOnlyModerator = v;
  }

}, 10);
RedisPubSub.on('MeetingCreatedEvtMsg', handleMeetingCreation);
RedisPubSub.on('SyncGetMeetingInfoRespMsg', handleGetAllMeetings);
RedisPubSub.on('MeetingEndingEvtMsg', handleMeetingEnd);
RedisPubSub.on('MeetingDestroyedEvtMsg', handleMeetingDestruction);
RedisPubSub.on('LockSettingsInMeetingChangedEvtMsg', handleMeetingLocksChange);
RedisPubSub.on('UserLockedInMeetingEvtMsg', handleUserLockChange);
RedisPubSub.on('RecordingStatusChangedEvtMsg', handleRecordingStatusChange);
RedisPubSub.on('UpdateRecordingTimerEvtMsg', handleRecordingTimerChange);
RedisPubSub.on('WebcamsOnlyForModeratorChangedEvtMsg', handleChangeWebcamOnlyModerator);
RedisPubSub.on('GetLockSettingsRespMsg', handleMeetingLocksChange);
RedisPubSub.on('MeetingTimeRemainingUpdateEvtMsg', handleTimeRemainingUpdate);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/index.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let endMeeting;
module.link("./methods/endMeeting", {
  default(v) {
    endMeeting = v;
  }

}, 1);
let toggleRecording;
module.link("./methods/toggleRecording", {
  default(v) {
    toggleRecording = v;
  }

}, 2);
let transferUser;
module.link("./methods/transferUser", {
  default(v) {
    transferUser = v;
  }

}, 3);
let toggleLockSettings;
module.link("./methods/toggleLockSettings", {
  default(v) {
    toggleLockSettings = v;
  }

}, 4);
let toggleWebcamsOnlyForModerator;
module.link("./methods/toggleWebcamsOnlyForModerator", {
  default(v) {
    toggleWebcamsOnlyForModerator = v;
  }

}, 5);
Meteor.methods({
  endMeeting,
  toggleRecording,
  toggleLockSettings,
  transferUser,
  toggleWebcamsOnlyForModerator
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/publishers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Meetings, RecordMeetings, MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  },

  RecordMeetings(v) {
    RecordMeetings = v;
  },

  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function meetings(role) {
  if (!this.userId) {
    return Meetings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing meeting', {
    meetingId,
    requesterUserId
  });
  const selector = {
    $or: [{
      meetingId
    }]
  };
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    selector.$or.push({
      'meetingProp.isBreakout': true,
      'breakoutProps.parentId': meetingId
    });
  }

  const options = {
    fields: {
      password: false,
      'welcomeProp.modOnlyMessage': false
    }
  };
  return Meetings.find(selector, options);
}

function publish(...args) {
  const boundMeetings = meetings.bind(this);
  return boundMeetings(...args);
}

Meteor.publish('meetings', publish);

function recordMeetings() {
  if (!this.userId) {
    return RecordMeetings.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return RecordMeetings.find({
    meetingId
  });
}

function recordPublish(...args) {
  const boundRecordMeetings = recordMeetings.bind(this);
  return boundRecordMeetings(...args);
}

Meteor.publish('record-meetings', recordPublish);

function meetingTimeRemaining() {
  if (!this.userId) {
    return MeetingTimeRemaining.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return MeetingTimeRemaining.find({
    meetingId
  });
}

function timeRemainingPublish(...args) {
  const boundtimeRemaining = meetingTimeRemaining.bind(this);
  return boundtimeRemaining(...args);
}

Meteor.publish('meeting-time-remaining', timeRemainingPublish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/index.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  RecordMeetings: () => RecordMeetings,
  MeetingTimeRemaining: () => MeetingTimeRemaining
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Meetings = new Mongo.Collection('meetings');
const RecordMeetings = new Mongo.Collection('record-meetings');
const MeetingTimeRemaining = new Mongo.Collection('meeting-time-remaining');

if (Meteor.isServer) {
  // types of queries for the meetings:
  // 1. meetingId
  Meetings._ensureIndex({
    meetingId: 1
  });

  RecordMeetings._ensureIndex({
    meetingId: 1
  });

  MeetingTimeRemaining._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Meetings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"network-information":{"server":{"methods":{"userInstabilityDetected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/methods/userInstabilityDetected.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userInstabilityDetected
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function userInstabilityDetected(sender) {
  const {
    meetingId,
    requesterUserId: receiver
  } = extractCredentials(this.userId);
  check(sender, String);
  const payload = {
    time: new Date().getTime(),
    meetingId,
    receiver,
    sender
  };
  Logger.debug('Receiver reported a network instability', {
    receiver,
    meetingId
  });
  return NetworkInformation.insert(payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearNetworkInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/modifiers/clearNetworkInformation.js                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearNetworkInformation
});
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearNetworkInformation(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = NetworkInformation.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Network Information (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing Network Information (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = NetworkInformation.remove({});

      if (numberAffected) {
        Logger.info('Cleared Network Information (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing Network Information (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/index.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publisher");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/methods.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userInstabilityDetected;
module.link("./methods/userInstabilityDetected", {
  default(v) {
    userInstabilityDetected = v;
  }

}, 1);
Meteor.methods({
  userInstabilityDetected
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publisher.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/publisher.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function networkInformation() {
  if (!this.userId) {
    return NetworkInformation.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return NetworkInformation.find({
    meetingId
  });
}

function publish(...args) {
  const boundNetworkInformation = networkInformation.bind(this);
  return boundNetworkInformation(...args);
}

Meteor.publish('network-information', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/index.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const NetworkInformation = new Mongo.Collection('network-information');

if (Meteor.isServer) {
  NetworkInformation._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(NetworkInformation);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"note":{"server":{"handlers":{"padUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/handlers/padUpdate.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateNote;
module.link("/imports/api/note/server/modifiers/updateNote", {
  default(v) {
    updateNote = v;
  }

}, 1);

function handlePadUpdate({
  body
}) {
  const {
    pad,
    revs
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  check(revs, Number);
  updateNote(id, revs);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/methods/createNote.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createNote
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let generateNoteId, createPadURL, getReadOnlyIdURL, isEnabled, getDataFromResponse;
module.link("/imports/api/note/server/helpers", {
  generateNoteId(v) {
    generateNoteId = v;
  },

  createPadURL(v) {
    createPadURL = v;
  },

  getReadOnlyIdURL(v) {
    getReadOnlyIdURL = v;
  },

  isEnabled(v) {
    isEnabled = v;
  },

  getDataFromResponse(v) {
    getDataFromResponse = v;
  }

}, 2);
let addNote;
module.link("/imports/api/note/server/modifiers/addNote", {
  default(v) {
    addNote = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function createNote(meetingId) {
  // Avoid note creation if this feature is disabled
  if (!isEnabled()) {
    Logger.warn(`Notes are disabled for ${meetingId}`);
    return;
  }

  check(meetingId, String);
  const noteId = generateNoteId(meetingId);
  const createURL = createPadURL(noteId);
  axios({
    method: 'get',
    url: createURL,
    responseType: 'json'
  }).then(responseOuter => {
    const {
      status
    } = responseOuter;

    if (status !== 200) {
      Logger.error(`Could not get note info for ${meetingId} ${status}`);
    }

    const readOnlyURL = getReadOnlyIdURL(noteId);
    axios({
      method: 'get',
      url: readOnlyURL,
      responseType: 'json'
    }).then(response => {
      const readOnlyNoteId = getDataFromResponse(response.data, 'readOnlyID');

      if (readOnlyNoteId) {
        addNote(meetingId, noteId, readOnlyNoteId);
      } else {
        Logger.error(`Could not get note readOnlyID for ${meetingId}`);
      }
    }).catch(error => Logger.error(`Could not get note readOnlyID for ${meetingId}: ${error}`));
  }).catch(error => Logger.error(`Could not create note for ${meetingId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/addNote.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addNote
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addNote(meetingId, noteId, readOnlyNoteId) {
  check(meetingId, String);
  check(noteId, String);
  check(readOnlyNoteId, String);
  const selector = {
    meetingId,
    noteId
  };
  const modifier = {
    meetingId,
    noteId,
    readOnlyNoteId,
    revs: 0
  };

  try {
    const {
      insertedId
    } = Note.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added note id=${noteId} readOnlyId=${readOnlyNoteId} meeting=${meetingId}`);
    } else {
      Logger.info(`Upserted note id=${noteId} readOnlyId=${readOnlyNoteId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding note to the collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/clearNote.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearNote
});
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearNote(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = Note.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Note (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing Note (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Note.remove({});

      if (numberAffected) {
        Logger.info('Cleared Note (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing Note (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/updateNote.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateNote
});
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function updateNote(noteId, revs) {
  check(noteId, String);
  check(revs, Number);
  const selector = {
    noteId
  };
  const modifier = {
    $set: {
      revs
    }
  };

  try {
    const numberAffected = Note.update(selector, modifier, {
      multi: true
    });

    if (numberAffected) {
      Logger.verbose('Notes: update note pad', {
        pad: noteId,
        revs
      });
    }
  } catch (err) {
    Logger.error('Notes: error when updating note pad', {
      err
    });
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/eventHandlers.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForNotePadOnly;
module.link("/imports/api/note/server/helpers", {
  processForNotePadOnly(v) {
    processForNotePadOnly = v;
  }

}, 1);
let handlePadUpdate;
module.link("./handlers/padUpdate", {
  default(v) {
    handlePadUpdate = v;
  }

}, 2);
RedisPubSub.on('PadUpdateSysMsg', processForNotePadOnly(handlePadUpdate));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/helpers.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  generateNoteId: () => generateNoteId,
  createPadURL: () => createPadURL,
  getReadOnlyIdURL: () => getReadOnlyIdURL,
  isEnabled: () => isEnabled,
  getDataFromResponse: () => getDataFromResponse,
  appendTextURL: () => appendTextURL,
  processForNotePadOnly: () => processForNotePadOnly
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let hashFNV32a;
module.link("/imports/api/common/server/helpers", {
  hashFNV32a(v) {
    hashFNV32a = v;
  }

}, 1);
const ETHERPAD = Meteor.settings.private.etherpad;
const NOTE_CONFIG = Meteor.settings.public.note;
const BASE_URL = `http://${ETHERPAD.host}:${ETHERPAD.port}/api/${ETHERPAD.version}`;
const TOKEN = '_';

const createPadURL = padId => `${BASE_URL}/createPad?apikey=${ETHERPAD.apikey}&padID=${padId}`;

const getReadOnlyIdURL = padId => `${BASE_URL}/getReadOnlyID?apikey=${ETHERPAD.apikey}&padID=${padId}`;

const appendTextURL = (padId, text) => `${BASE_URL}/appendText?apikey=${ETHERPAD.apikey}&padID=${padId}&text=${encodeURIComponent(text)}`;

const generateNoteId = meetingId => {
  const noteId = hashFNV32a(meetingId, true);
  return noteId;
};

const isEnabled = () => NOTE_CONFIG.enabled;

const getDataFromResponse = (data, key) => {
  if (data) {
    const innerData = data.data;

    if (innerData && innerData[key]) {
      return innerData[key];
    }
  }

  return null;
};

const isNotePad = padId => padId.search(TOKEN);

const processForNotePadOnly = fn => (message, ...args) => {
  const {
    body
  } = message;
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  if (isNotePad(id)) return fn(message, ...args);
  return () => {};
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./publishers");
module.link("./eventHandlers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/publishers.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function note() {
  if (!this.userId) {
    return Note.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`Publishing note for ${meetingId} ${requesterUserId}`);
  return Note.find({
    meetingId
  });
}

function publish(...args) {
  const boundNote = note.bind(this);
  return boundNote(...args);
}

Meteor.publish('note', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/index.js                                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Note = new Mongo.Collection('note');

if (Meteor.isServer) {
  Note._ensureIndex({
    meetingId: 1,
    noteId: 1
  });
}

module.exportDefault(Note);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"ping-pong":{"server":{"methods":{"ping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/methods/ping.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => ping
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function ping() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const modifier = {
    $set: {
      lastPing: Date.now()
    }
  };

  try {
    Users.update(selector, modifier);
  } catch (err) {
    Logger.error(`Error updating lastPing for ${requesterUserId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/index.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./publishers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/methods.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let ping;
module.link("./methods/ping", {
  default(v) {
    ping = v;
  }

}, 1);
Meteor.methods({
  ping
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/publishers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
const COLLECTION_NAME = 'ping-pong';
const INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.clearUsersInSeconds * 1000;
const INTERVAL_TIME = INTERVAL_IN_SETTINGS < 10000 ? 10000 : INTERVAL_IN_SETTINGS;
const PONG_INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.pongTimeInSeconds * 1000;
const PONG_INTERVAL = PONG_INTERVAL_IN_SETTINGS >= INTERVAL_TIME / 2 ? INTERVAL_TIME / 2 : PONG_INTERVAL_IN_SETTINGS;

function pingPong() {
  if (!this.userId) {
    return; // TODO-- is there a more appropriate set to return?
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);

  const id = _.uniqueId('pong-');

  Logger.info(`Starting ping-pong publish for userId: ${requesterUserId}`);

  const pongSender = interval => {
    const payload = {
      pong: {
        message: 'pong',
        time: Date.now(),
        meetingId
      }
    };
    let fn = this.added.bind(this);
    if (interval) fn = this.changed.bind(this);
    fn(COLLECTION_NAME, id, payload);
  };

  pongSender();
  this.ready();
  const interval = Meteor.setInterval(() => pongSender(true), PONG_INTERVAL);
  this.onStop(() => {
    Meteor.clearInterval(interval);
  });
}

Meteor.publish('ping-pong', pingPong);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"polls":{"server":{"handlers":{"pollPublished.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollPublished.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollPublished
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePoll;
module.link("../modifiers/removePoll", {
  default(v) {
    removePoll = v;
  }

}, 1);
let setPublishedPoll;
module.link("../../../meetings/server/modifiers/setPublishedPoll", {
  default(v) {
    setPublishedPoll = v;
  }

}, 2);

function pollPublished({
  body
}, meetingId) {
  const {
    pollId
  } = body;
  check(meetingId, String);
  check(pollId, String);
  setPublishedPoll(meetingId, true);
  return removePoll(meetingId, pollId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pollStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollStarted.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollStarted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPoll;
module.link("../modifiers/addPoll", {
  default(v) {
    addPoll = v;
  }

}, 1);
let setPublishedPoll;
module.link("../../../meetings/server/modifiers/setPublishedPoll", {
  default(v) {
    setPublishedPoll = v;
  }

}, 2);

function pollStarted({
  body
}, meetingId) {
  const {
    userId
  } = body;
  const {
    poll
  } = body;
  check(meetingId, String);
  check(userId, String);
  check(poll, Object);
  setPublishedPoll(meetingId, false);
  return addPoll(meetingId, userId, poll);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pollStopped.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollStopped.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollStopped
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePoll;
module.link("../modifiers/removePoll", {
  default(v) {
    removePoll = v;
  }

}, 1);
let clearPolls;
module.link("../modifiers/clearPolls", {
  default(v) {
    clearPolls = v;
  }

}, 2);

function pollStopped({
  body
}, meetingId) {
  const {
    poll
  } = body;
  check(meetingId, String);

  if (poll) {
    const {
      pollId
    } = poll;
    check(pollId, String);
    return removePoll(meetingId, pollId);
  }

  return clearPolls(meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userResponded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/userResponded.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userResponded
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function userResponded({
  body
}) {
  const {
    pollId,
    userId,
    answerId
  } = body;
  check(pollId, String);
  check(userId, String);
  check(answerId, Number);
  const selector = {
    id: pollId
  };
  const modifier = {
    $pull: {
      users: userId
    },
    $push: {
      responses: {
        userId,
        answerId
      }
    }
  };

  try {
    const numberAffected = Polls.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updating Poll response (userId: ${userId}, response: ${answerId}, pollId: ${pollId})`);
    }
  } catch (err) {
    Logger.error(`Updating Poll responses: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userVoted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/userVoted.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userVoted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVotes;
module.link("../modifiers/updateVotes", {
  default(v) {
    updateVotes = v;
  }

}, 1);

function userVoted({
  body
}, meetingId) {
  const {
    poll
  } = body;
  check(meetingId, String);
  check(poll, {
    id: String,
    answers: [{
      id: Number,
      key: String,
      numVotes: Number
    }],
    numRespondents: Number,
    numResponders: Number
  });
  return updateVotes(poll, meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"publishPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/publishPoll.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function publishPoll() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ShowPollResultReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const poll = Polls.findOne({
    meetingId
  }); // TODO--send pollid from client

  if (!poll) {
    Logger.error(`Attempted to publish inexisting poll for meetingId: ${meetingId}`);
    return false;
  }

  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, {
    requesterId: requesterUserId,
    pollId: poll.id
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishVote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/publishVote.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishVote
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function publishVote(pollId, pollAnswerId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'RespondToPollReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(pollAnswerId, Number);
  check(pollId, String);
  const allowedToVote = Polls.findOne({
    id: pollId,
    users: {
      $in: [requesterUserId]
    }
  }, {
    fields: {
      users: 1
    }
  });

  if (!allowedToVote) {
    Logger.info(`Poll User={${requesterUserId}} has already voted in PollId={${pollId}}`);
    return null;
  }

  const selector = {
    users: requesterUserId,
    meetingId,
    'answers.id': pollAnswerId
  };
  const payload = {
    requesterId: requesterUserId,
    pollId,
    questionId: 0,
    answerId: pollAnswerId
  };
  /*
   We keep an array of people who were in the meeting at the time the poll
   was started. The poll is published to them only.
   Once they vote - their ID is removed and they cannot see the poll anymore
  */

  const modifier = {
    $pull: {
      users: requesterUserId
    }
  };

  try {
    const numberAffected = Polls.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Removed responded user=${requesterUserId} from poll (meetingId: ${meetingId}, pollId: ${pollId}!)`);
      RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
    }
  } catch (err) {
    Logger.error(`Removing responded user from Polls collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/startPoll.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function startPoll(pollType, pollId, answers) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  let EVENT_NAME = 'StartPollReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(pollId, String);
  check(pollType, String);
  const payload = {
    requesterId: requesterUserId,
    pollId: `${pollId}/${new Date().getTime()}`,
    pollType
  };

  if (pollType === 'custom') {
    EVENT_NAME = 'StartCustomPollReqMsg';
    check(answers, Array);
    payload.answers = answers;
  }

  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/stopPoll.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);

function stopPoll() {
  const {
    meetingId,
    requesterUserId: requesterId
  } = extractCredentials(this.userId);
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StopPollReqMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterId, {
    requesterId
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/addPoll.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPoll
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

function addPoll(meetingId, requesterId, poll) {
  check(requesterId, String);
  check(meetingId, String);
  check(poll, {
    id: String,
    answers: [{
      id: Number,
      key: String
    }]
  });
  const userSelector = {
    meetingId,
    userId: {
      $ne: requesterId
    },
    clientType: {
      $ne: 'dial-in-user'
    }
  };
  const userIds = Users.find(userSelector, {
    fields: {
      userId: 1
    }
  }).fetch().map(user => user.userId);
  const selector = {
    meetingId,
    requester: requesterId,
    id: poll.id
  };
  const modifier = Object.assign({
    meetingId
  }, {
    requester: requesterId
  }, {
    users: userIds
  }, flat(poll, {
    safe: true
  }));

  try {
    const {
      insertedId
    } = Polls.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added Poll id=${poll.id}`);
    } else {
      Logger.info(`Upserted Poll id=${poll.id}`);
    }
  } catch (err) {
    Logger.error(`Adding Poll to collection: ${poll.id}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPolls.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/clearPolls.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPolls
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPolls(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = Polls.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Polls (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing Polls (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Polls.remove({});

      if (numberAffected) {
        Logger.info('Cleared Polls (all)');
      }
    } catch (err) {
      Logger.info(`Error on clearing Polls (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/removePoll.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePoll
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function removePoll(meetingId, id) {
  check(meetingId, String);
  check(id, String);
  const selector = {
    meetingId,
    id
  };

  try {
    const numberAffected = Polls.remove(selector);

    if (numberAffected) {
      Logger.info(`Removed Poll id=${id}`);
    }
  } catch (err) {
    Logger.error(`Removing Poll from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateVotes.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/updateVotes.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateVotes
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function updateVotes(poll, meetingId) {
  check(meetingId, String);
  check(poll, Object);
  const {
    id,
    answers,
    numResponders,
    numRespondents
  } = poll;
  check(id, String);
  check(answers, Array);
  check(numResponders, Number);
  check(numRespondents, Number);
  const selector = {
    meetingId,
    id
  };
  const modifier = {
    $set: flat(poll, {
      safe: true
    })
  };

  try {
    const numberAffected = Polls.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updating Polls collection (meetingId: ${meetingId}, pollId: ${id}!)`);
    }
  } catch (err) {
    Logger.error(`Updating Polls collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/eventHandlers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handlePollStarted;
module.link("./handlers/pollStarted", {
  default(v) {
    handlePollStarted = v;
  }

}, 1);
let handlePollStopped;
module.link("./handlers/pollStopped", {
  default(v) {
    handlePollStopped = v;
  }

}, 2);
let handlePollPublished;
module.link("./handlers/pollPublished", {
  default(v) {
    handlePollPublished = v;
  }

}, 3);
let handleUserVoted;
module.link("./handlers/userVoted", {
  default(v) {
    handleUserVoted = v;
  }

}, 4);
let handleUserResponded;
module.link("./handlers/userResponded", {
  default(v) {
    handleUserResponded = v;
  }

}, 5);
RedisPubSub.on('PollShowResultEvtMsg', handlePollPublished);
RedisPubSub.on('PollStartedEvtMsg', handlePollStarted);
RedisPubSub.on('PollStoppedEvtMsg', handlePollStopped);
RedisPubSub.on('PollUpdatedEvtMsg', handleUserVoted);
RedisPubSub.on('UserRespondedToPollRespMsg', handleUserResponded);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/index.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let publishVote;
module.link("./methods/publishVote", {
  default(v) {
    publishVote = v;
  }

}, 1);
let publishPoll;
module.link("./methods/publishPoll", {
  default(v) {
    publishPoll = v;
  }

}, 2);
let startPoll;
module.link("./methods/startPoll", {
  default(v) {
    startPoll = v;
  }

}, 3);
let stopPoll;
module.link("./methods/stopPoll", {
  default(v) {
    stopPoll = v;
  }

}, 4);
Meteor.methods({
  publishVote,
  publishPoll,
  startPoll,
  stopPoll
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/publishers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function currentPoll() {
  if (!this.userId) {
    return Polls.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId
  };
  Logger.debug('Publishing poll', {
    meetingId
  });
  return Polls.find(selector);
}

function publishCurrentPoll(...args) {
  const boundPolls = currentPoll.bind(this);
  return boundPolls(...args);
}

Meteor.publish('current-poll', publishCurrentPoll);

function polls() {
  if (!this.userId) {
    return Polls.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing polls', {
    meetingId,
    requesterUserId
  });
  const selector = {
    meetingId,
    users: requesterUserId
  };
  return Polls.find(selector);
}

function publish(...args) {
  const boundPolls = polls.bind(this);
  return boundPolls(...args);
}

Meteor.publish('polls', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/index.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Polls = new Mongo.Collection('polls');

if (Meteor.isServer) {
  // We can have just one active poll per meeting
  // makes no sense to index it by anything other than meetingId
  Polls._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Polls);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentation-pods":{"server":{"handlers":{"createNewPresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/createNewPresentationPod.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleCreateNewPresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPresentationPod;
module.link("../modifiers/addPresentationPod", {
  default(v) {
    addPresentationPod = v;
  }

}, 1);

function handleCreateNewPresentationPod({
  body
}, meetingId) {
  check(body, {
    currentPresenterId: String,
    podId: String
  });
  check(meetingId, String);
  const {
    currentPresenterId,
    podId
  } = body;
  const pod = {
    currentPresenterId,
    podId
  };
  addPresentationPod(meetingId, pod);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/removePresentationPod.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRemovePresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePresentationPod;
module.link("../modifiers/removePresentationPod", {
  default(v) {
    removePresentationPod = v;
  }

}, 1);

function handleRemovePresentationPod({
  body
}, meetingId) {
  check(body, Object);
  check(meetingId, String);
  const {
    podId
  } = body;
  check(podId, String);
  removePresentationPod(meetingId, podId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresenterInPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/setPresenterInPod.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSetPresenterInPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setPresenterInPod;
module.link("../modifiers/setPresenterInPod", {
  default(v) {
    setPresenterInPod = v;
  }

}, 1);

function handleSetPresenterInPod({
  body
}, meetingId) {
  check(body, Object);
  const {
    podId,
    nextPresenterId
  } = body;
  check(podId, String);
  check(nextPresenterId, String);
  setPresenterInPod(meetingId, podId, nextPresenterId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"syncGetPresentationPods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/syncGetPresentationPods.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSyncGetPresentationPods
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let removePresentationPod;
module.link("../modifiers/removePresentationPod", {
  default(v) {
    removePresentationPod = v;
  }

}, 2);
let addPresentationPod;
module.link("../modifiers/addPresentationPod", {
  default(v) {
    addPresentationPod = v;
  }

}, 3);

function handleSyncGetPresentationPods({
  body
}, meetingId) {
  check(body, Object);
  check(meetingId, String);
  const {
    pods
  } = body;
  check(pods, Array);
  const presentationPodIds = pods.map(pod => pod.id);
  const presentationPodsToRemove = PresentationPods.find({
    meetingId,
    podId: {
      $nin: presentationPodIds
    }
  }, {
    fields: {
      podId: 1
    }
  }).fetch();
  presentationPodsToRemove.forEach(p => removePresentationPod(meetingId, p.podId));
  pods.forEach(pod => {
    // 'podId' and 'currentPresenterId' for some reason called 'id' and 'currentPresenter'
    // in this message
    const {
      id: podId,
      currentPresenter: currentPresenterId,
      presentations
    } = pod;
    addPresentationPod(meetingId, {
      podId,
      currentPresenterId
    }, presentations);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/addPresentationPod.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPresentationPod
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let addPresentation;
module.link("/imports/api/presentations/server/modifiers/addPresentation", {
  default(v) {
    addPresentation = v;
  }

}, 3);

function addPresentationPod(meetingId, pod, presentations = undefined) {
  check(meetingId, String);
  check(presentations, Match.Maybe(Array));
  check(pod, {
    currentPresenterId: String,
    podId: String
  });
  const {
    currentPresenterId,
    podId
  } = pod;
  const selector = {
    meetingId,
    podId
  };
  const modifier = {
    meetingId,
    podId,
    currentPresenterId
  };

  try {
    const {
      insertedId
    } = PresentationPods.upsert(selector, modifier); // if it's a Sync message - continue adding the attached presentations

    if (presentations) {
      presentations.forEach(presentation => addPresentation(meetingId, podId, presentation));
    }

    if (insertedId) {
      Logger.info(`Added presentation pod id=${podId} meeting=${meetingId}`);
    } else {
      Logger.info(`Upserted presentation pod id=${podId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding presentation pod to the collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPresentationPods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/clearPresentationPods.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentationPods
});
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let clearPresentations;
module.link("/imports/api/presentations/server/modifiers/clearPresentations", {
  default(v) {
    clearPresentations = v;
  }

}, 2);
let clearPresentationUploadToken;
module.link("/imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken", {
  default(v) {
    clearPresentationUploadToken = v;
  }

}, 3);

function clearPresentationPods(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = PresentationPods.remove({
        meetingId
      });

      if (numberAffected) {
        clearPresentations(meetingId);
        clearPresentationUploadToken(meetingId);
        Logger.info(`Cleared Presentations Pods (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing Presentations Pods (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = PresentationPods.remove({});

      if (numberAffected) {
        clearPresentations();
        clearPresentationUploadToken();
        Logger.info('Cleared Presentations Pods (all)');
      }
    } catch (err) {
      Logger.error(`Error on clearing Presentations Pods (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/removePresentationPod.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let clearPresentations;
module.link("/imports/api/presentations/server/modifiers/clearPresentations", {
  default(v) {
    clearPresentations = v;
  }

}, 3);
let clearPresentationUploadToken;
module.link("/imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken", {
  default(v) {
    clearPresentationUploadToken = v;
  }

}, 4);

function removePresentationPod(meetingId, podId) {
  check(meetingId, String);
  check(podId, String);
  const selector = {
    meetingId,
    podId
  };

  try {
    const numberAffected = PresentationPods.remove(selector);

    if (numberAffected && podId) {
      Logger.info(`Removed presentation pod id=${podId} meeting=${meetingId}`);
      clearPresentations(meetingId, podId);
      clearPresentationUploadToken(meetingId, podId);
    }
  } catch (err) {
    Logger.error(`Error on removing presentation pod from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresenterInPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/setPresenterInPod.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresenterInPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setPresenterInPod(meetingId, podId, nextPresenterId) {
  check(meetingId, String);
  check(podId, String);
  check(nextPresenterId, String);
  const selector = {
    meetingId,
    podId
  };
  const modifier = {
    $set: {
      currentPresenterId: nextPresenterId
    }
  };

  try {
    const {
      numberAffected
    } = PresentationPods.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Set a new presenter in pod id=${podId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Setting a presenter in pod: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/eventHandlers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleCreateNewPresentationPod;
module.link("./handlers/createNewPresentationPod", {
  default(v) {
    handleCreateNewPresentationPod = v;
  }

}, 1);
let handleRemovePresentationPod;
module.link("./handlers/removePresentationPod", {
  default(v) {
    handleRemovePresentationPod = v;
  }

}, 2);
let handleSyncGetPresentationPods;
module.link("./handlers/syncGetPresentationPods", {
  default(v) {
    handleSyncGetPresentationPods = v;
  }

}, 3);
let handleSetPresenterInPod;
module.link("./handlers/setPresenterInPod", {
  default(v) {
    handleSetPresenterInPod = v;
  }

}, 4);
RedisPubSub.on('CreateNewPresentationPodEvtMsg', handleCreateNewPresentationPod);
RedisPubSub.on('RemovePresentationPodEvtMsg', handleRemovePresentationPod);
RedisPubSub.on('SetPresenterInPodRespMsg', handleSetPresenterInPod);
RedisPubSub.on('SyncGetPresentationPodsRespMsg', handleSyncGetPresentationPods);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/index.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/methods.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/publishers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function presentationPods() {
  if (!this.userId) {
    return PresentationPods.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing presentation-pods', {
    meetingId,
    requesterUserId
  });
  return PresentationPods.find({
    meetingId
  });
}

function publish(...args) {
  const boundPresentationPods = presentationPods.bind(this);
  return boundPresentationPods(...args);
}

Meteor.publish('presentation-pods', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const PresentationPods = new Mongo.Collection('presentation-pods');

if (Meteor.isServer) {
  // types of queries for the presentation pods:
  // 1. meetingId, podId  ( 4 )
  PresentationPods._ensureIndex({
    meetingId: 1,
    podId: 1
  });
}

module.exportDefault(PresentationPods);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentation-upload-token":{"server":{"handlers":{"presentationUploadTokenFail.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/handlers/presentationUploadTokenFail.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationUploadTokenFail
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);

function handlePresentationUploadTokenFail({
  body,
  header
}, meetingId) {
  check(body, Object);
  const {
    userId
  } = header;
  const {
    podId,
    filename
  } = body;
  check(userId, String);
  check(podId, String);
  check(filename, String);
  const selector = {
    meetingId,
    userId,
    podId,
    filename
  };

  try {
    const {
      numberAffected
    } = PresentationUploadToken.upsert(selector, {
      failed: true,
      authzToken: null
    });

    if (numberAffected) {
      Logger.info(`Removing presentationToken filename=${filename} podId=${podId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Removing presentationToken from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationUploadTokenPass.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/handlers/presentationUploadTokenPass.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationUploadTokenPass
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);

function handlePresentationUploadTokenPass({
  body,
  header
}, meetingId) {
  check(body, Object);
  const {
    userId
  } = header;
  const {
    podId,
    authzToken,
    filename
  } = body;
  check(userId, String);
  check(podId, String);
  check(authzToken, String);
  check(filename, String);
  const selector = {
    meetingId,
    podId,
    userId,
    filename
  };
  const modifier = {
    meetingId,
    podId,
    userId,
    filename,
    authzToken,
    failed: false,
    used: false
  };

  try {
    const {
      insertedId
    } = PresentationUploadToken.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Inserting presentationToken filename=${filename} podId=${podId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Inserting presentationToken from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"requestPresentationUploadToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods/requestPresentationUploadToken.js                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => requestPresentationUploadToken
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function requestPresentationUploadToken(podId, filename) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'PresentationUploadTokenReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(podId, String);
  check(filename, String);
  const payload = {
    podId,
    filename
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUsedToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods/setUsedToken.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUsedToken
});
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setUsedToken(authzToken) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    $set: {
      used: true
    }
  };

  try {
    const numberAffected = PresentationUploadToken.update({
      meetingId,
      userId: requesterUserId,
      authzToken
    }, payload);

    if (numberAffected) {
      Logger.info(`Token: ${authzToken} has been set as used in meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Unable to set token as used : ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearPresentationUploadToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken.js                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentationUploadToken
});
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPresentationUploadToken(meetingId, podId) {
  if (meetingId && podId) {
    try {
      const numberAffected = PresentationUploadToken.remove({
        meetingId,
        podId
      });

      if (numberAffected) {
        Logger.info(`Cleared Presentations Upload Token (${meetingId}, ${podId})`);
        return true;
      }
    } catch (err) {
      Logger.info(`Error on clearing Presentations Upload Token (${meetingId}, ${podId}). ${err}`);
      return false;
    }
  }

  if (meetingId) {
    try {
      const numberAffected = PresentationUploadToken.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Presentations Upload Token (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing Presentations Upload Token (${meetingId}). ${err}`);
    }
  } else {
    try {
      // clearing presentations for the whole server
      const numberAffected = PresentationUploadToken.remove({});

      if (numberAffected) {
        Logger.info('Cleared Presentations Upload Token (all)');
      }
    } catch (err) {
      Logger.info(`Error on clearing Presentations Upload Token (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/eventHandlers.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handlePresentationUploadTokenPass;
module.link("./handlers/presentationUploadTokenPass", {
  default(v) {
    handlePresentationUploadTokenPass = v;
  }

}, 2);
let handlePresentationUploadTokenFail;
module.link("./handlers/presentationUploadTokenFail", {
  default(v) {
    handlePresentationUploadTokenFail = v;
  }

}, 3);
RedisPubSub.on('PresentationUploadTokenPassRespMsg', processForHTML5ServerOnly(handlePresentationUploadTokenPass));
RedisPubSub.on('PresentationUploadTokenFailRespMsg', processForHTML5ServerOnly(handlePresentationUploadTokenFail));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/index.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let requestPresentationUploadToken;
module.link("./methods/requestPresentationUploadToken", {
  default(v) {
    requestPresentationUploadToken = v;
  }

}, 1);
let setUsedToken;
module.link("./methods/setUsedToken", {
  default(v) {
    setUsedToken = v;
  }

}, 2);
Meteor.methods({
  requestPresentationUploadToken,
  setUsedToken
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/publishers.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function presentationUploadToken(podId, filename) {
  if (!this.userId) {
    return PresentationUploadToken.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(podId, String);
  check(filename, String);
  const selector = {
    meetingId,
    podId,
    userId: requesterUserId,
    filename
  };
  Logger.debug('Publishing PresentationUploadToken', {
    meetingId,
    requesterUserId
  });
  return PresentationUploadToken.find(selector);
}

function publish(...args) {
  const boundPresentationUploadToken = presentationUploadToken.bind(this);
  return boundPresentationUploadToken(...args);
}

Meteor.publish('presentation-upload-token', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/index.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
const PresentationUploadToken = new Mongo.Collection('presentation-upload-token');
module.exportDefault(PresentationUploadToken);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentations":{"server":{"handlers":{"presentationAdded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationAdded.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationAdded
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPresentation;
module.link("../modifiers/addPresentation", {
  default(v) {
    addPresentation = v;
  }

}, 1);

function handlePresentationAdded({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentation,
    podId
  } = body;
  check(meetingId, String);
  check(podId, String);
  check(presentation, Object);
  return addPresentation(meetingId, podId, presentation);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationConversionUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationConversionUpdate.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationConversionUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 2);
// const OFFICE_DOC_CONVERSION_SUCCESS_KEY = 'OFFICE_DOC_CONVERSION_SUCCESS';
const OFFICE_DOC_CONVERSION_FAILED_KEY = 'OFFICE_DOC_CONVERSION_FAILED';
const OFFICE_DOC_CONVERSION_INVALID_KEY = 'OFFICE_DOC_CONVERSION_INVALID';
const SUPPORTED_DOCUMENT_KEY = 'SUPPORTED_DOCUMENT';
const UNSUPPORTED_DOCUMENT_KEY = 'UNSUPPORTED_DOCUMENT';
const PAGE_COUNT_FAILED_KEY = 'PAGE_COUNT_FAILED';
const PAGE_COUNT_EXCEEDED_KEY = 'PAGE_COUNT_EXCEEDED';
const PDF_HAS_BIG_PAGE_KEY = 'PDF_HAS_BIG_PAGE';
const GENERATED_SLIDE_KEY = 'GENERATED_SLIDE'; // const GENERATING_THUMBNAIL_KEY = 'GENERATING_THUMBNAIL';
// const GENERATED_THUMBNAIL_KEY = 'GENERATED_THUMBNAIL';
// const GENERATING_TEXTFILES_KEY = 'GENERATING_TEXTFILES';
// const GENERATED_TEXTFILES_KEY = 'GENERATED_TEXTFILES';
// const GENERATING_SVGIMAGES_KEY = 'GENERATING_SVGIMAGES';
// const GENERATED_SVGIMAGES_KEY = 'GENERATED_SVGIMAGES';
// const CONVERSION_COMPLETED_KEY = 'CONVERSION_COMPLETED';

function handlePresentationConversionUpdate({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId,
    messageKey: status,
    presName: presentationName
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(status, String);
  const statusModifier = {
    'conversion.status': status,
    'conversion.error': false,
    'conversion.done': false
  };

  switch (status) {
    case SUPPORTED_DOCUMENT_KEY:
      statusModifier.id = presentationId;
      statusModifier.name = presentationName;
      break;

    case UNSUPPORTED_DOCUMENT_KEY:
    case OFFICE_DOC_CONVERSION_FAILED_KEY:
    case OFFICE_DOC_CONVERSION_INVALID_KEY:
    case PAGE_COUNT_FAILED_KEY:
    case PAGE_COUNT_EXCEEDED_KEY:
    case PDF_HAS_BIG_PAGE_KEY:
      statusModifier.id = presentationId;
      statusModifier.name = presentationName;
      statusModifier['conversion.error'] = true;
      break;

    case GENERATED_SLIDE_KEY:
      statusModifier['conversion.pagesCompleted'] = body.pagesCompleted;
      statusModifier['conversion.numPages'] = body.numberOfPages;
      break;

    default:
      break;
  }

  const selector = {
    meetingId,
    podId,
    id: presentationId
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      podId
    }, statusModifier)
  };

  try {
    const {
      insertedId
    } = Presentations.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Updated presentation conversion status=${status} id=${presentationId} meeting=${meetingId}`);
    } else {
      Logger.debug('Upserted presentation conversion', {
        status,
        presentationId,
        meetingId
      });
    }
  } catch (err) {
    Logger.error(`Updating conversion status presentation to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationCurrentSet.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationCurrentSet.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationCurrentSet
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setCurrentPresentation;
module.link("../modifiers/setCurrentPresentation", {
  default(v) {
    setCurrentPresentation = v;
  }

}, 1);

function handlePresentationCurrentSet({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  return setCurrentPresentation(meetingId, podId, presentationId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationDownloadableSet.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationDownloadableSet.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationDownloadableSet
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setPresentationDownloadable;
module.link("../modifiers/setPresentationDownloadable", {
  default(v) {
    setPresentationDownloadable = v;
  }

}, 1);

function handlePresentationDownloadableSet({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId,
    downloadable
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(downloadable, Boolean);
  return setPresentationDownloadable(meetingId, podId, presentationId, downloadable);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationRemove.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationRemove.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationRemove
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePresentation;
module.link("../modifiers/removePresentation", {
  default(v) {
    removePresentation = v;
  }

}, 1);

function handlePresentationRemove({
  body
}, meetingId) {
  const {
    podId,
    presentationId
  } = body;
  check(meetingId, String);
  check(podId, String);
  check(presentationId, String);
  return removePresentation(meetingId, podId, presentationId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"removePresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/removePresentation.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function removePresentation(presentationId, podId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'RemovePresentationPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(presentationId, String);
  check(podId, String);
  const payload = {
    presentationId,
    podId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/setPresentation.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setPresentation(presentationId, podId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetCurrentPresentationPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(presentationId, String);
  check(podId, String);
  const payload = {
    presentationId,
    podId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentationDownloadable.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/setPresentationDownloadable.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentationDownloadable
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setPresentationDownloadable(presentationId, downloadable) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetPresentationDownloadablePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(downloadable, Boolean);
  check(presentationId, String);
  const payload = {
    presentationId,
    podId: 'DEFAULT_PRESENTATION_POD',
    downloadable
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/addPresentation.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPresentation
});
let HTTP;
module.link("meteor/http", {
  HTTP(v) {
    HTTP = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 4);
let addSlide;
module.link("/imports/api/slides/server/modifiers/addSlide", {
  default(v) {
    addSlide = v;
  }

}, 5);
let setCurrentPresentation;
module.link("./setCurrentPresentation", {
  default(v) {
    setCurrentPresentation = v;
  }

}, 6);

const getSlideText = url => Promise.asyncApply(() => {
  let content = '';

  try {
    content = Promise.await(HTTP.get(url).content);
  } catch (error) {
    Logger.error(`No file found. ${error}`);
  }

  return content;
});

const addSlides = (meetingId, podId, presentationId, slides) => {
  slides.forEach(slide => Promise.asyncApply(() => {
    const content = Promise.await(getSlideText(slide.txtUri));
    Object.assign(slide, {
      content
    });
    addSlide(meetingId, podId, presentationId, slide);
  }));
};

function addPresentation(meetingId, podId, presentation) {
  check(meetingId, String);
  check(podId, String);
  check(presentation, {
    id: String,
    name: String,
    current: Boolean,
    pages: [{
      id: String,
      num: Number,
      thumbUri: String,
      swfUri: String,
      txtUri: String,
      svgUri: String,
      current: Boolean,
      xOffset: Number,
      yOffset: Number,
      widthRatio: Number,
      heightRatio: Number
    }],
    downloadable: Boolean
  });
  const selector = {
    meetingId,
    podId,
    id: presentation.id
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      podId,
      'conversion.done': true,
      'conversion.error': false
    }, flat(presentation, {
      safe: true
    }))
  };

  try {
    const {
      insertedId
    } = Presentations.upsert(selector, modifier);
    addSlides(meetingId, podId, presentation.id, presentation.pages);

    if (insertedId) {
      if (presentation.current) {
        setCurrentPresentation(meetingId, podId, presentation.id);
        Logger.info(`Added presentation id=${presentation.id} meeting=${meetingId}`);
      } else {
        Logger.info(`Upserted presentation id=${presentation.id} meeting=${meetingId}`);
      }
    }
  } catch (err) {
    Logger.error(`Adding presentation to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPresentations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/clearPresentations.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentations
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPresentations(meetingId, podId) {
  // clearing presentations for 1 pod
  if (meetingId && podId) {
    try {
      const numberAffected = Presentations.remove({
        meetingId,
        podId
      });

      if (numberAffected) {
        Logger.info(`Cleared Presentations (${meetingId}, ${podId})`);
        return true;
      }
    } catch (err) {
      Logger.error(`Error on cleaning Presentations (${meetingId}, ${podId}). ${err}`);
      return false;
    }
  } // clearing presentations for the whole meeting


  if (meetingId) {
    try {
      const numberAffected = Presentations.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Presentations (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on cleaning Presentations (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Presentations.remove({});

      if (numberAffected) {
        Logger.info('Cleared Presentations (all)');
      }
    } catch (err) {
      Logger.error(`Error on cleaning Presentations (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/removePresentation.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let clearSlidesPresentation;
module.link("/imports/api/slides/server/modifiers/clearSlidesPresentation", {
  default(v) {
    clearSlidesPresentation = v;
  }

}, 3);

function removePresentation(meetingId, podId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  const selector = {
    meetingId,
    podId,
    id: presentationId
  };

  try {
    const numberAffected = Presentations.remove(selector);

    if (numberAffected) {
      clearSlidesPresentation(meetingId, presentationId);
      Logger.info(`Removed presentation id=${presentationId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Removing presentation from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setCurrentPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/setCurrentPresentation.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setCurrentPresentation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setCurrentPresentation(meetingId, podId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  const oldCurrent = {
    selector: {
      meetingId,
      podId,
      current: true
    },
    modifier: {
      $set: {
        current: false
      }
    },
    callback: err => {
      if (err) {
        Logger.error(`Unsetting the current presentation: ${err}`);
        return;
      }

      Logger.info('Unsetted as current presentation');
      return;
    }
  };
  const newCurrent = {
    selector: {
      meetingId,
      podId,
      id: presentationId
    },
    modifier: {
      $set: {
        current: true
      }
    },
    callback: err => {
      if (err) {
        Logger.error(`Setting as current presentation id=${presentationId}: ${err}`);
        return;
      }

      Logger.info(`Setted as current presentation id=${presentationId}`);
      return;
    }
  };
  const oldPresentation = Presentations.findOne(oldCurrent.selector);
  const newPresentation = Presentations.findOne(newCurrent.selector); // Prevent bug with presentation being unset, same happens in the slide
  // See: https://github.com/bigbluebutton/bigbluebutton/pull/4431

  if (oldPresentation && newPresentation && oldPresentation._id === newPresentation._id) {
    return;
  }

  if (newPresentation) {
    Presentations.update(newPresentation._id, newCurrent.modifier, newCurrent.callback);
  }

  if (oldPresentation) {
    Presentations.update(oldPresentation._id, oldCurrent.modifier, oldCurrent.callback);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentationDownloadable.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/setPresentationDownloadable.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentationDownloadable
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setPresentationDownloadable(meetingId, podId, presentationId, downloadable) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(downloadable, Boolean);
  const selector = {
    meetingId,
    podId,
    id: presentationId
  };
  const modifier = {
    $set: {
      downloadable
    }
  };

  try {
    const {
      numberAffected
    } = Presentations.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Set downloadable status on presentation {${presentationId} in meeting {${meetingId}}`);
    }
  } catch (err) {
    Logger.error(`Could not set downloadable on pres {${presentationId} in meeting {${meetingId}} ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/eventHandlers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handlePresentationAdded;
module.link("./handlers/presentationAdded", {
  default(v) {
    handlePresentationAdded = v;
  }

}, 1);
let handlePresentationRemove;
module.link("./handlers/presentationRemove", {
  default(v) {
    handlePresentationRemove = v;
  }

}, 2);
let handlePresentationCurrentSet;
module.link("./handlers/presentationCurrentSet", {
  default(v) {
    handlePresentationCurrentSet = v;
  }

}, 3);
let handlePresentationConversionUpdate;
module.link("./handlers/presentationConversionUpdate", {
  default(v) {
    handlePresentationConversionUpdate = v;
  }

}, 4);
let handlePresentationDownloadableSet;
module.link("./handlers/presentationDownloadableSet", {
  default(v) {
    handlePresentationDownloadableSet = v;
  }

}, 5);
RedisPubSub.on('PdfConversionInvalidErrorEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationPageGeneratedEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationPageCountErrorEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationConversionUpdateEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationConversionCompletedEvtMsg', handlePresentationAdded);
RedisPubSub.on('RemovePresentationEvtMsg', handlePresentationRemove);
RedisPubSub.on('SetCurrentPresentationEvtMsg', handlePresentationCurrentSet);
RedisPubSub.on('SetPresentationDownloadableEvtMsg', handlePresentationDownloadableSet);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/index.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let removePresentation;
module.link("./methods/removePresentation", {
  default(v) {
    removePresentation = v;
  }

}, 1);
let setPresentation;
module.link("./methods/setPresentation", {
  default(v) {
    setPresentation = v;
  }

}, 2);
let setPresentationDownloadable;
module.link("./methods/setPresentationDownloadable", {
  default(v) {
    setPresentationDownloadable = v;
  }

}, 3);
Meteor.methods({
  removePresentation,
  setPresentation,
  setPresentationDownloadable
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/publishers.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function presentations() {
  if (!this.userId) {
    return Presentations.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Presentations', {
    meetingId,
    requesterUserId
  });
  return Presentations.find({
    meetingId
  });
}

function publish(...args) {
  const boundPresentations = presentations.bind(this);
  return boundPresentations(...args);
}

Meteor.publish('presentations', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Presentations = new Mongo.Collection('presentations');

if (Meteor.isServer) {
  // types of queries for the presentations:
  // 1. meetingId, podId, id        ( 3 )
  // 2. meetingId, id               ( 1 )
  // 3. meetingId, id, current      ( 2 )
  // 4. meetingId                   ( 1 )
  Presentations._ensureIndex({
    meetingId: 1,
    podId: 1,
    id: 1
  });
}

module.exportDefault(Presentations);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"screenshare":{"server":{"handlers":{"screenshareStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/handlers/screenshareStarted.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleScreenshareStarted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let addScreenshare;
module.link("../modifiers/addScreenshare", {
  default(v) {
    addScreenshare = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 5);

function handleScreenshareStarted({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  const meeting = Meetings.findOne({
    meetingId
  });
  const presenter = Users.findOne({
    meetingId,
    presenter: true
  });
  const presenterId = presenter && presenter.userId ? presenter.userId : 'system-screenshare-starting';

  if (meeting && meeting.externalVideoUrl) {
    Logger.info(`ScreenshareStarted: There is external video being shared. Stopping it due to presenter change, ${meeting.externalVideoUrl}`);
    stopWatchingExternalVideo({
      meetingId,
      requesterUserId: presenterId
    });
  }

  return addScreenshare(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"screenshareStopped.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/handlers/screenshareStopped.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleScreenshareStopped
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearScreenshare;
module.link("../modifiers/clearScreenshare", {
  default(v) {
    clearScreenshare = v;
  }

}, 1);

function handleScreenshareStopped({
  body
}, meetingId) {
  const {
    screenshareConf
  } = body;
  check(meetingId, String);
  check(screenshareConf, String);
  return clearScreenshare(meetingId, screenshareConf);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addScreenshare.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/modifiers/addScreenshare.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addScreenshare
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 3);

function addScreenshare(meetingId, body) {
  check(meetingId, String);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      meetingId,
      screenshare: flat(body)
    }
  };

  try {
    const {
      numberAffected
    } = Screenshare.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Upserted screenshare id=${body.screenshareConf}`);
    }
  } catch (err) {
    Logger.error(`Adding screenshare to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearScreenshare.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/modifiers/clearScreenshare.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearScreenshare
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 1);

function clearScreenshare(meetingId, screenshareConf) {
  try {
    let numberAffected;

    if (meetingId && screenshareConf) {
      numberAffected = Screenshare.remove({
        meetingId,
        'screenshare.screenshareConf': screenshareConf
      });
    } else if (meetingId) {
      numberAffected = Screenshare.remove({
        meetingId
      });
    } else {
      numberAffected = Screenshare.remove({});
    }

    if (numberAffected) {
      Logger.info(`removed screenshare meetingId=${meetingId} id=${screenshareConf}`);
    }
  } catch (err) {
    Logger.error(`removing screenshare to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleScreenshareStarted;
module.link("./handlers/screenshareStarted", {
  default(v) {
    handleScreenshareStarted = v;
  }

}, 1);
let handleScreenshareStopped;
module.link("./handlers/screenshareStopped", {
  default(v) {
    handleScreenshareStopped = v;
  }

}, 2);
RedisPubSub.on('ScreenshareRtmpBroadcastStartedEvtMsg', handleScreenshareStarted);
RedisPubSub.on('ScreenshareRtmpBroadcastStoppedEvtMsg', handleScreenshareStopped);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
Meteor.methods({});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function screenshare() {
  if (!this.userId) {
    return Screenshare.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Screenshare', {
    meetingId,
    requesterUserId
  });
  return Screenshare.find({
    meetingId
  });
}

function publish(...args) {
  const boundScreenshare = screenshare.bind(this);
  return boundScreenshare(...args);
}

Meteor.publish('screenshare', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Screenshare = new Mongo.Collection('screenshare');

if (Meteor.isServer) {
  // types of queries for the screenshare:
  // 1. meetingId
  Screenshare._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Screenshare);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"slides":{"server":{"handlers":{"slideChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/handlers/slideChange.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSlideChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let changeCurrentSlide;
module.link("../modifiers/changeCurrentSlide", {
  default(v) {
    changeCurrentSlide = v;
  }

}, 1);

function handleSlideChange({
  body
}, meetingId) {
  const {
    pageId,
    presentationId,
    podId
  } = body;
  check(pageId, String);
  check(presentationId, String);
  check(podId, String);
  return changeCurrentSlide(meetingId, podId, presentationId, pageId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"slideResize.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/handlers/slideResize.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSlideResize
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let resizeSlide;
module.link("../modifiers/resizeSlide", {
  default(v) {
    resizeSlide = v;
  }

}, 1);

function handleSlideResize({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  return resizeSlide(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"switchSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods/switchSlide.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => switchSlide
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function switchSlide(slideNumber, podId) {
  // TODO-- send presentationId and SlideId
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetCurrentPagePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(slideNumber, Number);
  const selector = {
    meetingId,
    podId,
    current: true
  };
  const Presentation = Presentations.findOne(selector);

  if (!Presentation) {
    throw new Meteor.Error('presentation-not-found', 'You need a presentation to be able to switch slides');
  }

  const Slide = Slides.findOne({
    meetingId,
    podId,
    presentationId: Presentation.id,
    num: slideNumber
  });

  if (!Slide) {
    throw new Meteor.Error('slide-not-found', `Slide number ${slideNumber} not found in the current presentation`);
  }

  const payload = {
    podId,
    presentationId: Presentation.id,
    pageId: Slide.id
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zoomSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods/zoomSlide.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => zoomSlide
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function zoomSlide(slideNumber, podId, widthRatio, heightRatio, x, y) {
  // TODO-- send presentationId and SlideId
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ResizeAndMovePagePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    podId,
    current: true
  };
  const Presentation = Presentations.findOne(selector);

  if (!Presentation) {
    throw new Meteor.Error('presentation-not-found', 'You need a presentation to be able to switch slides');
  }

  const Slide = Slides.findOne({
    meetingId,
    podId,
    presentationId: Presentation.id,
    num: slideNumber
  });

  if (!Slide) {
    throw new Meteor.Error('slide-not-found', `Slide number ${slideNumber} not found in the current presentation`);
  }

  const payload = {
    podId,
    presentationId: Presentation.id,
    pageId: Slide.id,
    xOffset: x,
    yOffset: y,
    widthRatio,
    heightRatio
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/addSlide.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

module.export({
  default: () => addSlide
});
let probe;
module.link("probe-image-size", {
  default(v) {
    probe = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 5);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 6);
let SVG, PNG;
module.link("/imports/utils/mimeTypes", {
  SVG(v) {
    SVG = v;
  },

  PNG(v) {
    PNG = v;
  }

}, 7);
let calculateSlideData;
module.link("/imports/api/slides/server/helpers", {
  default(v) {
    calculateSlideData = v;
  }

}, 8);
let addSlidePositions;
module.link("./addSlidePositions", {
  default(v) {
    addSlidePositions = v;
  }

}, 9);
const loadSlidesFromHttpAlways = Meteor.settings.private.app.loadSlidesFromHttpAlways || false;

const requestWhiteboardHistory = (meetingId, slideId) => {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'GetWhiteboardAnnotationsReqMsg';
  const USER_ID = 'nodeJSapp';
  const payload = {
    whiteboardId: slideId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, USER_ID, payload);
};

const SUPPORTED_TYPES = [SVG, PNG];

const fetchImageSizes = imageUri => probe(imageUri).then(result => {
  if (!SUPPORTED_TYPES.includes(result.mime)) {
    throw new Meteor.Error('invalid-image-type', `received ${result.mime} expecting ${SUPPORTED_TYPES.join()}`);
  }

  return {
    width: result.width,
    height: result.height
  };
}).catch(reason => {
  Logger.error(`Error parsing image size. ${reason}. uri=${imageUri}`);
  return reason;
});

function addSlide(meetingId, podId, presentationId, slide) {
  check(podId, String);
  check(presentationId, String);
  check(slide, {
    id: String,
    num: Number,
    thumbUri: String,
    swfUri: String,
    txtUri: String,
    svgUri: String,
    current: Boolean,
    xOffset: Number,
    yOffset: Number,
    widthRatio: Number,
    heightRatio: Number,
    content: String
  });
  const {
    id: slideId,
    xOffset,
    yOffset,
    widthRatio,
    heightRatio
  } = slide,
        restSlide = (0, _objectWithoutProperties2.default)(slide, ["id", "xOffset", "yOffset", "widthRatio", "heightRatio"]);
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: slideId
  };
  const imageUri = slide.svgUri || slide.pngUri;
  const modifier = {
    $set: Object.assign({
      meetingId
    }, {
      podId
    }, {
      presentationId
    }, {
      id: slideId
    }, {
      imageUri
    }, flat(restSlide), {
      safe: true
    })
  };
  const imageSizeUri = loadSlidesFromHttpAlways ? imageUri.replace(/^https/i, 'http') : imageUri;
  return fetchImageSizes(imageSizeUri).then(({
    width,
    height
  }) => {
    // there is a rare case when for a very long not-active meeting the presentation
    // files just disappear and width/height can't be retrieved
    if (width && height) {
      // pre-calculating the width, height, and vieBox coordinates / dimensions
      // to unload the client-side
      const slideData = {
        width,
        height,
        xOffset,
        yOffset,
        widthRatio,
        heightRatio
      };
      const slidePosition = calculateSlideData(slideData);
      addSlidePositions(meetingId, podId, presentationId, slideId, slidePosition);
    }

    try {
      const {
        insertedId,
        numberAffected
      } = Slides.upsert(selector, modifier);
      requestWhiteboardHistory(meetingId, slideId);

      if (insertedId) {
        Logger.info(`Added slide id=${slideId} pod=${podId} presentation=${presentationId}`);
      } else if (numberAffected) {
        Logger.info(`Upserted slide id=${slideId} pod=${podId} presentation=${presentationId}`);
      }
    } catch (err) {
      Logger.error(`Error on adding slide to collection: ${err}`);
    }
  }).catch(reason => Logger.error(`Error parsing image size. ${reason}. slide=${slideId} uri=${imageUri}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addSlidePositions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/addSlidePositions.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addSlidePositions
});
let SlidePositions;
module.link("/imports/api/slides", {
  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function addSlidePositions(meetingId, podId, presentationId, slideId, slidePosition) {
  check(meetingId, String);
  check(podId, String);
  check(presentationId, String);
  check(slideId, String);
  check(slidePosition, {
    width: Number,
    height: Number,
    x: Number,
    y: Number,
    viewBoxWidth: Number,
    viewBoxHeight: Number
  });
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: slideId
  };
  const modifier = {
    $set: Object.assign({
      meetingId
    }, {
      podId
    }, {
      presentationId
    }, {
      id: slideId
    }, flat(slidePosition), {
      safe: true
    })
  };

  try {
    const {
      insertedId
    } = SlidePositions.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added slide position id=${slideId} pod=${podId} presentation=${presentationId}`);
    } else {
      Logger.info(`Upserted slide position id=${slideId} pod=${podId} presentation=${presentationId}`);
    }
  } catch (err) {
    Logger.error(`Adding slide position to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeCurrentSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/changeCurrentSlide.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeCurrentSlide
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function changeCurrentSlide(meetingId, podId, presentationId, slideId) {
  check(meetingId, String);
  check(presentationId, String);
  check(slideId, String);
  check(podId, String);
  const oldCurrent = {
    selector: {
      meetingId,
      podId,
      presentationId,
      current: true
    },
    modifier: {
      $set: {
        current: false
      }
    },
    callback: err => {
      if (err) {
        Logger.error(`Unsetting the current slide: ${err}`);
        return;
      }

      Logger.info('Unsetted the current slide');
      return;
    }
  };
  const newCurrent = {
    selector: {
      meetingId,
      podId,
      presentationId,
      id: slideId
    },
    modifier: {
      $set: {
        current: true
      }
    },
    callback: err => {
      if (err) {
        Logger.error(`Setting as current slide id=${slideId}: ${err}`);
        return;
      }

      Logger.info(`Setted as current slide id=${slideId}`);
      return;
    }
  };
  const oldSlide = Slides.findOne(oldCurrent.selector);
  const newSlide = Slides.findOne(newCurrent.selector); // if the oldCurrent and newCurrent have the same ids

  if (oldSlide && newSlide && oldSlide._id === newSlide._id) {
    return;
  }

  if (newSlide) {
    Slides.update(newSlide._id, newCurrent.modifier, newCurrent.callback);
  }

  if (oldSlide) {
    Slides.update(oldSlide._id, oldCurrent.modifier, oldCurrent.callback);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearSlides.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/clearSlides.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearSlides
});
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearSlides(meetingId) {
  if (meetingId) {
    try {
      const numberAffectedSlidePositions = SlidePositions.remove({
        meetingId
      });
      const numberAffected = Slides.remove({
        meetingId
      });

      if (numberAffectedSlidePositions) {
        Logger.info(`Cleared SlidePositions (${meetingId})`);
      }

      if (numberAffected) {
        Logger.info(`Cleared Slides (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on cleaning Slides (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffectedSlidePositions = SlidePositions.remove({
        meetingId
      });
      const numberAffected = Slides.remove({
        meetingId
      });

      if (numberAffectedSlidePositions) {
        Logger.info(`Cleared SlidePositions (${meetingId})`);
      }

      if (numberAffected) {
        Logger.info('Cleared Slides (all)');
      }
    } catch (err) {
      Logger.error(`Error on cleaning Slides (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearSlidesPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/clearSlidesPresentation.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearSlidesPresentation
});
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let clearAnnotations;
module.link("/imports/api/annotations/server/modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 3);

function clearSlidesPresentation(meetingId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  const selector = {
    meetingId,
    presentationId
  };
  const whiteboardIds = Slides.find(selector, {
    fields: {
      id: 1
    }
  }).map(row => row.id);

  try {
    SlidePositions.remove(selector);
    const numberAffected = Slides.remove(selector);

    if (numberAffected) {
      whiteboardIds.forEach(whiteboardId => clearAnnotations(meetingId, whiteboardId));
      Logger.info(`Removed Slides where presentationId=${presentationId}`);
    }
  } catch (err) {
    Logger.error(`Removing Slides from collection: ${err}`);
    return;
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"resizeSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/resizeSlide.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => resizeSlide
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let SlidePositions;
module.link("/imports/api/slides", {
  SlidePositions(v) {
    SlidePositions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let calculateSlideData;
module.link("/imports/api/slides/server/helpers", {
  default(v) {
    calculateSlideData = v;
  }

}, 3);

function resizeSlide(meetingId, slide) {
  check(meetingId, String);
  const {
    podId,
    presentationId,
    pageId,
    widthRatio,
    heightRatio,
    xOffset,
    yOffset
  } = slide;
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: pageId
  }; // fetching the current slide data
  // and pre-calculating the width, height, and vieBox coordinates / sizes
  // to reduce the client-side load

  const SlidePosition = SlidePositions.findOne(selector);

  if (SlidePosition) {
    const {
      width,
      height
    } = SlidePosition;
    const slideData = {
      width,
      height,
      xOffset,
      yOffset,
      widthRatio,
      heightRatio
    };
    const calculatedData = calculateSlideData(slideData);
    const modifier = {
      $set: calculatedData
    };

    try {
      const numberAffected = SlidePositions.update(selector, modifier);

      if (numberAffected) {
        Logger.debug(`Resized slide positions id=${pageId}`);
      } else {
        Logger.info(`No slide positions found with id=${pageId}`);
      }
    } catch (err) {
      Logger.error(`Resizing slide positions id=${pageId}: ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/eventHandlers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleSlideResize;
module.link("./handlers/slideResize", {
  default(v) {
    handleSlideResize = v;
  }

}, 1);
let handleSlideChange;
module.link("./handlers/slideChange", {
  default(v) {
    handleSlideChange = v;
  }

}, 2);
RedisPubSub.on('ResizeAndMovePageEvtMsg', handleSlideResize);
RedisPubSub.on('SetCurrentPageEvtMsg', handleSlideChange);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/helpers.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
const calculateSlideData = slideData => {
  const {
    width,
    height,
    xOffset,
    yOffset,
    widthRatio,
    heightRatio
  } = slideData; // calculating viewBox and offsets for the current presentation

  return {
    width,
    height,
    x: -xOffset * 2 * width / 100,
    y: -yOffset * 2 * height / 100,
    viewBoxWidth: width * widthRatio / 100,
    viewBoxHeight: height * heightRatio / 100
  };
};

module.exportDefault(calculateSlideData);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let switchSlide;
module.link("./methods/switchSlide", {
  default(v) {
    switchSlide = v;
  }

}, 1);
let zoomSlide;
module.link("./methods/zoomSlide", {
  default(v) {
    zoomSlide = v;
  }

}, 2);
Meteor.methods({
  switchSlide,
  zoomSlide
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/publishers.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function slides() {
  if (!this.userId) {
    return Slides.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Slides', {
    meetingId,
    requesterUserId
  });
  return Slides.find({
    meetingId
  });
}

function publish(...args) {
  const boundSlides = slides.bind(this);
  return boundSlides(...args);
}

Meteor.publish('slides', publish);

function slidePositions() {
  if (!this.userId) {
    return SlidePositions.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing SlidePositions', {
    meetingId,
    requesterUserId
  });
  return SlidePositions.find({
    meetingId
  });
}

function publishPositions(...args) {
  const boundSlidePositions = slidePositions.bind(this);
  return boundSlidePositions(...args);
}

Meteor.publish('slide-positions', publishPositions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/index.js                                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  Slides: () => Slides,
  SlidePositions: () => SlidePositions
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Slides = new Mongo.Collection('slides');
const SlidePositions = new Mongo.Collection('slide-positions');

if (Meteor.isServer) {
  // types of queries for the slides:
  // 1. meetingId                                  ( 1 )
  // 2. meetingId, podId                           ( 1 )
  // 3. meetingId, presentationId                  ( 1 )
  // 3. meetingId, presentationId, num             ( 1 )
  // 4. meetingId, podId, presentationId, id       ( 3 ) - incl. resizeSlide, which can be intense
  // 5. meetingId, podId, presentationId, current  ( 1 )
  Slides._ensureIndex({
    meetingId: 1,
    podId: 1,
    presentationId: 1,
    id: 1
  });

  SlidePositions._ensureIndex({
    meetingId: 1,
    podId: 1,
    presentationId: 1,
    id: 1
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users":{"server":{"handlers":{"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/changeRole.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleChangeRole
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let changeRole;
module.link("/imports/api/users/server/modifiers/changeRole", {
  default(v) {
    changeRole = v;
  }

}, 1);

function handleChangeRole(payload, meetingId) {
  check(payload.body, Object);
  check(meetingId, String);
  const {
    userId,
    role,
    changedBy
  } = payload.body;
  changeRole(role, userId, meetingId, changedBy);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"emojiStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/emojiStatus.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleEmojiStatus
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);

function handleEmojiStatus({
  body
}, meetingId) {
  const {
    userId,
    emoji
  } = body;
  check(userId, String);
  check(emoji, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      emojiTime: new Date().getTime(),
      emoji
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Assigned user emoji status ${emoji} id=${userId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Assigning user emoji status: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/getUsers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetUsers
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users/", {
  default(v) {
    Users = v;
  }

}, 1);
let addUser;
module.link("../modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 2);
let removeUser;
module.link("../modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 3);

function handleGetUsers({
  body
}, meetingId) {
  const {
    users
  } = body;
  check(meetingId, String);
  check(users, Array);
  const usersIds = users.map(m => m.intId);
  const usersToRemove = Users.find({
    meetingId,
    userId: {
      $nin: usersIds
    }
  }, {
    fields: {
      userId: 1
    }
  }).fetch();
  usersToRemove.forEach(user => removeUser(meetingId, user.userId));
  const usersAdded = [];
  users.forEach(user => {
    usersAdded.push(addUser(meetingId, user));
  });
  return usersAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presenterAssigned.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/presenterAssigned.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresenterAssigned
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let changePresenter;
module.link("/imports/api/users/server/modifiers/changePresenter", {
  default(v) {
    changePresenter = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);

function setPresenterInPodReqMsg(credentials) {
  // TODO-- switch to meetingId, etc
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetPresenterInPodReqMsg';
  const {
    meetingId,
    requesterUserId,
    presenterId
  } = credentials;
  const payload = {
    podId: 'DEFAULT_PRESENTATION_POD',
    nextPresenterId: presenterId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}

function handlePresenterAssigned({
  body
}, meetingId) {
  const {
    presenterId,
    assignedBy
  } = body;
  changePresenter(true, presenterId, meetingId, assignedBy);
  const selector = {
    meetingId,
    userId: {
      $ne: presenterId
    },
    presenter: true
  };
  const prevPresenter = Users.findOne(selector); // no previous presenters
  // The below code is responsible for set Meeting presenter to be default pod presenter as well.
  // It's been handled here because right now akka-apps don't handle all cases scenarios.

  if (!prevPresenter) {
    const setPresenterPayload = {
      meetingId,
      requesterUserId: assignedBy,
      presenterId
    };
    const defaultPodSelector = {
      meetingId,
      podId: 'DEFAULT_PRESENTATION_POD'
    };
    const currentDefaultPodPresenter = PresentationPods.findOne(defaultPodSelector);
    const {
      currentPresenterId
    } = currentDefaultPodPresenter;

    if (currentPresenterId === '') {
      return setPresenterInPodReqMsg(setPresenterPayload);
    }

    const oldPresenter = Users.findOne({
      meetingId,
      userId: currentPresenterId,
      connectionStatus: 'offline'
    });

    if (oldPresenter) {
      return setPresenterInPodReqMsg(setPresenterPayload);
    }

    return true;
  }

  changePresenter(false, prevPresenter.userId, meetingId, assignedBy);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/removeUser.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRemoveUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removeUser;
module.link("../modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 1);

function handleRemoveUser({
  body
}, meetingId) {
  const {
    intId
  } = body;
  check(meetingId, String);
  check(intId, String);
  return removeUser(meetingId, intId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userEjected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userEjected.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleEjectedUser
});
let userEjected;
module.link("../modifiers/userEjected", {
  default(v) {
    userEjected = v;
  }

}, 0);

function handleEjectedUser({
  header,
  body
}) {
  const {
    meetingId,
    userId
  } = header;
  const {
    reasonCode
  } = body;
  userEjected(meetingId, userId, reasonCode);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userInactivityInspect.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userInactivityInspect.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserInactivityInspect
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let userInactivityInspect;
module.link("../modifiers/userInactivityInspect", {
  default(v) {
    userInactivityInspect = v;
  }

}, 1);

function handleUserInactivityInspect({
  header,
  body
}, meetingId) {
  const {
    userId
  } = header;
  const {
    responseDelay
  } = body;
  check(userId, String);
  check(responseDelay, Match.Integer);
  check(meetingId, String);
  userInactivityInspect(userId, responseDelay);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userJoin.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userJoin.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userJoin
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);

function userJoin(meetingId, userId, authToken) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserJoinMeetingReqMsg';
  check(authToken, String);
  const payload = {
    userId,
    authToken,
    clientType: 'HTML5'
  };
  Logger.info(`User='${userId}' is joining meeting='${meetingId}' authToken='${authToken}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userJoined.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userJoined.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserJoined
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUser;
module.link("../modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 1);

function handleUserJoined({
  body
}, meetingId) {
  const user = body;
  check(user, Object);
  addUser(meetingId, user);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"validateAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/validateAuthToken.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleValidateAuthToken
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let userJoin;
module.link("./userJoin", {
  default(v) {
    userJoin = v;
  }

}, 3);
let pendingAuthenticationsStore;
module.link("../store/pendingAuthentications", {
  default(v) {
    pendingAuthenticationsStore = v;
  }

}, 4);
let createDummyUser;
module.link("../modifiers/createDummyUser", {
  default(v) {
    createDummyUser = v;
  }

}, 5);
let setConnectionIdAndAuthToken;
module.link("../modifiers/setConnectionIdAndAuthToken", {
  default(v) {
    setConnectionIdAndAuthToken = v;
  }

}, 6);

const clearOtherSessions = (sessionUserId, current = false) => {
  const serverSessions = Meteor.server.sessions;
  Object.keys(serverSessions).filter(i => serverSessions[i].userId === sessionUserId).filter(i => i !== current).forEach(i => serverSessions[i].close());
};

function handleValidateAuthToken({
  body
}, meetingId) {
  const {
    userId,
    valid,
    authToken,
    waitForApproval
  } = body;
  check(userId, String);
  check(authToken, String);
  check(valid, Boolean);
  check(waitForApproval, Boolean);
  const pendingAuths = pendingAuthenticationsStore.take(meetingId, userId, authToken);

  if (!valid) {
    pendingAuths.forEach(pendingAuth => {
      try {
        const {
          methodInvocationObject
        } = pendingAuth;
        const connectionId = methodInvocationObject.connection.id; // Schedule socket disconnection for this user, giving some time for client receiving the reason of disconnection

        Meteor.setTimeout(() => {
          methodInvocationObject.connection.close();
        }, 2000);
        Logger.info(`Closed connection ${connectionId} due to invalid auth token.`);
      } catch (e) {
        Logger.error(`Error closing socket for meetingId '${meetingId}', userId '${userId}', authToken ${authToken}`);
      }
    });
    return;
  }

  if (valid) {
    // Define user ID on connections
    pendingAuths.forEach(pendingAuth => {
      const {
        methodInvocationObject
      } = pendingAuth;
      /* Logic migrated from validateAuthToken method ( postponed to only run in case of success response ) - Begin */

      const sessionId = `${meetingId}--${userId}`;
      methodInvocationObject.setUserId(sessionId);
      const User = Users.findOne({
        meetingId,
        userId
      });

      if (!User) {
        createDummyUser(meetingId, userId, authToken);
      }

      setConnectionIdAndAuthToken(meetingId, userId, methodInvocationObject.connection.id, authToken);
      /* End of logic migrated from validateAuthToken */
    });
  }

  const selector = {
    meetingId,
    userId,
    clientType: 'HTML5'
  };
  const User = Users.findOne(selector); // If we dont find the user on our collection is a flash user and we can skip

  if (!User) return; // Publish user join message

  if (valid && !waitForApproval) {
    Logger.info('User=', User);
    userJoin(meetingId, userId, User.authToken);
  }

  const modifier = {
    $set: {
      validated: valid,
      approved: !waitForApproval,
      loginTime: Date.now(),
      inactivityCheck: false
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      if (valid) {
        const sessionUserId = `${meetingId}-${userId}`;
        const currentConnectionId = User.connectionId ? User.connectionId : false;
        clearOtherSessions(sessionUserId, currentConnectionId);
      }

      Logger.info(`Validated auth token as ${valid} user=${userId} meeting=${meetingId}`);
    } else {
      Logger.info('No auth to validate');
    }
  } catch (err) {
    Logger.error(`Validating auth token: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"assignPresenter.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/assignPresenter.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => assignPresenter
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function assignPresenter(userId) {
  // TODO-- send username from client side
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'AssignPresenterReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const User = Users.findOne({
    meetingId,
    userId
  });

  if (!User) {
    throw new Meteor.Error('user-not-found', 'You need a valid user to be able to set presenter');
  }

  const payload = {
    newPresenterId: userId,
    newPresenterName: User.name,
    assignedBy: requesterUserId,
    requesterId: requesterUserId
  };
  Logger.verbose('User set as presenter', {
    userId,
    meetingId,
    setBy: requesterUserId
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/changeRole.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeRole
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function changeRole(userId, role) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserRoleCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  check(role, String);
  const payload = {
    userId,
    role,
    changedBy: requesterUserId
  };
  Logger.verbose('Changed user role', {
    userId,
    role,
    changedBy: requesterUserId,
    meetingId
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/removeUser.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let BannedUsers;
module.link("/imports/api/users/server/store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 5);

function removeUser(userId, banUser) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EjectUserFromMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId: ejectedBy
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    userId,
    ejectedBy,
    banUser
  };
  const removedUser = Users.findOne({
    meetingId,
    userId
  }, {
    extId: 1
  });
  if (banUser && removedUser) BannedUsers.add(meetingId, removedUser.extId);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, ejectedBy, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setEmojiStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/setEmojiStatus.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setEmojiStatus
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function setEmojiStatus(userId, status) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserEmojiCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    emoji: status,
    userId
  };
  Logger.verbose('User emoji status updated', {
    userId,
    status,
    requesterUserId,
    meetingId
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUserEffectiveConnectionType.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/setUserEffectiveConnectionType.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUserEffectiveConnectionType
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
let setEffectiveConnectionType;
module.link("../modifiers/setUserEffectiveConnectionType", {
  default(v) {
    setEffectiveConnectionType = v;
  }

}, 5);

function setUserEffectiveConnectionType(effectiveConnectionType) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserEffectiveConnectionMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(effectiveConnectionType, String);
  const payload = {
    meetingId,
    userId: requesterUserId,
    effectiveConnectionType
  };
  setEffectiveConnectionType(meetingId, requesterUserId, effectiveConnectionType);
  Logger.verbose('Updated user effective connection', {
    requesterUserId,
    effectiveConnectionType
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleUserLock.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/toggleUserLock.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleUserLock
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function toggleUserLock(userId, lock) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'LockUserInMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId: lockedBy
  } = extractCredentials(this.userId);
  check(lockedBy, String);
  check(userId, String);
  check(lock, Boolean);
  const payload = {
    lockedBy,
    userId,
    lock
  };
  Logger.verbose('Updated lock status for user', {
    meetingId,
    userId,
    lock,
    lockedBy
  });
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, lockedBy, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userActivitySign.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userActivitySign.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userActivitySign
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userActivitySign() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserActivitySignCmdMsg';
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const payload = {
    userId
  };
  const selector = {
    userId
  };
  const modifier = {
    $set: {
      inactivityCheck: false
    }
  };
  Users.update(selector, modifier); // TODO-- we should move this to a modifier

  Logger.info(`User ${userId} sent a activity sign for meeting ${meetingId}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLeaving.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userLeaving.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userLeaving
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);

function userLeaving(meetingId, userId, connectionId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserLeaveReqMsg';
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };
  const User = Users.findOne(selector);

  if (!User) {
    Logger.info(`Skipping userLeaving. Could not find ${userId} in ${meetingId}`);
    return;
  } // If the current user connection is not the same that triggered the leave we skip


  if (User.connectionId !== connectionId) {
    Logger.info(`Skipping userLeaving. User connectionId=${User.connectionId} is different from requester connectionId=${connectionId}`);
    return false;
  }

  const payload = {
    userId,
    sessionId: meetingId
  };
  Logger.info(`User '${userId}' is leaving meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLeftMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userLeftMeeting.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userLeftMeeting
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function userLeftMeeting() {
  // TODO-- spread the code to method/modifier/handler
  // so we don't update the db in a method
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    userId: requesterUserId
  };

  try {
    const numberAffected = Users.update(selector, {
      $set: {
        loggedOut: true
      }
    });

    if (numberAffected) {
      Logger.info(`user left id=${requesterUserId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`leaving dummy user to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"validateAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/validateAuthToken.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => validateAuthToken
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let pendingAuthenticationsStore;
module.link("../store/pendingAuthentications", {
  default(v) {
    pendingAuthenticationsStore = v;
  }

}, 3);
let BannedUsers;
module.link("../store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 4);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 5);

function validateAuthToken(meetingId, requesterUserId, requesterToken, externalId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ValidateAuthTokenReqMsg'; // Check if externalId is banned from the meeting

  if (externalId) {
    if (BannedUsers.has(meetingId, externalId)) {
      Logger.warn(`A banned user with extId ${externalId} tried to enter in meeting ${meetingId}`);
      return {
        invalid: true,
        reason: 'User has been banned',
        error_type: 'user_banned'
      };
    }
  } // Prevent users who have left or been ejected to use the same sessionToken again.


  const isUserInvalid = Users.findOne({
    meetingId,
    userId: requesterUserId,
    authToken: requesterToken,
    $or: [{
      ejected: true
    }, {
      loggedOut: true
    }]
  });

  if (isUserInvalid) {
    Logger.warn(`An invalid sessionToken tried to validateAuthToken meetingId=${meetingId} authToken=${requesterToken}`);
    return {
      invalid: true,
      reason: `User has an invalid sessionToken due to ${isUserInvalid.ejected ? 'ejection' : 'log out'}`,
      error_type: `invalid_session_token_due_to_${isUserInvalid.ejected ? 'eject' : 'log_out'}`
    };
  } // Store reference of methodInvocationObject ( to postpone the connection userId definition )


  pendingAuthenticationsStore.add(meetingId, requesterUserId, requesterToken, this);
  const payload = {
    userId: requesterUserId,
    authToken: requesterToken
  };
  Logger.info(`User '${requesterUserId}' is trying to validate auth token for meeting '${meetingId}' from connection '${this.connection.id}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addDialInUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/addDialInUser.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addDialInUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUser;
module.link("/imports/api/users/server/modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 1);

function addDialInUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, Object);
  const USER_CONFIG = Meteor.settings.public.user;
  const ROLE_VIEWER = USER_CONFIG.role_viewer;
  const {
    intId,
    callerName
  } = voiceUser;
  const voiceOnlyUser = {
    intId,
    extId: intId,
    // TODO
    name: callerName,
    role: ROLE_VIEWER.toLowerCase(),
    guest: false,
    authed: true,
    waitingForAcceptance: false,
    guestStatus: 'ALLOW',
    emoji: 'none',
    presenter: false,
    locked: false,
    // TODO
    avatar: '',
    clientType: 'dial-in-user'
  };
  return addUser(meetingId, voiceOnlyUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/addUser.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 3);
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 4);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 5);
let SanitizeHTML;
module.link("sanitize-html", {
  default(v) {
    SanitizeHTML = v;
  }

}, 6);
let stringHash;
module.link("string-hash", {
  default(v) {
    stringHash = v;
  }

}, 7);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 8);
let addVoiceUser;
module.link("/imports/api/voice-users/server/modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 9);
const COLOR_LIST = ['#7b1fa2', '#6a1b9a', '#4a148c', '#5e35b1', '#512da8', '#4527a0', '#311b92', '#3949ab', '#303f9f', '#283593', '#1a237e', '#1976d2', '#1565c0', '#0d47a1', '#0277bd', '#01579b'];

function addUser(meetingId, userData) {
  const user = userData;
  const sanitizedName = SanitizeHTML(userData.name, {
    allowedTags: [],
    allowedAttributes: {}
  }); // if user typed only tags

  user.name = sanitizedName.length === 0 ? _.escape(userData.name) : sanitizedName;
  check(meetingId, String);
  check(user, {
    intId: String,
    extId: String,
    name: String,
    role: String,
    guest: Boolean,
    authed: Boolean,
    waitingForAcceptance: Match.Maybe(Boolean),
    guestStatus: String,
    emoji: String,
    presenter: Boolean,
    locked: Boolean,
    avatar: String,
    clientType: String
  });
  const userId = user.intId;
  const selector = {
    meetingId,
    userId
  };
  const Meeting = Meetings.findOne({
    meetingId
  });
  /* While the akka-apps dont generate a color we just pick one
    from a list based on the userId */

  const color = COLOR_LIST[stringHash(user.intId) % COLOR_LIST.length];
  const modifier = {
    $set: Object.assign({
      meetingId,
      connectionStatus: 'online',
      sortName: user.name.trim().toLowerCase(),
      color,
      breakoutProps: {
        isBreakoutUser: Meeting.meetingProp.isBreakout,
        parentId: Meeting.breakoutProps.parentId
      },
      effectiveConnectionType: null,
      inactivityCheck: false,
      responseDelay: 0,
      loggedOut: false
    }, flat(user))
  }; // Only add an empty VoiceUser if there isn't one already and if the user coming in isn't a
  // dial-in user. We want to avoid overwriting good data

  if (user.clientType !== 'dial-in-user' && !VoiceUsers.findOne({
    meetingId,
    intId: userId
  })) {
    addVoiceUser(meetingId, {
      voiceUserId: '',
      intId: userId,
      callerName: user.name,
      callerNum: '',
      muted: false,
      talking: false,
      callingWith: '',
      listenOnly: false,
      voiceConf: '',
      joined: false
    });
  }

  try {
    const {
      insertedId
    } = Users.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added user id=${userId} meeting=${meetingId}`);
    } else {
      Logger.info(`Upserted user id=${userId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding user to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changePresenter.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/changePresenter.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changePresenter
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 3);

function changePresenter(presenter, userId, meetingId, changedBy) {
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      presenter
    }
  };

  try {
    const meeting = Meetings.findOne({
      meetingId
    });

    if (meeting && meeting.externalVideoUrl) {
      Logger.info(`ChangePresenter:There is external video being shared. Stopping it due to presenter change, ${meeting.externalVideoUrl}`);
      stopWatchingExternalVideo({
        meetingId,
        requesterUserId: userId
      });
    }

    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed presenter=${presenter} id=${userId} meeting=${meetingId}` + `${changedBy ? ` changedBy=${changedBy}` : ''}`);
    }
  } catch (err) {
    Logger.error(`Changed user role: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/changeRole.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeRole
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);

function changeRole(role, userId, meetingId, changedBy) {
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      role
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed user role=${role} id=${userId} meeting=${meetingId}` + `${changedBy ? ` changedBy=${changedBy}` : ''}`);
    }
  } catch (err) {
    Logger.error(`Changed user role: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/clearUsers.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsers
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users/index", {
  default(v) {
    Users = v;
  }

}, 1);

function clearUsers(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = Users.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared Users (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error clearing Users (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = Users.remove({});

      if (numberAffected) {
        Logger.info('Cleared Users (all)');
      }
    } catch (err) {
      Logger.error(`Error clearing Users (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"createDummyUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/createDummyUser.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createDummyUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);

function createDummyUser(meetingId, userId, authToken) {
  check(meetingId, String);
  check(userId, String);
  check(authToken, String);
  const User = Users.findOne({
    meetingId,
    userId
  });

  if (User) {
    throw new Meteor.Error('existing-user', 'Tried to create a dummy user for an existing user');
  }

  const doc = {
    meetingId,
    userId,
    authToken,
    clientType: 'HTML5',
    validated: null
  };

  try {
    const insertedId = Users.insert(doc);

    if (insertedId) {
      Logger.info(`Created dummy user id=${userId} token=${authToken} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Creating dummy user to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/removeUser.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 4);
let clearUserInfoForRequester;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfoForRequester", {
  default(v) {
    clearUserInfoForRequester = v;
  }

}, 5);

const clearAllSessions = sessionUserId => {
  const serverSessions = Meteor.server.sessions;
  Object.keys(serverSessions).filter(i => serverSessions[i].userId === sessionUserId).forEach(i => serverSessions[i].close());
};

function removeUser(meetingId, userId) {
  check(meetingId, String);
  check(userId, String);
  const userToRemove = Users.findOne({
    userId,
    meetingId
  });

  if (userToRemove) {
    const {
      presenter
    } = userToRemove;

    if (presenter) {
      stopWatchingExternalVideo({
        meetingId,
        requesterUserId: userId
      });
    }
  }

  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      connectionStatus: 'offline',
      validated: false,
      emoji: 'none',
      presenter: false,
      role: 'VIEWER'
    }
  };

  try {
    VideoStreams.remove({
      meetingId,
      userId
    });
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      const sessionUserId = `${meetingId}-${userId}`;
      clearAllSessions(sessionUserId);
      clearUserInfoForRequester(meetingId, userId);
      Logger.info(`Removed user id=${userId} meeting=${meetingId}`);
      return;
    }
  } catch (err) {
    Logger.error(`Removing user from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setConnectionIdAndAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/setConnectionIdAndAuthToken.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setConnectionIdAndAuthToken
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setConnectionIdAndAuthToken(meetingId, userId, connectionId, authToken) {
  check(meetingId, String);
  check(userId, String);
  check(authToken, String);
  check(connectionId, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      connectionId,
      authToken
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated connectionId and authToken user=${userId} connectionId=${connectionId} meeting=${meetingId} authToken=${authToken}`);
    }
  } catch (err) {
    Logger.error(`Updating connectionId user=${userId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUserEffectiveConnectionType.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/setUserEffectiveConnectionType.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUserEffectiveConnectionType
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setUserEffectiveConnectionType(meetingId, userId, effectiveConnectionType) {
  check(meetingId, String);
  check(userId, String);
  check(effectiveConnectionType, String);
  const selector = {
    meetingId,
    userId,
    effectiveConnectionType: {
      $ne: effectiveConnectionType
    }
  };
  const modifier = {
    $set: {
      effectiveConnectionType
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated user ${userId} effective connection to ${effectiveConnectionType} in meeting ${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Updating user ${userId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userEjected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/userEjected.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userEjected
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let clearUserInfoForRequester;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfoForRequester", {
  default(v) {
    clearUserInfoForRequester = v;
  }

}, 3);

function userEjected(meetingId, userId, ejectedReason) {
  check(meetingId, String);
  check(userId, String);
  check(ejectedReason, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      ejected: true,
      ejectedReason
    }
  };

  try {
    const numberAffected = Users.update(selector, modifier);

    if (numberAffected) {
      clearUserInfoForRequester(meetingId, userId);
      Logger.info(`Ejected user id=${userId} meeting=${meetingId} reason=${ejectedReason}`);
    }
  } catch (err) {
    Logger.error(`Ejecting user from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userInactivityInspect.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/userInactivityInspect.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userInactivityInspect
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);

function userInactivityInspect(userId, responseDelay) {
  check(userId, String);
  check(responseDelay, Match.Integer);
  const selector = {
    userId,
    inactivityCheck: false
  };
  const modifier = {
    $set: {
      inactivityCheck: true,
      responseDelay
    }
  };

  try {
    const {
      numberAffected
    } = Users.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Updated user ${userId} with inactivity inspect`);
    }
  } catch (err) {
    Logger.error(`Inactivity check for user ${userId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"store":{"bannedUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/store/bannedUsers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

class BannedUsers {
  constructor() {
    Logger.debug('BannedUsers :: Initializing');
    this.store = {};
  }

  init(meetingId) {
    Logger.debug('BannedUsers :: init', {
      meetingId
    });
    if (!this.store[meetingId]) this.store[meetingId] = new Set();
  }

  add(meetingId, externalId) {
    Logger.debug('BannedUsers :: add', {
      meetingId,
      externalId
    });
    if (!this.store[meetingId]) this.store[meetingId] = new Set();
    this.store[meetingId].add(externalId);
  }

  delete(meetingId) {
    Logger.debug('BannedUsers :: delete', {
      meetingId
    });
    delete this.store[meetingId];
  }

  has(meetingId, externalId) {
    Logger.debug('BannedUsers :: has', {
      meetingId,
      externalId
    });
    if (!this.store[meetingId]) this.store[meetingId] = new Set();
    return this.store[meetingId].has(externalId);
  }

}

module.exportDefault(new BannedUsers());
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pendingAuthentications.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/store/pendingAuthentications.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

class PendingAuthentitcations {
  constructor() {
    Logger.debug("PendingAuthentitcations :: constructor");
    this.store = [];
  }

  generateKey(meetingId, userId, authToken) {
    // Protect against separator injection
    meetingId = meetingId.replace(/ /g, '');
    userId = userId.replace(/ /g, '');
    authToken = authToken.replace(/ /g, ''); // Space separated key

    return `${meetingId} ${userId} ${authToken}`;
  }

  add(meetingId, userId, authToken, methodInvocationObject) {
    Logger.debug("PendingAuthentitcations :: add", {
      meetingId,
      userId,
      authToken
    });
    this.store.push({
      key: this.generateKey(meetingId, userId, authToken),
      meetingId,
      userId,
      authToken,
      methodInvocationObject
    });
  }

  take(meetingId, userId, authToken) {
    const key = this.generateKey(meetingId, userId, authToken);
    Logger.debug("PendingAuthentitcations :: take", {
      key,
      meetingId,
      userId,
      authToken
    }); // find matches

    const matches = this.store.filter(e => e.key === key); // remove matches (if any)

    if (matches.length) {
      this.store = this.store.filter(e => e.key !== key);
    } // return matches


    return matches;
  }

}

module.exportDefault(new PendingAuthentitcations());
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/eventHandlers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleRemoveUser;
module.link("./handlers/removeUser", {
  default(v) {
    handleRemoveUser = v;
  }

}, 1);
let handleUserJoined;
module.link("./handlers/userJoined", {
  default(v) {
    handleUserJoined = v;
  }

}, 2);
let handleValidateAuthToken;
module.link("./handlers/validateAuthToken", {
  default(v) {
    handleValidateAuthToken = v;
  }

}, 3);
let handlePresenterAssigned;
module.link("./handlers/presenterAssigned", {
  default(v) {
    handlePresenterAssigned = v;
  }

}, 4);
let handleEmojiStatus;
module.link("./handlers/emojiStatus", {
  default(v) {
    handleEmojiStatus = v;
  }

}, 5);
let handleGetUsers;
module.link("./handlers/getUsers", {
  default(v) {
    handleGetUsers = v;
  }

}, 6);
let handleUserEjected;
module.link("./handlers/userEjected", {
  default(v) {
    handleUserEjected = v;
  }

}, 7);
let handleChangeRole;
module.link("./handlers/changeRole", {
  default(v) {
    handleChangeRole = v;
  }

}, 8);
let handleUserInactivityInspect;
module.link("./handlers/userInactivityInspect", {
  default(v) {
    handleUserInactivityInspect = v;
  }

}, 9);
RedisPubSub.on('PresenterAssignedEvtMsg', handlePresenterAssigned);
RedisPubSub.on('UserJoinedMeetingEvtMsg', handleUserJoined);
RedisPubSub.on('UserLeftMeetingEvtMsg', handleRemoveUser);
RedisPubSub.on('ValidateAuthTokenRespMsg', handleValidateAuthToken);
RedisPubSub.on('UserEmojiChangedEvtMsg', handleEmojiStatus);
RedisPubSub.on('SyncGetUsersMeetingRespMsg', handleGetUsers);
RedisPubSub.on('UserEjectedFromMeetingEvtMsg', handleUserEjected);
RedisPubSub.on('UserRoleChangedEvtMsg', handleChangeRole);
RedisPubSub.on('UserInactivityInspectMsg', handleUserInactivityInspect);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/index.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let validateAuthToken;
module.link("./methods/validateAuthToken", {
  default(v) {
    validateAuthToken = v;
  }

}, 1);
let setEmojiStatus;
module.link("./methods/setEmojiStatus", {
  default(v) {
    setEmojiStatus = v;
  }

}, 2);
let assignPresenter;
module.link("./methods/assignPresenter", {
  default(v) {
    assignPresenter = v;
  }

}, 3);
let changeRole;
module.link("./methods/changeRole", {
  default(v) {
    changeRole = v;
  }

}, 4);
let removeUser;
module.link("./methods/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 5);
let toggleUserLock;
module.link("./methods/toggleUserLock", {
  default(v) {
    toggleUserLock = v;
  }

}, 6);
let setUserEffectiveConnectionType;
module.link("./methods/setUserEffectiveConnectionType", {
  default(v) {
    setUserEffectiveConnectionType = v;
  }

}, 7);
let userActivitySign;
module.link("./methods/userActivitySign", {
  default(v) {
    userActivitySign = v;
  }

}, 8);
let userLeftMeeting;
module.link("./methods/userLeftMeeting", {
  default(v) {
    userLeftMeeting = v;
  }

}, 9);
Meteor.methods({
  setEmojiStatus,
  assignPresenter,
  changeRole,
  removeUser,
  validateAuthToken,
  toggleUserLock,
  setUserEffectiveConnectionType,
  userActivitySign,
  userLeftMeeting
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/publishers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let userLeaving;
module.link("./methods/userLeaving", {
  default(v) {
    userLeaving = v;
  }

}, 5);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 6);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function currentUser() {
  if (!this.userId) {
    return Users.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const connectionId = this.connection.id;
  const onCloseConnection = Meteor.bindEnvironment(() => {
    try {
      userLeaving(meetingId, requesterUserId, connectionId);
    } catch (e) {
      Logger.error(`Exception while executing userLeaving: ${e}`);
    }
  });

  this._session.socket.on('close', _.debounce(onCloseConnection, 100));

  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const options = {
    fields: {
      user: false,
      authToken: false // Not asking for authToken from client side but also not exposing it

    }
  };
  return Users.find(selector, options);
}

function publishCurrentUser(...args) {
  const boundUsers = currentUser.bind(this);
  return boundUsers(...args);
}

Meteor.publish('current-user', publishCurrentUser);

function users(role) {
  if (!this.userId) {
    return Users.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    $or: [{
      meetingId
    }]
  };
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    selector.$or.push({
      'breakoutProps.isBreakoutUser': true,
      'breakoutProps.parentId': meetingId,
      connectionStatus: 'online'
    });
  }

  const options = {
    fields: {
      authToken: false,
      lastPing: false
    }
  };
  Logger.debug('Publishing Users', {
    meetingId,
    requesterUserId
  });
  return Users.find(selector, options);
}

function publish(...args) {
  const boundUsers = users.bind(this);
  return boundUsers(...args);
}

Meteor.publish('users', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/index.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Users = new Mongo.Collection('users');

if (Meteor.isServer) {
  // types of queries for the users:
  // 1. meetingId
  // 2. meetingId, userId
  Users._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(Users);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users-infos":{"server":{"handlers":{"userInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/handlers/userInformation.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserInformation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUserInfo;
module.link("../modifiers/addUserInfo", {
  default(v) {
    addUserInfo = v;
  }

}, 1);

function handleUserInformation({
  header,
  body
}) {
  check(body, Object);
  check(header, Object);
  const {
    userInfo
  } = body;
  const {
    userId,
    meetingId
  } = header;
  check(userInfo, Array);
  check(userId, String);
  check(meetingId, String);
  return addUserInfo(userInfo, userId, meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"removeUserInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods/removeUserInformation.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUserInformation
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function removeUserInformation() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    requesterUserId
  };

  try {
    const numberAffected = UserInfos.remove(selector);

    if (numberAffected) {
      Logger.info(`Removed user information: requester id=${requesterUserId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Removing user information from collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"requestUserInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods/requestUserInformation.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => getUserInformation
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function getUserInformation(externalUserId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toThirdParty;
  const EVENT_NAME = 'LookUpUserReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(externalUserId, String);
  const payload = {
    externalUserId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addUserInfo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/addUserInfo.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUserInfo
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function addUserInfo(userInfo, requesterUserId, meetingId) {
  const info = {
    meetingId,
    requesterUserId,
    userInfo
  };

  try {
    const numberAffected = UserInfos.insert(info);

    if (numberAffected) {
      Logger.info(`Added user information: requester id=${requesterUserId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Adding user information to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUserInfo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/clearUserInfo.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersInfo
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersInfo(meetingId) {
  try {
    const numberAffected = UserInfos.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared User Infos (${meetingId})`);
    }
  } catch (err) {
    Logger.error(`Error on clearing User Infos (${meetingId}). ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUserInfoForRequester.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/clearUserInfoForRequester.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersInfoForRequester
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersInfoForRequester(meetingId, requesterUserId) {
  try {
    const numberAffected = UserInfos.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared User Infos requested by user=${requesterUserId}`);
    }
  } catch (err) {
    Logger.info(`Error on clearing User Infos requested by user=${requesterUserId}. ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleUserInformation;
module.link("./handlers/userInformation", {
  default(v) {
    handleUserInformation = v;
  }

}, 1);
RedisPubSub.on('LookUpUserRespMsg', handleUserInformation);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let requestUserInformation;
module.link("./methods/requestUserInformation", {
  default(v) {
    requestUserInformation = v;
  }

}, 1);
let removeUserInformation;
module.link("./methods/removeUserInformation", {
  default(v) {
    removeUserInformation = v;
  }

}, 2);
Meteor.methods({
  requestUserInformation,
  removeUserInformation
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function userInfos() {
  if (!this.userId) {
    return UserInfos.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing user infos requested', {
    requesterUserId
  });
  return UserInfos.find({
    meetingId,
    requesterUserId
  });
}

function publish(...args) {
  const boundUserInfos = userInfos.bind(this);
  return boundUserInfos(...args);
}

Meteor.publish('users-infos', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const UserInfos = new Mongo.Collection('users-infos');

if (Meteor.isServer) {
  UserInfos._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(UserInfos);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users-settings":{"server":{"methods":{"addUserSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/methods/addUserSettings.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => addUserSettings
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUserSetting;
module.link("/imports/api/users-settings/server/modifiers/addUserSetting", {
  default(v) {
    addUserSetting = v;
  }

}, 1);
let logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
const oldParameters = {
  askForFeedbackOnLogout: 'bbb_ask_for_feedback_on_logout',
  autoJoin: 'bbb_auto_join_audio',
  autoShareWebcam: 'bbb_auto_share_webcam',
  autoSwapLayout: 'bbb_auto_swap_layout',
  clientTitle: 'bbb_client_title',
  customStyle: 'bbb_custom_style',
  customStyleUrl: 'bbb_custom_style_url',
  displayBrandingArea: 'bbb_display_branding_area',
  enableScreensharing: 'bbb_enable_screen_sharing',
  enableVideo: 'bbb_enable_video',
  forceListenOnly: 'bbb_force_listen_only',
  hidePresentation: 'bbb_hide_presentation',
  listenOnlyMode: 'bbb_listen_only_mode',
  multiUserPenOnly: 'bbb_multi_user_pen_only',
  multiUserTools: 'bbb_multi_user_tools',
  outsideToggleRecording: 'bbb_outside_toggle_recording',
  outsideToggleSelfVoice: 'bbb_outside_toggle_self_voice',
  presenterTools: 'bbb_presenter_tools',
  shortcuts: 'bbb_shortcuts',
  skipCheck: 'bbb_skip_check_audio'
};
const oldParametersKeys = Object.keys(oldParameters);
const currentParameters = [// APP
'bbb_ask_for_feedback_on_logout', 'bbb_auto_join_audio', 'bbb_client_title', 'bbb_force_listen_only', 'bbb_listen_only_mode', 'bbb_skip_check_audio', // BRANDING
'bbb_display_branding_area', // SHORTCUTS
'bbb_shortcuts', // KURENTO
'bbb_auto_share_webcam', 'bbb_preferred_camera_profile', 'bbb_enable_screen_sharing', 'bbb_enable_video', 'bbb_record_video', 'bbb_skip_video_preview', 'bbb_mirror_own_webcam', // PRESENTATION
'bbb_force_restore_presentation_on_new_events', // WHITEBOARD
'bbb_multi_user_pen_only', 'bbb_presenter_tools', 'bbb_multi_user_tools', // SKINNING/THEMMING
'bbb_custom_style', 'bbb_custom_style_url', // LAYOUT
'bbb_auto_swap_layout', 'bbb_hide_presentation', 'bbb_show_participants_on_login', 'bbb_show_public_chat_on_login', // OUTSIDE COMMANDS
'bbb_outside_toggle_self_voice', 'bbb_outside_toggle_recording'];

function valueParser(val) {
  try {
    const parsedValue = JSON.parse(val.toLowerCase().trim());
    return parsedValue;
  } catch (error) {
    logger.warn(`addUserSettings:Parameter ${val} could not be parsed (was not json)`);
    return val;
  }
}

function addUserSettings(settings) {
  check(settings, [Object]);
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  let parameters = {};
  settings.forEach(el => {
    const settingKey = Object.keys(el).shift();
    const normalizedKey = settingKey.trim();

    if (currentParameters.includes(normalizedKey)) {
      if (!Object.keys(parameters).includes(normalizedKey)) {
        parameters = (0, _objectSpread2.default)({
          [normalizedKey]: valueParser(el[settingKey])
        }, parameters);
      } else {
        parameters[normalizedKey] = el[settingKey];
      }

      return;
    }

    if (oldParametersKeys.includes(normalizedKey)) {
      const matchingNewKey = oldParameters[normalizedKey];

      if (!Object.keys(parameters).includes(matchingNewKey)) {
        parameters = (0, _objectSpread2.default)({
          [matchingNewKey]: valueParser(el[settingKey])
        }, parameters);
      }

      return;
    }

    logger.warn(`Parameter ${normalizedKey} not handled`);
  });
  const settingsAdded = [];
  Object.entries(parameters).forEach(el => {
    const setting = el[0];
    const value = el[1];
    settingsAdded.push(addUserSetting(meetingId, userId, setting, value));
  });
  return settingsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addUserSetting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/modifiers/addUserSetting.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUserSetting
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addUserSetting(meetingId, userId, setting, value) {
  check(meetingId, String);
  check(userId, String);
  check(setting, String);
  check(value, Match.Any);
  const selector = {
    meetingId,
    userId,
    setting
  };
  const modifier = {
    $set: {
      meetingId,
      userId,
      setting,
      value
    }
  };

  try {
    const {
      numberAffected
    } = UserSettings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.verbose('Upserted user setting', {
        meetingId,
        userId,
        setting
      });
    }
  } catch (err) {
    Logger.error(`Adding user setting to collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUsersSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/modifiers/clearUsersSettings.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersSettings
});
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersSettings(meetingId) {
  try {
    const numberAffected = UserSettings.remove({
      meetingId
    });

    if (numberAffected) {
      Logger.info(`Cleared User Settings (${meetingId})`);
    }
  } catch (err) {
    Logger.error(`Error on clearing User Settings (${meetingId}). ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let addUserSettings;
module.link("./methods/addUserSettings", {
  default(v) {
    addUserSettings = v;
  }

}, 1);
Meteor.methods({
  addUserSettings
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let User;
module.link("/imports/api/users", {
  default(v) {
    User = v;
  }

}, 4);

function userSettings() {
  if (!this.userId) {
    return UserSettings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const currentUser = User.findOne({
    userId: requesterUserId
  });

  if (currentUser && currentUser.breakoutProps.isBreakoutUser) {
    const {
      parentId
    } = currentUser.breakoutProps;
    const [externalId] = currentUser.extId.split('-');
    const mainRoomUserSettings = UserSettings.find({
      meetingId: parentId,
      userId: externalId
    });
    mainRoomUserSettings.map(({
      setting,
      value
    }) => ({
      meetingId,
      setting,
      userId: requesterUserId,
      value
    })).forEach(doc => {
      const selector = {
        meetingId,
        setting: doc.setting
      };
      UserSettings.upsert(selector, doc);
    });
    Logger.debug('Publishing user settings', {
      requesterUserId
    });
    return UserSettings.find({
      meetingId,
      userId: requesterUserId
    });
  }

  Logger.debug('Publishing user settings', {
    requesterUserId
  });
  return UserSettings.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundUserSettings = userSettings.bind(this);
  return boundUserSettings(...args);
}

Meteor.publish('users-settings', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const UserSettings = new Mongo.Collection('users-settings');

if (Meteor.isServer) {
  UserSettings._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(UserSettings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"video-streams":{"server":{"handlers":{"userSharedHtml5Webcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/handlers/userSharedHtml5Webcam.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserSharedHtml5Webcam
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let sharedWebcam;
module.link("../modifiers/sharedWebcam", {
  default(v) {
    sharedWebcam = v;
  }

}, 1);
let isValidStream;
module.link("/imports/api/video-streams/server/helpers", {
  isValidStream(v) {
    isValidStream = v;
  }

}, 2);

function handleUserSharedHtml5Webcam({
  header,
  body
}, meetingId) {
  const {
    userId,
    stream
  } = body;
  check(header, Object);
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  if (!isValidStream(stream)) return false;
  return sharedWebcam(meetingId, userId, stream);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userUnsharedHtml5Webcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/handlers/userUnsharedHtml5Webcam.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserUnsharedHtml5Webcam
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let unsharedWebcam;
module.link("../modifiers/unsharedWebcam", {
  default(v) {
    unsharedWebcam = v;
  }

}, 1);
let isValidStream;
module.link("/imports/api/video-streams/server/helpers", {
  isValidStream(v) {
    isValidStream = v;
  }

}, 2);

function handleUserUnsharedHtml5Webcam({
  header,
  body
}, meetingId) {
  const {
    userId,
    stream
  } = body;
  check(header, Object);
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  if (!isValidStream(stream)) return false;
  return unsharedWebcam(meetingId, userId, stream);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"userShareWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods/userShareWebcam.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userShareWebcam
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userShareWebcam(stream) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserBroadcastCamStartMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`user sharing webcam: ${meetingId} ${requesterUserId}`);
  check(stream, String); // const actionName = 'joinVideo';

  /* TODO throw an error if user has no permission to share webcam
  if (!isAllowedTo(actionName, credentials)) {
    throw new Meteor.Error('not-allowed', `You are not allowed to share webcam`);
  } */

  const payload = {
    stream
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userUnshareWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods/userUnshareWebcam.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userUnshareWebcam
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userUnshareWebcam(stream) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserBroadcastCamStopMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`user unsharing webcam: ${meetingId} ${requesterUserId}`);
  check(stream, String); // const actionName = 'joinVideo';

  /* TODO throw an error if user has no permission to share webcam
  if (!isAllowedTo(actionName, credentials)) {
    throw new Meteor.Error('not-allowed', `You are not allowed to share webcam`);
  } */

  const payload = {
    stream
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearVideoStreams.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/clearVideoStreams.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVideoStreams
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);

function clearVideoStreams(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = VideoStreams.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared VideoStreams in (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing VideoStreams (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = VideoStreams.remove({});

      if (numberAffected) {
        Logger.info('Cleared VideoStreams in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing VideoStreams (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sharedWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/sharedWebcam.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sharedWebcam
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let getDeviceId, getUserName;
module.link("/imports/api/video-streams/server/helpers", {
  getDeviceId(v) {
    getDeviceId = v;
  },

  getUserName(v) {
    getUserName = v;
  }

}, 3);

function sharedWebcam(meetingId, userId, stream) {
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  const deviceId = getDeviceId(stream);
  const name = getUserName(userId);
  const selector = {
    meetingId,
    userId,
    deviceId
  };
  const modifier = {
    $set: {
      stream,
      name
    }
  };

  try {
    const {
      insertedId
    } = VideoStreams.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Updated stream=${stream} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Error setting stream: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"unsharedWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/unsharedWebcam.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => unsharedWebcam
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let getDeviceId;
module.link("/imports/api/video-streams/server/helpers", {
  getDeviceId(v) {
    getDeviceId = v;
  }

}, 3);

function unsharedWebcam(meetingId, userId, stream) {
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  const deviceId = getDeviceId(stream);
  const selector = {
    meetingId,
    userId,
    deviceId
  };

  try {
    VideoStreams.remove(selector);
    Logger.info(`Removed stream=${stream} meeting=${meetingId}`);
  } catch (err) {
    Logger.error(`Error removing stream: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/eventHandlers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleUserSharedHtml5Webcam;
module.link("./handlers/userSharedHtml5Webcam", {
  default(v) {
    handleUserSharedHtml5Webcam = v;
  }

}, 1);
let handleUserUnsharedHtml5Webcam;
module.link("./handlers/userUnsharedHtml5Webcam", {
  default(v) {
    handleUserUnsharedHtml5Webcam = v;
  }

}, 2);
RedisPubSub.on('UserBroadcastCamStartedEvtMsg', handleUserSharedHtml5Webcam);
RedisPubSub.on('UserBroadcastCamStoppedEvtMsg', handleUserUnsharedHtml5Webcam);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/helpers.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  isValidStream: () => isValidStream,
  getDeviceId: () => getDeviceId,
  getUserName: () => getUserName
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
const FLASH_STREAM_REGEX = /^([A-z0-9]+)-([A-z0-9]+)-([A-z0-9]+)(-recorded)?$/;
const TOKEN = '_';

const isValidStream = stream => !FLASH_STREAM_REGEX.test(stream);

const getDeviceId = stream => {
  const splitStream = stream.split(TOKEN);
  if (splitStream.length === 3) return splitStream[2];
  Logger.warn(`Could not get deviceId from stream=${stream}`);
  return stream;
};

const getUserName = userId => {
  const user = Users.findOne({
    userId
  }, {
    fields: {
      name: 1
    }
  });
  if (user) return user.name;
  return userId;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/index.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publisher");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userShareWebcam;
module.link("./methods/userShareWebcam", {
  default(v) {
    userShareWebcam = v;
  }

}, 1);
let userUnshareWebcam;
module.link("./methods/userUnshareWebcam", {
  default(v) {
    userUnshareWebcam = v;
  }

}, 2);
Meteor.methods({
  userShareWebcam,
  userUnshareWebcam
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publisher.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/publisher.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function videoStreams() {
  if (!this.userId) {
    return VideoStreams.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing video users', {
    meetingId
  });
  const selector = {
    meetingId
  };
  return VideoStreams.find(selector);
}

function publish(...args) {
  const boundVideoStreams = videoStreams.bind(this);
  return boundVideoStreams(...args);
}

Meteor.publish('video-streams', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VideoStreams = new Mongo.Collection('video-streams');

if (Meteor.isServer) {
  // types of queries for the video users:
  // 2. meetingId
  VideoStreams._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(VideoStreams);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"voice-call-states":{"server":{"handlers":{"voiceCallStateEvent.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/handlers/voiceCallStateEvent.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceCallStateEvent
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let VoiceCallState;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallState = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleVoiceCallStateEvent({
  body
}, meetingId) {
  const {
    voiceConf,
    clientSession,
    userId,
    callerName,
    callState
  } = body;
  check(meetingId, String);
  check(voiceConf, String);
  check(clientSession, String);
  check(userId, String);
  check(callerName, String);
  check(callState, String);
  const selector = {
    meetingId,
    userId,
    clientSession
  };
  const modifier = {
    $set: {
      meetingId,
      userId,
      voiceConf,
      clientSession,
      callState
    }
  };

  try {
    const {
      numberAffected
    } = VoiceCallState.upsert(selector, modifier);

    if (numberAffected) {
      Logger.debug('Update voice call', {
        state: userId,
        meetingId,
        clientSession,
        callState
      });
    }
  } catch (err) {
    Logger.error(`Update voice call state=${userId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearVoiceCallStates.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/modifiers/clearVoiceCallStates.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVoiceCallStates
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VoiceCallStates;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallStates = v;
  }

}, 1);

function clearVoiceCallStates(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = VoiceCallStates.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared VoiceCallStates in (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error on clearing VoiceCallStates in (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = VoiceCallStates.remove({});

      if (numberAffected) {
        Logger.info('Cleared VoiceCallStates in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing VoiceCallStates in all meetings. ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/eventHandlers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleVoiceCallStateEvent;
module.link("./handlers/voiceCallStateEvent", {
  default(v) {
    handleVoiceCallStateEvent = v;
  }

}, 1);
RedisPubSub.on('VoiceCallStateEvtMsg', handleVoiceCallStateEvent);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/index.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/publishers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let VoiceCallStates;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallStates = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function voiceCallStates() {
  if (!this.userId) {
    return VoiceCallStates.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing Voice Call States', {
    meetingId,
    requesterUserId
  });
  return VoiceCallStates.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundVoiceCallStates = voiceCallStates.bind(this);
  return boundVoiceCallStates(...args);
}

Meteor.publish('voice-call-states', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VoiceCallStates = new Mongo.Collection('voiceCallStates');

if (Meteor.isServer) {
  // types of queries for the voice users:
  // 1. intId
  // 2. meetingId, intId
  VoiceCallStates._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(VoiceCallStates);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"voice-users":{"server":{"handlers":{"getVoiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/getVoiceUsers.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetVoiceUsers
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 3);
let removeVoiceUser;
module.link("../modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 4);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 5);

function handleGetVoiceUsers({
  body
}, meetingId) {
  const {
    users
  } = body;
  check(meetingId, String);
  check(users, Array);
  const meeting = Meetings.findOne({
    meetingId
  }, {
    fields: {
      'voiceProp.voiceConf': 1
    }
  });
  const usersIds = users.map(m => m.intId);
  const voiceUsersIdsToUpdate = VoiceUsers.find({
    meetingId,
    intId: {
      $in: usersIds
    }
  }, {
    fields: {
      intId: 1
    }
  }).fetch().map(m => m.intId);
  const voiceUsersUpdated = [];
  users.forEach(user => {
    if (voiceUsersIdsToUpdate.indexOf(user.intId) >= 0) {
      // user already exist, then update
      voiceUsersUpdated.push(updateVoiceUser(meetingId, {
        intId: user.intId,
        voiceUserId: user.voiceUserId,
        talking: user.talking,
        muted: user.muted,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      }));
    } else {
      // user doesn't exist yet, then add it
      addVoiceUser(meetingId, {
        voiceUserId: user.voiceUserId,
        intId: user.intId,
        callerName: user.callerName,
        callerNum: user.callerNum,
        muted: user.muted,
        talking: user.talking,
        callingWith: user.callingWith,
        listenOnly: user.listenOnly,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      });
    }
  }); // removing extra users already existing in Mongo

  const voiceUsersToRemove = VoiceUsers.find({
    meetingId,
    intId: {
      $nin: usersIds
    }
  }).fetch();
  voiceUsersToRemove.forEach(user => removeVoiceUser(meetingId, {
    voiceConf: meeting.voiceProp.voiceConf,
    voiceUserId: user.voiceUserId,
    intId: user.intId
  }));
  return voiceUsersUpdated;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"joinVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/joinVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleJoinVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let addDialInUser;
module.link("/imports/api/users/server/modifiers/addDialInUser", {
  default(v) {
    addDialInUser = v;
  }

}, 2);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 3);

function handleJoinVoiceUser({
  body
}, meetingId) {
  const voiceUser = body;
  voiceUser.joined = true;
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    intId: String,
    voiceUserId: String,
    callerName: String,
    callerNum: String,
    muted: Boolean,
    talking: Boolean,
    callingWith: String,
    listenOnly: Boolean,
    joined: Boolean
  });
  const {
    intId
  } = voiceUser;
  const User = Users.findOne({
    meetingId,
    intId,
    connectionStatus: 'online'
  });

  if (!User) {
    /* voice-only user - called into the conference */
    addDialInUser(meetingId, voiceUser);
  }

  return addVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"leftVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/leftVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removeVoiceUser;
module.link("/imports/api/voice-users/server/modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 1);
let removeUser;
module.link("/imports/api/users/server/modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    intId: String,
    voiceUserId: String
  });
  const {
    intId,
    voiceUserId
  } = voiceUser;

  const isDialInUser = (userId, meetingID) => !!Users.findOne({
    meetingId: meetingID,
    userId,
    clientType: 'dial-in-user'
  }); // if the user is dial-in, leaving voice also means leaving userlist


  if (isDialInUser(voiceUserId, meetingId)) removeUser(meetingId, intId);
  return removeVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingMuted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/meetingMuted.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingMuted
});
let changeMuteMeeting;
module.link("../modifiers/changeMuteMeeting", {
  default(v) {
    changeMuteMeeting = v;
  }

}, 0);

function handleMeetingMuted({
  body
}, meetingId) {
  changeMuteMeeting(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mutedVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/mutedVoiceUser.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 1);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String); // If a person is muted we have to force them to not talking

  if (voiceUser.muted) {
    voiceUser.talking = false;
  }

  return updateVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"talkingVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/talkingVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 1);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String);
  return updateVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"voiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/voiceUsers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUsers
});
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let addDialInUser;
module.link("/imports/api/users/server/modifiers/addDialInUser", {
  default(v) {
    addDialInUser = v;
  }

}, 2);
let removeVoiceUser;
module.link("../modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 3);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 4);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 5);

function handleVoiceUsers({
  header,
  body
}) {
  const {
    voiceUsers
  } = body;
  const {
    meetingId
  } = header;
  const meeting = Meetings.findOne({
    meetingId
  }, {
    fields: {
      'voiceProp.voiceConf': 1
    }
  });
  const usersIds = voiceUsers.map(m => m.intId);
  const voiceUsersIdsToUpdate = VoiceUsers.find({
    meetingId,
    intId: {
      $in: usersIds
    }
  }, {
    fields: {
      intId: 1
    }
  }).fetch().map(m => m.intId);
  const voiceUsersUpdated = [];
  voiceUsers.forEach(voice => {
    if (voiceUsersIdsToUpdate.indexOf(voice.intId) >= 0) {
      // user already exist, then update
      voiceUsersUpdated.push(updateVoiceUser(meetingId, {
        intId: voice.intId,
        voiceUserId: voice.voiceUserId,
        talking: voice.talking,
        muted: voice.muted,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      }));
    } else {
      // user doesn't exist yet, then add it
      addVoiceUser(meetingId, {
        voiceUserId: voice.voiceUserId,
        intId: voice.intId,
        callerName: voice.callerName,
        callerNum: voice.callerNum,
        muted: voice.muted,
        talking: voice.talking,
        callingWith: voice.callingWith,
        listenOnly: voice.listenOnly,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      });
      addDialInUser(meetingId, voice);
    }
  }); // removing extra users already existing in Mongo

  const voiceUsersToRemove = VoiceUsers.find({
    meetingId,
    intId: {
      $nin: usersIds
    }
  }, {
    fields: {
      voiceUserId: 1,
      intId: 1
    }
  }).fetch();
  voiceUsersToRemove.forEach(user => removeVoiceUser(meetingId, {
    voiceConf: meeting.voiceProp.voiceConf,
    voiceUserId: user.voiceUserId,
    intId: user.intId
  }));
  return voiceUsersUpdated;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"ejectUserFromVoice.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/ejectUserFromVoice.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => ejectUserFromVoice
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function ejectUserFromVoice(userId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EjectUserFromVoiceCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    userId,
    ejectedBy: requesterUserId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteAllExceptPresenterToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteAllExceptPresenterToggle.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteAllExceptPresenterToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function muteAllExceptPresenterToggle() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteAllExceptPresentersCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const meeting = Meetings.findOne({
    meetingId
  });
  const toggleMeetingMuted = !meeting.voiceProp.muteOnStart;
  const payload = {
    mutedBy: requesterUserId,
    mute: toggleMeetingMuted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteAllToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteAllToggle.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteAllToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function muteAllToggle() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const meeting = Meetings.findOne({
    meetingId
  });
  const toggleMeetingMuted = !meeting.voiceProp.muteOnStart;
  const payload = {
    mutedBy: requesterUserId,
    mute: toggleMeetingMuted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteToggle.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 4);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 5);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 6);

function muteToggle(uId, toggle) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteUserCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userToMute = uId || requesterUserId;
  const requester = Users.findOne({
    meetingId,
    userId: requesterUserId
  });
  const voiceUser = VoiceUsers.findOne({
    intId: userToMute,
    meetingId
  });
  if (!requester || !voiceUser) return;
  const {
    listenOnly,
    muted
  } = voiceUser;
  if (listenOnly) return; // if allowModsToUnmuteUsers is false, users will be kicked out for attempting to unmute others

  if (requesterUserId !== userToMute && muted) {
    const meeting = Meetings.findOne({
      meetingId
    }, {
      fields: {
        'usersProp.allowModsToUnmuteUsers': 1
      }
    });

    if (meeting.usersProp && !meeting.usersProp.allowModsToUnmuteUsers) {
      Logger.warn(`Attempted unmuting by another user meetingId:${meetingId} requester: ${requesterUserId} userId: ${userToMute}`);
      return;
    }
  }

  let _muted;

  if (toggle === undefined || toggle === null) {
    _muted = !muted;
  } else {
    _muted = !!toggle;
  }

  const payload = {
    userId: userToMute,
    mutedBy: requesterUserId,
    mute: _muted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/addVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 4);

function addVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    voiceUserId: String,
    intId: String,
    callerName: String,
    callerNum: String,
    muted: Boolean,
    talking: Boolean,
    callingWith: String,
    listenOnly: Boolean,
    voiceConf: String,
    joined: Boolean // This is a HTML5 only param.

  });
  const {
    intId,
    talking
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      spoke: talking
    }, flat(voiceUser))
  };
  const user = Users.findOne({
    meetingId,
    userId: intId
  }, {
    fields: {
      color: 1
    }
  });
  if (user) modifier.$set.color = user.color;

  try {
    const {
      numberAffected
    } = VoiceUsers.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Add voice user=${intId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Add voice user=${intId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeMuteMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/changeMuteMeeting.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeMuteMeeting
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function changeMuteMeeting(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    muted: Boolean,
    mutedBy: String
  });
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      'voiceProp.muteOnStart': payload.muted
    }
  };

  try {
    const {
      numberAffected
    } = Meetings.upsert(selector, modifier);

    if (numberAffected) {
      Logger.info(`Changed meeting mute status meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Changing meeting mute status meeting={${meetingId}} ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearVoiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/clearVoiceUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVoiceUser
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 1);

function clearVoiceUser(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = VoiceUsers.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared VoiceUsers in (${meetingId})`);
      }
    } catch (err) {
      Logger.error(`Error on clearing VoiceUsers in ${meetingId}. ${err}`);
    }
  } else {
    try {
      const numberAffected = VoiceUsers.remove({});

      if (numberAffected) {
        Logger.info('Cleared VoiceUsers in all meetings');
      }
    } catch (err) {
      Logger.error(`Error on clearing VoiceUsers. ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/removeVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let clearSpokeTimeout;
module.link("/imports/api/common/server/helpers", {
  clearSpokeTimeout(v) {
    clearSpokeTimeout = v;
  }

}, 3);

function removeVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    voiceUserId: String,
    intId: String
  });
  const {
    intId
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: {
      muted: false,
      talking: false,
      listenOnly: false,
      joined: false,
      spoke: false
    }
  };

  try {
    clearSpokeTimeout(meetingId, intId);
    const numberAffected = VoiceUsers.update(selector, modifier);

    if (numberAffected) {
      Logger.info(`Remove voiceUser=${intId} meeting=${meetingId}`);
    }
  } catch (err) {
    Logger.error(`Remove voiceUser=${intId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/updateVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateVoiceUser
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let spokeTimeoutHandles, clearSpokeTimeout;
module.link("/imports/api/common/server/helpers", {
  spokeTimeoutHandles(v) {
    spokeTimeoutHandles = v;
  },

  clearSpokeTimeout(v) {
    clearSpokeTimeout = v;
  }

}, 4);
const TALKING_TIMEOUT = 6000;

function updateVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    intId: String,
    voiceUserId: String,
    talking: Match.Maybe(Boolean),
    muted: Match.Maybe(Boolean),
    voiceConf: String,
    joined: Match.Maybe(Boolean)
  });
  const {
    intId
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: Object.assign(flat(voiceUser))
  };

  if (voiceUser.talking) {
    const user = VoiceUsers.findOne({
      meetingId,
      intId
    }, {
      fields: {
        startTime: 1
      }
    });
    if (user && !user.startTime) modifier.$set.startTime = Date.now();
    modifier.$set.spoke = true;
    modifier.$set.endTime = null;
    clearSpokeTimeout(meetingId, intId);
  }

  if (!voiceUser.talking) {
    const timeoutHandle = Meteor.setTimeout(() => {
      const user = VoiceUsers.findOne({
        meetingId,
        intId
      }, {
        fields: {
          endTime: 1,
          talking: 1
        }
      });

      if (user) {
        const {
          endTime,
          talking
        } = user;
        const spokeDelay = Date.now() - endTime < TALKING_TIMEOUT;
        if (talking || spokeDelay) return;
        modifier.$set.spoke = false;
        modifier.$set.startTime = null;

        try {
          const numberAffected = VoiceUsers.update(selector, modifier);

          if (numberAffected) {
            Logger.debug('Update voiceUser', {
              voiceUser: intId,
              meetingId
            });
          }
        } catch (err) {
          Logger.error(`Update voiceUser=${intId}: ${err}`);
        }
      }
    }, TALKING_TIMEOUT);
    spokeTimeoutHandles[`${meetingId}-${intId}`] = timeoutHandle;
    modifier.$set.endTime = Date.now();
  }

  try {
    const numberAffected = VoiceUsers.update(selector, modifier);

    if (numberAffected) {
      Logger.debug('Update voiceUser', {
        voiceUser: intId,
        meetingId
      });
    }
  } catch (err) {
    Logger.error(`Update voiceUser=${intId}: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleJoinVoiceUser;
module.link("./handlers/joinVoiceUser", {
  default(v) {
    handleJoinVoiceUser = v;
  }

}, 2);
let handleLeftVoiceUser;
module.link("./handlers/leftVoiceUser", {
  default(v) {
    handleLeftVoiceUser = v;
  }

}, 3);
let handleTalkingVoiceUser;
module.link("./handlers/talkingVoiceUser", {
  default(v) {
    handleTalkingVoiceUser = v;
  }

}, 4);
let handleMutedVoiceUser;
module.link("./handlers/mutedVoiceUser", {
  default(v) {
    handleMutedVoiceUser = v;
  }

}, 5);
let handleGetVoiceUsers;
module.link("./handlers/getVoiceUsers", {
  default(v) {
    handleGetVoiceUsers = v;
  }

}, 6);
let handleVoiceUsers;
module.link("./handlers/voiceUsers", {
  default(v) {
    handleVoiceUsers = v;
  }

}, 7);
let handleMeetingMuted;
module.link("./handlers/meetingMuted", {
  default(v) {
    handleMeetingMuted = v;
  }

}, 8);
RedisPubSub.on('UserLeftVoiceConfToClientEvtMsg', handleLeftVoiceUser);
RedisPubSub.on('UserJoinedVoiceConfToClientEvtMsg', handleJoinVoiceUser);
RedisPubSub.on('UserTalkingVoiceEvtMsg', handleTalkingVoiceUser);
RedisPubSub.on('UserMutedVoiceEvtMsg', handleMutedVoiceUser);
RedisPubSub.on('GetVoiceUsersMeetingRespMsg', processForHTML5ServerOnly(handleGetVoiceUsers));
RedisPubSub.on('SyncGetVoiceUsersRespMsg', handleVoiceUsers);
RedisPubSub.on('MeetingMutedEvtMsg', handleMeetingMuted);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./publishers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let muteToggle;
module.link("./methods/muteToggle", {
  default(v) {
    muteToggle = v;
  }

}, 1);
let muteAllToggle;
module.link("./methods/muteAllToggle", {
  default(v) {
    muteAllToggle = v;
  }

}, 2);
let muteAllExceptPresenterToggle;
module.link("./methods/muteAllExceptPresenterToggle", {
  default(v) {
    muteAllExceptPresenterToggle = v;
  }

}, 3);
let ejectUserFromVoice;
module.link("./methods/ejectUserFromVoice", {
  default(v) {
    ejectUserFromVoice = v;
  }

}, 4);
Meteor.methods({
  toggleVoice: muteToggle,
  muteAllUsers: muteAllToggle,
  muteAllExceptPresenter: muteAllExceptPresenterToggle,
  ejectUserFromVoice
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let ejectUserFromVoice;
module.link("./methods/ejectUserFromVoice", {
  default(v) {
    ejectUserFromVoice = v;
  }

}, 4);

function voiceUser() {
  if (!this.userId) {
    return VoiceUsers.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const onCloseConnection = Meteor.bindEnvironment(() => {
    try {
      // I used user because voiceUser is the function's name
      const User = VoiceUsers.findOne({
        meetingId,
        requesterUserId
      });

      if (User) {
        ejectUserFromVoice(requesterUserId);
      }
    } catch (e) {
      Logger.error(`Exception while executing ejectUserFromVoice for ${requesterUserId}: ${e}`);
    }
  });
  Logger.debug('Publishing Voice User', {
    meetingId,
    requesterUserId
  });

  this._session.socket.on('close', _.debounce(onCloseConnection, 100));

  return VoiceUsers.find({
    meetingId
  });
}

function publish(...args) {
  const boundVoiceUser = voiceUser.bind(this);
  return boundVoiceUser(...args);
}

Meteor.publish('voiceUsers', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VoiceUsers = new Mongo.Collection('voiceUsers');

if (Meteor.isServer) {
  // types of queries for the voice users:
  // 1. intId
  // 2. meetingId, intId
  VoiceUsers._ensureIndex({
    intId: 1
  });

  VoiceUsers._ensureIndex({
    meetingId: 1,
    intId: 1
  });
}

module.exportDefault(VoiceUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"whiteboard-multi-user":{"server":{"handlers":{"modifyWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/handlers/modifyWhiteboardAccess.js                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleModifyWhiteboardAccess
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let modifyWhiteboardAccess;
module.link("../modifiers/modifyWhiteboardAccess", {
  default(v) {
    modifyWhiteboardAccess = v;
  }

}, 1);

function handleModifyWhiteboardAccess({
  body
}, meetingId) {
  const {
    multiUser,
    whiteboardId
  } = body;
  check(multiUser, Boolean);
  check(whiteboardId, String);
  check(meetingId, String);
  return modifyWhiteboardAccess(meetingId, whiteboardId, multiUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"changeWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/methods/changeWhiteboardAccess.js                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeWhiteboardAccess
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function changeWhiteboardAccess(multiUser, whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ModifyWhiteboardAccessPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(multiUser, Boolean);
  check(whiteboardId, String);
  const payload = {
    multiUser,
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearWhiteboardMultiUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/modifiers/clearWhiteboardMultiUser.js                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearWhiteboardMultiUser
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 1);

function clearWhiteboardMultiUser(meetingId) {
  if (meetingId) {
    try {
      const numberAffected = WhiteboardMultiUser.remove({
        meetingId
      });

      if (numberAffected) {
        Logger.info(`Cleared WhiteboardMultiUser (${meetingId})`);
      }
    } catch (err) {
      Logger.info(`Error clearing WhiteboardMultiUser (${meetingId}). ${err}`);
    }
  } else {
    try {
      const numberAffected = WhiteboardMultiUser.remove({});

      if (numberAffected) {
        Logger.info('Cleared WhiteboardMultiUser (all)');
      }
    } catch (err) {
      Logger.info(`Error clearing WhiteboardMultiUser (all). ${err}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"modifyWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/modifiers/modifyWhiteboardAccess.js                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => modifyWhiteboardAccess
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 2);

function modifyWhiteboardAccess(meetingId, whiteboardId, multiUser) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(multiUser, Boolean);
  const selector = {
    meetingId,
    whiteboardId
  };
  const modifier = {
    meetingId,
    whiteboardId,
    multiUser
  };

  try {
    const {
      insertedId
    } = WhiteboardMultiUser.upsert(selector, modifier);

    if (insertedId) {
      Logger.info(`Added multiUser flag=${multiUser} meetingId=${meetingId} whiteboardId=${whiteboardId}`);
    } else {
      Logger.info(`Upserted multiUser flag=${multiUser} meetingId=${meetingId} whiteboardId=${whiteboardId}`);
    }
  } catch (err) {
    Logger.error(`Error while adding an entry to Multi-User collection: ${err}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/eventHandlers.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleGetWhiteboardAccess;
module.link("./handlers/modifyWhiteboardAccess", {
  default(v) {
    handleGetWhiteboardAccess = v;
  }

}, 2);
RedisPubSub.on('GetWhiteboardAccessRespMsg', processForHTML5ServerOnly(handleGetWhiteboardAccess));
RedisPubSub.on('SyncGetWhiteboardAccessRespMsg', handleGetWhiteboardAccess);
RedisPubSub.on('ModifyWhiteboardAccessEvtMsg', handleGetWhiteboardAccess);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/index.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/methods.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let changeWhiteboardAccess;
module.link("./methods/changeWhiteboardAccess", {
  default(v) {
    changeWhiteboardAccess = v;
  }

}, 1);
Meteor.methods({
  changeWhiteboardAccess
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/publishers.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function whiteboardMultiUser() {
  if (!this.userId) {
    return WhiteboardMultiUser.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug('Publishing whiteboard-multi-user', {
    meetingId,
    requesterUserId
  });
  return WhiteboardMultiUser.find({
    meetingId
  });
}

function publish(...args) {
  const boundMultiUser = whiteboardMultiUser.bind(this);
  return boundMultiUser(...args);
}

Meteor.publish('whiteboard-multi-user', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const WhiteboardMultiUser = new Mongo.Collection('whiteboard-multi-user');

if (Meteor.isServer) {
  // types of queries for the whiteboard-multi-user:
  // 1. meetingId
  WhiteboardMultiUser._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(WhiteboardMultiUser);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"common":{"server":{"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/common/server/helpers.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  spokeTimeoutHandles: () => spokeTimeoutHandles,
  clearSpokeTimeout: () => clearSpokeTimeout,
  indexOf: () => indexOf,
  processForHTML5ServerOnly: () => processForHTML5ServerOnly,
  hashFNV32a: () => hashFNV32a,
  extractCredentials: () => extractCredentials
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
const MSG_DIRECT_TYPE = 'DIRECT';
const NODE_USER = 'nodeJSapp';
const spokeTimeoutHandles = {};

const clearSpokeTimeout = (meetingId, userId) => {
  if (spokeTimeoutHandles[`${meetingId}-${userId}`]) {
    Meteor.clearTimeout(spokeTimeoutHandles[`${meetingId}-${userId}`]);
    delete spokeTimeoutHandles[`${meetingId}-${userId}`];
  }
};

const indexOf = [].indexOf || function (item) {
  for (let i = 0, l = this.length; i < l; i += 1) {
    if (i in this && this[i] === item) {
      return i;
    }
  }

  return -1;
};

const processForHTML5ServerOnly = fn => (message, ...args) => {
  const {
    envelope
  } = message;
  const {
    routing
  } = envelope;
  const {
    msgType,
    meetingId,
    userId
  } = routing;
  const selector = {
    userId,
    meetingId
  };
  const user = Users.findOne(selector);
  const shouldSkip = user && msgType === MSG_DIRECT_TYPE && userId !== NODE_USER && user.clientType !== 'HTML5';
  if (shouldSkip) return () => {};
  return fn(message, ...args);
};

const hashFNV32a = (str, asString, seed) => {
  let hval = seed === undefined ? 0x811c9dc5 : seed;

  for (let i = 0, l = str.length; i < l; i++) {
    hval ^= str.charCodeAt(i);
    hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);
  }

  if (asString) {
    return `0000000${(hval >>> 0).toString(16)}`.substr(-8);
  }

  return hval >>> 0;
};

const extractCredentials = credentials => {
  if (!credentials) return {};
  const credentialsArray = credentials.split('--');
  const meetingId = credentialsArray[0];
  const requesterUserId = credentialsArray[1];
  return {
    meetingId,
    requesterUserId
  };
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"startup":{"server":{"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/index.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  eventEmitter: () => eventEmitter,
  redisPubSub: () => redisPubSub
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let WebAppInternals;
module.link("meteor/webapp", {
  WebAppInternals(v) {
    WebAppInternals = v;
  }

}, 1);
let Langmap;
module.link("langmap", {
  default(v) {
    Langmap = v;
  }

}, 2);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 3);
let path;
module.link("path", {
  default(v) {
    path = v;
  }

}, 4);
let heapdump;
module.link("heapdump", {
  default(v) {
    heapdump = v;
  }

}, 5);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 6);
module.link("./settings");
let lookupUserAgent;
module.link("useragent", {
  lookup(v) {
    lookupUserAgent = v;
  }

}, 7);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 8);
let memwatch;
module.link("memwatch-next", {
  default(v) {
    memwatch = v;
  }

}, 9);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 10);
let Redis;
module.link("./redis", {
  default(v) {
    Redis = v;
  }

}, 11);
let setMinBrowserVersions;
module.link("./minBrowserVersion", {
  default(v) {
    setMinBrowserVersions = v;
  }

}, 12);
let userLeaving;
module.link("/imports/api/users/server/methods/userLeaving", {
  default(v) {
    userLeaving = v;
  }

}, 13);
const AVAILABLE_LOCALES = fs.readdirSync('assets/app/locales');
process.on('uncaughtException', err => {
  Logger.error(`uncaughtException: ${err}`);
  process.exit(1);
});
Meteor.startup(() => {
  const APP_CONFIG = Meteor.settings.public.app;
  const INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.clearUsersInSeconds * 1000;
  const INTERVAL_TIME = INTERVAL_IN_SETTINGS < 10000 ? 10000 : INTERVAL_IN_SETTINGS;
  const env = Meteor.isDevelopment ? 'development' : 'production';
  const CDN_URL = APP_CONFIG.cdn;
  const {
    customHeartbeat
  } = APP_CONFIG;

  if (customHeartbeat) {
    Logger.warn('Custom heartbeat functions are enabled'); // https://github.com/sockjs/sockjs-node/blob/1ef08901f045aae7b4df0f91ef598d7a11e82897/lib/transport/websocket.js#L74-L82

    const newHeartbeat = function heartbeat() {
      const currentTime = new Date().getTime(); // Skipping heartbeat, because websocket is sending data

      if (currentTime - this.ws.lastSentFrameTimestamp < 10000) {
        try {
          Logger.info('Skipping heartbeat, because websocket is sending data', {
            currentTime,
            lastSentFrameTimestamp: this.ws.lastSentFrameTimestamp,
            userId: this.session.connection._meteorSession.userId
          });
          return;
        } catch (err) {
          Logger.error(`Skipping heartbeat error: ${err}`);
        }
      }

      const supportsHeartbeats = this.ws.ping(null, () => clearTimeout(this.hto_ref));

      if (supportsHeartbeats) {
        this.hto_ref = setTimeout(() => {
          try {
            Logger.info('Heartbeat timeout', {
              userId: this.session.connection._meteorSession.userId,
              sentAt: currentTime,
              now: new Date().getTime()
            });
          } catch (err) {
            Logger.error(`Heartbeat timeout error: ${err}`);
          }
        }, Meteor.server.options.heartbeatTimeout);
      } else {
        Logger.error('Unexpected error supportsHeartbeats=false');
      }
    }; // https://github.com/davhani/hagty/blob/6a5c78e9ae5a5e4ade03e747fb4cc8ea2df4be0c/faye-websocket/lib/faye/websocket/api.js#L84-L88


    const newSend = function send(data) {
      try {
        this.lastSentFrameTimestamp = new Date().getTime();

        if (this.meteorHeartbeat) {
          // Call https://github.com/meteor/meteor/blob/1e7e56eec8414093cd0c1c70750b894069fc972a/packages/ddp-common/heartbeat.js#L80-L88
          this.meteorHeartbeat._seenPacket = true;

          if (this.meteorHeartbeat._heartbeatTimeoutHandle) {
            this.meteorHeartbeat._clearHeartbeatTimeoutTimer();
          }
        }

        if (this.readyState > 1
        /* API.OPEN = 1 */
        ) return false;
        if (!(data instanceof Buffer)) data = String(data);
        return this._driver.messages.write(data);
      } catch (err) {
        console.error('Error on send data', err);
        return false;
      }
    };

    Meteor.setInterval(() => {
      for (const session of Meteor.server.sessions.values()) {
        const {
          socket
        } = session;
        const recv = socket._session.recv;

        if (session.bbbFixApplied || !recv || !recv.ws) {
          continue;
        }

        recv.ws.meteorHeartbeat = session.heartbeat;
        recv.__proto__.heartbeat = newHeartbeat;
        recv.ws.__proto__.send = newSend;
        session.bbbFixApplied = true;
      }
    }, 5000);
  }

  const memoryMonitoringSettings = Meteor.settings.private.memoryMonitoring;
  let heapDumpMbThreshold = memoryMonitoringSettings.heapdump.thresholdMb;
  const {
    heapdumpFolderPath
  } = memoryMonitoringSettings.heapdump;

  if (memoryMonitoringSettings.stat.enabled) {
    memwatch.on('stats', stats => {
      let heapDumpTriggered = false;

      if (memoryMonitoringSettings.heapdump.enabled) {
        heapDumpTriggered = stats.current_base / 1048576 > heapDumpMbThreshold;
      }

      Logger.info('memwatch stats', (0, _objectSpread2.default)({}, stats));

      if (heapDumpTriggered) {
        heapdump.writeSnapshot(path.join(heapdumpFolderPath, `heapdump-stats-${Date.now()}.heapsnapshot`));
        heapDumpMbThreshold += memoryMonitoringSettings.heapdump.thresholdMb;
      }
    });
  } // if (memoryMonitoringSettings.leak.enabled) {
  //   memwatch.on('leak', (info) => {
  //     Logger.info('memwatch leak', info);
  //   });
  // }
  // if (memoryMonitoringSettings.heapdump.enabled) {
  //   const { heapdumpFolderPath, heapdumpIntervalMs } = memoryMonitoringSettings.heapdump;
  //   Meteor.setInterval(() => {
  //     heapdump.writeSnapshot(path.join(heapdumpFolderPath, `${new Date().toISOString()}.heapsnapshot`));
  //     Logger.info('Heapsnapshot file successfully written');
  //   }, heapdumpIntervalMs);
  // }


  if (CDN_URL.trim()) {
    // Add CDN
    BrowserPolicy.content.disallowEval();
    BrowserPolicy.content.allowInlineScripts();
    BrowserPolicy.content.allowInlineStyles();
    BrowserPolicy.content.allowImageDataUrl(CDN_URL);
    BrowserPolicy.content.allowFontDataUrl(CDN_URL);
    BrowserPolicy.content.allowOriginForAll(CDN_URL);
    WebAppInternals.setBundledJsCssPrefix(CDN_URL + APP_CONFIG.basename);
    const fontRegExp = /\.(eot|ttf|otf|woff|woff2)$/;
    WebApp.rawConnectHandlers.use('/', (req, res, next) => {
      if (fontRegExp.test(req._parsedUrl.pathname)) {
        res.setHeader('Access-Control-Allow-Origin', '*');
        res.setHeader('Vary', 'Origin');
        res.setHeader('Pragma', 'public');
        res.setHeader('Cache-Control', '"public"');
      }

      return next();
    });
  }

  setMinBrowserVersions();
  Meteor.setInterval(() => {
    const currentTime = Date.now();
    Logger.info('Checking for inactive users');
    const users = Users.find({
      connectionStatus: 'online',
      clientType: 'HTML5',
      lastPing: {
        $lt: currentTime - INTERVAL_TIME // get user who has not pinged in the last 10 seconds

      },
      loginTime: {
        $lt: currentTime - INTERVAL_TIME
      }
    }).fetch();
    if (!users.length) return Logger.info('No inactive users');
    Logger.info('Removing inactive users');
    users.forEach(user => {
      Logger.info(`Detected inactive user, userId:${user.userId}, meetingId:${user.meetingId}`);
      return userLeaving(user.meetingId, user.userId, user.connectionId);
    });
    return Logger.info('All inactive users have been removed');
  }, INTERVAL_TIME);
  Logger.warn(`SERVER STARTED.\nENV=${env},\nnodejs version=${process.version}\nCDN=${CDN_URL}\n`, APP_CONFIG);
});
WebApp.connectHandlers.use('/check', (req, res) => {
  const payload = {
    html5clientStatus: 'running'
  };
  res.setHeader('Content-Type', 'application/json');
  res.writeHead(200);
  res.end(JSON.stringify(payload));
});
WebApp.connectHandlers.use('/locale', (req, res) => {
  const APP_CONFIG = Meteor.settings.public.app;
  const fallback = APP_CONFIG.defaultSettings.application.fallbackLocale;
  const override = APP_CONFIG.defaultSettings.application.overrideLocale;
  const browserLocale = override && req.query.init === 'true' ? override.split(/[-_]/g) : req.query.locale.split(/[-_]/g);
  const localeList = [fallback];
  const usableLocales = AVAILABLE_LOCALES.map(file => file.replace('.json', '')).reduce((locales, locale) => locale.match(browserLocale[0]) ? [...locales, locale] : locales, []);
  const regionDefault = usableLocales.find(locale => browserLocale[0] === locale);
  if (regionDefault) localeList.push(regionDefault);
  if (!regionDefault && usableLocales.length) localeList.push(usableLocales[0]);
  let normalizedLocale;
  let messages = {};

  if (browserLocale.length > 1) {
    normalizedLocale = `${browserLocale[0]}_${browserLocale[1].toUpperCase()}`;
    localeList.push(normalizedLocale);
  }

  localeList.forEach(locale => {
    try {
      const data = Assets.getText(`locales/${locale}.json`);
      messages = Object.assign(messages, JSON.parse(data));
      normalizedLocale = locale;
    } catch (e) {
      Logger.warn(`'Could not process locale ${locale}:${e}`); // Getting here means the locale is not available in the current locale files.
    }
  });
  res.setHeader('Content-Type', 'application/json');
  res.end(JSON.stringify({
    normalizedLocale,
    messages
  }));
});
WebApp.connectHandlers.use('/locales', (req, res) => {
  let locales = [];

  try {
    locales = AVAILABLE_LOCALES.map(file => file.replace('.json', '')).map(file => file.replace('_', '-')).map(locale => ({
      locale,
      name: Langmap[locale].nativeName
    }));
  } catch (e) {
    Logger.warn(`'Could not process locales error: ${e}`);
  }

  res.setHeader('Content-Type', 'application/json');
  res.writeHead(200);
  res.end(JSON.stringify(locales));
});
WebApp.connectHandlers.use('/feedback', (req, res) => {
  req.on('data', Meteor.bindEnvironment(data => {
    const body = JSON.parse(data);
    const {
      meetingId,
      userId,
      authToken,
      userName: reqUserName,
      comment,
      rating
    } = body;
    check(meetingId, String);
    check(userId, String);
    check(authToken, String);
    check(reqUserName, String);
    check(comment, String);
    check(rating, Number);
    const user = Users.findOne({
      meetingId,
      userId,
      connectionStatus: 'offline',
      authToken
    });

    if (!user) {
      Logger.warn('Couldn\'t find user for feedback');
    }

    res.setHeader('Content-Type', 'application/json');
    res.writeHead(200);
    res.end(JSON.stringify({
      status: 'ok'
    }));
    body.userName = user ? user.name : `[unconfirmed] ${reqUserName}`;
    const feedback = (0, _objectSpread2.default)({}, body);
    Logger.info('FEEDBACK LOG:', feedback);
  }));
});
WebApp.connectHandlers.use('/useragent', (req, res) => {
  const userAgent = req.headers['user-agent'];
  let response = 'No user agent found in header';

  if (userAgent) {
    response = lookupUserAgent(userAgent).toString();
  }

  Logger.info(`The requesting user agent is ${response}`); // res.setHeader('Content-Type', 'application/json');

  res.writeHead(200);
  res.end(response);
});
const eventEmitter = Redis.emitter;
const redisPubSub = Redis;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"logger.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/logger.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  logger: () => logger
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createLogger, format, transports;
module.link("winston", {
  createLogger(v) {
    createLogger = v;
  },

  format(v) {
    format = v;
  },

  transports(v) {
    transports = v;
  }

}, 1);
const LOG_CONFIG = Meteor.settings.private.serverLog || {};
const {
  level
} = LOG_CONFIG;
const Logger = createLogger({
  level,
  format: format.combine(format.colorize({
    level: true
  }), format.splat(), format.simple()),
  transports: [// console logging
  new transports.Console({
    prettyPrint: false,
    humanReadableUnhandledException: true,
    colorize: true,
    handleExceptions: true,
    level
  })]
});
module.exportDefault(Logger);
const logger = Logger;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"metrics.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/metrics.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 0);
let path;
module.link("path", {
  default(v) {
    path = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 3);
const {
  metricsDumpIntervalMs,
  metricsFolderPath,
  removeMeetingOnEnd
} = Meteor.settings.private.redis.metrics;

class Metrics {
  constructor() {
    this.metrics = {};
  }

  addEvent(meetingId, eventName, messageLength) {
    if (!this.metrics.hasOwnProperty(meetingId)) {
      this.metrics[meetingId] = {
        currentlyInQueue: {},
        wasInQueue: {}
      };
    }

    const {
      currentlyInQueue
    } = this.metrics[meetingId];

    if (!currentlyInQueue.hasOwnProperty(eventName)) {
      currentlyInQueue[eventName] = {
        count: 1,
        payloadSize: messageLength
      };
    } else {
      currentlyInQueue[eventName].count += 1;
      currentlyInQueue[eventName].payloadSize += messageLength;
    }
  }

  processEvent(meetingId, eventName, size, processingStartTimestamp) {
    const currentProcessingTimestamp = Date.now();
    const processTime = currentProcessingTimestamp - processingStartTimestamp;

    if (!this.metrics[meetingId].wasInQueue.hasOwnProperty(eventName)) {
      this.metrics[meetingId].wasInQueue[eventName] = {
        count: 1,
        payloadSize: {
          min: size,
          max: size,
          last: size,
          total: size,
          avg: size
        },
        processingTime: {
          min: processTime,
          max: processTime,
          last: processTime,
          total: processTime,
          avg: processTime
        }
      };
      this.metrics[meetingId].currentlyInQueue[eventName].count -= 1;

      if (!this.metrics[meetingId].currentlyInQueue[eventName].count) {
        delete this.metrics[meetingId].currentlyInQueue[eventName];
      }
    } else {
      const {
        currentlyInQueue,
        wasInQueue
      } = this.metrics[meetingId];
      currentlyInQueue[eventName].count -= 1;

      if (!currentlyInQueue[eventName].count) {
        delete currentlyInQueue[eventName];
      }

      const {
        payloadSize,
        processingTime
      } = wasInQueue[eventName];
      wasInQueue[eventName].count += 1;
      payloadSize.last = size;
      payloadSize.total += size;
      if (payloadSize.min > size) payloadSize.min = size;
      if (payloadSize.max < size) payloadSize.max = size;
      payloadSize.avg = payloadSize.total / wasInQueue[eventName].count;
      if (processingTime.min > processTime) processingTime.min = processTime;
      if (processingTime.max < processTime) processingTime.max = processTime;
      processingTime.last = processTime;
      processingTime.total += processTime;
      processingTime.avg = processingTime.total / wasInQueue[eventName].count;
    }
  }

  setAnnotationQueueLength(meetingId, size) {
    this.metrics[meetingId].annotationQueueLength = size;
  }

  startDumpFile() {
    Meteor.setInterval(() => {
      try {
        const fileDate = new Date();
        const fullYear = fileDate.getFullYear();
        const month = (fileDate.getMonth() + 1).toString().padStart(2, '0');
        const day = fileDate.getDate().toString().padStart(2, '0');
        const hour = fileDate.getHours().toString().padStart(2, '0');
        const minutes = fileDate.getMinutes().toString().padStart(2, '0');
        const seconds = fileDate.getSeconds().toString().padStart(2, '0');
        const folderName = `${fullYear}${month}${day}_${hour}`;
        const fileName = `${folderName}${minutes}${seconds}_metrics.json`;
        const folderPath = path.join(metricsFolderPath, folderName);
        const fullFilePath = path.join(folderPath, fileName);

        if (!fs.existsSync(folderPath)) {
          Logger.debug(`Creating folder: ${folderPath}`);
          fs.mkdirSync(folderPath);
        }

        fs.writeFileSync(fullFilePath, JSON.stringify(this.metrics));
        Logger.info('Metric file successfully written');
      } catch (err) {
        Logger.error('Error on writing metrics to disk.', err);
      }
    }, metricsDumpIntervalMs);
  }

  removeMeeting(meetingId) {
    if (removeMeetingOnEnd) {
      Logger.info(`Removing meeting ${meetingId} from metrics`);
      delete this.metrics[meetingId];
    } else {
      Logger.info(`Skipping remove of meeting ${meetingId} from metrics`);
    }
  }

}

const metricsSingleton = new Metrics();
module.exportDefault(metricsSingleton);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"minBrowserVersion.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/minBrowserVersion.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let setMinimumBrowserVersions;
module.link("meteor/modern-browsers", {
  setMinimumBrowserVersions(v) {
    setMinimumBrowserVersions = v;
  }

}, 1);

const setMinBrowserVersions = () => {
  const {
    minBrowserVersions
  } = Meteor.settings.private;
  const versions = {};
  minBrowserVersions.forEach(elem => {
    let {
      version
    } = elem;
    if (version === 'Infinity') version = Infinity;
    versions[elem.browser] = version;
  });
  setMinimumBrowserVersions(versions, 'bbb-min');
};

module.exportDefault(setMinBrowserVersions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"redis.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/redis.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Redis;
module.link("redis", {
  default(v) {
    Redis = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let EventEmitter2;
module.link("eventemitter2", {
  EventEmitter2(v) {
    EventEmitter2 = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 4);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 5);
let Metrics;
module.link("./metrics", {
  default(v) {
    Metrics = v;
  }

}, 6);
// Fake meetingId used for messages that have no meetingId
const NO_MEETING_ID = '_';
const {
  queueMetrics
} = Meteor.settings.private.redis.metrics;

const makeEnvelope = (channel, eventName, header, body, routing) => {
  const envelope = {
    envelope: {
      name: eventName,
      routing: routing || {
        sender: 'bbb-apps-akka' // sender: 'html5-server', // TODO

      },
      timestamp: Date.now()
    },
    core: {
      header,
      body
    }
  };
  return JSON.stringify(envelope);
};

class MeetingMessageQueue {
  constructor(eventEmitter, asyncMessages = [], redisDebugEnabled = false) {
    this.asyncMessages = asyncMessages;
    this.emitter = eventEmitter;
    this.queue = new PowerQueue();
    this.redisDebugEnabled = redisDebugEnabled;
    this.handleTask = this.handleTask.bind(this);
    this.queue.taskHandler = this.handleTask;
  }

  handleTask(data, next) {
    const {
      channel
    } = data;
    const {
      envelope
    } = data.parsedMessage;
    const {
      header
    } = data.parsedMessage.core;
    const {
      body
    } = data.parsedMessage.core;
    const {
      meetingId
    } = header;
    const eventName = header.name;
    const isAsync = this.asyncMessages.includes(channel) || this.asyncMessages.includes(eventName);
    const beginHandleTimestamp = Date.now();
    let called = false;
    check(eventName, String);
    check(body, Object);

    const callNext = () => {
      if (called) return;

      if (this.redisDebugEnabled) {
        Logger.debug(`Redis: ${eventName} completed ${isAsync ? 'async' : 'sync'}`);
      }

      called = true;

      if (queueMetrics) {
        const queueId = meetingId || NO_MEETING_ID;
        const dataLength = JSON.stringify(data).length;
        Metrics.processEvent(queueId, eventName, dataLength, beginHandleTimestamp);
      }

      const queueLength = this.queue.length();

      if (queueLength > 100) {
        Logger.warn(`Redis: MeetingMessageQueue for meetingId=${meetingId} has queue size=${queueLength} `);
      }

      next();
    };

    const onError = reason => {
      Logger.error(`${eventName}: ${reason.stack ? reason.stack : reason}`);
      callNext();
    };

    try {
      if (this.redisDebugEnabled) {
        Logger.debug(`Redis: ${JSON.stringify(data.parsedMessage.core)} emitted`);
      }

      if (isAsync) {
        callNext();
      }

      this.emitter.emitAsync(eventName, {
        envelope,
        header,
        body
      }, meetingId).then(callNext).catch(onError);
    } catch (reason) {
      onError(reason);
    }
  }

  add(...args) {
    return this.queue.add(...args);
  }

}

class RedisPubSub {
  static handlePublishError(err) {
    if (err) {
      Logger.error(err);
    }
  }

  constructor(config = {}) {
    this.config = config;
    this.didSendRequestEvent = false;
    const host = process.env.REDIS_HOST || Meteor.settings.private.redis.host;
    const redisConf = Meteor.settings.private.redis;
    const {
      password,
      port
    } = redisConf;

    if (password) {
      this.pub = Redis.createClient({
        host,
        port,
        password
      });
      this.sub = Redis.createClient({
        host,
        port,
        password
      });
      this.pub.auth(password);
      this.sub.auth(password);
    } else {
      this.pub = Redis.createClient({
        host,
        port
      });
      this.sub = Redis.createClient({
        host,
        port
      });
    }

    if (queueMetrics) {
      Metrics.startDumpFile();
    }

    this.emitter = new EventEmitter2();
    this.mettingsQueues = {};
    this.handleSubscribe = this.handleSubscribe.bind(this);
    this.handleMessage = this.handleMessage.bind(this);
  }

  init() {
    this.sub.on('psubscribe', Meteor.bindEnvironment(this.handleSubscribe));
    this.sub.on('pmessage', Meteor.bindEnvironment(this.handleMessage));
    const channelsToSubscribe = this.config.subscribeTo;
    channelsToSubscribe.forEach(channel => {
      this.sub.psubscribe(channel);
    });

    if (this.redisDebugEnabled) {
      Logger.debug(`Redis: Subscribed to '${channelsToSubscribe}'`);
    }
  }

  updateConfig(config) {
    this.config = Object.assign({}, this.config, config);
    this.redisDebugEnabled = this.config.debug;
  } // TODO: Move this out of this class, maybe pass as a callback to init?


  handleSubscribe() {
    if (this.didSendRequestEvent) return; // populate collections with pre-existing data

    const REDIS_CONFIG = Meteor.settings.private.redis;
    const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
    const EVENT_NAME = 'GetAllMeetingsReqMsg';
    const body = {
      requesterId: 'nodeJSapp'
    };
    this.publishSystemMessage(CHANNEL, EVENT_NAME, body);
    this.didSendRequestEvent = true;
  }

  handleMessage(pattern, channel, message) {
    const parsedMessage = JSON.parse(message);
    const {
      name: eventName,
      meetingId
    } = parsedMessage.core.header;
    const {
      ignored: ignoredMessages,
      async
    } = this.config;

    if (ignoredMessages.includes(channel) || ignoredMessages.includes(eventName)) {
      if (eventName === 'CheckAlivePongSysMsg') {
        return;
      }

      if (this.redisDebugEnabled) {
        Logger.debug(`Redis: ${eventName} skipped`);
      }

      return;
    }

    const queueId = meetingId || NO_MEETING_ID;

    if (queueMetrics) {
      Metrics.addEvent(queueId, eventName, message.length);
    }

    if (!(queueId in this.mettingsQueues)) {
      this.mettingsQueues[meetingId] = new MeetingMessageQueue(this.emitter, async, this.redisDebugEnabled);
    }

    this.mettingsQueues[meetingId].add({
      pattern,
      channel,
      eventName,
      parsedMessage
    });
  }

  destroyMeetingQueue(id) {
    delete this.mettingsQueues[id];
  }

  on(...args) {
    return this.emitter.on(...args);
  }

  publishVoiceMessage(channel, eventName, voiceConf, payload) {
    const header = {
      name: eventName,
      voiceConf
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishSystemMessage(channel, eventName, payload) {
    const header = {
      name: eventName
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishMeetingMessage(channel, eventName, meetingId, payload) {
    const header = {
      name: eventName,
      meetingId
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishUserMessage(channel, eventName, meetingId, userId, payload) {
    const header = {
      name: eventName,
      meetingId,
      userId
    };

    if (!meetingId || !userId) {
      Logger.warn(`Publishing ${eventName} with potentially missing data userId=${userId} meetingId=${meetingId}`);
    }

    const envelope = makeEnvelope(channel, eventName, header, payload, {
      meetingId,
      userId
    });
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

}

const RedisPubSubSingleton = new RedisPubSub();
Meteor.startup(() => {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  RedisPubSubSingleton.updateConfig(REDIS_CONFIG);
  RedisPubSubSingleton.init();
});
module.exportDefault(RedisPubSubSingleton);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"settings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/settings.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 1);
let YAML;
module.link("yaml", {
  default(v) {
    YAML = v;
  }

}, 2);
const YAML_FILE_PATH = 'assets/app/config/settings.yml';

try {
  if (fs.existsSync(YAML_FILE_PATH)) {
    const SETTINGS = YAML.parse(fs.readFileSync(YAML_FILE_PATH, 'utf-8'));
    Meteor.settings = SETTINGS;
    __meteor_runtime_config__.PUBLIC_SETTINGS = SETTINGS.public;
  } else {
    throw new Error('File doesn\'t exists');
  }
} catch (error) {
  console.error('Error on load configuration file.', error);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"utils":{"lineEndings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/lineEndings.js                                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  BREAK_LINE: () => BREAK_LINE,
  CARRIAGE_RETURN: () => CARRIAGE_RETURN,
  NEW_LINE: () => NEW_LINE
});
// Used in Flash and HTML to show a legitimate break in the line
const BREAK_LINE = '<br/>'; // Soft return in HTML to signify a broken line without
// displaying the escaped '<br/>' line break text

const CARRIAGE_RETURN = '\r'; // Handle this the same as carriage return, in case text copied has this

const NEW_LINE = '\n';
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mimeTypes.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/mimeTypes.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  XLS: () => XLS,
  XLSX: () => XLSX,
  DOC: () => DOC,
  DOCX: () => DOCX,
  PPT: () => PPT,
  PPTX: () => PPTX,
  ODT: () => ODT,
  RTF: () => RTF,
  TXT: () => TXT,
  ODS: () => ODS,
  ODP: () => ODP,
  PDF: () => PDF,
  JPEG: () => JPEG,
  PNG: () => PNG,
  SVG: () => SVG,
  UPLOAD_SUPORTED: () => UPLOAD_SUPORTED
});
const XLS = 'application/vnd.ms-excel';
const XLSX = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';
const DOC = 'application/msword';
const DOCX = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';
const PPT = 'application/vnd.ms-powerpoint';
const PPTX = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';
const ODT = 'application/vnd.oasis.opendocument.text';
const RTF = 'application/rtf';
const TXT = 'text/plain';
const ODS = 'application/vnd.oasis.opendocument.spreadsheet';
const ODP = 'application/vnd.oasis.opendocument.presentation';
const PDF = 'application/pdf';
const JPEG = 'image/jpeg';
const PNG = 'image/png';
const SVG = 'image/svg+xml';
const UPLOAD_SUPORTED = [XLS, XLSX, DOC, DOCX, PPT, PPTX, ODT, RTF, TXT, ODS, ODP, PDF, JPEG, PNG];
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"regex-weburl.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/regex-weburl.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.exportDefault(new RegExp( // protocol identifier
'(?:(?:https?|ftp)://)' + // user:pass authentication
'(?:\\S+(?::\\S*)?@)?' + '(?:' + // IP address exclusion
// private & local networks
'(?!(?:10|127)(?:\\.\\d{1,3}){3})' + '(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})' + '(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})' + // IP address dotted notation octets
// excludes loopback network 0.0.0.0
// excludes reserved space >= 224.0.0.0
// excludes network & broacast addresses
// (first & last IP address of each class)
'(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])' + '(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}' + '(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))' + '|' + // host name
'(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)' + // domain name
'(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*' + // TLD identifier
'(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))' + // TLD may end with dot
'\\.?' + ')' + // port number
'(?::\\d{2,5})?' + // resource path
'(?:[/?#]\\S*)?', 'img'));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"server":{"main.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// server/main.js                                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("/imports/startup/server");
module.link("/imports/api/meetings/server");
module.link("/imports/api/users/server");
module.link("/imports/api/annotations/server");
module.link("/imports/api/cursor/server");
module.link("/imports/api/polls/server");
module.link("/imports/api/captions/server");
module.link("/imports/api/presentations/server");
module.link("/imports/api/presentation-pods/server");
module.link("/imports/api/presentation-upload-token/server");
module.link("/imports/api/slides/server");
module.link("/imports/api/breakouts/server");
module.link("/imports/api/group-chat/server");
module.link("/imports/api/group-chat-msg/server");
module.link("/imports/api/screenshare/server");
module.link("/imports/api/users-settings/server");
module.link("/imports/api/voice-users/server");
module.link("/imports/api/whiteboard-multi-user/server");
module.link("/imports/api/video-streams/server");
module.link("/imports/api/network-information/server");
module.link("/imports/api/users-infos/server");
module.link("/imports/api/note/server");
module.link("/imports/api/external-videos/server");
module.link("/imports/api/guest-users/server");
module.link("/imports/api/ping-pong/server");
module.link("/imports/api/local-settings/server");
module.link("/imports/api/voice-call-states/server");
module.link("/imports/api/log-client/server");
module.link("/imports/api/common/server/helpers");
module.link("/imports/startup/server/logger");

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
global._ = _;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},{
  "extensions": [
    ".js",
    ".json",
    ".jsx"
  ]
});

var exports = require("/server/main.js");
//# sourceURL=meteor://app/app/app.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3doaXRlYm9hcmRBbm5vdGF0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3doaXRlYm9hcmRDbGVhcmVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvd2hpdGVib2FyZFNlbmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9oYW5kbGVycy93aGl0ZWJvYXJkVW5kby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21ldGhvZHMvY2xlYXJXaGl0ZWJvYXJkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9zZW5kQW5ub3RhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21ldGhvZHMvc2VuZEFubm90YXRpb25IZWxwZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tZXRob2RzL3NlbmRCdWxrQW5ub3RhdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tZXRob2RzL3VuZG9Bbm5vdGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEFubm90YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJBbm5vdGF0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVBbm5vdGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvYWRkQW5ub3RhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvYnJlYWtvdXRDbG9zZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvYnJlYWtvdXRKb2luVVJMLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL2hhbmRsZXJzL2JyZWFrb3V0U3RhcnRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9oYW5kbGVycy9qb2luZWRVc2Vyc0NoYW5nZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvdXBkYXRlVGltZVJlbWFpbmluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9tZXRob2RzL2NyZWF0ZUJyZWFrb3V0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvZW5kQWxsQnJlYWtvdXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvcmVxdWVzdEpvaW5VUkwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQnJlYWtvdXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oYW5kbGVycy9wYWRDcmVhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oYW5kbGVycy9wYWRVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2FwcGVuZFRleHQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2NyZWF0ZUNhcHRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9lZGl0Q2FwdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2ZldGNoUmVhZE9ubHlQYWRJZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvdGFrZU93bmVyc2hpcC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvdXBkYXRlT3duZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvYWRkQ2FwdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhckNhcHRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZU93bmVySWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlUGFkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZVJlYWRPbmx5UGFkSWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvaGVscGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL2hhbmRsZXJzL2N1cnNvclVwZGF0ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9tZXRob2RzL3B1Ymxpc2hDdXJzb3JVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvZGVzdHJveUV4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9lbWl0RXh0ZXJuYWxWaWRlb0V2ZW50LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvaW5pdGlhbGl6ZUV4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9zdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL3N0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvaGFuZGxlcnMvZ3JvdXBDaGF0Q3JlYXRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvaGFuZGxlcnMvZ3JvdXBDaGF0RGVzdHJveWVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9oYW5kbGVycy9ncm91cENoYXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tZXRob2RzL2NyZWF0ZUdyb3VwQ2hhdC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvbWV0aG9kcy9kZXN0cm95R3JvdXBDaGF0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tb2RpZmllcnMvYWRkR3JvdXBDaGF0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tb2RpZmllcnMvY2xlYXJHcm91cENoYXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvaGFuZGxlcnMvY2xlYXJQdWJsaWNHcm91cENoYXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9oYW5kbGVycy9ncm91cENoYXRNc2dCcm9hZGNhc3QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9oYW5kbGVycy9zeW5jR3JvdXBzQ2hhdC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL2hhbmRsZXJzL3VzZXJUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL2NsZWFyUHVibGljQ2hhdEhpc3RvcnkuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL3NlbmRHcm91cENoYXRNc2cuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL3N0YXJ0VXNlclR5cGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21ldGhvZHMvc3RvcFVzZXJUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tb2RpZmllcnMvYWRkQnVsa0dyb3VwQ2hhdE1zZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tb2RpZmllcnMvYWRkR3JvdXBDaGF0TXNnLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyR3JvdXBDaGF0TXNnLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL3N0YXJ0VHlwaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL3N0b3BUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tb2RpZmllcnMvc3luY01lZXRpbmdDaGF0TXNncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyL2hhbmRsZXJzL2d1ZXN0QXBwcm92ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9oYW5kbGVycy9ndWVzdHNXYWl0aW5nRm9yQXBwcm92YWwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tZXRob2RzL2FsbG93UGVuZGluZ1VzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9jaGFuZ2VHdWVzdFBvbGljeS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyL21vZGlmaWVycy9jbGVhckd1ZXN0VXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tb2RpZmllcnMvc2V0R3Vlc3RTdGF0dXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tZXRob2RzL3VzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9jbGVhckxvY2FsU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvc2V0Q2hhbmdlZExvY2FsU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3Mvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9nLWNsaWVudC9zZXJ2ZXIvbWV0aG9kcy9sb2dDbGllbnQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvZy1jbGllbnQvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2ctY2xpZW50L3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvZ2V0QWxsTWVldGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nQ3JlYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nRGVzdHJ1Y3Rpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nRW5kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvbWVldGluZ0xvY2tDaGFuZ2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9yZWNvcmRpbmdTdGF0dXNDaGFuZ2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9yZWNvcmRpbmdUaW1lckNoYW5nZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2hhbmRsZXJzL3RpbWVSZW1haW5pbmdVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy91c2VyTG9ja0NoYW5nZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2hhbmRsZXJzL3dlYmNhbU9ubHlNb2RlcmF0b3IuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tZXRob2RzL2VuZE1lZXRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tZXRob2RzL3RvZ2dsZUxvY2tTZXR0aW5ncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21ldGhvZHMvdG9nZ2xlUmVjb3JkaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbWV0aG9kcy90b2dnbGVXZWJjYW1zT25seUZvck1vZGVyYXRvci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21ldGhvZHMvdHJhbnNmZXJVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZE1lZXRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tb2RpZmllcnMvY2hhbmdlTG9ja1NldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZVVzZXJMb2NrLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyTWVldGluZ1RpbWVSZW1haW5pbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJSZWNvcmRNZWV0aW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL21lZXRpbmdIYXNFbmRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9zZXRQdWJsaXNoZWRQb2xsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL3dlYmNhbU9ubHlNb2RlcmF0b3IuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3MvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vc2VydmVyL21ldGhvZHMvdXNlckluc3RhYmlsaXR5RGV0ZWN0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vc2VydmVyL21vZGlmaWVycy9jbGVhck5ldHdvcmtJbmZvcm1hdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbi9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vc2VydmVyL3B1Ymxpc2hlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbi9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaGFuZGxlcnMvcGFkVXBkYXRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tZXRob2RzL2NyZWF0ZU5vdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL21vZGlmaWVycy9hZGROb3RlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvY2xlYXJOb3RlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlTm90ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaGVscGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BpbmctcG9uZy9zZXJ2ZXIvbWV0aG9kcy9waW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9waW5nLXBvbmcvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9waW5nLXBvbmcvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BpbmctcG9uZy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL2hhbmRsZXJzL3BvbGxQdWJsaXNoZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9oYW5kbGVycy9wb2xsU3RhcnRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL2hhbmRsZXJzL3BvbGxTdG9wcGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvaGFuZGxlcnMvdXNlclJlc3BvbmRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL2hhbmRsZXJzL3VzZXJWb3RlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21ldGhvZHMvcHVibGlzaFBvbGwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tZXRob2RzL3B1Ymxpc2hWb3RlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbWV0aG9kcy9zdGFydFBvbGwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tZXRob2RzL3N0b3BQb2xsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFBvbGwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQb2xscy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVQb2xsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZVZvdGVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvaGFuZGxlcnMvY3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvaGFuZGxlcnMvcmVtb3ZlUHJlc2VudGF0aW9uUG9kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvaGFuZGxlcnMvc2V0UHJlc2VudGVySW5Qb2QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9oYW5kbGVycy9zeW5jR2V0UHJlc2VudGF0aW9uUG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL21vZGlmaWVycy9hZGRQcmVzZW50YXRpb25Qb2QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQcmVzZW50YXRpb25Qb2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvbW9kaWZpZXJzL3JlbW92ZVByZXNlbnRhdGlvblBvZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL21vZGlmaWVycy9zZXRQcmVzZW50ZXJJblBvZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25VcGxvYWRUb2tlbkZhaWwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL2hhbmRsZXJzL3ByZXNlbnRhdGlvblVwbG9hZFRva2VuUGFzcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvbWV0aG9kcy9yZXF1ZXN0UHJlc2VudGF0aW9uVXBsb2FkVG9rZW4uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL21ldGhvZHMvc2V0VXNlZFRva2VuLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkFkZGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25DdXJyZW50U2V0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25Eb3dubG9hZGFibGVTZXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3ByZXNlbnRhdGlvblJlbW92ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9yZW1vdmVQcmVzZW50YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21ldGhvZHMvc2V0UHJlc2VudGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tZXRob2RzL3NldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFByZXNlbnRhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3JlbW92ZVByZXNlbnRhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3NldEN1cnJlbnRQcmVzZW50YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9zZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvaGFuZGxlcnMvc2NyZWVuc2hhcmVTdGFydGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvaGFuZGxlcnMvc2NyZWVuc2hhcmVTdG9wcGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFNjcmVlbnNoYXJlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyU2NyZWVuc2hhcmUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvaGFuZGxlcnMvc2xpZGVDaGFuZ2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvaGFuZGxlcnMvc2xpZGVSZXNpemUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbWV0aG9kcy9zd2l0Y2hTbGlkZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tZXRob2RzL3pvb21TbGlkZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvYWRkU2xpZGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFNsaWRlUG9zaXRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VDdXJyZW50U2xpZGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyU2xpZGVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9jbGVhclNsaWRlc1ByZXNlbnRhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvcmVzaXplU2xpZGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9oZWxwZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvY2hhbmdlUm9sZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL2Vtb2ppU3RhdHVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvZ2V0VXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy9wcmVzZW50ZXJBc3NpZ25lZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL3JlbW92ZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy91c2VyRWplY3RlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL3VzZXJJbmFjdGl2aXR5SW5zcGVjdC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL3VzZXJKb2luLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvdXNlckpvaW5lZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL3ZhbGlkYXRlQXV0aFRva2VuLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy9hc3NpZ25QcmVzZW50ZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL2NoYW5nZVJvbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3JlbW92ZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3NldEVtb2ppU3RhdHVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy9zZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3RvZ2dsZVVzZXJMb2NrLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy91c2VyQWN0aXZpdHlTaWduLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy91c2VyTGVhdmluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvdXNlckxlZnRNZWV0aW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy92YWxpZGF0ZUF1dGhUb2tlbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9hZGREaWFsSW5Vc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvY2hhbmdlUHJlc2VudGVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZVJvbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9jcmVhdGVEdW1teVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvcmVtb3ZlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9zZXRDb25uZWN0aW9uSWRBbmRBdXRoVG9rZW4uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3VzZXJFamVjdGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3VzZXJJbmFjdGl2aXR5SW5zcGVjdC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL3N0b3JlL2Jhbm5lZFVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvc3RvcmUvcGVuZGluZ0F1dGhlbnRpY2F0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL2hhbmRsZXJzL3VzZXJJbmZvcm1hdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL21ldGhvZHMvcmVtb3ZlVXNlckluZm9ybWF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbWV0aG9kcy9yZXF1ZXN0VXNlckluZm9ybWF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFVzZXJJbmZvLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlckluZm8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2VySW5mb0ZvclJlcXVlc3Rlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyL21ldGhvZHMvYWRkVXNlclNldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFVzZXJTZXR0aW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlcnNTZXR0aW5ncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9oYW5kbGVycy91c2VyU2hhcmVkSHRtbDVXZWJjYW0uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2hhbmRsZXJzL3VzZXJVbnNoYXJlZEh0bWw1V2ViY2FtLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tZXRob2RzL3VzZXJTaGFyZVdlYmNhbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvbWV0aG9kcy91c2VyVW5zaGFyZVdlYmNhbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVmlkZW9TdHJlYW1zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tb2RpZmllcnMvc2hhcmVkV2ViY2FtLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tb2RpZmllcnMvdW5zaGFyZWRXZWJjYW0uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2hlbHBlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9wdWJsaXNoZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL3NlcnZlci9oYW5kbGVycy92b2ljZUNhbGxTdGF0ZUV2ZW50LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVm9pY2VDYWxsU3RhdGVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy9nZXRWb2ljZVVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvam9pblZvaWNlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2hhbmRsZXJzL2xlZnRWb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nTXV0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy9tdXRlZFZvaWNlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2hhbmRsZXJzL3RhbGtpbmdWb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy92b2ljZVVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9lamVjdFVzZXJGcm9tVm9pY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tZXRob2RzL211dGVBbGxFeGNlcHRQcmVzZW50ZXJUb2dnbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tZXRob2RzL211dGVBbGxUb2dnbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tZXRob2RzL211dGVUb2dnbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkVm9pY2VVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZU11dGVNZWV0aW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVm9pY2VVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVWb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlVm9pY2VVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL2hhbmRsZXJzL21vZGlmeVdoaXRlYm9hcmRBY2Nlc3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvbWV0aG9kcy9jaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL21vZGlmaWVycy9jbGVhcldoaXRlYm9hcmRNdWx0aVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvbW9kaWZpZXJzL21vZGlmeVdoaXRlYm9hcmRBY2Nlc3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9tZXRyaWNzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL21pbkJyb3dzZXJWZXJzaW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3NldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3V0aWxzL2xpbmVFbmRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3V0aWxzL21pbWVUeXBlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy91dGlscy9yZWdleC13ZWJ1cmwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tYWluLmpzIl0sIm5hbWVzIjpbImJvZHkiLCJjaGVjayIsImhlYWRlciIsIm11bHRpVXNlciIsImNsZWFyQW5ub3RhdGlvbnMiLCJhbm5vdGF0aW9uc0FkZGVkIiwiXyIsImFubm90YXRpb24iLCJ1c2VySWQiLCJhZGRBbm5vdGF0aW9uIiwibW9kaWZ5V2hpdGVib2FyZEFjY2VzcyIsIndoaXRlYm9hcmRJZCIsImZ1bGxDbGVhciIsIkJvb2xlYW4iLCJBbm5vdGF0aW9uc1N0cmVhbWVyIiwicXVldWVNZXRyaWNzIiwiTWV0ZW9yIiwiYW5ub3RhdGlvbnNRdWV1ZVByb2Nlc3NJbnRlcnZhbCIsIkFOTk9UQVRJT05fUFJPQ0VTU19JTlRFUlZBTCIsImFubm90YXRpb25zUXVldWUiLCJhbm5vdGF0aW9uc1JlY2lldmVySXNSdW5uaW5nIiwicHJvY2VzcyIsIk9iamVjdCIsIm1lZXRpbmdJZCIsImFubm90YXRpb25zIiwiTWV0cmljcyIsInNoYXBlSWQiLCJyZW1vdmVBbm5vdGF0aW9uIiwiUmVkaXNQdWJTdWIiLCJSRURJU19DT05GSUciLCJDSEFOTkVMIiwiRVZFTlRfTkFNRSIsInJlcXVlc3RlclVzZXJJZCIsImV4dHJhY3RDcmVkZW50aWFscyIsInBheWxvYWQiLCJzZW5kQW5ub3RhdGlvbkhlbHBlciIsImlkIiwic3RhdHVzIiwiYW5ub3RhdGlvblR5cGUiLCJhbm5vdGF0aW9uSW5mbyIsIngiLCJ5IiwiZm9udENvbG9yIiwiY2FsY2VkRm9udFNpemUiLCJ0ZXh0Qm94V2lkdGgiLCJ0ZXh0IiwidGV4dEJveEhlaWdodCIsImZvbnRTaXplIiwiZGF0YVBvaW50cyIsInR5cGUiLCJTdHJpbmciLCJ3YklkIiwicG9zaXRpb24iLCJOdW1iZXIiLCJjb2xvciIsInRoaWNrbmVzcyIsInBvaW50cyIsImRpbWVuc2lvbnMiLCJNYXRjaCIsInF1ZXJ5IiwiYWRkQW5ub3RhdGlvblF1ZXJ5IiwiaW5zZXJ0ZWRJZCIsIkFubm90YXRpb25zIiwiTG9nZ2VyIiwiZXJyIiwic2VsZWN0b3IiLCJudW1iZXJBZmZlY3RlZCIsInByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkiLCJzZW5kQnVsa0Fubm90YXRpb25zIiwiYm91bmRBbm5vdGF0aW9ucyIsInN0cmVhbWVyIiwicmV0cmFuc21pdCIsIkFOTk9UQVRJT05fVFlQRV9URVhUIiwiQU5OT1RBVElPTl9UWVBFX1BFTkNJTCIsIm1vZGlmaWVyIiwiJHNldCIsIiRzZXRPbkluc2VydCIsIiRpbmMiLCJ2ZXJzaW9uIiwiRFJBV19TVEFSVCIsIkRSQVdfVVBEQVRFIiwiRFJBV19FTkQiLCJiYXNlU2VsZWN0b3IiLCJiYXNlTW9kaWZpZXIiLCIkcHVzaCIsIiRlYWNoIiwiaGFuZGxlVGV4dFVwZGF0ZSIsImhhbmRsZVBlbmNpbFVwZGF0ZSIsImhhbmRsZUNvbW1vbkFubm90YXRpb24iLCJNb25nbyIsImJyZWFrb3V0SWQiLCJjbGVhckJyZWFrb3V0cyIsInVzZXJzIiwiaW5zZXJ0ZWRUaW1lIiwiQnJlYWtvdXRzIiwiREVGQVVMVF9USU1FX1JFTUFJTklORyIsImJyZWFrb3V0Iiwiam9pbmVkVXNlcnMiLCJ0aW1lUmVtYWluaW5nIiwicGFyZW50TWVldGluZ0lkIiwiZmxhdCIsInVzZXJzTWFwcGVkIiwidXNlciIsIm5hbWUiLCJvcHRpb25zIiwibXVsdGkiLCJyZWNvcmQiLCJCUkVBS09VVF9MSU0iLCJNSU5fQlJFQUtPVVRfUk9PTVMiLCJNQVhfQlJFQUtPVVRfUk9PTVMiLCJldmVudE5hbWUiLCJyb29tcyIsInVzZXJJZFRvSW52aXRlIiwiZW5kQWxsQnJlYWtvdXRzIiwiUk9MRV9NT0RFUkFUT1IiLCJVc2VyIiwiZmllbGRzIiwicm9sZSIsInByZXNlbnRlclNlbGVjdG9yIiwiJG9yIiwiZnJlZUpvaW4iLCJib3VuZEJyZWFrb3V0cyIsImJyZWFrb3V0cyIsInBhZCIsImZldGNoUmVhZE9ubHlQYWRJZCIsImNoYW5nZXNldCIsImRhdGEiLCJnZXREYXRhRnJvbUNoYW5nZXNldCIsInVwZGF0ZVBhZCIsInBhZElkIiwiZ2VuZXJhdGVQYWRJZCIsImF4aW9zIiwibWV0aG9kIiwidXJsIiwiYXBwZW5kVGV4dFVSTCIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlIiwiZXJyb3IiLCJpc0VuYWJsZWQiLCJnZXRMb2NhbGVzVVJMIiwibG9jYWxlcyIsImxvY2FsZSIsImFkZENhcHRpb24iLCJnZXRJbmRleCIsImxlbmd0aCIsImluZGV4Iiwic3RhcnRJbmRleCIsImxvY2FsZUNvZGUiLCJlbmRJbmRleCIsInJlYWRPbmx5VVJMIiwiZ2V0UmVhZE9ubHlJZFVSTCIsInJlYWRPbmx5UGFkSWQiLCJnZXREYXRhRnJvbVJlc3BvbnNlIiwidXBkYXRlUmVhZE9ubHlQYWRJZCIsIiRyZWdleCIsInVwZGF0ZU93bmVySWQiLCJvd25lcklkIiwicmV2cyIsIkNhcHRpb25zIiwidXBkYXRlT3duZXIiLCJlZGl0Q2FwdGlvbnMiLCJwcm9jZXNzRm9yQ2FwdGlvbnNQYWRPbmx5IiwiQ0FQVElPTlNfQ09ORklHIiwiQkFTRU5BTUUiLCJBUFAiLCJMT0NBTEVTX1VSTCIsImhvc3QiLCJwb3J0IiwibG9jYWxlc1VybCIsIkNBUFRJT05TIiwiVE9LRU4iLCJoYXNoRk5WMzJhIiwiaXNDYXB0aW9uc1BhZCIsInNwbGl0UGFkSWQiLCJzcGxpdENoYW5nZXNldCIsImZuIiwiYXBwZW5kVGV4dCIsImJvdW5kQ2FwdGlvbnMiLCJjYXB0aW9ucyIsInN0cmVhbWVyTG9nIiwiQ1VSU09SX1BST0NDRVNTX0lOVEVSVkFMIiwiY3Vyc29yUXVldWUiLCJwcm9jY2VzcyIsImN1cnNvcnMiLCJDdXJzb3JTdHJlYW1lciIsInB1Ymxpc2hDdXJzb3JVcGRhdGUiLCJtZXNzYWdlIiwic3RyZWFtTmFtZSIsInN0cmVhbWVyTmFtZSIsImFsbG93UmVjZW50TWVzc2FnZXMiLCJzdGF0ZSIsImV4dGVybmFsVmlkZW9VcmwiLCJwcmVzZW50ZXIiLCJNZWV0aW5ncyIsIm1lZXRpbmciLCJlbWl0RXh0ZXJuYWxWaWRlb0V2ZW50IiwiYWRkR3JvdXBDaGF0IiwiY2hhdHMiLCJjaGF0IiwiY29ycmVsYXRpb25JZCIsIkRhdGUiLCJtc2ciLCJyZWNlaXZlciIsImFjY2VzcyIsImNoYXRJZCIsImNyZWF0ZWRCeSIsImNoYXREb2N1bWVudCIsInUiLCJzYWZlIiwiR3JvdXBDaGF0IiwiY2xlYXJHcm91cENoYXRNc2ciLCJkZXN0cm95R3JvdXBDaGF0IiwiQ0hBVF9DT05GSUciLCJQVUJMSUNfQ0hBVF9UWVBFIiwiJGFsbCIsImJvdW5kR3JvdXBDaGF0IiwiZ3JvdXBDaGF0IiwiQ0hBVF9BQ0NFU1MiLCJQVUJMSUMiLCJQUklWQVRFIiwiQ0hBVF9BQ0NFU1NfUFVCTElDIiwiQ0hBVF9BQ0NFU1NfUFJJVkFURSIsImJ1ZmZlckNoYXRJbnNlcnRzTXMiLCJtc2dCdWZmZXIiLCJidWxrRm4iLCJhZGRHcm91cENoYXRNc2ciLCJtc2dzIiwic3luY01lZXRpbmdDaGF0TXNncyIsInN0YXJ0VHlwaW5nIiwiUFVCTElDX0dST1VQX0NIQVRfSUQiLCJIVE1MX1NBRkVfTUFQIiwicGFyc2VNZXNzYWdlIiwicGFyc2VkTWVzc2FnZSIsImMiLCJVc2Vyc1R5cGluZyIsInVzZXJUeXBpbmciLCJzdG9wVHlwaW5nIiwiR3JvdXBDaGF0TXNnIiwibWFwcGVkTXNncyIsIl9pZCIsInNlbmRlciIsImVsIiwiaW5zZXJ0ZWRDb3VudCIsIkJSRUFLX0xJTkUiLCJ0aW1lc3RhbXAiLCJtc2dEb2N1bWVudCIsIlBVQkxJQ19DSEFUX1NZU1RFTV9JRCIsIkNIQVRfQ0xFQVJfTUVTU0FHRSIsImNsZWFyTXNnIiwiJGVxIiwiVFlQSU5HX1RJTUVPVVQiLCJpc1R5cGluZ1RvIiwidGltZSIsInR5cGluZ1VzZXIiLCJzZW5kTXNnSW5pdGlhdGVkIiwic3RpbGxUeXBpbmciLCJidWxrT3BlcmF0aW9ucyIsIm1zZ1RvU3luYyIsIl9zdHIiLCJzdG9wVXNlclR5cGluZyIsIiRpbiIsImNoYXRzSWRzIiwiZ3JvdXBDaGF0TXNnIiwiYm91bmRVc2Vyc1R5cGluZyIsInVzZXJzVHlwaW5nIiwiZ3Vlc3RzIiwiZ3Vlc3QiLCJzZXRHdWVzdFN0YXR1cyIsInN0cmluZ0hhc2giLCJDT0xPUl9MSVNUIiwiaW50SWQiLCJhcHByb3ZlZCIsImRlbmllZCIsImxvZ2luVGltZSIsIm1hcHBlZEd1ZXN0cyIsImFwcHJvdmVkQnkiLCJKU09OIiwic2V0QnkiLCJwb2xpY3kiLCJwb2xpY3lSdWxlIiwiR3Vlc3RVc2VycyIsIkdVRVNUX1NUQVRVU19BTExPVyIsIkdVRVNUX1NUQVRVU19ERU5ZIiwiY2hhbmdlR3Vlc3RQb2xpY3kiLCJib3VuZFNsaWRlcyIsImd1ZXN0VXNlcnMiLCJ1c2VyTG9jYWxTZXR0aW5ncyIsInNldHRpbmdzIiwic2V0Q2hhbmdlZExvY2FsU2V0dGluZ3MiLCJMb2NhbFNldHRpbmdzIiwibnVtQ2hhbmdlZCIsInVzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncyIsImJvdW5kTG9jYWxTZXR0aW5ncyIsImxvY2FsU2V0dGluZ3MiLCJsb2dDbGllbnQiLCJsb2dDb2RlIiwiZXh0cmFJbmZvIiwidXNlckluZm8iLCJjb25uZWN0aW9uSWQiLCJsb2dDb250ZW50cyIsImxldmVsIiwiaGFuZGxlTWVldGluZ0NyZWF0aW9uIiwiZHVyYXRpb25JblNlY29kcyIsImFkZE1lZXRpbmciLCJkZXN0cm95RXh0ZXJuYWxWaWRlbyIsInJlbW92ZUFubm90YXRpb25zU3RyZWFtZXIiLCJyZW1vdmVDdXJzb3JTdHJlYW1lciIsImNiIiwibWVldGluZ1R5cGUiLCJVc2VycyIsImNvbm5lY3Rpb25TdGF0dXMiLCJtZWV0aW5nSGFzRW5kZWQiLCJtZWV0aW5nRW5kZWQiLCJjaGFuZ2VMb2NrU2V0dGluZ3MiLCJyZWNvcmRpbmciLCJSZWNvcmRNZWV0aW5ncyIsInRpbWVMZWZ0SW5TZWMiLCJNZWV0aW5nVGltZVJlbWFpbmluZyIsImNoYW5nZVVzZXJMb2NrIiwiY2hhbmdlV2ViY2FtT25seU1vZGVyYXRvciIsImRpc2FibGVDYW0iLCJkaXNhYmxlTWljIiwiZGlzYWJsZVByaXZhdGVDaGF0IiwiZGlzYWJsZVB1YmxpY0NoYXQiLCJkaXNhYmxlTm90ZSIsImhpZGVVc2VyTGlzdCIsImxvY2tlZExheW91dCIsImxvY2tPbkpvaW4iLCJsb2NrT25Kb2luQ29uZmlndXJhYmxlIiwicmVjb3JkT2JqZWN0IiwibWVldGluZ1JlY29yZGVkIiwiYWxsb3dlZFRvUmVjb3JkIiwidG9NZWV0aW5nSWQiLCJicmVha291dFByb3BzIiwic2VxdWVuY2UiLCJicmVha291dFJvb21zIiwicGFyZW50SWQiLCJlbmFibGVkIiwicHJpdmF0ZUNoYXRFbmFibGVkIiwibWVldGluZ1Byb3AiLCJleHRJZCIsImlzQnJlYWtvdXQiLCJ1c2Vyc1Byb3AiLCJ3ZWJjYW1zT25seUZvck1vZGVyYXRvciIsImd1ZXN0UG9saWN5IiwibWF4VXNlcnMiLCJhbGxvd01vZHNUb1VubXV0ZVVzZXJzIiwiZHVyYXRpb25Qcm9wcyIsImNyZWF0ZWRUaW1lIiwiZHVyYXRpb24iLCJjcmVhdGVkRGF0ZSIsIm1heEluYWN0aXZpdHlUaW1lb3V0TWludXRlcyIsIndhcm5NaW51dGVzQmVmb3JlTWF4IiwibWVldGluZ0V4cGlyZUlmTm9Vc2VySm9pbmVkSW5NaW51dGVzIiwibWVldGluZ0V4cGlyZVdoZW5MYXN0VXNlckxlZnRJbk1pbnV0ZXMiLCJ1c2VySW5hY3Rpdml0eUluc3BlY3RUaW1lckluTWludXRlcyIsInVzZXJJbmFjdGl2aXR5VGhyZXNob2xkSW5NaW51dGVzIiwidXNlckFjdGl2aXR5U2lnblJlc3BvbnNlRGVsYXlJbk1pbnV0ZXMiLCJ3ZWxjb21lUHJvcCIsIndlbGNvbWVNc2ciLCJtb2RPbmx5TWVzc2FnZSIsIndlbGNvbWVNc2dUZW1wbGF0ZSIsInJlY29yZFByb3AiLCJhbGxvd1N0YXJ0U3RvcFJlY29yZGluZyIsImF1dG9TdGFydFJlY29yZGluZyIsInBhc3N3b3JkIiwidmlld2VyUGFzcyIsIm1vZGVyYXRvclBhc3MiLCJ2b2ljZVByb3AiLCJ2b2ljZUNvbmYiLCJkaWFsTnVtYmVyIiwidGVsVm9pY2UiLCJtdXRlT25TdGFydCIsInNjcmVlbnNoYXJlUHJvcHMiLCJyZWQ1U2NyZWVuc2hhcmVJcCIsInJlZDVTY3JlZW5zaGFyZUFwcCIsInNjcmVlbnNoYXJlQ29uZiIsIm1ldGFkYXRhUHJvcCIsImxvY2tTZXR0aW5nc1Byb3BzIiwicmVzdFByb3BzIiwibmV3TWVldGluZyIsInNhbml0aXplVGV4dEluQ2hhdCIsIm9yaWdpbmFsIiwiU2FuaXRpemVIVE1MIiwiYWxsb3dlZFRhZ3MiLCJhbGxvd2VkQXR0cmlidXRlcyIsImEiLCJpbWciLCJhbGxvd2VkU2NoZW1lcyIsInNhbml0aXplZFdlbGNvbWVUZXh0IiwiaW5zZXJ0QmxhbmtUYXJnZXQiLCJzIiwibGlua1dpdGhvdXRUYXJnZXQiLCJwdWJsaXNoZWRQb2xsIiwiYWRkQW5ub3RhdGlvbnNTdHJlYW1lciIsImFkZEN1cnNvclN0cmVhbWVyIiwiY3JlYXRlTm90ZSIsImNyZWF0ZUNhcHRpb25zIiwiQmFubmVkVXNlcnMiLCJkaXNhYmxlUHJpdkNoYXQiLCJkaXNhYmxlUHViQ2hhdCIsImxvY2tlZCIsImxvY2tlZEJ5IiwiY2xlYXJDYXB0aW9ucyIsImNsZWFyR3JvdXBDaGF0IiwiY2xlYXJHdWVzdFVzZXJzIiwiY2xlYXJQcmVzZW50YXRpb25Qb2RzIiwiY2xlYXJQb2xscyIsImNsZWFyU2xpZGVzIiwiY2xlYXJVc2VycyIsImNsZWFyVXNlcnNTZXR0aW5ncyIsImNsZWFyVm9pY2VVc2VycyIsImNsZWFyVXNlckluZm8iLCJjbGVhck5vdGUiLCJjbGVhck5ldHdvcmtJbmZvcm1hdGlvbiIsImNsZWFyTG9jYWxTZXR0aW5ncyIsImNsZWFyTWVldGluZ1RpbWVSZW1haW5pbmciLCJjbGVhclJlY29yZE1lZXRpbmciLCJjbGVhclZvaWNlQ2FsbFN0YXRlcyIsImNsZWFyVmlkZW9TdHJlYW1zIiwiY2xlYXJXaGl0ZWJvYXJkTXVsdGlVc2VyIiwiY2xlYXJTY3JlZW5zaGFyZSIsImlzUHVibGlzaGVkIiwidG9nZ2xlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3IiLCJib3VuZE1lZXRpbmdzIiwibWVldGluZ3MiLCJib3VuZFJlY29yZE1lZXRpbmdzIiwicmVjb3JkTWVldGluZ3MiLCJib3VuZHRpbWVSZW1haW5pbmciLCJtZWV0aW5nVGltZVJlbWFpbmluZyIsIk5ldHdvcmtJbmZvcm1hdGlvbiIsInVzZXJJbnN0YWJpbGl0eURldGVjdGVkIiwiYm91bmROZXR3b3JrSW5mb3JtYXRpb24iLCJuZXR3b3JrSW5mb3JtYXRpb24iLCJ1cGRhdGVOb3RlIiwibm90ZUlkIiwiZ2VuZXJhdGVOb3RlSWQiLCJjcmVhdGVVUkwiLCJjcmVhdGVQYWRVUkwiLCJyZXNwb25zZU91dGVyIiwicmVhZE9ubHlOb3RlSWQiLCJhZGROb3RlIiwiTm90ZSIsInByb2Nlc3NGb3JOb3RlUGFkT25seSIsIkVUSEVSUEFEIiwiTk9URV9DT05GSUciLCJCQVNFX1VSTCIsImFwaWtleSIsImVuY29kZVVSSUNvbXBvbmVudCIsImlubmVyRGF0YSIsImlzTm90ZVBhZCIsImJvdW5kTm90ZSIsIm5vdGUiLCJsYXN0UGluZyIsInBpbmciLCJDT0xMRUNUSU9OX05BTUUiLCJJTlRFUlZBTF9JTl9TRVRUSU5HUyIsIklOVEVSVkFMX1RJTUUiLCJQT05HX0lOVEVSVkFMX0lOX1NFVFRJTkdTIiwiUE9OR19JTlRFUlZBTCIsInBvbmdTZW5kZXIiLCJpbnRlcnZhbCIsInBvbmciLCJwb2xsSWQiLCJzZXRQdWJsaXNoZWRQb2xsIiwicmVtb3ZlUG9sbCIsInBvbGwiLCJhZGRQb2xsIiwiYW5zd2VySWQiLCIkcHVsbCIsInJlc3BvbnNlcyIsIlBvbGxzIiwiYW5zd2VycyIsImtleSIsIm51bVZvdGVzIiwibnVtUmVzcG9uZGVudHMiLCJudW1SZXNwb25kZXJzIiwidXBkYXRlVm90ZXMiLCJyZXF1ZXN0ZXJJZCIsImFsbG93ZWRUb1ZvdGUiLCJwb2xsQW5zd2VySWQiLCJxdWVzdGlvbklkIiwicG9sbFR5cGUiLCJ1c2VyU2VsZWN0b3IiLCIkbmUiLCJjbGllbnRUeXBlIiwidXNlcklkcyIsInJlcXVlc3RlciIsInN0b3BQb2xsIiwiYm91bmRQb2xscyIsImN1cnJlbnRQb2xsIiwicG9sbHMiLCJjdXJyZW50UHJlc2VudGVySWQiLCJwb2RJZCIsInBvZCIsImFkZFByZXNlbnRhdGlvblBvZCIsInJlbW92ZVByZXNlbnRhdGlvblBvZCIsIm5leHRQcmVzZW50ZXJJZCIsInNldFByZXNlbnRlckluUG9kIiwicG9kcyIsInByZXNlbnRhdGlvblBvZElkcyIsInByZXNlbnRhdGlvblBvZHNUb1JlbW92ZSIsIiRuaW4iLCJwIiwiY3VycmVudFByZXNlbnRlciIsInByZXNlbnRhdGlvbnMiLCJQcmVzZW50YXRpb25Qb2RzIiwicHJlc2VudGF0aW9uIiwiYWRkUHJlc2VudGF0aW9uIiwiY2xlYXJQcmVzZW50YXRpb25zIiwiY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbiIsImJvdW5kUHJlc2VudGF0aW9uUG9kcyIsInByZXNlbnRhdGlvblBvZHMiLCJmaWxlbmFtZSIsImZhaWxlZCIsImF1dGh6VG9rZW4iLCJ1c2VkIiwiUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4iLCJzZXRVc2VkVG9rZW4iLCJib3VuZFByZXNlbnRhdGlvblVwbG9hZFRva2VuIiwicHJlc2VudGF0aW9uVXBsb2FkVG9rZW4iLCJPRkZJQ0VfRE9DX0NPTlZFUlNJT05fRkFJTEVEX0tFWSIsIk9GRklDRV9ET0NfQ09OVkVSU0lPTl9JTlZBTElEX0tFWSIsIlNVUFBPUlRFRF9ET0NVTUVOVF9LRVkiLCJVTlNVUFBPUlRFRF9ET0NVTUVOVF9LRVkiLCJQQUdFX0NPVU5UX0ZBSUxFRF9LRVkiLCJQQUdFX0NPVU5UX0VYQ0VFREVEX0tFWSIsIlBERl9IQVNfQklHX1BBR0VfS0VZIiwiR0VORVJBVEVEX1NMSURFX0tFWSIsIm1lc3NhZ2VLZXkiLCJwcmVzTmFtZSIsInByZXNlbnRhdGlvbk5hbWUiLCJzdGF0dXNNb2RpZmllciIsInByZXNlbnRhdGlvbklkIiwiUHJlc2VudGF0aW9ucyIsInNldEN1cnJlbnRQcmVzZW50YXRpb24iLCJkb3dubG9hZGFibGUiLCJzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUiLCJyZW1vdmVQcmVzZW50YXRpb24iLCJnZXRTbGlkZVRleHQiLCJjb250ZW50IiwiSFRUUCIsImFkZFNsaWRlcyIsInNsaWRlcyIsInNsaWRlIiwiYWRkU2xpZGUiLCJjdXJyZW50IiwicGFnZXMiLCJudW0iLCJ0aHVtYlVyaSIsInN3ZlVyaSIsInR4dFVyaSIsInN2Z1VyaSIsInhPZmZzZXQiLCJ5T2Zmc2V0Iiwid2lkdGhSYXRpbyIsImhlaWdodFJhdGlvIiwiY2xlYXJTbGlkZXNQcmVzZW50YXRpb24iLCJvbGRDdXJyZW50IiwiY2FsbGJhY2siLCJuZXdDdXJyZW50Iiwib2xkUHJlc2VudGF0aW9uIiwibmV3UHJlc2VudGF0aW9uIiwiYm91bmRQcmVzZW50YXRpb25zIiwicHJlc2VudGVySWQiLCJzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvIiwiYWRkU2NyZWVuc2hhcmUiLCJzY3JlZW5zaGFyZSIsIlNjcmVlbnNoYXJlIiwiYm91bmRTY3JlZW5zaGFyZSIsImNoYW5nZUN1cnJlbnRTbGlkZSIsInJlc2l6ZVNsaWRlIiwiUHJlc2VudGF0aW9uIiwiU2xpZGUiLCJzbGlkZU51bWJlciIsInBhZ2VJZCIsImxvYWRTbGlkZXNGcm9tSHR0cEFsd2F5cyIsInJlcXVlc3RXaGl0ZWJvYXJkSGlzdG9yeSIsIlVTRVJfSUQiLCJzbGlkZUlkIiwiU1VQUE9SVEVEX1RZUEVTIiwiZmV0Y2hJbWFnZVNpemVzIiwiaW1hZ2VVcmkiLCJyZXN1bHQiLCJtaW1lIiwid2lkdGgiLCJoZWlnaHQiLCJyZWFzb24iLCJyZXN0U2xpZGUiLCJpbWFnZVNpemVVcmkiLCJzbGlkZURhdGEiLCJzbGlkZVBvc2l0aW9uIiwiY2FsY3VsYXRlU2xpZGVEYXRhIiwiYWRkU2xpZGVQb3NpdGlvbnMiLCJTbGlkZXMiLCJTbGlkZVBvc2l0aW9ucyIsInZpZXdCb3hXaWR0aCIsInZpZXdCb3hIZWlnaHQiLCJvbGRTbGlkZSIsIm5ld1NsaWRlIiwibnVtYmVyQWZmZWN0ZWRTbGlkZVBvc2l0aW9ucyIsIndoaXRlYm9hcmRJZHMiLCJyb3ciLCJTbGlkZVBvc2l0aW9uIiwiY2FsY3VsYXRlZERhdGEiLCJ6b29tU2xpZGUiLCJib3VuZFNsaWRlUG9zaXRpb25zIiwic2xpZGVQb3NpdGlvbnMiLCJjaGFuZ2VkQnkiLCJjaGFuZ2VSb2xlIiwiZW1vamkiLCJlbW9qaVRpbWUiLCJ1c2Vyc0lkcyIsIm0iLCJ1c2Vyc1RvUmVtb3ZlIiwicmVtb3ZlVXNlciIsInVzZXJzQWRkZWQiLCJhZGRVc2VyIiwiYXNzaWduZWRCeSIsImNoYW5nZVByZXNlbnRlciIsInByZXZQcmVzZW50ZXIiLCJzZXRQcmVzZW50ZXJQYXlsb2FkIiwiZGVmYXVsdFBvZFNlbGVjdG9yIiwiY3VycmVudERlZmF1bHRQb2RQcmVzZW50ZXIiLCJzZXRQcmVzZW50ZXJJblBvZFJlcU1zZyIsIm9sZFByZXNlbnRlciIsInVzZXJFamVjdGVkIiwicmVhc29uQ29kZSIsInJlc3BvbnNlRGVsYXkiLCJ1c2VySW5hY3Rpdml0eUluc3BlY3QiLCJhdXRoVG9rZW4iLCJjbGVhck90aGVyU2Vzc2lvbnMiLCJzZXJ2ZXJTZXNzaW9ucyIsImkiLCJ3YWl0Rm9yQXBwcm92YWwiLCJwZW5kaW5nQXV0aHMiLCJwZW5kaW5nQXV0aGVudGljYXRpb25zU3RvcmUiLCJwZW5kaW5nQXV0aCIsIm1ldGhvZEludm9jYXRpb25PYmplY3QiLCJzZXNzaW9uSWQiLCJjcmVhdGVEdW1teVVzZXIiLCJzZXRDb25uZWN0aW9uSWRBbmRBdXRoVG9rZW4iLCJ2YWxpZCIsInVzZXJKb2luIiwidmFsaWRhdGVkIiwiaW5hY3Rpdml0eUNoZWNrIiwic2Vzc2lvblVzZXJJZCIsImN1cnJlbnRDb25uZWN0aW9uSWQiLCJuZXdQcmVzZW50ZXJJZCIsIm5ld1ByZXNlbnRlck5hbWUiLCJlamVjdGVkQnkiLCJiYW5Vc2VyIiwicmVtb3ZlZFVzZXIiLCJlZmZlY3RpdmVDb25uZWN0aW9uVHlwZSIsInNldEVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlIiwibG9jayIsImxvZ2dlZE91dCIsImV4dGVybmFsSWQiLCJpbnZhbGlkIiwiZXJyb3JfdHlwZSIsImlzVXNlckludmFsaWQiLCJlamVjdGVkIiwicmVxdWVzdGVyVG9rZW4iLCJVU0VSX0NPTkZJRyIsIlJPTEVfVklFV0VSIiwiY2FsbGVyTmFtZSIsInZvaWNlT25seVVzZXIiLCJhdXRoZWQiLCJ3YWl0aW5nRm9yQWNjZXB0YW5jZSIsImd1ZXN0U3RhdHVzIiwiYXZhdGFyIiwic2FuaXRpemVkTmFtZSIsInVzZXJEYXRhIiwiTWVldGluZyIsInNvcnROYW1lIiwiaXNCcmVha291dFVzZXIiLCJhZGRWb2ljZVVzZXIiLCJ2b2ljZVVzZXJJZCIsImNhbGxlck51bSIsIm11dGVkIiwidGFsa2luZyIsImNhbGxpbmdXaXRoIiwibGlzdGVuT25seSIsImpvaW5lZCIsImRvYyIsImNsZWFyQWxsU2Vzc2lvbnMiLCJ1c2VyVG9SZW1vdmUiLCJWaWRlb1N0cmVhbXMiLCJjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyIiwiZWplY3RlZFJlYXNvbiIsImNvbnN0cnVjdG9yIiwiaW5pdCIsImFkZCIsImRlbGV0ZSIsImhhcyIsImdlbmVyYXRlS2V5IiwidGFrZSIsIm1hdGNoZXMiLCJlIiwidXNlckxlZnRNZWV0aW5nIiwib25DbG9zZUNvbm5lY3Rpb24iLCJ1c2VyTGVhdmluZyIsImJvdW5kVXNlcnMiLCJjdXJyZW50VXNlciIsImFkZFVzZXJJbmZvIiwiVXNlckluZm9zIiwiZXh0ZXJuYWxVc2VySWQiLCJpbmZvIiwicmVtb3ZlVXNlckluZm9ybWF0aW9uIiwiYm91bmRVc2VySW5mb3MiLCJ1c2VySW5mb3MiLCJvbGRQYXJhbWV0ZXJzIiwiYXNrRm9yRmVlZGJhY2tPbkxvZ291dCIsImF1dG9Kb2luIiwiYXV0b1NoYXJlV2ViY2FtIiwiYXV0b1N3YXBMYXlvdXQiLCJjbGllbnRUaXRsZSIsImN1c3RvbVN0eWxlIiwiY3VzdG9tU3R5bGVVcmwiLCJkaXNwbGF5QnJhbmRpbmdBcmVhIiwiZW5hYmxlU2NyZWVuc2hhcmluZyIsImVuYWJsZVZpZGVvIiwiZm9yY2VMaXN0ZW5Pbmx5IiwiaGlkZVByZXNlbnRhdGlvbiIsImxpc3Rlbk9ubHlNb2RlIiwibXVsdGlVc2VyUGVuT25seSIsIm11bHRpVXNlclRvb2xzIiwib3V0c2lkZVRvZ2dsZVJlY29yZGluZyIsIm91dHNpZGVUb2dnbGVTZWxmVm9pY2UiLCJwcmVzZW50ZXJUb29scyIsInNob3J0Y3V0cyIsInNraXBDaGVjayIsIm9sZFBhcmFtZXRlcnNLZXlzIiwiY3VycmVudFBhcmFtZXRlcnMiLCJwYXJzZWRWYWx1ZSIsInZhbCIsImxvZ2dlciIsInBhcmFtZXRlcnMiLCJzZXR0aW5nS2V5Iiwibm9ybWFsaXplZEtleSIsInZhbHVlUGFyc2VyIiwibWF0Y2hpbmdOZXdLZXkiLCJzZXR0aW5nc0FkZGVkIiwic2V0dGluZyIsInZhbHVlIiwiYWRkVXNlclNldHRpbmciLCJVc2VyU2V0dGluZ3MiLCJhZGRVc2VyU2V0dGluZ3MiLCJtYWluUm9vbVVzZXJTZXR0aW5ncyIsImJvdW5kVXNlclNldHRpbmdzIiwidXNlclNldHRpbmdzIiwic3RyZWFtIiwiaXNWYWxpZFN0cmVhbSIsInNoYXJlZFdlYmNhbSIsInVuc2hhcmVkV2ViY2FtIiwiZGV2aWNlSWQiLCJnZXREZXZpY2VJZCIsImdldFVzZXJOYW1lIiwiRkxBU0hfU1RSRUFNX1JFR0VYIiwic3BsaXRTdHJlYW0iLCJ1c2VyVW5zaGFyZVdlYmNhbSIsImJvdW5kVmlkZW9TdHJlYW1zIiwidmlkZW9TdHJlYW1zIiwiY2FsbFN0YXRlIiwiY2xpZW50U2Vzc2lvbiIsIlZvaWNlQ2FsbFN0YXRlIiwiVm9pY2VDYWxsU3RhdGVzIiwiYm91bmRWb2ljZUNhbGxTdGF0ZXMiLCJ2b2ljZUNhbGxTdGF0ZXMiLCJ2b2ljZVVzZXJzSWRzVG9VcGRhdGUiLCJ2b2ljZVVzZXJzVXBkYXRlZCIsInVwZGF0ZVZvaWNlVXNlciIsInZvaWNlVXNlcnNUb1JlbW92ZSIsInJlbW92ZVZvaWNlVXNlciIsInZvaWNlVXNlciIsImFkZERpYWxJblVzZXIiLCJpc0RpYWxJblVzZXIiLCJjaGFuZ2VNdXRlTWVldGluZyIsIlZvaWNlVXNlcnMiLCJ2b2ljZVVzZXJzIiwidm9pY2UiLCJ0b2dnbGVNZWV0aW5nTXV0ZWQiLCJtdXRlZEJ5IiwibXV0ZSIsInVzZXJUb011dGUiLCJ1SWQiLCJ0b2dnbGUiLCJfbXV0ZWQiLCJzcG9rZSIsImNsZWFyU3Bva2VUaW1lb3V0IiwiVEFMS0lOR19USU1FT1VUIiwic3RhcnRUaW1lIiwidGltZW91dEhhbmRsZSIsImVuZFRpbWUiLCJzcG9rZURlbGF5Iiwic3Bva2VUaW1lb3V0SGFuZGxlcyIsInRvZ2dsZVZvaWNlIiwibXV0ZUFsbFVzZXJzIiwibXV0ZUFsbEV4Y2VwdFByZXNlbnRlciIsImVqZWN0VXNlckZyb21Wb2ljZSIsImJvdW5kVm9pY2VVc2VyIiwiV2hpdGVib2FyZE11bHRpVXNlciIsImNoYW5nZVdoaXRlYm9hcmRBY2Nlc3MiLCJib3VuZE11bHRpVXNlciIsIndoaXRlYm9hcmRNdWx0aVVzZXIiLCJNU0dfRElSRUNUX1RZUEUiLCJOT0RFX1VTRVIiLCJpbmRleE9mIiwibCIsImVudmVsb3BlIiwicm91dGluZyIsInNob3VsZFNraXAiLCJtc2dUeXBlIiwiaHZhbCIsInNlZWQiLCJzdHIiLCJjcmVkZW50aWFscyIsImNyZWRlbnRpYWxzQXJyYXkiLCJBVkFJTEFCTEVfTE9DQUxFUyIsImZzIiwiQVBQX0NPTkZJRyIsImVudiIsIkNETl9VUkwiLCJjdXN0b21IZWFydGJlYXQiLCJuZXdIZWFydGJlYXQiLCJjdXJyZW50VGltZSIsImxhc3RTZW50RnJhbWVUaW1lc3RhbXAiLCJzdXBwb3J0c0hlYXJ0YmVhdHMiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic2VudEF0Iiwibm93IiwibmV3U2VuZCIsImNvbnNvbGUiLCJzb2NrZXQiLCJyZWN2Iiwic2Vzc2lvbiIsIm1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncyIsImhlYXBEdW1wTWJUaHJlc2hvbGQiLCJoZWFwZHVtcEZvbGRlclBhdGgiLCJtZW13YXRjaCIsInN0YXRzIiwiaGVhcER1bXBUcmlnZ2VyZWQiLCJoZWFwZHVtcCIsInBhdGgiLCJCcm93c2VyUG9saWN5IiwiV2ViQXBwSW50ZXJuYWxzIiwiZm9udFJlZ0V4cCIsIldlYkFwcCIsInJlcSIsInJlcyIsIm5leHQiLCJzZXRNaW5Ccm93c2VyVmVyc2lvbnMiLCIkbHQiLCJodG1sNWNsaWVudFN0YXR1cyIsImZhbGxiYWNrIiwib3ZlcnJpZGUiLCJicm93c2VyTG9jYWxlIiwibG9jYWxlTGlzdCIsInVzYWJsZUxvY2FsZXMiLCJmaWxlIiwicmVnaW9uRGVmYXVsdCIsIm1lc3NhZ2VzIiwibm9ybWFsaXplZExvY2FsZSIsIkFzc2V0cyIsIkxhbmdtYXAiLCJuYXRpdmVOYW1lIiwidXNlck5hbWUiLCJyYXRpbmciLCJyZXFVc2VyTmFtZSIsImZlZWRiYWNrIiwidXNlckFnZW50IiwibG9va3VwVXNlckFnZW50IiwiZXZlbnRFbWl0dGVyIiwiUmVkaXMiLCJyZWRpc1B1YlN1YiIsIkxPR19DT05GSUciLCJjcmVhdGVMb2dnZXIiLCJmb3JtYXQiLCJ0cmFuc3BvcnRzIiwicHJldHR5UHJpbnQiLCJodW1hblJlYWRhYmxlVW5oYW5kbGVkRXhjZXB0aW9uIiwiY29sb3JpemUiLCJoYW5kbGVFeGNlcHRpb25zIiwicmVtb3ZlTWVldGluZ09uRW5kIiwiYWRkRXZlbnQiLCJjdXJyZW50bHlJblF1ZXVlIiwid2FzSW5RdWV1ZSIsImNvdW50IiwicGF5bG9hZFNpemUiLCJtZXNzYWdlTGVuZ3RoIiwicHJvY2Vzc0V2ZW50IiwiY3VycmVudFByb2Nlc3NpbmdUaW1lc3RhbXAiLCJwcm9jZXNzVGltZSIsIm1pbiIsIm1heCIsImxhc3QiLCJ0b3RhbCIsImF2ZyIsInNpemUiLCJwcm9jZXNzaW5nVGltZSIsInNldEFubm90YXRpb25RdWV1ZUxlbmd0aCIsInN0YXJ0RHVtcEZpbGUiLCJmaWxlRGF0ZSIsImZ1bGxZZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlcyIsInNlY29uZHMiLCJmb2xkZXJOYW1lIiwiZmlsZU5hbWUiLCJmb2xkZXJQYXRoIiwiZnVsbEZpbGVQYXRoIiwicmVtb3ZlTWVldGluZyIsIm1ldHJpY3NTaW5nbGV0b24iLCJtaW5Ccm93c2VyVmVyc2lvbnMiLCJ2ZXJzaW9ucyIsImVsZW0iLCJzZXRNaW5pbXVtQnJvd3NlclZlcnNpb25zIiwiTk9fTUVFVElOR19JRCIsIm1ha2VFbnZlbG9wZSIsImNvcmUiLCJhc3luY01lc3NhZ2VzIiwicmVkaXNEZWJ1Z0VuYWJsZWQiLCJoYW5kbGVUYXNrIiwiY2hhbm5lbCIsImlzQXN5bmMiLCJiZWdpbkhhbmRsZVRpbWVzdGFtcCIsImNhbGxlZCIsImNhbGxOZXh0IiwicXVldWVJZCIsImRhdGFMZW5ndGgiLCJxdWV1ZUxlbmd0aCIsIm9uRXJyb3IiLCJjb25maWciLCJyZWRpc0NvbmYiLCJjaGFubmVsc1RvU3Vic2NyaWJlIiwidXBkYXRlQ29uZmlnIiwiaGFuZGxlU3Vic2NyaWJlIiwiaGFuZGxlTWVzc2FnZSIsImlnbm9yZWQiLCJhc3luYyIsImlnbm9yZWRNZXNzYWdlcyIsImRlc3Ryb3lNZWV0aW5nUXVldWUiLCJvbiIsInB1Ymxpc2hWb2ljZU1lc3NhZ2UiLCJwdWJsaXNoU3lzdGVtTWVzc2FnZSIsInB1Ymxpc2hNZWV0aW5nTWVzc2FnZSIsInB1Ymxpc2hVc2VyTWVzc2FnZSIsIlJlZGlzUHViU3ViU2luZ2xldG9uIiwiWUFNTF9GSUxFX1BBVEgiLCJTRVRUSU5HUyIsIllBTUwiLCJfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fIiwiQ0FSUklBR0VfUkVUVVJOIiwiTkVXX0xJTkUiLCJYTFMiLCJYTFNYIiwiRE9DIiwiRE9DWCIsIlBQVCIsIlBQVFgiLCJPRFQiLCJSVEYiLCJUWFQiLCJPRFMiLCJPRFAiLCJQREYiLCJKUEVHIiwiUE5HIiwiU1ZHIiwiVVBMT0FEX1NVUE9SVEVEIiwiZ2xvYmFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGNBQWM7QUFBQSxTQUFkO0FBQWMsQ0FBZDs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBTWUscUNBQXFDO0FBQUE7QUFBVUE7QUFBVixDQUFyQyxhQUFrRTtBQUMvRUMsT0FBSyxTQUFMQSxNQUFLLENBQUxBOztB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QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUE4QmUsb0NBQW9DO0FBQ2pEZ0gsMkJBQXlCLENBQXpCQSxTQUF5QixDQUF6QkE7QUFDQUMsc0JBQW9CLENBQXBCQSxTQUFv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SSxHQUFWO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsSUFBSSxHQUFWO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsSUFBSSxHQUFWO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsSUFBSSxHQUFWO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBRUEsTUFBTUMsZUFBZSxHQUFHLHNFQUF4QixHQUF3QixDQUF4QixDOzs7Ozs7Ozs7OztBQ2hCUCxxQkE0RWUsWUFFYjtBQUNBLDBCQUVBO0FBRkEsaUNBTUU7QUFDQTtBQVBGLDhJQVlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoQkYsbUpBc0JFO0FBdEJGLCtEQXlCRTtBQXpCRixtRUE0QkU7QUE1QkYsd0NBK0JFO0FBL0JGLGVBbUNBO0FBbkNBLG1CQXNDQTtBQXpDYSxrQkFBZixLQUFlLENBNUVmLEU7Ozs7Ozs7Ozs7O0FDQUEsT0FBTyxJQUFQO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQTBDQUMsTUFBTSxDQUFOQSxNIiwiZmlsZSI6Ii9hcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IG1vZGlmeVdoaXRlYm9hcmRBY2Nlc3MgZnJvbSAnL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvbW9kaWZpZXJzL21vZGlmeVdoaXRlYm9hcmRBY2Nlc3MnO1xuaW1wb3J0IGNsZWFyQW5ub3RhdGlvbnMgZnJvbSAnLi4vbW9kaWZpZXJzL2NsZWFyQW5ub3RhdGlvbnMnO1xuaW1wb3J0IGFkZEFubm90YXRpb24gZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEFubm90YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVXaGl0ZWJvYXJkQW5ub3RhdGlvbnMoeyBoZWFkZXIsIGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGhlYWRlciwgT2JqZWN0KTtcbiAgaWYgKGhlYWRlci51c2VySWQgIT09ICdub2RlSlNhcHAnKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7IGFubm90YXRpb25zLCB3aGl0ZWJvYXJkSWQsIG11bHRpVXNlciB9ID0gYm9keTtcblxuICBjaGVjayhhbm5vdGF0aW9ucywgQXJyYXkpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKG11bHRpVXNlciwgQm9vbGVhbik7XG5cbiAgY2xlYXJBbm5vdGF0aW9ucyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCk7XG5cbiAgY29uc3QgYW5ub3RhdGlvbnNBZGRlZCA9IFtdO1xuICBfLmVhY2goYW5ub3RhdGlvbnMsIChhbm5vdGF0aW9uKSA9PiB7XG4gICAgY29uc3QgeyB3YklkLCB1c2VySWQgfSA9IGFubm90YXRpb247XG4gICAgYW5ub3RhdGlvbnNBZGRlZC5wdXNoKGFkZEFubm90YXRpb24obWVldGluZ0lkLCB3YklkLCB1c2VySWQsIGFubm90YXRpb24pKTtcbiAgfSk7XG5cbiAgbW9kaWZ5V2hpdGVib2FyZEFjY2VzcyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgbXVsdGlVc2VyKTtcblxuICByZXR1cm4gYW5ub3RhdGlvbnNBZGRlZDtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBBbm5vdGF0aW9uc1N0cmVhbWVyIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuXG5pbXBvcnQgY2xlYXJBbm5vdGF0aW9ucyBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJBbm5vdGF0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVdoaXRlYm9hcmRDbGVhcmVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwge1xuICAgIHVzZXJJZDogU3RyaW5nLFxuICAgIHdoaXRlYm9hcmRJZDogU3RyaW5nLFxuICAgIGZ1bGxDbGVhcjogQm9vbGVhbixcbiAgfSk7XG5cbiAgY29uc3QgeyB3aGl0ZWJvYXJkSWQsIGZ1bGxDbGVhciwgdXNlcklkIH0gPSBib2R5O1xuXG4gIGlmIChmdWxsQ2xlYXIpIHtcbiAgICBBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCkuZW1pdCgncmVtb3ZlZCcsIHsgbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQgfSk7XG4gICAgcmV0dXJuIGNsZWFyQW5ub3RhdGlvbnMobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQpO1xuICB9XG5cbiAgQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ3JlbW92ZWQnLCB7IG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQgfSk7XG4gIHJldHVybiBjbGVhckFubm90YXRpb25zKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IEFubm90YXRpb25zU3RyZWFtZXIgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgYWRkQW5ub3RhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvYWRkQW5ub3RhdGlvbic7XG5pbXBvcnQgTWV0cmljcyBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9tZXRyaWNzJztcblxuY29uc3QgeyBxdWV1ZU1ldHJpY3MgfSA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzLm1ldHJpY3M7XG5cbmNvbnN0IHtcbiAgYW5ub3RhdGlvbnNRdWV1ZVByb2Nlc3NJbnRlcnZhbDogQU5OT1RBVElPTl9QUk9DRVNTX0lOVEVSVkFMLFxufSA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud2hpdGVib2FyZDtcblxubGV0IGFubm90YXRpb25zUXVldWUgPSB7fTtcbmxldCBhbm5vdGF0aW9uc1JlY2lldmVySXNSdW5uaW5nID0gZmFsc2U7XG5cbmNvbnN0IHByb2Nlc3MgPSAoKSA9PiB7XG4gIGlmICghT2JqZWN0LmtleXMoYW5ub3RhdGlvbnNRdWV1ZSkubGVuZ3RoKSB7XG4gICAgYW5ub3RhdGlvbnNSZWNpZXZlcklzUnVubmluZyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuICBhbm5vdGF0aW9uc1JlY2lldmVySXNSdW5uaW5nID0gdHJ1ZTtcbiAgT2JqZWN0LmtleXMoYW5ub3RhdGlvbnNRdWV1ZSkuZm9yRWFjaCgobWVldGluZ0lkKSA9PiB7XG4gICAgQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ2FkZGVkJywgeyBtZWV0aW5nSWQsIGFubm90YXRpb25zOiBhbm5vdGF0aW9uc1F1ZXVlW21lZXRpbmdJZF0gfSk7XG4gICAgaWYgKHF1ZXVlTWV0cmljcykge1xuICAgICAgTWV0cmljcy5zZXRBbm5vdGF0aW9uUXVldWVMZW5ndGgobWVldGluZ0lkLCAwKTtcbiAgICB9XG4gIH0pO1xuICBhbm5vdGF0aW9uc1F1ZXVlID0ge307XG5cbiAgTWV0ZW9yLnNldFRpbWVvdXQocHJvY2VzcywgQU5OT1RBVElPTl9QUk9DRVNTX0lOVEVSVkFMKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVdoaXRlYm9hcmRTZW5kKHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB1c2VySWQgPSBoZWFkZXIudXNlcklkO1xuICBjb25zdCBhbm5vdGF0aW9uID0gYm9keS5hbm5vdGF0aW9uO1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soYW5ub3RhdGlvbiwgT2JqZWN0KTtcblxuICBjb25zdCB3aGl0ZWJvYXJkSWQgPSBhbm5vdGF0aW9uLndiSWQ7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcblxuICBpZiAoIWFubm90YXRpb25zUXVldWUuaGFzT3duUHJvcGVydHkobWVldGluZ0lkKSkge1xuICAgIGFubm90YXRpb25zUXVldWVbbWVldGluZ0lkXSA9IFtdO1xuICB9XG5cbiAgYW5ub3RhdGlvbnNRdWV1ZVttZWV0aW5nSWRdLnB1c2goeyBtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uIH0pO1xuICBpZiAocXVldWVNZXRyaWNzKSB7XG4gICAgTWV0cmljcy5zZXRBbm5vdGF0aW9uUXVldWVMZW5ndGgobWVldGluZ0lkLCBhbm5vdGF0aW9uc1F1ZXVlW21lZXRpbmdJZF0ubGVuZ3RoKTtcbiAgfVxuICBpZiAoIWFubm90YXRpb25zUmVjaWV2ZXJJc1J1bm5pbmcpIHByb2Nlc3MoKTtcblxuICByZXR1cm4gYWRkQW5ub3RhdGlvbihtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuaW1wb3J0IEFubm90YXRpb25zU3RyZWFtZXIgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgcmVtb3ZlQW5ub3RhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlQW5ub3RhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVdoaXRlYm9hcmRVbmRvKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qgd2hpdGVib2FyZElkID0gYm9keS53aGl0ZWJvYXJkSWQ7XG4gIGNvbnN0IHNoYXBlSWQgPSBib2R5LmFubm90YXRpb25JZDtcblxuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKHNoYXBlSWQsIFN0cmluZyk7XG5cbiAgQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ3JlbW92ZWQnLCB7IG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCBzaGFwZUlkIH0pO1xuICByZXR1cm4gcmVtb3ZlQW5ub3RhdGlvbihtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgc2hhcGVJZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJXaGl0ZWJvYXJkKHdoaXRlYm9hcmRJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0NsZWFyV2hpdGVib2FyZFB1Yk1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB3aGl0ZWJvYXJkSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgc2VuZEFubm90YXRpb25IZWxwZXIgZnJvbSAnLi9zZW5kQW5ub3RhdGlvbkhlbHBlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEFubm90YXRpb24oYW5ub3RhdGlvbikge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIHNlbmRBbm5vdGF0aW9uSGVscGVyKGFubm90YXRpb24sIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEFubm90YXRpb25IZWxwZXIoYW5ub3RhdGlvbiwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZW5kV2hpdGVib2FyZEFubm90YXRpb25QdWJNc2cnO1xuXG4gIGNvbnN0IHdoaXRlYm9hcmRJZCA9IGFubm90YXRpb24ud2JJZDtcblxuICBjaGVjayhhbm5vdGF0aW9uLCBPYmplY3QpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG5cbiAgaWYgKGFubm90YXRpb24uYW5ub3RhdGlvblR5cGUgPT09ICd0ZXh0Jykge1xuICAgIGNoZWNrKGFubm90YXRpb24sIHtcbiAgICAgIGlkOiBTdHJpbmcsXG4gICAgICBzdGF0dXM6IFN0cmluZyxcbiAgICAgIGFubm90YXRpb25UeXBlOiBTdHJpbmcsXG4gICAgICBhbm5vdGF0aW9uSW5mbzoge1xuICAgICAgICB4OiBOdW1iZXIsXG4gICAgICAgIHk6IE51bWJlcixcbiAgICAgICAgZm9udENvbG9yOiBOdW1iZXIsXG4gICAgICAgIGNhbGNlZEZvbnRTaXplOiBOdW1iZXIsXG4gICAgICAgIHRleHRCb3hXaWR0aDogTnVtYmVyLFxuICAgICAgICB0ZXh0OiBTdHJpbmcsXG4gICAgICAgIHRleHRCb3hIZWlnaHQ6IE51bWJlcixcbiAgICAgICAgaWQ6IFN0cmluZyxcbiAgICAgICAgd2hpdGVib2FyZElkOiBTdHJpbmcsXG4gICAgICAgIHN0YXR1czogU3RyaW5nLFxuICAgICAgICBmb250U2l6ZTogTnVtYmVyLFxuICAgICAgICBkYXRhUG9pbnRzOiBTdHJpbmcsXG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIH0sXG4gICAgICB3YklkOiBTdHJpbmcsXG4gICAgICB1c2VySWQ6IFN0cmluZyxcbiAgICAgIHBvc2l0aW9uOiBOdW1iZXIsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2hlY2soYW5ub3RhdGlvbiwge1xuICAgICAgaWQ6IFN0cmluZyxcbiAgICAgIHN0YXR1czogU3RyaW5nLFxuICAgICAgYW5ub3RhdGlvblR5cGU6IFN0cmluZyxcbiAgICAgIGFubm90YXRpb25JbmZvOiB7XG4gICAgICAgIGNvbG9yOiBOdW1iZXIsXG4gICAgICAgIHRoaWNrbmVzczogTnVtYmVyLFxuICAgICAgICBwb2ludHM6IEFycmF5LFxuICAgICAgICBpZDogU3RyaW5nLFxuICAgICAgICB3aGl0ZWJvYXJkSWQ6IFN0cmluZyxcbiAgICAgICAgc3RhdHVzOiBTdHJpbmcsXG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGltZW5zaW9uczogTWF0Y2guTWF5YmUoW051bWJlcl0pLFxuICAgICAgfSxcbiAgICAgIHdiSWQ6IFN0cmluZyxcbiAgICAgIHVzZXJJZDogU3RyaW5nLFxuICAgICAgcG9zaXRpb246IE51bWJlcixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgYW5ub3RhdGlvbixcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHNlbmRBbm5vdGF0aW9uSGVscGVyIGZyb20gJy4vc2VuZEFubm90YXRpb25IZWxwZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZW5kQnVsa0Fubm90YXRpb25zKHBheWxvYWQpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBwYXlsb2FkLmZvckVhY2goYW5ub3RhdGlvbiA9PiBzZW5kQW5ub3RhdGlvbkhlbHBlcihhbm5vdGF0aW9uLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCkpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuZG9Bbm5vdGF0aW9uKHdoaXRlYm9hcmRJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1VuZG9XaGl0ZWJvYXJkUHViTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHdoaXRlYm9hcmRJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBBbm5vdGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMnO1xuaW1wb3J0IGFkZEFubm90YXRpb25RdWVyeSBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvYWRkQW5ub3RhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZEFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcbiAgY2hlY2soYW5ub3RhdGlvbiwgT2JqZWN0KTtcblxuICBjb25zdCBxdWVyeSA9IGFkZEFubm90YXRpb25RdWVyeShtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gQW5ub3RhdGlvbnMudXBzZXJ0KHF1ZXJ5LnNlbGVjdG9yLCBxdWVyeS5tb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIGFubm90YXRpb24gaWQ9JHthbm5vdGF0aW9uLmlkfSB3aGl0ZWJvYXJkPSR7d2hpdGVib2FyZElkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgYW5ub3RhdGlvbiB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IEFubm90YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyQW5ub3RhdGlvbnMobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCkge1xuICBjb25zdCBzZWxlY3RvciA9IHt9O1xuXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICBzZWxlY3Rvci5tZWV0aW5nSWQgPSBtZWV0aW5nSWQ7XG4gIH1cblxuICBpZiAod2hpdGVib2FyZElkKSB7XG4gICAgc2VsZWN0b3Iud2hpdGVib2FyZElkID0gd2hpdGVib2FyZElkO1xuICB9XG5cbiAgaWYgKHVzZXJJZCkge1xuICAgIHNlbGVjdG9yLnVzZXJJZCA9IHVzZXJJZDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBBbm5vdGF0aW9ucy5yZW1vdmUoc2VsZWN0b3IpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIEFubm90YXRpb25zIGZvciB1c2VySWQ9JHt1c2VySWR9IHdoZXJlIHdoaXRlYm9hcmQ9JHt3aGl0ZWJvYXJkSWR9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHdoaXRlYm9hcmRJZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBBbm5vdGF0aW9ucyBmb3Igd2hpdGVib2FyZD0ke3doaXRlYm9hcmRJZH1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVldGluZ0lkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIEFubm90YXRpb25zICgke21lZXRpbmdJZH0pYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgQW5ub3RhdGlvbnMgKGFsbCknKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgQW5ub3RhdGlvbnMgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IEFubm90YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZUFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHNoYXBlSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKHNoYXBlSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgICBpZDogc2hhcGVJZCxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQW5ub3RhdGlvbnMucmVtb3ZlKHNlbGVjdG9yKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFJlbW92ZWQgYW5ub3RhdGlvbiBpZD0ke3NoYXBlSWR9IHdoaXRlYm9hcmQ9JHt3aGl0ZWJvYXJkSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIGFubm90YXRpb24gZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBoYW5kbGVXaGl0ZWJvYXJkQ2xlYXJlZCBmcm9tICcuL2hhbmRsZXJzL3doaXRlYm9hcmRDbGVhcmVkJztcbmltcG9ydCBoYW5kbGVXaGl0ZWJvYXJkVW5kbyBmcm9tICcuL2hhbmRsZXJzL3doaXRlYm9hcmRVbmRvJztcbmltcG9ydCBoYW5kbGVXaGl0ZWJvYXJkU2VuZCBmcm9tICcuL2hhbmRsZXJzL3doaXRlYm9hcmRTZW5kJztcbmltcG9ydCBoYW5kbGVXaGl0ZWJvYXJkQW5ub3RhdGlvbnMgZnJvbSAnLi9oYW5kbGVycy93aGl0ZWJvYXJkQW5ub3RhdGlvbnMnO1xuXG5SZWRpc1B1YlN1Yi5vbignQ2xlYXJXaGl0ZWJvYXJkRXZ0TXNnJywgaGFuZGxlV2hpdGVib2FyZENsZWFyZWQpO1xuUmVkaXNQdWJTdWIub24oJ1VuZG9XaGl0ZWJvYXJkRXZ0TXNnJywgaGFuZGxlV2hpdGVib2FyZFVuZG8pO1xuUmVkaXNQdWJTdWIub24oJ1NlbmRXaGl0ZWJvYXJkQW5ub3RhdGlvbkV2dE1zZycsIGhhbmRsZVdoaXRlYm9hcmRTZW5kKTtcblJlZGlzUHViU3ViLm9uKCdHZXRXaGl0ZWJvYXJkQW5ub3RhdGlvbnNSZXNwTXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVXaGl0ZWJvYXJkQW5ub3RhdGlvbnMpKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHVuZG9Bbm5vdGF0aW9uIGZyb20gJy4vbWV0aG9kcy91bmRvQW5ub3RhdGlvbic7XG5pbXBvcnQgY2xlYXJXaGl0ZWJvYXJkIGZyb20gJy4vbWV0aG9kcy9jbGVhcldoaXRlYm9hcmQnO1xuaW1wb3J0IHNlbmRBbm5vdGF0aW9uIGZyb20gJy4vbWV0aG9kcy9zZW5kQW5ub3RhdGlvbic7XG5pbXBvcnQgc2VuZEJ1bGtBbm5vdGF0aW9ucyBmcm9tICcuL21ldGhvZHMvc2VuZEJ1bGtBbm5vdGF0aW9ucyc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgdW5kb0Fubm90YXRpb24sXG4gIGNsZWFyV2hpdGVib2FyZCxcbiAgc2VuZEFubm90YXRpb24sXG4gIHNlbmRCdWxrQW5ub3RhdGlvbnMsXG59KTtcbiIsImltcG9ydCBBbm5vdGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gYW5ub3RhdGlvbnMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gQW5ub3RhdGlvbnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBBbm5vdGF0aW9ucycsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIEFubm90YXRpb25zLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZEFubm90YXRpb25zID0gYW5ub3RhdGlvbnMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kQW5ub3RhdGlvbnMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdhbm5vdGF0aW9ucycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpIHtcbiAgTG9nZ2VyLmluZm8oYFJlbW92aW5nIEFubm90YXRpb25zIHN0cmVhbWVyIG9iamVjdCBmb3IgbWVldGluZyAke21lZXRpbmdJZH1gKTtcbiAgZGVsZXRlIE1ldGVvci5TdHJlYW1lckNlbnRyYWwuaW5zdGFuY2VzW2Bhbm5vdGF0aW9ucy0ke21lZXRpbmdJZH1gXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKSB7XG4gIGNvbnN0IHN0cmVhbWVyID0gbmV3IE1ldGVvci5TdHJlYW1lcihgYW5ub3RhdGlvbnMtJHttZWV0aW5nSWR9YCwgeyByZXRyYW5zbWl0OiBmYWxzZSB9KTtcblxuICBzdHJlYW1lci5hbGxvd1JlYWQoZnVuY3Rpb24gYWxsb3dSZWFkKCkge1xuICAgIGlmICghdGhpcy51c2VySWQpIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0aGlzLnVzZXJJZCAmJiB0aGlzLnVzZXJJZC5pbmNsdWRlcyhtZWV0aW5nSWQpO1xuICB9KTtcblxuICBzdHJlYW1lci5hbGxvd1dyaXRlKGZ1bmN0aW9uIGFsbG93V3JpdGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0KG1lZXRpbmdJZCkge1xuICByZXR1cm4gTWV0ZW9yLlN0cmVhbWVyQ2VudHJhbC5pbnN0YW5jZXNbYGFubm90YXRpb25zLSR7bWVldGluZ0lkfWBdO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5jb25zdCBBTk5PVEFUSU9OX1RZUEVfVEVYVCA9ICd0ZXh0JztcbmNvbnN0IEFOTk9UQVRJT05fVFlQRV9QRU5DSUwgPSAncGVuY2lsJztcblxuLy8gbGluZSwgdHJpYW5nbGUsIGVsbGlwc2UsIHJlY3RhbmdsZVxuZnVuY3Rpb24gaGFuZGxlQ29tbW9uQW5ub3RhdGlvbihtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKSB7XG4gIGNvbnN0IHtcbiAgICBpZCwgc3RhdHVzLCBhbm5vdGF0aW9uVHlwZSwgYW5ub3RhdGlvbkluZm8sIHdiSWQsIHBvc2l0aW9uLFxuICB9ID0gYW5ub3RhdGlvbjtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHdoaXRlYm9hcmRJZCxcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIGlkLFxuICAgICAgc3RhdHVzLFxuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICBhbm5vdGF0aW9uSW5mbyxcbiAgICAgIHdiSWQsXG4gICAgfSxcbiAgICAkc2V0T25JbnNlcnQ6IHtcbiAgICAgIHBvc2l0aW9uLFxuICAgIH0sXG4gICAgJGluYzogeyB2ZXJzaW9uOiAxIH0sXG4gIH07XG5cbiAgcmV0dXJuIHsgc2VsZWN0b3IsIG1vZGlmaWVyIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRleHRVcGRhdGUobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbikge1xuICBjb25zdCB7XG4gICAgaWQsIHN0YXR1cywgYW5ub3RhdGlvblR5cGUsIGFubm90YXRpb25JbmZvLCB3YklkLCBwb3NpdGlvbixcbiAgfSA9IGFubm90YXRpb247XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGlkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBhbm5vdGF0aW9uSW5mby50ZXh0ID0gYW5ub3RhdGlvbkluZm8udGV4dC5yZXBsYWNlKC9bXFxyXS9nLCAnXFxuJyk7XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgd2hpdGVib2FyZElkLFxuICAgICAgbWVldGluZ0lkLFxuICAgICAgaWQsXG4gICAgICBzdGF0dXMsXG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgIGFubm90YXRpb25JbmZvLFxuICAgICAgd2JJZCxcbiAgICB9LFxuICAgICRzZXRPbkluc2VydDoge1xuICAgICAgcG9zaXRpb24sXG4gICAgfSxcbiAgICAkaW5jOiB7IHZlcnNpb246IDEgfSxcbiAgfTtcblxuICByZXR1cm4geyBzZWxlY3RvciwgbW9kaWZpZXIgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUGVuY2lsVXBkYXRlKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24pIHtcbiAgY29uc3QgRFJBV19TVEFSVCA9ICdEUkFXX1NUQVJUJztcbiAgY29uc3QgRFJBV19VUERBVEUgPSAnRFJBV19VUERBVEUnO1xuICBjb25zdCBEUkFXX0VORCA9ICdEUkFXX0VORCc7XG5cbiAgY29uc3Qge1xuICAgIGlkLCBzdGF0dXMsIGFubm90YXRpb25UeXBlLCBhbm5vdGF0aW9uSW5mbywgd2JJZCwgcG9zaXRpb24sXG4gIH0gPSBhbm5vdGF0aW9uO1xuXG4gIGNvbnN0IGJhc2VTZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaWQsXG4gICAgdXNlcklkLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgfTtcblxuICBsZXQgYmFzZU1vZGlmaWVyO1xuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgRFJBV19TVEFSVDpcbiAgICAgIC8vIG9uIHN0YXJ0IHdlIHNwbGl0IHRoZSBwb2ludHNcblxuICAgICAgLy8gY3JlYXRlIHRoZSAncGVuY2lsX2Jhc2UnXG4gICAgICAvLyBUT0RPOiBmaW5kIGFuZCByZW1vdmVkIHVudXNlZCBwcm9wcyAoY2h1bmtzLCB2ZXJzaW9uLCBldGMpXG4gICAgICBiYXNlTW9kaWZpZXIgPSB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICAgIHdoaXRlYm9hcmRJZCxcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICAgICAgYW5ub3RhdGlvbkluZm8sXG4gICAgICAgICAgd2JJZCxcbiAgICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRFJBV19VUERBVEU6XG4gICAgICBiYXNlTW9kaWZpZXIgPSB7XG4gICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgJ2Fubm90YXRpb25JbmZvLnBvaW50cyc6IHsgJGVhY2g6IGFubm90YXRpb25JbmZvLnBvaW50cyB9LFxuICAgICAgICB9LFxuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICB9LFxuICAgICAgICAkaW5jOiB7IHZlcnNpb246IDEgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIERSQVdfRU5EOlxuICAgICAgLy8gVXBkYXRpbmcgdGhlIG1haW4gcGVuY2lsIG9iamVjdCB3aXRoIHRoZSBmaW5hbCBpbmZvXG4gICAgICBiYXNlTW9kaWZpZXIgPSB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICB3aGl0ZWJvYXJkSWQsXG4gICAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgICAgICBhbm5vdGF0aW9uSW5mbyxcbiAgICAgICAgICB3YklkLFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICB9LFxuICAgICAgICAkaW5jOiB7IHZlcnNpb246IDEgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4geyBzZWxlY3RvcjogYmFzZVNlbGVjdG9yLCBtb2RpZmllcjogYmFzZU1vZGlmaWVyIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZEFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcbiAgY2hlY2soYW5ub3RhdGlvbiwgT2JqZWN0KTtcblxuICBzd2l0Y2ggKGFubm90YXRpb24uYW5ub3RhdGlvblR5cGUpIHtcbiAgICBjYXNlIEFOTk9UQVRJT05fVFlQRV9URVhUOlxuICAgICAgcmV0dXJuIGhhbmRsZVRleHRVcGRhdGUobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG4gICAgY2FzZSBBTk5PVEFUSU9OX1RZUEVfUEVOQ0lMOlxuICAgICAgcmV0dXJuIGhhbmRsZVBlbmNpbFVwZGF0ZShtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGhhbmRsZUNvbW1vbkFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBBbm5vdGF0aW9ucyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdhbm5vdGF0aW9ucycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBhbm5vdGF0aW9ucyAgKFRvdGFsKTpcbiAgLy8gMS4gbWVldGluZ0lkLCBpZCwgdXNlcklkICAgICAgICAgICAgICAgKCA4IClcbiAgLy8gMi4gbWVldGluZ0lkLCBpZCwgdXNlcklkLCB3aGl0ZWJvYXJkSWQgKCAxIClcbiAgLy8gMy4gbWVldGluZ0lkICAgICAgICAgICAgICAgICAgICAgICAgICAgKCAxIClcbiAgLy8gNC4gbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQgICAgICAgICAgICAgKCAxIClcbiAgLy8gNS4gbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIGlkICAgICAgICAgKCAxIClcbiAgLy8gNi4gbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCAgICAgKCAxIClcbiAgLy8gVGhlc2UgMiBpbmRleGVzIHNlZW0gdG8gY292ZXIgYWxsIG9mIHRoZSBjYXNlc1xuXG4gIEFubm90YXRpb25zLl9lbnN1cmVJbmRleCh7IGlkOiAxIH0pO1xuICBBbm5vdGF0aW9ucy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHdoaXRlYm9hcmRJZDogMSwgdXNlcklkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBbm5vdGF0aW9ucztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjbGVhckJyZWFrb3V0cyBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJCcmVha291dHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVCcmVha291dENsb3NlZCh7IGJvZHkgfSkge1xuICBjb25zdCB7IGJyZWFrb3V0SWQgfSA9IGJvZHk7XG4gIGNoZWNrKGJyZWFrb3V0SWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGNsZWFyQnJlYWtvdXRzKGJyZWFrb3V0SWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQnJlYWtvdXRKb2luVVJMKHsgYm9keSB9KSB7XG4gIGNvbnN0IHtcbiAgICByZWRpcmVjdFRvSHRtbDVKb2luVVJMLFxuICAgIHVzZXJJZCxcbiAgICBicmVha291dElkLFxuICB9ID0gYm9keTtcblxuICBjaGVjayhyZWRpcmVjdFRvSHRtbDVKb2luVVJMLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIGJyZWFrb3V0SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHB1c2g6IHtcbiAgICAgIHVzZXJzOiB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgcmVkaXJlY3RUb0h0bWw1Sm9pblVSTCxcbiAgICAgICAgaW5zZXJ0ZWRUaW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCwgbnVtYmVyQWZmZWN0ZWQgfSA9IEJyZWFrb3V0cy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgYnJlYWtvdXQgaWQ9JHticmVha291dElkfWApO1xuICAgIH0gZWxzZSBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyBicmVha291dCB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVCcmVha291dFJvb21TdGFydGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgLy8gMCBzZWNvbmRzIGRlZmF1bHQgYnJlYWtvdXQgdGltZSwgZm9yY2VzIHVzZSBvZiByZWFsIGV4cGlyYXRpb24gdGltZVxuICBjb25zdCBERUZBVUxUX1RJTUVfUkVNQUlOSU5HID0gMDtcblxuICBjb25zdCB7XG4gICAgcGFyZW50TWVldGluZ0lkLFxuICAgIGJyZWFrb3V0LFxuICB9ID0gYm9keTtcblxuICBjb25zdCB7IGJyZWFrb3V0SWQgfSA9IGJyZWFrb3V0O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBicmVha291dElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIHVzZXJzOiBbXSxcbiAgICAgICAgam9pbmVkVXNlcnM6IFtdLFxuICAgICAgfSxcbiAgICAgIHsgdGltZVJlbWFpbmluZzogREVGQVVMVF9USU1FX1JFTUFJTklORyB9LFxuICAgICAgeyBwYXJlbnRNZWV0aW5nSWQgfSxcbiAgICAgIGZsYXQoYnJlYWtvdXQpLFxuICAgICksXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBCcmVha291dHMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKCdVcGRhdGVkIHRpbWVSZW1haW5pbmcgYW5kIGV4dGVybmFsTWVldGluZ0lkICdcbiAgICAgICAgKyBgZm9yIGJyZWFrb3V0IGlkPSR7YnJlYWtvdXRJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgdXBkYXRpbmcgYnJlYWtvdXQ6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBqb2luZWRVc2Vyc0NoYW5nZWQoeyBib2R5IH0pIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7XG4gICAgcGFyZW50SWQsXG4gICAgYnJlYWtvdXRJZCxcbiAgICB1c2VycyxcbiAgfSA9IGJvZHk7XG5cbiAgY2hlY2socGFyZW50SWQsIFN0cmluZyk7XG4gIGNoZWNrKGJyZWFrb3V0SWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJzLCBBcnJheSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgcGFyZW50TWVldGluZ0lkOiBwYXJlbnRJZCxcbiAgICBicmVha291dElkLFxuICB9O1xuXG4gIGNvbnN0IHVzZXJzTWFwcGVkID0gdXNlcnMubWFwKHVzZXIgPT4gKHsgdXNlcklkOiB1c2VyLmlkLCBuYW1lOiB1c2VyLm5hbWUgfSkpO1xuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBqb2luZWRVc2VyczogdXNlcnNNYXBwZWQsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQnJlYWtvdXRzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCBqb2luZWQgdXNlcnMgaW4gYnJlYWtvdXQgaWQ9JHticmVha291dElkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGB1cGRhdGluZyBqb2luZWQgdXNlcnMgaW4gYnJlYWtvdXQ6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVVcGRhdGVUaW1lUmVtYWluaW5nKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qge1xuICAgIHRpbWVSZW1haW5pbmcsXG4gIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodGltZVJlbWFpbmluZywgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBwYXJlbnRNZWV0aW5nSWQ6IG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICB0aW1lUmVtYWluaW5nLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICBtdWx0aTogdHJ1ZSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQnJlYWtvdXRzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIG9wdGlvbnMpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCBicmVha291dCB0aW1lIHJlbWFpbmluZyBmb3IgYnJlYWtvdXRzIHdoZXJlIHBhcmVudE1lZXRpbmdJZD0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgYnJlYWtvdXRzOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUJyZWFrb3V0Um9vbShyb29tcywgZHVyYXRpb25Jbk1pbnV0ZXMsIHJlY29yZCA9IGZhbHNlKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEJSRUFLT1VUX0xJTSA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMuYXBwLmJyZWFrb3V0Um9vbUxpbWl0O1xuICBjb25zdCBNSU5fQlJFQUtPVVRfUk9PTVMgPSAyO1xuICBjb25zdCBNQVhfQlJFQUtPVVRfUk9PTVMgPSBCUkVBS09VVF9MSU0gPiBNSU5fQlJFQUtPVVRfUk9PTVMgPyBCUkVBS09VVF9MSU0gOiBNSU5fQlJFQUtPVVRfUk9PTVM7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBldmVudE5hbWUgPSAnQ3JlYXRlQnJlYWtvdXRSb29tc0NtZE1zZyc7XG4gIGlmIChyb29tcy5sZW5ndGggPiBNQVhfQlJFQUtPVVRfUk9PTVMpIHtcbiAgICBMb2dnZXIuaW5mbyhgQXR0ZW1wdCB0byBjcmVhdGUgYnJlYWtvdXQgcm9vbXMgd2l0aCBpbnZhbGlkIG51bWJlciBvZiByb29tcyBpbiBtZWV0aW5nIGlkPSR7bWVldGluZ0lkfWApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHJlY29yZCxcbiAgICBkdXJhdGlvbkluTWludXRlcyxcbiAgICByb29tcyxcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBldmVudE5hbWUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbmRBbGxCcmVha291dHMoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlcXVlc3RlclVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBldmVudE5hbWUgPSAnRW5kQWxsQnJlYWtvdXRSb29tc01zZyc7XG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgZXZlbnROYW1lLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgbnVsbCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWVzdEpvaW5VUkwoeyBicmVha291dElkLCB1c2VySWQ6IHVzZXJJZFRvSW52aXRlIH0pIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHVzZXJJZCA9IHVzZXJJZFRvSW52aXRlIHx8IHJlcXVlc3RlclVzZXJJZDtcbiAgY29uc3QgZXZlbnROYW1lID0gJ1JlcXVlc3RCcmVha291dEpvaW5VUkxSZXFNc2cnO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoXG4gICAgQ0hBTk5FTCwgZXZlbnROYW1lLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCxcbiAgICB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBicmVha291dElkLFxuICAgICAgdXNlcklkLFxuICAgIH0sXG4gICk7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckJyZWFrb3V0cyhicmVha291dElkKSB7XG4gIGlmIChicmVha291dElkKSB7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgICBicmVha291dElkLFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBCcmVha291dHMucmVtb3ZlKHNlbGVjdG9yKTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIEJyZWFrb3V0cyAoJHticmVha291dElkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgQnJlYWtvdXRzICgke2JyZWFrb3V0SWR9KWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBCcmVha291dHMucmVtb3ZlKHt9KTtcbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBCcmVha291dHMgKGFsbCknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcignRXJyb3Igb24gY2xlYXJpbmcgQnJlYWtvdXRzIChhbGwpJyk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZUJyZWFrb3V0Sm9pblVSTCBmcm9tICcuL2hhbmRsZXJzL2JyZWFrb3V0Sm9pblVSTCc7XG5pbXBvcnQgaGFuZGxlQnJlYWtvdXRTdGFydGVkIGZyb20gJy4vaGFuZGxlcnMvYnJlYWtvdXRTdGFydGVkJztcbmltcG9ydCBoYW5kbGVVcGRhdGVUaW1lUmVtYWluaW5nIGZyb20gJy4vaGFuZGxlcnMvdXBkYXRlVGltZVJlbWFpbmluZyc7XG5pbXBvcnQgaGFuZGxlQnJlYWtvdXRDbG9zZWQgZnJvbSAnLi9oYW5kbGVycy9icmVha291dENsb3NlZCc7XG5pbXBvcnQgam9pbmVkVXNlcnNDaGFuZ2VkIGZyb20gJy4vaGFuZGxlcnMvam9pbmVkVXNlcnNDaGFuZ2VkJztcblxuUmVkaXNQdWJTdWIub24oJ0JyZWFrb3V0Um9vbVN0YXJ0ZWRFdnRNc2cnLCBoYW5kbGVCcmVha291dFN0YXJ0ZWQpO1xuUmVkaXNQdWJTdWIub24oJ0JyZWFrb3V0Um9vbUpvaW5VUkxFdnRNc2cnLCBoYW5kbGVCcmVha291dEpvaW5VUkwpO1xuUmVkaXNQdWJTdWIub24oJ1JlcXVlc3RCcmVha291dEpvaW5VUkxSZXNwTXNnJywgaGFuZGxlQnJlYWtvdXRKb2luVVJMKTtcblJlZGlzUHViU3ViLm9uKCdCcmVha291dFJvb21zVGltZVJlbWFpbmluZ1VwZGF0ZUV2dE1zZycsIGhhbmRsZVVwZGF0ZVRpbWVSZW1haW5pbmcpO1xuUmVkaXNQdWJTdWIub24oJ0JyZWFrb3V0Um9vbUVuZGVkRXZ0TXNnJywgaGFuZGxlQnJlYWtvdXRDbG9zZWQpO1xuUmVkaXNQdWJTdWIub24oJ1VwZGF0ZUJyZWFrb3V0VXNlcnNFdnRNc2cnLCBqb2luZWRVc2Vyc0NoYW5nZWQpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgY3JlYXRlQnJlYWtvdXRSb29tIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvY3JlYXRlQnJlYWtvdXQnO1xuaW1wb3J0IHJlcXVlc3RKb2luVVJMIGZyb20gJy4vbWV0aG9kcy9yZXF1ZXN0Sm9pblVSTCc7XG5pbXBvcnQgZW5kQWxsQnJlYWtvdXRzIGZyb20gJy4vbWV0aG9kcy9lbmRBbGxCcmVha291dHMnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHJlcXVlc3RKb2luVVJMLFxuICBjcmVhdGVCcmVha291dFJvb20sXG4gIGVuZEFsbEJyZWFrb3V0cyxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgUk9MRV9NT0RFUkFUT1IgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLnVzZXIucm9sZV9tb2RlcmF0b3I7XG5cbmZ1bmN0aW9uIGJyZWFrb3V0cyhyb2xlKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gQnJlYWtvdXRzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIEJyZWFrb3V0cycsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoeyB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCwgbWVldGluZ0lkIH0sIHsgZmllbGRzOiB7IHJvbGU6IDEgfSB9KTtcbiAgaWYgKCEhVXNlciAmJiBVc2VyLnJvbGUgPT09IFJPTEVfTU9ERVJBVE9SKSB7XG4gICAgY29uc3QgcHJlc2VudGVyU2VsZWN0b3IgPSB7XG4gICAgICAkb3I6IFtcbiAgICAgICAgeyBwYXJlbnRNZWV0aW5nSWQ6IG1lZXRpbmdJZCB9LFxuICAgICAgICB7IGJyZWFrb3V0SWQ6IG1lZXRpbmdJZCB9LFxuICAgICAgXSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJyZWFrb3V0cy5maW5kKHByZXNlbnRlclNlbGVjdG9yKTtcbiAgfVxuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgICRvcjogW1xuICAgICAge1xuICAgICAgICBwYXJlbnRNZWV0aW5nSWQ6IG1lZXRpbmdJZCxcbiAgICAgICAgZnJlZUpvaW46IHRydWUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBwYXJlbnRNZWV0aW5nSWQ6IG1lZXRpbmdJZCxcbiAgICAgICAgJ3VzZXJzLnVzZXJJZCc6IHJlcXVlc3RlclVzZXJJZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGJyZWFrb3V0SWQ6IG1lZXRpbmdJZCxcbiAgICAgIH0sXG4gICAgXSxcbiAgfTtcblxuICByZXR1cm4gQnJlYWtvdXRzLmZpbmQoc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRCcmVha291dHMgPSBicmVha291dHMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kQnJlYWtvdXRzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnYnJlYWtvdXRzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgQnJlYWtvdXRzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2JyZWFrb3V0cycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBicmVha291dHM6XG4gIC8vIDEuIGJyZWFrb3V0SWQgKCBoYW5kbGVKb2luVXJsLCByb29tU3RhcnRlZCwgY2xlYXJCcmVha291dHMgKVxuICAvLyAyLiBwYXJlbnRNZWV0aW5nSWQgKCB1cGRhdGVUaW1lUmVtYWluaW5nIClcblxuICBCcmVha291dHMuX2Vuc3VyZUluZGV4KHsgYnJlYWtvdXRJZDogMSB9KTtcbiAgQnJlYWtvdXRzLl9lbnN1cmVJbmRleCh7IHBhcmVudE1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQnJlYWtvdXRzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZldGNoUmVhZE9ubHlQYWRJZCBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvZmV0Y2hSZWFkT25seVBhZElkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUGFkQ3JlYXRlKHsgYm9keSB9KSB7XG4gIGNvbnN0IHsgcGFkIH0gPSBib2R5O1xuICBjb25zdCB7IGlkIH0gPSBwYWQ7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG5cbiAgZmV0Y2hSZWFkT25seVBhZElkKGlkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGdldERhdGFGcm9tQ2hhbmdlc2V0IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCB1cGRhdGVQYWQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlUGFkJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUGFkVXBkYXRlKHsgYm9keSB9KSB7XG4gIGNvbnN0IHsgcGFkLCByZXZzLCBjaGFuZ2VzZXQgfSA9IGJvZHk7XG4gIGNvbnN0IHsgaWQgfSA9IHBhZDtcblxuICBjaGVjayhpZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhbmdlc2V0LCBTdHJpbmcpO1xuICBjaGVjayhyZXZzLCBOdW1iZXIpO1xuXG4gIGNvbnN0IGRhdGEgPSBnZXREYXRhRnJvbUNoYW5nZXNldChjaGFuZ2VzZXQpO1xuXG4gIGlmIChkYXRhICE9PSAnJykge1xuICAgIHVwZGF0ZVBhZChpZCwgZGF0YSwgcmV2cyk7XG4gIH1cbn1cbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQge1xuICBnZW5lcmF0ZVBhZElkLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHtcbiAgYXBwZW5kVGV4dFVSTCxcbn0gZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFwcGVuZFRleHQodGV4dCwgbG9jYWxlKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHRleHQsIFN0cmluZyk7XG4gIGNoZWNrKGxvY2FsZSwgU3RyaW5nKTtcblxuICBjb25zdCBwYWRJZCA9IGdlbmVyYXRlUGFkSWQobWVldGluZ0lkLCBsb2NhbGUpO1xuXG4gIGF4aW9zKHtcbiAgICBtZXRob2Q6ICdnZXQnLFxuICAgIHVybDogYXBwZW5kVGV4dFVSTChwYWRJZCwgdGV4dCksXG4gICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0dXMgfSA9IHJlc3BvbnNlO1xuICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xuICAgICAgTG9nZ2VyLnZlcmJvc2UoJ0NhcHRpb25zOiBhcHBlbmRlZCB0ZXh0JywgeyBwYWRJZCB9KTtcbiAgICB9XG4gIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGFwcGVuZCBjYXB0aW9ucyBmb3IgcGFkSWQ9JHtwYWRJZH06ICR7ZXJyb3J9YCkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVQYWRJZCxcbiAgaXNFbmFibGVkLFxuICBnZXRMb2NhbGVzVVJMLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGFkZENhcHRpb24gZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvYWRkQ2FwdGlvbic7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVDYXB0aW9ucyhtZWV0aW5nSWQpIHtcbiAgLy8gQXZvaWQgY2FwdGlvbnMgY3JlYXRpb24gaWYgdGhpcyBmZWF0dXJlIGlzIGRpc2FibGVkXG4gIGlmICghaXNFbmFibGVkKCkpIHtcbiAgICBMb2dnZXIud2FybihgQ2FwdGlvbnMgYXJlIGRpc2FibGVkIGZvciAke21lZXRpbmdJZH1gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgYXhpb3Moe1xuICAgIG1ldGhvZDogJ2dldCcsXG4gICAgdXJsOiBnZXRMb2NhbGVzVVJMKCksXG4gICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0dXMgfSA9IHJlc3BvbnNlO1xuICAgIGlmIChzdGF0dXMgIT09IDIwMCkge1xuICAgICAgTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgZ2V0IGxvY2FsZXMgaW5mbyBmb3IgJHttZWV0aW5nSWR9ICR7c3RhdHVzfWApO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbGVzID0gcmVzcG9uc2UuZGF0YTtcbiAgICBsb2NhbGVzLmZvckVhY2goKGxvY2FsZSkgPT4ge1xuICAgICAgY29uc3QgcGFkSWQgPSBnZW5lcmF0ZVBhZElkKG1lZXRpbmdJZCwgbG9jYWxlLmxvY2FsZSk7XG4gICAgICBhZGRDYXB0aW9uKG1lZXRpbmdJZCwgcGFkSWQsIGxvY2FsZSk7XG4gICAgfSk7XG4gIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGNyZWF0ZSBjYXB0aW9ucyBmb3IgJHttZWV0aW5nSWR9OiAke2Vycm9yfWApKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5jb25zdCBnZXRJbmRleCA9IChkYXRhLCBsZW5ndGgpID0+IGxlbmd0aCAtIGRhdGEubGVuZ3RoO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlZGl0Q2FwdGlvbnMocGFkSWQsIGRhdGEpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdFZGl0Q2FwdGlvbkhpc3RvcnlQdWJNc2cnO1xuXG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhkYXRhLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBhZCA9IENhcHRpb25zLmZpbmRPbmUoeyBwYWRJZCB9KTtcblxuICBpZiAoIXBhZCkge1xuICAgIExvZ2dlci5lcnJvcihgRWRpdGluZyBjYXB0aW9ucyBoaXN0b3J5OiAke3BhZElkfWApO1xuICAgIHJldHVybjtcbiAgfVxuXG5cbiAgY29uc3Qge1xuICAgIG1lZXRpbmdJZCxcbiAgICBvd25lcklkLFxuICAgIGxvY2FsZSxcbiAgICBsZW5ndGgsXG4gIH0gPSBwYWQ7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhvd25lcklkLCBTdHJpbmcpO1xuICBjaGVjayhsb2NhbGUsIHsgbG9jYWxlOiBTdHJpbmcsIG5hbWU6IFN0cmluZyB9KTtcbiAgY2hlY2sobGVuZ3RoLCBOdW1iZXIpO1xuXG4gIGNvbnN0IGluZGV4ID0gZ2V0SW5kZXgoZGF0YSwgbGVuZ3RoKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHN0YXJ0SW5kZXg6IGluZGV4LFxuICAgIGxvY2FsZUNvZGU6IGxvY2FsZS5sb2NhbGUsXG4gICAgbG9jYWxlOiBsb2NhbGUubmFtZSxcbiAgICBlbmRJbmRleDogaW5kZXgsXG4gICAgdGV4dDogZGF0YSxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgb3duZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQge1xuICBnZXRSZWFkT25seUlkVVJMLFxuICBnZXREYXRhRnJvbVJlc3BvbnNlLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgdXBkYXRlUmVhZE9ubHlQYWRJZCBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy91cGRhdGVSZWFkT25seVBhZElkJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZldGNoUmVhZE9ubHlQYWRJZChwYWRJZCkge1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcblxuICBjb25zdCByZWFkT25seVVSTCA9IGdldFJlYWRPbmx5SWRVUkwocGFkSWQpO1xuICBheGlvcyh7XG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB1cmw6IHJlYWRPbmx5VVJMLFxuICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHJlYWRPbmx5UGFkSWQgPSBnZXREYXRhRnJvbVJlc3BvbnNlKHJlc3BvbnNlLmRhdGEsICdyZWFkT25seUlEJyk7XG4gICAgaWYgKHJlYWRPbmx5UGFkSWQpIHtcbiAgICAgIHVwZGF0ZVJlYWRPbmx5UGFkSWQocGFkSWQsIHJlYWRPbmx5UGFkSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgcGFkIHJlYWRPbmx5SUQgZm9yICR7cGFkSWR9YCk7XG4gICAgfVxuICB9KS5jYXRjaChlcnJvciA9PiBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgcGFkIHJlYWRPbmx5SUQgZm9yICR7cGFkSWR9OiAke2Vycm9yfWApKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IHVwZGF0ZU93bmVySWQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlT3duZXJJZCc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGFrZU93bmVyc2hpcChsb2NhbGUpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhsb2NhbGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGFkID0gQ2FwdGlvbnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgcGFkSWQ6IHsgJHJlZ2V4OiBgX2NhcHRpb25zXyR7bG9jYWxlfSRgIH0gfSk7XG5cbiAgaWYgKHBhZCkge1xuICAgIHVwZGF0ZU93bmVySWQobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBhZC5wYWRJZCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlZGl0Q2FwdGlvbnMobWVldGluZ0lkLCB1c2VySWQsIHBhZElkKSB7IC8vIFRPRE9cbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdVcGRhdGVDYXB0aW9uT3duZXJQdWJNc2cnO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYWQgPSBDYXB0aW9ucy5maW5kT25lKHsgbWVldGluZ0lkLCBwYWRJZCB9KTtcblxuICBpZiAoIXBhZCkge1xuICAgIExvZ2dlci5lcnJvcihgRWRpdGluZyBjYXB0aW9ucyBvd25lcjogJHtwYWRJZH1gKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7IGxvY2FsZSB9ID0gcGFkO1xuXG4gIGNoZWNrKGxvY2FsZSwgeyBsb2NhbGU6IFN0cmluZywgbmFtZTogU3RyaW5nIH0pO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgb3duZXJJZDogdXNlcklkLFxuICAgIGxvY2FsZTogbG9jYWxlLm5hbWUsXG4gICAgbG9jYWxlQ29kZTogbG9jYWxlLmxvY2FsZSxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRDYXB0aW9uKG1lZXRpbmdJZCwgcGFkSWQsIGxvY2FsZSkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhsb2NhbGUsIHtcbiAgICBsb2NhbGU6IFN0cmluZyxcbiAgICBuYW1lOiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwYWRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcGFkSWQsXG4gICAgbG9jYWxlLFxuICAgIG93bmVySWQ6ICcnLFxuICAgIHJlYWRPbmx5UGFkSWQ6ICcnLFxuICAgIGRhdGE6ICcnLFxuICAgIHJldnM6IDAsXG4gICAgbGVuZ3RoOiAwLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkLCBudW1iZXJBZmZlY3RlZCB9ID0gQ2FwdGlvbnMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLnZlcmJvc2UoJ0NhcHRpb25zOiBhZGRlZCBsb2NhbGUnLCB7IGxvY2FsZTogbG9jYWxlLmxvY2FsZSwgbWVldGluZ0lkIH0pO1xuICAgIH0gZWxzZSBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci52ZXJib3NlKCdDYXB0aW9uczogdXBzZXJ0ZWQgbG9jYWxlJywgeyBsb2NhbGU6IGxvY2FsZS5sb2NhbGUsIG1lZXRpbmdJZCB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIGNhcHRpb24gdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckNhcHRpb25zKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQ2FwdGlvbnMucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgQ2FwdGlvbnMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgY2FwdGlvbnMgKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBDYXB0aW9ucy5yZW1vdmUoe30pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgQ2FwdGlvbnMgKGFsbCknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgY2FwdGlvbnMgKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IENhcHRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgdXBkYXRlT3duZXIgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL3VwZGF0ZU93bmVyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlT3duZXJJZChtZWV0aW5nSWQsIHVzZXJJZCwgcGFkSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwYWRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBvd25lcklkOiB1c2VySWQsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQ2FwdGlvbnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgeyBtdWx0aTogdHJ1ZSB9KTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgdXBkYXRlT3duZXIobWVldGluZ0lkLCB1c2VySWQsIHBhZElkKTtcbiAgICAgIExvZ2dlci52ZXJib3NlKCdDYXB0aW9uczogdXBkYXRlZCBjYXB0aW9uJywgeyBwYWRJZCwgb3duZXJJZDogdXNlcklkIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKCdDYXB0aW9uczogZXJyb3Igd2hpbGUgdXBkYXRpbmcgcGFkJywgeyBlcnIgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGVkaXRDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvZWRpdENhcHRpb25zJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlUGFkKHBhZElkLCBkYXRhLCByZXZzKSB7XG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhkYXRhLCBTdHJpbmcpO1xuICBjaGVjayhyZXZzLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHBhZElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGRhdGEsXG4gICAgICByZXZzLFxuICAgIH0sXG4gICAgJGluYzoge1xuICAgICAgbGVuZ3RoOiBkYXRhLmxlbmd0aCxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBDYXB0aW9ucy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCB7IG11bHRpOiB0cnVlIH0pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBlZGl0Q2FwdGlvbnMocGFkSWQsIGRhdGEsIHJldnMpO1xuICAgICAgTG9nZ2VyLnZlcmJvc2UoJ0NhcHRpb25zOiB1cGRhdGVkIHBhZCcsIHsgcGFkSWQsIHJldnMgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIGNhcHRpb25zIHBhZDogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVSZWFkT25seVBhZElkKHBhZElkLCByZWFkT25seVBhZElkKSB7XG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhyZWFkT25seVBhZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHBhZElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHJlYWRPbmx5UGFkSWQsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gQ2FwdGlvbnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgeyBtdWx0aTogdHJ1ZSB9KTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLnZlcmJvc2UoJ0NhcHRpb25zOiBhZGRlZCByZWFkT25seVBhZElkJywgeyBwYWRJZCwgcmVhZE9ubHlQYWRJZCB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcignQ2FwdGlvbnM6IGVycm9yIHdoZW4gYWRkaW5nIHJlYWRPbmx5UGFkSWQnLCB7IGVyciB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IHByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZVBhZENyZWF0ZSBmcm9tICcuL2hhbmRsZXJzL3BhZENyZWF0ZSc7XG5pbXBvcnQgaGFuZGxlUGFkVXBkYXRlIGZyb20gJy4vaGFuZGxlcnMvcGFkVXBkYXRlJztcblxuUmVkaXNQdWJTdWIub24oJ1BhZENyZWF0ZVN5c01zZycsIHByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkoaGFuZGxlUGFkQ3JlYXRlKSk7XG5SZWRpc1B1YlN1Yi5vbignUGFkVXBkYXRlU3lzTXNnJywgcHJvY2Vzc0ZvckNhcHRpb25zUGFkT25seShoYW5kbGVQYWRVcGRhdGUpKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgaGFzaEZOVjMyYSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5jb25zdCBDQVBUSU9OU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNhcHRpb25zO1xuY29uc3QgQkFTRU5BTUUgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmFwcC5iYXNlbmFtZTtcbmNvbnN0IEFQUCA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLmFwcDtcbmNvbnN0IExPQ0FMRVNfVVJMID0gYGh0dHA6Ly8ke0FQUC5ob3N0fToke0FQUC5wb3J0fSR7QkFTRU5BTUV9JHtBUFAubG9jYWxlc1VybH1gO1xuY29uc3QgQ0FQVElPTlMgPSAnX2NhcHRpb25zXyc7XG5jb25zdCBUT0tFTiA9ICckJztcblxuLy8gQ2FwdGlvbnMgcGFkSWQgc2hvdWxkIGxvb2sgbGlrZToge3BhZElkfV9jYXB0aW9uc197bG9jYWxlfVxuY29uc3QgZ2VuZXJhdGVQYWRJZCA9IChtZWV0aW5nSWQsIGxvY2FsZSkgPT4ge1xuICBjb25zdCBwYWRJZCA9IGAke2hhc2hGTlYzMmEobWVldGluZ0lkLCB0cnVlKX0ke0NBUFRJT05TfSR7bG9jYWxlfWA7XG4gIHJldHVybiBwYWRJZDtcbn07XG5cbmNvbnN0IGlzQ2FwdGlvbnNQYWQgPSAocGFkSWQpID0+IHtcbiAgY29uc3Qgc3BsaXRQYWRJZCA9IHBhZElkLnNwbGl0KENBUFRJT05TKTtcbiAgcmV0dXJuIHNwbGl0UGFkSWQubGVuZ3RoID09PSAyO1xufTtcblxuY29uc3QgZ2V0RGF0YUZyb21DaGFuZ2VzZXQgPSAoY2hhbmdlc2V0KSA9PiB7XG4gIGNvbnN0IHNwbGl0Q2hhbmdlc2V0ID0gY2hhbmdlc2V0LnNwbGl0KFRPS0VOKTtcbiAgaWYgKHNwbGl0Q2hhbmdlc2V0Lmxlbmd0aCA+IDEpIHtcbiAgICBzcGxpdENoYW5nZXNldC5zaGlmdCgpO1xuICAgIHJldHVybiBzcGxpdENoYW5nZXNldC5qb2luKFRPS0VOKTtcbiAgfVxuICByZXR1cm4gJyc7XG59O1xuXG5jb25zdCBpc0VuYWJsZWQgPSAoKSA9PiBDQVBUSU9OU19DT05GSUcuZW5hYmxlZDtcblxuY29uc3QgZ2V0TG9jYWxlc1VSTCA9ICgpID0+IExPQ0FMRVNfVVJMO1xuXG5jb25zdCBwcm9jZXNzRm9yQ2FwdGlvbnNQYWRPbmx5ID0gZm4gPT4gKG1lc3NhZ2UsIC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgeyBib2R5IH0gPSBtZXNzYWdlO1xuICBjb25zdCB7IHBhZCB9ID0gYm9keTtcbiAgY29uc3QgeyBpZCB9ID0gcGFkO1xuXG4gIGNoZWNrKGlkLCBTdHJpbmcpO1xuXG4gIGlmIChpc0NhcHRpb25zUGFkKGlkKSkgcmV0dXJuIGZuKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICByZXR1cm4gKCkgPT4ge307XG59O1xuXG5leHBvcnQge1xuICBnZW5lcmF0ZVBhZElkLFxuICBwcm9jZXNzRm9yQ2FwdGlvbnNQYWRPbmx5LFxuICBpc0VuYWJsZWQsXG4gIGdldExvY2FsZXNVUkwsXG4gIGdldERhdGFGcm9tQ2hhbmdlc2V0LFxufTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHRha2VPd25lcnNoaXAgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL3Rha2VPd25lcnNoaXAnO1xuaW1wb3J0IGFwcGVuZFRleHQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2FwcGVuZFRleHQnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHRha2VPd25lcnNoaXAsXG4gIGFwcGVuZFRleHQsXG59KTtcbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gY2FwdGlvbnMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gQ2FwdGlvbnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBDYXB0aW9ucycsIHsgbWVldGluZ0lkIH0pO1xuXG4gIHJldHVybiBDYXB0aW9ucy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRDYXB0aW9ucyA9IGNhcHRpb25zLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZENhcHRpb25zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnY2FwdGlvbnMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBDYXB0aW9ucyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdjYXB0aW9ucycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIENhcHRpb25zLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgcGFkSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcHRpb25zO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IEN1cnNvclN0cmVhbWVyIGZyb20gJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmNvbnN0IHsgc3RyZWFtZXJMb2cgfSA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnNlcnZlckxvZztcblxuY29uc3QgQ1VSU09SX1BST0NDRVNTX0lOVEVSVkFMID0gMzA7XG5cbmNvbnN0IGN1cnNvclF1ZXVlID0ge307XG5cbmNvbnN0IHByb2NjZXNzID0gXy50aHJvdHRsZSgoKSA9PiB7XG4gIHRyeSB7XG4gICAgT2JqZWN0LmtleXMoY3Vyc29yUXVldWUpLmZvckVhY2goKG1lZXRpbmdJZCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY3Vyc29ycyA9IGN1cnNvclF1ZXVlW21lZXRpbmdJZF07XG4gICAgICAgIGRlbGV0ZSBjdXJzb3JRdWV1ZVttZWV0aW5nSWRdO1xuICAgICAgICBDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ21lc3NhZ2UnLCB7IG1lZXRpbmdJZCwgY3Vyc29ycyB9KTtcblxuICAgICAgICAvLyBpZiAoc3RyZWFtZXJMb2cpIHtcbiAgICAgICAgLy8gICBMb2dnZXIuZGVidWcoJ0N1cnNvclVwZGF0ZSBwcm9jZXNzIGhhcyBmaW5pc2hlZCcsIHsgbWVldGluZ0lkIH0pO1xuICAgICAgICAvLyB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHdoaWxlIHRyeWluZyB0byBzZW5kIGN1cnNvciBzdHJlYW1lciBkYXRhIGZvciBtZWV0aW5nICR7bWVldGluZ0lkfS4gJHtlcnJvcn1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHdoaWxlIHByb2Nlc3NpbmcgY3Vyc29yIHF1ZXVlLiAke2Vycm9yfWApO1xuICB9XG59LCBDVVJTT1JfUFJPQ0NFU1NfSU5URVJWQUwpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVDdXJzb3JVcGRhdGUoeyBoZWFkZXIsIGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcklkIH0gPSBoZWFkZXI7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgaWYgKCFjdXJzb3JRdWV1ZVttZWV0aW5nSWRdKSB7XG4gICAgY3Vyc29yUXVldWVbbWVldGluZ0lkXSA9IHt9O1xuICB9XG5cbiAgLy8gb3ZlcndyaXRlIHNpbmNlIHdlIGRvbnQgY2FyZSBhYm91dCB0aGUgb3RoZXIgcG9zaXRpb25zXG4gIGN1cnNvclF1ZXVlW21lZXRpbmdJZF1bdXNlcklkXSA9IGJvZHk7XG5cbiAgcHJvY2Nlc3MoKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHVibGlzaEN1cnNvclVwZGF0ZShtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NlbmRDdXJzb3JQb3NpdGlvblB1Yk1zZyc7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZUN1cnNvclVwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL2N1cnNvclVwZGF0ZSc7XG5cblJlZGlzUHViU3ViLm9uKCdTZW5kQ3Vyc29yUG9zaXRpb25FdnRNc2cnLCBoYW5kbGVDdXJzb3JVcGRhdGUpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgcHVibGlzaEN1cnNvclVwZGF0ZSBmcm9tICcuL21ldGhvZHMvcHVibGlzaEN1cnNvclVwZGF0ZSc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcHVibGlzaEN1cnNvclVwZGF0ZSxcbn0pO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHB1Ymxpc2hDdXJzb3JVcGRhdGUgZnJvbSAnLi9tZXRob2RzL3B1Ymxpc2hDdXJzb3JVcGRhdGUnO1xuXG5jb25zdCB7IHN0cmVhbWVyTG9nIH0gPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5zZXJ2ZXJMb2c7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpIHtcbiAgTG9nZ2VyLmluZm8oYFJlbW92aW5nIEN1cnNvciBzdHJlYW1lciBvYmplY3QgZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG4gIGRlbGV0ZSBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tgY3Vyc29yLSR7bWVldGluZ0lkfWBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3Vyc29yU3RyZWFtZXIobWVldGluZ0lkKSB7XG4gIGNvbnN0IHN0cmVhbWVyID0gbmV3IE1ldGVvci5TdHJlYW1lcihgY3Vyc29yLSR7bWVldGluZ0lkfWAsIHsgcmV0cmFuc21pdDogZmFsc2UgfSk7XG4gIGlmIChzdHJlYW1lckxvZykge1xuICAgIExvZ2dlci5kZWJ1ZygnQ3Vyc29yIHN0cmVhbWVyIGNyZWF0ZWQnLCB7IG1lZXRpbmdJZCB9KTtcbiAgfVxuXG4gIHN0cmVhbWVyLmFsbG93UmVhZChmdW5jdGlvbiBhbGxvd1JlYWQoKSB7XG4gICAgaWYgKHN0cmVhbWVyTG9nKSB7XG4gICAgICBMb2dnZXIuZGVidWcoJ0N1cnNvciBzdHJlYW1lciBjYWxsZWQgYWxsb3dSZWFkJywgeyB1c2VySWQ6IHRoaXMudXNlcklkLCBtZWV0aW5nSWQgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVzZXJJZCAmJiB0aGlzLnVzZXJJZC5pbmNsdWRlcyhtZWV0aW5nSWQpO1xuICB9KTtcblxuICBzdHJlYW1lci5hbGxvd1dyaXRlKGZ1bmN0aW9uIGFsbG93V3JpdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlcklkICYmIHRoaXMudXNlcklkLmluY2x1ZGVzKG1lZXRpbmdJZCk7XG4gIH0pO1xuXG4gIHN0cmVhbWVyLm9uKCdwdWJsaXNoJywgKG1lc3NhZ2UpID0+IHtcbiAgICBwdWJsaXNoQ3Vyc29yVXBkYXRlKG1lZXRpbmdJZCwgbWVzc2FnZS51c2VySWQsIG1lc3NhZ2UucGF5bG9hZCk7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXQobWVldGluZ0lkKSB7XG4gIHJldHVybiBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tgY3Vyc29yLSR7bWVldGluZ0lkfWBdO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlc3Ryb3lFeHRlcm5hbFZpZGVvKG1lZXRpbmdJZCkge1xuICBjb25zdCBzdHJlYW1OYW1lID0gYGV4dGVybmFsLXZpZGVvcy0ke21lZXRpbmdJZH1gO1xuXG4gIGlmIChNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tzdHJlYW1OYW1lXSkge1xuICAgIExvZ2dlci5pbmZvKGBEZXN0cm95aW5nIEV4dGVybmFsIFZpZGVvIHN0cmVhbWVyIG9iamVjdCBmb3IgJHtzdHJlYW1OYW1lfWApO1xuICAgIGRlbGV0ZSBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tzdHJlYW1OYW1lXTtcbiAgfVxufVxuIiwiaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW1pdEV4dGVybmFsVmlkZW9FdmVudChtZXNzYWdlTmFtZSwgLi4ucmVzdCkge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoeyB1c2VySWQsIG1lZXRpbmdJZCB9KTtcblxuICBpZiAodXNlciAmJiB1c2VyLnByZXNlbnRlcikge1xuICAgIGNvbnN0IHN0cmVhbWVyTmFtZSA9IGBleHRlcm5hbC12aWRlb3MtJHttZWV0aW5nSWR9YDtcbiAgICBjb25zdCBzdHJlYW1lciA9IE1ldGVvci5TdHJlYW1lckNlbnRyYWwuaW5zdGFuY2VzW3N0cmVhbWVyTmFtZV07XG5cbiAgICBpZiAoc3RyZWFtZXIpIHtcbiAgICAgIHN0cmVhbWVyLmVtaXQobWVzc2FnZU5hbWUsIC4uLnJlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEV4dGVybmFsIFZpZGVvIFN0cmVhbWVyIG5vdCBmb3VuZCBmb3IgbWVldGluZ0lkOiAke21lZXRpbmdJZH0gdXNlcklkOiAke3VzZXJJZH1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5jb25zdCBhbGxvd1JlY2VudE1lc3NhZ2VzID0gKGV2ZW50TmFtZSwgbWVzc2FnZSkgPT4ge1xuICBjb25zdCB7XG4gICAgdXNlcklkLFxuICAgIG1lZXRpbmdJZCxcbiAgICB0aW1lLFxuICAgIHJhdGUsXG4gICAgc3RhdGUsXG4gIH0gPSBtZXNzYWdlO1xuXG4gIExvZ2dlci5kZWJ1ZygnRXh0ZXJuYWxWaWRlbyBTdHJlYW1lciBhdXRoIGFsbG93ZWQnLCB7dXNlcklkLCBtZWV0aW5nSWQsIGV2ZW50TmFtZSwgdGltZSwgcmF0ZSwgc3RhdGV9KTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0aWFsaXplRXh0ZXJuYWxWaWRlbygpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc3RyZWFtTmFtZSA9IGBleHRlcm5hbC12aWRlb3MtJHttZWV0aW5nSWR9YDtcbiAgaWYgKCFNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tzdHJlYW1OYW1lXSkge1xuICAgIGNvbnN0IHN0cmVhbWVyID0gbmV3IE1ldGVvci5TdHJlYW1lcihzdHJlYW1OYW1lKTtcbiAgICBzdHJlYW1lci5hbGxvd1JlYWQoJ2FsbCcpO1xuICAgIHN0cmVhbWVyLmFsbG93V3JpdGUoJ25vbmUnKTtcbiAgICBzdHJlYW1lci5hbGxvd0VtaXQoYWxsb3dSZWNlbnRNZXNzYWdlcyk7XG4gICAgTG9nZ2VyLmluZm8oYENyZWF0ZWQgRXh0ZXJuYWwgVmlkZW8gc3RyZWFtZXIgZm9yICR7c3RyZWFtTmFtZX1gKTtcbiAgfSBlbHNlIHtcbiAgICBMb2dnZXIuZGVidWcoJ0V4dGVybmFsIFZpZGVvIHN0cmVhbWVyIGlzIGFscmVhZHkgY3JlYXRlZCcsIHsgc3RyZWFtTmFtZSB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyhvcHRpb25zKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU3RhcnRFeHRlcm5hbFZpZGVvTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IHsgZXh0ZXJuYWxWaWRlb1VybCB9ID0gb3B0aW9ucztcblxuICB0cnkge1xuICAgIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gICAgY2hlY2soZXh0ZXJuYWxWaWRlb1VybCwgU3RyaW5nKTtcblxuICAgIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCB1c2VySWQsIHByZXNlbnRlcjogdHJ1ZSB9LCB7IHByZXNlbnRlcjogMSB9KTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBPbmx5IHByZXNlbnRlcnMgYXJlIGFsbG93ZWQgdG8gc3RhcnQgZXh0ZXJuYWwgdmlkZW8gZm9yIGEgbWVldGluZy4gbWVldGluZz0ke21lZXRpbmdJZH0gdXNlcklkPSR7dXNlcklkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIE1lZXRpbmdzLnVwZGF0ZSh7IG1lZXRpbmdJZCB9LCB7ICRzZXQ6IHsgZXh0ZXJuYWxWaWRlb1VybCB9IH0pO1xuXG4gICAgY29uc3QgcGF5bG9hZCA9IHsgZXh0ZXJuYWxWaWRlb1VybCB9O1xuXG4gICAgTG9nZ2VyLmluZm8oYFVzZXIgaWQ9JHt1c2VySWR9IHNoYXJpbmcgYW4gZXh0ZXJuYWwgdmlkZW86ICR7ZXh0ZXJuYWxWaWRlb1VybH0gZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG5cbiAgICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIHNoYXJpbmcgYW4gZXh0ZXJuYWwgdmlkZW86ICR7ZXh0ZXJuYWxWaWRlb1VybH0gJHtlcnJvcn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvKG9wdGlvbnMpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTdG9wRXh0ZXJuYWxWaWRlb01zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gdGhpcy51c2VySWQgPyBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpIDogb3B0aW9ucztcblxuICB0cnkge1xuICAgIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZXF1ZXN0ZXJVc2VySWQsIFN0cmluZyk7XG5cbiAgICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZSh7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgICAgIHByZXNlbnRlcjogdHJ1ZSxcbiAgICB9LCB7IHByZXNlbnRlcjogMSB9KTtcblxuICAgIGlmICh0aGlzLnVzZXJJZCAmJiAhdXNlcikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBPbmx5IHByZXNlbnRlcnMgYXJlIGFsbG93ZWQgdG8gc3RvcCBleHRlcm5hbCB2aWRlbyBmb3IgYSBtZWV0aW5nLiBtZWV0aW5nPSR7bWVldGluZ0lkfSB1c2VySWQ9JHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG4gICAgaWYgKCFtZWV0aW5nIHx8IG1lZXRpbmcuZXh0ZXJuYWxWaWRlb1VybCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgTWVldGluZ3MudXBkYXRlKHsgbWVldGluZ0lkIH0sIHsgJHNldDogeyBleHRlcm5hbFZpZGVvVXJsOiBudWxsIH0gfSk7XG4gICAgY29uc3QgcGF5bG9hZCA9IHt9O1xuXG4gICAgTG9nZ2VyLmluZm8oYFVzZXIgaWQ9JHtyZXF1ZXN0ZXJVc2VySWR9IHN0b3BwZWQgc2hhcmluZyBhbiBleHRlcm5hbCB2aWRlbyBmb3IgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcblxuICAgIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBzdG9wIHNoYXJpbmcgYW4gZXh0ZXJuYWwgdmlkZW8gZm9yIG1lZXRpbmc9JHttZWV0aW5nSWR9ICR7ZXJyb3J9YCk7XG4gIH1cbn1cbiIsImltcG9ydCAnLi9tZXRob2RzJztcblxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgc3RhcnRXYXRjaGluZ0V4dGVybmFsVmlkZW8gZnJvbSAnLi9tZXRob2RzL3N0YXJ0V2F0Y2hpbmdFeHRlcm5hbFZpZGVvJztcbmltcG9ydCBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvIGZyb20gJy4vbWV0aG9kcy9zdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvJztcbmltcG9ydCBpbml0aWFsaXplRXh0ZXJuYWxWaWRlbyBmcm9tICcuL21ldGhvZHMvaW5pdGlhbGl6ZUV4dGVybmFsVmlkZW8nO1xuaW1wb3J0IGVtaXRFeHRlcm5hbFZpZGVvRXZlbnQgZnJvbSAnLi9tZXRob2RzL2VtaXRFeHRlcm5hbFZpZGVvRXZlbnQnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGluaXRpYWxpemVFeHRlcm5hbFZpZGVvLFxuICBzdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyxcbiAgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyxcbiAgZW1pdEV4dGVybmFsVmlkZW9FdmVudCxcbn0pO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZEdyb3VwQ2hhdCBmcm9tICcuLi9tb2RpZmllcnMvYWRkR3JvdXBDaGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3JvdXBDaGF0Q3JlYXRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBhZGRHcm91cENoYXQobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXQgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdERlc3Ryb3llZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBhZGRHcm91cENoYXQobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXQgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdHMoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGNoYXRzIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdHMsIEFycmF5KTtcblxuICBjaGF0cy5mb3JFYWNoKGNoYXQgPT4gYWRkR3JvdXBDaGF0KG1lZXRpbmdJZCwgY2hhdCkpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgQ0hBVF9BQ0NFU1NfUFJJVkFURSB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0JztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVHcm91cENoYXQocmVjZWl2ZXIpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDcmVhdGVHcm91cENoYXRSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2socmVjZWl2ZXIsIE9iamVjdCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjb3JyZWxhdGlvbklkOiBgJHtyZXF1ZXN0ZXJVc2VySWR9LSR7RGF0ZS5ub3coKX1gLFxuICAgIG1zZzogW10sXG4gICAgdXNlcnM6IFtyZWNlaXZlci51c2VySWRdLFxuICAgIGFjY2VzczogQ0hBVF9BQ0NFU1NfUFJJVkFURSxcbiAgICBuYW1lOiByZWNlaXZlci5uYW1lLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwQ2hhdCgpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBldmVudE5hbWUgPSAnRGVzdHJveUdyb3VwQ2hhdFJlcU1zZyc7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgdGhpcyB0b2dldGhlciB3aXRoICM0OTg4XG4gICAgLy8gY2hhdHM6IEFycmF5W1N0cmluZ10sXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBldmVudE5hbWUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRHcm91cENoYXQobWVldGluZ0lkLCBjaGF0KSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdCwge1xuICAgIGlkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIGNoYXRJZDogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgICBjb3JyZWxhdGlvbklkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIG5hbWU6IFN0cmluZyxcbiAgICBhY2Nlc3M6IFN0cmluZyxcbiAgICBjcmVhdGVkQnk6IE9iamVjdCxcbiAgICB1c2VyczogQXJyYXksXG4gICAgbXNnOiBNYXRjaC5NYXliZShBcnJheSksXG4gIH0pO1xuXG4gIGNvbnN0IGNoYXREb2N1bWVudCA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgY2hhdElkOiBjaGF0LmNoYXRJZCB8fCBjaGF0LmlkLFxuICAgIG5hbWU6IGNoYXQubmFtZSxcbiAgICBhY2Nlc3M6IGNoYXQuYWNjZXNzLFxuICAgIHVzZXJzOiBjaGF0LnVzZXJzLm1hcCh1ID0+IHUuaWQpLFxuICAgIGNyZWF0ZWRCeTogY2hhdC5jcmVhdGVkQnkuaWQsXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgY2hhdElkOiBjaGF0RG9jdW1lbnQuY2hhdElkLFxuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBmbGF0KGNoYXREb2N1bWVudCwgeyBzYWZlOiB0cnVlIH0pLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBHcm91cENoYXQudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIGdyb3VwLWNoYXQgbmFtZT0ke2NoYXQubmFtZX0gbWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgZ3JvdXAtY2hhdCBuYW1lPSR7Y2hhdC5uYW1lfSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyBncm91cC1jaGF0IHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgR3JvdXBDaGF0IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjbGVhckdyb3VwQ2hhdE1zZyBmcm9tICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21vZGlmaWVycy9jbGVhckdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyR3JvdXBDaGF0KG1lZXRpbmdJZCkge1xuICB0cnkge1xuICAgIGNsZWFyR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCk7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBHcm91cENoYXQucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBHcm91cENoYXQgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgR3JvdXBDaGF0ICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVHcm91cENoYXRzIGZyb20gJy4vaGFuZGxlcnMvZ3JvdXBDaGF0cyc7XG5pbXBvcnQgaGFuZGxlR3JvdXBDaGF0Q3JlYXRlZCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdENyZWF0ZWQnO1xuaW1wb3J0IGhhbmRsZUdyb3VwQ2hhdERlc3Ryb3llZCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdERlc3Ryb3llZCc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cblJlZGlzUHViU3ViLm9uKCdHZXRHcm91cENoYXRzUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlR3JvdXBDaGF0cykpO1xuUmVkaXNQdWJTdWIub24oJ0dyb3VwQ2hhdENyZWF0ZWRFdnRNc2cnLCBoYW5kbGVHcm91cENoYXRDcmVhdGVkKTtcblJlZGlzUHViU3ViLm9uKCdHcm91cENoYXREZXN0cm95ZWRFdnRNc2cnLCBoYW5kbGVHcm91cENoYXREZXN0cm95ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRHcm91cENoYXRzUmVzcE1zZycsIGhhbmRsZUdyb3VwQ2hhdHMpO1xuIiwiaW1wb3J0ICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyJztcbmltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGNyZWF0ZUdyb3VwQ2hhdCBmcm9tICcuL21ldGhvZHMvY3JlYXRlR3JvdXBDaGF0JztcbmltcG9ydCBkZXN0cm95R3JvdXBDaGF0IGZyb20gJy4vbWV0aG9kcy9kZXN0cm95R3JvdXBDaGF0JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBjcmVhdGVHcm91cENoYXQsXG4gIGRlc3Ryb3lHcm91cENoYXQsXG59KTtcbiIsImltcG9ydCBHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBncm91cENoYXQoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gR3JvdXBDaGF0LmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19DSEFUX1RZUEUgPSBDSEFUX0NPTkZJRy50eXBlX3B1YmxpYztcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgZ3JvdXAtY2hhdCcsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIEdyb3VwQ2hhdC5maW5kKHtcbiAgICAkb3I6IFtcbiAgICAgIHsgbWVldGluZ0lkLCBhY2Nlc3M6IFBVQkxJQ19DSEFUX1RZUEUgfSxcbiAgICAgIHsgbWVldGluZ0lkLCB1c2VyczogeyAkYWxsOiBbcmVxdWVzdGVyVXNlcklkXSB9IH0sXG4gICAgXSxcblxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kR3JvdXBDaGF0ID0gZ3JvdXBDaGF0LmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZEdyb3VwQ2hhdCguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2dyb3VwLWNoYXQnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBHcm91cENoYXQgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignZ3JvdXAtY2hhdCcpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIEdyb3VwQ2hhdC5fZW5zdXJlSW5kZXgoe1xuICAgIG1lZXRpbmdJZDogMSwgY2hhdElkOiAxLCBhY2Nlc3M6IDEsIHVzZXJzOiAxLFxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgR3JvdXBDaGF0O1xuXG5jb25zdCBDSEFUX0FDQ0VTUyA9IHtcbiAgUFVCTElDOiAnUFVCTElDX0FDQ0VTUycsXG4gIFBSSVZBVEU6ICdQUklWQVRFX0FDQ0VTUycsXG59O1xuXG5leHBvcnQgY29uc3QgQ0hBVF9BQ0NFU1NfUFVCTElDID0gQ0hBVF9BQ0NFU1MuUFVCTElDO1xuZXhwb3J0IGNvbnN0IENIQVRfQUNDRVNTX1BSSVZBVEUgPSBDSEFUX0FDQ0VTUy5QUklWQVRFO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGNsZWFyR3JvdXBDaGF0TXNnIGZyb20gJy4uL21vZGlmaWVycy9jbGVhckdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyUHVibGljQ2hhdEhpc3RvcnkoeyBoZWFkZXIsIGJvZHkgfSkge1xuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gaGVhZGVyO1xuICBjb25zdCB7IGNoYXRJZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYXRJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gY2xlYXJHcm91cENoYXRNc2cobWVldGluZ0lkLCBjaGF0SWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBhZGRHcm91cENoYXRNc2cgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5pbXBvcnQgYWRkQnVsa0dyb3VwQ2hhdE1zZ3MgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEJ1bGtHcm91cENoYXRNc2dzJztcblxuY29uc3QgeyBidWZmZXJDaGF0SW5zZXJ0c01zIH0gPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG5cbmNvbnN0IG1zZ0J1ZmZlciA9IFtdO1xuXG5jb25zdCBidWxrRm4gPSBfLnRocm90dGxlKGFkZEJ1bGtHcm91cENoYXRNc2dzLCBidWZmZXJDaGF0SW5zZXJ0c01zKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3JvdXBDaGF0TXNnQnJvYWRjYXN0KHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBjaGF0SWQsIG1zZyB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYXRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobXNnLCBPYmplY3QpO1xuXG4gIGlmIChidWZmZXJDaGF0SW5zZXJ0c01zKSB7XG4gICAgbXNnQnVmZmVyLnB1c2goeyBtZWV0aW5nSWQsIGNoYXRJZCwgbXNnIH0pO1xuICAgIGJ1bGtGbihtc2dCdWZmZXIpO1xuICB9IGVsc2Uge1xuICAgIGFkZEdyb3VwQ2hhdE1zZyhtZWV0aW5nSWQsIGNoYXRJZCwgbXNnKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBzeW5jTWVldGluZ0NoYXRNc2dzIGZyb20gJy4uL21vZGlmaWVycy9zeW5jTWVldGluZ0NoYXRNc2dzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlU3luY0dyb3VwQ2hhdCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgY2hhdElkLCBtc2dzIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdElkLCBTdHJpbmcpO1xuICBjaGVjayhtc2dzLCBNYXRjaC5NYXliZShBcnJheSkpO1xuXG4gIHN5bmNNZWV0aW5nQ2hhdE1zZ3MobWVldGluZ0lkLCBjaGF0SWQsIG1zZ3MpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHN0YXJ0VHlwaW5nIGZyb20gJy4uL21vZGlmaWVycy9zdGFydFR5cGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJUeXBpbmcoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGNoYXRJZCwgdXNlcklkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgc3RhcnRUeXBpbmcobWVldGluZ0lkLCB1c2VySWQsIGNoYXRJZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSgpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDbGVhclB1YmxpY0NoYXRIaXN0b3J5UHViTXNnJztcbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19HUk9VUF9DSEFUX0lEID0gQ0hBVF9DT05GSUcucHVibGljX2dyb3VwX2lkO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjaGF0SWQ6IFBVQkxJQ19HUk9VUF9DSEFUX0lELFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IFJlZ2V4V2ViVXJsIGZyb20gJy9pbXBvcnRzL3V0aWxzL3JlZ2V4LXdlYnVybCc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgSFRNTF9TQUZFX01BUCA9IHtcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5OycsXG59O1xuXG5jb25zdCBwYXJzZU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICBsZXQgcGFyc2VkTWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnRyaW0oKTtcblxuICAvLyBSZXBsYWNlIDxici8+IHdpdGggXFxuXFxyXG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnJlcGxhY2UoLzxiclxccypbXFxcXC9dPz4vZ2ksICdcXG5cXHInKTtcblxuICAvLyBTYW5pdGl6ZS4gU2VlOiBodHRwOi8vc2hlYmFuZy5icmFuZG9ubWludGVybi5jb20vZm9vbHByb29mLWh0bWwtZXNjYXBpbmctaW4tamF2YXNjcmlwdC9cbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2UucmVwbGFjZSgvWzw+J1wiXS9nLCBjID0+IEhUTUxfU0FGRV9NQVBbY10pO1xuXG4gIC8vIFJlcGxhY2UgZmxhc2ggbGlua3MgdG8gZmxhc2ggdmFsaWQgb25lc1xuICBwYXJzZWRNZXNzYWdlID0gcGFyc2VkTWVzc2FnZS5yZXBsYWNlKFJlZ2V4V2ViVXJsLCBcIjxhIGhyZWY9J2V2ZW50OiQmJz48dT4kJjwvdT48L2E+XCIpO1xuXG4gIHJldHVybiBwYXJzZWRNZXNzYWdlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEdyb3VwQ2hhdE1zZyhjaGF0SWQsIG1lc3NhZ2UpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZW5kR3JvdXBDaGF0TWVzc2FnZU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhtZXNzYWdlLCBPYmplY3QpO1xuXG4gIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBwYXJzZU1lc3NhZ2UobWVzc2FnZS5tZXNzYWdlKTtcblxuICBtZXNzYWdlLm1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbXNnOiBtZXNzYWdlLFxuICAgIGNoYXRJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydFVzZXJUeXBpbmcoY2hhdElkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlclR5cGluZ1B1Yk1zZyc7XG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjaGF0SWQ6IGNoYXRJZCB8fCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCBzdG9wVHlwaW5nIGZyb20gJy4uL21vZGlmaWVycy9zdG9wVHlwaW5nJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdG9wVXNlclR5cGluZygpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCB1c2VyVHlwaW5nID0gVXNlcnNUeXBpbmcuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9KTtcblxuICBpZiAodXNlclR5cGluZyAmJiBtZWV0aW5nSWQgJiYgcmVxdWVzdGVyVXNlcklkKSB7XG4gICAgc3RvcFR5cGluZyhtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgdHJ1ZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdyb3VwQ2hhdE1zZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCB7IHBhcnNlTWVzc2FnZSB9IGZyb20gJy4vYWRkR3JvdXBDaGF0TXNnJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gYWRkQnVsa0dyb3VwQ2hhdE1zZ3MobXNncykge1xuICBpZiAoIW1zZ3MubGVuZ3RoKSByZXR1cm47XG5cbiAgY29uc3QgbWFwcGVkTXNncyA9IG1zZ3NcbiAgICAubWFwKCh7IGNoYXRJZCwgbWVldGluZ0lkLCBtc2cgfSkgPT4gKHtcbiAgICAgIF9pZDogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcbiAgICAgIC4uLm1zZyxcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIGNoYXRJZCxcbiAgICAgIG1lc3NhZ2U6IHBhcnNlTWVzc2FnZShtc2cubWVzc2FnZSksXG4gICAgICBzZW5kZXI6IG1zZy5zZW5kZXIuaWQsXG4gICAgfSkpXG4gICAgLm1hcChlbCA9PiBmbGF0KGVsLCB7IHNhZmU6IHRydWUgfSkpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZENvdW50IH0gPSBhd2FpdCBHcm91cENoYXRNc2cucmF3Q29sbGVjdGlvbigpLmluc2VydE1hbnkobWFwcGVkTXNncyk7XG4gICAgbXNncy5sZW5ndGggPSAwO1xuXG4gICAgaWYgKGluc2VydGVkQ291bnQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBJbnNlcnRlZCAke2luc2VydGVkQ291bnR9IG1lc3NhZ2VzYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGJ1bGsgaW5zZXJ0LiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgeyBNYXRjaCwgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgR3JvdXBDaGF0TXNnIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCB7IEJSRUFLX0xJTkUgfSBmcm9tICcvaW1wb3J0cy91dGlscy9saW5lRW5kaW5ncyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1lc3NhZ2UobWVzc2FnZSkge1xuICBsZXQgcGFyc2VkTWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XG5cbiAgLy8gUmVwbGFjZSBcXHIgYW5kIFxcbiB0byA8YnIvPlxuICBwYXJzZWRNZXNzYWdlID0gcGFyc2VkTWVzc2FnZS5yZXBsYWNlKC8oW14+XFxyXFxuXT8pKFxcclxcbnxcXG5cXHJ8XFxyfFxcbikvZywgYCQxJHtCUkVBS19MSU5FfSQyYCk7XG5cbiAgLy8gUmVwbGFjZSBmbGFzaCBsaW5rcyB0byBodG1sIHZhbGlkIG9uZXNcbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2Uuc3BsaXQoJzxhIGhyZWY9XFwnZXZlbnQ6Jykuam9pbignPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cXCcnKTtcbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2Uuc3BsaXQoJzxhIGhyZWY9XCJldmVudDonKS5qb2luKCc8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJyk7XG5cbiAgcmV0dXJuIHBhcnNlZE1lc3NhZ2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZEdyb3VwQ2hhdE1zZyhtZWV0aW5nSWQsIGNoYXRJZCwgbXNnKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdElkLCBTdHJpbmcpO1xuICBjaGVjayhtc2csIHtcbiAgICBpZDogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgICB0aW1lc3RhbXA6IE51bWJlcixcbiAgICBzZW5kZXI6IE9iamVjdCxcbiAgICBjb2xvcjogU3RyaW5nLFxuICAgIG1lc3NhZ2U6IFN0cmluZyxcbiAgICBjb3JyZWxhdGlvbklkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICB9KTtcblxuICBjb25zdCBtc2dEb2N1bWVudCA9IHtcbiAgICAuLi5tc2csXG4gICAgbWVldGluZ0lkLFxuICAgIGNoYXRJZCxcbiAgICBtZXNzYWdlOiBwYXJzZU1lc3NhZ2UobXNnLm1lc3NhZ2UpLFxuICAgIHNlbmRlcjogbXNnLnNlbmRlci5pZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IGZsYXQobXNnRG9jdW1lbnQsIHsgc2FmZTogdHJ1ZSB9KTtcblxuICB0cnkge1xuICAgIGNvbnN0IGluc2VydGVkSWQgPSBHcm91cENoYXRNc2cuaW5zZXJ0KG1vZGlmaWVyKTtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgZ3JvdXAtY2hhdC1tc2cgbXNnSWQ9JHttc2cuaWR9IGNoYXRJZD0ke2NoYXRJZH0gbWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBhZGRpbmcgZ3JvdXAtY2hhdC1tc2cgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdyb3VwQ2hhdE1zZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgYWRkR3JvdXBDaGF0TXNnIGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkKSB7XG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfQ0hBVF9TWVNURU1fSUQgPSBDSEFUX0NPTkZJRy5zeXN0ZW1fdXNlcmlkO1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcbiAgY29uc3QgQ0hBVF9DTEVBUl9NRVNTQUdFID0gQ0hBVF9DT05GSUcuc3lzdGVtX21lc3NhZ2VzX2tleXMuY2hhdF9jbGVhcjtcblxuICBpZiAoY2hhdElkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gR3JvdXBDaGF0TXNnLnJlbW92ZSh7IG1lZXRpbmdJZCwgY2hhdElkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgR3JvdXBDaGF0TXNnICgke21lZXRpbmdJZH0sICR7Y2hhdElkfSlgKTtcbiAgICAgICAgY29uc3QgY2xlYXJNc2cgPSB7XG4gICAgICAgICAgY29sb3I6ICcwJyxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgY29ycmVsYXRpb25JZDogYCR7UFVCTElDX0NIQVRfU1lTVEVNX0lEfS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICBzZW5kZXI6IHtcbiAgICAgICAgICAgIGlkOiBQVUJMSUNfQ0hBVF9TWVNURU1fSUQsXG4gICAgICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1lc3NhZ2U6IENIQVRfQ0xFQVJfTUVTU0FHRSxcbiAgICAgICAgfTtcbiAgICAgICAgYWRkR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgUFVCTElDX0dST1VQX0NIQVRfSUQsIGNsZWFyTXNnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgR3JvdXBDaGF0ICgke21lZXRpbmdJZH0sICR7Y2hhdElkfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBHcm91cENoYXRNc2cucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgR3JvdXBDaGF0TXNnICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIEdyb3VwQ2hhdE1zZyAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IEdyb3VwQ2hhdE1zZy5yZW1vdmUoeyBjaGF0SWQ6IHsgJGVxOiBQVUJMSUNfR1JPVVBfQ0hBVF9JRCB9IH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgR3JvdXBDaGF0TXNnIChhbGwpJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIEdyb3VwQ2hhdE1zZyAoYWxsKS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB7IFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCBzdG9wVHlwaW5nIGZyb20gJy4vc3RvcFR5cGluZyc7XG5cbmNvbnN0IFRZUElOR19USU1FT1VUID0gNTAwMDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRUeXBpbmcobWVldGluZ0lkLCB1c2VySWQsIGNoYXRJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHNlbGVjdG9yLCB7IGZpZWxkczogeyBuYW1lOiAxLCByb2xlOiAxIH0gfSk7XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgaXNUeXBpbmdUbzogY2hhdElkLFxuICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICB0aW1lOiAobmV3IERhdGUoKSksXG4gIH07XG5cbiAgY29uc3QgdHlwaW5nVXNlciA9IFVzZXJzVHlwaW5nLmZpbmRPbmUoc2VsZWN0b3IsIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHRpbWU6IDEsXG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKHR5cGluZ1VzZXIpIHtcbiAgICBpZiAobW9kaWZpZXIudGltZSAtIHR5cGluZ1VzZXIudGltZSA8PSBUWVBJTkdfVElNRU9VVCAtIDEwMCkgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBVc2Vyc1R5cGluZy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmRlYnVnKCdUeXBpbmcgaW5kaWNhdG9yIHVwZGF0ZScsIHsgdXNlcklkLCBjaGF0SWQgfSk7XG4gICAgICBNZXRlb3Iuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHN0b3BUeXBpbmcobWVldGluZ0lkLCB1c2VySWQpO1xuICAgICAgfSwgVFlQSU5HX1RJTUVPVVQpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBUeXBpbmcgaW5kaWNhdG9yIHVwZGF0ZSBlcnJvcjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RvcFR5cGluZyhtZWV0aW5nSWQsIHVzZXJJZCwgc2VuZE1zZ0luaXRpYXRlZCA9IGZhbHNlKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhzZW5kTXNnSW5pdGlhdGVkLCBCb29sZWFuKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IHVzZXIgPSBVc2Vyc1R5cGluZy5maW5kT25lKHNlbGVjdG9yKTtcbiAgY29uc3Qgc3RpbGxUeXBpbmcgPSAhc2VuZE1zZ0luaXRpYXRlZCAmJiB1c2VyICYmIChuZXcgRGF0ZSgpKSAtIHVzZXIudGltZSA8IDMwMDA7XG4gIGlmIChzdGlsbFR5cGluZykgcmV0dXJuO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2Vyc1R5cGluZy5yZW1vdmUoc2VsZWN0b3IpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuZGVidWcoJ1N0b3BwZWQgdHlwaW5nIGluZGljYXRvcicsIHsgdXNlcklkIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBTdG9wIHVzZXI9JHt1c2VySWR9IHR5cGluZyBpbmRpY2F0b3IgZXJyb3I6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNYXRjaCwgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgeyBHcm91cENoYXRNc2cgfSBmcm9tICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgcGFyc2VNZXNzYWdlIH0gZnJvbSAnLi9hZGRHcm91cENoYXRNc2cnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW5jTWVldGluZ0NoYXRNc2dzKG1lZXRpbmdJZCwgY2hhdElkLCBtc2dzKSB7XG4gIGlmICghbXNncy5sZW5ndGgpIHJldHVybjtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYXRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobXNncywgTWF0Y2guTWF5YmUoQXJyYXkpKTtcblxuICB0cnkge1xuICAgIGNvbnN0IGJ1bGtPcGVyYXRpb25zID0gR3JvdXBDaGF0TXNnLnJhd0NvbGxlY3Rpb24oKS5pbml0aWFsaXplT3JkZXJlZEJ1bGtPcCgpO1xuXG4gICAgbXNnc1xuICAgICAgLmZvckVhY2goKG1zZykgPT4ge1xuICAgICAgICBjb25zdCBtc2dUb1N5bmMgPSB7XG4gICAgICAgICAgLi4ubXNnLFxuICAgICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgICBjaGF0SWQsXG4gICAgICAgICAgbWVzc2FnZTogcGFyc2VNZXNzYWdlKG1zZy5tZXNzYWdlKSxcbiAgICAgICAgICBzZW5kZXI6IG1zZy5zZW5kZXIuaWQsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgbW9kaWZpZXIgPSBmbGF0KG1zZ1RvU3luYywgeyBzYWZlOiB0cnVlIH0pO1xuXG4gICAgICAgIGJ1bGtPcGVyYXRpb25zXG4gICAgICAgICAgLmZpbmQoeyBjaGF0SWQsIG1lZXRpbmdJZCwgaWQ6IG1zZy5pZCB9KVxuICAgICAgICAgIC51cHNlcnQoKVxuICAgICAgICAgIC51cGRhdGVPbmUoe1xuICAgICAgICAgICAgJHNldE9uSW5zZXJ0OiB7IF9pZDogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0ciB9LFxuICAgICAgICAgICAgJHNldDogeyAuLi5tb2RpZmllciB9LFxuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBidWxrT3BlcmF0aW9ucy5leGVjdXRlKCk7XG5cbiAgICBMb2dnZXIuaW5mbygnQ2hhdCBtZXNzYWdlcyBzeW5jaHJvbml6ZWQnLCB7IGNoYXRJZCwgbWVldGluZ0lkIH0pO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIHN5bmMgY2hhdCBtZXNzYWdlczogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlR3JvdXBDaGF0TXNnQnJvYWRjYXN0IGZyb20gJy4vaGFuZGxlcnMvZ3JvdXBDaGF0TXNnQnJvYWRjYXN0JztcbmltcG9ydCBoYW5kbGVDbGVhclB1YmxpY0dyb3VwQ2hhdCBmcm9tICcuL2hhbmRsZXJzL2NsZWFyUHVibGljR3JvdXBDaGF0JztcbmltcG9ydCBoYW5kbGVVc2VyVHlwaW5nIGZyb20gJy4vaGFuZGxlcnMvdXNlclR5cGluZyc7XG5pbXBvcnQgaGFuZGxlU3luY0dyb3VwQ2hhdE1zZyBmcm9tICcuL2hhbmRsZXJzL3N5bmNHcm91cHNDaGF0JztcbmltcG9ydCB7IHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuUmVkaXNQdWJTdWIub24oJ0dldEdyb3VwQ2hhdE1zZ3NSZXNwTXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVTeW5jR3JvdXBDaGF0TXNnKSk7XG5SZWRpc1B1YlN1Yi5vbignR3JvdXBDaGF0TWVzc2FnZUJyb2FkY2FzdEV2dE1zZycsIGhhbmRsZUdyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCk7XG5SZWRpc1B1YlN1Yi5vbignQ2xlYXJQdWJsaWNDaGF0SGlzdG9yeUV2dE1zZycsIGhhbmRsZUNsZWFyUHVibGljR3JvdXBDaGF0KTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0R3JvdXBDaGF0TXNnc1Jlc3BNc2cnLCBoYW5kbGVTeW5jR3JvdXBDaGF0TXNnKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyVHlwaW5nRXZ0TXNnJywgaGFuZGxlVXNlclR5cGluZyk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBzZW5kR3JvdXBDaGF0TXNnIGZyb20gJy4vbWV0aG9kcy9zZW5kR3JvdXBDaGF0TXNnJztcbmltcG9ydCBjbGVhclB1YmxpY0NoYXRIaXN0b3J5IGZyb20gJy4vbWV0aG9kcy9jbGVhclB1YmxpY0NoYXRIaXN0b3J5JztcbmltcG9ydCBzdGFydFVzZXJUeXBpbmcgZnJvbSAnLi9tZXRob2RzL3N0YXJ0VXNlclR5cGluZyc7XG5pbXBvcnQgc3RvcFVzZXJUeXBpbmcgZnJvbSAnLi9tZXRob2RzL3N0b3BVc2VyVHlwaW5nJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBzZW5kR3JvdXBDaGF0TXNnLFxuICBjbGVhclB1YmxpY0NoYXRIaXN0b3J5LFxuICBzdGFydFVzZXJUeXBpbmcsXG4gIHN0b3BVc2VyVHlwaW5nLFxufSk7XG4iLCJpbXBvcnQgeyBHcm91cENoYXRNc2csIFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gZ3JvdXBDaGF0TXNnKGNoYXRzSWRzKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gR3JvdXBDaGF0TXNnLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19HUk9VUF9DSEFUX0lEID0gQ0hBVF9DT05GSUcucHVibGljX2dyb3VwX2lkO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBncm91cC1jaGF0LW1zZycsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIEdyb3VwQ2hhdE1zZy5maW5kKHtcbiAgICAkb3I6IFtcbiAgICAgIHsgbWVldGluZ0lkLCBjaGF0SWQ6IHsgJGVxOiBQVUJMSUNfR1JPVVBfQ0hBVF9JRCB9IH0sXG4gICAgICB7IGNoYXRJZDogeyAkaW46IGNoYXRzSWRzIH0gfSxcbiAgICBdLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kR3JvdXBDaGF0ID0gZ3JvdXBDaGF0TXNnLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZEdyb3VwQ2hhdCguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2dyb3VwLWNoYXQtbXNnJywgcHVibGlzaCk7XG5cbmZ1bmN0aW9uIHVzZXJzVHlwaW5nKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFVzZXJzVHlwaW5nLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgdXNlcnMtdHlwaW5nJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gVXNlcnNUeXBpbmcuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHViaXNoVXNlcnNUeXBpbmcoLi4uYXJncykge1xuICBjb25zdCBib3VuZFVzZXJzVHlwaW5nID0gdXNlcnNUeXBpbmcuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVXNlcnNUeXBpbmcoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd1c2Vycy10eXBpbmcnLCBwdWJpc2hVc2Vyc1R5cGluZyk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgR3JvdXBDaGF0TXNnID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2dyb3VwLWNoYXQtbXNnJyk7XG5jb25zdCBVc2Vyc1R5cGluZyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd1c2Vycy10eXBpbmcnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBHcm91cENoYXRNc2cuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCBjaGF0SWQ6IDEgfSk7XG4gIFVzZXJzVHlwaW5nLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgaXNUeXBpbmdUbzogMSB9KTtcbn1cblxuZXhwb3J0IHsgR3JvdXBDaGF0TXNnLCBVc2Vyc1R5cGluZyB9O1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHNldEd1ZXN0U3RhdHVzIGZyb20gJy4uL21vZGlmaWVycy9zZXRHdWVzdFN0YXR1cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUd1ZXN0QXBwcm92ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGFwcHJvdmVkQnksIGd1ZXN0cyB9ID0gYm9keTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhhcHByb3ZlZEJ5LCBTdHJpbmcpO1xuICBjaGVjayhndWVzdHMsIEFycmF5KTtcblxuICByZXR1cm4gZ3Vlc3RzLmZvckVhY2goZ3Vlc3QgPT4gc2V0R3Vlc3RTdGF0dXMobWVldGluZ0lkLCBndWVzdC5ndWVzdCwgZ3Vlc3Quc3RhdHVzLCBhcHByb3ZlZEJ5KSk7XG59XG4iLCJpbXBvcnQgc3RyaW5nSGFzaCBmcm9tICdzdHJpbmctaGFzaCc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgR3Vlc3RVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvJztcblxuY29uc3QgQ09MT1JfTElTVCA9IFtcbiAgJyM3YjFmYTInLCAnIzZhMWI5YScsICcjNGExNDhjJywgJyM1ZTM1YjEnLCAnIzUxMmRhOCcsICcjNDUyN2EwJyxcbiAgJyMzMTFiOTInLCAnIzM5NDlhYicsICcjMzAzZjlmJywgJyMyODM1OTMnLCAnIzFhMjM3ZScsICcjMTk3NmQyJywgJyMxNTY1YzAnLFxuICAnIzBkNDdhMScsICcjMDI3N2JkJywgJyMwMTU3OWInLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBndWVzdHMgfSA9IGJvZHk7XG4gIGNoZWNrKGd1ZXN0cywgQXJyYXkpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGd1ZXN0cy5tYXAoKGd1ZXN0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCwgbnVtYmVyQWZmZWN0ZWQgfSA9IEd1ZXN0VXNlcnMudXBzZXJ0KHtcbiAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICBpbnRJZDogZ3Vlc3QuaW50SWQsXG4gICAgICB9LCB7XG4gICAgICAgIGFwcHJvdmVkOiBmYWxzZSxcbiAgICAgICAgZGVuaWVkOiBmYWxzZSxcbiAgICAgICAgLi4uZ3Vlc3QsXG4gICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgbG9naW5UaW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgY29sb3I6IENPTE9SX0xJU1Rbc3RyaW5nSGFzaChndWVzdC5pbnRJZCkgJSBDT0xPUl9MSVNULmxlbmd0aF0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIGd1ZXN0IHVzZXIgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICAgIH0gZWxzZSBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIGd1ZXN0IHVzZXIgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIGd1ZXN0IHVzZXIgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbmNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbmNvbnN0IEVWRU5UX05BTUUgPSAnR3Vlc3RzV2FpdGluZ0FwcHJvdmVkTXNnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxsb3dQZW5kaW5nVXNlcnMoZ3Vlc3RzLCBzdGF0dXMpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhndWVzdHMsIEFycmF5KTtcbiAgY29uc3QgbWFwcGVkR3Vlc3RzID0gZ3Vlc3RzLm1hcChndWVzdCA9PiAoeyBzdGF0dXMsIGd1ZXN0OiBndWVzdC5pbnRJZCB9KSk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBhcHByb3ZlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgZ3Vlc3RzOiBtYXBwZWRHdWVzdHMsXG4gIH07XG5cbiAgTG9nZ2VyLmluZm8oYFVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9ICR7c3RhdHVzfSBndWVzdHMgJHtKU09OLnN0cmluZ2lmeShtYXBwZWRHdWVzdHMpfWApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuY29uc3QgRVZFTlRfTkFNRSA9ICdTZXRHdWVzdFBvbGljeUNtZE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZUd1ZXN0UG9saWN5KHBvbGljeVJ1bGUpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhwb2xpY3lSdWxlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgc2V0Qnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBwb2xpY3k6IHBvbGljeVJ1bGUsXG4gIH07XG5cbiAgTG9nZ2VyLmluZm8oYFVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9IGNoYW5nZSBndWVzdCBwb2xpY3kgdG8gJHtwb2xpY3lSdWxlfWApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IEd1ZXN0VXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJHdWVzdFVzZXJzKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gR3Vlc3RVc2Vycy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBHdWVzdFVzZXJzIGluICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgRXJyb3Igb24gY2xlYXJpbmcgR3Vlc3RVc2VycyBpbiAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IEd1ZXN0VXNlcnMucmVtb3ZlKHt9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIEd1ZXN0VXNlcnMgaW4gYWxsIG1lZXRpbmdzJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIEd1ZXN0VXNlcnMgaW4gYWxsIG1lZXRpbmdzLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBHdWVzdFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmNvbnN0IEdVRVNUX1NUQVRVU19BTExPVyA9ICdBTExPVyc7XG5jb25zdCBHVUVTVF9TVEFUVVNfREVOWSA9ICdERU5ZJztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldEd1ZXN0U3RhdHVzKG1lZXRpbmdJZCwgaW50SWQsIHN0YXR1cywgYXBwcm92ZWRCeSA9IG51bGwpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhpbnRJZCwgU3RyaW5nKTtcbiAgY2hlY2soc3RhdHVzLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBhcHByb3ZlZDogc3RhdHVzID09PSBHVUVTVF9TVEFUVVNfQUxMT1csXG4gICAgICBkZW5pZWQ6IHN0YXR1cyA9PT0gR1VFU1RfU1RBVFVTX0RFTlksXG4gICAgICBhcHByb3ZlZEJ5LFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IEd1ZXN0VXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcGRhdGVkIHN0YXR1cz0ke3N0YXR1c30gdXNlcj0ke2ludElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBzdGF0dXM9JHtzdGF0dXN9IHVzZXI9JHtpbnRJZH06ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZUd1ZXN0QXBwcm92ZWQgZnJvbSAnLi9oYW5kbGVycy9ndWVzdEFwcHJvdmVkJztcbmltcG9ydCBoYW5kbGVHdWVzdHNXYWl0aW5nRm9yQXBwcm92YWwgZnJvbSAnLi9oYW5kbGVycy9ndWVzdHNXYWl0aW5nRm9yQXBwcm92YWwnO1xuXG5SZWRpc1B1YlN1Yi5vbignR3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsRXZ0TXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVHdWVzdHNXYWl0aW5nRm9yQXBwcm92YWwpKTtcblJlZGlzUHViU3ViLm9uKCdHdWVzdHNXYWl0aW5nQXBwcm92ZWRFdnRNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZUd1ZXN0QXBwcm92ZWQpKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGFsbG93UGVuZGluZ1VzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9hbGxvd1BlbmRpbmdVc2Vycyc7XG5pbXBvcnQgY2hhbmdlR3Vlc3RQb2xpY3kgZnJvbSAnL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tZXRob2RzL2NoYW5nZUd1ZXN0UG9saWN5JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBhbGxvd1BlbmRpbmdVc2VycyxcbiAgY2hhbmdlR3Vlc3RQb2xpY3ksXG59KTtcbiIsImltcG9ydCBHdWVzdFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy8nO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gZ3Vlc3RVc2VycygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBHdWVzdFVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgUHVibGlzaGluZyBTbGlkZXMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gR3Vlc3RVc2Vycy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRTbGlkZXMgPSBndWVzdFVzZXJzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNsaWRlcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2d1ZXN0VXNlcicsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBNb25nbyB9IGZyb20gJ21ldGVvci9tb25nbyc7XG5cbmNvbnN0IEd1ZXN0VXNlcnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignZ3Vlc3RVc2VycycpO1xuXG5leHBvcnQgZGVmYXVsdCBHdWVzdFVzZXJzO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2NhbFNldHRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncyc7XG5pbXBvcnQgc2V0Q2hhbmdlZExvY2FsU2V0dGluZ3MgZnJvbSAnLi4vbW9kaWZpZXJzL3NldENoYW5nZWRMb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBpZiAoIW1lZXRpbmdJZCB8fCAhcmVxdWVzdGVyVXNlcklkKSByZXR1cm47XG5cbiAgY2hlY2soc2V0dGluZ3MsIE9iamVjdCk7XG5cbiAgY29uc3QgdXNlckxvY2FsU2V0dGluZ3MgPSBMb2NhbFNldHRpbmdzXG4gICAgLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkczogeyBzZXR0aW5nczogMSB9LFxuICAgICAgfSk7XG5cbiAgaWYgKCF1c2VyTG9jYWxTZXR0aW5ncyB8fCAhXy5pc0VxdWFsKHVzZXJMb2NhbFNldHRpbmdzLnNldHRpbmdzLCBzZXR0aW5ncykpIHtcbiAgICBzZXRDaGFuZ2VkTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgc2V0dGluZ3MpO1xuICB9XG59XG4iLCJpbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckxvY2FsU2V0dGluZ3MobWVldGluZ0lkKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBMb2NhbFNldHRpbmdzLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgTG9jYWwgU2V0dGluZ3MgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgTG9jYWwgU2V0dGluZ3MgKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRDaGFuZ2VkTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQsIHVzZXJJZCwgc2V0dGluZ3MpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHNldHRpbmdzLCBPYmplY3QpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgc2V0dGluZ3MsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgbnVtQ2hhbmdlZCB9ID0gTG9jYWxTZXR0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCBzZXR0aW5ncyBmb3IgdXNlciAke3VzZXJJZH0gb24gbWVldGluZyAke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gdXBkYXRlIHNldHRpbmdzLiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgdXNlckNoYW5nZWRMb2NhbFNldHRpbmdzIGZyb20gJy4vbWV0aG9kcy91c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3MnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHVzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncyxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGxvY2FsU2V0dGluZ3MoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gTG9jYWxTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBsb2NhbCBzZXR0aW5ncycsIHsgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBMb2NhbFNldHRpbmdzLmZpbmQoeyBtZWV0aW5nSWQsIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRMb2NhbFNldHRpbmdzID0gbG9jYWxTZXR0aW5ncy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRMb2NhbFNldHRpbmdzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnbG9jYWwtc2V0dGluZ3MnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBMb2NhbFNldHRpbmdzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2xvY2FsLXNldHRpbmdzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTG9jYWxTZXR0aW5ncy5fZW5zdXJlSW5kZXgoe1xuICAgIG1lZXRpbmdJZDogMSwgdXNlcklkOiAxLFxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9jYWxTZXR0aW5ncztcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5jb25zdCBsb2dDbGllbnQgPSBmdW5jdGlvbiAodHlwZSwgbG9nRGVzY3JpcHRpb24sIGxvZ0NvZGUgPSAnd2FzX25vdF9wcm92aWRlZCcsIGV4dHJhSW5mbyA9IHt9LCB1c2VySW5mbyA9IHt9KSB7XG4gIGNvbnN0IGNvbm5lY3Rpb25JZCA9IHRoaXMuY29ubmVjdGlvbi5pZDtcbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoeyBjb25uZWN0aW9uSWQgfSk7XG4gIGNvbnN0IGxvZ0NvbnRlbnRzID0ge1xuICAgIGxvZ0NvZGUsXG4gICAgbG9nRGVzY3JpcHRpb24sXG4gICAgY29ubmVjdGlvbklkLFxuICAgIGV4dHJhSW5mbyxcbiAgICB1c2VySW5mbyxcbiAgfTtcblxuICBpZiAoVXNlcikgeyAvLyBUT0RPLS1cbiAgICBpZiAoKHVzZXJJbmZvLmNyZWRlbnRpYWxzICYmIFVzZXIubWVldGluZ0lkID09PSB1c2VySW5mby5jcmVkZW50aWFscy5tZWV0aW5nSWQpXG4gICAgICB8fCAoKHVzZXJJbmZvLm1lZXRpbmdJZCAmJiBVc2VyLm1lZXRpbmdJZCA9PT0gdXNlckluZm8ubWVldGluZ0lkKSkpIHtcbiAgICAgIGxvZ0NvbnRlbnRzLmV4dHJhSW5mby52YWxpZFVzZXIgPSAndmFsaWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dDb250ZW50cy5leHRyYUluZm8udmFsaWRVc2VyID0gJ2ludmFsaWQnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsb2dDb250ZW50cy5leHRyYUluZm8udmFsaWRVc2VyID0gJ25vdEZvdW5kJztcbiAgfVxuXG4gIC8vIElmIEkgZG9uJ3QgcGFzcyBtZXNzYWdlLCBsb2dzIHdpbGwgc3RhcnQgd2l0aCBgdW5kZWZpbmVkYFxuICBMb2dnZXIubG9nKHsgbWVzc2FnZTogSlNPTi5zdHJpbmdpZnkobG9nQ29udGVudHMpLCBsZXZlbDogdHlwZSB9KTtcbiAgLy8gTG9nZ2VyLmxvZyh7IG1lc3NhZ2U6ICdjbGllbnQtPnNlcnZlcicsIGxldmVsOiB0eXBlLCBsb2dDb250ZW50cyB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ0NsaWVudDtcbiIsImltcG9ydCAnLi9tZXRob2RzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGxvZ0NsaWVudCBmcm9tICcuL21ldGhvZHMvbG9nQ2xpZW50JztcblxuTWV0ZW9yLm1ldGhvZHMoeyBsb2dDbGllbnQgfSk7XG4iLCJpbXBvcnQgaGFuZGxlTWVldGluZ0NyZWF0aW9uIGZyb20gJy4vbWVldGluZ0NyZWF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR2V0QWxsTWVldGluZ3MoeyBib2R5IH0pIHtcbiAgcmV0dXJuIGhhbmRsZU1lZXRpbmdDcmVhdGlvbih7IGJvZHkgfSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkTWVldGluZyBmcm9tICcuLi9tb2RpZmllcnMvYWRkTWVldGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZU1lZXRpbmdDcmVhdGlvbih7IGJvZHkgfSkge1xuICBjb25zdCBtZWV0aW5nID0gYm9keS5wcm9wcztcbiAgY29uc3QgZHVyYXRpb25JblNlY29kcyA9IChtZWV0aW5nLmR1cmF0aW9uUHJvcHMuZHVyYXRpb24gKiA2MCk7XG4gIG1lZXRpbmcuZHVyYXRpb25Qcm9wcy50aW1lUmVtYWluaW5nID0gZHVyYXRpb25JblNlY29kcztcbiAgY2hlY2sobWVldGluZywgT2JqZWN0KTtcblxuICByZXR1cm4gYWRkTWVldGluZyhtZWV0aW5nKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCBkZXN0cm95RXh0ZXJuYWxWaWRlbyBmcm9tICcvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL2Rlc3Ryb3lFeHRlcm5hbFZpZGVvJztcbmltcG9ydCB7IHJlbW92ZUFubm90YXRpb25zU3RyZWFtZXIgfSBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL3N0cmVhbWVyJztcbmltcG9ydCB7IHJlbW92ZUN1cnNvclN0cmVhbWVyIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvc3RyZWFtZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVNZWV0aW5nRGVzdHJ1Y3Rpb24oeyBib2R5IH0pIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGJvZHk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBkZXN0cm95RXh0ZXJuYWxWaWRlbyhtZWV0aW5nSWQpO1xuICByZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCk7XG4gIHJlbW92ZUN1cnNvclN0cmVhbWVyKG1lZXRpbmdJZCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLmRlc3Ryb3lNZWV0aW5nUXVldWUobWVldGluZ0lkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBtZWV0aW5nSGFzRW5kZWQgZnJvbSAnLi4vbW9kaWZpZXJzL21lZXRpbmdIYXNFbmRlZCc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBCcmVha291dHMgZnJvbSAnL2ltcG9ydHMvYXBpL2JyZWFrb3V0cyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZU1lZXRpbmdFbmQoeyBib2R5IH0pIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGJvZHk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bSwgbWVldGluZ1R5cGUpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYCR7bWVldGluZ1R5cGV9IGVuZGluZyBlcnJvcjogJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChudW0pIHtcbiAgICAgIFVzZXJzLnVwZGF0ZSh7IG1lZXRpbmdJZCB9LFxuICAgICAgICB7ICRzZXQ6IHsgY29ubmVjdGlvblN0YXR1czogJ29mZmxpbmUnIH0gfSxcbiAgICAgICAgKGVycm9yLCBudW1BZmZlY3RlZCkgPT4ge1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBtYXJraW5nIGVuZGluZyAke21lZXRpbmdUeXBlfSB1c2VycyBhcyBvZmZsaW5lOiAke21lZXRpbmdJZH0gJHtlcnJ9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG51bUFmZmVjdGVkKSB7XG4gICAgICAgICAgICBMb2dnZXIuaW5mbyhgU3VjY2VzcyBtYXJraW5nIGVuZGluZyAke21lZXRpbmdUeXBlfSB1c2VycyBhcyBvZmZsaW5lOiAke21lZXRpbmdJZH1gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgTWV0ZW9yLnNldFRpbWVvdXQoKCkgPT4geyBtZWV0aW5nSGFzRW5kZWQobWVldGluZ0lkKTsgfSwgMTAwMDApO1xuICAgIH1cbiAgfTtcblxuICBNZWV0aW5ncy51cGRhdGUoeyBtZWV0aW5nSWQgfSxcbiAgICB7ICRzZXQ6IHsgbWVldGluZ0VuZGVkOiB0cnVlIH0gfSxcbiAgICAoZXJyLCBudW0pID0+IHsgY2IoZXJyLCBudW0sICdNZWV0aW5nJyk7IH0pO1xuXG4gIEJyZWFrb3V0cy51cGRhdGUoeyBwYXJlbnRNZWV0aW5nSWQ6IG1lZXRpbmdJZCB9LFxuICAgIHsgJHNldDogeyBtZWV0aW5nRW5kZWQ6IHRydWUgfSB9LFxuICAgIChlcnIsIG51bSkgPT4geyBjYihlcnIsIG51bSwgJ0JyZWFrb3V0Jyk7IH0pO1xufVxuIiwiaW1wb3J0IGNoYW5nZUxvY2tTZXR0aW5ncyBmcm9tICcuLi9tb2RpZmllcnMvY2hhbmdlTG9ja1NldHRpbmdzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlTG9ja1NldHRpbmdzSW5NZWV0aW5nKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hhbmdlTG9ja1NldHRpbmdzKG1lZXRpbmdJZCwgYm9keSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBSZWNvcmRNZWV0aW5ncyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVJlY29yZGluZ1N0YXR1c0NoYW5nZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcmVjb3JkaW5nIH0gPSBib2R5O1xuICBjaGVjayhyZWNvcmRpbmcsIEJvb2xlYW4pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7IHJlY29yZGluZyB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gUmVjb3JkTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDaGFuZ2VkIG1lZXRpbmcgcmVjb3JkIHN0YXR1cyBpZD0ke21lZXRpbmdJZH0gcmVjb3JkaW5nPSR7cmVjb3JkaW5nfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBDaGFuZ2luZyByZWNvcmQgc3RhdHVzOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgUmVjb3JkTWVldGluZ3MgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVSZWNvcmRpbmdUaW1lckNoYW5nZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdGltZSB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY2hlY2soYm9keSwge1xuICAgIHRpbWU6IE51bWJlcixcbiAgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHsgdGltZSB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgUmVjb3JkTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgcmVjb3JkaW5nIHRpbWU6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBNZWV0aW5nVGltZVJlbWFpbmluZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVRpbWVSZW1haW5pbmdVcGRhdGUoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY2hlY2soYm9keSwge1xuICAgIHRpbWVMZWZ0SW5TZWM6IE51bWJlcixcbiAgfSk7XG4gIGNvbnN0IHsgdGltZUxlZnRJblNlYyB9ID0gYm9keTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgdGltZVJlbWFpbmluZzogdGltZUxlZnRJblNlYyxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgTWVldGluZ1RpbWVSZW1haW5pbmcudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgcmVjb3JkaW5nIHRpbWU6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgY2hhbmdlVXNlckxvY2sgZnJvbSAnLi4vbW9kaWZpZXJzL2NoYW5nZVVzZXJMb2NrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlTG9ja1NldHRpbmdzSW5NZWV0aW5nKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hhbmdlVXNlckxvY2sobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCBjaGFuZ2VXZWJjYW1Pbmx5TW9kZXJhdG9yIGZyb20gJy4uL21vZGlmaWVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlV2ViY2FtT25seU1vZGVyYXRvcih7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoYW5nZVdlYmNhbU9ubHlNb2RlcmF0b3IobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbmRNZWV0aW5nKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0xvZ291dEFuZEVuZE1lZXRpbmdDbWRNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG4gIExvZ2dlci53YXJuKGBNZWV0aW5nICcke21lZXRpbmdJZH0nIGlzIGRlc3Ryb3llZCBieSAnJHtyZXF1ZXN0ZXJVc2VySWR9J2ApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvZ2dsZUxvY2tTZXR0aW5ncyhsb2NrU2V0dGluZ3NQcm9wcykge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0NoYW5nZUxvY2tTZXR0aW5nc0luTWVldGluZ0NtZE1zZyc7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobG9ja1NldHRpbmdzUHJvcHMsIHtcbiAgICBkaXNhYmxlQ2FtOiBCb29sZWFuLFxuICAgIGRpc2FibGVNaWM6IEJvb2xlYW4sXG4gICAgZGlzYWJsZVByaXZhdGVDaGF0OiBCb29sZWFuLFxuICAgIGRpc2FibGVQdWJsaWNDaGF0OiBCb29sZWFuLFxuICAgIGRpc2FibGVOb3RlOiBCb29sZWFuLFxuICAgIGhpZGVVc2VyTGlzdDogQm9vbGVhbixcbiAgICBsb2NrZWRMYXlvdXQ6IEJvb2xlYW4sXG4gICAgbG9ja09uSm9pbjogQm9vbGVhbixcbiAgICBsb2NrT25Kb2luQ29uZmlndXJhYmxlOiBCb29sZWFuLFxuICAgIHNldEJ5OiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgZGlzYWJsZUNhbSxcbiAgICBkaXNhYmxlTWljLFxuICAgIGRpc2FibGVQcml2YXRlQ2hhdDogZGlzYWJsZVByaXZDaGF0LFxuICAgIGRpc2FibGVQdWJsaWNDaGF0OiBkaXNhYmxlUHViQ2hhdCxcbiAgICBkaXNhYmxlTm90ZSxcbiAgICBoaWRlVXNlckxpc3QsXG4gICAgbG9ja2VkTGF5b3V0LFxuICAgIGxvY2tPbkpvaW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZSxcbiAgfSA9IGxvY2tTZXR0aW5nc1Byb3BzO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgZGlzYWJsZUNhbSxcbiAgICBkaXNhYmxlTWljLFxuICAgIGRpc2FibGVQcml2Q2hhdCxcbiAgICBkaXNhYmxlUHViQ2hhdCxcbiAgICBkaXNhYmxlTm90ZSxcbiAgICBoaWRlVXNlckxpc3QsXG4gICAgbG9ja2VkTGF5b3V0LFxuICAgIGxvY2tPbkpvaW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZSxcbiAgICBzZXRCeTogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBSZWNvcmRNZWV0aW5ncyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2dnbGVSZWNvcmRpbmcoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IFJPTEVfTU9ERVJBVE9SID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy51c2VyLnJvbGVfbW9kZXJhdG9yO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2V0UmVjb3JkaW5nU3RhdHVzQ21kTXNnJztcblxuICBsZXQgbWVldGluZ1JlY29yZGVkO1xuICBsZXQgYWxsb3dlZFRvUmVjb3JkO1xuXG4gIGNvbnN0IHJlY29yZE9iamVjdCA9IFJlY29yZE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgaWYgKHJlY29yZE9iamVjdCAhPSBudWxsKSB7XG4gICAgY29uc3Qge1xuICAgICAgYWxsb3dTdGFydFN0b3BSZWNvcmRpbmcsXG4gICAgICByZWNvcmRpbmcsXG4gICAgICByZWNvcmQsXG4gICAgfSA9IHJlY29yZE9iamVjdDtcblxuICAgIG1lZXRpbmdSZWNvcmRlZCA9IHJlY29yZGluZztcbiAgICBhbGxvd2VkVG9SZWNvcmQgPSByZWNvcmQgJiYgYWxsb3dTdGFydFN0b3BSZWNvcmRpbmc7IC8vIFRPRE8tLSByZW1vdmUgc29tZSBkYXlcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcmVjb3JkaW5nOiAhbWVldGluZ1JlY29yZGVkLFxuICAgIHNldEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgaWYgKGFsbG93ZWRUb1JlY29yZCAmJiAhIXVzZXIgJiYgdXNlci5yb2xlID09PSBST0xFX01PREVSQVRPUikge1xuICAgIExvZ2dlci5pbmZvKGBTZXR0aW5nIHRoZSByZWNvcmQgcGFyYW1ldGVyIHRvICR7IW1lZXRpbmdSZWNvcmRlZH0gZm9yICR7bWVldGluZ0lkfSBieSAke3JlcXVlc3RlclVzZXJJZH1gKTtcbiAgICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvZ2dsZVdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yKHdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXBkYXRlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3JDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yLCBCb29sZWFuKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yLFxuICAgIHNldEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZmVyVXNlcihmcm9tTWVldGluZ0lkLCB0b01lZXRpbmdJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1RyYW5zZmVyVXNlclRvTWVldGluZ1JlcXVlc3RNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBmcm9tTWVldGluZ0lkLFxuICAgIHRvTWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIExvZ2dlci52ZXJib3NlKCdVc2VyIHdhcyB0cmFuc2ZlcnJlZCBmcm9tIG9uZSBtZXRpbmcgdG8gYW5vdGhlcicsIHsgcmVxdWVzdGVyVXNlcklkLCBmcm9tTWVldGluZ0lkLCB0b01lZXRpbmdJZCB9KTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IHtcbiAgY2hlY2ssXG4gIE1hdGNoLFxufSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFNhbml0aXplSFRNTCBmcm9tICdzYW5pdGl6ZS1odG1sJztcbmltcG9ydCBNZWV0aW5ncywgeyBSZWNvcmRNZWV0aW5ncyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgY3JlYXRlTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbWV0aG9kcy9jcmVhdGVOb3RlJztcbmltcG9ydCBjcmVhdGVDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvY3JlYXRlQ2FwdGlvbnMnO1xuaW1wb3J0IHsgYWRkQW5ub3RhdGlvbnNTdHJlYW1lciB9IGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuaW1wb3J0IHsgYWRkQ3Vyc29yU3RyZWFtZXIgfSBmcm9tICcvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgQmFubmVkVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9zdG9yZS9iYW5uZWRVc2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZE1lZXRpbmcobWVldGluZykge1xuICBjb25zdCBtZWV0aW5nSWQgPSBtZWV0aW5nLm1lZXRpbmdQcm9wLmludElkO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sobWVldGluZywge1xuICAgIGJyZWFrb3V0UHJvcHM6IHtcbiAgICAgIHNlcXVlbmNlOiBOdW1iZXIsXG4gICAgICBmcmVlSm9pbjogQm9vbGVhbixcbiAgICAgIGJyZWFrb3V0Um9vbXM6IEFycmF5LFxuICAgICAgcGFyZW50SWQ6IFN0cmluZyxcbiAgICAgIGVuYWJsZWQ6IEJvb2xlYW4sXG4gICAgICByZWNvcmQ6IEJvb2xlYW4sXG4gICAgICBwcml2YXRlQ2hhdEVuYWJsZWQ6IEJvb2xlYW4sXG4gICAgfSxcbiAgICBtZWV0aW5nUHJvcDoge1xuICAgICAgaW50SWQ6IFN0cmluZyxcbiAgICAgIGV4dElkOiBTdHJpbmcsXG4gICAgICBpc0JyZWFrb3V0OiBCb29sZWFuLFxuICAgICAgbmFtZTogU3RyaW5nLFxuICAgIH0sXG4gICAgdXNlcnNQcm9wOiB7XG4gICAgICB3ZWJjYW1zT25seUZvck1vZGVyYXRvcjogQm9vbGVhbixcbiAgICAgIGd1ZXN0UG9saWN5OiBTdHJpbmcsXG4gICAgICBtYXhVc2VyczogTnVtYmVyLFxuICAgICAgYWxsb3dNb2RzVG9Vbm11dGVVc2VyczogQm9vbGVhbixcbiAgICB9LFxuICAgIGR1cmF0aW9uUHJvcHM6IHtcbiAgICAgIGNyZWF0ZWRUaW1lOiBOdW1iZXIsXG4gICAgICBkdXJhdGlvbjogTnVtYmVyLFxuICAgICAgY3JlYXRlZERhdGU6IFN0cmluZyxcbiAgICAgIG1heEluYWN0aXZpdHlUaW1lb3V0TWludXRlczogTnVtYmVyLFxuICAgICAgd2Fybk1pbnV0ZXNCZWZvcmVNYXg6IE51bWJlcixcbiAgICAgIG1lZXRpbmdFeHBpcmVJZk5vVXNlckpvaW5lZEluTWludXRlczogTnVtYmVyLFxuICAgICAgbWVldGluZ0V4cGlyZVdoZW5MYXN0VXNlckxlZnRJbk1pbnV0ZXM6IE51bWJlcixcbiAgICAgIHVzZXJJbmFjdGl2aXR5SW5zcGVjdFRpbWVySW5NaW51dGVzOiBOdW1iZXIsXG4gICAgICB1c2VySW5hY3Rpdml0eVRocmVzaG9sZEluTWludXRlczogTnVtYmVyLFxuICAgICAgdXNlckFjdGl2aXR5U2lnblJlc3BvbnNlRGVsYXlJbk1pbnV0ZXM6IE51bWJlcixcbiAgICAgIHRpbWVSZW1haW5pbmc6IE51bWJlcixcbiAgICB9LFxuICAgIHdlbGNvbWVQcm9wOiB7XG4gICAgICB3ZWxjb21lTXNnOiBTdHJpbmcsXG4gICAgICBtb2RPbmx5TWVzc2FnZTogU3RyaW5nLFxuICAgICAgd2VsY29tZU1zZ1RlbXBsYXRlOiBTdHJpbmcsXG4gICAgfSxcbiAgICByZWNvcmRQcm9wOiBNYXRjaC5PYmplY3RJbmNsdWRpbmcoe1xuICAgICAgYWxsb3dTdGFydFN0b3BSZWNvcmRpbmc6IEJvb2xlYW4sXG4gICAgICBhdXRvU3RhcnRSZWNvcmRpbmc6IEJvb2xlYW4sXG4gICAgICByZWNvcmQ6IEJvb2xlYW4sXG4gICAgfSksXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgIHZpZXdlclBhc3M6IFN0cmluZyxcbiAgICAgIG1vZGVyYXRvclBhc3M6IFN0cmluZyxcbiAgICB9LFxuICAgIHZvaWNlUHJvcDoge1xuICAgICAgdm9pY2VDb25mOiBTdHJpbmcsXG4gICAgICBkaWFsTnVtYmVyOiBTdHJpbmcsXG4gICAgICB0ZWxWb2ljZTogU3RyaW5nLFxuICAgICAgbXV0ZU9uU3RhcnQ6IEJvb2xlYW4sXG4gICAgfSxcbiAgICBzY3JlZW5zaGFyZVByb3BzOiB7XG4gICAgICByZWQ1U2NyZWVuc2hhcmVJcDogU3RyaW5nLFxuICAgICAgcmVkNVNjcmVlbnNoYXJlQXBwOiBTdHJpbmcsXG4gICAgICBzY3JlZW5zaGFyZUNvbmY6IFN0cmluZyxcbiAgICB9LFxuICAgIG1ldGFkYXRhUHJvcDogT2JqZWN0LFxuICAgIGxvY2tTZXR0aW5nc1Byb3BzOiB7XG4gICAgICBkaXNhYmxlQ2FtOiBCb29sZWFuLFxuICAgICAgZGlzYWJsZU1pYzogQm9vbGVhbixcbiAgICAgIGRpc2FibGVQcml2YXRlQ2hhdDogQm9vbGVhbixcbiAgICAgIGRpc2FibGVQdWJsaWNDaGF0OiBCb29sZWFuLFxuICAgICAgZGlzYWJsZU5vdGU6IEJvb2xlYW4sXG4gICAgICBoaWRlVXNlckxpc3Q6IEJvb2xlYW4sXG4gICAgICBsb2NrT25Kb2luOiBCb29sZWFuLFxuICAgICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZTogQm9vbGVhbixcbiAgICAgIGxvY2tlZExheW91dDogQm9vbGVhbixcbiAgICB9LFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgcmVjb3JkUHJvcCxcbiAgICAuLi5yZXN0UHJvcHNcbiAgfSA9IG1lZXRpbmc7XG5cbiAgY29uc3QgbmV3TWVldGluZyA9IHJlc3RQcm9wcztcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgbmV3TWVldGluZy5sb2NrU2V0dGluZ3NQcm9wcyA9IE9iamVjdC5hc3NpZ24obWVldGluZy5sb2NrU2V0dGluZ3NQcm9wcywgeyBzZXRCeTogJ3RlbXAnIH0pO1xuXG4gIGNvbnN0IG1lZXRpbmdFbmRlZCA9IGZhbHNlO1xuXG4gIGxldCB7IHdlbGNvbWVNc2cgfSA9IG5ld01lZXRpbmcud2VsY29tZVByb3A7XG5cbiAgY29uc3Qgc2FuaXRpemVUZXh0SW5DaGF0ID0gb3JpZ2luYWwgPT4gU2FuaXRpemVIVE1MKG9yaWdpbmFsLCB7XG4gICAgYWxsb3dlZFRhZ3M6IFsnYScsICdiJywgJ2JyJywgJ2knLCAnaW1nJywgJ2xpJywgJ3NtYWxsJywgJ3NwYW4nLCAnc3Ryb25nJywgJ3UnLCAndWwnXSxcbiAgICBhbGxvd2VkQXR0cmlidXRlczoge1xuICAgICAgYTogWydocmVmJywgJ25hbWUnLCAndGFyZ2V0J10sXG4gICAgICBpbWc6IFsnc3JjJywgJ3dpZHRoJywgJ2hlaWdodCddLFxuICAgIH0sXG4gICAgYWxsb3dlZFNjaGVtZXM6IFsnaHR0cHMnXSxcbiAgfSk7XG5cbiAgY29uc3Qgc2FuaXRpemVkV2VsY29tZVRleHQgPSBzYW5pdGl6ZVRleHRJbkNoYXQod2VsY29tZU1zZyk7XG4gIHdlbGNvbWVNc2cgPSBzYW5pdGl6ZWRXZWxjb21lVGV4dC5yZXBsYWNlKFxuICAgICdocmVmPVwiZXZlbnQ6JyxcbiAgICAnaHJlZj1cIicsXG4gICk7XG5cbiAgY29uc3QgaW5zZXJ0QmxhbmtUYXJnZXQgPSAocywgaSkgPT4gYCR7cy5zdWJzdHIoMCwgaSl9IHRhcmdldD1cIl9ibGFua1wiJHtzLnN1YnN0cihpKX1gO1xuICBjb25zdCBsaW5rV2l0aG91dFRhcmdldCA9IG5ldyBSZWdFeHAoJzxhIGhyZWY9XCIoLio/KVwiPicsICdnJyk7XG4gIGxpbmtXaXRob3V0VGFyZ2V0LnRlc3Qod2VsY29tZU1zZyk7XG5cbiAgaWYgKGxpbmtXaXRob3V0VGFyZ2V0Lmxhc3RJbmRleCA+IDApIHtcbiAgICB3ZWxjb21lTXNnID0gaW5zZXJ0QmxhbmtUYXJnZXQoXG4gICAgICB3ZWxjb21lTXNnLFxuICAgICAgbGlua1dpdGhvdXRUYXJnZXQubGFzdEluZGV4IC0gMSxcbiAgICApO1xuICB9XG5cbiAgbmV3TWVldGluZy53ZWxjb21lUHJvcC53ZWxjb21lTXNnID0gd2VsY29tZU1zZztcblxuICAvLyBub3RlOiBhcyBvZiBKdWx5IDIwMjAgYG1vZE9ubHlNZXNzYWdlYCBpcyBub3QgcHVibGlzaGVkIHRvIHRoZSBjbGllbnQgc2lkZS5cbiAgLy8gV2UgYXJlIHNhbml0aXppbmcgdGhpcyBkYXRhIHNpbXBseSB0byBwcmV2ZW50IGZ1dHVyZSBwb3RlbnRpYWwgdXNhZ2VcbiAgLy8gQXQgdGhlIG1vbWVudCBgbW9kT25seU1lc3NhZ2VgIGlzIG9idGFpbmVkIGZyb20gY2xpZW50IHNpZGUgYXMgYSByZXNwb25zZSB0byBFbnRlciBBUElcbiAgbmV3TWVldGluZy53ZWxjb21lUHJvcC5tb2RPbmx5TWVzc2FnZSA9IHNhbml0aXplVGV4dEluQ2hhdChuZXdNZWV0aW5nLndlbGNvbWVQcm9wLm1vZE9ubHlNZXNzYWdlKTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIG1lZXRpbmdFbmRlZCxcbiAgICAgIHB1Ymxpc2hlZFBvbGw6IGZhbHNlLFxuICAgIH0sIGZsYXQobmV3TWVldGluZywge1xuICAgICAgc2FmZTogdHJ1ZSxcbiAgICB9KSksXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQsIG51bWJlckFmZmVjdGVkIH0gPSBSZWNvcmRNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIHsgbWVldGluZ0lkLCAuLi5yZWNvcmRQcm9wIH0pO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBBZGRlZCByZWNvcmQgcHJvcCBpZD0ke21lZXRpbmdJZH1gKTtcbiAgICB9IGVsc2UgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgcmVjb3JkIHByb3AgaWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyByZWNvcmQgcHJvcCB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkLCBudW1iZXJBZmZlY3RlZCB9ID0gTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBhZGRBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCk7XG4gICAgYWRkQ3Vyc29yU3RyZWFtZXIobWVldGluZ0lkKTtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgbWVldGluZyBpZD0ke21lZXRpbmdJZH1gKTtcbiAgICAgIC8vIFRPRE86IEhlcmUgd2UgY2FsbCBFdGhlcnBhZCBBUEkgdG8gY3JlYXRlIHRoaXMgbWVldGluZyBub3Rlcy4gSXMgdGhlcmUgYVxuICAgICAgLy8gYmV0dGVyIHBsYWNlIHdlIGNhbiBydW4gdGhpcyBwb3N0LWNyZWF0aW9uIHJvdXRpbmU/XG4gICAgICBjcmVhdGVOb3RlKG1lZXRpbmdJZCk7XG4gICAgICBjcmVhdGVDYXB0aW9ucyhtZWV0aW5nSWQpO1xuICAgICAgQmFubmVkVXNlcnMuaW5pdChtZWV0aW5nSWQpO1xuICAgIH0gZWxzZSBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBtZWV0aW5nIGlkPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgbWVldGluZyB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZUxvY2tTZXR0aW5ncyhtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYXlsb2FkLCB7XG4gICAgZGlzYWJsZUNhbTogQm9vbGVhbixcbiAgICBkaXNhYmxlTWljOiBCb29sZWFuLFxuICAgIGRpc2FibGVQcml2Q2hhdDogQm9vbGVhbixcbiAgICBkaXNhYmxlUHViQ2hhdDogQm9vbGVhbixcbiAgICBkaXNhYmxlTm90ZTogQm9vbGVhbixcbiAgICBoaWRlVXNlckxpc3Q6IEJvb2xlYW4sXG4gICAgbG9ja2VkTGF5b3V0OiBCb29sZWFuLFxuICAgIGxvY2tPbkpvaW46IEJvb2xlYW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZTogQm9vbGVhbixcbiAgICBzZXRCeTogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGRpc2FibGVDYW0sXG4gICAgZGlzYWJsZU1pYyxcbiAgICBkaXNhYmxlUHJpdkNoYXQsXG4gICAgZGlzYWJsZVB1YkNoYXQsXG4gICAgZGlzYWJsZU5vdGUsXG4gICAgaGlkZVVzZXJMaXN0LFxuICAgIGxvY2tlZExheW91dCxcbiAgICBsb2NrT25Kb2luLFxuICAgIGxvY2tPbkpvaW5Db25maWd1cmFibGUsXG4gICAgc2V0QnksXG4gIH0gPSBwYXlsb2FkO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBsb2NrU2V0dGluZ3NQcm9wczoge1xuICAgICAgICBkaXNhYmxlQ2FtLFxuICAgICAgICBkaXNhYmxlTWljLFxuICAgICAgICBkaXNhYmxlUHJpdmF0ZUNoYXQ6IGRpc2FibGVQcml2Q2hhdCxcbiAgICAgICAgZGlzYWJsZVB1YmxpY0NoYXQ6IGRpc2FibGVQdWJDaGF0LFxuICAgICAgICBkaXNhYmxlTm90ZSxcbiAgICAgICAgaGlkZVVzZXJMaXN0LFxuICAgICAgICBsb2NrZWRMYXlvdXQsXG4gICAgICAgIGxvY2tPbkpvaW4sXG4gICAgICAgIGxvY2tPbkpvaW5Db25maWd1cmFibGUsXG4gICAgICAgIHNldEJ5LFxuICAgICAgfSxcbiAgICB9LFxuICB9O1xuXG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENoYW5nZWQgbWVldGluZz17JHttZWV0aW5nSWR9fSB1cGRhdGVkIGxvY2sgc2V0dGluZ3NgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gbG9jayBzZXR0aW5ncyB3ZXJlIG5vdCB1cGRhdGVkYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENoYW5naW5nIG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gbG9jayBzZXR0aW5nczogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VVc2VyTG9jayhtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYXlsb2FkLCB7XG4gICAgdXNlcklkOiBTdHJpbmcsXG4gICAgbG9ja2VkOiBCb29sZWFuLFxuICAgIGxvY2tlZEJ5OiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHsgdXNlcklkLCBsb2NrZWQsIGxvY2tlZEJ5IH0gPSBwYXlsb2FkO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgbG9ja2VkLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVzZXIncyB1c2VySWQ9JHt1c2VySWR9IGxvY2sgc3RhdHVzIHdhcyBjaGFuZ2VkIHRvOiAke2xvY2tlZH0gYnkgdXNlciB1c2VySWQ9JHtsb2NrZWRCeX1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYFVzZXIncyB1c2VySWQ9JHt1c2VySWR9IGxvY2sgc3RhdHVzIHdhc24ndCB1cGRhdGVkYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENoYW5naW5nIHVzZXIgbG9jayBzZXR0aW5nOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWVldGluZ1RpbWVSZW1haW5pbmcgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhck1lZXRpbmdUaW1lUmVtYWluaW5nKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gTWVldGluZ1RpbWVSZW1haW5pbmcucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgTWVldGluZ1RpbWVSZW1haW5pbmcgaW4gKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBFcnJvciBvbiBjbGVhcmluZyBNZWV0aW5nVGltZVJlbWFpbmluZyBpbiAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IE1lZXRpbmdUaW1lUmVtYWluaW5nLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBNZWV0aW5nVGltZVJlbWFpbmluZyBpbiBhbGwgbWVldGluZ3MnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgTWVldGluZ1RpbWVSZW1haW5pbmcgaW4gYWxsIG1lZXRpbmdzLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFJlY29yZE1lZXRpbmdzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVldGluZ0hhc0VuZGVkKG1lZXRpbmdJZCkge1xuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUmVjb3JkTWVldGluZ3MucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCByZWNvcmQgcHJvcCBmcm9tIG1lZXRpbmcgd2l0aCBpZCAke21lZXRpbmdJZH1gKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyByZWNvcmQgcHJvcCBmcm9tIG1lZXRpbmcgd2l0aCBpZCAke21lZXRpbmdJZH0uICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuaW1wb3J0IHsgcmVtb3ZlQW5ub3RhdGlvbnNTdHJlYW1lciB9IGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuaW1wb3J0IHsgcmVtb3ZlQ3Vyc29yU3RyZWFtZXIgfSBmcm9tICcvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9zdHJlYW1lcic7XG5cbmltcG9ydCBjbGVhclVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlcnMnO1xuaW1wb3J0IGNsZWFyVXNlcnNTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9jbGVhclVzZXJzU2V0dGluZ3MnO1xuaW1wb3J0IGNsZWFyR3JvdXBDaGF0IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tb2RpZmllcnMvY2xlYXJHcm91cENoYXQnO1xuaW1wb3J0IGNsZWFyR3Vlc3RVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyL21vZGlmaWVycy9jbGVhckd1ZXN0VXNlcnMnO1xuaW1wb3J0IGNsZWFyQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21vZGlmaWVycy9jbGVhckJyZWFrb3V0cyc7XG5pbXBvcnQgY2xlYXJBbm5vdGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhckFubm90YXRpb25zJztcbmltcG9ydCBjbGVhclNsaWRlcyBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJTbGlkZXMnO1xuaW1wb3J0IGNsZWFyUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQb2xscyc7XG5pbXBvcnQgY2xlYXJDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhckNhcHRpb25zJztcbmltcG9ydCBjbGVhclByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQcmVzZW50YXRpb25Qb2RzJztcbmltcG9ydCBjbGVhclZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJWb2ljZVVzZXJzJztcbmltcG9ydCBjbGVhclVzZXJJbmZvIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlckluZm8nO1xuaW1wb3J0IGNsZWFyU2NyZWVuc2hhcmUgZnJvbSAnL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlci9tb2RpZmllcnMvY2xlYXJTY3JlZW5zaGFyZSc7XG5pbXBvcnQgY2xlYXJOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvY2xlYXJOb3RlJztcbmltcG9ydCBjbGVhck5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbi9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyTmV0d29ya0luZm9ybWF0aW9uJztcbmltcG9ydCBjbGVhck1lZXRpbmdUaW1lUmVtYWluaW5nIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyTWVldGluZ1RpbWVSZW1haW5pbmcnO1xuaW1wb3J0IGNsZWFyTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9jbGVhckxvY2FsU2V0dGluZ3MnO1xuaW1wb3J0IGNsZWFyUmVjb3JkTWVldGluZyBmcm9tICcuL2NsZWFyUmVjb3JkTWVldGluZyc7XG5pbXBvcnQgY2xlYXJWb2ljZUNhbGxTdGF0ZXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJWb2ljZUNhbGxTdGF0ZXMnO1xuaW1wb3J0IGNsZWFyVmlkZW9TdHJlYW1zIGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJWaWRlb1N0cmVhbXMnO1xuaW1wb3J0IGNsZWFyV2hpdGVib2FyZE11bHRpVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9tb2RpZmllcnMvY2xlYXJXaGl0ZWJvYXJkTXVsdGlVc2VyJztcbmltcG9ydCBCYW5uZWRVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL3N0b3JlL2Jhbm5lZFVzZXJzJztcbmltcG9ydCBNZXRyaWNzIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL21ldHJpY3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZWV0aW5nSGFzRW5kZWQobWVldGluZ0lkKSB7XG4gIHJlbW92ZUFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKTtcbiAgcmVtb3ZlQ3Vyc29yU3RyZWFtZXIobWVldGluZ0lkKTtcblxuICByZXR1cm4gTWVldGluZ3MucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICBjbGVhckNhcHRpb25zKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJHcm91cENoYXQobWVldGluZ0lkKTtcbiAgICBjbGVhckd1ZXN0VXNlcnMobWVldGluZ0lkKTtcbiAgICBjbGVhclByZXNlbnRhdGlvblBvZHMobWVldGluZ0lkKTtcbiAgICBjbGVhckJyZWFrb3V0cyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyUG9sbHMobWVldGluZ0lkKTtcbiAgICBjbGVhckFubm90YXRpb25zKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJTbGlkZXMobWVldGluZ0lkKTtcbiAgICBjbGVhclVzZXJzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJVc2Vyc1NldHRpbmdzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJWb2ljZVVzZXJzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJVc2VySW5mbyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyTm90ZShtZWV0aW5nSWQpO1xuICAgIGNsZWFyTmV0d29ya0luZm9ybWF0aW9uKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJMb2NhbFNldHRpbmdzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJNZWV0aW5nVGltZVJlbWFpbmluZyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyUmVjb3JkTWVldGluZyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVm9pY2VDYWxsU3RhdGVzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJWaWRlb1N0cmVhbXMobWVldGluZ0lkKTtcbiAgICBjbGVhcldoaXRlYm9hcmRNdWx0aVVzZXIobWVldGluZ0lkKTtcbiAgICBjbGVhclNjcmVlbnNoYXJlKG1lZXRpbmdJZCk7XG4gICAgQmFubmVkVXNlcnMuZGVsZXRlKG1lZXRpbmdJZCk7XG4gICAgTWV0cmljcy5yZW1vdmVNZWV0aW5nKG1lZXRpbmdJZCk7XG5cbiAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBNZWV0aW5ncyB3aXRoIGlkICR7bWVldGluZ0lkfWApO1xuICB9KTtcbn1cbiIsImltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQdWJsaXNoZWRQb2xsKG1lZXRpbmdJZCwgaXNQdWJsaXNoZWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhpc1B1Ymxpc2hlZCwgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHB1Ymxpc2hlZFBvbGw6IGlzUHVibGlzaGVkLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFNldCBwdWJsaXNoZWRQb2xsPSR7aXNQdWJsaXNoZWR9IGluIG1lZWl0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFNldHRpbmcgcHVibGlzaGVkUG9sbD0ke2lzUHVibGlzaGVkfSBmb3IgbWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlV2ViY2FtT25seU1vZGVyYXRvcihtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYXlsb2FkLCB7XG4gICAgd2ViY2Ftc09ubHlGb3JNb2RlcmF0b3I6IEJvb2xlYW4sXG4gICAgc2V0Qnk6IFN0cmluZyxcbiAgfSk7XG4gIGNvbnN0IHsgd2ViY2Ftc09ubHlGb3JNb2RlcmF0b3IgfSA9IHBheWxvYWQ7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgICd1c2Vyc1Byb3Aud2ViY2Ftc09ubHlGb3JNb2RlcmF0b3InOiB3ZWJjYW1zT25seUZvck1vZGVyYXRvcixcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDaGFuZ2VkIG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gdXBkYXRlZCB3ZWJjYW0gT25seSBmb3IgTW9kZXJhdG9yYClcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gd2ViY2FtIE9ubHkgZm9yIE1vZGVyYXRvciB3ZXJlIG5vdCB1cGRhdGVkYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENoYW5nd2luZyBtZWV0aW5nPXske21lZXRpbmdJZH19IHdlYmNhbSBPbmx5IGZvciBNb2RlcmF0b3I6ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZU1lZXRpbmdDcmVhdGlvbiBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdDcmVhdGlvbic7XG5pbXBvcnQgaGFuZGxlR2V0QWxsTWVldGluZ3MgZnJvbSAnLi9oYW5kbGVycy9nZXRBbGxNZWV0aW5ncyc7XG5pbXBvcnQgaGFuZGxlTWVldGluZ0VuZCBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdFbmQnO1xuaW1wb3J0IGhhbmRsZU1lZXRpbmdEZXN0cnVjdGlvbiBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdEZXN0cnVjdGlvbic7XG5pbXBvcnQgaGFuZGxlTWVldGluZ0xvY2tzQ2hhbmdlIGZyb20gJy4vaGFuZGxlcnMvbWVldGluZ0xvY2tDaGFuZ2UnO1xuaW1wb3J0IGhhbmRsZVVzZXJMb2NrQ2hhbmdlIGZyb20gJy4vaGFuZGxlcnMvdXNlckxvY2tDaGFuZ2UnO1xuaW1wb3J0IGhhbmRsZVJlY29yZGluZ1N0YXR1c0NoYW5nZSBmcm9tICcuL2hhbmRsZXJzL3JlY29yZGluZ1N0YXR1c0NoYW5nZSc7XG5pbXBvcnQgaGFuZGxlUmVjb3JkaW5nVGltZXJDaGFuZ2UgZnJvbSAnLi9oYW5kbGVycy9yZWNvcmRpbmdUaW1lckNoYW5nZSc7XG5pbXBvcnQgaGFuZGxlVGltZVJlbWFpbmluZ1VwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL3RpbWVSZW1haW5pbmdVcGRhdGUnO1xuaW1wb3J0IGhhbmRsZUNoYW5nZVdlYmNhbU9ubHlNb2RlcmF0b3IgZnJvbSAnLi9oYW5kbGVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yJztcblxuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdDcmVhdGVkRXZ0TXNnJywgaGFuZGxlTWVldGluZ0NyZWF0aW9uKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0TWVldGluZ0luZm9SZXNwTXNnJywgaGFuZGxlR2V0QWxsTWVldGluZ3MpO1xuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdFbmRpbmdFdnRNc2cnLCBoYW5kbGVNZWV0aW5nRW5kKTtcblJlZGlzUHViU3ViLm9uKCdNZWV0aW5nRGVzdHJveWVkRXZ0TXNnJywgaGFuZGxlTWVldGluZ0Rlc3RydWN0aW9uKTtcblJlZGlzUHViU3ViLm9uKCdMb2NrU2V0dGluZ3NJbk1lZXRpbmdDaGFuZ2VkRXZ0TXNnJywgaGFuZGxlTWVldGluZ0xvY2tzQ2hhbmdlKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyTG9ja2VkSW5NZWV0aW5nRXZ0TXNnJywgaGFuZGxlVXNlckxvY2tDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1JlY29yZGluZ1N0YXR1c0NoYW5nZWRFdnRNc2cnLCBoYW5kbGVSZWNvcmRpbmdTdGF0dXNDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1VwZGF0ZVJlY29yZGluZ1RpbWVyRXZ0TXNnJywgaGFuZGxlUmVjb3JkaW5nVGltZXJDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1dlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yQ2hhbmdlZEV2dE1zZycsIGhhbmRsZUNoYW5nZVdlYmNhbU9ubHlNb2RlcmF0b3IpO1xuUmVkaXNQdWJTdWIub24oJ0dldExvY2tTZXR0aW5nc1Jlc3BNc2cnLCBoYW5kbGVNZWV0aW5nTG9ja3NDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdUaW1lUmVtYWluaW5nVXBkYXRlRXZ0TXNnJywgaGFuZGxlVGltZVJlbWFpbmluZ1VwZGF0ZSk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBlbmRNZWV0aW5nIGZyb20gJy4vbWV0aG9kcy9lbmRNZWV0aW5nJztcbmltcG9ydCB0b2dnbGVSZWNvcmRpbmcgZnJvbSAnLi9tZXRob2RzL3RvZ2dsZVJlY29yZGluZyc7XG5pbXBvcnQgdHJhbnNmZXJVc2VyIGZyb20gJy4vbWV0aG9kcy90cmFuc2ZlclVzZXInO1xuaW1wb3J0IHRvZ2dsZUxvY2tTZXR0aW5ncyBmcm9tICcuL21ldGhvZHMvdG9nZ2xlTG9ja1NldHRpbmdzJztcbmltcG9ydCB0b2dnbGVXZWJjYW1zT25seUZvck1vZGVyYXRvciBmcm9tICcuL21ldGhvZHMvdG9nZ2xlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3InO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGVuZE1lZXRpbmcsXG4gIHRvZ2dsZVJlY29yZGluZyxcbiAgdG9nZ2xlTG9ja1NldHRpbmdzLFxuICB0cmFuc2ZlclVzZXIsXG4gIHRvZ2dsZVdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBNZWV0aW5ncywgeyBSZWNvcmRNZWV0aW5ncywgTWVldGluZ1RpbWVSZW1haW5pbmcgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgUk9MRV9NT0RFUkFUT1IgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLnVzZXIucm9sZV9tb2RlcmF0b3I7XG5cbmZ1bmN0aW9uIG1lZXRpbmdzKHJvbGUpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBNZWV0aW5ncy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBtZWV0aW5nJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICAkb3I6IFtcbiAgICAgIHsgbWVldGluZ0lkIH0sXG4gICAgXSxcbiAgfTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7IHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLCBtZWV0aW5nSWQgfSwgeyBmaWVsZHM6IHsgcm9sZTogMSB9IH0pO1xuICBpZiAoISFVc2VyICYmIFVzZXIucm9sZSA9PT0gUk9MRV9NT0RFUkFUT1IpIHtcbiAgICBzZWxlY3Rvci4kb3IucHVzaCh7XG4gICAgICAnbWVldGluZ1Byb3AuaXNCcmVha291dCc6IHRydWUsXG4gICAgICAnYnJlYWtvdXRQcm9wcy5wYXJlbnRJZCc6IG1lZXRpbmdJZCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwYXNzd29yZDogZmFsc2UsXG4gICAgICAnd2VsY29tZVByb3AubW9kT25seU1lc3NhZ2UnOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBNZWV0aW5ncy5maW5kKHNlbGVjdG9yLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTWVldGluZ3MgPSBtZWV0aW5ncy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRNZWV0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ21lZXRpbmdzJywgcHVibGlzaCk7XG5cbmZ1bmN0aW9uIHJlY29yZE1lZXRpbmdzKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFJlY29yZE1lZXRpbmdzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIHJldHVybiBSZWNvcmRNZWV0aW5ncy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuZnVuY3Rpb24gcmVjb3JkUHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUmVjb3JkTWVldGluZ3MgPSByZWNvcmRNZWV0aW5ncy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRSZWNvcmRNZWV0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3JlY29yZC1tZWV0aW5ncycsIHJlY29yZFB1Ymxpc2gpO1xuXG5mdW5jdGlvbiBtZWV0aW5nVGltZVJlbWFpbmluZygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBNZWV0aW5nVGltZVJlbWFpbmluZy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICByZXR1cm4gTWVldGluZ1RpbWVSZW1haW5pbmcuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cbmZ1bmN0aW9uIHRpbWVSZW1haW5pbmdQdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmR0aW1lUmVtYWluaW5nID0gbWVldGluZ1RpbWVSZW1haW5pbmcuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kdGltZVJlbWFpbmluZyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ21lZXRpbmctdGltZS1yZW1haW5pbmcnLCB0aW1lUmVtYWluaW5nUHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgTWVldGluZ3MgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignbWVldGluZ3MnKTtcbmNvbnN0IFJlY29yZE1lZXRpbmdzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3JlY29yZC1tZWV0aW5ncycpO1xuY29uc3QgTWVldGluZ1RpbWVSZW1haW5pbmcgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignbWVldGluZy10aW1lLXJlbWFpbmluZycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBtZWV0aW5nczpcbiAgLy8gMS4gbWVldGluZ0lkXG5cbiAgTWVldGluZ3MuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xuICBSZWNvcmRNZWV0aW5ncy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEgfSk7XG4gIE1lZXRpbmdUaW1lUmVtYWluaW5nLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IHtcbiAgUmVjb3JkTWVldGluZ3MsXG4gIE1lZXRpbmdUaW1lUmVtYWluaW5nLFxufTtcbmV4cG9ydCBkZWZhdWx0IE1lZXRpbmdzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IE5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlckluc3RhYmlsaXR5RGV0ZWN0ZWQoc2VuZGVyKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHJlY2VpdmVyIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhzZW5kZXIsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVjZWl2ZXIsXG4gICAgc2VuZGVyLFxuICB9O1xuXG4gIExvZ2dlci5kZWJ1ZygnUmVjZWl2ZXIgcmVwb3J0ZWQgYSBuZXR3b3JrIGluc3RhYmlsaXR5JywgeyByZWNlaXZlciwgbWVldGluZ0lkIH0pO1xuXG4gIHJldHVybiBOZXR3b3JrSW5mb3JtYXRpb24uaW5zZXJ0KHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IE5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyTmV0d29ya0luZm9ybWF0aW9uKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gTmV0d29ya0luZm9ybWF0aW9uLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIE5ldHdvcmsgSW5mb3JtYXRpb24gKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgTmV0d29yayBJbmZvcm1hdGlvbiAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IE5ldHdvcmtJbmZvcm1hdGlvbi5yZW1vdmUoe30pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgTmV0d29yayBJbmZvcm1hdGlvbiAoYWxsKScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBOZXR3b3JrIEluZm9ybWF0aW9uIChhbGwpLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXInO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgdXNlckluc3RhYmlsaXR5RGV0ZWN0ZWQgZnJvbSAnLi9tZXRob2RzL3VzZXJJbnN0YWJpbGl0eURldGVjdGVkJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB1c2VySW5zdGFiaWxpdHlEZXRlY3RlZCxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTmV0d29ya0luZm9ybWF0aW9uIGZyb20gJy9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBuZXR3b3JrSW5mb3JtYXRpb24oKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gTmV0d29ya0luZm9ybWF0aW9uLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIHJldHVybiBOZXR3b3JrSW5mb3JtYXRpb24uZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTmV0d29ya0luZm9ybWF0aW9uID0gbmV0d29ya0luZm9ybWF0aW9uLmJpbmQodGhpcyk7XG5cbiAgcmV0dXJuIGJvdW5kTmV0d29ya0luZm9ybWF0aW9uKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnbmV0d29yay1pbmZvcm1hdGlvbicsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IE5ldHdvcmtJbmZvcm1hdGlvbiA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCduZXR3b3JrLWluZm9ybWF0aW9uJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTmV0d29ya0luZm9ybWF0aW9uLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTmV0d29ya0luZm9ybWF0aW9uO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHVwZGF0ZU5vdGUgZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL21vZGlmaWVycy91cGRhdGVOb3RlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUGFkVXBkYXRlKHsgYm9keSB9KSB7XG4gIGNvbnN0IHsgcGFkLCByZXZzIH0gPSBib2R5O1xuICBjb25zdCB7IGlkIH0gPSBwYWQ7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG4gIGNoZWNrKHJldnMsIE51bWJlcik7XG5cbiAgdXBkYXRlTm90ZShpZCwgcmV2cyk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQge1xuICBnZW5lcmF0ZU5vdGVJZCxcbiAgY3JlYXRlUGFkVVJMLFxuICBnZXRSZWFkT25seUlkVVJMLFxuICBpc0VuYWJsZWQsXG4gIGdldERhdGFGcm9tUmVzcG9uc2UsXG59IGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBhZGROb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvYWRkTm90ZSc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVOb3RlKG1lZXRpbmdJZCkge1xuICAvLyBBdm9pZCBub3RlIGNyZWF0aW9uIGlmIHRoaXMgZmVhdHVyZSBpcyBkaXNhYmxlZFxuICBpZiAoIWlzRW5hYmxlZCgpKSB7XG4gICAgTG9nZ2VyLndhcm4oYE5vdGVzIGFyZSBkaXNhYmxlZCBmb3IgJHttZWV0aW5nSWR9YCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IG5vdGVJZCA9IGdlbmVyYXRlTm90ZUlkKG1lZXRpbmdJZCk7XG5cbiAgY29uc3QgY3JlYXRlVVJMID0gY3JlYXRlUGFkVVJMKG5vdGVJZCk7XG4gIGF4aW9zKHtcbiAgICBtZXRob2Q6ICdnZXQnLFxuICAgIHVybDogY3JlYXRlVVJMLFxuICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICB9KS50aGVuKChyZXNwb25zZU91dGVyKSA9PiB7XG4gICAgY29uc3QgeyBzdGF0dXMgfSA9IHJlc3BvbnNlT3V0ZXI7XG4gICAgaWYgKHN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgbm90ZSBpbmZvIGZvciAke21lZXRpbmdJZH0gJHtzdGF0dXN9YCk7XG4gICAgfVxuICAgIGNvbnN0IHJlYWRPbmx5VVJMID0gZ2V0UmVhZE9ubHlJZFVSTChub3RlSWQpO1xuICAgIGF4aW9zKHtcbiAgICAgIG1ldGhvZDogJ2dldCcsXG4gICAgICB1cmw6IHJlYWRPbmx5VVJMLFxuICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbicsXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnN0IHJlYWRPbmx5Tm90ZUlkID0gZ2V0RGF0YUZyb21SZXNwb25zZShyZXNwb25zZS5kYXRhLCAncmVhZE9ubHlJRCcpO1xuICAgICAgaWYgKHJlYWRPbmx5Tm90ZUlkKSB7XG4gICAgICAgIGFkZE5vdGUobWVldGluZ0lkLCBub3RlSWQsIHJlYWRPbmx5Tm90ZUlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExvZ2dlci5lcnJvcihgQ291bGQgbm90IGdldCBub3RlIHJlYWRPbmx5SUQgZm9yICR7bWVldGluZ0lkfWApO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGdldCBub3RlIHJlYWRPbmx5SUQgZm9yICR7bWVldGluZ0lkfTogJHtlcnJvcn1gKSk7XG4gIH0pLmNhdGNoKGVycm9yID0+IExvZ2dlci5lcnJvcihgQ291bGQgbm90IGNyZWF0ZSBub3RlIGZvciAke21lZXRpbmdJZH06ICR7ZXJyb3J9YCkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IE5vdGUgZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGROb3RlKG1lZXRpbmdJZCwgbm90ZUlkLCByZWFkT25seU5vdGVJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKG5vdGVJZCwgU3RyaW5nKTtcbiAgY2hlY2socmVhZE9ubHlOb3RlSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIG5vdGVJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgbm90ZUlkLFxuICAgIHJlYWRPbmx5Tm90ZUlkLFxuICAgIHJldnM6IDAsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IE5vdGUudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIG5vdGUgaWQ9JHtub3RlSWR9IHJlYWRPbmx5SWQ9JHtyZWFkT25seU5vdGVJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIG5vdGUgaWQ9JHtub3RlSWR9IHJlYWRPbmx5SWQ9JHtyZWFkT25seU5vdGVJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIG5vdGUgdG8gdGhlIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZSc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyTm90ZShtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IE5vdGUucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgTm90ZSAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBOb3RlICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gTm90ZS5yZW1vdmUoe30pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgTm90ZSAoYWxsKScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBOb3RlIChhbGwpLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlTm90ZShub3RlSWQsIHJldnMpIHtcbiAgY2hlY2sobm90ZUlkLCBTdHJpbmcpO1xuICBjaGVjayhyZXZzLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG5vdGVJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICByZXZzLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IE5vdGUudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgeyBtdWx0aTogdHJ1ZSB9KTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLnZlcmJvc2UoJ05vdGVzOiB1cGRhdGUgbm90ZSBwYWQnLCB7IHBhZDogbm90ZUlkLCByZXZzIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKCdOb3RlczogZXJyb3Igd2hlbiB1cGRhdGluZyBub3RlIHBhZCcsIHsgZXJyIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0Zvck5vdGVQYWRPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZVBhZFVwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL3BhZFVwZGF0ZSc7XG5cblJlZGlzUHViU3ViLm9uKCdQYWRVcGRhdGVTeXNNc2cnLCBwcm9jZXNzRm9yTm90ZVBhZE9ubHkoaGFuZGxlUGFkVXBkYXRlKSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGhhc2hGTlYzMmEgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgRVRIRVJQQUQgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5ldGhlcnBhZDtcbmNvbnN0IE5PVEVfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5ub3RlO1xuY29uc3QgQkFTRV9VUkwgPSBgaHR0cDovLyR7RVRIRVJQQUQuaG9zdH06JHtFVEhFUlBBRC5wb3J0fS9hcGkvJHtFVEhFUlBBRC52ZXJzaW9ufWA7XG5jb25zdCBUT0tFTiA9ICdfJztcblxuY29uc3QgY3JlYXRlUGFkVVJMID0gcGFkSWQgPT4gYCR7QkFTRV9VUkx9L2NyZWF0ZVBhZD9hcGlrZXk9JHtFVEhFUlBBRC5hcGlrZXl9JnBhZElEPSR7cGFkSWR9YDtcblxuY29uc3QgZ2V0UmVhZE9ubHlJZFVSTCA9IHBhZElkID0+IGAke0JBU0VfVVJMfS9nZXRSZWFkT25seUlEP2FwaWtleT0ke0VUSEVSUEFELmFwaWtleX0mcGFkSUQ9JHtwYWRJZH1gO1xuXG5jb25zdCBhcHBlbmRUZXh0VVJMID0gKHBhZElkLCB0ZXh0KSA9PiBgJHtCQVNFX1VSTH0vYXBwZW5kVGV4dD9hcGlrZXk9JHtFVEhFUlBBRC5hcGlrZXl9JnBhZElEPSR7cGFkSWR9JnRleHQ9JHtlbmNvZGVVUklDb21wb25lbnQodGV4dCl9YDtcblxuY29uc3QgZ2VuZXJhdGVOb3RlSWQgPSAobWVldGluZ0lkKSA9PiB7XG4gIGNvbnN0IG5vdGVJZCA9IGhhc2hGTlYzMmEobWVldGluZ0lkLCB0cnVlKTtcbiAgcmV0dXJuIG5vdGVJZDtcbn07XG5cbmNvbnN0IGlzRW5hYmxlZCA9ICgpID0+IE5PVEVfQ09ORklHLmVuYWJsZWQ7XG5cbmNvbnN0IGdldERhdGFGcm9tUmVzcG9uc2UgPSAoZGF0YSwga2V5KSA9PiB7XG4gIGlmIChkYXRhKSB7XG4gICAgY29uc3QgaW5uZXJEYXRhID0gZGF0YS5kYXRhO1xuICAgIGlmIChpbm5lckRhdGEgJiYgaW5uZXJEYXRhW2tleV0pIHtcbiAgICAgIHJldHVybiBpbm5lckRhdGFba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5jb25zdCBpc05vdGVQYWQgPSBwYWRJZCA9PiBwYWRJZC5zZWFyY2goVE9LRU4pO1xuXG5jb25zdCBwcm9jZXNzRm9yTm90ZVBhZE9ubHkgPSBmbiA9PiAobWVzc2FnZSwgLi4uYXJncykgPT4ge1xuICBjb25zdCB7IGJvZHkgfSA9IG1lc3NhZ2U7XG4gIGNvbnN0IHsgcGFkIH0gPSBib2R5O1xuICBjb25zdCB7IGlkIH0gPSBwYWQ7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG5cbiAgaWYgKGlzTm90ZVBhZChpZCkpIHJldHVybiBmbihtZXNzYWdlLCAuLi5hcmdzKTtcbiAgcmV0dXJuICgpID0+IHt9O1xufTtcblxuZXhwb3J0IHtcbiAgZ2VuZXJhdGVOb3RlSWQsXG4gIGNyZWF0ZVBhZFVSTCxcbiAgZ2V0UmVhZE9ubHlJZFVSTCxcbiAgaXNFbmFibGVkLFxuICBnZXREYXRhRnJvbVJlc3BvbnNlLFxuICBhcHBlbmRUZXh0VVJMLFxuICBwcm9jZXNzRm9yTm90ZVBhZE9ubHksXG59O1xuIiwiaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZSc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gbm90ZSgpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBOb3RlLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmluZm8oYFB1Ymxpc2hpbmcgbm90ZSBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBOb3RlLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZE5vdGUgPSBub3RlLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZE5vdGUoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdub3RlJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgTm90ZSA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdub3RlJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTm90ZS5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIG5vdGVJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTm90ZTtcbiIsImltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBpbmcoKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGxhc3RQaW5nOiBEYXRlLm5vdygpLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciB1cGRhdGluZyBsYXN0UGluZyBmb3IgJHtyZXF1ZXN0ZXJVc2VySWR9OiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgcGluZyBmcm9tICcuL21ldGhvZHMvcGluZyc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcGluZyxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IENPTExFQ1RJT05fTkFNRSA9ICdwaW5nLXBvbmcnO1xuY29uc3QgSU5URVJWQUxfSU5fU0VUVElOR1MgPSAoTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5waW5nUG9uZy5jbGVhclVzZXJzSW5TZWNvbmRzKSAqIDEwMDA7XG5jb25zdCBJTlRFUlZBTF9USU1FID0gSU5URVJWQUxfSU5fU0VUVElOR1MgPCAxMDAwMCA/IDEwMDAwIDogSU5URVJWQUxfSU5fU0VUVElOR1M7XG5jb25zdCBQT05HX0lOVEVSVkFMX0lOX1NFVFRJTkdTID0gKE1ldGVvci5zZXR0aW5ncy5wdWJsaWMucGluZ1BvbmcucG9uZ1RpbWVJblNlY29uZHMpICogMTAwMDtcbmNvbnN0IFBPTkdfSU5URVJWQUwgPSBQT05HX0lOVEVSVkFMX0lOX1NFVFRJTkdTID49IChJTlRFUlZBTF9USU1FIC8gMilcbiAgPyAoSU5URVJWQUxfVElNRSAvIDIpIDogUE9OR19JTlRFUlZBTF9JTl9TRVRUSU5HUztcblxuZnVuY3Rpb24gcGluZ1BvbmcoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm47IC8vIFRPRE8tLSBpcyB0aGVyZSBhIG1vcmUgYXBwcm9wcmlhdGUgc2V0IHRvIHJldHVybj9cbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCBpZCA9IF8udW5pcXVlSWQoJ3BvbmctJyk7XG4gIExvZ2dlci5pbmZvKGBTdGFydGluZyBwaW5nLXBvbmcgcHVibGlzaCBmb3IgdXNlcklkOiAke3JlcXVlc3RlclVzZXJJZH1gKTtcbiAgY29uc3QgcG9uZ1NlbmRlciA9IChpbnRlcnZhbCkgPT4ge1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBwb25nOiB7XG4gICAgICAgIG1lc3NhZ2U6ICdwb25nJyxcbiAgICAgICAgdGltZTogRGF0ZS5ub3coKSxcbiAgICAgICAgbWVldGluZ0lkLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGxldCBmbiA9IHRoaXMuYWRkZWQuYmluZCh0aGlzKTtcbiAgICBpZiAoaW50ZXJ2YWwpIGZuID0gdGhpcy5jaGFuZ2VkLmJpbmQodGhpcyk7XG4gICAgZm4oQ09MTEVDVElPTl9OQU1FLCBpZCwgcGF5bG9hZCk7XG4gIH07XG4gIHBvbmdTZW5kZXIoKTtcbiAgdGhpcy5yZWFkeSgpO1xuICBjb25zdCBpbnRlcnZhbCA9IE1ldGVvci5zZXRJbnRlcnZhbCgoKSA9PiBwb25nU2VuZGVyKHRydWUpLCBQT05HX0lOVEVSVkFMKTtcblxuICB0aGlzLm9uU3RvcCgoKSA9PiB7XG4gICAgTWV0ZW9yLmNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICB9KTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3BpbmctcG9uZycsIHBpbmdQb25nKTtcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCByZW1vdmVQb2xsIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVQb2xsJztcbmltcG9ydCBzZXRQdWJsaXNoZWRQb2xsIGZyb20gJy4uLy4uLy4uL21lZXRpbmdzL3NlcnZlci9tb2RpZmllcnMvc2V0UHVibGlzaGVkUG9sbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbGxQdWJsaXNoZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHBvbGxJZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvbGxJZCwgU3RyaW5nKTtcblxuICBzZXRQdWJsaXNoZWRQb2xsKG1lZXRpbmdJZCwgdHJ1ZSk7XG5cbiAgcmV0dXJuIHJlbW92ZVBvbGwobWVldGluZ0lkLCBwb2xsSWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZFBvbGwgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFBvbGwnO1xuaW1wb3J0IHNldFB1Ymxpc2hlZFBvbGwgZnJvbSAnLi4vLi4vLi4vbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9zZXRQdWJsaXNoZWRQb2xsJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9sbFN0YXJ0ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJJZCB9ID0gYm9keTtcbiAgY29uc3QgeyBwb2xsIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2xsLCBPYmplY3QpO1xuXG4gIHNldFB1Ymxpc2hlZFBvbGwobWVldGluZ0lkLCBmYWxzZSk7XG5cbiAgcmV0dXJuIGFkZFBvbGwobWVldGluZ0lkLCB1c2VySWQsIHBvbGwpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHJlbW92ZVBvbGwgZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZVBvbGwnO1xuaW1wb3J0IGNsZWFyUG9sbHMgZnJvbSAnLi4vbW9kaWZpZXJzL2NsZWFyUG9sbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2xsU3RvcHBlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcG9sbCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgaWYgKHBvbGwpIHtcbiAgICBjb25zdCB7IHBvbGxJZCB9ID0gcG9sbDtcblxuICAgIGNoZWNrKHBvbGxJZCwgU3RyaW5nKTtcblxuICAgIHJldHVybiByZW1vdmVQb2xsKG1lZXRpbmdJZCwgcG9sbElkKTtcbiAgfVxuXG4gIHJldHVybiBjbGVhclBvbGxzKG1lZXRpbmdJZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlclJlc3BvbmRlZCh7IGJvZHkgfSkge1xuICBjb25zdCB7IHBvbGxJZCwgdXNlcklkLCBhbnN3ZXJJZCB9ID0gYm9keTtcblxuICBjaGVjayhwb2xsSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soYW5zd2VySWQsIE51bWJlcik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgaWQ6IHBvbGxJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkcHVsbDoge1xuICAgICAgdXNlcnM6IHVzZXJJZCxcbiAgICB9LFxuICAgICRwdXNoOiB7XG4gICAgICByZXNwb25zZXM6IHsgdXNlcklkLCBhbnN3ZXJJZCB9LFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFBvbGxzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRpbmcgUG9sbCByZXNwb25zZSAodXNlcklkOiAke3VzZXJJZH0sIHJlc3BvbnNlOiAke2Fuc3dlcklkfSwgcG9sbElkOiAke3BvbGxJZH0pYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIFBvbGwgcmVzcG9uc2VzOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHVwZGF0ZVZvdGVzIGZyb20gJy4uL21vZGlmaWVycy91cGRhdGVWb3Rlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJWb3RlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcG9sbCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvbGwsIHtcbiAgICBpZDogU3RyaW5nLFxuICAgIGFuc3dlcnM6IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IE51bWJlcixcbiAgICAgICAga2V5OiBTdHJpbmcsXG4gICAgICAgIG51bVZvdGVzOiBOdW1iZXIsXG4gICAgICB9LFxuICAgIF0sXG4gICAgbnVtUmVzcG9uZGVudHM6IE51bWJlcixcbiAgICBudW1SZXNwb25kZXJzOiBOdW1iZXIsXG4gIH0pO1xuXG4gIHJldHVybiB1cGRhdGVWb3Rlcyhwb2xsLCBtZWV0aW5nSWQpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHB1Ymxpc2hQb2xsKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1Nob3dQb2xsUmVzdWx0UmVxTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCBwb2xsID0gUG9sbHMuZmluZE9uZSh7IG1lZXRpbmdJZCB9KTsgLy8gVE9ETy0tc2VuZCBwb2xsaWQgZnJvbSBjbGllbnRcbiAgaWYgKCFwb2xsKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBdHRlbXB0ZWQgdG8gcHVibGlzaCBpbmV4aXN0aW5nIHBvbGwgZm9yIG1lZXRpbmdJZDogJHttZWV0aW5nSWR9YCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShcbiAgICBDSEFOTkVMLFxuICAgIEVWRU5UX05BTUUsXG4gICAgbWVldGluZ0lkLFxuICAgIHJlcXVlc3RlclVzZXJJZCxcbiAgICAoeyByZXF1ZXN0ZXJJZDogcmVxdWVzdGVyVXNlcklkLCBwb2xsSWQ6IHBvbGwuaWQgfSksXG4gICk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHVibGlzaFZvdGUocG9sbElkLCBwb2xsQW5zd2VySWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdSZXNwb25kVG9Qb2xsUmVxTXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhwb2xsQW5zd2VySWQsIE51bWJlcik7XG4gIGNoZWNrKHBvbGxJZCwgU3RyaW5nKTtcblxuICBjb25zdCBhbGxvd2VkVG9Wb3RlID0gUG9sbHMuZmluZE9uZSh7IGlkOiBwb2xsSWQsIHVzZXJzOiB7ICRpbjogW3JlcXVlc3RlclVzZXJJZF0gfSB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB1c2VyczogMSxcbiAgICB9LFxuICB9KTtcblxuICBpZiAoIWFsbG93ZWRUb1ZvdGUpIHtcbiAgICBMb2dnZXIuaW5mbyhgUG9sbCBVc2VyPXske3JlcXVlc3RlclVzZXJJZH19IGhhcyBhbHJlYWR5IHZvdGVkIGluIFBvbGxJZD17JHtwb2xsSWR9fWApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgdXNlcnM6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBtZWV0aW5nSWQsXG4gICAgJ2Fuc3dlcnMuaWQnOiBwb2xsQW5zd2VySWQsXG4gIH07XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICByZXF1ZXN0ZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIHBvbGxJZCxcbiAgICBxdWVzdGlvbklkOiAwLFxuICAgIGFuc3dlcklkOiBwb2xsQW5zd2VySWQsXG4gIH07XG5cbiAgLypcbiAgIFdlIGtlZXAgYW4gYXJyYXkgb2YgcGVvcGxlIHdobyB3ZXJlIGluIHRoZSBtZWV0aW5nIGF0IHRoZSB0aW1lIHRoZSBwb2xsXG4gICB3YXMgc3RhcnRlZC4gVGhlIHBvbGwgaXMgcHVibGlzaGVkIHRvIHRoZW0gb25seS5cbiAgIE9uY2UgdGhleSB2b3RlIC0gdGhlaXIgSUQgaXMgcmVtb3ZlZCBhbmQgdGhleSBjYW5ub3Qgc2VlIHRoZSBwb2xsIGFueW1vcmVcbiAgKi9cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHB1bGw6IHtcbiAgICAgIHVzZXJzOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUG9sbHMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIHJlc3BvbmRlZCB1c2VyPSR7cmVxdWVzdGVyVXNlcklkfSBmcm9tIHBvbGwgKG1lZXRpbmdJZDogJHttZWV0aW5nSWR9LCBwb2xsSWQ6ICR7cG9sbElkfSEpYCk7XG5cbiAgICAgIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIHJlc3BvbmRlZCB1c2VyIGZyb20gUG9sbHMgY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRQb2xsKHBvbGxUeXBlLCBwb2xsSWQsIGFuc3dlcnMpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcblxuICBsZXQgRVZFTlRfTkFNRSA9ICdTdGFydFBvbGxSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2socG9sbElkLCBTdHJpbmcpO1xuICBjaGVjayhwb2xsVHlwZSwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHJlcXVlc3RlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgcG9sbElkOiBgJHtwb2xsSWR9LyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9YCxcbiAgICBwb2xsVHlwZSxcbiAgfTtcblxuICBpZiAocG9sbFR5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgRVZFTlRfTkFNRSA9ICdTdGFydEN1c3RvbVBvbGxSZXFNc2cnO1xuICAgIGNoZWNrKGFuc3dlcnMsIEFycmF5KTtcbiAgICBwYXlsb2FkLmFuc3dlcnMgPSBhbnN3ZXJzO1xuICB9XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0b3BQb2xsKCkge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiByZXF1ZXN0ZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTdG9wUG9sbFJlcU1zZyc7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShcbiAgICBDSEFOTkVMLFxuICAgIEVWRU5UX05BTUUsXG4gICAgbWVldGluZ0lkLFxuICAgIHJlcXVlc3RlcklkLFxuICAgICh7IHJlcXVlc3RlcklkIH0pLFxuICApO1xufVxuIiwiaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRQb2xsKG1lZXRpbmdJZCwgcmVxdWVzdGVySWQsIHBvbGwpIHtcbiAgY2hlY2socmVxdWVzdGVySWQsIFN0cmluZyk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9sbCwge1xuICAgIGlkOiBTdHJpbmcsXG4gICAgYW5zd2VyczogW1xuICAgICAge1xuICAgICAgICBpZDogTnVtYmVyLFxuICAgICAgICBrZXk6IFN0cmluZyxcbiAgICAgIH0sXG4gICAgXSxcbiAgfSk7XG5cbiAgY29uc3QgdXNlclNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHsgJG5lOiByZXF1ZXN0ZXJJZCB9LFxuICAgIGNsaWVudFR5cGU6IHsgJG5lOiAnZGlhbC1pbi11c2VyJyB9LFxuICB9O1xuXG4gIGNvbnN0IHVzZXJJZHMgPSBVc2Vycy5maW5kKHVzZXJTZWxlY3RvciwgeyBmaWVsZHM6IHsgdXNlcklkOiAxIH0gfSlcbiAgICAuZmV0Y2goKVxuICAgIC5tYXAodXNlciA9PiB1c2VyLnVzZXJJZCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHJlcXVlc3RlcjogcmVxdWVzdGVySWQsXG4gICAgaWQ6IHBvbGwuaWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSBPYmplY3QuYXNzaWduKFxuICAgIHsgbWVldGluZ0lkIH0sXG4gICAgeyByZXF1ZXN0ZXI6IHJlcXVlc3RlcklkIH0sXG4gICAgeyB1c2VyczogdXNlcklkcyB9LFxuICAgIGZsYXQocG9sbCwgeyBzYWZlOiB0cnVlIH0pLFxuICApO1xuXG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IFBvbGxzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBBZGRlZCBQb2xsIGlkPSR7cG9sbC5pZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIFBvbGwgaWQ9JHtwb2xsLmlkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgUG9sbCB0byBjb2xsZWN0aW9uOiAke3BvbGwuaWR9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclBvbGxzKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUG9sbHMucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgUG9sbHMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBFcnJvciBvbiBjbGVhcmluZyBQb2xscyAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFBvbGxzLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBQb2xscyAoYWxsKScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmluZm8oYEVycm9yIG9uIGNsZWFyaW5nIFBvbGxzIChhbGwpLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVQb2xsKG1lZXRpbmdJZCwgaWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhpZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaWQsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFBvbGxzLnJlbW92ZShzZWxlY3Rvcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIFBvbGwgaWQ9JHtpZH1gKTtcbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBQb2xsIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZVZvdGVzKHBvbGwsIG1lZXRpbmdJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvbGwsIE9iamVjdCk7XG5cbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGFuc3dlcnMsXG4gICAgbnVtUmVzcG9uZGVycyxcbiAgICBudW1SZXNwb25kZW50cyxcbiAgfSA9IHBvbGw7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG4gIGNoZWNrKGFuc3dlcnMsIEFycmF5KTtcblxuICBjaGVjayhudW1SZXNwb25kZXJzLCBOdW1iZXIpO1xuICBjaGVjayhudW1SZXNwb25kZW50cywgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogZmxhdChwb2xsLCB7IHNhZmU6IHRydWUgfSksXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFBvbGxzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRpbmcgUG9sbHMgY29sbGVjdGlvbiAobWVldGluZ0lkOiAke21lZXRpbmdJZH0sIHBvbGxJZDogJHtpZH0hKWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBQb2xscyBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVQb2xsU3RhcnRlZCBmcm9tICcuL2hhbmRsZXJzL3BvbGxTdGFydGVkJztcbmltcG9ydCBoYW5kbGVQb2xsU3RvcHBlZCBmcm9tICcuL2hhbmRsZXJzL3BvbGxTdG9wcGVkJztcbmltcG9ydCBoYW5kbGVQb2xsUHVibGlzaGVkIGZyb20gJy4vaGFuZGxlcnMvcG9sbFB1Ymxpc2hlZCc7XG5pbXBvcnQgaGFuZGxlVXNlclZvdGVkIGZyb20gJy4vaGFuZGxlcnMvdXNlclZvdGVkJztcbmltcG9ydCBoYW5kbGVVc2VyUmVzcG9uZGVkIGZyb20gJy4vaGFuZGxlcnMvdXNlclJlc3BvbmRlZCc7XG5cblJlZGlzUHViU3ViLm9uKCdQb2xsU2hvd1Jlc3VsdEV2dE1zZycsIGhhbmRsZVBvbGxQdWJsaXNoZWQpO1xuUmVkaXNQdWJTdWIub24oJ1BvbGxTdGFydGVkRXZ0TXNnJywgaGFuZGxlUG9sbFN0YXJ0ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1BvbGxTdG9wcGVkRXZ0TXNnJywgaGFuZGxlUG9sbFN0b3BwZWQpO1xuUmVkaXNQdWJTdWIub24oJ1BvbGxVcGRhdGVkRXZ0TXNnJywgaGFuZGxlVXNlclZvdGVkKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyUmVzcG9uZGVkVG9Qb2xsUmVzcE1zZycsIGhhbmRsZVVzZXJSZXNwb25kZWQpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgcHVibGlzaFZvdGUgZnJvbSAnLi9tZXRob2RzL3B1Ymxpc2hWb3RlJztcbmltcG9ydCBwdWJsaXNoUG9sbCBmcm9tICcuL21ldGhvZHMvcHVibGlzaFBvbGwnO1xuaW1wb3J0IHN0YXJ0UG9sbCBmcm9tICcuL21ldGhvZHMvc3RhcnRQb2xsJztcbmltcG9ydCBzdG9wUG9sbCBmcm9tICcuL21ldGhvZHMvc3RvcFBvbGwnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHB1Ymxpc2hWb3RlLFxuICBwdWJsaXNoUG9sbCxcbiAgc3RhcnRQb2xsLFxuICBzdG9wUG9sbCxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBjdXJyZW50UG9sbCgpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBQb2xscy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIHBvbGwnLCB7IG1lZXRpbmdJZCB9KTtcblxuICByZXR1cm4gUG9sbHMuZmluZChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hDdXJyZW50UG9sbCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUG9sbHMgPSBjdXJyZW50UG9sbC5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRQb2xscyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2N1cnJlbnQtcG9sbCcsIHB1Ymxpc2hDdXJyZW50UG9sbCk7XG5cblxuZnVuY3Rpb24gcG9sbHMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gUG9sbHMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBwb2xscycsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJzOiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgcmV0dXJuIFBvbGxzLmZpbmQoc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRQb2xscyA9IHBvbGxzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFBvbGxzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgncG9sbHMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBQb2xscyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdwb2xscycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIFdlIGNhbiBoYXZlIGp1c3Qgb25lIGFjdGl2ZSBwb2xsIHBlciBtZWV0aW5nXG4gIC8vIG1ha2VzIG5vIHNlbnNlIHRvIGluZGV4IGl0IGJ5IGFueXRoaW5nIG90aGVyIHRoYW4gbWVldGluZ0lkXG5cbiAgUG9sbHMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xscztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRQcmVzZW50YXRpb25Qb2QgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFByZXNlbnRhdGlvblBvZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZU5ld1ByZXNlbnRhdGlvblBvZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIHtcbiAgICBjdXJyZW50UHJlc2VudGVySWQ6IFN0cmluZyxcbiAgICBwb2RJZDogU3RyaW5nLFxuICB9KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHsgY3VycmVudFByZXNlbnRlcklkLCBwb2RJZCB9ID0gYm9keTtcblxuICBjb25zdCBwb2QgPSB7XG4gICAgY3VycmVudFByZXNlbnRlcklkLFxuICAgIHBvZElkLFxuICB9O1xuXG4gIGFkZFByZXNlbnRhdGlvblBvZChtZWV0aW5nSWQsIHBvZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgcmVtb3ZlUHJlc2VudGF0aW9uUG9kIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVQcmVzZW50YXRpb25Qb2QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVSZW1vdmVQcmVzZW50YXRpb25Qb2QoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgeyBwb2RJZCB9ID0gYm9keTtcblxuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICByZW1vdmVQcmVzZW50YXRpb25Qb2QobWVldGluZ0lkLCBwb2RJZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgc2V0UHJlc2VudGVySW5Qb2QgZnJvbSAnLi4vbW9kaWZpZXJzL3NldFByZXNlbnRlckluUG9kJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlU2V0UHJlc2VudGVySW5Qb2QoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgcG9kSWQsIG5leHRQcmVzZW50ZXJJZCB9ID0gYm9keTtcblxuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2sobmV4dFByZXNlbnRlcklkLCBTdHJpbmcpO1xuXG4gIHNldFByZXNlbnRlckluUG9kKG1lZXRpbmdJZCwgcG9kSWQsIG5leHRQcmVzZW50ZXJJZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IHJlbW92ZVByZXNlbnRhdGlvblBvZCBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlUHJlc2VudGF0aW9uUG9kJztcbmltcG9ydCBhZGRQcmVzZW50YXRpb25Qb2QgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFByZXNlbnRhdGlvblBvZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVN5bmNHZXRQcmVzZW50YXRpb25Qb2RzKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHsgcG9kcyB9ID0gYm9keTtcbiAgY2hlY2socG9kcywgQXJyYXkpO1xuXG4gIGNvbnN0IHByZXNlbnRhdGlvblBvZElkcyA9IHBvZHMubWFwKHBvZCA9PiBwb2QuaWQpO1xuXG4gIGNvbnN0IHByZXNlbnRhdGlvblBvZHNUb1JlbW92ZSA9IFByZXNlbnRhdGlvblBvZHMuZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkOiB7ICRuaW46IHByZXNlbnRhdGlvblBvZElkcyB9LFxuICB9LCB7IGZpZWxkczogeyBwb2RJZDogMSB9IH0pLmZldGNoKCk7XG5cbiAgcHJlc2VudGF0aW9uUG9kc1RvUmVtb3ZlLmZvckVhY2gocCA9PiByZW1vdmVQcmVzZW50YXRpb25Qb2QobWVldGluZ0lkLCBwLnBvZElkKSk7XG5cbiAgcG9kcy5mb3JFYWNoKChwb2QpID0+IHtcbiAgICAvLyAncG9kSWQnIGFuZCAnY3VycmVudFByZXNlbnRlcklkJyBmb3Igc29tZSByZWFzb24gY2FsbGVkICdpZCcgYW5kICdjdXJyZW50UHJlc2VudGVyJ1xuICAgIC8vIGluIHRoaXMgbWVzc2FnZVxuICAgIGNvbnN0IHtcbiAgICAgIGlkOiBwb2RJZCxcbiAgICAgIGN1cnJlbnRQcmVzZW50ZXI6IGN1cnJlbnRQcmVzZW50ZXJJZCxcbiAgICAgIHByZXNlbnRhdGlvbnMsXG4gICAgfSA9IHBvZDtcbiAgICBhZGRQcmVzZW50YXRpb25Qb2QobWVldGluZ0lkLCB7IHBvZElkLCBjdXJyZW50UHJlc2VudGVySWQgfSwgcHJlc2VudGF0aW9ucyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgYWRkUHJlc2VudGF0aW9uIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvYWRkUHJlc2VudGF0aW9uJztcblxuLy8gJ3ByZXNlbnRhdGlvbnMnIGlzIHBhc3NlZCBkb3duIGhlcmUgd2hlbiB3ZSByZWNlaXZlIGEgU3luYyBtZXNzYWdlXG4vLyBhbmQgaXQncyBub3QgdXNlZCB3aGVuIHdlIGp1c3QgY3JlYXRlIGEgbmV3IHByZXNlbnRhdGlvbiBwb2RcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFByZXNlbnRhdGlvblBvZChtZWV0aW5nSWQsIHBvZCwgcHJlc2VudGF0aW9ucyA9IHVuZGVmaW5lZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbnMsIE1hdGNoLk1heWJlKEFycmF5KSk7XG4gIGNoZWNrKHBvZCwge1xuICAgIGN1cnJlbnRQcmVzZW50ZXJJZDogU3RyaW5nLFxuICAgIHBvZElkOiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHsgY3VycmVudFByZXNlbnRlcklkLCBwb2RJZCB9ID0gcG9kO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgY3VycmVudFByZXNlbnRlcklkLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBQcmVzZW50YXRpb25Qb2RzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgLy8gaWYgaXQncyBhIFN5bmMgbWVzc2FnZSAtIGNvbnRpbnVlIGFkZGluZyB0aGUgYXR0YWNoZWQgcHJlc2VudGF0aW9uc1xuICAgIGlmIChwcmVzZW50YXRpb25zKSB7XG4gICAgICBwcmVzZW50YXRpb25zLmZvckVhY2gocHJlc2VudGF0aW9uID0+IGFkZFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24pKTtcbiAgICB9XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIHByZXNlbnRhdGlvbiBwb2QgaWQ9JHtwb2RJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIHByZXNlbnRhdGlvbiBwb2QgaWQ9JHtwb2RJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIHByZXNlbnRhdGlvbiBwb2QgdG8gdGhlIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGNsZWFyUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclByZXNlbnRhdGlvblBvZHMobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25Qb2RzLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIGNsZWFyUHJlc2VudGF0aW9ucyhtZWV0aW5nSWQpO1xuICAgICAgICBjbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuKG1lZXRpbmdJZCk7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFByZXNlbnRhdGlvbnMgUG9kcyAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBQcmVzZW50YXRpb25zIFBvZHMgKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25Qb2RzLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBjbGVhclByZXNlbnRhdGlvbnMoKTtcbiAgICAgICAgY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbigpO1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBQcmVzZW50YXRpb25zIFBvZHMgKGFsbCknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgUHJlc2VudGF0aW9ucyBQb2RzIChhbGwpLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgY2xlYXJQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQcmVzZW50YXRpb25zJztcbmltcG9ydCBjbGVhclByZXNlbnRhdGlvblVwbG9hZFRva2VuIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9tb2RpZmllcnMvY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVByZXNlbnRhdGlvblBvZChtZWV0aW5nSWQsIHBvZElkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25Qb2RzLnJlbW92ZShzZWxlY3Rvcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQgJiYgcG9kSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIHByZXNlbnRhdGlvbiBwb2QgaWQ9JHtwb2RJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICAgIGNsZWFyUHJlc2VudGF0aW9ucyhtZWV0aW5nSWQsIHBvZElkKTtcbiAgICAgIGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4obWVldGluZ0lkLCBwb2RJZCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIHJlbW92aW5nIHByZXNlbnRhdGlvbiBwb2QgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJlc2VudGVySW5Qb2QobWVldGluZ0lkLCBwb2RJZCwgbmV4dFByZXNlbnRlcklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKG5leHRQcmVzZW50ZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgY3VycmVudFByZXNlbnRlcklkOiBuZXh0UHJlc2VudGVySWQsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgbnVtYmVyQWZmZWN0ZWQgfSA9IFByZXNlbnRhdGlvblBvZHMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBTZXQgYSBuZXcgcHJlc2VudGVyIGluIHBvZCBpZD0ke3BvZElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBTZXR0aW5nIGEgcHJlc2VudGVyIGluIHBvZDogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlQ3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kIGZyb20gJy4vaGFuZGxlcnMvY3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kJztcbmltcG9ydCBoYW5kbGVSZW1vdmVQcmVzZW50YXRpb25Qb2QgZnJvbSAnLi9oYW5kbGVycy9yZW1vdmVQcmVzZW50YXRpb25Qb2QnO1xuaW1wb3J0IGhhbmRsZVN5bmNHZXRQcmVzZW50YXRpb25Qb2RzIGZyb20gJy4vaGFuZGxlcnMvc3luY0dldFByZXNlbnRhdGlvblBvZHMnO1xuaW1wb3J0IGhhbmRsZVNldFByZXNlbnRlckluUG9kIGZyb20gJy4vaGFuZGxlcnMvc2V0UHJlc2VudGVySW5Qb2QnO1xuXG5SZWRpc1B1YlN1Yi5vbignQ3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kRXZ0TXNnJywgaGFuZGxlQ3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kKTtcblJlZGlzUHViU3ViLm9uKCdSZW1vdmVQcmVzZW50YXRpb25Qb2RFdnRNc2cnLCBoYW5kbGVSZW1vdmVQcmVzZW50YXRpb25Qb2QpO1xuUmVkaXNQdWJTdWIub24oJ1NldFByZXNlbnRlckluUG9kUmVzcE1zZycsIGhhbmRsZVNldFByZXNlbnRlckluUG9kKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0UHJlc2VudGF0aW9uUG9kc1Jlc3BNc2cnLCBoYW5kbGVTeW5jR2V0UHJlc2VudGF0aW9uUG9kcyk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gcHJlc2VudGF0aW9uUG9kcygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBQcmVzZW50YXRpb25Qb2RzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyBwcmVzZW50YXRpb24tcG9kcycsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIFByZXNlbnRhdGlvblBvZHMuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUHJlc2VudGF0aW9uUG9kcyA9IHByZXNlbnRhdGlvblBvZHMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kUHJlc2VudGF0aW9uUG9kcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3ByZXNlbnRhdGlvbi1wb2RzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgUHJlc2VudGF0aW9uUG9kcyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdwcmVzZW50YXRpb24tcG9kcycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBwcmVzZW50YXRpb24gcG9kczpcbiAgLy8gMS4gbWVldGluZ0lkLCBwb2RJZCAgKCA0IClcblxuICBQcmVzZW50YXRpb25Qb2RzLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgcG9kSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByZXNlbnRhdGlvblBvZHM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25VcGxvYWRUb2tlbkZhaWwoeyBib2R5LCBoZWFkZXIgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyB1c2VySWQgfSA9IGhlYWRlcjtcbiAgY29uc3QgeyBwb2RJZCwgZmlsZW5hbWUgfSA9IGJvZHk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soZmlsZW5hbWUsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBwb2RJZCxcbiAgICBmaWxlbmFtZSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgbnVtYmVyQWZmZWN0ZWQgfSA9IFByZXNlbnRhdGlvblVwbG9hZFRva2VuLnVwc2VydChzZWxlY3RvciwgeyBmYWlsZWQ6IHRydWUsIGF1dGh6VG9rZW46IG51bGwgfSk7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmluZyBwcmVzZW50YXRpb25Ub2tlbiBmaWxlbmFtZT0ke2ZpbGVuYW1lfSBwb2RJZD0ke3BvZElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBwcmVzZW50YXRpb25Ub2tlbiBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25VcGxvYWRUb2tlblBhc3MoeyBib2R5LCBoZWFkZXIgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyB1c2VySWQgfSA9IGhlYWRlcjtcbiAgY29uc3QgeyBwb2RJZCwgYXV0aHpUb2tlbiwgZmlsZW5hbWUgfSA9IGJvZHk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soYXV0aHpUb2tlbiwgU3RyaW5nKTtcbiAgY2hlY2soZmlsZW5hbWUsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHVzZXJJZCxcbiAgICBmaWxlbmFtZSxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgdXNlcklkLFxuICAgIGZpbGVuYW1lLFxuICAgIGF1dGh6VG9rZW4sXG4gICAgZmFpbGVkOiBmYWxzZSxcbiAgICB1c2VkOiBmYWxzZSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4udXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEluc2VydGluZyBwcmVzZW50YXRpb25Ub2tlbiBmaWxlbmFtZT0ke2ZpbGVuYW1lfSBwb2RJZD0ke3BvZElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBJbnNlcnRpbmcgcHJlc2VudGF0aW9uVG9rZW4gZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXF1ZXN0UHJlc2VudGF0aW9uVXBsb2FkVG9rZW4ocG9kSWQsIGZpbGVuYW1lKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5SZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhmaWxlbmFtZSwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHBvZElkLFxuICAgIGZpbGVuYW1lLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFByZXNlbnRhdGlvblVwbG9hZFRva2VuIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRVc2VkVG9rZW4oYXV0aHpUb2tlbikge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgJHNldDoge1xuICAgICAgdXNlZDogdHJ1ZSxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi51cGRhdGUoe1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgICBhdXRoelRva2VuLFxuICAgIH0sIHBheWxvYWQpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVG9rZW46ICR7YXV0aHpUb2tlbn0gaGFzIGJlZW4gc2V0IGFzIHVzZWQgaW4gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgVW5hYmxlIHRvIHNldCB0b2tlbiBhcyB1c2VkIDogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4obWVldGluZ0lkLCBwb2RJZCkge1xuICBpZiAobWVldGluZ0lkICYmIHBvZElkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4ucmVtb3ZlKHsgbWVldGluZ0lkLCBwb2RJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFByZXNlbnRhdGlvbnMgVXBsb2FkIFRva2VuICgke21lZXRpbmdJZH0sICR7cG9kSWR9KWApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBFcnJvciBvbiBjbGVhcmluZyBQcmVzZW50YXRpb25zIFVwbG9hZCBUb2tlbiAoJHttZWV0aW5nSWR9LCAke3BvZElkfSkuICR7ZXJyfWApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBQcmVzZW50YXRpb25zIFVwbG9hZCBUb2tlbiAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmluZm8oYEVycm9yIG9uIGNsZWFyaW5nIFByZXNlbnRhdGlvbnMgVXBsb2FkIFRva2VuICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIGNsZWFyaW5nIHByZXNlbnRhdGlvbnMgZm9yIHRoZSB3aG9sZSBzZXJ2ZXJcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4ucmVtb3ZlKHt9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFByZXNlbnRhdGlvbnMgVXBsb2FkIFRva2VuIChhbGwpJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgRXJyb3Igb24gY2xlYXJpbmcgUHJlc2VudGF0aW9ucyBVcGxvYWQgVG9rZW4gKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuaW1wb3J0IGhhbmRsZVByZXNlbnRhdGlvblVwbG9hZFRva2VuUGFzcyBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRhdGlvblVwbG9hZFRva2VuUGFzcyc7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5GYWlsIGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uVXBsb2FkVG9rZW5GYWlsJztcblxuUmVkaXNQdWJTdWIub24oJ1ByZXNlbnRhdGlvblVwbG9hZFRva2VuUGFzc1Jlc3BNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZVByZXNlbnRhdGlvblVwbG9hZFRva2VuUGFzcykpO1xuUmVkaXNQdWJTdWIub24oJ1ByZXNlbnRhdGlvblVwbG9hZFRva2VuRmFpbFJlc3BNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZVByZXNlbnRhdGlvblVwbG9hZFRva2VuRmFpbCkpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgcmVxdWVzdFByZXNlbnRhdGlvblVwbG9hZFRva2VuIGZyb20gJy4vbWV0aG9kcy9yZXF1ZXN0UHJlc2VudGF0aW9uVXBsb2FkVG9rZW4nO1xuaW1wb3J0IHNldFVzZWRUb2tlbiBmcm9tICcuL21ldGhvZHMvc2V0VXNlZFRva2VuJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICByZXF1ZXN0UHJlc2VudGF0aW9uVXBsb2FkVG9rZW4sXG4gIHNldFVzZWRUb2tlbixcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHByZXNlbnRhdGlvblVwbG9hZFRva2VuKHBvZElkLCBmaWxlbmFtZSkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFByZXNlbnRhdGlvblVwbG9hZFRva2VuLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhmaWxlbmFtZSwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgZmlsZW5hbWUsXG4gIH07XG5cbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIFByZXNlbnRhdGlvblVwbG9hZFRva2VuJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4uZmluZChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFByZXNlbnRhdGlvblVwbG9hZFRva2VuID0gcHJlc2VudGF0aW9uVXBsb2FkVG9rZW4uYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4oLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdwcmVzZW50YXRpb24tdXBsb2FkLXRva2VuJywgcHVibGlzaCk7XG4iLCJjb25zdCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdwcmVzZW50YXRpb24tdXBsb2FkLXRva2VuJyk7XG5cbmV4cG9ydCBkZWZhdWx0IFByZXNlbnRhdGlvblVwbG9hZFRva2VuO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZFByZXNlbnRhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvYWRkUHJlc2VudGF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUHJlc2VudGF0aW9uQWRkZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgcHJlc2VudGF0aW9uLCBwb2RJZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb24sIE9iamVjdCk7XG5cbiAgcmV0dXJuIGFkZFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuXG4vLyBjb25zdCBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fU1VDQ0VTU19LRVkgPSAnT0ZGSUNFX0RPQ19DT05WRVJTSU9OX1NVQ0NFU1MnO1xuY29uc3QgT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0ZBSUxFRF9LRVkgPSAnT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0ZBSUxFRCc7XG5jb25zdCBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fSU5WQUxJRF9LRVkgPSAnT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0lOVkFMSUQnO1xuY29uc3QgU1VQUE9SVEVEX0RPQ1VNRU5UX0tFWSA9ICdTVVBQT1JURURfRE9DVU1FTlQnO1xuY29uc3QgVU5TVVBQT1JURURfRE9DVU1FTlRfS0VZID0gJ1VOU1VQUE9SVEVEX0RPQ1VNRU5UJztcbmNvbnN0IFBBR0VfQ09VTlRfRkFJTEVEX0tFWSA9ICdQQUdFX0NPVU5UX0ZBSUxFRCc7XG5jb25zdCBQQUdFX0NPVU5UX0VYQ0VFREVEX0tFWSA9ICdQQUdFX0NPVU5UX0VYQ0VFREVEJztcbmNvbnN0IFBERl9IQVNfQklHX1BBR0VfS0VZID0gJ1BERl9IQVNfQklHX1BBR0UnO1xuY29uc3QgR0VORVJBVEVEX1NMSURFX0tFWSA9ICdHRU5FUkFURURfU0xJREUnO1xuLy8gY29uc3QgR0VORVJBVElOR19USFVNQk5BSUxfS0VZID0gJ0dFTkVSQVRJTkdfVEhVTUJOQUlMJztcbi8vIGNvbnN0IEdFTkVSQVRFRF9USFVNQk5BSUxfS0VZID0gJ0dFTkVSQVRFRF9USFVNQk5BSUwnO1xuLy8gY29uc3QgR0VORVJBVElOR19URVhURklMRVNfS0VZID0gJ0dFTkVSQVRJTkdfVEVYVEZJTEVTJztcbi8vIGNvbnN0IEdFTkVSQVRFRF9URVhURklMRVNfS0VZID0gJ0dFTkVSQVRFRF9URVhURklMRVMnO1xuLy8gY29uc3QgR0VORVJBVElOR19TVkdJTUFHRVNfS0VZID0gJ0dFTkVSQVRJTkdfU1ZHSU1BR0VTJztcbi8vIGNvbnN0IEdFTkVSQVRFRF9TVkdJTUFHRVNfS0VZID0gJ0dFTkVSQVRFRF9TVkdJTUFHRVMnO1xuLy8gY29uc3QgQ09OVkVSU0lPTl9DT01QTEVURURfS0VZID0gJ0NPTlZFUlNJT05fQ09NUExFVEVEJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3Qge1xuICAgIHByZXNlbnRhdGlvbklkLCBwb2RJZCwgbWVzc2FnZUtleTogc3RhdHVzLCBwcmVzTmFtZTogcHJlc2VudGF0aW9uTmFtZSxcbiAgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0YXR1cywgU3RyaW5nKTtcblxuICBjb25zdCBzdGF0dXNNb2RpZmllciA9IHtcbiAgICAnY29udmVyc2lvbi5zdGF0dXMnOiBzdGF0dXMsXG4gICAgJ2NvbnZlcnNpb24uZXJyb3InOiBmYWxzZSxcbiAgICAnY29udmVyc2lvbi5kb25lJzogZmFsc2UsXG4gIH07XG5cbiAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICBjYXNlIFNVUFBPUlRFRF9ET0NVTUVOVF9LRVk6XG4gICAgICBzdGF0dXNNb2RpZmllci5pZCA9IHByZXNlbnRhdGlvbklkO1xuICAgICAgc3RhdHVzTW9kaWZpZXIubmFtZSA9IHByZXNlbnRhdGlvbk5hbWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgVU5TVVBQT1JURURfRE9DVU1FTlRfS0VZOlxuICAgIGNhc2UgT0ZGSUNFX0RPQ19DT05WRVJTSU9OX0ZBSUxFRF9LRVk6XG4gICAgY2FzZSBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fSU5WQUxJRF9LRVk6XG4gICAgY2FzZSBQQUdFX0NPVU5UX0ZBSUxFRF9LRVk6XG4gICAgY2FzZSBQQUdFX0NPVU5UX0VYQ0VFREVEX0tFWTpcbiAgICBjYXNlIFBERl9IQVNfQklHX1BBR0VfS0VZOlxuICAgICAgc3RhdHVzTW9kaWZpZXIuaWQgPSBwcmVzZW50YXRpb25JZDtcbiAgICAgIHN0YXR1c01vZGlmaWVyLm5hbWUgPSBwcmVzZW50YXRpb25OYW1lO1xuICAgICAgc3RhdHVzTW9kaWZpZXJbJ2NvbnZlcnNpb24uZXJyb3InXSA9IHRydWU7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgR0VORVJBVEVEX1NMSURFX0tFWTpcbiAgICAgIHN0YXR1c01vZGlmaWVyWydjb252ZXJzaW9uLnBhZ2VzQ29tcGxldGVkJ10gPSBib2R5LnBhZ2VzQ29tcGxldGVkO1xuICAgICAgc3RhdHVzTW9kaWZpZXJbJ2NvbnZlcnNpb24ubnVtUGFnZXMnXSA9IGJvZHkubnVtYmVyT2ZQYWdlcztcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIGlkOiBwcmVzZW50YXRpb25JZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKHsgbWVldGluZ0lkLCBwb2RJZCB9LCBzdGF0dXNNb2RpZmllciksXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IFByZXNlbnRhdGlvbnMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwZGF0ZWQgcHJlc2VudGF0aW9uIGNvbnZlcnNpb24gc3RhdHVzPSR7c3RhdHVzfSBpZD0ke3ByZXNlbnRhdGlvbklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuZGVidWcoJ1Vwc2VydGVkIHByZXNlbnRhdGlvbiBjb252ZXJzaW9uJywgeyBzdGF0dXMsIHByZXNlbnRhdGlvbklkLCBtZWV0aW5nSWQgfSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIGNvbnZlcnNpb24gc3RhdHVzIHByZXNlbnRhdGlvbiB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHNldEN1cnJlbnRQcmVzZW50YXRpb24gZnJvbSAnLi4vbW9kaWZpZXJzL3NldEN1cnJlbnRQcmVzZW50YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25DdXJyZW50U2V0KHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7IHByZXNlbnRhdGlvbklkLCBwb2RJZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gc2V0Q3VycmVudFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlIGZyb20gJy4uL21vZGlmaWVycy9zZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25Eb3dubG9hZGFibGVTZXQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgcHJlc2VudGF0aW9uSWQsIHBvZElkLCBkb3dubG9hZGFibGUgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKGRvd25sb2FkYWJsZSwgQm9vbGVhbik7XG5cbiAgcmV0dXJuIHNldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgZG93bmxvYWRhYmxlKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuaW1wb3J0IHJlbW92ZVByZXNlbnRhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlUHJlc2VudGF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUHJlc2VudGF0aW9uUmVtb3ZlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwb2RJZCwgcHJlc2VudGF0aW9uSWQgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIHJlbW92ZVByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVByZXNlbnRhdGlvbihwcmVzZW50YXRpb25JZCwgcG9kSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdSZW1vdmVQcmVzZW50YXRpb25QdWJNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcHJlc2VudGF0aW9uSWQsXG4gICAgcG9kSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFByZXNlbnRhdGlvbihwcmVzZW50YXRpb25JZCwgcG9kSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZXRDdXJyZW50UHJlc2VudGF0aW9uUHViTXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBwb2RJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlKHByZXNlbnRhdGlvbklkLCBkb3dubG9hZGFibGUpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGVQdWJNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2soZG93bmxvYWRhYmxlLCBCb29sZWFuKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBwb2RJZDogJ0RFRkFVTFRfUFJFU0VOVEFUSU9OX1BPRCcsXG4gICAgZG93bmxvYWRhYmxlLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgSFRUUCB9IGZyb20gJ21ldGVvci9odHRwJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IGFkZFNsaWRlIGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9hZGRTbGlkZSc7XG5pbXBvcnQgc2V0Q3VycmVudFByZXNlbnRhdGlvbiBmcm9tICcuL3NldEN1cnJlbnRQcmVzZW50YXRpb24nO1xuXG5jb25zdCBnZXRTbGlkZVRleHQgPSBhc3luYyAodXJsKSA9PiB7XG4gIGxldCBjb250ZW50ID0gJyc7XG4gIHRyeSB7XG4gICAgY29udGVudCA9IGF3YWl0IEhUVFAuZ2V0KHVybCkuY29udGVudDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBMb2dnZXIuZXJyb3IoYE5vIGZpbGUgZm91bmQuICR7ZXJyb3J9YCk7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59O1xuXG5jb25zdCBhZGRTbGlkZXMgPSAobWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQsIHNsaWRlcykgPT4ge1xuICBzbGlkZXMuZm9yRWFjaChhc3luYyAoc2xpZGUpID0+IHtcbiAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgZ2V0U2xpZGVUZXh0KHNsaWRlLnR4dFVyaSk7XG5cbiAgICBPYmplY3QuYXNzaWduKHNsaWRlLCB7IGNvbnRlbnQgfSk7XG5cbiAgICBhZGRTbGlkZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgc2xpZGUpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uLCB7XG4gICAgaWQ6IFN0cmluZyxcbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgY3VycmVudDogQm9vbGVhbixcbiAgICBwYWdlczogW1xuICAgICAge1xuICAgICAgICBpZDogU3RyaW5nLFxuICAgICAgICBudW06IE51bWJlcixcbiAgICAgICAgdGh1bWJVcmk6IFN0cmluZyxcbiAgICAgICAgc3dmVXJpOiBTdHJpbmcsXG4gICAgICAgIHR4dFVyaTogU3RyaW5nLFxuICAgICAgICBzdmdVcmk6IFN0cmluZyxcbiAgICAgICAgY3VycmVudDogQm9vbGVhbixcbiAgICAgICAgeE9mZnNldDogTnVtYmVyLFxuICAgICAgICB5T2Zmc2V0OiBOdW1iZXIsXG4gICAgICAgIHdpZHRoUmF0aW86IE51bWJlcixcbiAgICAgICAgaGVpZ2h0UmF0aW86IE51bWJlcixcbiAgICAgIH0sXG4gICAgXSxcbiAgICBkb3dubG9hZGFibGU6IEJvb2xlYW4sXG4gIH0pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBpZDogcHJlc2VudGF0aW9uLmlkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcG9kSWQsXG4gICAgICAnY29udmVyc2lvbi5kb25lJzogdHJ1ZSxcbiAgICAgICdjb252ZXJzaW9uLmVycm9yJzogZmFsc2UsXG4gICAgfSwgZmxhdChwcmVzZW50YXRpb24sIHsgc2FmZTogdHJ1ZSB9KSksXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IFByZXNlbnRhdGlvbnMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBhZGRTbGlkZXMobWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uLmlkLCBwcmVzZW50YXRpb24ucGFnZXMpO1xuICAgIFxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBpZiAocHJlc2VudGF0aW9uLmN1cnJlbnQpIHtcbiAgICAgICAgc2V0Q3VycmVudFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24uaWQpO1xuICAgICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgcHJlc2VudGF0aW9uIGlkPSR7cHJlc2VudGF0aW9uLmlkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIHByZXNlbnRhdGlvbiBpZD0ke3ByZXNlbnRhdGlvbi5pZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIHByZXNlbnRhdGlvbiB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclByZXNlbnRhdGlvbnMobWVldGluZ0lkLCBwb2RJZCkge1xuICAvLyBjbGVhcmluZyBwcmVzZW50YXRpb25zIGZvciAxIHBvZFxuICBpZiAobWVldGluZ0lkICYmIHBvZElkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUHJlc2VudGF0aW9ucy5yZW1vdmUoeyBtZWV0aW5nSWQsIHBvZElkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgUHJlc2VudGF0aW9ucyAoJHttZWV0aW5nSWR9LCAke3BvZElkfSlgKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFuaW5nIFByZXNlbnRhdGlvbnMgKCR7bWVldGluZ0lkfSwgJHtwb2RJZH0pLiAke2Vycn1gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBjbGVhcmluZyBwcmVzZW50YXRpb25zIGZvciB0aGUgd2hvbGUgbWVldGluZ1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gUHJlc2VudGF0aW9ucy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBQcmVzZW50YXRpb25zICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFuaW5nIFByZXNlbnRhdGlvbnMgKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBQcmVzZW50YXRpb25zLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBQcmVzZW50YXRpb25zIChhbGwpJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFuaW5nIFByZXNlbnRhdGlvbnMgKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5pbXBvcnQgY2xlYXJTbGlkZXNQcmVzZW50YXRpb24gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyU2xpZGVzUHJlc2VudGF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBpZDogcHJlc2VudGF0aW9uSWQsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFByZXNlbnRhdGlvbnMucmVtb3ZlKHNlbGVjdG9yKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgY2xlYXJTbGlkZXNQcmVzZW50YXRpb24obWVldGluZ0lkLCBwcmVzZW50YXRpb25JZCk7XG4gICAgICBMb2dnZXIuaW5mbyhgUmVtb3ZlZCBwcmVzZW50YXRpb24gaWQ9JHtwcmVzZW50YXRpb25JZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgcHJlc2VudGF0aW9uIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0Q3VycmVudFByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICBjb25zdCBvbGRDdXJyZW50ID0ge1xuICAgIHNlbGVjdG9yOiB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZCxcbiAgICAgIGN1cnJlbnQ6IHRydWUsXG4gICAgfSxcbiAgICBtb2RpZmllcjoge1xuICAgICAgJHNldDogeyBjdXJyZW50OiBmYWxzZSB9LFxuICAgIH0sXG4gICAgY2FsbGJhY2s6IChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGBVbnNldHRpbmcgdGhlIGN1cnJlbnQgcHJlc2VudGF0aW9uOiAke2Vycn1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBMb2dnZXIuaW5mbygnVW5zZXR0ZWQgYXMgY3VycmVudCBwcmVzZW50YXRpb24nKTtcbiAgICAgIHJldHVybjtcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG5ld0N1cnJlbnQgPSB7XG4gICAgc2VsZWN0b3I6IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHBvZElkLFxuICAgICAgaWQ6IHByZXNlbnRhdGlvbklkLFxuICAgIH0sXG4gICAgbW9kaWZpZXI6IHtcbiAgICAgICRzZXQ6IHsgY3VycmVudDogdHJ1ZSB9LFxuICAgIH0sXG4gICAgY2FsbGJhY2s6IChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGBTZXR0aW5nIGFzIGN1cnJlbnQgcHJlc2VudGF0aW9uIGlkPSR7cHJlc2VudGF0aW9uSWR9OiAke2Vycn1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBMb2dnZXIuaW5mbyhgU2V0dGVkIGFzIGN1cnJlbnQgcHJlc2VudGF0aW9uIGlkPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gICAgICByZXR1cm47XG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBvbGRQcmVzZW50YXRpb24gPSBQcmVzZW50YXRpb25zLmZpbmRPbmUob2xkQ3VycmVudC5zZWxlY3Rvcik7XG4gIGNvbnN0IG5ld1ByZXNlbnRhdGlvbiA9IFByZXNlbnRhdGlvbnMuZmluZE9uZShuZXdDdXJyZW50LnNlbGVjdG9yKTtcblxuICAvLyBQcmV2ZW50IGJ1ZyB3aXRoIHByZXNlbnRhdGlvbiBiZWluZyB1bnNldCwgc2FtZSBoYXBwZW5zIGluIHRoZSBzbGlkZVxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9iaWdibHVlYnV0dG9uL2JpZ2JsdWVidXR0b24vcHVsbC80NDMxXG4gIGlmIChvbGRQcmVzZW50YXRpb24gJiYgbmV3UHJlc2VudGF0aW9uICYmIChvbGRQcmVzZW50YXRpb24uX2lkID09PSBuZXdQcmVzZW50YXRpb24uX2lkKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChuZXdQcmVzZW50YXRpb24pIHtcbiAgICBQcmVzZW50YXRpb25zLnVwZGF0ZShuZXdQcmVzZW50YXRpb24uX2lkLCBuZXdDdXJyZW50Lm1vZGlmaWVyLCBuZXdDdXJyZW50LmNhbGxiYWNrKTtcbiAgfVxuXG4gIGlmIChvbGRQcmVzZW50YXRpb24pIHtcbiAgICBQcmVzZW50YXRpb25zLnVwZGF0ZShvbGRQcmVzZW50YXRpb24uX2lkLCBvbGRDdXJyZW50Lm1vZGlmaWVyLCBvbGRDdXJyZW50LmNhbGxiYWNrKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUobWVldGluZ0lkLCBwb2RJZCxcbiAgcHJlc2VudGF0aW9uSWQsIGRvd25sb2FkYWJsZSkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soZG93bmxvYWRhYmxlLCBCb29sZWFuKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgaWQ6IHByZXNlbnRhdGlvbklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGRvd25sb2FkYWJsZSxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gUHJlc2VudGF0aW9ucy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFNldCBkb3dubG9hZGFibGUgc3RhdHVzIG9uIHByZXNlbnRhdGlvbiB7JHtwcmVzZW50YXRpb25JZH0gaW4gbWVldGluZyB7JHttZWV0aW5nSWR9fWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBDb3VsZCBub3Qgc2V0IGRvd25sb2FkYWJsZSBvbiBwcmVzIHske3ByZXNlbnRhdGlvbklkfSBpbiBtZWV0aW5nIHske21lZXRpbmdJZH19ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVByZXNlbnRhdGlvbkFkZGVkIGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uQWRkZWQnO1xuaW1wb3J0IGhhbmRsZVByZXNlbnRhdGlvblJlbW92ZSBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRhdGlvblJlbW92ZSc7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uQ3VycmVudFNldCBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkN1cnJlbnRTZXQnO1xuaW1wb3J0IGhhbmRsZVByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlJztcbmltcG9ydCBoYW5kbGVQcmVzZW50YXRpb25Eb3dubG9hZGFibGVTZXQgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50YXRpb25Eb3dubG9hZGFibGVTZXQnO1xuXG5SZWRpc1B1YlN1Yi5vbignUGRmQ29udmVyc2lvbkludmFsaWRFcnJvckV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUpO1xuUmVkaXNQdWJTdWIub24oJ1ByZXNlbnRhdGlvblBhZ2VHZW5lcmF0ZWRFdnRNc2cnLCBoYW5kbGVQcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlKTtcblJlZGlzUHViU3ViLm9uKCdQcmVzZW50YXRpb25QYWdlQ291bnRFcnJvckV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGUpO1xuUmVkaXNQdWJTdWIub24oJ1ByZXNlbnRhdGlvbkNvbnZlcnNpb25VcGRhdGVFdnRNc2cnLCBoYW5kbGVQcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlKTtcblJlZGlzUHViU3ViLm9uKCdQcmVzZW50YXRpb25Db252ZXJzaW9uQ29tcGxldGVkRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uQWRkZWQpO1xuUmVkaXNQdWJTdWIub24oJ1JlbW92ZVByZXNlbnRhdGlvbkV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvblJlbW92ZSk7XG5SZWRpc1B1YlN1Yi5vbignU2V0Q3VycmVudFByZXNlbnRhdGlvbkV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvbkN1cnJlbnRTZXQpO1xuUmVkaXNQdWJTdWIub24oJ1NldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZUV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVNldCk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCByZW1vdmVQcmVzZW50YXRpb24gZnJvbSAnLi9tZXRob2RzL3JlbW92ZVByZXNlbnRhdGlvbic7XG5pbXBvcnQgc2V0UHJlc2VudGF0aW9uIGZyb20gJy4vbWV0aG9kcy9zZXRQcmVzZW50YXRpb24nO1xuaW1wb3J0IHNldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZSBmcm9tICcuL21ldGhvZHMvc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICByZW1vdmVQcmVzZW50YXRpb24sXG4gIHNldFByZXNlbnRhdGlvbixcbiAgc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlLFxufSk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBwcmVzZW50YXRpb25zKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFByZXNlbnRhdGlvbnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgUHJlc2VudGF0aW9ucycsIHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIFByZXNlbnRhdGlvbnMuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUHJlc2VudGF0aW9ucyA9IHByZXNlbnRhdGlvbnMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kUHJlc2VudGF0aW9ucyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3ByZXNlbnRhdGlvbnMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBQcmVzZW50YXRpb25zID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ByZXNlbnRhdGlvbnMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgcHJlc2VudGF0aW9uczpcbiAgLy8gMS4gbWVldGluZ0lkLCBwb2RJZCwgaWQgICAgICAgICggMyApXG4gIC8vIDIuIG1lZXRpbmdJZCwgaWQgICAgICAgICAgICAgICAoIDEgKVxuICAvLyAzLiBtZWV0aW5nSWQsIGlkLCBjdXJyZW50ICAgICAgKCAyIClcbiAgLy8gNC4gbWVldGluZ0lkICAgICAgICAgICAgICAgICAgICggMSApXG5cbiAgUHJlc2VudGF0aW9ucy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHBvZElkOiAxLCBpZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHJlc2VudGF0aW9ucztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgYWRkU2NyZWVuc2hhcmUgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFNjcmVlbnNoYXJlJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvIGZyb20gJy9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNjcmVlbnNoYXJlU3RhcnRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCBtZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9KTtcbiAgY29uc3QgcHJlc2VudGVyID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgcHJlc2VudGVyOiB0cnVlIH0pO1xuICBjb25zdCBwcmVzZW50ZXJJZCA9IHByZXNlbnRlciAmJiBwcmVzZW50ZXIudXNlcklkID8gcHJlc2VudGVyLnVzZXJJZCA6ICdzeXN0ZW0tc2NyZWVuc2hhcmUtc3RhcnRpbmcnO1xuICBpZiAobWVldGluZyAmJiBtZWV0aW5nLmV4dGVybmFsVmlkZW9VcmwpIHtcbiAgICBMb2dnZXIuaW5mbyhgU2NyZWVuc2hhcmVTdGFydGVkOiBUaGVyZSBpcyBleHRlcm5hbCB2aWRlbyBiZWluZyBzaGFyZWQuIFN0b3BwaW5nIGl0IGR1ZSB0byBwcmVzZW50ZXIgY2hhbmdlLCAke21lZXRpbmcuZXh0ZXJuYWxWaWRlb1VybH1gKTtcbiAgICBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvKHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHByZXNlbnRlcklkIH0pO1xuICB9XG4gIHJldHVybiBhZGRTY3JlZW5zaGFyZShtZWV0aW5nSWQsIGJvZHkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGNsZWFyU2NyZWVuc2hhcmUgZnJvbSAnLi4vbW9kaWZpZXJzL2NsZWFyU2NyZWVuc2hhcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVTY3JlZW5zaGFyZVN0b3BwZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHNjcmVlbnNoYXJlQ29uZiB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHNjcmVlbnNoYXJlQ29uZiwgU3RyaW5nKTtcblxuICByZXR1cm4gY2xlYXJTY3JlZW5zaGFyZShtZWV0aW5nSWQsIHNjcmVlbnNoYXJlQ29uZik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBTY3JlZW5zaGFyZSBmcm9tICcvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRTY3JlZW5zaGFyZShtZWV0aW5nSWQsIGJvZHkpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBzY3JlZW5zaGFyZTogZmxhdChib2R5KSxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBudW1iZXJBZmZlY3RlZCB9ID0gU2NyZWVuc2hhcmUudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBzY3JlZW5zaGFyZSBpZD0ke2JvZHkuc2NyZWVuc2hhcmVDb25mfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgc2NyZWVuc2hhcmUgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBTY3JlZW5zaGFyZSBmcm9tICcvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclNjcmVlbnNoYXJlKG1lZXRpbmdJZCwgc2NyZWVuc2hhcmVDb25mKSB7XG4gIHRyeSB7XG4gICAgbGV0IG51bWJlckFmZmVjdGVkO1xuXG4gICAgaWYgKG1lZXRpbmdJZCAmJiBzY3JlZW5zaGFyZUNvbmYpIHtcbiAgICAgIG51bWJlckFmZmVjdGVkID0gU2NyZWVuc2hhcmUucmVtb3ZlKHsgbWVldGluZ0lkLCAnc2NyZWVuc2hhcmUuc2NyZWVuc2hhcmVDb25mJzogc2NyZWVuc2hhcmVDb25mIH0pO1xuICAgIH0gZWxzZSBpZiAobWVldGluZ0lkKSB7XG4gICAgICBudW1iZXJBZmZlY3RlZCA9IFNjcmVlbnNoYXJlLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbnVtYmVyQWZmZWN0ZWQgPSBTY3JlZW5zaGFyZS5yZW1vdmUoe30pO1xuICAgIH1cblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYHJlbW92ZWQgc2NyZWVuc2hhcmUgbWVldGluZ0lkPSR7bWVldGluZ0lkfSBpZD0ke3NjcmVlbnNoYXJlQ29uZn1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgcmVtb3Zpbmcgc2NyZWVuc2hhcmUgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlU2NyZWVuc2hhcmVTdGFydGVkIGZyb20gJy4vaGFuZGxlcnMvc2NyZWVuc2hhcmVTdGFydGVkJztcbmltcG9ydCBoYW5kbGVTY3JlZW5zaGFyZVN0b3BwZWQgZnJvbSAnLi9oYW5kbGVycy9zY3JlZW5zaGFyZVN0b3BwZWQnO1xuXG5SZWRpc1B1YlN1Yi5vbignU2NyZWVuc2hhcmVSdG1wQnJvYWRjYXN0U3RhcnRlZEV2dE1zZycsIGhhbmRsZVNjcmVlbnNoYXJlU3RhcnRlZCk7XG5SZWRpc1B1YlN1Yi5vbignU2NyZWVuc2hhcmVSdG1wQnJvYWRjYXN0U3RvcHBlZEV2dE1zZycsIGhhbmRsZVNjcmVlbnNoYXJlU3RvcHBlZCk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xufSk7XG4iLCJpbXBvcnQgU2NyZWVuc2hhcmUgZnJvbSAnL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHNjcmVlbnNoYXJlKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFNjcmVlbnNoYXJlLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIFNjcmVlbnNoYXJlJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gU2NyZWVuc2hhcmUuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kU2NyZWVuc2hhcmUgPSBzY3JlZW5zaGFyZS5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRTY3JlZW5zaGFyZSguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3NjcmVlbnNoYXJlJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgU2NyZWVuc2hhcmUgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignc2NyZWVuc2hhcmUnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgc2NyZWVuc2hhcmU6XG4gIC8vIDEuIG1lZXRpbmdJZFxuXG4gIFNjcmVlbnNoYXJlLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgU2NyZWVuc2hhcmU7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgY2hhbmdlQ3VycmVudFNsaWRlIGZyb20gJy4uL21vZGlmaWVycy9jaGFuZ2VDdXJyZW50U2xpZGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVTbGlkZUNoYW5nZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcGFnZUlkLCBwcmVzZW50YXRpb25JZCwgcG9kSWQgfSA9IGJvZHk7XG5cbiAgY2hlY2socGFnZUlkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGNoYW5nZUN1cnJlbnRTbGlkZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgcGFnZUlkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCByZXNpemVTbGlkZSBmcm9tICcuLi9tb2RpZmllcnMvcmVzaXplU2xpZGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVTbGlkZVJlc2l6ZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICByZXR1cm4gcmVzaXplU2xpZGUobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCBQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zJztcbmltcG9ydCB7IFNsaWRlcyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN3aXRjaFNsaWRlKHNsaWRlTnVtYmVyLCBwb2RJZCkgeyAvLyBUT0RPLS0gc2VuZCBwcmVzZW50YXRpb25JZCBhbmQgU2xpZGVJZFxuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcblxuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2V0Q3VycmVudFBhZ2VQdWJNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhzbGlkZU51bWJlciwgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgY3VycmVudDogdHJ1ZSxcbiAgfTtcblxuICBjb25zdCBQcmVzZW50YXRpb24gPSBQcmVzZW50YXRpb25zLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGlmICghUHJlc2VudGF0aW9uKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigncHJlc2VudGF0aW9uLW5vdC1mb3VuZCcsICdZb3UgbmVlZCBhIHByZXNlbnRhdGlvbiB0byBiZSBhYmxlIHRvIHN3aXRjaCBzbGlkZXMnKTtcbiAgfVxuXG4gIGNvbnN0IFNsaWRlID0gU2xpZGVzLmZpbmRPbmUoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZDogUHJlc2VudGF0aW9uLmlkLFxuICAgIG51bTogc2xpZGVOdW1iZXIsXG4gIH0pO1xuXG4gIGlmICghU2xpZGUpIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdzbGlkZS1ub3QtZm91bmQnLCBgU2xpZGUgbnVtYmVyICR7c2xpZGVOdW1iZXJ9IG5vdCBmb3VuZCBpbiB0aGUgY3VycmVudCBwcmVzZW50YXRpb25gKTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQ6IFByZXNlbnRhdGlvbi5pZCxcbiAgICBwYWdlSWQ6IFNsaWRlLmlkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IHsgU2xpZGVzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gem9vbVNsaWRlKHNsaWRlTnVtYmVyLCBwb2RJZCwgd2lkdGhSYXRpbywgaGVpZ2h0UmF0aW8sIHgsIHkpIHsgLy8gVE9ETy0tIHNlbmQgcHJlc2VudGF0aW9uSWQgYW5kIFNsaWRlSWRcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG5cbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1Jlc2l6ZUFuZE1vdmVQYWdlUHViTXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgY3VycmVudDogdHJ1ZSxcbiAgfTtcbiAgY29uc3QgUHJlc2VudGF0aW9uID0gUHJlc2VudGF0aW9ucy5maW5kT25lKHNlbGVjdG9yKTtcblxuICBpZiAoIVByZXNlbnRhdGlvbikge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3ByZXNlbnRhdGlvbi1ub3QtZm91bmQnLCAnWW91IG5lZWQgYSBwcmVzZW50YXRpb24gdG8gYmUgYWJsZSB0byBzd2l0Y2ggc2xpZGVzJyk7XG4gIH1cblxuICBjb25zdCBTbGlkZSA9IFNsaWRlcy5maW5kT25lKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQ6IFByZXNlbnRhdGlvbi5pZCxcbiAgICBudW06IHNsaWRlTnVtYmVyLFxuICB9KTtcblxuICBpZiAoIVNsaWRlKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignc2xpZGUtbm90LWZvdW5kJywgYFNsaWRlIG51bWJlciAke3NsaWRlTnVtYmVyfSBub3QgZm91bmQgaW4gdGhlIGN1cnJlbnQgcHJlc2VudGF0aW9uYCk7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkOiBQcmVzZW50YXRpb24uaWQsXG4gICAgcGFnZUlkOiBTbGlkZS5pZCxcbiAgICB4T2Zmc2V0OiB4LFxuICAgIHlPZmZzZXQ6IHksXG4gICAgd2lkdGhSYXRpbyxcbiAgICBoZWlnaHRSYXRpbyxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBwcm9iZSBmcm9tICdwcm9iZS1pbWFnZS1zaXplJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgU2xpZGVzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBTVkcsIFBORyB9IGZyb20gJy9pbXBvcnRzL3V0aWxzL21pbWVUeXBlcyc7XG5pbXBvcnQgY2FsY3VsYXRlU2xpZGVEYXRhIGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGFkZFNsaWRlUG9zaXRpb25zIGZyb20gJy4vYWRkU2xpZGVQb3NpdGlvbnMnO1xuXG5jb25zdCBsb2FkU2xpZGVzRnJvbUh0dHBBbHdheXMgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5hcHAubG9hZFNsaWRlc0Zyb21IdHRwQWx3YXlzIHx8IGZhbHNlO1xuXG5jb25zdCByZXF1ZXN0V2hpdGVib2FyZEhpc3RvcnkgPSAobWVldGluZ0lkLCBzbGlkZUlkKSA9PiB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnR2V0V2hpdGVib2FyZEFubm90YXRpb25zUmVxTXNnJztcbiAgY29uc3QgVVNFUl9JRCA9ICdub2RlSlNhcHAnO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgd2hpdGVib2FyZElkOiBzbGlkZUlkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCBVU0VSX0lELCBwYXlsb2FkKTtcbn07XG5cbmNvbnN0IFNVUFBPUlRFRF9UWVBFUyA9IFtTVkcsIFBOR107XG5cbmNvbnN0IGZldGNoSW1hZ2VTaXplcyA9IGltYWdlVXJpID0+IHByb2JlKGltYWdlVXJpKVxuICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKCFTVVBQT1JURURfVFlQRVMuaW5jbHVkZXMocmVzdWx0Lm1pbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdpbnZhbGlkLWltYWdlLXR5cGUnLCBgcmVjZWl2ZWQgJHtyZXN1bHQubWltZX0gZXhwZWN0aW5nICR7U1VQUE9SVEVEX1RZUEVTLmpvaW4oKX1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHJlc3VsdC53aWR0aCxcbiAgICAgIGhlaWdodDogcmVzdWx0LmhlaWdodCxcbiAgICB9O1xuICB9KVxuICAuY2F0Y2goKHJlYXNvbikgPT4ge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3IgcGFyc2luZyBpbWFnZSBzaXplLiAke3JlYXNvbn0uIHVyaT0ke2ltYWdlVXJpfWApO1xuICAgIHJldHVybiByZWFzb247XG4gIH0pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRTbGlkZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgc2xpZGUpIHtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuXG4gIGNoZWNrKHNsaWRlLCB7XG4gICAgaWQ6IFN0cmluZyxcbiAgICBudW06IE51bWJlcixcbiAgICB0aHVtYlVyaTogU3RyaW5nLFxuICAgIHN3ZlVyaTogU3RyaW5nLFxuICAgIHR4dFVyaTogU3RyaW5nLFxuICAgIHN2Z1VyaTogU3RyaW5nLFxuICAgIGN1cnJlbnQ6IEJvb2xlYW4sXG4gICAgeE9mZnNldDogTnVtYmVyLFxuICAgIHlPZmZzZXQ6IE51bWJlcixcbiAgICB3aWR0aFJhdGlvOiBOdW1iZXIsXG4gICAgaGVpZ2h0UmF0aW86IE51bWJlcixcbiAgICBjb250ZW50OiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHtcbiAgICBpZDogc2xpZGVJZCxcbiAgICB4T2Zmc2V0LFxuICAgIHlPZmZzZXQsXG4gICAgd2lkdGhSYXRpbyxcbiAgICBoZWlnaHRSYXRpbyxcbiAgICAuLi5yZXN0U2xpZGVcbiAgfSA9IHNsaWRlO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBpZDogc2xpZGVJZCxcbiAgfTtcblxuICBjb25zdCBpbWFnZVVyaSA9IHNsaWRlLnN2Z1VyaSB8fCBzbGlkZS5wbmdVcmk7XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIHsgbWVldGluZ0lkIH0sXG4gICAgICB7IHBvZElkIH0sXG4gICAgICB7IHByZXNlbnRhdGlvbklkIH0sXG4gICAgICB7IGlkOiBzbGlkZUlkIH0sXG4gICAgICB7IGltYWdlVXJpIH0sXG4gICAgICBmbGF0KHJlc3RTbGlkZSksXG4gICAgICB7IHNhZmU6IHRydWUgfSxcbiAgICApLFxuICB9O1xuXG4gIGNvbnN0IGltYWdlU2l6ZVVyaSA9IChsb2FkU2xpZGVzRnJvbUh0dHBBbHdheXMgPyBpbWFnZVVyaS5yZXBsYWNlKC9eaHR0cHMvaSwgJ2h0dHAnKSA6IGltYWdlVXJpKTtcblxuICByZXR1cm4gZmV0Y2hJbWFnZVNpemVzKGltYWdlU2l6ZVVyaSlcbiAgICAudGhlbigoeyB3aWR0aCwgaGVpZ2h0IH0pID0+IHtcbiAgICAgIC8vIHRoZXJlIGlzIGEgcmFyZSBjYXNlIHdoZW4gZm9yIGEgdmVyeSBsb25nIG5vdC1hY3RpdmUgbWVldGluZyB0aGUgcHJlc2VudGF0aW9uXG4gICAgICAvLyBmaWxlcyBqdXN0IGRpc2FwcGVhciBhbmQgd2lkdGgvaGVpZ2h0IGNhbid0IGJlIHJldHJpZXZlZFxuICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgICAvLyBwcmUtY2FsY3VsYXRpbmcgdGhlIHdpZHRoLCBoZWlnaHQsIGFuZCB2aWVCb3ggY29vcmRpbmF0ZXMgLyBkaW1lbnNpb25zXG4gICAgICAgIC8vIHRvIHVubG9hZCB0aGUgY2xpZW50LXNpZGVcbiAgICAgICAgY29uc3Qgc2xpZGVEYXRhID0ge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICB4T2Zmc2V0LFxuICAgICAgICAgIHlPZmZzZXQsXG4gICAgICAgICAgd2lkdGhSYXRpbyxcbiAgICAgICAgICBoZWlnaHRSYXRpbyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2xpZGVQb3NpdGlvbiA9IGNhbGN1bGF0ZVNsaWRlRGF0YShzbGlkZURhdGEpO1xuXG4gICAgICAgIGFkZFNsaWRlUG9zaXRpb25zKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBzbGlkZUlkLCBzbGlkZVBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBpbnNlcnRlZElkLCBudW1iZXJBZmZlY3RlZCB9ID0gU2xpZGVzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgICAgIHJlcXVlc3RXaGl0ZWJvYXJkSGlzdG9yeShtZWV0aW5nSWQsIHNsaWRlSWQpO1xuXG4gICAgICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIHNsaWRlIGlkPSR7c2xpZGVJZH0gcG9kPSR7cG9kSWR9IHByZXNlbnRhdGlvbj0ke3ByZXNlbnRhdGlvbklkfWApO1xuICAgICAgICB9IGVsc2UgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIHNsaWRlIGlkPSR7c2xpZGVJZH0gcG9kPSR7cG9kSWR9IHByZXNlbnRhdGlvbj0ke3ByZXNlbnRhdGlvbklkfWApO1xuICAgICAgICB9XG5cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGFkZGluZyBzbGlkZSB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICAgIH1cbiAgICB9KVxuICAgIC5jYXRjaChyZWFzb24gPT4gTG9nZ2VyLmVycm9yKGBFcnJvciBwYXJzaW5nIGltYWdlIHNpemUuICR7cmVhc29ufS4gc2xpZGU9JHtzbGlkZUlkfSB1cmk9JHtpbWFnZVVyaX1gKSk7XG59XG4iLCJpbXBvcnQgeyBTbGlkZVBvc2l0aW9ucyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFNsaWRlUG9zaXRpb25zKFxuICBtZWV0aW5nSWQsXG4gIHBvZElkLFxuICBwcmVzZW50YXRpb25JZCxcbiAgc2xpZGVJZCxcbiAgc2xpZGVQb3NpdGlvbixcbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2soc2xpZGVJZCwgU3RyaW5nKTtcblxuICBjaGVjayhzbGlkZVBvc2l0aW9uLCB7XG4gICAgd2lkdGg6IE51bWJlcixcbiAgICBoZWlnaHQ6IE51bWJlcixcbiAgICB4OiBOdW1iZXIsXG4gICAgeTogTnVtYmVyLFxuICAgIHZpZXdCb3hXaWR0aDogTnVtYmVyLFxuICAgIHZpZXdCb3hIZWlnaHQ6IE51bWJlcixcbiAgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIGlkOiBzbGlkZUlkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oXG4gICAgICB7IG1lZXRpbmdJZCB9LFxuICAgICAgeyBwb2RJZCB9LFxuICAgICAgeyBwcmVzZW50YXRpb25JZCB9LFxuICAgICAgeyBpZDogc2xpZGVJZCB9LFxuICAgICAgZmxhdChzbGlkZVBvc2l0aW9uKSxcbiAgICAgIHsgc2FmZTogdHJ1ZSB9LFxuICAgICksXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IFNsaWRlUG9zaXRpb25zLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBBZGRlZCBzbGlkZSBwb3NpdGlvbiBpZD0ke3NsaWRlSWR9IHBvZD0ke3BvZElkfSBwcmVzZW50YXRpb249JHtwcmVzZW50YXRpb25JZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIHNsaWRlIHBvc2l0aW9uIGlkPSR7c2xpZGVJZH0gcG9kPSR7cG9kSWR9IHByZXNlbnRhdGlvbj0ke3ByZXNlbnRhdGlvbklkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgc2xpZGUgcG9zaXRpb24gdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IFNsaWRlcyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VDdXJyZW50U2xpZGUobWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQsIHNsaWRlSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2soc2xpZGVJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgb2xkQ3VycmVudCA9IHtcbiAgICBzZWxlY3Rvcjoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcG9kSWQsXG4gICAgICBwcmVzZW50YXRpb25JZCxcbiAgICAgIGN1cnJlbnQ6IHRydWUsXG4gICAgfSxcbiAgICBtb2RpZmllcjoge1xuICAgICAgJHNldDogeyBjdXJyZW50OiBmYWxzZSB9LFxuICAgIH0sXG4gICAgY2FsbGJhY2s6IChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGBVbnNldHRpbmcgdGhlIGN1cnJlbnQgc2xpZGU6ICR7ZXJyfWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIExvZ2dlci5pbmZvKCdVbnNldHRlZCB0aGUgY3VycmVudCBzbGlkZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgbmV3Q3VycmVudCA9IHtcbiAgICBzZWxlY3Rvcjoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcG9kSWQsXG4gICAgICBwcmVzZW50YXRpb25JZCxcbiAgICAgIGlkOiBzbGlkZUlkLFxuICAgIH0sXG4gICAgbW9kaWZpZXI6IHtcbiAgICAgICRzZXQ6IHsgY3VycmVudDogdHJ1ZSB9LFxuICAgIH0sXG4gICAgY2FsbGJhY2s6IChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKGBTZXR0aW5nIGFzIGN1cnJlbnQgc2xpZGUgaWQ9JHtzbGlkZUlkfTogJHtlcnJ9YCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgTG9nZ2VyLmluZm8oYFNldHRlZCBhcyBjdXJyZW50IHNsaWRlIGlkPSR7c2xpZGVJZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IG9sZFNsaWRlID0gU2xpZGVzLmZpbmRPbmUob2xkQ3VycmVudC5zZWxlY3Rvcik7XG4gIGNvbnN0IG5ld1NsaWRlID0gU2xpZGVzLmZpbmRPbmUobmV3Q3VycmVudC5zZWxlY3Rvcik7XG5cbiAgLy8gaWYgdGhlIG9sZEN1cnJlbnQgYW5kIG5ld0N1cnJlbnQgaGF2ZSB0aGUgc2FtZSBpZHNcbiAgaWYgKG9sZFNsaWRlICYmIG5ld1NsaWRlICYmIChvbGRTbGlkZS5faWQgPT09IG5ld1NsaWRlLl9pZCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAobmV3U2xpZGUpIHtcbiAgICBTbGlkZXMudXBkYXRlKG5ld1NsaWRlLl9pZCwgbmV3Q3VycmVudC5tb2RpZmllciwgbmV3Q3VycmVudC5jYWxsYmFjayk7XG4gIH1cblxuICBpZiAob2xkU2xpZGUpIHtcbiAgICBTbGlkZXMudXBkYXRlKG9sZFNsaWRlLl9pZCwgb2xkQ3VycmVudC5tb2RpZmllciwgb2xkQ3VycmVudC5jYWxsYmFjayk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFNsaWRlcywgU2xpZGVQb3NpdGlvbnMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJTbGlkZXMobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWRTbGlkZVBvc2l0aW9ucyA9IFNsaWRlUG9zaXRpb25zLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBTbGlkZXMucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWRTbGlkZVBvc2l0aW9ucykge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBTbGlkZVBvc2l0aW9ucyAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgU2xpZGVzICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFuaW5nIFNsaWRlcyAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZFNsaWRlUG9zaXRpb25zID0gU2xpZGVQb3NpdGlvbnMucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFNsaWRlcy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZFNsaWRlUG9zaXRpb25zKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFNsaWRlUG9zaXRpb25zICgke21lZXRpbmdJZH0pYCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBTbGlkZXMgKGFsbCknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYW5pbmcgU2xpZGVzIChhbGwpLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFNsaWRlcywgU2xpZGVQb3NpdGlvbnMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjbGVhckFubm90YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQW5ub3RhdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclNsaWRlc1ByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHByZXNlbnRhdGlvbklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHByZXNlbnRhdGlvbklkLFxuICB9O1xuXG4gIGNvbnN0IHdoaXRlYm9hcmRJZHMgPSBTbGlkZXMuZmluZChzZWxlY3RvciwgeyBmaWVsZHM6IHsgaWQ6IDEgfSB9KS5tYXAocm93ID0+IHJvdy5pZCk7XG5cbiAgdHJ5IHtcbiAgICBTbGlkZVBvc2l0aW9ucy5yZW1vdmUoc2VsZWN0b3IpO1xuXG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBTbGlkZXMucmVtb3ZlKHNlbGVjdG9yKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgd2hpdGVib2FyZElkcy5mb3JFYWNoKHdoaXRlYm9hcmRJZCA9PiBjbGVhckFubm90YXRpb25zKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkKSk7XG5cbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIFNsaWRlcyB3aGVyZSBwcmVzZW50YXRpb25JZD0ke3ByZXNlbnRhdGlvbklkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBTbGlkZXMgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICByZXR1cm47XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IFNsaWRlUG9zaXRpb25zIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgY2FsY3VsYXRlU2xpZGVEYXRhIGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNpemVTbGlkZShtZWV0aW5nSWQsIHNsaWRlKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCB7XG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQsXG4gICAgcGFnZUlkLFxuICAgIHdpZHRoUmF0aW8sXG4gICAgaGVpZ2h0UmF0aW8sXG4gICAgeE9mZnNldCxcbiAgICB5T2Zmc2V0LFxuICB9ID0gc2xpZGU7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIGlkOiBwYWdlSWQsXG4gIH07XG5cbiAgLy8gZmV0Y2hpbmcgdGhlIGN1cnJlbnQgc2xpZGUgZGF0YVxuICAvLyBhbmQgcHJlLWNhbGN1bGF0aW5nIHRoZSB3aWR0aCwgaGVpZ2h0LCBhbmQgdmllQm94IGNvb3JkaW5hdGVzIC8gc2l6ZXNcbiAgLy8gdG8gcmVkdWNlIHRoZSBjbGllbnQtc2lkZSBsb2FkXG4gIGNvbnN0IFNsaWRlUG9zaXRpb24gPSBTbGlkZVBvc2l0aW9ucy5maW5kT25lKHNlbGVjdG9yKTtcblxuICBpZiAoU2xpZGVQb3NpdGlvbikge1xuICAgIGNvbnN0IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgIH0gPSBTbGlkZVBvc2l0aW9uO1xuXG4gICAgY29uc3Qgc2xpZGVEYXRhID0ge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICB4T2Zmc2V0LFxuICAgICAgeU9mZnNldCxcbiAgICAgIHdpZHRoUmF0aW8sXG4gICAgICBoZWlnaHRSYXRpbyxcbiAgICB9O1xuICAgIGNvbnN0IGNhbGN1bGF0ZWREYXRhID0gY2FsY3VsYXRlU2xpZGVEYXRhKHNsaWRlRGF0YSk7XG5cbiAgICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAgICRzZXQ6IGNhbGN1bGF0ZWREYXRhLFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBTbGlkZVBvc2l0aW9ucy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5kZWJ1ZyhgUmVzaXplZCBzbGlkZSBwb3NpdGlvbnMgaWQ9JHtwYWdlSWR9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBMb2dnZXIuaW5mbyhgTm8gc2xpZGUgcG9zaXRpb25zIGZvdW5kIHdpdGggaWQ9JHtwYWdlSWR9YCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYFJlc2l6aW5nIHNsaWRlIHBvc2l0aW9ucyBpZD0ke3BhZ2VJZH06ICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVTbGlkZVJlc2l6ZSBmcm9tICcuL2hhbmRsZXJzL3NsaWRlUmVzaXplJztcbmltcG9ydCBoYW5kbGVTbGlkZUNoYW5nZSBmcm9tICcuL2hhbmRsZXJzL3NsaWRlQ2hhbmdlJztcblxuUmVkaXNQdWJTdWIub24oJ1Jlc2l6ZUFuZE1vdmVQYWdlRXZ0TXNnJywgaGFuZGxlU2xpZGVSZXNpemUpO1xuUmVkaXNQdWJTdWIub24oJ1NldEN1cnJlbnRQYWdlRXZ0TXNnJywgaGFuZGxlU2xpZGVDaGFuZ2UpO1xuIiwiXG5jb25zdCBjYWxjdWxhdGVTbGlkZURhdGEgPSAoc2xpZGVEYXRhKSA9PiB7XG4gIGNvbnN0IHtcbiAgICB3aWR0aCwgaGVpZ2h0LCB4T2Zmc2V0LCB5T2Zmc2V0LCB3aWR0aFJhdGlvLCBoZWlnaHRSYXRpbyxcbiAgfSA9IHNsaWRlRGF0YTtcblxuICAvLyBjYWxjdWxhdGluZyB2aWV3Qm94IGFuZCBvZmZzZXRzIGZvciB0aGUgY3VycmVudCBwcmVzZW50YXRpb25cbiAgcmV0dXJuIHtcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgeDogKCgteE9mZnNldCAqIDIpICogd2lkdGgpIC8gMTAwLFxuICAgIHk6ICgoLXlPZmZzZXQgKiAyKSAqIGhlaWdodCkgLyAxMDAsXG4gICAgdmlld0JveFdpZHRoOiAod2lkdGggKiB3aWR0aFJhdGlvKSAvIDEwMCxcbiAgICB2aWV3Qm94SGVpZ2h0OiAoaGVpZ2h0ICogaGVpZ2h0UmF0aW8pIC8gMTAwLFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2FsY3VsYXRlU2xpZGVEYXRhO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgc3dpdGNoU2xpZGUgZnJvbSAnLi9tZXRob2RzL3N3aXRjaFNsaWRlJztcbmltcG9ydCB6b29tU2xpZGUgZnJvbSAnLi9tZXRob2RzL3pvb21TbGlkZSc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgc3dpdGNoU2xpZGUsXG4gIHpvb21TbGlkZSxcbn0pO1xuIiwiaW1wb3J0IHsgU2xpZGVzLCBTbGlkZVBvc2l0aW9ucyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gc2xpZGVzKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFNsaWRlcy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgU2xpZGVzJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gU2xpZGVzLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFNsaWRlcyA9IHNsaWRlcy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRTbGlkZXMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdzbGlkZXMnLCBwdWJsaXNoKTtcblxuZnVuY3Rpb24gc2xpZGVQb3NpdGlvbnMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gU2xpZGVQb3NpdGlvbnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgU2xpZGVQb3NpdGlvbnMnLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBTbGlkZVBvc2l0aW9ucy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoUG9zaXRpb25zKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRTbGlkZVBvc2l0aW9ucyA9IHNsaWRlUG9zaXRpb25zLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNsaWRlUG9zaXRpb25zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnc2xpZGUtcG9zaXRpb25zJywgcHVibGlzaFBvc2l0aW9ucyk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgU2xpZGVzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3NsaWRlcycpO1xuY29uc3QgU2xpZGVQb3NpdGlvbnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignc2xpZGUtcG9zaXRpb25zJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHNsaWRlczpcblxuICAvLyAxLiBtZWV0aW5nSWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCAxIClcbiAgLy8gMi4gbWVldGluZ0lkLCBwb2RJZCAgICAgICAgICAgICAgICAgICAgICAgICAgICggMSApXG4gIC8vIDMuIG1lZXRpbmdJZCwgcHJlc2VudGF0aW9uSWQgICAgICAgICAgICAgICAgICAoIDEgKVxuICAvLyAzLiBtZWV0aW5nSWQsIHByZXNlbnRhdGlvbklkLCBudW0gICAgICAgICAgICAgKCAxIClcbiAgLy8gNC4gbWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQsIGlkICAgICAgICggMyApIC0gaW5jbC4gcmVzaXplU2xpZGUsIHdoaWNoIGNhbiBiZSBpbnRlbnNlXG4gIC8vIDUuIG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBjdXJyZW50ICAoIDEgKVxuXG4gIFNsaWRlcy5fZW5zdXJlSW5kZXgoe1xuICAgIG1lZXRpbmdJZDogMSwgcG9kSWQ6IDEsIHByZXNlbnRhdGlvbklkOiAxLCBpZDogMSxcbiAgfSk7XG5cbiAgU2xpZGVQb3NpdGlvbnMuX2Vuc3VyZUluZGV4KHtcbiAgICBtZWV0aW5nSWQ6IDEsIHBvZElkOiAxLCBwcmVzZW50YXRpb25JZDogMSwgaWQ6IDEsXG4gIH0pO1xufVxuXG5leHBvcnQgeyBTbGlkZXMsIFNsaWRlUG9zaXRpb25zIH07XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgY2hhbmdlUm9sZSBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VSb2xlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlUm9sZShwYXlsb2FkLCBtZWV0aW5nSWQpIHtcbiAgY2hlY2socGF5bG9hZC5ib2R5LCBPYmplY3QpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgeyB1c2VySWQsIHJvbGUsIGNoYW5nZWRCeSB9ID0gcGF5bG9hZC5ib2R5O1xuXG4gIGNoYW5nZVJvbGUocm9sZSwgdXNlcklkLCBtZWV0aW5nSWQsIGNoYW5nZWRCeSk7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlRW1vamlTdGF0dXMoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJJZCwgZW1vamkgfSA9IGJvZHk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhlbW9qaSwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGVtb2ppVGltZTogKG5ldyBEYXRlKCkpLmdldFRpbWUoKSxcbiAgICAgIGVtb2ppLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQXNzaWduZWQgdXNlciBlbW9qaSBzdGF0dXMgJHtlbW9qaX0gaWQ9JHt1c2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFzc2lnbmluZyB1c2VyIGVtb2ppIHN0YXR1czogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvJztcbmltcG9ydCBhZGRVc2VyIGZyb20gJy4uL21vZGlmaWVycy9hZGRVc2VyJztcbmltcG9ydCByZW1vdmVVc2VyIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR2V0VXNlcnMoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJzIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcnMsIEFycmF5KTtcblxuICBjb25zdCB1c2Vyc0lkcyA9IHVzZXJzLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHVzZXJzVG9SZW1vdmUgPSBVc2Vycy5maW5kKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiB7ICRuaW46IHVzZXJzSWRzIH0sXG4gIH0sIHsgZmllbGRzOiB7IHVzZXJJZDogMSB9IH0pLmZldGNoKCk7XG5cbiAgdXNlcnNUb1JlbW92ZS5mb3JFYWNoKHVzZXIgPT4gcmVtb3ZlVXNlcihtZWV0aW5nSWQsIHVzZXIudXNlcklkKSk7XG5cbiAgY29uc3QgdXNlcnNBZGRlZCA9IFtdO1xuICB1c2Vycy5mb3JFYWNoKCh1c2VyKSA9PiB7XG4gICAgdXNlcnNBZGRlZC5wdXNoKGFkZFVzZXIobWVldGluZ0lkLCB1c2VyKSk7XG4gIH0pO1xuXG4gIHJldHVybiB1c2Vyc0FkZGVkO1xufVxuIiwiaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IGNoYW5nZVByZXNlbnRlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VQcmVzZW50ZXInO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcblxuZnVuY3Rpb24gc2V0UHJlc2VudGVySW5Qb2RSZXFNc2coY3JlZGVudGlhbHMpIHsgLy8gVE9ETy0tIHN3aXRjaCB0byBtZWV0aW5nSWQsIGV0Y1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NldFByZXNlbnRlckluUG9kUmVxTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwcmVzZW50ZXJJZCB9ID0gY3JlZGVudGlhbHM7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwb2RJZDogJ0RFRkFVTFRfUFJFU0VOVEFUSU9OX1BPRCcsXG4gICAgbmV4dFByZXNlbnRlcklkOiBwcmVzZW50ZXJJZCxcbiAgfTtcblxuICBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50ZXJBc3NpZ25lZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgcHJlc2VudGVySWQsIGFzc2lnbmVkQnkgfSA9IGJvZHk7XG5cbiAgY2hhbmdlUHJlc2VudGVyKHRydWUsIHByZXNlbnRlcklkLCBtZWV0aW5nSWQsIGFzc2lnbmVkQnkpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHsgJG5lOiBwcmVzZW50ZXJJZCB9LFxuICAgIHByZXNlbnRlcjogdHJ1ZSxcbiAgfTtcblxuICBjb25zdCBwcmV2UHJlc2VudGVyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgLy8gbm8gcHJldmlvdXMgcHJlc2VudGVyc1xuICAvLyBUaGUgYmVsb3cgY29kZSBpcyByZXNwb25zaWJsZSBmb3Igc2V0IE1lZXRpbmcgcHJlc2VudGVyIHRvIGJlIGRlZmF1bHQgcG9kIHByZXNlbnRlciBhcyB3ZWxsLlxuICAvLyBJdCdzIGJlZW4gaGFuZGxlZCBoZXJlIGJlY2F1c2UgcmlnaHQgbm93IGFra2EtYXBwcyBkb24ndCBoYW5kbGUgYWxsIGNhc2VzIHNjZW5hcmlvcy5cbiAgaWYgKCFwcmV2UHJlc2VudGVyKSB7XG4gICAgY29uc3Qgc2V0UHJlc2VudGVyUGF5bG9hZCA9IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHJlcXVlc3RlclVzZXJJZDogYXNzaWduZWRCeSxcbiAgICAgIHByZXNlbnRlcklkLFxuICAgIH07XG5cbiAgICBjb25zdCBkZWZhdWx0UG9kU2VsZWN0b3IgPSB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZDogJ0RFRkFVTFRfUFJFU0VOVEFUSU9OX1BPRCcsXG4gICAgfTtcbiAgICBjb25zdCBjdXJyZW50RGVmYXVsdFBvZFByZXNlbnRlciA9IFByZXNlbnRhdGlvblBvZHMuZmluZE9uZShkZWZhdWx0UG9kU2VsZWN0b3IpO1xuICAgIGNvbnN0IHsgY3VycmVudFByZXNlbnRlcklkIH0gPSBjdXJyZW50RGVmYXVsdFBvZFByZXNlbnRlcjtcblxuICAgIGlmIChjdXJyZW50UHJlc2VudGVySWQgPT09ICcnKSB7XG4gICAgICByZXR1cm4gc2V0UHJlc2VudGVySW5Qb2RSZXFNc2coc2V0UHJlc2VudGVyUGF5bG9hZCk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkUHJlc2VudGVyID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgdXNlcklkOiBjdXJyZW50UHJlc2VudGVySWQsIGNvbm5lY3Rpb25TdGF0dXM6ICdvZmZsaW5lJyB9KTtcblxuICAgIGlmIChvbGRQcmVzZW50ZXIpIHtcbiAgICAgIHJldHVybiBzZXRQcmVzZW50ZXJJblBvZFJlcU1zZyhzZXRQcmVzZW50ZXJQYXlsb2FkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNoYW5nZVByZXNlbnRlcihmYWxzZSwgcHJldlByZXNlbnRlci51c2VySWQsIG1lZXRpbmdJZCwgYXNzaWduZWRCeSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCByZW1vdmVVc2VyIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUmVtb3ZlVXNlcih7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgaW50SWQgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhpbnRJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gcmVtb3ZlVXNlcihtZWV0aW5nSWQsIGludElkKTtcbn1cbiIsImltcG9ydCB1c2VyRWplY3RlZCBmcm9tICcuLi9tb2RpZmllcnMvdXNlckVqZWN0ZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVFamVjdGVkVXNlcih7IGhlYWRlciwgYm9keSB9KSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCB1c2VySWQgfSA9IGhlYWRlcjtcbiAgY29uc3QgeyByZWFzb25Db2RlIH0gPSBib2R5O1xuXG4gIHVzZXJFamVjdGVkKG1lZXRpbmdJZCwgdXNlcklkLCByZWFzb25Db2RlKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB1c2VySW5hY3Rpdml0eUluc3BlY3QgZnJvbSAnLi4vbW9kaWZpZXJzL3VzZXJJbmFjdGl2aXR5SW5zcGVjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJJbmFjdGl2aXR5SW5zcGVjdCh7IGhlYWRlciwgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyB1c2VySWQgfSA9IGhlYWRlcjtcbiAgY29uc3QgeyByZXNwb25zZURlbGF5IH0gPSBib2R5O1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2socmVzcG9uc2VEZWxheSwgTWF0Y2guSW50ZWdlcik7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuXG4gIHVzZXJJbmFjdGl2aXR5SW5zcGVjdCh1c2VySWQsIHJlc3BvbnNlRGVsYXkpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VySm9pbihtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckpvaW5NZWV0aW5nUmVxTXNnJztcblxuICBjaGVjayhhdXRoVG9rZW4sIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQsXG4gICAgYXV0aFRva2VuLFxuICAgIGNsaWVudFR5cGU6ICdIVE1MNScsXG4gIH07XG5cbiAgTG9nZ2VyLmluZm8oYFVzZXI9JyR7dXNlcklkfScgaXMgam9pbmluZyBtZWV0aW5nPScke21lZXRpbmdJZH0nIGF1dGhUb2tlbj0nJHthdXRoVG9rZW59J2ApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCB1c2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgYWRkVXNlciBmcm9tICcuLi9tb2RpZmllcnMvYWRkVXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJKb2luZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB1c2VyID0gYm9keTtcblxuICBjaGVjayh1c2VyLCBPYmplY3QpO1xuXG4gIGFkZFVzZXIobWVldGluZ0lkLCB1c2VyKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IHVzZXJKb2luIGZyb20gJy4vdXNlckpvaW4nO1xuaW1wb3J0IHBlbmRpbmdBdXRoZW50aWNhdGlvbnNTdG9yZSBmcm9tICcuLi9zdG9yZS9wZW5kaW5nQXV0aGVudGljYXRpb25zJztcbmltcG9ydCBjcmVhdGVEdW1teVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL2NyZWF0ZUR1bW15VXNlcic7XG5pbXBvcnQgc2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuIGZyb20gJy4uL21vZGlmaWVycy9zZXRDb25uZWN0aW9uSWRBbmRBdXRoVG9rZW4nO1xuXG5jb25zdCBjbGVhck90aGVyU2Vzc2lvbnMgPSAoc2Vzc2lvblVzZXJJZCwgY3VycmVudCA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHNlcnZlclNlc3Npb25zID0gTWV0ZW9yLnNlcnZlci5zZXNzaW9ucztcbiAgT2JqZWN0LmtleXMoc2VydmVyU2Vzc2lvbnMpXG4gICAgLmZpbHRlcihpID0+IHNlcnZlclNlc3Npb25zW2ldLnVzZXJJZCA9PT0gc2Vzc2lvblVzZXJJZClcbiAgICAuZmlsdGVyKGkgPT4gaSAhPT0gY3VycmVudClcbiAgICAuZm9yRWFjaChpID0+IHNlcnZlclNlc3Npb25zW2ldLmNsb3NlKCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVmFsaWRhdGVBdXRoVG9rZW4oeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7XG4gICAgdXNlcklkLFxuICAgIHZhbGlkLFxuICAgIGF1dGhUb2tlbixcbiAgICB3YWl0Rm9yQXBwcm92YWwsXG4gIH0gPSBib2R5O1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soYXV0aFRva2VuLCBTdHJpbmcpO1xuICBjaGVjayh2YWxpZCwgQm9vbGVhbik7XG4gIGNoZWNrKHdhaXRGb3JBcHByb3ZhbCwgQm9vbGVhbik7XG5cbiAgY29uc3QgcGVuZGluZ0F1dGhzID0gcGVuZGluZ0F1dGhlbnRpY2F0aW9uc1N0b3JlLnRha2UobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbik7XG5cbiAgaWYgKCF2YWxpZCkge1xuICAgIHBlbmRpbmdBdXRocy5mb3JFYWNoKFxuICAgICAgKHBlbmRpbmdBdXRoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBtZXRob2RJbnZvY2F0aW9uT2JqZWN0IH0gPSBwZW5kaW5nQXV0aDtcbiAgICAgICAgICBjb25zdCBjb25uZWN0aW9uSWQgPSBtZXRob2RJbnZvY2F0aW9uT2JqZWN0LmNvbm5lY3Rpb24uaWQ7XG5cbiAgICAgICAgICAvLyBTY2hlZHVsZSBzb2NrZXQgZGlzY29ubmVjdGlvbiBmb3IgdGhpcyB1c2VyLCBnaXZpbmcgc29tZSB0aW1lIGZvciBjbGllbnQgcmVjZWl2aW5nIHRoZSByZWFzb24gb2YgZGlzY29ubmVjdGlvblxuICAgICAgICAgIE1ldGVvci5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG1ldGhvZEludm9jYXRpb25PYmplY3QuY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICAgIH0sIDIwMDApO1xuXG4gICAgICAgICAgTG9nZ2VyLmluZm8oYENsb3NlZCBjb25uZWN0aW9uICR7Y29ubmVjdGlvbklkfSBkdWUgdG8gaW52YWxpZCBhdXRoIHRva2VuLmApO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBjbG9zaW5nIHNvY2tldCBmb3IgbWVldGluZ0lkICcke21lZXRpbmdJZH0nLCB1c2VySWQgJyR7dXNlcklkfScsIGF1dGhUb2tlbiAke2F1dGhUb2tlbn1gKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHZhbGlkKSB7XG4gICAgLy8gRGVmaW5lIHVzZXIgSUQgb24gY29ubmVjdGlvbnNcbiAgICBwZW5kaW5nQXV0aHMuZm9yRWFjaChcbiAgICAgIChwZW5kaW5nQXV0aCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZEludm9jYXRpb25PYmplY3QgfSA9IHBlbmRpbmdBdXRoO1xuXG4gICAgICAgIC8qIExvZ2ljIG1pZ3JhdGVkIGZyb20gdmFsaWRhdGVBdXRoVG9rZW4gbWV0aG9kICggcG9zdHBvbmVkIHRvIG9ubHkgcnVuIGluIGNhc2Ugb2Ygc3VjY2VzcyByZXNwb25zZSApIC0gQmVnaW4gKi9cbiAgICAgICAgY29uc3Qgc2Vzc2lvbklkID0gYCR7bWVldGluZ0lkfS0tJHt1c2VySWR9YDtcblxuICAgICAgICBtZXRob2RJbnZvY2F0aW9uT2JqZWN0LnNldFVzZXJJZChzZXNzaW9uSWQpO1xuXG4gICAgICAgIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHtcbiAgICAgICAgICBtZWV0aW5nSWQsXG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIVVzZXIpIHtcbiAgICAgICAgICBjcmVhdGVEdW1teVVzZXIobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbik7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRDb25uZWN0aW9uSWRBbmRBdXRoVG9rZW4obWVldGluZ0lkLCB1c2VySWQsIG1ldGhvZEludm9jYXRpb25PYmplY3QuY29ubmVjdGlvbi5pZCwgYXV0aFRva2VuKTtcbiAgICAgICAgLyogRW5kIG9mIGxvZ2ljIG1pZ3JhdGVkIGZyb20gdmFsaWRhdGVBdXRoVG9rZW4gKi9cbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgY2xpZW50VHlwZTogJ0hUTUw1JyxcbiAgfTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgLy8gSWYgd2UgZG9udCBmaW5kIHRoZSB1c2VyIG9uIG91ciBjb2xsZWN0aW9uIGlzIGEgZmxhc2ggdXNlciBhbmQgd2UgY2FuIHNraXBcbiAgaWYgKCFVc2VyKSByZXR1cm47XG5cbiAgLy8gUHVibGlzaCB1c2VyIGpvaW4gbWVzc2FnZVxuICBpZiAodmFsaWQgJiYgIXdhaXRGb3JBcHByb3ZhbCkge1xuICAgIExvZ2dlci5pbmZvKCdVc2VyPScsIFVzZXIpO1xuICAgIHVzZXJKb2luKG1lZXRpbmdJZCwgdXNlcklkLCBVc2VyLmF1dGhUb2tlbik7XG4gIH1cblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICB2YWxpZGF0ZWQ6IHZhbGlkLFxuICAgICAgYXBwcm92ZWQ6ICF3YWl0Rm9yQXBwcm92YWwsXG4gICAgICBsb2dpblRpbWU6IERhdGUubm93KCksXG4gICAgICBpbmFjdGl2aXR5Q2hlY2s6IGZhbHNlLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvblVzZXJJZCA9IGAke21lZXRpbmdJZH0tJHt1c2VySWR9YDtcbiAgICAgICAgY29uc3QgY3VycmVudENvbm5lY3Rpb25JZCA9IFVzZXIuY29ubmVjdGlvbklkID8gVXNlci5jb25uZWN0aW9uSWQgOiBmYWxzZTtcbiAgICAgICAgY2xlYXJPdGhlclNlc3Npb25zKHNlc3Npb25Vc2VySWQsIGN1cnJlbnRDb25uZWN0aW9uSWQpO1xuICAgICAgfVxuXG4gICAgICBMb2dnZXIuaW5mbyhgVmFsaWRhdGVkIGF1dGggdG9rZW4gYXMgJHt2YWxpZH0gdXNlcj0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oJ05vIGF1dGggdG8gdmFsaWRhdGUnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgVmFsaWRhdGluZyBhdXRoIHRva2VuOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXNzaWduUHJlc2VudGVyKHVzZXJJZCkgeyAvLyBUT0RPLS0gc2VuZCB1c2VybmFtZSBmcm9tIGNsaWVudCBzaWRlXG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnQXNzaWduUHJlc2VudGVyUmVxTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoe1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH0pO1xuXG4gIGlmICghVXNlcikge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3VzZXItbm90LWZvdW5kJywgJ1lvdSBuZWVkIGEgdmFsaWQgdXNlciB0byBiZSBhYmxlIHRvIHNldCBwcmVzZW50ZXInKTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbmV3UHJlc2VudGVySWQ6IHVzZXJJZCxcbiAgICBuZXdQcmVzZW50ZXJOYW1lOiBVc2VyLm5hbWUsXG4gICAgYXNzaWduZWRCeTogcmVxdWVzdGVyVXNlcklkLFxuICAgIHJlcXVlc3RlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgTG9nZ2VyLnZlcmJvc2UoJ1VzZXIgc2V0IGFzIHByZXNlbnRlcicsIHsgdXNlcklkLCBtZWV0aW5nSWQsIHNldEJ5OiByZXF1ZXN0ZXJVc2VySWQgfSk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlUm9sZSh1c2VySWQsIHJvbGUpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDaGFuZ2VVc2VyUm9sZUNtZE1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHJvbGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQsXG4gICAgcm9sZSxcbiAgICBjaGFuZ2VkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBMb2dnZXIudmVyYm9zZSgnQ2hhbmdlZCB1c2VyIHJvbGUnLCB7XG4gICAgdXNlcklkLCByb2xlLCBjaGFuZ2VkQnk6IHJlcXVlc3RlclVzZXJJZCwgbWVldGluZ0lkLFxuICB9KTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgQmFubmVkVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9zdG9yZS9iYW5uZWRVc2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVVzZXIodXNlcklkLCBiYW5Vc2VyKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnRWplY3RVc2VyRnJvbU1lZXRpbmdDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IGVqZWN0ZWRCeSB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQsXG4gICAgZWplY3RlZEJ5LFxuICAgIGJhblVzZXIsXG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlZFVzZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCB1c2VySWQgfSwgeyBleHRJZDogMSB9KTtcblxuICBpZiAoYmFuVXNlciAmJiByZW1vdmVkVXNlcikgQmFubmVkVXNlcnMuYWRkKG1lZXRpbmdJZCwgcmVtb3ZlZFVzZXIuZXh0SWQpO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCBlamVjdGVkQnksIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldEVtb2ppU3RhdHVzKHVzZXJJZCwgc3RhdHVzKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnQ2hhbmdlVXNlckVtb2ppQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGVtb2ppOiBzdGF0dXMsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIExvZ2dlci52ZXJib3NlKCdVc2VyIGVtb2ppIHN0YXR1cyB1cGRhdGVkJywge1xuICAgIHVzZXJJZCwgc3RhdHVzLCByZXF1ZXN0ZXJVc2VySWQsIG1lZXRpbmdJZCxcbiAgfSk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBzZXRFZmZlY3RpdmVDb25uZWN0aW9uVHlwZSBmcm9tICcuLi9tb2RpZmllcnMvc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlKGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnQ2hhbmdlVXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25Nc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLFxuICB9O1xuXG4gIHNldEVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlKG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBlZmZlY3RpdmVDb25uZWN0aW9uVHlwZSk7XG5cbiAgTG9nZ2VyLnZlcmJvc2UoJ1VwZGF0ZWQgdXNlciBlZmZlY3RpdmUgY29ubmVjdGlvbicsIHsgcmVxdWVzdGVyVXNlcklkLCBlZmZlY3RpdmVDb25uZWN0aW9uVHlwZSB9KTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2dnbGVVc2VyTG9jayh1c2VySWQsIGxvY2spIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdMb2NrVXNlckluTWVldGluZ0NtZE1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogbG9ja2VkQnkgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobG9ja2VkQnksIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2sobG9jaywgQm9vbGVhbik7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBsb2NrZWRCeSxcbiAgICB1c2VySWQsXG4gICAgbG9jayxcbiAgfTtcblxuICBMb2dnZXIudmVyYm9zZSgnVXBkYXRlZCBsb2NrIHN0YXR1cyBmb3IgdXNlcicsIHtcbiAgICBtZWV0aW5nSWQsIHVzZXJJZCwgbG9jaywgbG9ja2VkQnksXG4gIH0pO1xuXG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIGxvY2tlZEJ5LCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJBY3Rpdml0eVNpZ24oKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckFjdGl2aXR5U2lnbkNtZE1zZyc7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGluYWN0aXZpdHlDaGVjazogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTsgLy8gVE9ETy0tIHdlIHNob3VsZCBtb3ZlIHRoaXMgdG8gYSBtb2RpZmllclxuXG4gIExvZ2dlci5pbmZvKGBVc2VyICR7dXNlcklkfSBzZW50IGEgYWN0aXZpdHkgc2lnbiBmb3IgbWVldGluZyAke21lZXRpbmdJZH1gKTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyTGVhdmluZyhtZWV0aW5nSWQsIHVzZXJJZCwgY29ubmVjdGlvbklkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckxlYXZlUmVxTXNnJztcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgaWYgKCFVc2VyKSB7XG4gICAgTG9nZ2VyLmluZm8oYFNraXBwaW5nIHVzZXJMZWF2aW5nLiBDb3VsZCBub3QgZmluZCAke3VzZXJJZH0gaW4gJHttZWV0aW5nSWR9YCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSWYgdGhlIGN1cnJlbnQgdXNlciBjb25uZWN0aW9uIGlzIG5vdCB0aGUgc2FtZSB0aGF0IHRyaWdnZXJlZCB0aGUgbGVhdmUgd2Ugc2tpcFxuICBpZiAoVXNlci5jb25uZWN0aW9uSWQgIT09IGNvbm5lY3Rpb25JZCkge1xuICAgIExvZ2dlci5pbmZvKGBTa2lwcGluZyB1c2VyTGVhdmluZy4gVXNlciBjb25uZWN0aW9uSWQ9JHtVc2VyLmNvbm5lY3Rpb25JZH0gaXMgZGlmZmVyZW50IGZyb20gcmVxdWVzdGVyIGNvbm5lY3Rpb25JZD0ke2Nvbm5lY3Rpb25JZH1gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgICBzZXNzaW9uSWQ6IG1lZXRpbmdJZCxcbiAgfTtcblxuICBMb2dnZXIuaW5mbyhgVXNlciAnJHt1c2VySWR9JyBpcyBsZWF2aW5nIG1lZXRpbmcgJyR7bWVldGluZ0lkfSdgKTtcbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyTGVmdE1lZXRpbmcoKSB7IC8vIFRPRE8tLSBzcHJlYWQgdGhlIGNvZGUgdG8gbWV0aG9kL21vZGlmaWVyL2hhbmRsZXJcbiAgLy8gc28gd2UgZG9uJ3QgdXBkYXRlIHRoZSBkYiBpbiBhIG1ldGhvZFxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCB7ICRzZXQ6IHsgbG9nZ2VkT3V0OiB0cnVlIH0gfSk7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGB1c2VyIGxlZnQgaWQ9JHtyZXF1ZXN0ZXJVc2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYGxlYXZpbmcgZHVtbXkgdXNlciB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHBlbmRpbmdBdXRoZW50aWNhdGlvbnNTdG9yZSBmcm9tICcuLi9zdG9yZS9wZW5kaW5nQXV0aGVudGljYXRpb25zJztcbmltcG9ydCBCYW5uZWRVc2VycyBmcm9tICcuLi9zdG9yZS9iYW5uZWRVc2Vycyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdmFsaWRhdGVBdXRoVG9rZW4obWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHJlcXVlc3RlclRva2VuLCBleHRlcm5hbElkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVmFsaWRhdGVBdXRoVG9rZW5SZXFNc2cnO1xuXG4gIC8vIENoZWNrIGlmIGV4dGVybmFsSWQgaXMgYmFubmVkIGZyb20gdGhlIG1lZXRpbmdcbiAgaWYgKGV4dGVybmFsSWQpIHtcbiAgICBpZiAoQmFubmVkVXNlcnMuaGFzKG1lZXRpbmdJZCwgZXh0ZXJuYWxJZCkpIHtcbiAgICAgIExvZ2dlci53YXJuKGBBIGJhbm5lZCB1c2VyIHdpdGggZXh0SWQgJHtleHRlcm5hbElkfSB0cmllZCB0byBlbnRlciBpbiBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuICAgICAgcmV0dXJuIHsgaW52YWxpZDogdHJ1ZSwgcmVhc29uOiAnVXNlciBoYXMgYmVlbiBiYW5uZWQnLCBlcnJvcl90eXBlOiAndXNlcl9iYW5uZWQnIH07XG4gICAgfVxuICB9XG5cbiAgLy8gUHJldmVudCB1c2VycyB3aG8gaGF2ZSBsZWZ0IG9yIGJlZW4gZWplY3RlZCB0byB1c2UgdGhlIHNhbWUgc2Vzc2lvblRva2VuIGFnYWluLlxuICBjb25zdCBpc1VzZXJJbnZhbGlkID0gVXNlcnMuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIGF1dGhUb2tlbjogcmVxdWVzdGVyVG9rZW4sXG4gICAgJG9yOiBbeyBlamVjdGVkOiB0cnVlIH0sIHsgbG9nZ2VkT3V0OiB0cnVlIH1dLFxuICB9KTtcblxuICBpZiAoaXNVc2VySW52YWxpZCkge1xuICAgIExvZ2dlci53YXJuKGBBbiBpbnZhbGlkIHNlc3Npb25Ub2tlbiB0cmllZCB0byB2YWxpZGF0ZUF1dGhUb2tlbiBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9IGF1dGhUb2tlbj0ke3JlcXVlc3RlclRva2VufWApO1xuICAgIHJldHVybiB7XG4gICAgICBpbnZhbGlkOiB0cnVlLFxuICAgICAgcmVhc29uOiBgVXNlciBoYXMgYW4gaW52YWxpZCBzZXNzaW9uVG9rZW4gZHVlIHRvICR7aXNVc2VySW52YWxpZC5lamVjdGVkID8gJ2VqZWN0aW9uJyA6ICdsb2cgb3V0J31gLFxuICAgICAgZXJyb3JfdHlwZTogYGludmFsaWRfc2Vzc2lvbl90b2tlbl9kdWVfdG9fJHtpc1VzZXJJbnZhbGlkLmVqZWN0ZWQgPyAnZWplY3QnIDogJ2xvZ19vdXQnfWAsXG4gICAgfTtcbiAgfVxuXG4gIC8vIFN0b3JlIHJlZmVyZW5jZSBvZiBtZXRob2RJbnZvY2F0aW9uT2JqZWN0ICggdG8gcG9zdHBvbmUgdGhlIGNvbm5lY3Rpb24gdXNlcklkIGRlZmluaXRpb24gKVxuICBwZW5kaW5nQXV0aGVudGljYXRpb25zU3RvcmUuYWRkKG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCByZXF1ZXN0ZXJUb2tlbiwgdGhpcyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBhdXRoVG9rZW46IHJlcXVlc3RlclRva2VuLFxuICB9O1xuXG4gIExvZ2dlci5pbmZvKGBVc2VyICcke3JlcXVlc3RlclVzZXJJZH0nIGlzIHRyeWluZyB0byB2YWxpZGF0ZSBhdXRoIHRva2VuIGZvciBtZWV0aW5nICcke21lZXRpbmdJZH0nIGZyb20gY29ubmVjdGlvbiAnJHt0aGlzLmNvbm5lY3Rpb24uaWR9J2ApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZFVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkVXNlcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkRGlhbEluVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHZvaWNlVXNlciwgT2JqZWN0KTtcblxuICBjb25zdCBVU0VSX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMudXNlcjtcbiAgY29uc3QgUk9MRV9WSUVXRVIgPSBVU0VSX0NPTkZJRy5yb2xlX3ZpZXdlcjtcblxuICBjb25zdCB7IGludElkLCBjYWxsZXJOYW1lIH0gPSB2b2ljZVVzZXI7XG5cbiAgY29uc3Qgdm9pY2VPbmx5VXNlciA9IHtcbiAgICBpbnRJZCxcbiAgICBleHRJZDogaW50SWQsIC8vIFRPRE9cbiAgICBuYW1lOiBjYWxsZXJOYW1lLFxuICAgIHJvbGU6IFJPTEVfVklFV0VSLnRvTG93ZXJDYXNlKCksXG4gICAgZ3Vlc3Q6IGZhbHNlLFxuICAgIGF1dGhlZDogdHJ1ZSxcbiAgICB3YWl0aW5nRm9yQWNjZXB0YW5jZTogZmFsc2UsXG4gICAgZ3Vlc3RTdGF0dXM6ICdBTExPVycsXG4gICAgZW1vamk6ICdub25lJyxcbiAgICBwcmVzZW50ZXI6IGZhbHNlLFxuICAgIGxvY2tlZDogZmFsc2UsIC8vIFRPRE9cbiAgICBhdmF0YXI6ICcnLFxuICAgIGNsaWVudFR5cGU6ICdkaWFsLWluLXVzZXInLFxuICB9O1xuXG4gIHJldHVybiBhZGRVc2VyKG1lZXRpbmdJZCwgdm9pY2VPbmx5VXNlcik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzLyc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFNhbml0aXplSFRNTCBmcm9tICdzYW5pdGl6ZS1odG1sJztcblxuaW1wb3J0IHN0cmluZ0hhc2ggZnJvbSAnc3RyaW5nLWhhc2gnO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5cbmltcG9ydCBhZGRWb2ljZVVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkVm9pY2VVc2VyJztcblxuY29uc3QgQ09MT1JfTElTVCA9IFtcbiAgJyM3YjFmYTInLCAnIzZhMWI5YScsICcjNGExNDhjJywgJyM1ZTM1YjEnLCAnIzUxMmRhOCcsICcjNDUyN2EwJyxcbiAgJyMzMTFiOTInLCAnIzM5NDlhYicsICcjMzAzZjlmJywgJyMyODM1OTMnLCAnIzFhMjM3ZScsICcjMTk3NmQyJywgJyMxNTY1YzAnLFxuICAnIzBkNDdhMScsICcjMDI3N2JkJywgJyMwMTU3OWInLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVXNlcihtZWV0aW5nSWQsIHVzZXJEYXRhKSB7XG4gIGNvbnN0IHVzZXIgPSB1c2VyRGF0YTtcbiAgY29uc3Qgc2FuaXRpemVkTmFtZSA9IFNhbml0aXplSFRNTCh1c2VyRGF0YS5uYW1lLCB7XG4gICAgYWxsb3dlZFRhZ3M6IFtdLFxuICAgIGFsbG93ZWRBdHRyaWJ1dGVzOiB7fSxcbiAgfSk7XG4gIC8vIGlmIHVzZXIgdHlwZWQgb25seSB0YWdzXG4gIHVzZXIubmFtZSA9IHNhbml0aXplZE5hbWUubGVuZ3RoID09PSAwXG4gICAgPyBfLmVzY2FwZSh1c2VyRGF0YS5uYW1lKVxuICAgIDogc2FuaXRpemVkTmFtZTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY2hlY2sodXNlciwge1xuICAgIGludElkOiBTdHJpbmcsXG4gICAgZXh0SWQ6IFN0cmluZyxcbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgcm9sZTogU3RyaW5nLFxuICAgIGd1ZXN0OiBCb29sZWFuLFxuICAgIGF1dGhlZDogQm9vbGVhbixcbiAgICB3YWl0aW5nRm9yQWNjZXB0YW5jZTogTWF0Y2guTWF5YmUoQm9vbGVhbiksXG4gICAgZ3Vlc3RTdGF0dXM6IFN0cmluZyxcbiAgICBlbW9qaTogU3RyaW5nLFxuICAgIHByZXNlbnRlcjogQm9vbGVhbixcbiAgICBsb2NrZWQ6IEJvb2xlYW4sXG4gICAgYXZhdGFyOiBTdHJpbmcsXG4gICAgY2xpZW50VHlwZTogU3RyaW5nLFxuICB9KTtcblxuICBjb25zdCB1c2VySWQgPSB1c2VyLmludElkO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG4gIGNvbnN0IE1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuXG4gIC8qIFdoaWxlIHRoZSBha2thLWFwcHMgZG9udCBnZW5lcmF0ZSBhIGNvbG9yIHdlIGp1c3QgcGljayBvbmVcbiAgICBmcm9tIGEgbGlzdCBiYXNlZCBvbiB0aGUgdXNlcklkICovXG4gIGNvbnN0IGNvbG9yID0gQ09MT1JfTElTVFtzdHJpbmdIYXNoKHVzZXIuaW50SWQpICUgQ09MT1JfTElTVC5sZW5ndGhdO1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgY29ubmVjdGlvblN0YXR1czogJ29ubGluZScsXG4gICAgICAgIHNvcnROYW1lOiB1c2VyLm5hbWUudHJpbSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIGNvbG9yLFxuICAgICAgICBicmVha291dFByb3BzOiB7XG4gICAgICAgICAgaXNCcmVha291dFVzZXI6IE1lZXRpbmcubWVldGluZ1Byb3AuaXNCcmVha291dCxcbiAgICAgICAgICBwYXJlbnRJZDogTWVldGluZy5icmVha291dFByb3BzLnBhcmVudElkLFxuICAgICAgICB9LFxuICAgICAgICBlZmZlY3RpdmVDb25uZWN0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgaW5hY3Rpdml0eUNoZWNrOiBmYWxzZSxcbiAgICAgICAgcmVzcG9uc2VEZWxheTogMCxcbiAgICAgICAgbG9nZ2VkT3V0OiBmYWxzZSxcbiAgICAgIH0sXG4gICAgICBmbGF0KHVzZXIpLFxuICAgICksXG4gIH07XG5cbiAgLy8gT25seSBhZGQgYW4gZW1wdHkgVm9pY2VVc2VyIGlmIHRoZXJlIGlzbid0IG9uZSBhbHJlYWR5IGFuZCBpZiB0aGUgdXNlciBjb21pbmcgaW4gaXNuJ3QgYVxuICAvLyBkaWFsLWluIHVzZXIuIFdlIHdhbnQgdG8gYXZvaWQgb3ZlcndyaXRpbmcgZ29vZCBkYXRhXG4gIGlmICh1c2VyLmNsaWVudFR5cGUgIT09ICdkaWFsLWluLXVzZXInICYmICFWb2ljZVVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQsIGludElkOiB1c2VySWQgfSkpIHtcbiAgICBhZGRWb2ljZVVzZXIobWVldGluZ0lkLCB7XG4gICAgICB2b2ljZVVzZXJJZDogJycsXG4gICAgICBpbnRJZDogdXNlcklkLFxuICAgICAgY2FsbGVyTmFtZTogdXNlci5uYW1lLFxuICAgICAgY2FsbGVyTnVtOiAnJyxcbiAgICAgIG11dGVkOiBmYWxzZSxcbiAgICAgIHRhbGtpbmc6IGZhbHNlLFxuICAgICAgY2FsbGluZ1dpdGg6ICcnLFxuICAgICAgbGlzdGVuT25seTogZmFsc2UsXG4gICAgICB2b2ljZUNvbmY6ICcnLFxuICAgICAgam9pbmVkOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBVc2Vycy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQWRkZWQgdXNlciBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIHVzZXIgaWQ9JHt1c2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyB1c2VyIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IHN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8gZnJvbSAnL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9zdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlUHJlc2VudGVyKHByZXNlbnRlciwgdXNlcklkLCBtZWV0aW5nSWQsIGNoYW5nZWRCeSkge1xuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHByZXNlbnRlcixcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG4gICAgaWYgKG1lZXRpbmcgJiYgbWVldGluZy5leHRlcm5hbFZpZGVvVXJsKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2hhbmdlUHJlc2VudGVyOlRoZXJlIGlzIGV4dGVybmFsIHZpZGVvIGJlaW5nIHNoYXJlZC4gU3RvcHBpbmcgaXQgZHVlIHRvIHByZXNlbnRlciBjaGFuZ2UsICR7bWVldGluZy5leHRlcm5hbFZpZGVvVXJsfWApO1xuICAgICAgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyh7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENoYW5nZWQgcHJlc2VudGVyPSR7cHJlc2VudGVyfSBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gXG4gICAgICAgICsgYCR7Y2hhbmdlZEJ5ID8gYCBjaGFuZ2VkQnk9JHtjaGFuZ2VkQnl9YCA6ICcnfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBDaGFuZ2VkIHVzZXIgcm9sZTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VSb2xlKHJvbGUsIHVzZXJJZCwgbWVldGluZ0lkLCBjaGFuZ2VkQnkpIHtcbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICByb2xlLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2hhbmdlZCB1c2VyIHJvbGU9JHtyb2xlfSBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gXG4gICAgICAgICsgYCR7Y2hhbmdlZEJ5ID8gYCBjaGFuZ2VkQnk9JHtjaGFuZ2VkQnl9YCA6ICcnfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBDaGFuZ2VkIHVzZXIgcm9sZTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvaW5kZXgnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclVzZXJzKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVXNlcnMucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgVXNlcnMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3IgY2xlYXJpbmcgVXNlcnMgKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2Vycy5yZW1vdmUoe30pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgVXNlcnMgKGFsbCknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3IgY2xlYXJpbmcgVXNlcnMgKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlRHVtbXlVc2VyKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGF1dGhUb2tlbiwgU3RyaW5nKTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgdXNlcklkIH0pO1xuICBpZiAoVXNlcikge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2V4aXN0aW5nLXVzZXInLCAnVHJpZWQgdG8gY3JlYXRlIGEgZHVtbXkgdXNlciBmb3IgYW4gZXhpc3RpbmcgdXNlcicpO1xuICB9XG5cbiAgY29uc3QgZG9jID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgYXV0aFRva2VuLFxuICAgIGNsaWVudFR5cGU6ICdIVE1MNScsXG4gICAgdmFsaWRhdGVkOiBudWxsLFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgaW5zZXJ0ZWRJZCA9IFVzZXJzLmluc2VydChkb2MpO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDcmVhdGVkIGR1bW15IHVzZXIgaWQ9JHt1c2VySWR9IHRva2VuPSR7YXV0aFRva2VufSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBDcmVhdGluZyBkdW1teSB1c2VyIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBWaWRlb1N0cmVhbXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8gZnJvbSAnL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9zdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvJztcbmltcG9ydCBjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlckluZm9Gb3JSZXF1ZXN0ZXInO1xuXG5jb25zdCBjbGVhckFsbFNlc3Npb25zID0gKHNlc3Npb25Vc2VySWQpID0+IHtcbiAgY29uc3Qgc2VydmVyU2Vzc2lvbnMgPSBNZXRlb3Iuc2VydmVyLnNlc3Npb25zO1xuICBPYmplY3Qua2V5cyhzZXJ2ZXJTZXNzaW9ucylcbiAgICAuZmlsdGVyKGkgPT4gc2VydmVyU2Vzc2lvbnNbaV0udXNlcklkID09PSBzZXNzaW9uVXNlcklkKVxuICAgIC5mb3JFYWNoKGkgPT4gc2VydmVyU2Vzc2lvbnNbaV0uY2xvc2UoKSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVVc2VyKG1lZXRpbmdJZCwgdXNlcklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHVzZXJUb1JlbW92ZSA9IFVzZXJzLmZpbmRPbmUoeyB1c2VySWQsIG1lZXRpbmdJZCB9KTtcblxuICBpZiAodXNlclRvUmVtb3ZlKSB7XG4gICAgY29uc3QgeyBwcmVzZW50ZXIgfSA9IHVzZXJUb1JlbW92ZTtcbiAgICBpZiAocHJlc2VudGVyKSB7XG4gICAgICBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvKHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHVzZXJJZCB9KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdvZmZsaW5lJyxcbiAgICAgIHZhbGlkYXRlZDogZmFsc2UsXG4gICAgICBlbW9qaTogJ25vbmUnLFxuICAgICAgcHJlc2VudGVyOiBmYWxzZSxcbiAgICAgIHJvbGU6ICdWSUVXRVInLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBWaWRlb1N0cmVhbXMucmVtb3ZlKHsgbWVldGluZ0lkLCB1c2VySWQgfSk7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgY29uc3Qgc2Vzc2lvblVzZXJJZCA9IGAke21lZXRpbmdJZH0tJHt1c2VySWR9YDtcbiAgICAgIGNsZWFyQWxsU2Vzc2lvbnMoc2Vzc2lvblVzZXJJZCk7XG5cbiAgICAgIGNsZWFyVXNlckluZm9Gb3JSZXF1ZXN0ZXIobWVldGluZ0lkLCB1c2VySWQpO1xuXG4gICAgICBMb2dnZXIuaW5mbyhgUmVtb3ZlZCB1c2VyIGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBSZW1vdmluZyB1c2VyIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRDb25uZWN0aW9uSWRBbmRBdXRoVG9rZW4obWVldGluZ0lkLCB1c2VySWQsIGNvbm5lY3Rpb25JZCwgYXV0aFRva2VuKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhhdXRoVG9rZW4sIFN0cmluZyk7XG4gIGNoZWNrKGNvbm5lY3Rpb25JZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGNvbm5lY3Rpb25JZCxcbiAgICAgIGF1dGhUb2tlbixcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwZGF0ZWQgY29ubmVjdGlvbklkIGFuZCBhdXRoVG9rZW4gdXNlcj0ke3VzZXJJZH0gY29ubmVjdGlvbklkPSR7Y29ubmVjdGlvbklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfSBhdXRoVG9rZW49JHthdXRoVG9rZW59YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIGNvbm5lY3Rpb25JZCB1c2VyPSR7dXNlcklkfTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUobWVldGluZ0lkLCB1c2VySWQsIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhlZmZlY3RpdmVDb25uZWN0aW9uVHlwZSwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICAgIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlOiB7ICRuZTogZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUgfSxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBlZmZlY3RpdmVDb25uZWN0aW9uVHlwZSxcbiAgICB9LFxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwZGF0ZWQgdXNlciAke3VzZXJJZH0gZWZmZWN0aXZlIGNvbm5lY3Rpb24gdG8gJHtlZmZlY3RpdmVDb25uZWN0aW9uVHlwZX0gaW4gbWVldGluZyAke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgdXNlciAke3VzZXJJZH06ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlckluZm9Gb3JSZXF1ZXN0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyRWplY3RlZChtZWV0aW5nSWQsIHVzZXJJZCwgZWplY3RlZFJlYXNvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soZWplY3RlZFJlYXNvbiwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGVqZWN0ZWQ6IHRydWUsXG4gICAgICBlamVjdGVkUmVhc29uLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyKG1lZXRpbmdJZCwgdXNlcklkKTtcbiAgICAgIExvZ2dlci5pbmZvKGBFamVjdGVkIHVzZXIgaWQ9JHt1c2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9IHJlYXNvbj0ke2VqZWN0ZWRSZWFzb259YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVqZWN0aW5nIHVzZXIgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJJbmFjdGl2aXR5SW5zcGVjdCh1c2VySWQsIHJlc3BvbnNlRGVsYXkpIHtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhyZXNwb25zZURlbGF5LCBNYXRjaC5JbnRlZ2VyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICB1c2VySWQsXG4gICAgaW5hY3Rpdml0eUNoZWNrOiBmYWxzZSxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBpbmFjdGl2aXR5Q2hlY2s6IHRydWUsXG4gICAgICByZXNwb25zZURlbGF5LFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwZGF0ZWQgdXNlciAke3VzZXJJZH0gd2l0aCBpbmFjdGl2aXR5IGluc3BlY3RgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgSW5hY3Rpdml0eSBjaGVjayBmb3IgdXNlciAke3VzZXJJZH06ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmNsYXNzIEJhbm5lZFVzZXJzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgTG9nZ2VyLmRlYnVnKCdCYW5uZWRVc2VycyA6OiBJbml0aWFsaXppbmcnKTtcbiAgICB0aGlzLnN0b3JlID0ge307XG4gIH1cblxuICBpbml0KG1lZXRpbmdJZCkge1xuICAgIExvZ2dlci5kZWJ1ZygnQmFubmVkVXNlcnMgOjogaW5pdCcsIHsgbWVldGluZ0lkIH0pO1xuXG4gICAgaWYgKCF0aGlzLnN0b3JlW21lZXRpbmdJZF0pIHRoaXMuc3RvcmVbbWVldGluZ0lkXSA9IG5ldyBTZXQoKTtcbiAgfVxuXG4gIGFkZChtZWV0aW5nSWQsIGV4dGVybmFsSWQpIHtcbiAgICBMb2dnZXIuZGVidWcoJ0Jhbm5lZFVzZXJzIDo6IGFkZCcsIHsgbWVldGluZ0lkLCBleHRlcm5hbElkIH0pO1xuICAgIGlmICghdGhpcy5zdG9yZVttZWV0aW5nSWRdKSB0aGlzLnN0b3JlW21lZXRpbmdJZF0gPSBuZXcgU2V0KCk7XG5cbiAgICB0aGlzLnN0b3JlW21lZXRpbmdJZF0uYWRkKGV4dGVybmFsSWQpO1xuICB9XG5cbiAgZGVsZXRlKG1lZXRpbmdJZCkge1xuICAgIExvZ2dlci5kZWJ1ZygnQmFubmVkVXNlcnMgOjogZGVsZXRlJywgeyBtZWV0aW5nSWQgfSk7XG4gICAgZGVsZXRlIHRoaXMuc3RvcmVbbWVldGluZ0lkXTtcbiAgfVxuXG4gIGhhcyhtZWV0aW5nSWQsIGV4dGVybmFsSWQpIHtcbiAgICBMb2dnZXIuZGVidWcoJ0Jhbm5lZFVzZXJzIDo6IGhhcycsIHsgbWVldGluZ0lkLCBleHRlcm5hbElkIH0pO1xuICAgIGlmICghdGhpcy5zdG9yZVttZWV0aW5nSWRdKSB0aGlzLnN0b3JlW21lZXRpbmdJZF0gPSBuZXcgU2V0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5zdG9yZVttZWV0aW5nSWRdLmhhcyhleHRlcm5hbElkKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQmFubmVkVXNlcnMoKTtcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuY2xhc3MgUGVuZGluZ0F1dGhlbnRpdGNhdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKFwiUGVuZGluZ0F1dGhlbnRpdGNhdGlvbnMgOjogY29uc3RydWN0b3JcIik7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBbXTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUtleSAobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbikge1xuICAgICAgICAvLyBQcm90ZWN0IGFnYWluc3Qgc2VwYXJhdG9yIGluamVjdGlvblxuICAgICAgICBtZWV0aW5nSWQgPSBtZWV0aW5nSWQucmVwbGFjZSgvIC9nLCAnJyk7XG4gICAgICAgIHVzZXJJZCAgICA9IHVzZXJJZC5yZXBsYWNlKC8gL2csICcnKTtcbiAgICAgICAgYXV0aFRva2VuID0gYXV0aFRva2VuLnJlcGxhY2UoLyAvZywgJycpO1xuXG4gICAgICAgIC8vIFNwYWNlIHNlcGFyYXRlZCBrZXlcbiAgICAgICAgcmV0dXJuIGAke21lZXRpbmdJZH0gJHt1c2VySWR9ICR7YXV0aFRva2VufWA7XG4gICAgfVxuXG4gICAgYWRkIChtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuLCBtZXRob2RJbnZvY2F0aW9uT2JqZWN0KSB7XG4gICAgICAgIExvZ2dlci5kZWJ1ZyhcIlBlbmRpbmdBdXRoZW50aXRjYXRpb25zIDo6IGFkZFwiLCB7bWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbn0pO1xuICAgICAgICB0aGlzLnN0b3JlLnB1c2goe1xuICAgICAgICAgICAga2V5OiB0aGlzLmdlbmVyYXRlS2V5KG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pLFxuICAgICAgICAgICAgbWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbiwgbWV0aG9kSW52b2NhdGlvbk9iamVjdFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0YWtlIChtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2VuZXJhdGVLZXkobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbik7XG4gICAgICAgIExvZ2dlci5kZWJ1ZyhcIlBlbmRpbmdBdXRoZW50aXRjYXRpb25zIDo6IHRha2VcIiwge2tleSwgbWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbn0pO1xuICAgICAgICBcbiAgICAgICAgLy8gZmluZCBtYXRjaGVzXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSB0aGlzLnN0b3JlLmZpbHRlciggZSA9PiBlLmtleSA9PT0ga2V5ICk7XG4gICAgICAgIFxuICAgICAgICAvLyByZW1vdmUgbWF0Y2hlcyAoaWYgYW55KVxuICAgICAgICBpZihtYXRjaGVzLmxlbmd0aCkgeyBcbiAgICAgICAgICAgIHRoaXMuc3RvcmUgPSB0aGlzLnN0b3JlLmZpbHRlciggZSA9PiBlLmtleSAhPT0ga2V5ICkgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0dXJuIG1hdGNoZXNcbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IFBlbmRpbmdBdXRoZW50aXRjYXRpb25zKCk7IiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVSZW1vdmVVc2VyIGZyb20gJy4vaGFuZGxlcnMvcmVtb3ZlVXNlcic7XG5pbXBvcnQgaGFuZGxlVXNlckpvaW5lZCBmcm9tICcuL2hhbmRsZXJzL3VzZXJKb2luZWQnO1xuaW1wb3J0IGhhbmRsZVZhbGlkYXRlQXV0aFRva2VuIGZyb20gJy4vaGFuZGxlcnMvdmFsaWRhdGVBdXRoVG9rZW4nO1xuaW1wb3J0IGhhbmRsZVByZXNlbnRlckFzc2lnbmVkIGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGVyQXNzaWduZWQnO1xuaW1wb3J0IGhhbmRsZUVtb2ppU3RhdHVzIGZyb20gJy4vaGFuZGxlcnMvZW1vamlTdGF0dXMnO1xuaW1wb3J0IGhhbmRsZUdldFVzZXJzIGZyb20gJy4vaGFuZGxlcnMvZ2V0VXNlcnMnO1xuaW1wb3J0IGhhbmRsZVVzZXJFamVjdGVkIGZyb20gJy4vaGFuZGxlcnMvdXNlckVqZWN0ZWQnO1xuaW1wb3J0IGhhbmRsZUNoYW5nZVJvbGUgZnJvbSAnLi9oYW5kbGVycy9jaGFuZ2VSb2xlJztcbmltcG9ydCBoYW5kbGVVc2VySW5hY3Rpdml0eUluc3BlY3QgZnJvbSAnLi9oYW5kbGVycy91c2VySW5hY3Rpdml0eUluc3BlY3QnO1xuXG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGVyQXNzaWduZWRFdnRNc2cnLCBoYW5kbGVQcmVzZW50ZXJBc3NpZ25lZCk7XG5SZWRpc1B1YlN1Yi5vbignVXNlckpvaW5lZE1lZXRpbmdFdnRNc2cnLCBoYW5kbGVVc2VySm9pbmVkKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyTGVmdE1lZXRpbmdFdnRNc2cnLCBoYW5kbGVSZW1vdmVVc2VyKTtcblJlZGlzUHViU3ViLm9uKCdWYWxpZGF0ZUF1dGhUb2tlblJlc3BNc2cnLCBoYW5kbGVWYWxpZGF0ZUF1dGhUb2tlbik7XG5SZWRpc1B1YlN1Yi5vbignVXNlckVtb2ppQ2hhbmdlZEV2dE1zZycsIGhhbmRsZUVtb2ppU3RhdHVzKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0VXNlcnNNZWV0aW5nUmVzcE1zZycsIGhhbmRsZUdldFVzZXJzKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyRWplY3RlZEZyb21NZWV0aW5nRXZ0TXNnJywgaGFuZGxlVXNlckVqZWN0ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJSb2xlQ2hhbmdlZEV2dE1zZycsIGhhbmRsZUNoYW5nZVJvbGUpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJJbmFjdGl2aXR5SW5zcGVjdE1zZycsIGhhbmRsZVVzZXJJbmFjdGl2aXR5SW5zcGVjdCk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB2YWxpZGF0ZUF1dGhUb2tlbiBmcm9tICcuL21ldGhvZHMvdmFsaWRhdGVBdXRoVG9rZW4nO1xuaW1wb3J0IHNldEVtb2ppU3RhdHVzIGZyb20gJy4vbWV0aG9kcy9zZXRFbW9qaVN0YXR1cyc7XG5pbXBvcnQgYXNzaWduUHJlc2VudGVyIGZyb20gJy4vbWV0aG9kcy9hc3NpZ25QcmVzZW50ZXInO1xuaW1wb3J0IGNoYW5nZVJvbGUgZnJvbSAnLi9tZXRob2RzL2NoYW5nZVJvbGUnO1xuaW1wb3J0IHJlbW92ZVVzZXIgZnJvbSAnLi9tZXRob2RzL3JlbW92ZVVzZXInO1xuaW1wb3J0IHRvZ2dsZVVzZXJMb2NrIGZyb20gJy4vbWV0aG9kcy90b2dnbGVVc2VyTG9jayc7XG5pbXBvcnQgc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlIGZyb20gJy4vbWV0aG9kcy9zZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUnO1xuaW1wb3J0IHVzZXJBY3Rpdml0eVNpZ24gZnJvbSAnLi9tZXRob2RzL3VzZXJBY3Rpdml0eVNpZ24nO1xuaW1wb3J0IHVzZXJMZWZ0TWVldGluZyBmcm9tICcuL21ldGhvZHMvdXNlckxlZnRNZWV0aW5nJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRFbW9qaVN0YXR1cyxcbiAgYXNzaWduUHJlc2VudGVyLFxuICBjaGFuZ2VSb2xlLFxuICByZW1vdmVVc2VyLFxuICB2YWxpZGF0ZUF1dGhUb2tlbixcbiAgdG9nZ2xlVXNlckxvY2ssXG4gIHNldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZSxcbiAgdXNlckFjdGl2aXR5U2lnbixcbiAgdXNlckxlZnRNZWV0aW5nLFxufSk7XG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuaW1wb3J0IHVzZXJMZWF2aW5nIGZyb20gJy4vbWV0aG9kcy91c2VyTGVhdmluZyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgUk9MRV9NT0RFUkFUT1IgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLnVzZXIucm9sZV9tb2RlcmF0b3I7XG5cbmZ1bmN0aW9uIGN1cnJlbnRVc2VyKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhyZXF1ZXN0ZXJVc2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgY29ubmVjdGlvbklkID0gdGhpcy5jb25uZWN0aW9uLmlkO1xuICBjb25zdCBvbkNsb3NlQ29ubmVjdGlvbiA9IE1ldGVvci5iaW5kRW52aXJvbm1lbnQoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICB1c2VyTGVhdmluZyhtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgY29ubmVjdGlvbklkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEV4Y2VwdGlvbiB3aGlsZSBleGVjdXRpbmcgdXNlckxlYXZpbmc6ICR7ZX1gKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuX3Nlc3Npb24uc29ja2V0Lm9uKCdjbG9zZScsIF8uZGVib3VuY2Uob25DbG9zZUNvbm5lY3Rpb24sIDEwMCkpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGZpZWxkczoge1xuICAgICAgdXNlcjogZmFsc2UsXG4gICAgICBhdXRoVG9rZW46IGZhbHNlLCAvLyBOb3QgYXNraW5nIGZvciBhdXRoVG9rZW4gZnJvbSBjbGllbnQgc2lkZSBidXQgYWxzbyBub3QgZXhwb3NpbmcgaXRcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBVc2Vycy5maW5kKHNlbGVjdG9yLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaEN1cnJlbnRVc2VyKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRVc2VycyA9IGN1cnJlbnRVc2VyLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFVzZXJzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnY3VycmVudC11c2VyJywgcHVibGlzaEN1cnJlbnRVc2VyKTtcblxuZnVuY3Rpb24gdXNlcnMocm9sZSkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgJG9yOiBbXG4gICAgICB7IG1lZXRpbmdJZCB9LFxuICAgIF0sXG4gIH07XG5cbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoeyB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCwgbWVldGluZ0lkIH0sIHsgZmllbGRzOiB7IHJvbGU6IDEgfSB9KTtcbiAgaWYgKCEhVXNlciAmJiBVc2VyLnJvbGUgPT09IFJPTEVfTU9ERVJBVE9SKSB7XG4gICAgc2VsZWN0b3IuJG9yLnB1c2goe1xuICAgICAgJ2JyZWFrb3V0UHJvcHMuaXNCcmVha291dFVzZXInOiB0cnVlLFxuICAgICAgJ2JyZWFrb3V0UHJvcHMucGFyZW50SWQnOiBtZWV0aW5nSWQsXG4gICAgICBjb25uZWN0aW9uU3RhdHVzOiAnb25saW5lJyxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgZmllbGRzOiB7XG4gICAgICBhdXRoVG9rZW46IGZhbHNlLFxuICAgICAgbGFzdFBpbmc6IGZhbHNlLFxuICAgIH0sXG4gIH07XG5cbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIFVzZXJzJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gVXNlcnMuZmluZChzZWxlY3Rvciwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFVzZXJzID0gdXNlcnMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVXNlcnMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd1c2VycycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFVzZXJzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3VzZXJzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHVzZXJzOlxuICAvLyAxLiBtZWV0aW5nSWRcbiAgLy8gMi4gbWVldGluZ0lkLCB1c2VySWRcblxuICBVc2Vycy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHVzZXJJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlcnM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkVXNlckluZm8gZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFVzZXJJbmZvJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVXNlckluZm9ybWF0aW9uKHsgaGVhZGVyLCBib2R5IH0pIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcbiAgY2hlY2soaGVhZGVyLCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgdXNlckluZm8gfSA9IGJvZHk7XG4gIGNvbnN0IHsgdXNlcklkLCBtZWV0aW5nSWQgfSA9IGhlYWRlcjtcblxuICBjaGVjayh1c2VySW5mbywgQXJyYXkpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gYWRkVXNlckluZm8odXNlckluZm8sIHVzZXJJZCwgbWVldGluZ0lkKTtcbn1cbiIsImltcG9ydCBVc2VySW5mb3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVVc2VySW5mb3JtYXRpb24oKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJJbmZvcy5yZW1vdmUoc2VsZWN0b3IpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgUmVtb3ZlZCB1c2VyIGluZm9ybWF0aW9uOiByZXF1ZXN0ZXIgaWQ9JHtyZXF1ZXN0ZXJVc2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIHVzZXIgaW5mb3JtYXRpb24gZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFVzZXJJbmZvcm1hdGlvbihleHRlcm5hbFVzZXJJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b1RoaXJkUGFydHk7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnTG9va1VwVXNlclJlcU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY2hlY2soZXh0ZXJuYWxVc2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBleHRlcm5hbFVzZXJJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBVc2VySW5mb3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVXNlckluZm8odXNlckluZm8sIHJlcXVlc3RlclVzZXJJZCwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IGluZm8gPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHJlcXVlc3RlclVzZXJJZCxcbiAgICB1c2VySW5mbyxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVXNlckluZm9zLmluc2VydChpbmZvKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIHVzZXIgaW5mb3JtYXRpb246IHJlcXVlc3RlciBpZD0ke3JlcXVlc3RlclVzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIHVzZXIgaW5mb3JtYXRpb24gdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBVc2VySW5mb3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJVc2Vyc0luZm8obWVldGluZ0lkKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2VySW5mb3MucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBVc2VyIEluZm9zICgke21lZXRpbmdJZH0pYCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIG9uIGNsZWFyaW5nIFVzZXIgSW5mb3MgKCR7bWVldGluZ0lkfSkuICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgVXNlckluZm9zIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyVXNlcnNJbmZvRm9yUmVxdWVzdGVyKG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBVc2VySW5mb3MucmVtb3ZlKHsgbWVldGluZ0lkIH0pO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBVc2VyIEluZm9zIHJlcXVlc3RlZCBieSB1c2VyPSR7cmVxdWVzdGVyVXNlcklkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmluZm8oYEVycm9yIG9uIGNsZWFyaW5nIFVzZXIgSW5mb3MgcmVxdWVzdGVkIGJ5IHVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9LiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVVc2VySW5mb3JtYXRpb24gZnJvbSAnLi9oYW5kbGVycy91c2VySW5mb3JtYXRpb24nO1xuXG5SZWRpc1B1YlN1Yi5vbignTG9va1VwVXNlclJlc3BNc2cnLCBoYW5kbGVVc2VySW5mb3JtYXRpb24pO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgcmVxdWVzdFVzZXJJbmZvcm1hdGlvbiBmcm9tICcuL21ldGhvZHMvcmVxdWVzdFVzZXJJbmZvcm1hdGlvbic7XG5pbXBvcnQgcmVtb3ZlVXNlckluZm9ybWF0aW9uIGZyb20gJy4vbWV0aG9kcy9yZW1vdmVVc2VySW5mb3JtYXRpb24nO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHJlcXVlc3RVc2VySW5mb3JtYXRpb24sXG4gIHJlbW92ZVVzZXJJbmZvcm1hdGlvbixcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgVXNlckluZm9zIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gdXNlckluZm9zKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFVzZXJJbmZvcy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyB1c2VyIGluZm9zIHJlcXVlc3RlZCcsIHsgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBVc2VySW5mb3MuZmluZCh7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRVc2VySW5mb3MgPSB1c2VySW5mb3MuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVXNlckluZm9zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgndXNlcnMtaW5mb3MnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBVc2VySW5mb3MgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigndXNlcnMtaW5mb3MnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBVc2VySW5mb3MuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCB1c2VySWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvcztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRVc2VyU2V0dGluZyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9hZGRVc2VyU2V0dGluZyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3Qgb2xkUGFyYW1ldGVycyA9IHtcbiAgYXNrRm9yRmVlZGJhY2tPbkxvZ291dDogJ2JiYl9hc2tfZm9yX2ZlZWRiYWNrX29uX2xvZ291dCcsXG4gIGF1dG9Kb2luOiAnYmJiX2F1dG9fam9pbl9hdWRpbycsXG4gIGF1dG9TaGFyZVdlYmNhbTogJ2JiYl9hdXRvX3NoYXJlX3dlYmNhbScsXG4gIGF1dG9Td2FwTGF5b3V0OiAnYmJiX2F1dG9fc3dhcF9sYXlvdXQnLFxuICBjbGllbnRUaXRsZTogJ2JiYl9jbGllbnRfdGl0bGUnLFxuICBjdXN0b21TdHlsZTogJ2JiYl9jdXN0b21fc3R5bGUnLFxuICBjdXN0b21TdHlsZVVybDogJ2JiYl9jdXN0b21fc3R5bGVfdXJsJyxcbiAgZGlzcGxheUJyYW5kaW5nQXJlYTogJ2JiYl9kaXNwbGF5X2JyYW5kaW5nX2FyZWEnLFxuICBlbmFibGVTY3JlZW5zaGFyaW5nOiAnYmJiX2VuYWJsZV9zY3JlZW5fc2hhcmluZycsXG4gIGVuYWJsZVZpZGVvOiAnYmJiX2VuYWJsZV92aWRlbycsXG4gIGZvcmNlTGlzdGVuT25seTogJ2JiYl9mb3JjZV9saXN0ZW5fb25seScsXG4gIGhpZGVQcmVzZW50YXRpb246ICdiYmJfaGlkZV9wcmVzZW50YXRpb24nLFxuICBsaXN0ZW5Pbmx5TW9kZTogJ2JiYl9saXN0ZW5fb25seV9tb2RlJyxcbiAgbXVsdGlVc2VyUGVuT25seTogJ2JiYl9tdWx0aV91c2VyX3Blbl9vbmx5JyxcbiAgbXVsdGlVc2VyVG9vbHM6ICdiYmJfbXVsdGlfdXNlcl90b29scycsXG4gIG91dHNpZGVUb2dnbGVSZWNvcmRpbmc6ICdiYmJfb3V0c2lkZV90b2dnbGVfcmVjb3JkaW5nJyxcbiAgb3V0c2lkZVRvZ2dsZVNlbGZWb2ljZTogJ2JiYl9vdXRzaWRlX3RvZ2dsZV9zZWxmX3ZvaWNlJyxcbiAgcHJlc2VudGVyVG9vbHM6ICdiYmJfcHJlc2VudGVyX3Rvb2xzJyxcbiAgc2hvcnRjdXRzOiAnYmJiX3Nob3J0Y3V0cycsXG4gIHNraXBDaGVjazogJ2JiYl9za2lwX2NoZWNrX2F1ZGlvJyxcbn07XG5cbmNvbnN0IG9sZFBhcmFtZXRlcnNLZXlzID0gT2JqZWN0LmtleXMob2xkUGFyYW1ldGVycyk7XG5cbmNvbnN0IGN1cnJlbnRQYXJhbWV0ZXJzID0gW1xuICAvLyBBUFBcbiAgJ2JiYl9hc2tfZm9yX2ZlZWRiYWNrX29uX2xvZ291dCcsXG4gICdiYmJfYXV0b19qb2luX2F1ZGlvJyxcbiAgJ2JiYl9jbGllbnRfdGl0bGUnLFxuICAnYmJiX2ZvcmNlX2xpc3Rlbl9vbmx5JyxcbiAgJ2JiYl9saXN0ZW5fb25seV9tb2RlJyxcbiAgJ2JiYl9za2lwX2NoZWNrX2F1ZGlvJyxcbiAgLy8gQlJBTkRJTkdcbiAgJ2JiYl9kaXNwbGF5X2JyYW5kaW5nX2FyZWEnLFxuICAvLyBTSE9SVENVVFNcbiAgJ2JiYl9zaG9ydGN1dHMnLFxuICAvLyBLVVJFTlRPXG4gICdiYmJfYXV0b19zaGFyZV93ZWJjYW0nLFxuICAnYmJiX3ByZWZlcnJlZF9jYW1lcmFfcHJvZmlsZScsXG4gICdiYmJfZW5hYmxlX3NjcmVlbl9zaGFyaW5nJyxcbiAgJ2JiYl9lbmFibGVfdmlkZW8nLFxuICAnYmJiX3JlY29yZF92aWRlbycsXG4gICdiYmJfc2tpcF92aWRlb19wcmV2aWV3JyxcbiAgJ2JiYl9taXJyb3Jfb3duX3dlYmNhbScsXG4gIC8vIFBSRVNFTlRBVElPTlxuICAnYmJiX2ZvcmNlX3Jlc3RvcmVfcHJlc2VudGF0aW9uX29uX25ld19ldmVudHMnLFxuICAvLyBXSElURUJPQVJEXG4gICdiYmJfbXVsdGlfdXNlcl9wZW5fb25seScsXG4gICdiYmJfcHJlc2VudGVyX3Rvb2xzJyxcbiAgJ2JiYl9tdWx0aV91c2VyX3Rvb2xzJyxcbiAgLy8gU0tJTk5JTkcvVEhFTU1JTkdcbiAgJ2JiYl9jdXN0b21fc3R5bGUnLFxuICAnYmJiX2N1c3RvbV9zdHlsZV91cmwnLFxuICAvLyBMQVlPVVRcbiAgJ2JiYl9hdXRvX3N3YXBfbGF5b3V0JyxcbiAgJ2JiYl9oaWRlX3ByZXNlbnRhdGlvbicsXG4gICdiYmJfc2hvd19wYXJ0aWNpcGFudHNfb25fbG9naW4nLFxuICAnYmJiX3Nob3dfcHVibGljX2NoYXRfb25fbG9naW4nLFxuICAvLyBPVVRTSURFIENPTU1BTkRTXG4gICdiYmJfb3V0c2lkZV90b2dnbGVfc2VsZl92b2ljZScsXG4gICdiYmJfb3V0c2lkZV90b2dnbGVfcmVjb3JkaW5nJyxcbl07XG5cbmZ1bmN0aW9uIHZhbHVlUGFyc2VyKHZhbCkge1xuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gSlNPTi5wYXJzZSh2YWwudG9Mb3dlckNhc2UoKS50cmltKCkpO1xuICAgIHJldHVybiBwYXJzZWRWYWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIud2FybihgYWRkVXNlclNldHRpbmdzOlBhcmFtZXRlciAke3ZhbH0gY291bGQgbm90IGJlIHBhcnNlZCAod2FzIG5vdCBqc29uKWApO1xuICAgIHJldHVybiB2YWw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVXNlclNldHRpbmdzKHNldHRpbmdzKSB7XG4gIGNoZWNrKHNldHRpbmdzLCBbT2JqZWN0XSk7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogdXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGxldCBwYXJhbWV0ZXJzID0ge307XG5cbiAgc2V0dGluZ3MuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBjb25zdCBzZXR0aW5nS2V5ID0gT2JqZWN0LmtleXMoZWwpLnNoaWZ0KCk7XG4gICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IHNldHRpbmdLZXkudHJpbSgpO1xuXG4gICAgaWYgKGN1cnJlbnRQYXJhbWV0ZXJzLmluY2x1ZGVzKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICBpZiAoIU9iamVjdC5rZXlzKHBhcmFtZXRlcnMpLmluY2x1ZGVzKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgIHBhcmFtZXRlcnMgPSB7XG4gICAgICAgICAgW25vcm1hbGl6ZWRLZXldOiB2YWx1ZVBhcnNlcihlbFtzZXR0aW5nS2V5XSksXG4gICAgICAgICAgLi4ucGFyYW1ldGVycyxcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtZXRlcnNbbm9ybWFsaXplZEtleV0gPSBlbFtzZXR0aW5nS2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob2xkUGFyYW1ldGVyc0tleXMuaW5jbHVkZXMobm9ybWFsaXplZEtleSkpIHtcbiAgICAgIGNvbnN0IG1hdGNoaW5nTmV3S2V5ID0gb2xkUGFyYW1ldGVyc1tub3JtYWxpemVkS2V5XTtcbiAgICAgIGlmICghT2JqZWN0LmtleXMocGFyYW1ldGVycykuaW5jbHVkZXMobWF0Y2hpbmdOZXdLZXkpKSB7XG4gICAgICAgIHBhcmFtZXRlcnMgPSB7XG4gICAgICAgICAgW21hdGNoaW5nTmV3S2V5XTogdmFsdWVQYXJzZXIoZWxbc2V0dGluZ0tleV0pLFxuICAgICAgICAgIC4uLnBhcmFtZXRlcnMsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbG9nZ2VyLndhcm4oYFBhcmFtZXRlciAke25vcm1hbGl6ZWRLZXl9IG5vdCBoYW5kbGVkYCk7XG4gIH0pO1xuXG4gIGNvbnN0IHNldHRpbmdzQWRkZWQgPSBbXTtcbiAgT2JqZWN0LmVudHJpZXMocGFyYW1ldGVycykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBjb25zdCBzZXR0aW5nID0gZWxbMF07XG4gICAgY29uc3QgdmFsdWUgPSBlbFsxXTtcbiAgICBzZXR0aW5nc0FkZGVkLnB1c2goYWRkVXNlclNldHRpbmcobWVldGluZ0lkLCB1c2VySWQsIHNldHRpbmcsIHZhbHVlKSk7XG4gIH0pO1xuXG4gIHJldHVybiBzZXR0aW5nc0FkZGVkO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRVc2VyU2V0dGluZyhtZWV0aW5nSWQsIHVzZXJJZCwgc2V0dGluZywgdmFsdWUpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHNldHRpbmcsIFN0cmluZyk7XG4gIGNoZWNrKHZhbHVlLCBNYXRjaC5BbnkpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgc2V0dGluZyxcbiAgfTtcbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgdXNlcklkLFxuICAgICAgc2V0dGluZyxcbiAgICAgIHZhbHVlLFxuICAgIH0sXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG51bWJlckFmZmVjdGVkIH0gPSBVc2VyU2V0dGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci52ZXJib3NlKCdVcHNlcnRlZCB1c2VyIHNldHRpbmcnLCB7IG1lZXRpbmdJZCwgdXNlcklkLCBzZXR0aW5nIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGRpbmcgdXNlciBzZXR0aW5nIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgVXNlclNldHRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyVXNlcnNTZXR0aW5ncyhtZWV0aW5nSWQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFVzZXJTZXR0aW5ncy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFVzZXIgU2V0dGluZ3MgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgVXNlciBTZXR0aW5ncyAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGFkZFVzZXJTZXR0aW5ncyBmcm9tICcuL21ldGhvZHMvYWRkVXNlclNldHRpbmdzJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBhZGRVc2VyU2V0dGluZ3MsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFVzZXJTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5mdW5jdGlvbiB1c2VyU2V0dGluZ3MoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVXNlclNldHRpbmdzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgY3VycmVudFVzZXIgPSBVc2VyLmZpbmRPbmUoeyB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICBpZiAoY3VycmVudFVzZXIgJiYgY3VycmVudFVzZXIuYnJlYWtvdXRQcm9wcy5pc0JyZWFrb3V0VXNlcikge1xuICAgIGNvbnN0IHsgcGFyZW50SWQgfSA9IGN1cnJlbnRVc2VyLmJyZWFrb3V0UHJvcHM7XG5cbiAgICBjb25zdCBbZXh0ZXJuYWxJZF0gPSBjdXJyZW50VXNlci5leHRJZC5zcGxpdCgnLScpO1xuXG4gICAgY29uc3QgbWFpblJvb21Vc2VyU2V0dGluZ3MgPSBVc2VyU2V0dGluZ3MuZmluZCh7IG1lZXRpbmdJZDogcGFyZW50SWQsIHVzZXJJZDogZXh0ZXJuYWxJZCB9KTtcblxuICAgIG1haW5Sb29tVXNlclNldHRpbmdzLm1hcCgoeyBzZXR0aW5nLCB2YWx1ZSB9KSA9PiAoe1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgc2V0dGluZyxcbiAgICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgICAgdmFsdWUsXG4gICAgfSkpLmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgc2V0dGluZzogZG9jLnNldHRpbmcsXG4gICAgICB9O1xuXG4gICAgICBVc2VyU2V0dGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBkb2MpO1xuICAgIH0pO1xuXG4gICAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIHVzZXIgc2V0dGluZ3MnLCB7IHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICAgIHJldHVybiBVc2VyU2V0dGluZ3MuZmluZCh7IG1lZXRpbmdJZCwgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQgfSk7XG4gIH1cblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgdXNlciBzZXR0aW5ncycsIHsgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBVc2VyU2V0dGluZ3MuZmluZCh7IG1lZXRpbmdJZCwgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFVzZXJTZXR0aW5ncyA9IHVzZXJTZXR0aW5ncy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRVc2VyU2V0dGluZ3MoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd1c2Vycy1zZXR0aW5ncycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFVzZXJTZXR0aW5ncyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd1c2Vycy1zZXR0aW5ncycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIFVzZXJTZXR0aW5ncy5fZW5zdXJlSW5kZXgoe1xuICAgIG1lZXRpbmdJZDogMSwgdXNlcklkOiAxLFxuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlclNldHRpbmdzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHNoYXJlZFdlYmNhbSBmcm9tICcuLi9tb2RpZmllcnMvc2hhcmVkV2ViY2FtJztcbmltcG9ydCB7IGlzVmFsaWRTdHJlYW0gfSBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJTaGFyZWRIdG1sNVdlYmNhbSh7IGhlYWRlciwgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyB1c2VySWQsIHN0cmVhbSB9ID0gYm9keTtcblxuICBjaGVjayhoZWFkZXIsIE9iamVjdCk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhzdHJlYW0sIFN0cmluZyk7XG5cbiAgaWYgKCFpc1ZhbGlkU3RyZWFtKHN0cmVhbSkpIHJldHVybiBmYWxzZTtcblxuICByZXR1cm4gc2hhcmVkV2ViY2FtKG1lZXRpbmdJZCwgdXNlcklkLCBzdHJlYW0pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHVuc2hhcmVkV2ViY2FtIGZyb20gJy4uL21vZGlmaWVycy91bnNoYXJlZFdlYmNhbSc7XG5pbXBvcnQgeyBpc1ZhbGlkU3RyZWFtIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVVc2VyVW5zaGFyZWRIdG1sNVdlYmNhbSh7IGhlYWRlciwgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyB1c2VySWQsIHN0cmVhbSB9ID0gYm9keTtcblxuICBjaGVjayhoZWFkZXIsIE9iamVjdCk7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhzdHJlYW0sIFN0cmluZyk7XG5cbiAgaWYgKCFpc1ZhbGlkU3RyZWFtKHN0cmVhbSkpIHJldHVybiBmYWxzZTtcblxuICByZXR1cm4gdW5zaGFyZWRXZWJjYW0obWVldGluZ0lkLCB1c2VySWQsIHN0cmVhbSk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlclNoYXJlV2ViY2FtKHN0cmVhbSkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1VzZXJCcm9hZGNhc3RDYW1TdGFydE1zZyc7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmluZm8oYHVzZXIgc2hhcmluZyB3ZWJjYW06ICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICBjaGVjayhzdHJlYW0sIFN0cmluZyk7XG5cbiAgLy8gY29uc3QgYWN0aW9uTmFtZSA9ICdqb2luVmlkZW8nO1xuICAvKiBUT0RPIHRocm93IGFuIGVycm9yIGlmIHVzZXIgaGFzIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgd2ViY2FtXG4gIGlmICghaXNBbGxvd2VkVG8oYWN0aW9uTmFtZSwgY3JlZGVudGlhbHMpKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm90LWFsbG93ZWQnLCBgWW91IGFyZSBub3QgYWxsb3dlZCB0byBzaGFyZSB3ZWJjYW1gKTtcbiAgfSAqL1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgc3RyZWFtLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJVbnNoYXJlV2ViY2FtKHN0cmVhbSkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1VzZXJCcm9hZGNhc3RDYW1TdG9wTXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgdXNlciB1bnNoYXJpbmcgd2ViY2FtOiAke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgY2hlY2soc3RyZWFtLCBTdHJpbmcpO1xuXG4gIC8vIGNvbnN0IGFjdGlvbk5hbWUgPSAnam9pblZpZGVvJztcbiAgLyogVE9ETyB0aHJvdyBhbiBlcnJvciBpZiB1c2VyIGhhcyBubyBwZXJtaXNzaW9uIHRvIHNoYXJlIHdlYmNhbVxuICBpZiAoIWlzQWxsb3dlZFRvKGFjdGlvbk5hbWUsIGNyZWRlbnRpYWxzKSkge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ25vdC1hbGxvd2VkJywgYFlvdSBhcmUgbm90IGFsbG93ZWQgdG8gc2hhcmUgd2ViY2FtYCk7XG4gIH0gKi9cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHN0cmVhbSxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWaWRlb1N0cmVhbXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclZpZGVvU3RyZWFtcyhtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFZpZGVvU3RyZWFtcy5yZW1vdmUoeyBtZWV0aW5nSWQgfSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBWaWRlb1N0cmVhbXMgaW4gKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgVmlkZW9TdHJlYW1zICgkeyBtZWV0aW5nSWQgfSkuICR7ZXJyfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBWaWRlb1N0cmVhbXMucmVtb3ZlKHt9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFZpZGVvU3RyZWFtcyBpbiBhbGwgbWVldGluZ3MnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgVmlkZW9TdHJlYW1zIChhbGwpLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWaWRlb1N0cmVhbXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHtcbiAgZ2V0RGV2aWNlSWQsXG4gIGdldFVzZXJOYW1lLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNoYXJlZFdlYmNhbShtZWV0aW5nSWQsIHVzZXJJZCwgc3RyZWFtKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhzdHJlYW0sIFN0cmluZyk7XG5cbiAgY29uc3QgZGV2aWNlSWQgPSBnZXREZXZpY2VJZChzdHJlYW0pO1xuICBjb25zdCBuYW1lID0gZ2V0VXNlck5hbWUodXNlcklkKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICAgIGRldmljZUlkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHN0cmVhbSxcbiAgICAgIG5hbWUsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gVmlkZW9TdHJlYW1zLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcGRhdGVkIHN0cmVhbT0ke3N0cmVhbX0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igc2V0dGluZyBzdHJlYW06ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVmlkZW9TdHJlYW1zIGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGdldERldmljZUlkIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1bnNoYXJlZFdlYmNhbShtZWV0aW5nSWQsIHVzZXJJZCwgc3RyZWFtKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhzdHJlYW0sIFN0cmluZyk7XG5cbiAgY29uc3QgZGV2aWNlSWQgPSBnZXREZXZpY2VJZChzdHJlYW0pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgZGV2aWNlSWQsXG4gIH07XG5cbiAgdHJ5IHtcbiAgICBWaWRlb1N0cmVhbXMucmVtb3ZlKHNlbGVjdG9yKTtcblxuICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIHN0cmVhbT0ke3N0cmVhbX0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciByZW1vdmluZyBzdHJlYW06ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVVzZXJTaGFyZWRIdG1sNVdlYmNhbSBmcm9tICcuL2hhbmRsZXJzL3VzZXJTaGFyZWRIdG1sNVdlYmNhbSc7XG5pbXBvcnQgaGFuZGxlVXNlclVuc2hhcmVkSHRtbDVXZWJjYW0gZnJvbSAnLi9oYW5kbGVycy91c2VyVW5zaGFyZWRIdG1sNVdlYmNhbSc7XG5cblJlZGlzUHViU3ViLm9uKCdVc2VyQnJvYWRjYXN0Q2FtU3RhcnRlZEV2dE1zZycsIGhhbmRsZVVzZXJTaGFyZWRIdG1sNVdlYmNhbSk7XG5SZWRpc1B1YlN1Yi5vbignVXNlckJyb2FkY2FzdENhbVN0b3BwZWRFdnRNc2cnLCBoYW5kbGVVc2VyVW5zaGFyZWRIdG1sNVdlYmNhbSk7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuY29uc3QgRkxBU0hfU1RSRUFNX1JFR0VYID0gL14oW0EtejAtOV0rKS0oW0EtejAtOV0rKS0oW0EtejAtOV0rKSgtcmVjb3JkZWQpPyQvO1xuY29uc3QgVE9LRU4gPSAnXyc7XG5cbmNvbnN0IGlzVmFsaWRTdHJlYW0gPSBzdHJlYW0gPT4gIUZMQVNIX1NUUkVBTV9SRUdFWC50ZXN0KHN0cmVhbSk7XG5jb25zdCBnZXREZXZpY2VJZCA9IChzdHJlYW0pID0+IHtcbiAgY29uc3Qgc3BsaXRTdHJlYW0gPSBzdHJlYW0uc3BsaXQoVE9LRU4pO1xuICBpZiAoc3BsaXRTdHJlYW0ubGVuZ3RoID09PSAzKSByZXR1cm4gc3BsaXRTdHJlYW1bMl07XG4gIExvZ2dlci53YXJuKGBDb3VsZCBub3QgZ2V0IGRldmljZUlkIGZyb20gc3RyZWFtPSR7c3RyZWFtfWApO1xuICByZXR1cm4gc3RyZWFtO1xufTtcblxuY29uc3QgZ2V0VXNlck5hbWUgPSAodXNlcklkKSA9PiB7XG4gIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKFxuICAgIHsgdXNlcklkIH0sXG4gICAgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0sXG4gICk7XG4gIGlmICh1c2VyKSByZXR1cm4gdXNlci5uYW1lO1xuICByZXR1cm4gdXNlcklkO1xufTtcblxuZXhwb3J0IHtcbiAgaXNWYWxpZFN0cmVhbSxcbiAgZ2V0RGV2aWNlSWQsXG4gIGdldFVzZXJOYW1lLFxufTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXInO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgdXNlclNoYXJlV2ViY2FtIGZyb20gJy4vbWV0aG9kcy91c2VyU2hhcmVXZWJjYW0nO1xuaW1wb3J0IHVzZXJVbnNoYXJlV2ViY2FtIGZyb20gJy4vbWV0aG9kcy91c2VyVW5zaGFyZVdlYmNhbSc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgdXNlclNoYXJlV2ViY2FtLFxuICB1c2VyVW5zaGFyZVdlYmNhbSxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVmlkZW9TdHJlYW1zIGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiB2aWRlb1N0cmVhbXMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVmlkZW9TdHJlYW1zLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZygnUHVibGlzaGluZyB2aWRlbyB1c2VycycsIHsgbWVldGluZ0lkIH0pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICByZXR1cm4gVmlkZW9TdHJlYW1zLmZpbmQoc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRWaWRlb1N0cmVhbXMgPSB2aWRlb1N0cmVhbXMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVmlkZW9TdHJlYW1zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgndmlkZW8tc3RyZWFtcycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFZpZGVvU3RyZWFtcyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd2aWRlby1zdHJlYW1zJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHZpZGVvIHVzZXJzOlxuICAvLyAyLiBtZWV0aW5nSWRcblxuICBWaWRlb1N0cmVhbXMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBWaWRlb1N0cmVhbXM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVm9pY2VDYWxsU3RhdGUgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuLy8gXCJDQUxMX1NUQVJURURcIiwgXCJJTl9FQ0hPX1RFU1RcIiwgXCJJTl9DT05GRVJFTkNFXCIsIFwiQ0FMTF9FTkRFRFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZvaWNlQ2FsbFN0YXRlRXZlbnQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7XG4gICAgdm9pY2VDb25mLFxuICAgIGNsaWVudFNlc3Npb24sXG4gICAgdXNlcklkLFxuICAgIGNhbGxlck5hbWUsXG4gICAgY2FsbFN0YXRlLFxuICB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHZvaWNlQ29uZiwgU3RyaW5nKTtcbiAgY2hlY2soY2xpZW50U2Vzc2lvbiwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhjYWxsZXJOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhjYWxsU3RhdGUsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBjbGllbnRTZXNzaW9uLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIHZvaWNlQ29uZixcbiAgICAgIGNsaWVudFNlc3Npb24sXG4gICAgICBjYWxsU3RhdGUsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgbnVtYmVyQWZmZWN0ZWQgfSA9IFZvaWNlQ2FsbFN0YXRlLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuZGVidWcoJ1VwZGF0ZSB2b2ljZSBjYWxsJywge1xuICAgICAgICBzdGF0ZTogdXNlcklkLCBtZWV0aW5nSWQsIGNsaWVudFNlc3Npb24sIGNhbGxTdGF0ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBVcGRhdGUgdm9pY2UgY2FsbCBzdGF0ZT0ke3VzZXJJZH06ICR7ZXJyfWApO1xuICB9XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVm9pY2VDYWxsU3RhdGVzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyVm9pY2VDYWxsU3RhdGVzKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVm9pY2VDYWxsU3RhdGVzLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFZvaWNlQ2FsbFN0YXRlcyBpbiAoJHttZWV0aW5nSWR9KWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmluZm8oYEVycm9yIG9uIGNsZWFyaW5nIFZvaWNlQ2FsbFN0YXRlcyBpbiAoJHttZWV0aW5nSWR9KS4gJHtlcnJ9YCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFZvaWNlQ2FsbFN0YXRlcy5yZW1vdmUoe30pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgVm9pY2VDYWxsU3RhdGVzIGluIGFsbCBtZWV0aW5ncycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBWb2ljZUNhbGxTdGF0ZXMgaW4gYWxsIG1lZXRpbmdzLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlVm9pY2VDYWxsU3RhdGVFdmVudCBmcm9tICcuL2hhbmRsZXJzL3ZvaWNlQ2FsbFN0YXRlRXZlbnQnO1xuXG5SZWRpc1B1YlN1Yi5vbignVm9pY2VDYWxsU3RhdGVFdnRNc2cnLCBoYW5kbGVWb2ljZUNhbGxTdGF0ZUV2ZW50KTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCBWb2ljZUNhbGxTdGF0ZXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHZvaWNlQ2FsbFN0YXRlcygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBWb2ljZUNhbGxTdGF0ZXMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgVm9pY2UgQ2FsbCBTdGF0ZXMnLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHJldHVybiBWb2ljZUNhbGxTdGF0ZXMuZmluZCh7IG1lZXRpbmdJZCwgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFZvaWNlQ2FsbFN0YXRlcyA9IHZvaWNlQ2FsbFN0YXRlcy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRWb2ljZUNhbGxTdGF0ZXMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd2b2ljZS1jYWxsLXN0YXRlcycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFZvaWNlQ2FsbFN0YXRlcyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd2b2ljZUNhbGxTdGF0ZXMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgdm9pY2UgdXNlcnM6XG4gIC8vIDEuIGludElkXG4gIC8vIDIuIG1lZXRpbmdJZCwgaW50SWRcblxuICBWb2ljZUNhbGxTdGF0ZXMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCB1c2VySWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZvaWNlQ2FsbFN0YXRlcztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBWb2ljZVVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy8nO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgYWRkVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy9hZGRWb2ljZVVzZXInO1xuaW1wb3J0IHJlbW92ZVZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlVm9pY2VVc2VyJztcbmltcG9ydCB1cGRhdGVWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3VwZGF0ZVZvaWNlVXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdldFZvaWNlVXNlcnMoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJzIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcnMsIEFycmF5KTtcblxuICBjb25zdCBtZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9LCB7IGZpZWxkczogeyAndm9pY2VQcm9wLnZvaWNlQ29uZic6IDEgfSB9KTtcbiAgY29uc3QgdXNlcnNJZHMgPSB1c2Vycy5tYXAobSA9PiBtLmludElkKTtcblxuICBjb25zdCB2b2ljZVVzZXJzSWRzVG9VcGRhdGUgPSBWb2ljZVVzZXJzLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZDogeyAkaW46IHVzZXJzSWRzIH0sXG4gIH0sIHsgZmllbGRzOiB7IGludElkOiAxIH0gfSkuZmV0Y2goKS5tYXAobSA9PiBtLmludElkKTtcblxuICBjb25zdCB2b2ljZVVzZXJzVXBkYXRlZCA9IFtdO1xuICB1c2Vycy5mb3JFYWNoKCh1c2VyKSA9PiB7XG4gICAgaWYgKHZvaWNlVXNlcnNJZHNUb1VwZGF0ZS5pbmRleE9mKHVzZXIuaW50SWQpID49IDApIHtcbiAgICAgIC8vIHVzZXIgYWxyZWFkeSBleGlzdCwgdGhlbiB1cGRhdGVcbiAgICAgIHZvaWNlVXNlcnNVcGRhdGVkLnB1c2godXBkYXRlVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgICAgICBpbnRJZDogdXNlci5pbnRJZCxcbiAgICAgICAgdm9pY2VVc2VySWQ6IHVzZXIudm9pY2VVc2VySWQsXG4gICAgICAgIHRhbGtpbmc6IHVzZXIudGFsa2luZyxcbiAgICAgICAgbXV0ZWQ6IHVzZXIubXV0ZWQsXG4gICAgICAgIHZvaWNlQ29uZjogbWVldGluZy52b2ljZVByb3Audm9pY2VDb25mLFxuICAgICAgICBqb2luZWQ6IHRydWUsXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVzZXIgZG9lc24ndCBleGlzdCB5ZXQsIHRoZW4gYWRkIGl0XG4gICAgICBhZGRWb2ljZVVzZXIobWVldGluZ0lkLCB7XG4gICAgICAgIHZvaWNlVXNlcklkOiB1c2VyLnZvaWNlVXNlcklkLFxuICAgICAgICBpbnRJZDogdXNlci5pbnRJZCxcbiAgICAgICAgY2FsbGVyTmFtZTogdXNlci5jYWxsZXJOYW1lLFxuICAgICAgICBjYWxsZXJOdW06IHVzZXIuY2FsbGVyTnVtLFxuICAgICAgICBtdXRlZDogdXNlci5tdXRlZCxcbiAgICAgICAgdGFsa2luZzogdXNlci50YWxraW5nLFxuICAgICAgICBjYWxsaW5nV2l0aDogdXNlci5jYWxsaW5nV2l0aCxcbiAgICAgICAgbGlzdGVuT25seTogdXNlci5saXN0ZW5Pbmx5LFxuICAgICAgICB2b2ljZUNvbmY6IG1lZXRpbmcudm9pY2VQcm9wLnZvaWNlQ29uZixcbiAgICAgICAgam9pbmVkOiB0cnVlLFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvLyByZW1vdmluZyBleHRyYSB1c2VycyBhbHJlYWR5IGV4aXN0aW5nIGluIE1vbmdvXG4gIGNvbnN0IHZvaWNlVXNlcnNUb1JlbW92ZSA9IFZvaWNlVXNlcnMuZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkOiB7ICRuaW46IHVzZXJzSWRzIH0sXG4gIH0pLmZldGNoKCk7XG4gIHZvaWNlVXNlcnNUb1JlbW92ZS5mb3JFYWNoKHVzZXIgPT4gcmVtb3ZlVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgIHZvaWNlQ29uZjogbWVldGluZy52b2ljZVByb3Audm9pY2VDb25mLFxuICAgIHZvaWNlVXNlcklkOiB1c2VyLnZvaWNlVXNlcklkLFxuICAgIGludElkOiB1c2VyLmludElkLFxuICB9KSk7XG5cbiAgcmV0dXJuIHZvaWNlVXNlcnNVcGRhdGVkO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgYWRkRGlhbEluVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9hZGREaWFsSW5Vc2VyJztcbmltcG9ydCBhZGRWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFZvaWNlVXNlcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlSm9pblZvaWNlVXNlcih7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHZvaWNlVXNlciA9IGJvZHk7XG4gIHZvaWNlVXNlci5qb2luZWQgPSB0cnVlO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VVc2VyLCB7XG4gICAgdm9pY2VDb25mOiBTdHJpbmcsXG4gICAgaW50SWQ6IFN0cmluZyxcbiAgICB2b2ljZVVzZXJJZDogU3RyaW5nLFxuICAgIGNhbGxlck5hbWU6IFN0cmluZyxcbiAgICBjYWxsZXJOdW06IFN0cmluZyxcbiAgICBtdXRlZDogQm9vbGVhbixcbiAgICB0YWxraW5nOiBCb29sZWFuLFxuICAgIGNhbGxpbmdXaXRoOiBTdHJpbmcsXG4gICAgbGlzdGVuT25seTogQm9vbGVhbixcbiAgICBqb2luZWQ6IEJvb2xlYW4sXG4gIH0pO1xuXG4gIGNvbnN0IHtcbiAgICBpbnRJZCxcbiAgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkLFxuICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdvbmxpbmUnLFxuICB9KTtcblxuICBpZiAoIVVzZXIpIHtcbiAgICAvKiB2b2ljZS1vbmx5IHVzZXIgLSBjYWxsZWQgaW50byB0aGUgY29uZmVyZW5jZSAqL1xuICAgIGFkZERpYWxJblVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpO1xuICB9XG5cbiAgcmV0dXJuIGFkZFZvaWNlVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCByZW1vdmVWb2ljZVVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvcmVtb3ZlVm9pY2VVc2VyJztcbmltcG9ydCByZW1vdmVVc2VyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3JlbW92ZVVzZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZvaWNlVXBkYXRlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qgdm9pY2VVc2VyID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHZvaWNlVXNlciwge1xuICAgIHZvaWNlQ29uZjogU3RyaW5nLFxuICAgIGludElkOiBTdHJpbmcsXG4gICAgdm9pY2VVc2VySWQ6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGludElkLFxuICAgIHZvaWNlVXNlcklkLFxuICB9ID0gdm9pY2VVc2VyO1xuXG4gIGNvbnN0IGlzRGlhbEluVXNlciA9ICh1c2VySWQsIG1lZXRpbmdJRCkgPT4gISFVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkOiBtZWV0aW5nSUQsIHVzZXJJZCwgY2xpZW50VHlwZTogJ2RpYWwtaW4tdXNlcicgfSk7XG5cbiAgLy8gaWYgdGhlIHVzZXIgaXMgZGlhbC1pbiwgbGVhdmluZyB2b2ljZSBhbHNvIG1lYW5zIGxlYXZpbmcgdXNlcmxpc3RcbiAgaWYgKGlzRGlhbEluVXNlcih2b2ljZVVzZXJJZCwgbWVldGluZ0lkKSkgcmVtb3ZlVXNlcihtZWV0aW5nSWQsIGludElkKTtcblxuICByZXR1cm4gcmVtb3ZlVm9pY2VVc2VyKG1lZXRpbmdJZCwgdm9pY2VVc2VyKTtcbn1cbiIsImltcG9ydCBjaGFuZ2VNdXRlTWVldGluZyBmcm9tICcuLi9tb2RpZmllcnMvY2hhbmdlTXV0ZU1lZXRpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVNZWV0aW5nTXV0ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGFuZ2VNdXRlTWVldGluZyhtZWV0aW5nSWQsIGJvZHkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgdXBkYXRlVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy91cGRhdGVWb2ljZVVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVWb2ljZVVwZGF0ZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHZvaWNlVXNlciA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIC8vIElmIGEgcGVyc29uIGlzIG11dGVkIHdlIGhhdmUgdG8gZm9yY2UgdGhlbSB0byBub3QgdGFsa2luZ1xuICBpZiAodm9pY2VVc2VyLm11dGVkKSB7XG4gICAgdm9pY2VVc2VyLnRhbGtpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB1cGRhdGVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgdXBkYXRlVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy91cGRhdGVWb2ljZVVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVWb2ljZVVwZGF0ZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHZvaWNlVXNlciA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIHJldHVybiB1cGRhdGVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpO1xufVxuIiwiaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzLyc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBhZGREaWFsSW5Vc2VyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZERpYWxJblVzZXInO1xuaW1wb3J0IHJlbW92ZVZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlVm9pY2VVc2VyJztcbmltcG9ydCB1cGRhdGVWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3VwZGF0ZVZvaWNlVXNlcic7XG5pbXBvcnQgYWRkVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy9hZGRWb2ljZVVzZXInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZvaWNlVXNlcnMoeyBoZWFkZXIsIGJvZHkgfSkge1xuICBjb25zdCB7IHZvaWNlVXNlcnMgfSA9IGJvZHk7XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBoZWFkZXI7XG5cbiAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSwgeyBmaWVsZHM6IHsgJ3ZvaWNlUHJvcC52b2ljZUNvbmYnOiAxIH0gfSk7XG4gIGNvbnN0IHVzZXJzSWRzID0gdm9pY2VVc2Vycy5tYXAobSA9PiBtLmludElkKTtcblxuICBjb25zdCB2b2ljZVVzZXJzSWRzVG9VcGRhdGUgPSBWb2ljZVVzZXJzLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZDogeyAkaW46IHVzZXJzSWRzIH0sXG4gIH0sIHsgZmllbGRzOiB7IGludElkOiAxIH0gfSkuZmV0Y2goKS5tYXAobSA9PiBtLmludElkKTtcblxuICBjb25zdCB2b2ljZVVzZXJzVXBkYXRlZCA9IFtdO1xuICB2b2ljZVVzZXJzLmZvckVhY2goKHZvaWNlKSA9PiB7XG4gICAgaWYgKHZvaWNlVXNlcnNJZHNUb1VwZGF0ZS5pbmRleE9mKHZvaWNlLmludElkKSA+PSAwKSB7XG4gICAgICAvLyB1c2VyIGFscmVhZHkgZXhpc3QsIHRoZW4gdXBkYXRlXG4gICAgICB2b2ljZVVzZXJzVXBkYXRlZC5wdXNoKHVwZGF0ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICAgICAgaW50SWQ6IHZvaWNlLmludElkLFxuICAgICAgICB2b2ljZVVzZXJJZDogdm9pY2Uudm9pY2VVc2VySWQsXG4gICAgICAgIHRhbGtpbmc6IHZvaWNlLnRhbGtpbmcsXG4gICAgICAgIG11dGVkOiB2b2ljZS5tdXRlZCxcbiAgICAgICAgdm9pY2VDb25mOiBtZWV0aW5nLnZvaWNlUHJvcC52b2ljZUNvbmYsXG4gICAgICAgIGpvaW5lZDogdHJ1ZSxcbiAgICAgIH0pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdXNlciBkb2Vzbid0IGV4aXN0IHlldCwgdGhlbiBhZGQgaXRcbiAgICAgIGFkZFZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICAgICAgdm9pY2VVc2VySWQ6IHZvaWNlLnZvaWNlVXNlcklkLFxuICAgICAgICBpbnRJZDogdm9pY2UuaW50SWQsXG4gICAgICAgIGNhbGxlck5hbWU6IHZvaWNlLmNhbGxlck5hbWUsXG4gICAgICAgIGNhbGxlck51bTogdm9pY2UuY2FsbGVyTnVtLFxuICAgICAgICBtdXRlZDogdm9pY2UubXV0ZWQsXG4gICAgICAgIHRhbGtpbmc6IHZvaWNlLnRhbGtpbmcsXG4gICAgICAgIGNhbGxpbmdXaXRoOiB2b2ljZS5jYWxsaW5nV2l0aCxcbiAgICAgICAgbGlzdGVuT25seTogdm9pY2UubGlzdGVuT25seSxcbiAgICAgICAgdm9pY2VDb25mOiBtZWV0aW5nLnZvaWNlUHJvcC52b2ljZUNvbmYsXG4gICAgICAgIGpvaW5lZDogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICBhZGREaWFsSW5Vc2VyKG1lZXRpbmdJZCwgdm9pY2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcmVtb3ZpbmcgZXh0cmEgdXNlcnMgYWxyZWFkeSBleGlzdGluZyBpbiBNb25nb1xuICBjb25zdCB2b2ljZVVzZXJzVG9SZW1vdmUgPSBWb2ljZVVzZXJzLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZDogeyAkbmluOiB1c2Vyc0lkcyB9LFxuICB9LCB7IGZpZWxkczogeyB2b2ljZVVzZXJJZDogMSwgaW50SWQ6IDEgfSB9KS5mZXRjaCgpO1xuICB2b2ljZVVzZXJzVG9SZW1vdmUuZm9yRWFjaCh1c2VyID0+IHJlbW92ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICB2b2ljZUNvbmY6IG1lZXRpbmcudm9pY2VQcm9wLnZvaWNlQ29uZixcbiAgICB2b2ljZVVzZXJJZDogdXNlci52b2ljZVVzZXJJZCxcbiAgICBpbnRJZDogdXNlci5pbnRJZCxcbiAgfSkpO1xuXG4gIHJldHVybiB2b2ljZVVzZXJzVXBkYXRlZDtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlamVjdFVzZXJGcm9tVm9pY2UodXNlcklkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnRWplY3RVc2VyRnJvbVZvaWNlQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQsXG4gICAgZWplY3RlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtdXRlQWxsRXhjZXB0UHJlc2VudGVyVG9nZ2xlKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ011dGVBbGxFeGNlcHRQcmVzZW50ZXJzQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuICBjb25zdCB0b2dnbGVNZWV0aW5nTXV0ZWQgPSAhbWVldGluZy52b2ljZVByb3AubXV0ZU9uU3RhcnQ7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBtdXRlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgbXV0ZTogdG9nZ2xlTWVldGluZ011dGVkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtdXRlQWxsVG9nZ2xlKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ011dGVNZWV0aW5nQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuICBjb25zdCB0b2dnbGVNZWV0aW5nTXV0ZWQgPSAhbWVldGluZy52b2ljZVByb3AubXV0ZU9uU3RhcnQ7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBtdXRlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgbXV0ZTogdG9nZ2xlTWVldGluZ011dGVkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtdXRlVG9nZ2xlKHVJZCwgdG9nZ2xlKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnTXV0ZVVzZXJDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IHVzZXJUb011dGUgPSB1SWQgfHwgcmVxdWVzdGVyVXNlcklkO1xuXG4gIGNvbnN0IHJlcXVlc3RlciA9IFVzZXJzLmZpbmRPbmUoe1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfSk7XG5cbiAgY29uc3Qgdm9pY2VVc2VyID0gVm9pY2VVc2Vycy5maW5kT25lKHtcbiAgICBpbnRJZDogdXNlclRvTXV0ZSxcbiAgICBtZWV0aW5nSWQsXG4gIH0pO1xuXG4gIGlmICghcmVxdWVzdGVyIHx8ICF2b2ljZVVzZXIpIHJldHVybjtcblxuICBjb25zdCB7IGxpc3Rlbk9ubHksIG11dGVkIH0gPSB2b2ljZVVzZXI7XG4gIGlmIChsaXN0ZW5Pbmx5KSByZXR1cm47XG5cbiAgLy8gaWYgYWxsb3dNb2RzVG9Vbm11dGVVc2VycyBpcyBmYWxzZSwgdXNlcnMgd2lsbCBiZSBraWNrZWQgb3V0IGZvciBhdHRlbXB0aW5nIHRvIHVubXV0ZSBvdGhlcnNcbiAgaWYgKHJlcXVlc3RlclVzZXJJZCAhPT0gdXNlclRvTXV0ZSAmJiBtdXRlZCkge1xuICAgIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0sXG4gICAgICB7IGZpZWxkczogeyAndXNlcnNQcm9wLmFsbG93TW9kc1RvVW5tdXRlVXNlcnMnOiAxIH0gfSk7XG4gICAgaWYgKG1lZXRpbmcudXNlcnNQcm9wICYmICFtZWV0aW5nLnVzZXJzUHJvcC5hbGxvd01vZHNUb1VubXV0ZVVzZXJzKSB7XG4gICAgICBMb2dnZXIud2FybihgQXR0ZW1wdGVkIHVubXV0aW5nIGJ5IGFub3RoZXIgdXNlciBtZWV0aW5nSWQ6JHttZWV0aW5nSWR9IHJlcXVlc3RlcjogJHtyZXF1ZXN0ZXJVc2VySWR9IHVzZXJJZDogJHt1c2VyVG9NdXRlfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGxldCBfbXV0ZWQ7XG5cbiAgaWYgKCh0b2dnbGUgPT09IHVuZGVmaW5lZCkgfHwgKHRvZ2dsZSA9PT0gbnVsbCkpIHtcbiAgICBfbXV0ZWQgPSAhbXV0ZWQ7XG4gIH0gZWxzZSB7XG4gICAgX211dGVkID0gISF0b2dnbGU7XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZDogdXNlclRvTXV0ZSxcbiAgICBtdXRlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgbXV0ZTogX211dGVkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVm9pY2VVc2VyKG1lZXRpbmdJZCwgdm9pY2VVc2VyKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VVc2VyLCB7XG4gICAgdm9pY2VVc2VySWQ6IFN0cmluZyxcbiAgICBpbnRJZDogU3RyaW5nLFxuICAgIGNhbGxlck5hbWU6IFN0cmluZyxcbiAgICBjYWxsZXJOdW06IFN0cmluZyxcbiAgICBtdXRlZDogQm9vbGVhbixcbiAgICB0YWxraW5nOiBCb29sZWFuLFxuICAgIGNhbGxpbmdXaXRoOiBTdHJpbmcsXG4gICAgbGlzdGVuT25seTogQm9vbGVhbixcbiAgICB2b2ljZUNvbmY6IFN0cmluZyxcbiAgICBqb2luZWQ6IEJvb2xlYW4sIC8vIFRoaXMgaXMgYSBIVE1MNSBvbmx5IHBhcmFtLlxuICB9KTtcblxuICBjb25zdCB7IGludElkLCB0YWxraW5nIH0gPSB2b2ljZVVzZXI7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oXG4gICAgICB7IG1lZXRpbmdJZCwgc3Bva2U6IHRhbGtpbmcgfSxcbiAgICAgIGZsYXQodm9pY2VVc2VyKSxcbiAgICApLFxuICB9O1xuXG4gIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCB1c2VySWQ6IGludElkIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIGNvbG9yOiAxLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICh1c2VyKSBtb2RpZmllci4kc2V0LmNvbG9yID0gdXNlci5jb2xvcjtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgbnVtYmVyQWZmZWN0ZWQgfSA9IFZvaWNlVXNlcnMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBBZGQgdm9pY2UgdXNlcj0ke2ludElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBBZGQgdm9pY2UgdXNlcj0ke2ludElkfTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VNdXRlTWVldGluZyhtZWV0aW5nSWQsIHBheWxvYWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwYXlsb2FkLCB7XG4gICAgbXV0ZWQ6IEJvb2xlYW4sXG4gICAgbXV0ZWRCeTogU3RyaW5nLFxuICB9KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgJ3ZvaWNlUHJvcC5tdXRlT25TdGFydCc6IHBheWxvYWQubXV0ZWQsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgbnVtYmVyQWZmZWN0ZWQgfSA9IE1lZXRpbmdzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIpO1xuXG4gICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2hhbmdlZCBtZWV0aW5nIG11dGUgc3RhdHVzIG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBMb2dnZXIuZXJyb3IoYENoYW5naW5nIG1lZXRpbmcgbXV0ZSBzdGF0dXMgbWVldGluZz17JHttZWV0aW5nSWR9fSAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJWb2ljZVVzZXIobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBWb2ljZVVzZXJzLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFZvaWNlVXNlcnMgaW4gKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gY2xlYXJpbmcgVm9pY2VVc2VycyBpbiAke21lZXRpbmdJZH0uICR7ZXJyfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBWb2ljZVVzZXJzLnJlbW92ZSh7fSk7XG5cbiAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBWb2ljZVVzZXJzIGluIGFsbCBtZWV0aW5ncycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBjbGVhcmluZyBWb2ljZVVzZXJzLiAke2Vycn1gKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWb2ljZVVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycyc7XG5pbXBvcnQgeyBjbGVhclNwb2tlVGltZW91dCB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIHtcbiAgICB2b2ljZUNvbmY6IFN0cmluZyxcbiAgICB2b2ljZVVzZXJJZDogU3RyaW5nLFxuICAgIGludElkOiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHsgaW50SWQgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgbXV0ZWQ6IGZhbHNlLFxuICAgICAgdGFsa2luZzogZmFsc2UsXG4gICAgICBsaXN0ZW5Pbmx5OiBmYWxzZSxcbiAgICAgIGpvaW5lZDogZmFsc2UsXG4gICAgICBzcG9rZTogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGNsZWFyU3Bva2VUaW1lb3V0KG1lZXRpbmdJZCwgaW50SWQpO1xuICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVm9pY2VVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFJlbW92ZSB2b2ljZVVzZXI9JHtpbnRJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgUmVtb3ZlIHZvaWNlVXNlcj0ke2ludElkfTogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1hdGNoLCBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgeyBzcG9rZVRpbWVvdXRIYW5kbGVzLCBjbGVhclNwb2tlVGltZW91dCB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBUQUxLSU5HX1RJTUVPVVQgPSA2MDAwO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIHtcbiAgICBpbnRJZDogU3RyaW5nLFxuICAgIHZvaWNlVXNlcklkOiBTdHJpbmcsXG4gICAgdGFsa2luZzogTWF0Y2guTWF5YmUoQm9vbGVhbiksXG4gICAgbXV0ZWQ6IE1hdGNoLk1heWJlKEJvb2xlYW4pLFxuICAgIHZvaWNlQ29uZjogU3RyaW5nLFxuICAgIGpvaW5lZDogTWF0Y2guTWF5YmUoQm9vbGVhbiksXG4gIH0pO1xuXG4gIGNvbnN0IHsgaW50SWQgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIGZsYXQodm9pY2VVc2VyKSxcbiAgICApLFxuICB9O1xuXG4gIGlmICh2b2ljZVVzZXIudGFsa2luZykge1xuICAgIGNvbnN0IHVzZXIgPSBWb2ljZVVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQsIGludElkIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGFydFRpbWU6IDEsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKHVzZXIgJiYgIXVzZXIuc3RhcnRUaW1lKSBtb2RpZmllci4kc2V0LnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgbW9kaWZpZXIuJHNldC5zcG9rZSA9IHRydWU7XG4gICAgbW9kaWZpZXIuJHNldC5lbmRUaW1lID0gbnVsbDtcbiAgICBjbGVhclNwb2tlVGltZW91dChtZWV0aW5nSWQsIGludElkKTtcbiAgfVxuXG4gIGlmICghdm9pY2VVc2VyLnRhbGtpbmcpIHtcbiAgICBjb25zdCB0aW1lb3V0SGFuZGxlID0gTWV0ZW9yLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IFZvaWNlVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgaW50SWQgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBlbmRUaW1lOiAxLFxuICAgICAgICAgIHRhbGtpbmc6IDEsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgY29uc3QgeyBlbmRUaW1lLCB0YWxraW5nIH0gPSB1c2VyO1xuICAgICAgICBjb25zdCBzcG9rZURlbGF5ID0gKChEYXRlLm5vdygpIC0gZW5kVGltZSkgPCBUQUxLSU5HX1RJTUVPVVQpO1xuICAgICAgICBpZiAodGFsa2luZyB8fCBzcG9rZURlbGF5KSByZXR1cm47XG4gICAgICAgIG1vZGlmaWVyLiRzZXQuc3Bva2UgPSBmYWxzZTtcbiAgICAgICAgbW9kaWZpZXIuJHNldC5zdGFydFRpbWUgPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gVm9pY2VVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTtcblxuICAgICAgICAgIGlmIChudW1iZXJBZmZlY3RlZCkge1xuICAgICAgICAgICAgTG9nZ2VyLmRlYnVnKCdVcGRhdGUgdm9pY2VVc2VyJywgeyB2b2ljZVVzZXI6IGludElkLCBtZWV0aW5nSWQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBMb2dnZXIuZXJyb3IoYFVwZGF0ZSB2b2ljZVVzZXI9JHtpbnRJZH06ICR7ZXJyfWApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgVEFMS0lOR19USU1FT1VUKTtcblxuICAgIHNwb2tlVGltZW91dEhhbmRsZXNbYCR7bWVldGluZ0lkfS0ke2ludElkfWBdID0gdGltZW91dEhhbmRsZTtcbiAgICBtb2RpZmllci4kc2V0LmVuZFRpbWUgPSBEYXRlLm5vdygpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBudW1iZXJBZmZlY3RlZCA9IFZvaWNlVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllcik7XG5cbiAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgIExvZ2dlci5kZWJ1ZygnVXBkYXRlIHZvaWNlVXNlcicsIHsgdm9pY2VVc2VyOiBpbnRJZCwgbWVldGluZ0lkIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBVcGRhdGUgdm9pY2VVc2VyPSR7aW50SWR9OiAke2Vycn1gKTtcbiAgfVxufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBoYW5kbGVKb2luVm9pY2VVc2VyIGZyb20gJy4vaGFuZGxlcnMvam9pblZvaWNlVXNlcic7XG5pbXBvcnQgaGFuZGxlTGVmdFZvaWNlVXNlciBmcm9tICcuL2hhbmRsZXJzL2xlZnRWb2ljZVVzZXInO1xuaW1wb3J0IGhhbmRsZVRhbGtpbmdWb2ljZVVzZXIgZnJvbSAnLi9oYW5kbGVycy90YWxraW5nVm9pY2VVc2VyJztcbmltcG9ydCBoYW5kbGVNdXRlZFZvaWNlVXNlciBmcm9tICcuL2hhbmRsZXJzL211dGVkVm9pY2VVc2VyJztcbmltcG9ydCBoYW5kbGVHZXRWb2ljZVVzZXJzIGZyb20gJy4vaGFuZGxlcnMvZ2V0Vm9pY2VVc2Vycyc7XG5pbXBvcnQgaGFuZGxlVm9pY2VVc2VycyBmcm9tICcuL2hhbmRsZXJzL3ZvaWNlVXNlcnMnO1xuaW1wb3J0IGhhbmRsZU1lZXRpbmdNdXRlZCBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdNdXRlZCc7XG5cblJlZGlzUHViU3ViLm9uKCdVc2VyTGVmdFZvaWNlQ29uZlRvQ2xpZW50RXZ0TXNnJywgaGFuZGxlTGVmdFZvaWNlVXNlcik7XG5SZWRpc1B1YlN1Yi5vbignVXNlckpvaW5lZFZvaWNlQ29uZlRvQ2xpZW50RXZ0TXNnJywgaGFuZGxlSm9pblZvaWNlVXNlcik7XG5SZWRpc1B1YlN1Yi5vbignVXNlclRhbGtpbmdWb2ljZUV2dE1zZycsIGhhbmRsZVRhbGtpbmdWb2ljZVVzZXIpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJNdXRlZFZvaWNlRXZ0TXNnJywgaGFuZGxlTXV0ZWRWb2ljZVVzZXIpO1xuUmVkaXNQdWJTdWIub24oJ0dldFZvaWNlVXNlcnNNZWV0aW5nUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlR2V0Vm9pY2VVc2VycykpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRWb2ljZVVzZXJzUmVzcE1zZycsIGhhbmRsZVZvaWNlVXNlcnMpO1xuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdNdXRlZEV2dE1zZycsIGhhbmRsZU1lZXRpbmdNdXRlZCk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBtdXRlVG9nZ2xlIGZyb20gJy4vbWV0aG9kcy9tdXRlVG9nZ2xlJztcbmltcG9ydCBtdXRlQWxsVG9nZ2xlIGZyb20gJy4vbWV0aG9kcy9tdXRlQWxsVG9nZ2xlJztcbmltcG9ydCBtdXRlQWxsRXhjZXB0UHJlc2VudGVyVG9nZ2xlIGZyb20gJy4vbWV0aG9kcy9tdXRlQWxsRXhjZXB0UHJlc2VudGVyVG9nZ2xlJztcbmltcG9ydCBlamVjdFVzZXJGcm9tVm9pY2UgZnJvbSAnLi9tZXRob2RzL2VqZWN0VXNlckZyb21Wb2ljZSc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgdG9nZ2xlVm9pY2U6IG11dGVUb2dnbGUsXG4gIG11dGVBbGxVc2VyczogbXV0ZUFsbFRvZ2dsZSxcbiAgbXV0ZUFsbEV4Y2VwdFByZXNlbnRlcjogbXV0ZUFsbEV4Y2VwdFByZXNlbnRlclRvZ2dsZSxcbiAgZWplY3RVc2VyRnJvbVZvaWNlLFxufSk7XG4iLCJpbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBlamVjdFVzZXJGcm9tVm9pY2UgZnJvbSAnLi9tZXRob2RzL2VqZWN0VXNlckZyb21Wb2ljZSc7XG5cbmZ1bmN0aW9uIHZvaWNlVXNlcigpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBWb2ljZVVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhyZXF1ZXN0ZXJVc2VySWQsIFN0cmluZyk7XG4gIGNvbnN0IG9uQ2xvc2VDb25uZWN0aW9uID0gTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEkgdXNlZCB1c2VyIGJlY2F1c2Ugdm9pY2VVc2VyIGlzIHRoZSBmdW5jdGlvbidzIG5hbWVcbiAgICAgIGNvbnN0IFVzZXIgPSBWb2ljZVVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcbiAgICAgIGlmIChVc2VyKSB7XG4gICAgICAgIGVqZWN0VXNlckZyb21Wb2ljZShyZXF1ZXN0ZXJVc2VySWQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXhjZXB0aW9uIHdoaWxlIGV4ZWN1dGluZyBlamVjdFVzZXJGcm9tVm9pY2UgZm9yICR7cmVxdWVzdGVyVXNlcklkfTogJHtlfWApO1xuICAgIH1cbiAgfSk7XG5cbiAgTG9nZ2VyLmRlYnVnKCdQdWJsaXNoaW5nIFZvaWNlIFVzZXInLCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0pO1xuXG4gIHRoaXMuX3Nlc3Npb24uc29ja2V0Lm9uKCdjbG9zZScsIF8uZGVib3VuY2Uob25DbG9zZUNvbm5lY3Rpb24sIDEwMCkpO1xuICByZXR1cm4gVm9pY2VVc2Vycy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRWb2ljZVVzZXIgPSB2b2ljZVVzZXIuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVm9pY2VVc2VyKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgndm9pY2VVc2VycycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFZvaWNlVXNlcnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigndm9pY2VVc2VycycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSB2b2ljZSB1c2VyczpcbiAgLy8gMS4gaW50SWRcbiAgLy8gMi4gbWVldGluZ0lkLCBpbnRJZFxuXG4gIFZvaWNlVXNlcnMuX2Vuc3VyZUluZGV4KHsgaW50SWQ6IDEgfSk7XG4gIFZvaWNlVXNlcnMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCBpbnRJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVm9pY2VVc2VycztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBtb2RpZnlXaGl0ZWJvYXJkQWNjZXNzIGZyb20gJy4uL21vZGlmaWVycy9tb2RpZnlXaGl0ZWJvYXJkQWNjZXNzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlTW9kaWZ5V2hpdGVib2FyZEFjY2Vzcyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgbXVsdGlVc2VyLCB3aGl0ZWJvYXJkSWQgfSA9IGJvZHk7XG5cbiAgY2hlY2sobXVsdGlVc2VyLCBCb29sZWFuKTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIG1vZGlmeVdoaXRlYm9hcmRBY2Nlc3MobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIG11bHRpVXNlcik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlV2hpdGVib2FyZEFjY2VzcyhtdWx0aVVzZXIsIHdoaXRlYm9hcmRJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ01vZGlmeVdoaXRlYm9hcmRBY2Nlc3NQdWJNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobXVsdGlVc2VyLCBCb29sZWFuKTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbXVsdGlVc2VyLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBXaGl0ZWJvYXJkTXVsdGlVc2VyIGZyb20gJy9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhcldoaXRlYm9hcmRNdWx0aVVzZXIobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbnVtYmVyQWZmZWN0ZWQgPSBXaGl0ZWJvYXJkTXVsdGlVc2VyLnJlbW92ZSh7IG1lZXRpbmdJZCB9KTtcblxuICAgICAgaWYgKG51bWJlckFmZmVjdGVkKSB7XG4gICAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFdoaXRlYm9hcmRNdWx0aVVzZXIgKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBFcnJvciBjbGVhcmluZyBXaGl0ZWJvYXJkTXVsdGlVc2VyICgke21lZXRpbmdJZH0pLiAke2Vycn1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG51bWJlckFmZmVjdGVkID0gV2hpdGVib2FyZE11bHRpVXNlci5yZW1vdmUoe30pO1xuXG4gICAgICBpZiAobnVtYmVyQWZmZWN0ZWQpIHtcbiAgICAgICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgV2hpdGVib2FyZE11bHRpVXNlciAoYWxsKScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2VyLmluZm8oYEVycm9yIGNsZWFyaW5nIFdoaXRlYm9hcmRNdWx0aVVzZXIgKGFsbCkuICR7ZXJyfWApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFdoaXRlYm9hcmRNdWx0aVVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtb2RpZnlXaGl0ZWJvYXJkQWNjZXNzKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCBtdWx0aVVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKG11bHRpVXNlciwgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgd2hpdGVib2FyZElkLFxuICAgIG11bHRpVXNlcixcbiAgfTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gV2hpdGVib2FyZE11bHRpVXNlci51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyKTtcbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIG11bHRpVXNlciBmbGFnPSR7bXVsdGlVc2VyfSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9IHdoaXRlYm9hcmRJZD0ke3doaXRlYm9hcmRJZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIG11bHRpVXNlciBmbGFnPSR7bXVsdGlVc2VyfSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9IHdoaXRlYm9hcmRJZD0ke3doaXRlYm9hcmRJZH1gKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igd2hpbGUgYWRkaW5nIGFuIGVudHJ5IHRvIE11bHRpLVVzZXIgY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgaGFuZGxlR2V0V2hpdGVib2FyZEFjY2VzcyBmcm9tICcuL2hhbmRsZXJzL21vZGlmeVdoaXRlYm9hcmRBY2Nlc3MnO1xuXG5SZWRpc1B1YlN1Yi5vbignR2V0V2hpdGVib2FyZEFjY2Vzc1Jlc3BNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZUdldFdoaXRlYm9hcmRBY2Nlc3MpKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0V2hpdGVib2FyZEFjY2Vzc1Jlc3BNc2cnLCBoYW5kbGVHZXRXaGl0ZWJvYXJkQWNjZXNzKTtcblJlZGlzUHViU3ViLm9uKCdNb2RpZnlXaGl0ZWJvYXJkQWNjZXNzRXZ0TXNnJywgaGFuZGxlR2V0V2hpdGVib2FyZEFjY2Vzcyk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBjaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzIGZyb20gJy4vbWV0aG9kcy9jaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBjaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzLFxufSk7XG4iLCJpbXBvcnQgV2hpdGVib2FyZE11bHRpVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyLyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiB3aGl0ZWJvYXJkTXVsdGlVc2VyKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFdoaXRlYm9hcmRNdWx0aVVzZXIuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoJ1B1Ymxpc2hpbmcgd2hpdGVib2FyZC1tdWx0aS11c2VyJywgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICByZXR1cm4gV2hpdGVib2FyZE11bHRpVXNlci5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZE11bHRpVXNlciA9IHdoaXRlYm9hcmRNdWx0aVVzZXIuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kTXVsdGlVc2VyKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnd2hpdGVib2FyZC1tdWx0aS11c2VyJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgV2hpdGVib2FyZE11bHRpVXNlciA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd3aGl0ZWJvYXJkLW11bHRpLXVzZXInKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgd2hpdGVib2FyZC1tdWx0aS11c2VyOlxuICAvLyAxLiBtZWV0aW5nSWRcblxuICBXaGl0ZWJvYXJkTXVsdGlVc2VyLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgV2hpdGVib2FyZE11bHRpVXNlcjtcbiIsImltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5jb25zdCBNU0dfRElSRUNUX1RZUEUgPSAnRElSRUNUJztcbmNvbnN0IE5PREVfVVNFUiA9ICdub2RlSlNhcHAnO1xuXG5leHBvcnQgY29uc3Qgc3Bva2VUaW1lb3V0SGFuZGxlcyA9IHt9O1xuZXhwb3J0IGNvbnN0IGNsZWFyU3Bva2VUaW1lb3V0ID0gKG1lZXRpbmdJZCwgdXNlcklkKSA9PiB7XG4gIGlmIChzcG9rZVRpbWVvdXRIYW5kbGVzW2Ake21lZXRpbmdJZH0tJHt1c2VySWR9YF0pIHtcbiAgICBNZXRlb3IuY2xlYXJUaW1lb3V0KHNwb2tlVGltZW91dEhhbmRsZXNbYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gXSk7XG4gICAgZGVsZXRlIHNwb2tlVGltZW91dEhhbmRsZXNbYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gXTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGluZGV4T2YgPSBbXS5pbmRleE9mIHx8IGZ1bmN0aW9uIChpdGVtKSB7XG4gIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5sZW5ndGg7IGkgPCBsOyBpICs9IDEpIHtcbiAgICBpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAtMTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5ID0gZm4gPT4gKG1lc3NhZ2UsIC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgeyBlbnZlbG9wZSB9ID0gbWVzc2FnZTtcbiAgY29uc3QgeyByb3V0aW5nIH0gPSBlbnZlbG9wZTtcbiAgY29uc3QgeyBtc2dUeXBlLCBtZWV0aW5nSWQsIHVzZXJJZCB9ID0gcm91dGluZztcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICB1c2VySWQsXG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHNlbGVjdG9yKTtcblxuICBjb25zdCBzaG91bGRTa2lwID0gdXNlciAmJiBtc2dUeXBlID09PSBNU0dfRElSRUNUX1RZUEUgJiYgdXNlcklkICE9PSBOT0RFX1VTRVIgJiYgdXNlci5jbGllbnRUeXBlICE9PSAnSFRNTDUnO1xuICBpZiAoc2hvdWxkU2tpcCkgcmV0dXJuICgpID0+IHsgfTtcbiAgcmV0dXJuIGZuKG1lc3NhZ2UsIC4uLmFyZ3MpO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGUgYSAzMiBiaXQgRk5WLTFhIGhhc2hcbiAqIEZvdW5kIGhlcmU6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3ZhaW9yYWJiaXQvNTY1NzU2MVxuICogUmVmLjogaHR0cDovL2lzdGhlLmNvbS9jaG9uZ28vdGVjaC9jb21wL2Zudi9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIHRoZSBpbnB1dCB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFufSBbYXNTdHJpbmc9ZmFsc2VdIHNldCB0byB0cnVlIHRvIHJldHVybiB0aGUgaGFzaCB2YWx1ZSBhc1xuICogICAgIDgtZGlnaXQgaGV4IHN0cmluZyBpbnN0ZWFkIG9mIGFuIGludGVnZXJcbiAqIEBwYXJhbSB7aW50ZWdlcn0gW3NlZWRdIG9wdGlvbmFsbHkgcGFzcyB0aGUgaGFzaCBvZiB0aGUgcHJldmlvdXMgY2h1bmtcbiAqIEByZXR1cm5zIHtpbnRlZ2VyIHwgc3RyaW5nfVxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuZXhwb3J0IGNvbnN0IGhhc2hGTlYzMmEgPSAoc3RyLCBhc1N0cmluZywgc2VlZCkgPT4ge1xuICBsZXQgaHZhbCA9IChzZWVkID09PSB1bmRlZmluZWQpID8gMHg4MTFjOWRjNSA6IHNlZWQ7XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBzdHIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaHZhbCBePSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICBodmFsICs9IChodmFsIDw8IDEpICsgKGh2YWwgPDwgNCkgKyAoaHZhbCA8PCA3KSArIChodmFsIDw8IDgpICsgKGh2YWwgPDwgMjQpO1xuICB9XG4gIGlmIChhc1N0cmluZykge1xuICAgIHJldHVybiAoYDAwMDAwMDAkeyhodmFsID4+PiAwKS50b1N0cmluZygxNil9YCkuc3Vic3RyKC04KTtcbiAgfVxuICByZXR1cm4gaHZhbCA+Pj4gMDtcbn07XG4vKiBlc2xpbnQtZW5hYmxlICovXG5cbmV4cG9ydCBjb25zdCBleHRyYWN0Q3JlZGVudGlhbHMgPSAoY3JlZGVudGlhbHMpID0+IHtcbiAgaWYgKCFjcmVkZW50aWFscykgcmV0dXJuIHt9O1xuICBjb25zdCBjcmVkZW50aWFsc0FycmF5ID0gY3JlZGVudGlhbHMuc3BsaXQoJy0tJyk7XG4gIGNvbnN0IG1lZXRpbmdJZCA9IGNyZWRlbnRpYWxzQXJyYXlbMF07XG4gIGNvbnN0IHJlcXVlc3RlclVzZXJJZCA9IGNyZWRlbnRpYWxzQXJyYXlbMV07XG4gIHJldHVybiB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH07XG59O1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBXZWJBcHBJbnRlcm5hbHMgfSBmcm9tICdtZXRlb3Ivd2ViYXBwJztcbmltcG9ydCBMYW5nbWFwIGZyb20gJ2xhbmdtYXAnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGhlYXBkdW1wIGZyb20gJ2hlYXBkdW1wJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0ICcuL3NldHRpbmdzJztcbmltcG9ydCB7IGxvb2t1cCBhcyBsb29rdXBVc2VyQWdlbnQgfSBmcm9tICd1c2VyYWdlbnQnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IG1lbXdhdGNoIGZyb20gJ21lbXdhdGNoLW5leHQnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgUmVkaXMgZnJvbSAnLi9yZWRpcyc7XG5pbXBvcnQgc2V0TWluQnJvd3NlclZlcnNpb25zIGZyb20gJy4vbWluQnJvd3NlclZlcnNpb24nO1xuaW1wb3J0IHVzZXJMZWF2aW5nIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy91c2VyTGVhdmluZyc7XG5cbmNvbnN0IEFWQUlMQUJMRV9MT0NBTEVTID0gZnMucmVhZGRpclN5bmMoJ2Fzc2V0cy9hcHAvbG9jYWxlcycpO1xuXG5wcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIChlcnIpID0+IHtcbiAgTG9nZ2VyLmVycm9yKGB1bmNhdWdodEV4Y2VwdGlvbjogJHtlcnJ9YCk7XG4gIHByb2Nlc3MuZXhpdCgxKTtcbn0pO1xuXG5NZXRlb3Iuc3RhcnR1cCgoKSA9PiB7XG4gIGNvbnN0IEFQUF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmFwcDtcbiAgY29uc3QgSU5URVJWQUxfSU5fU0VUVElOR1MgPSAoTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5waW5nUG9uZy5jbGVhclVzZXJzSW5TZWNvbmRzKSAqIDEwMDA7XG4gIGNvbnN0IElOVEVSVkFMX1RJTUUgPSBJTlRFUlZBTF9JTl9TRVRUSU5HUyA8IDEwMDAwID8gMTAwMDAgOiBJTlRFUlZBTF9JTl9TRVRUSU5HUztcbiAgY29uc3QgZW52ID0gTWV0ZW9yLmlzRGV2ZWxvcG1lbnQgPyAnZGV2ZWxvcG1lbnQnIDogJ3Byb2R1Y3Rpb24nO1xuICBjb25zdCBDRE5fVVJMID0gQVBQX0NPTkZJRy5jZG47XG5cbiAgY29uc3QgeyBjdXN0b21IZWFydGJlYXQgfSA9IEFQUF9DT05GSUc7XG5cbiAgaWYgKGN1c3RvbUhlYXJ0YmVhdCkge1xuICAgIExvZ2dlci53YXJuKCdDdXN0b20gaGVhcnRiZWF0IGZ1bmN0aW9ucyBhcmUgZW5hYmxlZCcpO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zb2NranMvc29ja2pzLW5vZGUvYmxvYi8xZWYwODkwMWYwNDVhYWU3YjRkZjBmOTFlZjU5OGQ3YTExZTgyODk3L2xpYi90cmFuc3BvcnQvd2Vic29ja2V0LmpzI0w3NC1MODJcbiAgICBjb25zdCBuZXdIZWFydGJlYXQgPSBmdW5jdGlvbiBoZWFydGJlYXQoKSB7XG4gICAgICBjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICAvLyBTa2lwcGluZyBoZWFydGJlYXQsIGJlY2F1c2Ugd2Vic29ja2V0IGlzIHNlbmRpbmcgZGF0YVxuICAgICAgaWYgKGN1cnJlbnRUaW1lIC0gdGhpcy53cy5sYXN0U2VudEZyYW1lVGltZXN0YW1wIDwgMTAwMDApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBMb2dnZXIuaW5mbygnU2tpcHBpbmcgaGVhcnRiZWF0LCBiZWNhdXNlIHdlYnNvY2tldCBpcyBzZW5kaW5nIGRhdGEnLCB7XG4gICAgICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgICAgIGxhc3RTZW50RnJhbWVUaW1lc3RhbXA6IHRoaXMud3MubGFzdFNlbnRGcmFtZVRpbWVzdGFtcCxcbiAgICAgICAgICAgIHVzZXJJZDogdGhpcy5zZXNzaW9uLmNvbm5lY3Rpb24uX21ldGVvclNlc3Npb24udXNlcklkLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgTG9nZ2VyLmVycm9yKGBTa2lwcGluZyBoZWFydGJlYXQgZXJyb3I6ICR7ZXJyfWApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN1cHBvcnRzSGVhcnRiZWF0cyA9IHRoaXMud3MucGluZyhudWxsLCAoKSA9PiBjbGVhclRpbWVvdXQodGhpcy5odG9fcmVmKSk7XG4gICAgICBpZiAoc3VwcG9ydHNIZWFydGJlYXRzKSB7XG4gICAgICAgIHRoaXMuaHRvX3JlZiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBMb2dnZXIuaW5mbygnSGVhcnRiZWF0IHRpbWVvdXQnLCB7IHVzZXJJZDogdGhpcy5zZXNzaW9uLmNvbm5lY3Rpb24uX21ldGVvclNlc3Npb24udXNlcklkLCBzZW50QXQ6IGN1cnJlbnRUaW1lLCBub3c6IG5ldyBEYXRlKCkuZ2V0VGltZSgpIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgTG9nZ2VyLmVycm9yKGBIZWFydGJlYXQgdGltZW91dCBlcnJvcjogJHtlcnJ9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBNZXRlb3Iuc2VydmVyLm9wdGlvbnMuaGVhcnRiZWF0VGltZW91dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBMb2dnZXIuZXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3Igc3VwcG9ydHNIZWFydGJlYXRzPWZhbHNlJyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZoYW5pL2hhZ3R5L2Jsb2IvNmE1Yzc4ZTlhZTVhNWU0YWRlMDNlNzQ3ZmI0Y2M4ZWEyZGY0YmUwYy9mYXllLXdlYnNvY2tldC9saWIvZmF5ZS93ZWJzb2NrZXQvYXBpLmpzI0w4NC1MODhcbiAgICBjb25zdCBuZXdTZW5kID0gZnVuY3Rpb24gc2VuZChkYXRhKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmxhc3RTZW50RnJhbWVUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICBpZiAodGhpcy5tZXRlb3JIZWFydGJlYXQpIHtcbiAgICAgICAgICAvLyBDYWxsIGh0dHBzOi8vZ2l0aHViLmNvbS9tZXRlb3IvbWV0ZW9yL2Jsb2IvMWU3ZTU2ZWVjODQxNDA5M2NkMGMxYzcwNzUwYjg5NDA2OWZjOTcyYS9wYWNrYWdlcy9kZHAtY29tbW9uL2hlYXJ0YmVhdC5qcyNMODAtTDg4XG4gICAgICAgICAgdGhpcy5tZXRlb3JIZWFydGJlYXQuX3NlZW5QYWNrZXQgPSB0cnVlO1xuICAgICAgICAgIGlmICh0aGlzLm1ldGVvckhlYXJ0YmVhdC5faGVhcnRiZWF0VGltZW91dEhhbmRsZSkge1xuICAgICAgICAgICAgdGhpcy5tZXRlb3JIZWFydGJlYXQuX2NsZWFySGVhcnRiZWF0VGltZW91dFRpbWVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA+IDEvKiBBUEkuT1BFTiA9IDEgKi8pIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCEoZGF0YSBpbnN0YW5jZW9mIEJ1ZmZlcikpIGRhdGEgPSBTdHJpbmcoZGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcml2ZXIubWVzc2FnZXMud3JpdGUoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igb24gc2VuZCBkYXRhJywgZXJyKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBNZXRlb3Iuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBzZXNzaW9uIG9mIE1ldGVvci5zZXJ2ZXIuc2Vzc2lvbnMudmFsdWVzKCkpIHtcbiAgICAgICAgY29uc3QgeyBzb2NrZXQgfSA9IHNlc3Npb247XG4gICAgICAgIGNvbnN0IHJlY3YgPSBzb2NrZXQuX3Nlc3Npb24ucmVjdjtcblxuICAgICAgICBpZiAoc2Vzc2lvbi5iYmJGaXhBcHBsaWVkIHx8ICFyZWN2IHx8ICFyZWN2LndzKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICByZWN2LndzLm1ldGVvckhlYXJ0YmVhdCA9IHNlc3Npb24uaGVhcnRiZWF0O1xuICAgICAgICByZWN2Ll9fcHJvdG9fXy5oZWFydGJlYXQgPSBuZXdIZWFydGJlYXQ7XG4gICAgICAgIHJlY3Yud3MuX19wcm90b19fLnNlbmQgPSBuZXdTZW5kO1xuICAgICAgICBzZXNzaW9uLmJiYkZpeEFwcGxpZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sIDUwMDApO1xuICB9XG5cbiAgY29uc3QgbWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUubWVtb3J5TW9uaXRvcmluZztcbiAgbGV0IGhlYXBEdW1wTWJUaHJlc2hvbGQgPSBtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MuaGVhcGR1bXAudGhyZXNob2xkTWI7XG4gIGNvbnN0IHsgaGVhcGR1bXBGb2xkZXJQYXRoIH0gPSBtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MuaGVhcGR1bXA7XG5cbiAgaWYgKG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5zdGF0LmVuYWJsZWQpIHtcbiAgICBtZW13YXRjaC5vbignc3RhdHMnLCAoc3RhdHMpID0+IHtcbiAgICAgIGxldCBoZWFwRHVtcFRyaWdnZXJlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAobWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzLmhlYXBkdW1wLmVuYWJsZWQpIHtcbiAgICAgICAgaGVhcER1bXBUcmlnZ2VyZWQgPSAoc3RhdHMuY3VycmVudF9iYXNlIC8gMTA0ODU3NikgPiBoZWFwRHVtcE1iVGhyZXNob2xkO1xuICAgICAgfVxuICAgICAgTG9nZ2VyLmluZm8oJ21lbXdhdGNoIHN0YXRzJywgeyAuLi5zdGF0cyB9KTtcblxuICAgICAgaWYgKGhlYXBEdW1wVHJpZ2dlcmVkKSB7XG4gICAgICAgIGhlYXBkdW1wLndyaXRlU25hcHNob3QocGF0aC5qb2luKGhlYXBkdW1wRm9sZGVyUGF0aCwgYGhlYXBkdW1wLXN0YXRzLSR7RGF0ZS5ub3coKX0uaGVhcHNuYXBzaG90YCkpO1xuICAgICAgICBoZWFwRHVtcE1iVGhyZXNob2xkICs9IG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5oZWFwZHVtcC50aHJlc2hvbGRNYjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIGlmIChtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MubGVhay5lbmFibGVkKSB7XG4gIC8vICAgbWVtd2F0Y2gub24oJ2xlYWsnLCAoaW5mbykgPT4ge1xuICAvLyAgICAgTG9nZ2VyLmluZm8oJ21lbXdhdGNoIGxlYWsnLCBpbmZvKTtcbiAgLy8gICB9KTtcbiAgLy8gfVxuXG4gIC8vIGlmIChtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MuaGVhcGR1bXAuZW5hYmxlZCkge1xuICAvLyAgIGNvbnN0IHsgaGVhcGR1bXBGb2xkZXJQYXRoLCBoZWFwZHVtcEludGVydmFsTXMgfSA9IG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5oZWFwZHVtcDtcbiAgLy8gICBNZXRlb3Iuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAvLyAgICAgaGVhcGR1bXAud3JpdGVTbmFwc2hvdChwYXRoLmpvaW4oaGVhcGR1bXBGb2xkZXJQYXRoLCBgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9LmhlYXBzbmFwc2hvdGApKTtcbiAgLy8gICAgIExvZ2dlci5pbmZvKCdIZWFwc25hcHNob3QgZmlsZSBzdWNjZXNzZnVsbHkgd3JpdHRlbicpO1xuICAvLyAgIH0sIGhlYXBkdW1wSW50ZXJ2YWxNcyk7XG4gIC8vIH1cblxuICBpZiAoQ0ROX1VSTC50cmltKCkpIHtcbiAgICAvLyBBZGQgQ0ROXG4gICAgQnJvd3NlclBvbGljeS5jb250ZW50LmRpc2FsbG93RXZhbCgpO1xuICAgIEJyb3dzZXJQb2xpY3kuY29udGVudC5hbGxvd0lubGluZVNjcmlwdHMoKTtcbiAgICBCcm93c2VyUG9saWN5LmNvbnRlbnQuYWxsb3dJbmxpbmVTdHlsZXMoKTtcbiAgICBCcm93c2VyUG9saWN5LmNvbnRlbnQuYWxsb3dJbWFnZURhdGFVcmwoQ0ROX1VSTCk7XG4gICAgQnJvd3NlclBvbGljeS5jb250ZW50LmFsbG93Rm9udERhdGFVcmwoQ0ROX1VSTCk7XG4gICAgQnJvd3NlclBvbGljeS5jb250ZW50LmFsbG93T3JpZ2luRm9yQWxsKENETl9VUkwpO1xuICAgIFdlYkFwcEludGVybmFscy5zZXRCdW5kbGVkSnNDc3NQcmVmaXgoQ0ROX1VSTCArIEFQUF9DT05GSUcuYmFzZW5hbWUpO1xuXG4gICAgY29uc3QgZm9udFJlZ0V4cCA9IC9cXC4oZW90fHR0ZnxvdGZ8d29mZnx3b2ZmMikkLztcblxuICAgIFdlYkFwcC5yYXdDb25uZWN0SGFuZGxlcnMudXNlKCcvJywgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICBpZiAoZm9udFJlZ0V4cC50ZXN0KHJlcS5fcGFyc2VkVXJsLnBhdGhuYW1lKSkge1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnKicpO1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdWYXJ5JywgJ09yaWdpbicpO1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdQcmFnbWEnLCAncHVibGljJyk7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAnXCJwdWJsaWNcIicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldE1pbkJyb3dzZXJWZXJzaW9ucygpO1xuXG4gIE1ldGVvci5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIExvZ2dlci5pbmZvKCdDaGVja2luZyBmb3IgaW5hY3RpdmUgdXNlcnMnKTtcbiAgICBjb25zdCB1c2VycyA9IFVzZXJzLmZpbmQoe1xuICAgICAgY29ubmVjdGlvblN0YXR1czogJ29ubGluZScsXG4gICAgICBjbGllbnRUeXBlOiAnSFRNTDUnLFxuICAgICAgbGFzdFBpbmc6IHtcbiAgICAgICAgJGx0OiAoY3VycmVudFRpbWUgLSBJTlRFUlZBTF9USU1FKSwgLy8gZ2V0IHVzZXIgd2hvIGhhcyBub3QgcGluZ2VkIGluIHRoZSBsYXN0IDEwIHNlY29uZHNcbiAgICAgIH0sXG4gICAgICBsb2dpblRpbWU6IHtcbiAgICAgICAgJGx0OiAoY3VycmVudFRpbWUgLSBJTlRFUlZBTF9USU1FKSxcbiAgICAgIH0sXG4gICAgfSkuZmV0Y2goKTtcbiAgICBpZiAoIXVzZXJzLmxlbmd0aCkgcmV0dXJuIExvZ2dlci5pbmZvKCdObyBpbmFjdGl2ZSB1c2VycycpO1xuICAgIExvZ2dlci5pbmZvKCdSZW1vdmluZyBpbmFjdGl2ZSB1c2VycycpO1xuICAgIHVzZXJzLmZvckVhY2goKHVzZXIpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBEZXRlY3RlZCBpbmFjdGl2ZSB1c2VyLCB1c2VySWQ6JHt1c2VyLnVzZXJJZH0sIG1lZXRpbmdJZDoke3VzZXIubWVldGluZ0lkfWApO1xuICAgICAgcmV0dXJuIHVzZXJMZWF2aW5nKHVzZXIubWVldGluZ0lkLCB1c2VyLnVzZXJJZCwgdXNlci5jb25uZWN0aW9uSWQpO1xuICAgIH0pO1xuICAgIHJldHVybiBMb2dnZXIuaW5mbygnQWxsIGluYWN0aXZlIHVzZXJzIGhhdmUgYmVlbiByZW1vdmVkJyk7XG4gIH0sIElOVEVSVkFMX1RJTUUpO1xuXG4gIExvZ2dlci53YXJuKGBTRVJWRVIgU1RBUlRFRC5cXG5FTlY9JHtlbnZ9LFxcbm5vZGVqcyB2ZXJzaW9uPSR7cHJvY2Vzcy52ZXJzaW9ufVxcbkNETj0ke0NETl9VUkx9XFxuYCwgQVBQX0NPTkZJRyk7XG59KTtcblxuV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoJy9jaGVjaycsIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBwYXlsb2FkID0geyBodG1sNWNsaWVudFN0YXR1czogJ3J1bm5pbmcnIH07XG5cbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgcmVzLndyaXRlSGVhZCgyMDApO1xuICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKTtcbn0pO1xuXG5XZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSgnL2xvY2FsZScsIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBBUFBfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5hcHA7XG4gIGNvbnN0IGZhbGxiYWNrID0gQVBQX0NPTkZJRy5kZWZhdWx0U2V0dGluZ3MuYXBwbGljYXRpb24uZmFsbGJhY2tMb2NhbGU7XG4gIGNvbnN0IG92ZXJyaWRlID0gQVBQX0NPTkZJRy5kZWZhdWx0U2V0dGluZ3MuYXBwbGljYXRpb24ub3ZlcnJpZGVMb2NhbGU7XG4gIGNvbnN0IGJyb3dzZXJMb2NhbGUgPSBvdmVycmlkZSAmJiByZXEucXVlcnkuaW5pdCA9PT0gJ3RydWUnXG4gICAgPyBvdmVycmlkZS5zcGxpdCgvWy1fXS9nKSA6IHJlcS5xdWVyeS5sb2NhbGUuc3BsaXQoL1stX10vZyk7XG5cbiAgY29uc3QgbG9jYWxlTGlzdCA9IFtmYWxsYmFja107XG5cbiAgY29uc3QgdXNhYmxlTG9jYWxlcyA9IEFWQUlMQUJMRV9MT0NBTEVTXG4gICAgLm1hcChmaWxlID0+IGZpbGUucmVwbGFjZSgnLmpzb24nLCAnJykpXG4gICAgLnJlZHVjZSgobG9jYWxlcywgbG9jYWxlKSA9PiAobG9jYWxlLm1hdGNoKGJyb3dzZXJMb2NhbGVbMF0pXG4gICAgICA/IFsuLi5sb2NhbGVzLCBsb2NhbGVdXG4gICAgICA6IGxvY2FsZXMpLCBbXSk7XG5cbiAgY29uc3QgcmVnaW9uRGVmYXVsdCA9IHVzYWJsZUxvY2FsZXMuZmluZChsb2NhbGUgPT4gYnJvd3NlckxvY2FsZVswXSA9PT0gbG9jYWxlKTtcblxuICBpZiAocmVnaW9uRGVmYXVsdCkgbG9jYWxlTGlzdC5wdXNoKHJlZ2lvbkRlZmF1bHQpO1xuICBpZiAoIXJlZ2lvbkRlZmF1bHQgJiYgdXNhYmxlTG9jYWxlcy5sZW5ndGgpIGxvY2FsZUxpc3QucHVzaCh1c2FibGVMb2NhbGVzWzBdKTtcblxuICBsZXQgbm9ybWFsaXplZExvY2FsZTtcbiAgbGV0IG1lc3NhZ2VzID0ge307XG5cbiAgaWYgKGJyb3dzZXJMb2NhbGUubGVuZ3RoID4gMSkge1xuICAgIG5vcm1hbGl6ZWRMb2NhbGUgPSBgJHticm93c2VyTG9jYWxlWzBdfV8ke2Jyb3dzZXJMb2NhbGVbMV0udG9VcHBlckNhc2UoKX1gO1xuICAgIGxvY2FsZUxpc3QucHVzaChub3JtYWxpemVkTG9jYWxlKTtcbiAgfVxuXG4gIGxvY2FsZUxpc3QuZm9yRWFjaCgobG9jYWxlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBBc3NldHMuZ2V0VGV4dChgbG9jYWxlcy8ke2xvY2FsZX0uanNvbmApO1xuICAgICAgbWVzc2FnZXMgPSBPYmplY3QuYXNzaWduKG1lc3NhZ2VzLCBKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgIG5vcm1hbGl6ZWRMb2NhbGUgPSBsb2NhbGU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgTG9nZ2VyLndhcm4oYCdDb3VsZCBub3QgcHJvY2VzcyBsb2NhbGUgJHtsb2NhbGV9OiR7ZX1gKTtcbiAgICAgIC8vIEdldHRpbmcgaGVyZSBtZWFucyB0aGUgbG9jYWxlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgbG9jYWxlIGZpbGVzLlxuICAgIH1cbiAgfSk7XG5cbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7IG5vcm1hbGl6ZWRMb2NhbGUsIG1lc3NhZ2VzIH0pKTtcbn0pO1xuXG5XZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSgnL2xvY2FsZXMnLCAocmVxLCByZXMpID0+IHtcbiAgbGV0IGxvY2FsZXMgPSBbXTtcbiAgdHJ5IHtcbiAgICBsb2NhbGVzID0gQVZBSUxBQkxFX0xPQ0FMRVNcbiAgICAgIC5tYXAoZmlsZSA9PiBmaWxlLnJlcGxhY2UoJy5qc29uJywgJycpKVxuICAgICAgLm1hcChmaWxlID0+IGZpbGUucmVwbGFjZSgnXycsICctJykpXG4gICAgICAubWFwKGxvY2FsZSA9PiAoe1xuICAgICAgICBsb2NhbGUsXG4gICAgICAgIG5hbWU6IExhbmdtYXBbbG9jYWxlXS5uYXRpdmVOYW1lLFxuICAgICAgfSkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgTG9nZ2VyLndhcm4oYCdDb3VsZCBub3QgcHJvY2VzcyBsb2NhbGVzIGVycm9yOiAke2V9YCk7XG4gIH1cblxuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICByZXMud3JpdGVIZWFkKDIwMCk7XG4gIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkobG9jYWxlcykpO1xufSk7XG5cbldlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKCcvZmVlZGJhY2snLCAocmVxLCByZXMpID0+IHtcbiAgcmVxLm9uKCdkYXRhJywgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCgoZGF0YSkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgIGNvbnN0IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGF1dGhUb2tlbixcbiAgICAgIHVzZXJOYW1lOiByZXFVc2VyTmFtZSxcbiAgICAgIGNvbW1lbnQsXG4gICAgICByYXRpbmcsXG4gICAgfSA9IGJvZHk7XG5cbiAgICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gICAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGF1dGhUb2tlbiwgU3RyaW5nKTtcbiAgICBjaGVjayhyZXFVc2VyTmFtZSwgU3RyaW5nKTtcbiAgICBjaGVjayhjb21tZW50LCBTdHJpbmcpO1xuICAgIGNoZWNrKHJhdGluZywgTnVtYmVyKTtcblxuICAgIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdvZmZsaW5lJyxcbiAgICAgIGF1dGhUb2tlbixcbiAgICB9KTtcblxuICAgIGlmICghdXNlcikge1xuICAgICAgTG9nZ2VyLndhcm4oJ0NvdWxkblxcJ3QgZmluZCB1c2VyIGZvciBmZWVkYmFjaycpO1xuICAgIH1cblxuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgcmVzLndyaXRlSGVhZCgyMDApO1xuICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoeyBzdGF0dXM6ICdvaycgfSkpO1xuXG4gICAgYm9keS51c2VyTmFtZSA9IHVzZXIgPyB1c2VyLm5hbWUgOiBgW3VuY29uZmlybWVkXSAke3JlcVVzZXJOYW1lfWA7XG5cbiAgICBjb25zdCBmZWVkYmFjayA9IHtcbiAgICAgIC4uLmJvZHksXG4gICAgfTtcbiAgICBMb2dnZXIuaW5mbygnRkVFREJBQ0sgTE9HOicsIGZlZWRiYWNrKTtcbiAgfSkpO1xufSk7XG5cbldlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKCcvdXNlcmFnZW50JywgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHVzZXJBZ2VudCA9IHJlcS5oZWFkZXJzWyd1c2VyLWFnZW50J107XG4gIGxldCByZXNwb25zZSA9ICdObyB1c2VyIGFnZW50IGZvdW5kIGluIGhlYWRlcic7XG4gIGlmICh1c2VyQWdlbnQpIHtcbiAgICByZXNwb25zZSA9IGxvb2t1cFVzZXJBZ2VudCh1c2VyQWdlbnQpLnRvU3RyaW5nKCk7XG4gIH1cblxuICBMb2dnZXIuaW5mbyhgVGhlIHJlcXVlc3RpbmcgdXNlciBhZ2VudCBpcyAke3Jlc3BvbnNlfWApO1xuXG4gIC8vIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gIHJlcy53cml0ZUhlYWQoMjAwKTtcbiAgcmVzLmVuZChyZXNwb25zZSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IGV2ZW50RW1pdHRlciA9IFJlZGlzLmVtaXR0ZXI7XG5cbmV4cG9ydCBjb25zdCByZWRpc1B1YlN1YiA9IFJlZGlzO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjcmVhdGVMb2dnZXIsIGZvcm1hdCwgdHJhbnNwb3J0cyB9IGZyb20gJ3dpbnN0b24nO1xuXG5jb25zdCBMT0dfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUuc2VydmVyTG9nIHx8IHt9O1xuY29uc3QgeyBsZXZlbCB9ID0gTE9HX0NPTkZJRztcblxuY29uc3QgTG9nZ2VyID0gY3JlYXRlTG9nZ2VyKHtcbiAgbGV2ZWwsXG4gIGZvcm1hdDogZm9ybWF0LmNvbWJpbmUoXG4gICAgZm9ybWF0LmNvbG9yaXplKHsgbGV2ZWw6IHRydWUgfSksXG4gICAgZm9ybWF0LnNwbGF0KCksXG4gICAgZm9ybWF0LnNpbXBsZSgpLFxuICApLFxuICB0cmFuc3BvcnRzOiBbXG4gICAgLy8gY29uc29sZSBsb2dnaW5nXG4gICAgbmV3IHRyYW5zcG9ydHMuQ29uc29sZSh7XG4gICAgICBwcmV0dHlQcmludDogZmFsc2UsXG4gICAgICBodW1hblJlYWRhYmxlVW5oYW5kbGVkRXhjZXB0aW9uOiB0cnVlLFxuICAgICAgY29sb3JpemU6IHRydWUsXG4gICAgICBoYW5kbGVFeGNlcHRpb25zOiB0cnVlLFxuICAgICAgbGV2ZWwsXG4gICAgfSksXG4gIF0sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgTG9nZ2VyO1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gTG9nZ2VyO1xuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zICovXG5cbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5cbmNvbnN0IHtcbiAgbWV0cmljc0R1bXBJbnRlcnZhbE1zLFxuICBtZXRyaWNzRm9sZGVyUGF0aCxcbiAgcmVtb3ZlTWVldGluZ09uRW5kLFxufSA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzLm1ldHJpY3M7XG5cbmNsYXNzIE1ldHJpY3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm1ldHJpY3MgPSB7fTtcbiAgfVxuXG4gIGFkZEV2ZW50KG1lZXRpbmdJZCwgZXZlbnROYW1lLCBtZXNzYWdlTGVuZ3RoKSB7XG4gICAgaWYgKCF0aGlzLm1ldHJpY3MuaGFzT3duUHJvcGVydHkobWVldGluZ0lkKSkge1xuICAgICAgdGhpcy5tZXRyaWNzW21lZXRpbmdJZF0gPSB7XG4gICAgICAgIGN1cnJlbnRseUluUXVldWU6IHt9LFxuICAgICAgICB3YXNJblF1ZXVlOiB7fSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBjdXJyZW50bHlJblF1ZXVlIH0gPSB0aGlzLm1ldHJpY3NbbWVldGluZ0lkXTtcblxuICAgIGlmICghY3VycmVudGx5SW5RdWV1ZS5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKSB7XG4gICAgICBjdXJyZW50bHlJblF1ZXVlW2V2ZW50TmFtZV0gPSB7XG4gICAgICAgIGNvdW50OiAxLFxuICAgICAgICBwYXlsb2FkU2l6ZTogbWVzc2FnZUxlbmd0aCxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRseUluUXVldWVbZXZlbnROYW1lXS5jb3VudCArPSAxO1xuICAgICAgY3VycmVudGx5SW5RdWV1ZVtldmVudE5hbWVdLnBheWxvYWRTaXplICs9IG1lc3NhZ2VMZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcHJvY2Vzc0V2ZW50KG1lZXRpbmdJZCwgZXZlbnROYW1lLCBzaXplLCBwcm9jZXNzaW5nU3RhcnRUaW1lc3RhbXApIHtcbiAgICBjb25zdCBjdXJyZW50UHJvY2Vzc2luZ1RpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcHJvY2Vzc1RpbWUgPSBjdXJyZW50UHJvY2Vzc2luZ1RpbWVzdGFtcCAtIHByb2Nlc3NpbmdTdGFydFRpbWVzdGFtcDtcblxuICAgIGlmICghdGhpcy5tZXRyaWNzW21lZXRpbmdJZF0ud2FzSW5RdWV1ZS5oYXNPd25Qcm9wZXJ0eShldmVudE5hbWUpKSB7XG4gICAgICB0aGlzLm1ldHJpY3NbbWVldGluZ0lkXS53YXNJblF1ZXVlW2V2ZW50TmFtZV0gPSB7XG4gICAgICAgIGNvdW50OiAxLFxuICAgICAgICBwYXlsb2FkU2l6ZToge1xuICAgICAgICAgIG1pbjogc2l6ZSxcbiAgICAgICAgICBtYXg6IHNpemUsXG4gICAgICAgICAgbGFzdDogc2l6ZSxcbiAgICAgICAgICB0b3RhbDogc2l6ZSxcbiAgICAgICAgICBhdmc6IHNpemUsXG4gICAgICAgIH0sXG4gICAgICAgIHByb2Nlc3NpbmdUaW1lOiB7XG4gICAgICAgICAgbWluOiBwcm9jZXNzVGltZSxcbiAgICAgICAgICBtYXg6IHByb2Nlc3NUaW1lLFxuICAgICAgICAgIGxhc3Q6IHByb2Nlc3NUaW1lLFxuICAgICAgICAgIHRvdGFsOiBwcm9jZXNzVGltZSxcbiAgICAgICAgICBhdmc6IHByb2Nlc3NUaW1lLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIHRoaXMubWV0cmljc1ttZWV0aW5nSWRdLmN1cnJlbnRseUluUXVldWVbZXZlbnROYW1lXS5jb3VudCAtPSAxO1xuXG4gICAgICBpZiAoIXRoaXMubWV0cmljc1ttZWV0aW5nSWRdLmN1cnJlbnRseUluUXVldWVbZXZlbnROYW1lXS5jb3VudCkge1xuICAgICAgICBkZWxldGUgdGhpcy5tZXRyaWNzW21lZXRpbmdJZF0uY3VycmVudGx5SW5RdWV1ZVtldmVudE5hbWVdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IGN1cnJlbnRseUluUXVldWUsIHdhc0luUXVldWUgfSA9IHRoaXMubWV0cmljc1ttZWV0aW5nSWRdO1xuXG4gICAgICBjdXJyZW50bHlJblF1ZXVlW2V2ZW50TmFtZV0uY291bnQgLT0gMTtcblxuICAgICAgaWYgKCFjdXJyZW50bHlJblF1ZXVlW2V2ZW50TmFtZV0uY291bnQpIHtcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRseUluUXVldWVbZXZlbnROYW1lXTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBwYXlsb2FkU2l6ZSwgcHJvY2Vzc2luZ1RpbWUgfSA9IHdhc0luUXVldWVbZXZlbnROYW1lXTtcblxuICAgICAgd2FzSW5RdWV1ZVtldmVudE5hbWVdLmNvdW50ICs9IDE7XG5cbiAgICAgIHBheWxvYWRTaXplLmxhc3QgPSBzaXplO1xuICAgICAgcGF5bG9hZFNpemUudG90YWwgKz0gc2l6ZTtcblxuICAgICAgaWYgKHBheWxvYWRTaXplLm1pbiA+IHNpemUpIHBheWxvYWRTaXplLm1pbiA9IHNpemU7XG4gICAgICBpZiAocGF5bG9hZFNpemUubWF4IDwgc2l6ZSkgcGF5bG9hZFNpemUubWF4ID0gc2l6ZTtcblxuICAgICAgcGF5bG9hZFNpemUuYXZnID0gcGF5bG9hZFNpemUudG90YWwgLyB3YXNJblF1ZXVlW2V2ZW50TmFtZV0uY291bnQ7XG5cbiAgICAgIGlmIChwcm9jZXNzaW5nVGltZS5taW4gPiBwcm9jZXNzVGltZSkgcHJvY2Vzc2luZ1RpbWUubWluID0gcHJvY2Vzc1RpbWU7XG4gICAgICBpZiAocHJvY2Vzc2luZ1RpbWUubWF4IDwgcHJvY2Vzc1RpbWUpIHByb2Nlc3NpbmdUaW1lLm1heCA9IHByb2Nlc3NUaW1lO1xuXG4gICAgICBwcm9jZXNzaW5nVGltZS5sYXN0ID0gcHJvY2Vzc1RpbWU7XG4gICAgICBwcm9jZXNzaW5nVGltZS50b3RhbCArPSBwcm9jZXNzVGltZTtcbiAgICAgIHByb2Nlc3NpbmdUaW1lLmF2ZyA9IHByb2Nlc3NpbmdUaW1lLnRvdGFsIC8gd2FzSW5RdWV1ZVtldmVudE5hbWVdLmNvdW50O1xuICAgIH1cbiAgfVxuXG4gIHNldEFubm90YXRpb25RdWV1ZUxlbmd0aChtZWV0aW5nSWQsIHNpemUpIHtcbiAgICB0aGlzLm1ldHJpY3NbbWVldGluZ0lkXS5hbm5vdGF0aW9uUXVldWVMZW5ndGggPSBzaXplO1xuICB9XG5cbiAgc3RhcnREdW1wRmlsZSgpIHtcbiAgICBNZXRlb3Iuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZmlsZURhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBmdWxsWWVhciA9IGZpbGVEYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgIGNvbnN0IG1vbnRoID0gKGZpbGVEYXRlLmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IGRheSA9IGZpbGVEYXRlLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IGhvdXIgPSBmaWxlRGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICAgICAgY29uc3QgbWludXRlcyA9IGZpbGVEYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSBmaWxlRGF0ZS5nZXRTZWNvbmRzKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xuXG4gICAgICAgIGNvbnN0IGZvbGRlck5hbWUgPSBgJHtmdWxsWWVhcn0ke21vbnRofSR7ZGF5fV8ke2hvdXJ9YDtcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHtmb2xkZXJOYW1lfSR7bWludXRlc30ke3NlY29uZHN9X21ldHJpY3MuanNvbmA7XG5cbiAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IHBhdGguam9pbihtZXRyaWNzRm9sZGVyUGF0aCwgZm9sZGVyTmFtZSk7XG4gICAgICAgIGNvbnN0IGZ1bGxGaWxlUGF0aCA9IHBhdGguam9pbihmb2xkZXJQYXRoLCBmaWxlTmFtZSk7XG5cbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGZvbGRlclBhdGgpKSB7XG4gICAgICAgICAgTG9nZ2VyLmRlYnVnKGBDcmVhdGluZyBmb2xkZXI6ICR7Zm9sZGVyUGF0aH1gKTtcbiAgICAgICAgICBmcy5ta2RpclN5bmMoZm9sZGVyUGF0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGZ1bGxGaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkodGhpcy5tZXRyaWNzKSk7XG5cbiAgICAgICAgTG9nZ2VyLmluZm8oJ01ldHJpYyBmaWxlIHN1Y2Nlc3NmdWxseSB3cml0dGVuJyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgTG9nZ2VyLmVycm9yKCdFcnJvciBvbiB3cml0aW5nIG1ldHJpY3MgdG8gZGlzay4nLCBlcnIpO1xuICAgICAgfVxuICAgIH0sIG1ldHJpY3NEdW1wSW50ZXJ2YWxNcyk7XG4gIH1cblxuICByZW1vdmVNZWV0aW5nKG1lZXRpbmdJZCkge1xuICAgIGlmIChyZW1vdmVNZWV0aW5nT25FbmQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmluZyBtZWV0aW5nICR7bWVldGluZ0lkfSBmcm9tIG1ldHJpY3NgKTtcbiAgICAgIGRlbGV0ZSB0aGlzLm1ldHJpY3NbbWVldGluZ0lkXTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmluZm8oYFNraXBwaW5nIHJlbW92ZSBvZiBtZWV0aW5nICR7bWVldGluZ0lkfSBmcm9tIG1ldHJpY3NgKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgbWV0cmljc1NpbmdsZXRvbiA9IG5ldyBNZXRyaWNzKCk7XG5cbmV4cG9ydCBkZWZhdWx0IG1ldHJpY3NTaW5nbGV0b247XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IHNldE1pbmltdW1Ccm93c2VyVmVyc2lvbnMgfSBmcm9tICdtZXRlb3IvbW9kZXJuLWJyb3dzZXJzJztcblxuY29uc3Qgc2V0TWluQnJvd3NlclZlcnNpb25zID0gKCkgPT4ge1xuICBjb25zdCB7IG1pbkJyb3dzZXJWZXJzaW9ucyB9ID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGU7XG5cbiAgY29uc3QgdmVyc2lvbnMgPSB7fTtcblxuICBtaW5Ccm93c2VyVmVyc2lvbnMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgIGxldCB7IHZlcnNpb24gfSA9IGVsZW07XG4gICAgaWYgKHZlcnNpb24gPT09ICdJbmZpbml0eScpIHZlcnNpb24gPSBJbmZpbml0eTtcblxuICAgIHZlcnNpb25zW2VsZW0uYnJvd3Nlcl0gPSB2ZXJzaW9uO1xuICB9KTtcblxuICBzZXRNaW5pbXVtQnJvd3NlclZlcnNpb25zKHZlcnNpb25zLCAnYmJiLW1pbicpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgc2V0TWluQnJvd3NlclZlcnNpb25zO1xuIiwiLyogZ2xvYmFsIFBvd2VyUXVldWUgKi9cbmltcG9ydCBSZWRpcyBmcm9tICdyZWRpcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlcjIgfSBmcm9tICdldmVudGVtaXR0ZXIyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCBNZXRyaWNzIGZyb20gJy4vbWV0cmljcyc7XG5cbi8vIEZha2UgbWVldGluZ0lkIHVzZWQgZm9yIG1lc3NhZ2VzIHRoYXQgaGF2ZSBubyBtZWV0aW5nSWRcbmNvbnN0IE5PX01FRVRJTkdfSUQgPSAnXyc7XG5cbmNvbnN0IHsgcXVldWVNZXRyaWNzIH0gPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcy5tZXRyaWNzO1xuXG5jb25zdCBtYWtlRW52ZWxvcGUgPSAoY2hhbm5lbCwgZXZlbnROYW1lLCBoZWFkZXIsIGJvZHksIHJvdXRpbmcpID0+IHtcbiAgY29uc3QgZW52ZWxvcGUgPSB7XG4gICAgZW52ZWxvcGU6IHtcbiAgICAgIG5hbWU6IGV2ZW50TmFtZSxcbiAgICAgIHJvdXRpbmc6IHJvdXRpbmcgfHwge1xuICAgICAgICBzZW5kZXI6ICdiYmItYXBwcy1ha2thJyxcbiAgICAgICAgLy8gc2VuZGVyOiAnaHRtbDUtc2VydmVyJywgLy8gVE9ET1xuICAgICAgfSxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9LFxuICAgIGNvcmU6IHtcbiAgICAgIGhlYWRlcixcbiAgICAgIGJvZHksXG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZW52ZWxvcGUpO1xufTtcblxuY2xhc3MgTWVldGluZ01lc3NhZ2VRdWV1ZSB7XG4gIGNvbnN0cnVjdG9yKGV2ZW50RW1pdHRlciwgYXN5bmNNZXNzYWdlcyA9IFtdLCByZWRpc0RlYnVnRW5hYmxlZCA9IGZhbHNlKSB7XG4gICAgdGhpcy5hc3luY01lc3NhZ2VzID0gYXN5bmNNZXNzYWdlcztcbiAgICB0aGlzLmVtaXR0ZXIgPSBldmVudEVtaXR0ZXI7XG4gICAgdGhpcy5xdWV1ZSA9IG5ldyBQb3dlclF1ZXVlKCk7XG4gICAgdGhpcy5yZWRpc0RlYnVnRW5hYmxlZCA9IHJlZGlzRGVidWdFbmFibGVkO1xuXG4gICAgdGhpcy5oYW5kbGVUYXNrID0gdGhpcy5oYW5kbGVUYXNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5xdWV1ZS50YXNrSGFuZGxlciA9IHRoaXMuaGFuZGxlVGFzaztcbiAgfVxuXG4gIGhhbmRsZVRhc2soZGF0YSwgbmV4dCkge1xuICAgIGNvbnN0IHsgY2hhbm5lbCB9ID0gZGF0YTtcbiAgICBjb25zdCB7IGVudmVsb3BlIH0gPSBkYXRhLnBhcnNlZE1lc3NhZ2U7XG4gICAgY29uc3QgeyBoZWFkZXIgfSA9IGRhdGEucGFyc2VkTWVzc2FnZS5jb3JlO1xuICAgIGNvbnN0IHsgYm9keSB9ID0gZGF0YS5wYXJzZWRNZXNzYWdlLmNvcmU7XG4gICAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGhlYWRlcjtcbiAgICBjb25zdCBldmVudE5hbWUgPSBoZWFkZXIubmFtZTtcbiAgICBjb25zdCBpc0FzeW5jID0gdGhpcy5hc3luY01lc3NhZ2VzLmluY2x1ZGVzKGNoYW5uZWwpXG4gICAgICB8fCB0aGlzLmFzeW5jTWVzc2FnZXMuaW5jbHVkZXMoZXZlbnROYW1lKTtcblxuICAgIGNvbnN0IGJlZ2luSGFuZGxlVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG5cbiAgICBjaGVjayhldmVudE5hbWUsIFN0cmluZyk7XG4gICAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICAgIGNvbnN0IGNhbGxOZXh0ID0gKCkgPT4ge1xuICAgICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMucmVkaXNEZWJ1Z0VuYWJsZWQpIHtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKGBSZWRpczogJHtldmVudE5hbWV9IGNvbXBsZXRlZCAke2lzQXN5bmMgPyAnYXN5bmMnIDogJ3N5bmMnfWApO1xuICAgICAgfVxuICAgICAgY2FsbGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKHF1ZXVlTWV0cmljcykge1xuICAgICAgICBjb25zdCBxdWV1ZUlkID0gbWVldGluZ0lkIHx8IE5PX01FRVRJTkdfSUQ7XG4gICAgICAgIGNvbnN0IGRhdGFMZW5ndGggPSBKU09OLnN0cmluZ2lmeShkYXRhKS5sZW5ndGg7XG5cbiAgICAgICAgTWV0cmljcy5wcm9jZXNzRXZlbnQocXVldWVJZCwgZXZlbnROYW1lLCBkYXRhTGVuZ3RoLCBiZWdpbkhhbmRsZVRpbWVzdGFtcCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHF1ZXVlTGVuZ3RoID0gdGhpcy5xdWV1ZS5sZW5ndGgoKTtcbiAgICAgIGlmIChxdWV1ZUxlbmd0aCA+IDEwMCkge1xuICAgICAgICBMb2dnZXIud2FybihgUmVkaXM6IE1lZXRpbmdNZXNzYWdlUXVldWUgZm9yIG1lZXRpbmdJZD0ke21lZXRpbmdJZH0gaGFzIHF1ZXVlIHNpemU9JHtxdWV1ZUxlbmd0aH0gYCk7XG4gICAgICB9XG4gICAgICBuZXh0KCk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9uRXJyb3IgPSAocmVhc29uKSA9PiB7XG4gICAgICBMb2dnZXIuZXJyb3IoYCR7ZXZlbnROYW1lfTogJHtyZWFzb24uc3RhY2sgPyByZWFzb24uc3RhY2sgOiByZWFzb259YCk7XG4gICAgICBjYWxsTmV4dCgpO1xuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgaWYgKHRoaXMucmVkaXNEZWJ1Z0VuYWJsZWQpIHtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKGBSZWRpczogJHtKU09OLnN0cmluZ2lmeShkYXRhLnBhcnNlZE1lc3NhZ2UuY29yZSl9IGVtaXR0ZWRgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQXN5bmMpIHtcbiAgICAgICAgY2FsbE5leHQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5lbWl0dGVyXG4gICAgICAgIC5lbWl0QXN5bmMoZXZlbnROYW1lLCB7IGVudmVsb3BlLCBoZWFkZXIsIGJvZHkgfSwgbWVldGluZ0lkKVxuICAgICAgICAudGhlbihjYWxsTmV4dClcbiAgICAgICAgLmNhdGNoKG9uRXJyb3IpO1xuICAgIH0gY2F0Y2ggKHJlYXNvbikge1xuICAgICAgb25FcnJvcihyZWFzb24pO1xuICAgIH1cbiAgfVxuXG4gIGFkZCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMucXVldWUuYWRkKC4uLmFyZ3MpO1xuICB9XG59XG5cbmNsYXNzIFJlZGlzUHViU3ViIHtcbiAgc3RhdGljIGhhbmRsZVB1Ymxpc2hFcnJvcihlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihjb25maWcgPSB7fSkge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuXG4gICAgdGhpcy5kaWRTZW5kUmVxdWVzdEV2ZW50ID0gZmFsc2U7XG4gICAgY29uc3QgaG9zdCA9IHByb2Nlc3MuZW52LlJFRElTX0hPU1QgfHwgTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXMuaG9zdDtcbiAgICBjb25zdCByZWRpc0NvbmYgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgICBjb25zdCB7IHBhc3N3b3JkLCBwb3J0IH0gPSByZWRpc0NvbmY7XG5cbiAgICBpZiAocGFzc3dvcmQpIHtcbiAgICAgIHRoaXMucHViID0gUmVkaXMuY3JlYXRlQ2xpZW50KHsgaG9zdCwgcG9ydCwgcGFzc3dvcmQgfSk7XG4gICAgICB0aGlzLnN1YiA9IFJlZGlzLmNyZWF0ZUNsaWVudCh7IGhvc3QsIHBvcnQsIHBhc3N3b3JkIH0pO1xuICAgICAgdGhpcy5wdWIuYXV0aChwYXNzd29yZCk7XG4gICAgICB0aGlzLnN1Yi5hdXRoKHBhc3N3b3JkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdWIgPSBSZWRpcy5jcmVhdGVDbGllbnQoeyBob3N0LCBwb3J0IH0pO1xuICAgICAgdGhpcy5zdWIgPSBSZWRpcy5jcmVhdGVDbGllbnQoeyBob3N0LCBwb3J0IH0pO1xuICAgIH1cblxuICAgIGlmIChxdWV1ZU1ldHJpY3MpIHtcbiAgICAgIE1ldHJpY3Muc3RhcnREdW1wRmlsZSgpO1xuICAgIH1cblxuICAgIHRoaXMuZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIyKCk7XG4gICAgdGhpcy5tZXR0aW5nc1F1ZXVlcyA9IHt9O1xuXG4gICAgdGhpcy5oYW5kbGVTdWJzY3JpYmUgPSB0aGlzLmhhbmRsZVN1YnNjcmliZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlTWVzc2FnZSA9IHRoaXMuaGFuZGxlTWVzc2FnZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnN1Yi5vbigncHN1YnNjcmliZScsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQodGhpcy5oYW5kbGVTdWJzY3JpYmUpKTtcbiAgICB0aGlzLnN1Yi5vbigncG1lc3NhZ2UnLCBNZXRlb3IuYmluZEVudmlyb25tZW50KHRoaXMuaGFuZGxlTWVzc2FnZSkpO1xuXG4gICAgY29uc3QgY2hhbm5lbHNUb1N1YnNjcmliZSA9IHRoaXMuY29uZmlnLnN1YnNjcmliZVRvO1xuXG4gICAgY2hhbm5lbHNUb1N1YnNjcmliZS5mb3JFYWNoKChjaGFubmVsKSA9PiB7XG4gICAgICB0aGlzLnN1Yi5wc3Vic2NyaWJlKGNoYW5uZWwpO1xuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMucmVkaXNEZWJ1Z0VuYWJsZWQpIHtcbiAgICAgIExvZ2dlci5kZWJ1ZyhgUmVkaXM6IFN1YnNjcmliZWQgdG8gJyR7Y2hhbm5lbHNUb1N1YnNjcmliZX0nYCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQ29uZmlnKGNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jb25maWcsIGNvbmZpZyk7XG4gICAgdGhpcy5yZWRpc0RlYnVnRW5hYmxlZCA9IHRoaXMuY29uZmlnLmRlYnVnO1xuICB9XG5cblxuICAvLyBUT0RPOiBNb3ZlIHRoaXMgb3V0IG9mIHRoaXMgY2xhc3MsIG1heWJlIHBhc3MgYXMgYSBjYWxsYmFjayB0byBpbml0P1xuICBoYW5kbGVTdWJzY3JpYmUoKSB7XG4gICAgaWYgKHRoaXMuZGlkU2VuZFJlcXVlc3RFdmVudCkgcmV0dXJuO1xuXG4gICAgLy8gcG9wdWxhdGUgY29sbGVjdGlvbnMgd2l0aCBwcmUtZXhpc3RpbmcgZGF0YVxuICAgIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICAgIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgICBjb25zdCBFVkVOVF9OQU1FID0gJ0dldEFsbE1lZXRpbmdzUmVxTXNnJztcblxuICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICByZXF1ZXN0ZXJJZDogJ25vZGVKU2FwcCcsXG4gICAgfTtcblxuICAgIHRoaXMucHVibGlzaFN5c3RlbU1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgYm9keSk7XG4gICAgdGhpcy5kaWRTZW5kUmVxdWVzdEV2ZW50ID0gdHJ1ZTtcbiAgfVxuXG4gIGhhbmRsZU1lc3NhZ2UocGF0dGVybiwgY2hhbm5lbCwgbWVzc2FnZSkge1xuICAgIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBKU09OLnBhcnNlKG1lc3NhZ2UpO1xuICAgIGNvbnN0IHsgbmFtZTogZXZlbnROYW1lLCBtZWV0aW5nSWQgfSA9IHBhcnNlZE1lc3NhZ2UuY29yZS5oZWFkZXI7XG4gICAgY29uc3QgeyBpZ25vcmVkOiBpZ25vcmVkTWVzc2FnZXMsIGFzeW5jIH0gPSB0aGlzLmNvbmZpZztcblxuICAgIGlmIChpZ25vcmVkTWVzc2FnZXMuaW5jbHVkZXMoY2hhbm5lbClcbiAgICAgIHx8IGlnbm9yZWRNZXNzYWdlcy5pbmNsdWRlcyhldmVudE5hbWUpKSB7XG4gICAgICBpZiAoZXZlbnROYW1lID09PSAnQ2hlY2tBbGl2ZVBvbmdTeXNNc2cnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJlZGlzRGVidWdFbmFibGVkKSB7XG4gICAgICAgIExvZ2dlci5kZWJ1ZyhgUmVkaXM6ICR7ZXZlbnROYW1lfSBza2lwcGVkYCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcXVldWVJZCA9IG1lZXRpbmdJZCB8fCBOT19NRUVUSU5HX0lEO1xuXG4gICAgaWYgKHF1ZXVlTWV0cmljcykge1xuICAgICAgTWV0cmljcy5hZGRFdmVudChxdWV1ZUlkLCBldmVudE5hbWUsIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBpZiAoIShxdWV1ZUlkIGluIHRoaXMubWV0dGluZ3NRdWV1ZXMpKSB7XG4gICAgICB0aGlzLm1ldHRpbmdzUXVldWVzW21lZXRpbmdJZF0gPSBuZXcgTWVldGluZ01lc3NhZ2VRdWV1ZSh0aGlzLmVtaXR0ZXIsIGFzeW5jLCB0aGlzLnJlZGlzRGVidWdFbmFibGVkKTtcbiAgICB9XG5cbiAgICB0aGlzLm1ldHRpbmdzUXVldWVzW21lZXRpbmdJZF0uYWRkKHtcbiAgICAgIHBhdHRlcm4sXG4gICAgICBjaGFubmVsLFxuICAgICAgZXZlbnROYW1lLFxuICAgICAgcGFyc2VkTWVzc2FnZSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlc3Ryb3lNZWV0aW5nUXVldWUoaWQpIHtcbiAgICBkZWxldGUgdGhpcy5tZXR0aW5nc1F1ZXVlc1tpZF07XG4gIH1cblxuICBvbiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuZW1pdHRlci5vbiguLi5hcmdzKTtcbiAgfVxuXG4gIHB1Ymxpc2hWb2ljZU1lc3NhZ2UoY2hhbm5lbCwgZXZlbnROYW1lLCB2b2ljZUNvbmYsIHBheWxvYWQpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB7XG4gICAgICBuYW1lOiBldmVudE5hbWUsXG4gICAgICB2b2ljZUNvbmYsXG4gICAgfTtcblxuICAgIGNvbnN0IGVudmVsb3BlID0gbWFrZUVudmVsb3BlKGNoYW5uZWwsIGV2ZW50TmFtZSwgaGVhZGVyLCBwYXlsb2FkKTtcblxuICAgIHJldHVybiB0aGlzLnB1Yi5wdWJsaXNoKGNoYW5uZWwsIGVudmVsb3BlLCBSZWRpc1B1YlN1Yi5oYW5kbGVQdWJsaXNoRXJyb3IpO1xuICB9XG5cbiAgcHVibGlzaFN5c3RlbU1lc3NhZ2UoY2hhbm5lbCwgZXZlbnROYW1lLCBwYXlsb2FkKSB7XG4gICAgY29uc3QgaGVhZGVyID0ge1xuICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgIH07XG5cbiAgICBjb25zdCBlbnZlbG9wZSA9IG1ha2VFbnZlbG9wZShjaGFubmVsLCBldmVudE5hbWUsIGhlYWRlciwgcGF5bG9hZCk7XG5cbiAgICByZXR1cm4gdGhpcy5wdWIucHVibGlzaChjaGFubmVsLCBlbnZlbG9wZSwgUmVkaXNQdWJTdWIuaGFuZGxlUHVibGlzaEVycm9yKTtcbiAgfVxuXG4gIHB1Ymxpc2hNZWV0aW5nTWVzc2FnZShjaGFubmVsLCBldmVudE5hbWUsIG1lZXRpbmdJZCwgcGF5bG9hZCkge1xuICAgIGNvbnN0IGhlYWRlciA9IHtcbiAgICAgIG5hbWU6IGV2ZW50TmFtZSxcbiAgICAgIG1lZXRpbmdJZCxcbiAgICB9O1xuXG4gICAgY29uc3QgZW52ZWxvcGUgPSBtYWtlRW52ZWxvcGUoY2hhbm5lbCwgZXZlbnROYW1lLCBoZWFkZXIsIHBheWxvYWQpO1xuXG4gICAgcmV0dXJuIHRoaXMucHViLnB1Ymxpc2goY2hhbm5lbCwgZW52ZWxvcGUsIFJlZGlzUHViU3ViLmhhbmRsZVB1Ymxpc2hFcnJvcik7XG4gIH1cblxuICBwdWJsaXNoVXNlck1lc3NhZ2UoY2hhbm5lbCwgZXZlbnROYW1lLCBtZWV0aW5nSWQsIHVzZXJJZCwgcGF5bG9hZCkge1xuICAgIGNvbnN0IGhlYWRlciA9IHtcbiAgICAgIG5hbWU6IGV2ZW50TmFtZSxcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHVzZXJJZCxcbiAgICB9O1xuXG4gICAgaWYgKCFtZWV0aW5nSWQgfHwgIXVzZXJJZCkge1xuICAgICAgTG9nZ2VyLndhcm4oYFB1Ymxpc2hpbmcgJHtldmVudE5hbWV9IHdpdGggcG90ZW50aWFsbHkgbWlzc2luZyBkYXRhIHVzZXJJZD0ke3VzZXJJZH0gbWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgICBjb25zdCBlbnZlbG9wZSA9IG1ha2VFbnZlbG9wZShjaGFubmVsLCBldmVudE5hbWUsIGhlYWRlciwgcGF5bG9hZCwgeyBtZWV0aW5nSWQsIHVzZXJJZCB9KTtcblxuICAgIHJldHVybiB0aGlzLnB1Yi5wdWJsaXNoKGNoYW5uZWwsIGVudmVsb3BlLCBSZWRpc1B1YlN1Yi5oYW5kbGVQdWJsaXNoRXJyb3IpO1xuICB9XG59XG5cbmNvbnN0IFJlZGlzUHViU3ViU2luZ2xldG9uID0gbmV3IFJlZGlzUHViU3ViKCk7XG5cbk1ldGVvci5zdGFydHVwKCgpID0+IHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG5cbiAgUmVkaXNQdWJTdWJTaW5nbGV0b24udXBkYXRlQ29uZmlnKFJFRElTX0NPTkZJRyk7XG4gIFJlZGlzUHViU3ViU2luZ2xldG9uLmluaXQoKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBSZWRpc1B1YlN1YlNpbmdsZXRvbjtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBZQU1MIGZyb20gJ3lhbWwnO1xuXG5jb25zdCBZQU1MX0ZJTEVfUEFUSCA9ICdhc3NldHMvYXBwL2NvbmZpZy9zZXR0aW5ncy55bWwnO1xuXG50cnkge1xuICBpZiAoZnMuZXhpc3RzU3luYyhZQU1MX0ZJTEVfUEFUSCkpIHtcbiAgICBjb25zdCBTRVRUSU5HUyA9IFlBTUwucGFyc2UoZnMucmVhZEZpbGVTeW5jKFlBTUxfRklMRV9QQVRILCAndXRmLTgnKSk7XG5cbiAgICBNZXRlb3Iuc2V0dGluZ3MgPSBTRVRUSU5HUztcbiAgICBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlBVQkxJQ19TRVRUSU5HUyA9IFNFVFRJTkdTLnB1YmxpYztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpbGUgZG9lc25cXCd0IGV4aXN0cycpO1xuICB9XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLmVycm9yKCdFcnJvciBvbiBsb2FkIGNvbmZpZ3VyYXRpb24gZmlsZS4nLCBlcnJvcik7XG59XG4iLCIvLyBVc2VkIGluIEZsYXNoIGFuZCBIVE1MIHRvIHNob3cgYSBsZWdpdGltYXRlIGJyZWFrIGluIHRoZSBsaW5lXG5jb25zdCBCUkVBS19MSU5FID0gJzxici8+JztcblxuLy8gU29mdCByZXR1cm4gaW4gSFRNTCB0byBzaWduaWZ5IGEgYnJva2VuIGxpbmUgd2l0aG91dFxuLy8gZGlzcGxheWluZyB0aGUgZXNjYXBlZCAnPGJyLz4nIGxpbmUgYnJlYWsgdGV4dFxuY29uc3QgQ0FSUklBR0VfUkVUVVJOID0gJ1xccic7XG5cbi8vIEhhbmRsZSB0aGlzIHRoZSBzYW1lIGFzIGNhcnJpYWdlIHJldHVybiwgaW4gY2FzZSB0ZXh0IGNvcGllZCBoYXMgdGhpc1xuY29uc3QgTkVXX0xJTkUgPSAnXFxuJztcblxuZXhwb3J0IHsgQlJFQUtfTElORSwgQ0FSUklBR0VfUkVUVVJOLCBORVdfTElORSB9O1xuIiwiZXhwb3J0IGNvbnN0IFhMUyA9ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnO1xuZXhwb3J0IGNvbnN0IFhMU1ggPSAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnO1xuZXhwb3J0IGNvbnN0IERPQyA9ICdhcHBsaWNhdGlvbi9tc3dvcmQnO1xuZXhwb3J0IGNvbnN0IERPQ1ggPSAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnO1xuZXhwb3J0IGNvbnN0IFBQVCA9ICdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludCc7XG5leHBvcnQgY29uc3QgUFBUWCA9ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwucHJlc2VudGF0aW9uJztcbmV4cG9ydCBjb25zdCBPRFQgPSAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC50ZXh0JztcbmV4cG9ydCBjb25zdCBSVEYgPSAnYXBwbGljYXRpb24vcnRmJztcbmV4cG9ydCBjb25zdCBUWFQgPSAndGV4dC9wbGFpbic7XG5leHBvcnQgY29uc3QgT0RTID0gJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXQnO1xuZXhwb3J0IGNvbnN0IE9EUCA9ICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnByZXNlbnRhdGlvbic7XG5leHBvcnQgY29uc3QgUERGID0gJ2FwcGxpY2F0aW9uL3BkZic7XG5leHBvcnQgY29uc3QgSlBFRyA9ICdpbWFnZS9qcGVnJztcbmV4cG9ydCBjb25zdCBQTkcgPSAnaW1hZ2UvcG5nJztcbmV4cG9ydCBjb25zdCBTVkcgPSAnaW1hZ2Uvc3ZnK3htbCc7XG5cbmV4cG9ydCBjb25zdCBVUExPQURfU1VQT1JURUQgPSBbXG4gIFhMUyxcbiAgWExTWCxcbiAgRE9DLFxuICBET0NYLFxuICBQUFQsXG4gIFBQVFgsXG4gIE9EVCxcbiAgUlRGLFxuICBUWFQsXG4gIE9EUyxcbiAgT0RQLFxuICBQREYsXG4gIEpQRUcsXG4gIFBORyxcbl07XG4iLCIvL1xuLy8gUmVndWxhciBFeHByZXNzaW9uIGZvciBVUkwgdmFsaWRhdGlvblxuLy9cbi8vIEF1dGhvcjogRGllZ28gUGVyaW5pXG4vLyBVcGRhdGVkOiAyMDEwLzEyLzA1XG4vLyBMaWNlbnNlOiBNSVRcbi8vXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMyBEaWVnbyBQZXJpbmkgKGh0dHA6Ly93d3cuaXBvcnQuaXQpXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb25cbi8vIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uXG4vLyBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXRcbi8vIHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLFxuLy8gY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZVxuLy8gU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmdcbi8vIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbi8vIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsXG4vLyBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVNcbi8vIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EXG4vLyBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVFxuLy8gSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksXG4vLyBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkdcbi8vIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1Jcbi8vIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbi8vXG4vLyB0aGUgcmVndWxhciBleHByZXNzaW9uIGNvbXBvc2VkICYgY29tbWVudGVkXG4vLyBjb3VsZCBiZSBlYXNpbHkgdHdlYWtlZCBmb3IgUkZDIGNvbXBsaWFuY2UsXG4vLyBpdCB3YXMgZXhwcmVzc2x5IG1vZGlmaWVkIHRvIGZpdCAmIHNhdGlzZnlcbi8vIHRoZXNlIHRlc3QgZm9yIGFuIFVSTCBzaG9ydGVuZXI6XG4vL1xuLy8gICBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleFxuLy9cbi8vIE5vdGVzIG9uIHBvc3NpYmxlIGRpZmZlcmVuY2VzIGZyb20gYSBzdGFuZGFyZC9nZW5lcmljIHZhbGlkYXRpb246XG4vL1xuLy8gLSB1dGYtOCBjaGFyIGNsYXNzIHRha2UgaW4gY29uc2lkZXJhdGlvbiB0aGUgZnVsbCBVbmljb2RlIHJhbmdlXG4vLyAtIFRMRHMgaGF2ZSBiZWVuIG1hZGUgbWFuZGF0b3J5IHNvIHNpbmdsZSBuYW1lcyBsaWtlIFwibG9jYWxob3N0XCIgZmFpbHNcbi8vIC0gcHJvdG9jb2xzIGhhdmUgYmVlbiByZXN0cmljdGVkIHRvIGZ0cCwgaHR0cCBhbmQgaHR0cHMgb25seSBhcyByZXF1ZXN0ZWRcbi8vXG4vLyBDaGFuZ2VzOlxuLy9cbi8vIC0gSVAgYWRkcmVzcyBkb3R0ZWQgbm90YXRpb24gdmFsaWRhdGlvbiwgcmFuZ2U6IDEuMC4wLjAgLSAyMjMuMjU1LjI1NS4yNTVcbi8vICAgZmlyc3QgYW5kIGxhc3QgSVAgYWRkcmVzcyBvZiBlYWNoIGNsYXNzIGlzIGNvbnNpZGVyZWQgaW52YWxpZFxuLy8gICAoc2luY2UgdGhleSBhcmUgYnJvYWRjYXN0L25ldHdvcmsgYWRkcmVzc2VzKVxuLy9cbi8vIC0gQWRkZWQgZXhjbHVzaW9uIG9mIHByaXZhdGUsIHJlc2VydmVkIGFuZC9vciBsb2NhbCBuZXR3b3JrcyByYW5nZXNcbi8vXG4vLyAtIE1hZGUgc3RhcnRpbmcgcGF0aCBzbGFzaCBvcHRpb25hbCAoaHR0cDovL2V4YW1wbGUuY29tP2Zvbz1iYXIpXG4vL1xuLy8gLSBBbGxvdyBhIGRvdCAoLikgYXQgdGhlIGVuZCBvZiBob3N0bmFtZXMgKGh0dHA6Ly9leGFtcGxlLmNvbS4pXG4vL1xuLy8gQ29tcHJlc3NlZCBvbmUtbGluZSB2ZXJzaW9uczpcbi8vXG4vLyBKYXZhc2NyaXB0IHZlcnNpb24gKG1lcmdlIGludG8gb25lIGxpbmUpXG4vL1xuLy8gL14oPzooPzpodHRwcz98ZnRwKTpcXC9cXC8pKD86XFxTKyg/OjpcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XFwuXFxkezEsM30pezN9KVxuLy8gKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKSg/OlxcLlxcZHsxLDN9KXsyfSlcbi8vICg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9XG4vLyAoPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldLSopKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKylcbi8vICg/OlxcLig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldLSopKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykqKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZl17Mix9KSlcXC4/KVxuLy8gKD86OlxcZHsyLDV9KT8oPzpbLz8jXVxcUyopPyQvaVxuLy9cbi8vIFBIUCB2ZXJzaW9uIChtZXJnZSBpbnRvIG9uZSBsaW5lKVxuLy9cbi8vIF9eKD86KD86aHR0cHM/fGZ0cCk6Ly8pKD86XFxTKyg/OjpcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpXG4vLyAoPzpcXC5cXGR7MSwzfSl7M30pKD8hKD86MTY5XFwuMjU0fDE5MlxcLjE2OCkoPzpcXC5cXGR7MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJcXGR8M1swLTFdKVxuLy8gKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpXG4vLyB7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXHh7MDBhMX0tXFx4e2ZmZmZ9MC05XS0qKVxuLy8gKlthLXpcXHh7MDBhMX0tXFx4e2ZmZmZ9MC05XSspKD86XFwuKD86W2EtelxceHswMGExfS1cXHh7ZmZmZn0wLTldLSopKlthLXpcXHh7MDBhMX0tXFx4e2ZmZmZ9MC05XSspXG4vLyAqKD86XFwuKD86W2EtelxceHswMGExfS1cXHh7ZmZmZn1dezIsfSkpXFwuPykoPzo6XFxkezIsNX0pPyg/OlsvPyNdXFxTKik/JF9pdVNcbi8vXG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBSZWdFeHAoXG5cbiAgLy8gcHJvdG9jb2wgaWRlbnRpZmllclxuICAnKD86KD86aHR0cHM/fGZ0cCk6Ly8pJyArXG5cbiAgLy8gdXNlcjpwYXNzIGF1dGhlbnRpY2F0aW9uXG4gICcoPzpcXFxcUysoPzo6XFxcXFMqKT9AKT8nICtcbiAgJyg/OicgK1xuXG4gICAgLy8gSVAgYWRkcmVzcyBleGNsdXNpb25cbiAgICAvLyBwcml2YXRlICYgbG9jYWwgbmV0d29ya3NcbiAgICAnKD8hKD86MTB8MTI3KSg/OlxcXFwuXFxcXGR7MSwzfSl7M30pJyArXG4gICAgJyg/ISg/OjE2OVxcXFwuMjU0fDE5MlxcXFwuMTY4KSg/OlxcXFwuXFxcXGR7MSwzfSl7Mn0pJyArXG4gICAgJyg/ITE3MlxcXFwuKD86MVs2LTldfDJcXFxcZHwzWzAtMV0pKD86XFxcXC5cXFxcZHsxLDN9KXsyfSknICtcblxuICAgIC8vIElQIGFkZHJlc3MgZG90dGVkIG5vdGF0aW9uIG9jdGV0c1xuICAgIC8vIGV4Y2x1ZGVzIGxvb3BiYWNrIG5ldHdvcmsgMC4wLjAuMFxuICAgIC8vIGV4Y2x1ZGVzIHJlc2VydmVkIHNwYWNlID49IDIyNC4wLjAuMFxuICAgIC8vIGV4Y2x1ZGVzIG5ldHdvcmsgJiBicm9hY2FzdCBhZGRyZXNzZXNcbiAgICAvLyAoZmlyc3QgJiBsYXN0IElQIGFkZHJlc3Mgb2YgZWFjaCBjbGFzcylcbiAgICAnKD86WzEtOV1cXFxcZD98MVxcXFxkXFxcXGR8MlswMV1cXFxcZHwyMlswLTNdKScgK1xuICAgICcoPzpcXFxcLig/OjE/XFxcXGR7MSwyfXwyWzAtNF1cXFxcZHwyNVswLTVdKSl7Mn0nICtcbiAgICAnKD86XFxcXC4oPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAtNF1cXFxcZHwyNVswLTRdKSknICtcbiAgJ3wnICtcblxuICAgIC8vIGhvc3QgbmFtZVxuICAgICcoPzooPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0tKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKyknICtcblxuICAgIC8vIGRvbWFpbiBuYW1lXG4gICAgJyg/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldLSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKicgK1xuXG4gICAgLy8gVExEIGlkZW50aWZpZXJcbiAgICAnKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZl17Mix9KSknICtcblxuICAgIC8vIFRMRCBtYXkgZW5kIHdpdGggZG90XG4gICAgJ1xcXFwuPycgK1xuICAnKScgK1xuXG4gIC8vIHBvcnQgbnVtYmVyXG4gICcoPzo6XFxcXGR7Miw1fSk/JyArXG5cbiAgLy8gcmVzb3VyY2UgcGF0aFxuICAnKD86Wy8/I11cXFxcUyopPycsICdpbWcnLFxuKTtcbiIsImltcG9ydCAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXInO1xuXG4vLyAyeFxuaW1wb3J0ICcvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbi9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3BpbmctcG9uZy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3Mvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL3NlcnZlcic7XG5cbi8vIENvbW1vbnNcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2xvZy1jbGllbnQvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbi8vIE5lZWRlZCBmb3IgQXRtb3NwaGVyZSBwYWNrYWdlIFJvY2tldENoYXQvbWV0ZW9yLXN0cmVhbWVyXG4vLyBJdCBpcyBvdXQgb2YgZGF0ZSBhbmQgd2FzIHdyaXR0ZW4gd2hlbiBNZXRlb3IgY29udGFpbmVkIGxvZGFzaFxuLy8gcGFja2FnZS4gSG93ZXZlciwgd2Ugbm93IGltcG9ydCBsb2Rhc2ggYXMgYW4gbnBtIHBhY2thZ2Vcbi8vIGluIG9yZGVyIHRvIGNvbnRyb2wgdmVyc2lvbnMsIHVwZGF0ZSBmbGV4aWJseSwgZXRjLi5cbi8vIFNldHRpbmcgdGhlIGdsb2JhbC5fIHRvIHV0aWxpemUgdGhlIG5wbSBsb2Rhc2ggcGFja2FnZSBpcyBhbiBpbnRlcmltIGZpeFxuLy8gYW5kIGl0cyBpbnRyb2R1Y3Rpb24gd2FzIGluc3BpcmVkIGJ5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vUm9ja2V0Q2hhdC9tZXRlb3Itc3RyZWFtZXIvaXNzdWVzLzQwI2lzc3VlY29tbWVudC00OTc2Mjc4OTNcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cbmdsb2JhbC5fID0gXztcbiJdfQ==
