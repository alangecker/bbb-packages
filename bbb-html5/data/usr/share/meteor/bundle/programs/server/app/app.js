var require = meteorInstall({"imports":{"api":{"annotations":{"server":{"handlers":{"whiteboardAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardAnnotations.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardAnnotations
});

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let modifyWhiteboardAccess;
module.link("/imports/api/whiteboard-multi-user/server/modifiers/modifyWhiteboardAccess", {
  default(v) {
    modifyWhiteboardAccess = v;
  }

}, 2);
let clearAnnotations;
module.link("../modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 3);
let addAnnotation;
module.link("../modifiers/addAnnotation", {
  default(v) {
    addAnnotation = v;
  }

}, 4);

function handleWhiteboardAnnotations({
  header,
  body
}, meetingId) {
  check(header, Object);

  if (header.userId !== 'nodeJSapp') {
    return false;
  }

  check(meetingId, String);
  check(body, Object);
  const {
    annotations,
    whiteboardId,
    multiUser
  } = body;
  check(annotations, Array);
  check(whiteboardId, String);
  check(multiUser, Boolean);
  clearAnnotations(meetingId, whiteboardId);
  const annotationsAdded = [];

  _.each(annotations, annotation => {
    const {
      wbId,
      userId
    } = annotation;
    annotationsAdded.push(addAnnotation(meetingId, wbId, userId, annotation));
  });

  modifyWhiteboardAccess(meetingId, whiteboardId, multiUser);
  return annotationsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardCleared.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardCleared.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardCleared
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let clearAnnotations;
module.link("../modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 2);

function handleWhiteboardCleared({
  body
}, meetingId) {
  check(body, {
    userId: String,
    whiteboardId: String,
    fullClear: Boolean
  });
  const {
    whiteboardId,
    fullClear,
    userId
  } = body;

  if (fullClear) {
    AnnotationsStreamer(meetingId).emit('removed', {
      meetingId,
      whiteboardId
    });
    return clearAnnotations(meetingId, whiteboardId);
  }

  AnnotationsStreamer(meetingId).emit('removed', {
    meetingId,
    whiteboardId,
    userId
  });
  return clearAnnotations(meetingId, whiteboardId, userId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardSend.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardSend.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardSend
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let addAnnotation;
module.link("../modifiers/addAnnotation", {
  default(v) {
    addAnnotation = v;
  }

}, 2);
const ANNOTATION_PROCCESS_INTERVAL = 60;
let annotationsQueue = {};
let annotationsRecieverIsRunning = false;

const proccess = () => {
  if (!Object.keys(annotationsQueue).length) {
    annotationsRecieverIsRunning = false;
    return;
  }

  annotationsRecieverIsRunning = true;
  Object.keys(annotationsQueue).forEach(meetingId => {
    AnnotationsStreamer(meetingId).emit('added', {
      meetingId,
      annotations: annotationsQueue[meetingId]
    });
  });
  annotationsQueue = {};
  Meteor.setTimeout(proccess, ANNOTATION_PROCCESS_INTERVAL);
};

function handleWhiteboardSend({
  header,
  body
}, meetingId) {
  const userId = header.userId;
  const annotation = body.annotation;
  check(userId, String);
  check(annotation, Object);
  const whiteboardId = annotation.wbId;
  check(whiteboardId, String);

  if (!annotationsQueue.hasOwnProperty(meetingId)) {
    annotationsQueue[meetingId] = [];
  }

  annotationsQueue[meetingId].push({
    meetingId,
    whiteboardId,
    userId,
    annotation
  });
  if (!annotationsRecieverIsRunning) proccess();
  return addAnnotation(meetingId, whiteboardId, userId, annotation);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"whiteboardUndo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/handlers/whiteboardUndo.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleWhiteboardUndo
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let AnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  default(v) {
    AnnotationsStreamer = v;
  }

}, 1);
let removeAnnotation;
module.link("../modifiers/removeAnnotation", {
  default(v) {
    removeAnnotation = v;
  }

}, 2);

function handleWhiteboardUndo({
  body
}, meetingId) {
  const whiteboardId = body.whiteboardId;
  const shapeId = body.annotationId;
  check(whiteboardId, String);
  check(shapeId, String);
  AnnotationsStreamer(meetingId).emit('removed', {
    meetingId,
    whiteboardId,
    shapeId
  });
  return removeAnnotation(meetingId, whiteboardId, shapeId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"clearWhiteboard.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/clearWhiteboard.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearWhiteboard
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function clearWhiteboard(whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ClearWhiteboardPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(whiteboardId, String);
  const payload = {
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendAnnotation.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendAnnotation
});
let sendAnnotationHelper;
module.link("./sendAnnotationHelper", {
  default(v) {
    sendAnnotationHelper = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);

function sendAnnotation(annotation) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  sendAnnotationHelper(annotation, meetingId, requesterUserId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendAnnotationHelper.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendAnnotationHelper.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendAnnotationHelper
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function sendAnnotationHelper(annotation, meetingId, requesterUserId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendWhiteboardAnnotationPubMsg';
  const whiteboardId = annotation.wbId;
  check(annotation, Object);
  check(whiteboardId, String);

  if (annotation.annotationType === 'text') {
    check(annotation, {
      id: String,
      status: String,
      annotationType: String,
      annotationInfo: {
        x: Number,
        y: Number,
        fontColor: Number,
        calcedFontSize: Number,
        textBoxWidth: Number,
        text: String,
        textBoxHeight: Number,
        id: String,
        whiteboardId: String,
        status: String,
        fontSize: Number,
        dataPoints: String,
        type: String
      },
      wbId: String,
      userId: String,
      position: Number
    });
  } else {
    check(annotation, {
      id: String,
      status: String,
      annotationType: String,
      annotationInfo: {
        color: Number,
        thickness: Number,
        points: Array,
        id: String,
        whiteboardId: String,
        status: String,
        type: String,
        dimensions: Match.Maybe([Number])
      },
      wbId: String,
      userId: String,
      position: Number
    });
  }

  const payload = {
    annotation
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendBulkAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/sendBulkAnnotations.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendBulkAnnotations
});
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 0);
let sendAnnotationHelper;
module.link("./sendAnnotationHelper", {
  default(v) {
    sendAnnotationHelper = v;
  }

}, 1);

function sendBulkAnnotations(payload) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  payload.forEach(annotation => sendAnnotationHelper(annotation, meetingId, requesterUserId));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"undoAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods/undoAnnotation.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => undoAnnotation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function undoAnnotation(whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UndoWhiteboardPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(whiteboardId, String);
  const payload = {
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/addAnnotation.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 2);
let addAnnotationQuery;
module.link("/imports/api/annotations/addAnnotation", {
  default(v) {
    addAnnotationQuery = v;
  }

}, 3);

function addAnnotation(meetingId, whiteboardId, userId, annotation) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(annotation, Object);
  const query = addAnnotationQuery(meetingId, whiteboardId, userId, annotation);

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding annotation to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added annotation id=${annotation.id} whiteboard=${whiteboardId}`);
    }

    return true;
  };

  return Annotations.upsert(query.selector, query.modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearAnnotations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/clearAnnotations.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearAnnotations
});
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearAnnotations(meetingId, whiteboardId, userId) {
  const selector = {};

  if (meetingId) {
    selector.meetingId = meetingId;
  }

  if (whiteboardId) {
    selector.whiteboardId = whiteboardId;
  }

  if (userId) {
    selector.userId = userId;
  }

  const cb = err => {
    if (err) {
      return Logger.error(`Removing Annotations from collection: ${err}`);
    }

    if (userId) {
      return Logger.info(`Cleared Annotations for userId=${userId} where whiteboard=${whiteboardId}`);
    }

    if (whiteboardId) {
      return Logger.info(`Cleared Annotations for whiteboard=${whiteboardId}`);
    }

    if (meetingId) {
      return Logger.info(`Cleared Annotations (${meetingId})`);
    }

    return Logger.info('Cleared Annotations (all)');
  };

  return Annotations.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/modifiers/removeAnnotation.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function removeAnnotation(meetingId, whiteboardId, shapeId) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(shapeId, String);
  const selector = {
    meetingId,
    whiteboardId,
    id: shapeId
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Removing annotation from collection: ${err}`);
    }

    return Logger.info(`Removed annotation id=${shapeId} whiteboard=${whiteboardId}`);
  };

  return Annotations.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleWhiteboardCleared;
module.link("./handlers/whiteboardCleared", {
  default(v) {
    handleWhiteboardCleared = v;
  }

}, 2);
let handleWhiteboardUndo;
module.link("./handlers/whiteboardUndo", {
  default(v) {
    handleWhiteboardUndo = v;
  }

}, 3);
let handleWhiteboardSend;
module.link("./handlers/whiteboardSend", {
  default(v) {
    handleWhiteboardSend = v;
  }

}, 4);
let handleWhiteboardAnnotations;
module.link("./handlers/whiteboardAnnotations", {
  default(v) {
    handleWhiteboardAnnotations = v;
  }

}, 5);
RedisPubSub.on('ClearWhiteboardEvtMsg', handleWhiteboardCleared);
RedisPubSub.on('UndoWhiteboardEvtMsg', handleWhiteboardUndo);
RedisPubSub.on('SendWhiteboardAnnotationEvtMsg', handleWhiteboardSend);
RedisPubSub.on('GetWhiteboardAnnotationsRespMsg', processForHTML5ServerOnly(handleWhiteboardAnnotations));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let undoAnnotation;
module.link("./methods/undoAnnotation", {
  default(v) {
    undoAnnotation = v;
  }

}, 1);
let clearWhiteboard;
module.link("./methods/clearWhiteboard", {
  default(v) {
    clearWhiteboard = v;
  }

}, 2);
let sendAnnotation;
module.link("./methods/sendAnnotation", {
  default(v) {
    sendAnnotation = v;
  }

}, 3);
let sendBulkAnnotations;
module.link("./methods/sendBulkAnnotations", {
  default(v) {
    sendBulkAnnotations = v;
  }

}, 4);
Meteor.methods({
  undoAnnotation,
  clearWhiteboard,
  sendAnnotation,
  sendBulkAnnotations
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Annotations;
module.link("/imports/api/annotations", {
  default(v) {
    Annotations = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function annotations() {
  if (!this.userId) {
    return Annotations.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Annotations for ${meetingId} ${requesterUserId}`);
  return Annotations.find({
    meetingId
  });
}

function publish(...args) {
  const boundAnnotations = annotations.bind(this);
  return boundAnnotations(...args);
}

Meteor.publish('annotations', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"streamer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/server/streamer.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  removeAnnotationsStreamer: () => removeAnnotationsStreamer,
  addAnnotationsStreamer: () => addAnnotationsStreamer,
  default: () => get
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

function removeAnnotationsStreamer(meetingId) {
  Logger.info(`Removing Annotations streamer object for meeting ${meetingId}`);
  delete Meteor.StreamerCentral.instances[`annotations-${meetingId}`];
}

function addAnnotationsStreamer(meetingId) {
  const streamer = new Meteor.Streamer(`annotations-${meetingId}`, {
    retransmit: false
  });
  streamer.allowRead(function allowRead() {
    if (!this.userId) return false;
    return this.userId && this.userId.includes(meetingId);
  });
  streamer.allowWrite(function allowWrite() {
    return false;
  });
}

function get(meetingId) {
  return Meteor.StreamerCentral.instances[`annotations-${meetingId}`];
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"addAnnotation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/addAnnotation.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addAnnotation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
const ANNOTATION_TYPE_TEXT = 'text';
const ANNOTATION_TYPE_PENCIL = 'pencil';
const DEFAULT_TEXT_WIDTH = 30;
const DEFAULT_TEXT_HEIGHT = 20; // line, triangle, ellipse, rectangle

function handleCommonAnnotation(meetingId, whiteboardId, userId, annotation) {
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const selector = {
    meetingId,
    id,
    userId
  };
  const modifier = {
    $set: {
      whiteboardId,
      meetingId,
      id,
      status,
      annotationType,
      annotationInfo,
      wbId
    },
    $setOnInsert: {
      position
    },
    $inc: {
      version: 1
    }
  };
  return {
    selector,
    modifier
  };
}

function handleTextUpdate(meetingId, whiteboardId, userId, annotation) {
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const {
    textBoxWidth,
    textBoxHeight,
    calcedFontSize
  } = annotationInfo;
  const useDefaultSize = textBoxWidth === 0 && textBoxHeight === 0 || textBoxWidth < calcedFontSize || textBoxHeight < calcedFontSize;

  if (useDefaultSize) {
    annotationInfo.textBoxWidth = DEFAULT_TEXT_WIDTH;
    annotationInfo.textBoxHeight = DEFAULT_TEXT_HEIGHT;

    if (100 - annotationInfo.x < DEFAULT_TEXT_WIDTH) {
      annotationInfo.textBoxWidth = 100 - annotationInfo.x;
    }

    if (100 - annotationInfo.y < DEFAULT_TEXT_HEIGHT) {
      annotationInfo.textBoxHeight = 100 - annotationInfo.y;
    }
  }

  const selector = {
    meetingId,
    id,
    userId
  };
  annotationInfo.text = annotationInfo.text.replace(/[\r]/g, '\n');
  const modifier = {
    $set: {
      whiteboardId,
      meetingId,
      id,
      status,
      annotationType,
      annotationInfo,
      wbId
    },
    $setOnInsert: {
      position
    },
    $inc: {
      version: 1
    }
  };
  return {
    selector,
    modifier
  };
}

function handlePencilUpdate(meetingId, whiteboardId, userId, annotation) {
  const DRAW_START = 'DRAW_START';
  const DRAW_UPDATE = 'DRAW_UPDATE';
  const DRAW_END = 'DRAW_END';
  const {
    id,
    status,
    annotationType,
    annotationInfo,
    wbId,
    position
  } = annotation;
  const baseSelector = {
    meetingId,
    id,
    userId,
    whiteboardId
  };
  let baseModifier;

  switch (status) {
    case DRAW_START:
      // on start we split the points
      // create the 'pencil_base'
      // TODO: find and removed unused props (chunks, version, etc)
      baseModifier = {
        $set: {
          id,
          userId,
          meetingId,
          whiteboardId,
          position,
          status,
          annotationType,
          annotationInfo,
          wbId,
          version: 1
        }
      };
      break;

    case DRAW_UPDATE:
      baseModifier = {
        $push: {
          'annotationInfo.points': {
            $each: annotationInfo.points
          }
        },
        $set: {
          status
        },
        $inc: {
          version: 1
        }
      };
      break;

    case DRAW_END:
      // Updating the main pencil object with the final info
      baseModifier = {
        $set: {
          whiteboardId,
          meetingId,
          id,
          status,
          annotationType,
          annotationInfo,
          wbId,
          position
        },
        $inc: {
          version: 1
        }
      };
      break;

    default:
      break;
  }

  return {
    selector: baseSelector,
    modifier: baseModifier
  };
}

function addAnnotation(meetingId, whiteboardId, userId, annotation) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(annotation, Object);

  switch (annotation.annotationType) {
    case ANNOTATION_TYPE_TEXT:
      return handleTextUpdate(meetingId, whiteboardId, userId, annotation);

    case ANNOTATION_TYPE_PENCIL:
      return handlePencilUpdate(meetingId, whiteboardId, userId, annotation);

    default:
      return handleCommonAnnotation(meetingId, whiteboardId, userId, annotation);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/annotations/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Annotations = new Mongo.Collection('annotations');

if (Meteor.isServer) {
  // types of queries for the annotations  (Total):
  // 1. meetingId, id, userId               ( 8 )
  // 2. meetingId, id, userId, whiteboardId ( 1 )
  // 3. meetingId                           ( 1 )
  // 4. meetingId, whiteboardId             ( 1 )
  // 5. meetingId, whiteboardId, id         ( 1 )
  // 6. meetingId, whiteboardId, userId     ( 1 )
  // These 2 indexes seem to cover all of the cases
  Annotations._ensureIndex({
    id: 1
  });

  Annotations._ensureIndex({
    meetingId: 1,
    whiteboardId: 1,
    userId: 1
  });
}

module.exportDefault(Annotations);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"breakouts":{"server":{"handlers":{"breakoutClosed.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutClosed.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutClosed
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearBreakouts;
module.link("../modifiers/clearBreakouts", {
  default(v) {
    clearBreakouts = v;
  }

}, 1);

function handleBreakoutClosed({
  body
}) {
  const {
    breakoutId
  } = body;
  check(breakoutId, String);
  return clearBreakouts(breakoutId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"breakoutJoinURL.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutJoinURL.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutJoinURL
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 2);

function handleBreakoutJoinURL({
  body
}) {
  const {
    redirectToHtml5JoinURL,
    userId,
    breakoutId
  } = body;
  check(redirectToHtml5JoinURL, String);
  const selector = {
    breakoutId
  };
  const modifier = {
    $push: {
      users: {
        userId,
        redirectToHtml5JoinURL,
        insertedTime: new Date().getTime()
      }
    }
  };

  const cb = (cbErr, numChanged) => {
    if (cbErr) {
      return Logger.error(`Adding breakout to collection: ${cbErr}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added breakout id=${breakoutId}`);
    }

    return Logger.info(`Upserted breakout id=${breakoutId}`);
  };

  return Breakouts.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"breakoutStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/breakoutStarted.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleBreakoutRoomStarted
});
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function handleBreakoutRoomStarted({
  body
}, meetingId) {
  // 0 seconds default breakout time, forces use of real expiration time
  const DEFAULT_TIME_REMAINING = 0;
  const {
    parentMeetingId,
    breakout
  } = body;
  const {
    breakoutId
  } = breakout;
  check(meetingId, String);
  const selector = {
    breakoutId
  };
  const modifier = {
    $set: Object.assign({
      users: [],
      joinedUsers: []
    }, {
      timeRemaining: DEFAULT_TIME_REMAINING
    }, {
      parentMeetingId
    }, flat(breakout))
  };

  const cb = err => {
    if (err) {
      return Logger.error(`updating breakout: ${err}`);
    }

    return Logger.info('Updated timeRemaining and externalMeetingId ' + `for breakout id=${breakoutId}`);
  };

  return Breakouts.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"joinedUsersChanged.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/joinedUsersChanged.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => joinedUsersChanged
});
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function joinedUsersChanged({
  body
}) {
  check(body, Object);
  const {
    parentId,
    breakoutId,
    users
  } = body;
  check(parentId, String);
  check(breakoutId, String);
  check(users, Array);
  const selector = {
    parentMeetingId: parentId,
    breakoutId
  };
  const usersMapped = users.map(user => ({
    userId: user.id,
    name: user.name
  }));
  const modifier = {
    $set: {
      joinedUsers: usersMapped
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`updating joined users in breakout: ${err}`);
    }

    return Logger.info('Updated joined users ' + `in breakout id=${breakoutId}`);
  };

  Breakouts.find(selector);
  Breakouts.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateTimeRemaining.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/handlers/updateTimeRemaining.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUpdateTimeRemaining
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 2);

function handleUpdateTimeRemaining({
  body
}, meetingId) {
  const {
    timeRemaining
  } = body;
  check(meetingId, String);
  check(timeRemaining, Number);
  const selector = {
    parentMeetingId: meetingId
  };
  const modifier = {
    $set: {
      timeRemaining
    }
  };
  const options = {
    multi: true
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating breakouts: ${err}`);
    }

    return Logger.info('Updated breakout time remaining for breakouts ' + `where parentMeetingId=${meetingId}`);
  };

  return Breakouts.update(selector, modifier, options, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createBreakout.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/createBreakout.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createBreakoutRoom
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function createBreakoutRoom(rooms, durationInMinutes, record = false) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const BREAKOUT_LIM = Meteor.settings.public.app.breakoutRoomLimit;
  const MIN_BREAKOUT_ROOMS = 2;
  const MAX_BREAKOUT_ROOMS = BREAKOUT_LIM > MIN_BREAKOUT_ROOMS ? BREAKOUT_LIM : MIN_BREAKOUT_ROOMS;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const eventName = 'CreateBreakoutRoomsCmdMsg';
  if (rooms.length > MAX_BREAKOUT_ROOMS) return Logger.info(`Attempt to create breakout rooms with invalid number of rooms in meeting id=${meetingId}`);
  const payload = {
    record,
    durationInMinutes,
    rooms,
    meetingId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"endAllBreakouts.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/endAllBreakouts.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => endAllBreakouts
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function endAllBreakouts() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const eventName = 'EndAllBreakoutRoomsMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, null);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"requestJoinURL.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods/requestJoinURL.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => requestJoinURL
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function requestJoinURL({
  breakoutId,
  userId: userIdToInvite
}) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userId = userIdToInvite || requesterUserId;
  const eventName = 'RequestBreakoutJoinURLReqMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, {
    meetingId,
    breakoutId,
    userId
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearBreakouts.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/modifiers/clearBreakouts.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearBreakouts
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 1);

function clearBreakouts(breakoutId) {
  if (breakoutId) {
    const selector = {
      breakoutId
    };
    return Breakouts.remove(selector, () => {
      Logger.info(`Cleared Breakouts (${breakoutId})`);
    });
  }

  return Breakouts.remove({}, () => {
    Logger.info('Cleared Breakouts (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/eventHandlers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleBreakoutJoinURL;
module.link("./handlers/breakoutJoinURL", {
  default(v) {
    handleBreakoutJoinURL = v;
  }

}, 1);
let handleBreakoutStarted;
module.link("./handlers/breakoutStarted", {
  default(v) {
    handleBreakoutStarted = v;
  }

}, 2);
let handleUpdateTimeRemaining;
module.link("./handlers/updateTimeRemaining", {
  default(v) {
    handleUpdateTimeRemaining = v;
  }

}, 3);
let handleBreakoutClosed;
module.link("./handlers/breakoutClosed", {
  default(v) {
    handleBreakoutClosed = v;
  }

}, 4);
let joinedUsersChanged;
module.link("./handlers/joinedUsersChanged", {
  default(v) {
    joinedUsersChanged = v;
  }

}, 5);
RedisPubSub.on('BreakoutRoomStartedEvtMsg', handleBreakoutStarted);
RedisPubSub.on('BreakoutRoomJoinURLEvtMsg', handleBreakoutJoinURL);
RedisPubSub.on('RequestBreakoutJoinURLRespMsg', handleBreakoutJoinURL);
RedisPubSub.on('BreakoutRoomsTimeRemainingUpdateEvtMsg', handleUpdateTimeRemaining);
RedisPubSub.on('BreakoutRoomEndedEvtMsg', handleBreakoutClosed);
RedisPubSub.on('UpdateBreakoutUsersEvtMsg', joinedUsersChanged);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/index.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/methods.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createBreakoutRoom;
module.link("/imports/api/breakouts/server/methods/createBreakout", {
  default(v) {
    createBreakoutRoom = v;
  }

}, 1);
let requestJoinURL;
module.link("./methods/requestJoinURL", {
  default(v) {
    requestJoinURL = v;
  }

}, 2);
let endAllBreakouts;
module.link("./methods/endAllBreakouts", {
  default(v) {
    endAllBreakouts = v;
  }

}, 3);
Meteor.methods({
  requestJoinURL,
  createBreakoutRoom,
  endAllBreakouts
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/server/publishers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function breakouts(role) {
  if (!this.userId) {
    return Breakouts.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Breakouts for ${meetingId} ${requesterUserId}`);
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    const presenterSelector = {
      $or: [{
        parentMeetingId: meetingId
      }, {
        breakoutId: meetingId
      }]
    };
    return Breakouts.find(presenterSelector);
  }

  const selector = {
    $or: [{
      parentMeetingId: meetingId,
      freeJoin: true
    }, {
      parentMeetingId: meetingId,
      'users.userId': requesterUserId
    }, {
      breakoutId: meetingId
    }]
  };
  return Breakouts.find(selector);
}

function publish(...args) {
  const boundBreakouts = breakouts.bind(this);
  return boundBreakouts(...args);
}

Meteor.publish('breakouts', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/breakouts/index.js                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Breakouts = new Mongo.Collection('breakouts');

if (Meteor.isServer) {
  // types of queries for the breakouts:
  // 1. breakoutId ( handleJoinUrl, roomStarted, clearBreakouts )
  // 2. parentMeetingId ( updateTimeRemaining )
  Breakouts._ensureIndex({
    breakoutId: 1
  });

  Breakouts._ensureIndex({
    parentMeetingId: 1
  });
}

module.exportDefault(Breakouts);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"captions":{"server":{"handlers":{"padCreate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/handlers/padCreate.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadCreate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let fetchReadOnlyPadId;
module.link("/imports/api/captions/server/methods/fetchReadOnlyPadId", {
  default(v) {
    fetchReadOnlyPadId = v;
  }

}, 1);

function handlePadCreate({
  body
}) {
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  fetchReadOnlyPadId(id);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"padUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/handlers/padUpdate.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let getDataFromChangeset;
module.link("/imports/api/captions/server/helpers", {
  getDataFromChangeset(v) {
    getDataFromChangeset = v;
  }

}, 1);
let updatePad;
module.link("/imports/api/captions/server/modifiers/updatePad", {
  default(v) {
    updatePad = v;
  }

}, 2);

function handlePadUpdate({
  body
}) {
  const {
    pad,
    revs,
    changeset
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  check(changeset, String);
  check(revs, Number);
  const data = getDataFromChangeset(changeset);

  if (data !== '') {
    updatePad(id, data, revs);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"appendText.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/appendText.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => appendText
});
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let generatePadId;
module.link("/imports/api/captions/server/helpers", {
  generatePadId(v) {
    generatePadId = v;
  }

}, 3);
let appendTextURL;
module.link("/imports/api/note/server/helpers", {
  appendTextURL(v) {
    appendTextURL = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function appendText(text, locale) {
  const {
    meetingId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(text, String);
  check(locale, String);
  const padId = generatePadId(meetingId, locale);
  axios({
    method: 'get',
    url: appendTextURL(padId, text),
    responseType: 'json'
  }).then(response => {
    const {
      status
    } = response;

    if (status === 200) {
      Logger.verbose(`Appended text for padId:${padId}`);
    }
  }).catch(error => Logger.error(`Could not append captions for padId=${padId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"createCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/createCaptions.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createCaptions
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let generatePadId, isEnabled, getLocalesURL;
module.link("/imports/api/captions/server/helpers", {
  generatePadId(v) {
    generatePadId = v;
  },

  isEnabled(v) {
    isEnabled = v;
  },

  getLocalesURL(v) {
    getLocalesURL = v;
  }

}, 2);
let addCaption;
module.link("/imports/api/captions/server/modifiers/addCaption", {
  default(v) {
    addCaption = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function createCaptions(meetingId) {
  // Avoid captions creation if this feature is disabled
  if (!isEnabled()) {
    Logger.warn(`Captions are disabled for ${meetingId}`);
    return;
  }

  check(meetingId, String);
  axios({
    method: 'get',
    url: getLocalesURL(),
    responseType: 'json'
  }).then(response => {
    const {
      status
    } = response;

    if (status !== 200) {
      Logger.error(`Could not get locales info for ${meetingId} ${status}`);
    }

    const locales = response.data;
    locales.forEach(locale => {
      const padId = generatePadId(meetingId, locale.locale);
      addCaption(meetingId, padId, locale);
    });
  }).catch(error => Logger.error(`Could not create captions for ${meetingId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"editCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/editCaptions.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => editCaptions
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

const getIndex = (data, length) => length - data.length;

function editCaptions(padId, data) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EditCaptionHistoryPubMsg';
  check(padId, String);
  check(data, String);
  const pad = Captions.findOne({
    padId
  });
  if (!pad) return Logger.error(`Editing captions history: ${padId}`);
  const {
    meetingId,
    ownerId,
    locale,
    length
  } = pad;
  check(meetingId, String);
  check(ownerId, String);
  check(locale, {
    locale: String,
    name: String
  });
  check(length, Number);
  const index = getIndex(data, length);
  const payload = {
    startIndex: index,
    localeCode: locale.locale,
    locale: locale.name,
    endIndex: index,
    text: data
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, ownerId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"fetchReadOnlyPadId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/fetchReadOnlyPadId.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => fetchReadOnlyPadId
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let getReadOnlyIdURL, getDataFromResponse;
module.link("/imports/api/note/server/helpers", {
  getReadOnlyIdURL(v) {
    getReadOnlyIdURL = v;
  },

  getDataFromResponse(v) {
    getDataFromResponse = v;
  }

}, 2);
let updateReadOnlyPadId;
module.link("/imports/api/captions/server/modifiers/updateReadOnlyPadId", {
  default(v) {
    updateReadOnlyPadId = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function fetchReadOnlyPadId(padId) {
  check(padId, String);
  const readOnlyURL = getReadOnlyIdURL(padId);
  axios({
    method: 'get',
    url: readOnlyURL,
    responseType: 'json'
  }).then(response => {
    const readOnlyPadId = getDataFromResponse(response.data, 'readOnlyID');

    if (readOnlyPadId) {
      updateReadOnlyPadId(padId, readOnlyPadId);
    } else {
      Logger.error(`Could not get pad readOnlyID for ${padId}`);
    }
  }).catch(error => Logger.error(`Could not get pad readOnlyID for ${padId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"takeOwnership.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/takeOwnership.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => takeOwnership
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let updateOwnerId;
module.link("/imports/api/captions/server/modifiers/updateOwnerId", {
  default(v) {
    updateOwnerId = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function takeOwnership(locale) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(locale, String);
  const pad = Captions.findOne({
    meetingId,
    padId: {
      $regex: `_captions_${locale}$`
    }
  });

  if (pad) {
    updateOwnerId(meetingId, requesterUserId, pad.padId);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateOwner.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods/updateOwner.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => editCaptions
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

function editCaptions(meetingId, userId, padId) {
  // TODO
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UpdateCaptionOwnerPubMsg';
  check(meetingId, String);
  check(userId, String);
  check(padId, String);
  const pad = Captions.findOne({
    meetingId,
    padId
  });
  if (!pad) return Logger.error(`Editing captions owner: ${padId}`);
  const {
    locale
  } = pad;
  check(locale, {
    locale: String,
    name: String
  });
  const payload = {
    ownerId: userId,
    locale: locale.name,
    localeCode: locale.locale
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addCaption.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/addCaption.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addCaption
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addCaption(meetingId, padId, locale) {
  check(meetingId, String);
  check(padId, String);
  check(locale, {
    locale: String,
    name: String
  });
  const selector = {
    meetingId,
    padId
  };
  const modifier = {
    meetingId,
    padId,
    locale,
    ownerId: '',
    readOnlyPadId: '',
    data: '',
    revs: 0,
    length: 0
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding caption to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.verbose(`Added caption locale=${locale.locale} meeting=${meetingId}`);
    }

    return Logger.verbose(`Upserted caption locale=${locale.locale} meeting=${meetingId}`);
  };

  return Captions.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearCaptions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/clearCaptions.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearCaptions
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearCaptions(meetingId) {
  if (meetingId) {
    return Captions.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Captions (${meetingId})`);
    });
  }

  return Captions.remove({}, () => {
    Logger.info('Cleared Captions (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateOwnerId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updateOwnerId.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateOwnerId
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let updateOwner;
module.link("/imports/api/captions/server/methods/updateOwner", {
  default(v) {
    updateOwner = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function updateOwnerId(meetingId, userId, padId) {
  check(meetingId, String);
  check(userId, String);
  check(padId, String);
  const selector = {
    meetingId,
    padId
  };
  const modifier = {
    $set: {
      ownerId: userId
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating captions pad: ${err}`);
    }

    updateOwner(meetingId, userId, padId);
    return Logger.verbose(`Update captions pad=${padId} ownerId=${userId}`);
  };

  return Captions.update(selector, modifier, {
    multi: true
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updatePad.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updatePad.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updatePad
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let editCaptions;
module.link("/imports/api/captions/server/methods/editCaptions", {
  default(v) {
    editCaptions = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);

function updatePad(padId, data, revs) {
  check(padId, String);
  check(data, String);
  check(revs, Number);
  const selector = {
    padId
  };
  const modifier = {
    $set: {
      data,
      revs
    },
    $inc: {
      length: data.length
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating captions pad: ${err}`);
    }

    editCaptions(padId, data, revs);
    return Logger.verbose(`Update captions pad=${padId} revs=${revs}`);
  };

  return Captions.update(selector, modifier, {
    multi: true
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateReadOnlyPadId.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/modifiers/updateReadOnlyPadId.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateReadOnlyPadId
});
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function updateReadOnlyPadId(padId, readOnlyPadId) {
  check(padId, String);
  check(readOnlyPadId, String);
  const selector = {
    padId
  };
  const modifier = {
    $set: {
      readOnlyPadId
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Adding readOnlyPadId captions pad: ${err}`);
    }

    return Logger.verbose(`Added readOnlyPadId captions pad=${padId} readOnlyPadId=${readOnlyPadId}`);
  };

  return Captions.update(selector, modifier, {
    multi: true
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/eventHandlers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForCaptionsPadOnly;
module.link("/imports/api/captions/server/helpers", {
  processForCaptionsPadOnly(v) {
    processForCaptionsPadOnly = v;
  }

}, 1);
let handlePadCreate;
module.link("./handlers/padCreate", {
  default(v) {
    handlePadCreate = v;
  }

}, 2);
let handlePadUpdate;
module.link("./handlers/padUpdate", {
  default(v) {
    handlePadUpdate = v;
  }

}, 3);
RedisPubSub.on('PadCreateSysMsg', processForCaptionsPadOnly(handlePadCreate));
RedisPubSub.on('PadUpdateSysMsg', processForCaptionsPadOnly(handlePadUpdate));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/helpers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  generatePadId: () => generatePadId,
  processForCaptionsPadOnly: () => processForCaptionsPadOnly,
  isEnabled: () => isEnabled,
  getLocalesURL: () => getLocalesURL,
  getDataFromChangeset: () => getDataFromChangeset
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let hashFNV32a;
module.link("/imports/api/common/server/helpers", {
  hashFNV32a(v) {
    hashFNV32a = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
const CAPTIONS_CONFIG = Meteor.settings.public.captions;
const BASENAME = Meteor.settings.public.app.basename;
const APP = Meteor.settings.private.app;
const LOCALES_URL = `http://${APP.host}:${APP.port}${BASENAME}${APP.localesUrl}`;
const CAPTIONS = '_captions_';
const TOKEN = '$'; // Captions padId should look like: {padId}_captions_{locale}

const generatePadId = (meetingId, locale) => {
  const padId = `${hashFNV32a(meetingId, true)}${CAPTIONS}${locale}`;
  return padId;
};

const isCaptionsPad = padId => {
  const splitPadId = padId.split(CAPTIONS);
  return splitPadId.length === 2;
};

const getDataFromChangeset = changeset => {
  const splitChangeset = changeset.split(TOKEN);

  if (splitChangeset.length > 1) {
    splitChangeset.shift();
    return splitChangeset.join(TOKEN);
  }

  return '';
};

const isEnabled = () => CAPTIONS_CONFIG.enabled;

const getLocalesURL = () => LOCALES_URL;

const processForCaptionsPadOnly = fn => (message, ...args) => {
  const {
    body
  } = message;
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  if (isCaptionsPad(id)) return fn(message, ...args);
  return () => {};
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/index.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/methods.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let takeOwnership;
module.link("/imports/api/captions/server/methods/takeOwnership", {
  default(v) {
    takeOwnership = v;
  }

}, 1);
let appendText;
module.link("/imports/api/captions/server/methods/appendText", {
  default(v) {
    appendText = v;
  }

}, 2);
Meteor.methods({
  takeOwnership,
  appendText
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/server/publishers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Captions;
module.link("/imports/api/captions", {
  default(v) {
    Captions = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function captions() {
  if (!this.userId) {
    return Captions.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Captions for ${meetingId}`);
  return Captions.find({
    meetingId
  });
}

function publish(...args) {
  const boundCaptions = captions.bind(this);
  return boundCaptions(...args);
}

Meteor.publish('captions', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/captions/index.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Captions = new Mongo.Collection('captions');

if (Meteor.isServer) {
  Captions._ensureIndex({
    meetingId: 1,
    padId: 1
  });
}

module.exportDefault(Captions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cursor":{"server":{"handlers":{"cursorUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/handlers/cursorUpdate.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleCursorUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let CursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  default(v) {
    CursorStreamer = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 3);
const {
  streamerLog
} = Meteor.settings.private.serverLog;
const CURSOR_PROCCESS_INTERVAL = 30;
const cursorQueue = {};

const proccess = _.throttle(() => {
  try {
    Object.keys(cursorQueue).forEach(meetingId => {
      try {
        const cursors = cursorQueue[meetingId];
        delete cursorQueue[meetingId];
        CursorStreamer(meetingId).emit('message', {
          meetingId,
          cursors
        });

        if (streamerLog) {
          Logger.debug(`CursorUpdate process for meeting ${meetingId} has finished`);
        }
      } catch (error) {
        Logger.error(`Error while trying to send cursor streamer data for meeting ${meetingId}. ${error}`);
      }
    });
  } catch (error) {
    Logger.error(`Error while processing cursor queue. ${error}`);
  }
}, CURSOR_PROCCESS_INTERVAL);

function handleCursorUpdate({
  header,
  body
}, meetingId) {
  const {
    userId
  } = header;
  check(body, Object);
  check(meetingId, String);
  check(userId, String);

  if (!cursorQueue[meetingId]) {
    cursorQueue[meetingId] = {};
  } // overwrite since we dont care about the other positions


  cursorQueue[meetingId][userId] = body;
  proccess();
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"publishCursorUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/methods/publishCursorUpdate.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishCursorUpdate
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);

function publishCursorUpdate(meetingId, requesterUserId, payload) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendCursorPositionPubMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/eventHandlers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleCursorUpdate;
module.link("./handlers/cursorUpdate", {
  default(v) {
    handleCursorUpdate = v;
  }

}, 1);
RedisPubSub.on('SendCursorPositionEvtMsg', handleCursorUpdate);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/methods.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let publishCursorUpdate;
module.link("./methods/publishCursorUpdate", {
  default(v) {
    publishCursorUpdate = v;
  }

}, 1);
Meteor.methods({
  publishCursorUpdate
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"streamer.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/cursor/server/streamer.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  removeCursorStreamer: () => removeCursorStreamer,
  addCursorStreamer: () => addCursorStreamer,
  default: () => get
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let publishCursorUpdate;
module.link("./methods/publishCursorUpdate", {
  default(v) {
    publishCursorUpdate = v;
  }

}, 1);
const {
  streamerLog
} = Meteor.settings.private.serverLog;

function removeCursorStreamer(meetingId) {
  Logger.info(`Removing Cursor streamer object for meeting ${meetingId}`);
  delete Meteor.StreamerCentral.instances[`cursor-${meetingId}`];
}

function addCursorStreamer(meetingId) {
  const streamer = new Meteor.Streamer(`cursor-${meetingId}`, {
    retransmit: false
  });

  if (streamerLog) {
    Logger.debug(`Cursor streamer created for meeting ${meetingId}`);
  }

  streamer.allowRead(function allowRead() {
    if (streamerLog) {
      Logger.debug(`Cursor streamer called allowRead for user ${this.userId} in meeting ${meetingId}`);
    }

    return this.userId && this.userId.includes(meetingId);
  });
  streamer.allowWrite(function allowWrite() {
    return this.userId && this.userId.includes(meetingId);
  });
  streamer.on('publish', message => {
    publishCursorUpdate(meetingId, message.userId, message.payload);
  });
}

function get(meetingId) {
  return Meteor.StreamerCentral.instances[`cursor-${meetingId}`];
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"external-videos":{"server":{"methods":{"destroyExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/destroyExternalVideo.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => destroyExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function destroyExternalVideo(meetingId) {
  const streamName = `external-videos-${meetingId}`;

  if (Meteor.StreamerCentral.instances[streamName]) {
    Logger.info(`Destroying External Video streamer object for ${streamName}`);
    delete Meteor.StreamerCentral.instances[streamName];
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"emitExternalVideoEvent.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/emitExternalVideoEvent.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => emitExternalVideoEvent
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function emitExternalVideoEvent(messageName, ...rest) {
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const user = Users.findOne({
    userId,
    meetingId
  });

  if (user && user.presenter) {
    const streamerName = `external-videos-${meetingId}`;
    const streamer = Meteor.StreamerCentral.instances[streamerName];

    if (streamer) {
      streamer.emit(messageName, ...rest);
    } else {
      Logger.error(`External Video Streamer not found for meetingId: ${meetingId} userId: ${userId}`);
    }
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"initializeExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/initializeExternalVideo.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => initializeExternalVideo
});
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

const allowRecentMessages = (eventName, message) => {
  const {
    userId,
    meetingId,
    time,
    rate,
    state
  } = message;
  Logger.debug(`ExternalVideo Streamer auth allowed userId: ${userId}, meetingId: ${meetingId}, event: ${eventName}, time: ${time} rate: ${rate}, state: ${state}`);
  return true;
};

function initializeExternalVideo() {
  const {
    meetingId
  } = extractCredentials(this.userId);
  const streamName = `external-videos-${meetingId}`;

  if (!Meteor.StreamerCentral.instances[streamName]) {
    const streamer = new Meteor.Streamer(streamName);
    streamer.allowRead('all');
    streamer.allowWrite('none');
    streamer.allowEmit(allowRecentMessages);
    Logger.info(`Created External Video streamer for ${streamName}`);
  } else {
    Logger.debug(`External Video streamer is already created for ${streamName}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startWatchingExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/startWatchingExternalVideo.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startWatchingExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 5);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 6);

function startWatchingExternalVideo(options) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StartExternalVideoMsg';
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const {
    externalVideoUrl
  } = options;

  try {
    check(meetingId, String);
    check(userId, String);
    check(externalVideoUrl, String);
    const user = Users.findOne({
      meetingId,
      userId,
      presenter: true
    }, {
      presenter: 1
    });

    if (!user) {
      Logger.error(`Only presenters are allowed to start external video for a meeting. meeting=${meetingId} userId=${userId}`);
      return;
    }

    Meetings.update({
      meetingId
    }, {
      $set: {
        externalVideoUrl
      }
    });
    const payload = {
      externalVideoUrl
    };
    Logger.info(`User id=${userId} sharing an external video: ${externalVideoUrl} for meeting ${meetingId}`);
    return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
  } catch (error) {
    Logger.error(`Error on sharing an external video: ${externalVideoUrl} ${error}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopWatchingExternalVideo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods/stopWatchingExternalVideo.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopWatchingExternalVideo
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function stopWatchingExternalVideo(options) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StopExternalVideoMsg';
  const {
    meetingId,
    requesterUserId
  } = this.userId ? extractCredentials(this.userId) : options;

  try {
    check(meetingId, String);
    check(requesterUserId, String);
    const user = Users.findOne({
      meetingId,
      userId: requesterUserId,
      presenter: true
    }, {
      presenter: 1
    });

    if (this.userId && !user) {
      Logger.error(`Only presenters are allowed to stop external video for a meeting. meeting=${meetingId} userId=${requesterUserId}`);
      return;
    }

    const meeting = Meetings.findOne({
      meetingId
    });
    if (!meeting || meeting.externalVideoUrl === null) return;
    Meetings.update({
      meetingId
    }, {
      $set: {
        externalVideoUrl: null
      }
    });
    const payload = {};
    Logger.info(`User id=${requesterUserId} stopped sharing an external video for meeting=${meetingId}`);
    RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
  } catch (error) {
    Logger.error(`Error on stop sharing an external video for meeting=${meetingId} ${error}`);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/index.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/external-videos/server/methods.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let startWatchingExternalVideo;
module.link("./methods/startWatchingExternalVideo", {
  default(v) {
    startWatchingExternalVideo = v;
  }

}, 1);
let stopWatchingExternalVideo;
module.link("./methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 2);
let initializeExternalVideo;
module.link("./methods/initializeExternalVideo", {
  default(v) {
    initializeExternalVideo = v;
  }

}, 3);
let emitExternalVideoEvent;
module.link("./methods/emitExternalVideoEvent", {
  default(v) {
    emitExternalVideoEvent = v;
  }

}, 4);
Meteor.methods({
  initializeExternalVideo,
  startWatchingExternalVideo,
  stopWatchingExternalVideo,
  emitExternalVideoEvent
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"group-chat":{"server":{"handlers":{"groupChatCreated.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChatCreated.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatCreated
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChatCreated({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  return addGroupChat(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatDestroyed.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChatDestroyed.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatDestroyed
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChatDestroyed({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  return addGroupChat(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChats.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/handlers/groupChats.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChats
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChat;
module.link("../modifiers/addGroupChat", {
  default(v) {
    addGroupChat = v;
  }

}, 1);

function handleGroupChats({
  body
}, meetingId) {
  const {
    chats
  } = body;
  check(meetingId, String);
  check(chats, Array);
  const chatsAdded = [];
  chats.forEach(chat => {
    chatsAdded.push(addGroupChat(meetingId, chat));
  });
  return chatsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods/createGroupChat.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createGroupChat
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let CHAT_ACCESS_PRIVATE;
module.link("/imports/api/group-chat", {
  CHAT_ACCESS_PRIVATE(v) {
    CHAT_ACCESS_PRIVATE = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function createGroupChat(receiver) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'CreateGroupChatReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(receiver, Object);
  const payload = {
    correlationId: `${requesterUserId}-${Date.now()}`,
    msg: [],
    users: [receiver.userId],
    access: CHAT_ACCESS_PRIVATE,
    name: receiver.name
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"destroyGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods/destroyGroupChat.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createGroupChat
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function createGroupChat() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const eventName = 'DestroyGroupChatReqMsg';
  const payload = {// TODO: Implement this together with #4988
    // chats: Array[String],
  };
  return RedisPubSub.publishUserMessage(CHANNEL, eventName, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/modifiers/addGroupChat.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addGroupChat
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 3);

function addGroupChat(meetingId, chat) {
  check(meetingId, String);
  check(chat, {
    id: Match.Maybe(String),
    chatId: Match.Maybe(String),
    correlationId: Match.Maybe(String),
    name: String,
    access: String,
    createdBy: Object,
    users: Array,
    msg: Match.Maybe(Array)
  });
  const chatDocument = {
    meetingId,
    chatId: chat.chatId || chat.id,
    name: chat.name,
    access: chat.access,
    users: chat.users.map(u => u.id),
    createdBy: chat.createdBy.id
  };
  const selector = {
    chatId: chatDocument.chatId,
    meetingId
  };
  const modifier = {
    $set: flat(chatDocument, {
      safe: true
    })
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding group-chat to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added group-chat name=${chat.name} meetingId=${meetingId}`);
    }

    return Logger.info(`Upserted group-chat name=${chat.name} meetingId=${meetingId}`);
  };

  return GroupChat.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/modifiers/clearGroupChat.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGroupChat
});
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let clearGroupChatMsg;
module.link("/imports/api/group-chat-msg/server/modifiers/clearGroupChatMsg", {
  default(v) {
    clearGroupChatMsg = v;
  }

}, 2);

function clearGroupChat(meetingId) {
  clearGroupChatMsg(meetingId);
  return GroupChat.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared GroupChat (${meetingId})`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/eventHandlers.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleGroupChats;
module.link("./handlers/groupChats", {
  default(v) {
    handleGroupChats = v;
  }

}, 1);
let handleGroupChatCreated;
module.link("./handlers/groupChatCreated", {
  default(v) {
    handleGroupChatCreated = v;
  }

}, 2);
let handleGroupChatDestroyed;
module.link("./handlers/groupChatDestroyed", {
  default(v) {
    handleGroupChatDestroyed = v;
  }

}, 3);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 4);
RedisPubSub.on('GetGroupChatsRespMsg', processForHTML5ServerOnly(handleGroupChats));
RedisPubSub.on('GroupChatCreatedEvtMsg', handleGroupChatCreated);
RedisPubSub.on('GroupChatDestroyedEvtMsg', handleGroupChatDestroyed);
RedisPubSub.on('SyncGetGroupChatsRespMsg', handleGroupChats);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("/imports/api/group-chat-msg/server");
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/methods.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createGroupChat;
module.link("./methods/createGroupChat", {
  default(v) {
    createGroupChat = v;
  }

}, 1);
let destroyGroupChat;
module.link("./methods/destroyGroupChat", {
  default(v) {
    destroyGroupChat = v;
  }

}, 2);
Meteor.methods({
  createGroupChat,
  destroyGroupChat
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/server/publishers.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GroupChat;
module.link("/imports/api/group-chat", {
  default(v) {
    GroupChat = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function groupChat() {
  if (!this.userId) {
    return GroupChat.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_CHAT_TYPE = CHAT_CONFIG.type_public;
  Logger.debug(`Publishing group-chat for ${meetingId} ${requesterUserId}`);
  return GroupChat.find({
    $or: [{
      meetingId,
      access: PUBLIC_CHAT_TYPE
    }, {
      meetingId,
      users: {
        $all: [requesterUserId]
      }
    }]
  });
}

function publish(...args) {
  const boundGroupChat = groupChat.bind(this);
  return boundGroupChat(...args);
}

Meteor.publish('group-chat', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat/index.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  CHAT_ACCESS_PUBLIC: () => CHAT_ACCESS_PUBLIC,
  CHAT_ACCESS_PRIVATE: () => CHAT_ACCESS_PRIVATE
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const GroupChat = new Mongo.Collection('group-chat');

if (Meteor.isServer) {
  GroupChat._ensureIndex({
    meetingId: 1,
    chatId: 1,
    access: 1,
    users: 1
  });
}

module.exportDefault(GroupChat);
const CHAT_ACCESS = {
  PUBLIC: 'PUBLIC_ACCESS',
  PRIVATE: 'PRIVATE_ACCESS'
};
const CHAT_ACCESS_PUBLIC = CHAT_ACCESS.PUBLIC;
const CHAT_ACCESS_PRIVATE = CHAT_ACCESS.PRIVATE;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"group-chat-msg":{"server":{"handlers":{"clearPublicGroupChat.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/clearPublicGroupChat.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPublicChatHistory
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearGroupChatMsg;
module.link("../modifiers/clearGroupChatMsg", {
  default(v) {
    clearGroupChatMsg = v;
  }

}, 1);

function clearPublicChatHistory({
  header,
  body
}) {
  const {
    meetingId
  } = header;
  const {
    chatId
  } = body;
  check(meetingId, String);
  check(chatId, String);
  return clearGroupChatMsg(meetingId, chatId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatMsgBroadcast.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/groupChatMsgBroadcast.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatMsgBroadcast
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addGroupChatMsg;
module.link("../modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 1);

function handleGroupChatMsgBroadcast({
  body
}, meetingId) {
  const {
    chatId,
    msg
  } = body;
  check(meetingId, String);
  check(chatId, String);
  check(msg, Object);
  return addGroupChatMsg(meetingId, chatId, msg);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"groupChatsMsgs.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/groupChatsMsgs.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGroupChatsMsgs
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let addGroupChatMsg;
module.link("../modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 1);

function handleGroupChatsMsgs({
  body
}, meetingId) {
  const {
    chatId,
    msgs,
    msg
  } = body;
  check(meetingId, String);
  check(chatId, String);
  check(msgs, Match.Maybe(Array));
  check(msg, Match.Maybe(Array));
  const msgsAdded = [];
  (msgs || msg).forEach(m => {
    msgsAdded.push(addGroupChatMsg(meetingId, chatId, m));
  });
  return msgsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/handlers/userTyping.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let startTyping;
module.link("../modifiers/startTyping", {
  default(v) {
    startTyping = v;
  }

}, 1);

function handleUserTyping({
  body
}, meetingId) {
  const {
    chatId,
    userId
  } = body;
  check(meetingId, String);
  check(userId, String);
  check(chatId, String);
  startTyping(meetingId, userId, chatId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"clearPublicChatHistory.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/clearPublicChatHistory.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPublicChatHistory
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function clearPublicChatHistory() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ClearPublicChatHistoryPubMsg';
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    chatId: PUBLIC_GROUP_CHAT_ID
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sendGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/sendGroupChatMsg.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sendGroupChatMsg
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let RegexWebUrl;
module.link("/imports/utils/regex-weburl", {
  default(v) {
    RegexWebUrl = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const HTML_SAFE_MAP = {
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;'
};

const parseMessage = message => {
  let parsedMessage = message || '';
  parsedMessage = parsedMessage.trim(); // Replace <br/> with \n\r

  parsedMessage = parsedMessage.replace(/<br\s*[\\/]?>/gi, '\n\r'); // Sanitize. See: http://shebang.brandonmintern.com/foolproof-html-escaping-in-javascript/

  parsedMessage = parsedMessage.replace(/[<>'"]/g, c => HTML_SAFE_MAP[c]); // Replace flash links to flash valid ones

  parsedMessage = parsedMessage.replace(RegexWebUrl, "<a href='event:$&'><u>$&</u></a>");
  return parsedMessage;
};

function sendGroupChatMsg(chatId, message) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SendGroupChatMessageMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(message, Object);
  const parsedMessage = parseMessage(message.message);
  message.message = parsedMessage;
  const payload = {
    msg: message,
    chatId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startUserTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/startUserTyping.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startUserTyping
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function startUserTyping(chatId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserTypingPubMsg';
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(chatId, String);
  const payload = {
    chatId: chatId || PUBLIC_GROUP_CHAT_ID
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopUserTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods/stopUserTyping.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopUserTyping
});
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 0);
let stopTyping;
module.link("../modifiers/stopTyping", {
  default(v) {
    stopTyping = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function stopUserTyping() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userTyping = UsersTyping.findOne({
    meetingId,
    userId: requesterUserId
  });

  if (userTyping) {
    stopTyping(meetingId, requesterUserId, true);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/addGroupChatMsg.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => addGroupChatMsg
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 3);
let BREAK_LINE;
module.link("/imports/utils/lineEndings", {
  BREAK_LINE(v) {
    BREAK_LINE = v;
  }

}, 4);

const parseMessage = message => {
  let parsedMessage = message || ''; // Replace \r and \n to <br/>

  parsedMessage = parsedMessage.replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, `$1${BREAK_LINE}$2`); // Replace flash links to html valid ones

  parsedMessage = parsedMessage.split('<a href=\'event:').join('<a target="_blank" href=\'');
  parsedMessage = parsedMessage.split('<a href="event:').join('<a target="_blank" href="');
  return parsedMessage;
};

function addGroupChatMsg(meetingId, chatId, msg) {
  check(meetingId, String);
  check(chatId, String);
  check(msg, {
    id: Match.Maybe(String),
    timestamp: Number,
    sender: Object,
    color: String,
    message: String,
    correlationId: Match.Maybe(String)
  });
  const msgDocument = (0, _objectSpread2.default)({}, msg, {
    meetingId,
    chatId,
    message: parseMessage(msg.message),
    sender: msg.sender.id
  });
  const selector = {
    meetingId,
    chatId,
    id: msg.id
  };
  const modifier = {
    $set: flat(msgDocument, {
      safe: true
    })
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding group-chat-msg to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added group-chat-msg msgId=${msg.id} chatId=${chatId} meetingId=${meetingId}`);
    }

    return Logger.info(`Upserted group-chat-msg msgId=${msg.id} chatId=${chatId} meetingId=${meetingId}`);
  };

  return GroupChatMsg.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearGroupChatMsg.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/clearGroupChatMsg.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearGroupChatMsg
});
let GroupChatMsg;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let addGroupChatMsg;
module.link("/imports/api/group-chat-msg/server/modifiers/addGroupChatMsg", {
  default(v) {
    addGroupChatMsg = v;
  }

}, 2);

function clearGroupChatMsg(meetingId, chatId) {
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_CHAT_SYSTEM_ID = CHAT_CONFIG.system_userid;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  const CHAT_CLEAR_MESSAGE = CHAT_CONFIG.system_messages_keys.chat_clear;

  if (chatId) {
    GroupChatMsg.remove({
      meetingId,
      chatId
    }, () => {
      Logger.info(`Cleared GroupChatMsg (${meetingId}, ${chatId})`);
      const clearMsg = {
        color: '0',
        timestamp: Date.now(),
        correlationId: `${PUBLIC_CHAT_SYSTEM_ID}-${Date.now()}`,
        sender: {
          id: PUBLIC_CHAT_SYSTEM_ID,
          name: ''
        },
        message: CHAT_CLEAR_MESSAGE
      };
      addGroupChatMsg(meetingId, PUBLIC_GROUP_CHAT_ID, clearMsg);
    });
    return true;
  }

  if (meetingId) {
    return GroupChatMsg.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared GroupChatMsg (${meetingId})`);
    });
  }

  return GroupChatMsg.remove({
    chatId: {
      $eq: PUBLIC_GROUP_CHAT_ID
    }
  }, () => {
    Logger.info('Cleared GroupChatMsg (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/startTyping.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 3);
let stopTyping;
module.link("./stopTyping", {
  default(v) {
    stopTyping = v;
  }

}, 4);
const TYPING_TIMEOUT = 5000;

function startTyping(meetingId, userId, chatId) {
  check(meetingId, String);
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };
  const user = Users.findOne(selector);
  const mod = {
    meetingId,
    userId,
    name: user.name,
    isTypingTo: chatId,
    role: user.role,
    time: new Date()
  };
  const typingUser = UsersTyping.findOne(selector, {
    fields: {
      time: 1
    }
  });

  if (typingUser) {
    if (mod.time - typingUser.time <= TYPING_TIMEOUT - 100) return;
  }

  const cb = err => {
    if (err) {
      return Logger.error(`Typing indicator update error: ${err}`);
    }

    Meteor.setTimeout(() => {
      stopTyping(meetingId, userId);
    }, TYPING_TIMEOUT);
    return Logger.debug(`Typing indicator update for userId={${userId}} chatId={${chatId}}`);
  };

  return UsersTyping.upsert(selector, mod, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopTyping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/modifiers/stopTyping.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopTyping
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let UsersTyping;
module.link("/imports/api/group-chat-msg", {
  UsersTyping(v) {
    UsersTyping = v;
  }

}, 2);

function stopTyping(meetingId, userId, sendMsgInitiated = false) {
  check(meetingId, String);
  check(userId, String);
  check(sendMsgInitiated, Boolean);
  const selector = {
    meetingId,
    userId
  };
  const user = UsersTyping.findOne(selector);
  const stillTyping = !sendMsgInitiated && user && new Date() - user.time < 3000;
  if (stillTyping) return;

  const cb = err => {
    if (err) {
      return Logger.error(`Stop user=${userId} typing indicator error: ${err}`);
    }

    return Logger.debug(`Stopped typing indicator for user=${userId}`);
  };

  UsersTyping.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/eventHandlers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleGroupChatsMsgs;
module.link("./handlers/groupChatsMsgs", {
  default(v) {
    handleGroupChatsMsgs = v;
  }

}, 1);
let handleGroupChatMsgBroadcast;
module.link("./handlers/groupChatMsgBroadcast", {
  default(v) {
    handleGroupChatMsgBroadcast = v;
  }

}, 2);
let handleClearPublicGroupChat;
module.link("./handlers/clearPublicGroupChat", {
  default(v) {
    handleClearPublicGroupChat = v;
  }

}, 3);
let handleUserTyping;
module.link("./handlers/userTyping", {
  default(v) {
    handleUserTyping = v;
  }

}, 4);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 5);
RedisPubSub.on('GetGroupChatMsgsRespMsg', processForHTML5ServerOnly(handleGroupChatsMsgs));
RedisPubSub.on('GroupChatMessageBroadcastEvtMsg', handleGroupChatMsgBroadcast);
RedisPubSub.on('ClearPublicChatHistoryEvtMsg', handleClearPublicGroupChat);
RedisPubSub.on('SyncGetGroupChatMsgsRespMsg', handleGroupChatsMsgs);
RedisPubSub.on('UserTypingEvtMsg', handleUserTyping);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let sendGroupChatMsg;
module.link("./methods/sendGroupChatMsg", {
  default(v) {
    sendGroupChatMsg = v;
  }

}, 1);
let clearPublicChatHistory;
module.link("./methods/clearPublicChatHistory", {
  default(v) {
    clearPublicChatHistory = v;
  }

}, 2);
let startUserTyping;
module.link("./methods/startUserTyping", {
  default(v) {
    startUserTyping = v;
  }

}, 3);
let stopUserTyping;
module.link("./methods/stopUserTyping", {
  default(v) {
    stopUserTyping = v;
  }

}, 4);
Meteor.methods({
  sendGroupChatMsg,
  clearPublicChatHistory,
  startUserTyping,
  stopUserTyping
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GroupChatMsg, UsersTyping;
module.link("/imports/api/group-chat-msg", {
  GroupChatMsg(v) {
    GroupChatMsg = v;
  },

  UsersTyping(v) {
    UsersTyping = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function groupChatMsg(chatsIds) {
  if (!this.userId) {
    return GroupChatMsg.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const CHAT_CONFIG = Meteor.settings.public.chat;
  const PUBLIC_GROUP_CHAT_ID = CHAT_CONFIG.public_group_id;
  Logger.debug(`Publishing group-chat-msg for ${meetingId} ${requesterUserId}`);
  return GroupChatMsg.find({
    $or: [{
      meetingId,
      chatId: {
        $eq: PUBLIC_GROUP_CHAT_ID
      }
    }, {
      chatId: {
        $in: chatsIds
      }
    }]
  });
}

function publish(...args) {
  const boundGroupChat = groupChatMsg.bind(this);
  return boundGroupChat(...args);
}

Meteor.publish('group-chat-msg', publish);

function usersTyping() {
  if (!this.userId) {
    return UsersTyping.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing users-typing for ${meetingId} ${requesterUserId}`);
  return UsersTyping.find({
    meetingId
  });
}

function pubishUsersTyping(...args) {
  const boundUsersTyping = usersTyping.bind(this);
  return boundUsersTyping(...args);
}

Meteor.publish('users-typing', pubishUsersTyping);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/group-chat-msg/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  GroupChatMsg: () => GroupChatMsg,
  UsersTyping: () => UsersTyping
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const GroupChatMsg = new Mongo.Collection('group-chat-msg');
const UsersTyping = new Mongo.Collection('users-typing');

if (Meteor.isServer) {
  GroupChatMsg._ensureIndex({
    meetingId: 1,
    chatId: 1
  });

  UsersTyping._ensureIndex({
    meetingId: 1,
    isTypingTo: 1
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"guest-users":{"server":{"handlers":{"guestApproved.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/handlers/guestApproved.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGuestApproved
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setGuestStatus;
module.link("../modifiers/setGuestStatus", {
  default(v) {
    setGuestStatus = v;
  }

}, 1);

function handleGuestApproved({
  body
}, meetingId) {
  const {
    approvedBy,
    guests
  } = body;
  check(meetingId, String);
  check(approvedBy, String);
  check(guests, Array);
  return guests.forEach(guest => setGuestStatus(meetingId, guest.guest, guest.status, approvedBy));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"guestsWaitingForApproval.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/handlers/guestsWaitingForApproval.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => handleGuestsWaitingForApproval
});
let stringHash;
module.link("string-hash", {
  default(v) {
    stringHash = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let GuestUsers;
module.link("/imports/api/guest-users/", {
  default(v) {
    GuestUsers = v;
  }

}, 3);
const COLOR_LIST = ['#7b1fa2', '#6a1b9a', '#4a148c', '#5e35b1', '#512da8', '#4527a0', '#311b92', '#3949ab', '#303f9f', '#283593', '#1a237e', '#1976d2', '#1565c0', '#0d47a1', '#0277bd', '#01579b'];

function handleGuestsWaitingForApproval({
  body
}, meetingId) {
  const {
    guests
  } = body;
  check(guests, Array);
  check(meetingId, String);

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding guest user to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added guest user meeting=${meetingId}`);
    }

    return Logger.info(`Upserted guest user meeting=${meetingId}`);
  };

  return guests.map(guest => GuestUsers.upsert({
    meetingId,
    intId: guest.intId
  }, (0, _objectSpread2.default)({
    approved: false,
    denied: false
  }, guest, {
    meetingId,
    loginTime: new Date().getTime(),
    color: COLOR_LIST[stringHash(guest.intId) % COLOR_LIST.length]
  }), cb));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"allowPendingUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods/allowPendingUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => allowPendingUsers
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const REDIS_CONFIG = Meteor.settings.private.redis;
const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
const EVENT_NAME = 'GuestsWaitingApprovedMsg';

function allowPendingUsers(guests, status) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(guests, Array);
  const mappedGuests = guests.map(guest => ({
    status,
    guest: guest.intId
  }));
  const payload = {
    approvedBy: requesterUserId,
    guests: mappedGuests
  };
  Logger.info(`User=${requesterUserId} ${status} guests ${JSON.stringify(mappedGuests)}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeGuestPolicy.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods/changeGuestPolicy.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeGuestPolicy
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const REDIS_CONFIG = Meteor.settings.private.redis;
const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
const EVENT_NAME = 'SetGuestPolicyCmdMsg';

function changeGuestPolicy(policyRule) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(policyRule, String);
  const payload = {
    setBy: requesterUserId,
    policy: policyRule
  };
  Logger.info(`User=${requesterUserId} change guest policy to ${policyRule}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"setGuestStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/modifiers/setGuestStatus.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setGuestStatus
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let GuestUsers;
module.link("/imports/api/guest-users", {
  default(v) {
    GuestUsers = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
const GUEST_STATUS_ALLOW = 'ALLOW';
const GUEST_STATUS_DENY = 'DENY';

function setGuestStatus(meetingId, intId, status, approvedBy = null) {
  check(meetingId, String);
  check(intId, String);
  check(status, String);
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: {
      approved: status === GUEST_STATUS_ALLOW,
      denied: status === GUEST_STATUS_DENY,
      approvedBy
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating status=${status} user=${intId}: ${err}`);
    }

    return Logger.info(`Updated status=${status} user=${intId} meeting=${meetingId}`);
  };

  return GuestUsers.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleGuestApproved;
module.link("./handlers/guestApproved", {
  default(v) {
    handleGuestApproved = v;
  }

}, 2);
let handleGuestsWaitingForApproval;
module.link("./handlers/guestsWaitingForApproval", {
  default(v) {
    handleGuestsWaitingForApproval = v;
  }

}, 3);
RedisPubSub.on('GuestsWaitingForApprovalEvtMsg', processForHTML5ServerOnly(handleGuestsWaitingForApproval));
RedisPubSub.on('GuestsWaitingApprovedEvtMsg', processForHTML5ServerOnly(handleGuestApproved));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let allowPendingUsers;
module.link("/imports/api/guest-users/server/methods/allowPendingUsers", {
  default(v) {
    allowPendingUsers = v;
  }

}, 1);
let changeGuestPolicy;
module.link("/imports/api/guest-users/server/methods/changeGuestPolicy", {
  default(v) {
    changeGuestPolicy = v;
  }

}, 2);
Meteor.methods({
  allowPendingUsers,
  changeGuestPolicy
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let GuestUsers;
module.link("/imports/api/guest-users/", {
  default(v) {
    GuestUsers = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function guestUsers() {
  if (!this.userId) {
    return GuestUsers.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`Publishing Slides for ${meetingId} ${requesterUserId}`);
  return GuestUsers.find({
    meetingId
  });
}

function publish(...args) {
  const boundSlides = guestUsers.bind(this);
  return boundSlides(...args);
}

Meteor.publish('guestUser', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/guest-users/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Mongo;
module.link("meteor/mongo", {
  Mongo(v) {
    Mongo = v;
  }

}, 1);
const GuestUsers = new Mongo.Collection('guestUsers');
module.exportDefault(GuestUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"local-settings":{"server":{"methods":{"userChangedLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/methods/userChangedLocalSettings.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userChangedLocalSettings
});

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 2);
let setChangedLocalSettings;
module.link("../modifiers/setChangedLocalSettings", {
  default(v) {
    setChangedLocalSettings = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userChangedLocalSettings(settings) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  if (!meetingId || !requesterUserId) return;
  check(settings, Object);
  const userLocalSettings = LocalSettings.findOne({
    meetingId,
    userId: requesterUserId
  }, {
    fields: {
      settings: 1
    }
  });

  if (!userLocalSettings || !_.isEqual(userLocalSettings.settings, settings)) {
    setChangedLocalSettings(meetingId, requesterUserId, settings);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/modifiers/clearLocalSettings.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearLocalSettings
});
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearLocalSettings(meetingId) {
  return LocalSettings.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared Local Settings (${meetingId})`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setChangedLocalSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/modifiers/setChangedLocalSettings.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setChangedLocalSettings
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setChangedLocalSettings(meetingId, userId, settings) {
  check(meetingId, String);
  check(userId, String);
  check(settings, Object);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      settings
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`${err}`);
    }

    if (numChanged) {
      Logger.info(`Updated settings for user ${userId} on meeting ${meetingId}`);
    }
  };

  return LocalSettings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userChangedLocalSettings;
module.link("./methods/userChangedLocalSettings", {
  default(v) {
    userChangedLocalSettings = v;
  }

}, 1);
Meteor.methods({
  userChangedLocalSettings
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let LocalSettings;
module.link("/imports/api/local-settings", {
  default(v) {
    LocalSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function localSettings() {
  if (!this.userId) {
    return LocalSettings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing local settings for user=${requesterUserId}`);
  return LocalSettings.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundLocalSettings = localSettings.bind(this);
  return boundLocalSettings(...args);
}

Meteor.publish('local-settings', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/local-settings/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const LocalSettings = new Mongo.Collection('local-settings');

if (Meteor.isServer) {
  LocalSettings._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(LocalSettings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"log-client":{"server":{"methods":{"logClient.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/methods/logClient.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);

const logClient = function (type, logDescription, logCode = 'was_not_provided', extraInfo = {}, userInfo = {}) {
  const connectionId = this.connection.id;
  const User = Users.findOne({
    connectionId
  });
  const logContents = {
    logCode,
    logDescription,
    connectionId,
    extraInfo,
    userInfo
  };

  if (User) {
    // TODO--
    if (userInfo.credentials && User.meetingId === userInfo.credentials.meetingId || userInfo.meetingId && User.meetingId === userInfo.meetingId) {
      logContents.extraInfo.validUser = 'valid';
    } else {
      logContents.extraInfo.validUser = 'invalid';
    }
  } else {
    logContents.extraInfo.validUser = 'notFound';
  } // If I don't pass message, logs will start with `undefined`


  Logger.log({
    message: JSON.stringify(logContents),
    level: type
  }); // Logger.log({ message: 'client->server', level: type, logContents });
};

module.exportDefault(logClient);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/log-client/server/methods.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let logClient;
module.link("./methods/logClient", {
  default(v) {
    logClient = v;
  }

}, 1);
Meteor.methods({
  logClient
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"meetings":{"server":{"handlers":{"getAllMeetings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/getAllMeetings.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetAllMeetings
});
let handleMeetingCreation;
module.link("./meetingCreation", {
  default(v) {
    handleMeetingCreation = v;
  }

}, 0);

function handleGetAllMeetings({
  body
}) {
  return handleMeetingCreation({
    body
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingCreation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingCreation.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingCreation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addMeeting;
module.link("../modifiers/addMeeting", {
  default(v) {
    addMeeting = v;
  }

}, 1);

function handleMeetingCreation({
  body
}) {
  const meeting = body.props;
  const durationInSecods = meeting.durationProps.duration * 60;
  meeting.durationProps.timeRemaining = durationInSecods;
  check(meeting, Object);
  return addMeeting(meeting);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingDestruction.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingDestruction.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingDestruction
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let destroyExternalVideo;
module.link("/imports/api/external-videos/server/methods/destroyExternalVideo", {
  default(v) {
    destroyExternalVideo = v;
  }

}, 2);
let removeAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  removeAnnotationsStreamer(v) {
    removeAnnotationsStreamer = v;
  }

}, 3);
let removeCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  removeCursorStreamer(v) {
    removeCursorStreamer = v;
  }

}, 4);

function handleMeetingDestruction({
  body
}) {
  check(body, Object);
  const {
    meetingId
  } = body;
  check(meetingId, String);
  destroyExternalVideo(meetingId);
  removeAnnotationsStreamer(meetingId);
  removeCursorStreamer(meetingId);
  return RedisPubSub.destroyMeetingQueue(meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingEnd.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingEnd.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingEnd
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let meetingHasEnded;
module.link("../modifiers/meetingHasEnded", {
  default(v) {
    meetingHasEnded = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let Breakouts;
module.link("/imports/api/breakouts", {
  default(v) {
    Breakouts = v;
  }

}, 3);
let Users;
module.link("/imports/api/users/", {
  default(v) {
    Users = v;
  }

}, 4);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 5);

function handleMeetingEnd({
  body
}) {
  check(body, Object);
  const {
    meetingId
  } = body;
  check(meetingId, String);

  const cb = (err, num, meetingType) => {
    if (err) {
      Logger.error(`${meetingType} ending error: ${err}`);
      return;
    }

    if (num) {
      Users.update({
        meetingId
      }, {
        $set: {
          connectionStatus: 'offline'
        }
      }, (error, numAffected) => {
        if (error) {
          Logger.error(`Error marking ending ${meetingType} users as offline: ${meetingId} ${err}`);
          return;
        }

        if (numAffected) {
          Logger.info(`Success marking ending ${meetingType} users as offline: ${meetingId}`);
        }
      });
      Meteor.setTimeout(() => {
        meetingHasEnded(meetingId);
      }, 10000);
    }
  };

  Meetings.update({
    meetingId
  }, {
    $set: {
      meetingEnded: true
    }
  }, (err, num) => {
    cb(err, num, 'Meeting');
  });
  Breakouts.update({
    parentMeetingId: meetingId
  }, {
    $set: {
      meetingEnded: true
    }
  }, (err, num) => {
    cb(err, num, 'Breakout');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingLockChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/meetingLockChange.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleLockSettingsInMeeting
});
let changeLockSettings;
module.link("../modifiers/changeLockSettings", {
  default(v) {
    changeLockSettings = v;
  }

}, 0);

function handleLockSettingsInMeeting({
  body
}, meetingId) {
  return changeLockSettings(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"recordingStatusChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/recordingStatusChange.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRecordingStatusChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleRecordingStatusChange({
  body
}, meetingId) {
  const {
    recording
  } = body;
  check(recording, Boolean);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      recording
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Changing record status: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Changed meeting record status id=${meetingId} recording=${recording}`);
    }
  };

  return RecordMeetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"recordingTimerChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/recordingTimerChange.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRecordingStatusChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleRecordingStatusChange({
  body
}, meetingId) {
  const {
    time
  } = body;
  check(meetingId, String);
  check(body, {
    time: Number
  });
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      time
    }
  };

  const cb = err => {
    if (err) {
      Logger.error(`Changing recording time: ${err}`);
    }
  };

  return RecordMeetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeRemainingUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/timeRemainingUpdate.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleTimeRemainingUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleTimeRemainingUpdate({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, {
    timeLeftInSec: Number
  });
  const {
    timeLeftInSec
  } = body;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      timeRemaining: timeLeftInSec
    }
  };

  const cb = err => {
    if (err) {
      Logger.error(`Changing recording time: ${err}`);
    }
  };

  return MeetingTimeRemaining.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLockChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/userLockChange.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleLockSettingsInMeeting
});
let changeUserLock;
module.link("../modifiers/changeUserLock", {
  default(v) {
    changeUserLock = v;
  }

}, 0);

function handleLockSettingsInMeeting({
  body
}, meetingId) {
  return changeUserLock(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webcamOnlyModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/handlers/webcamOnlyModerator.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleChangeWebcamOnlyModerator
});
let changeWebcamOnlyModerator;
module.link("../modifiers/webcamOnlyModerator", {
  default(v) {
    changeWebcamOnlyModerator = v;
  }

}, 0);

function handleChangeWebcamOnlyModerator({
  body
}, meetingId) {
  return changeWebcamOnlyModerator(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"endMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/endMeeting.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => endMeeting
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function endMeeting() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'LogoutAndEndMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    userId: requesterUserId
  };
  Logger.verbose(`Meeting '${meetingId}' is destroyed by '${requesterUserId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleLockSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleLockSettings.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleLockSettings
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function toggleLockSettings(lockSettingsProps) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeLockSettingsInMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(lockSettingsProps, {
    disableCam: Boolean,
    disableMic: Boolean,
    disablePrivateChat: Boolean,
    disablePublicChat: Boolean,
    disableNote: Boolean,
    hideUserList: Boolean,
    lockedLayout: Boolean,
    lockOnJoin: Boolean,
    lockOnJoinConfigurable: Boolean,
    setBy: Match.Maybe(String)
  });
  const {
    disableCam,
    disableMic,
    disablePrivateChat: disablePrivChat,
    disablePublicChat: disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable
  } = lockSettingsProps;
  const payload = {
    disableCam,
    disableMic,
    disablePrivChat,
    disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable,
    setBy: requesterUserId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleRecording.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleRecording.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleRecording
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function toggleRecording() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const EVENT_NAME = 'SetRecordingStatusCmdMsg';
  let meetingRecorded;
  let allowedToRecord;
  const recordObject = RecordMeetings.findOne({
    meetingId
  });

  if (recordObject != null) {
    const {
      allowStartStopRecording,
      recording,
      record
    } = recordObject;
    meetingRecorded = recording;
    allowedToRecord = record && allowStartStopRecording; // TODO-- remove some day
  }

  const payload = {
    recording: !meetingRecorded,
    setBy: requesterUserId
  };
  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const user = Users.findOne(selector);

  if (allowedToRecord && !!user && user.role === ROLE_MODERATOR) {
    Logger.info(`Setting the record parameter to ${!meetingRecorded} for ${meetingId} by ${requesterUserId}`);
    return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
  }

  return null;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleWebcamsOnlyForModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/toggleWebcamsOnlyForModerator.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleWebcamsOnlyForModerator
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("../../../common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function toggleWebcamsOnlyForModerator(webcamsOnlyForModerator) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UpdateWebcamsOnlyForModeratorCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(webcamsOnlyForModerator, Boolean);
  const payload = {
    webcamsOnlyForModerator,
    setBy: requesterUserId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"transferUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods/transferUser.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => transferUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function transferUser(fromMeetingId, toMeetingId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'TransferUserToMeetingRequestMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    fromMeetingId,
    toMeetingId,
    userId: requesterUserId
  };
  Logger.verbose(`userId ${requesterUserId} was transferred from 
  meeting ${fromMeetingId}' to meeting '${toMeetingId}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/addMeeting.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

module.export({
  default: () => addMeeting
});
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 0);
let check, Match;
module.link("meteor/check", {
  check(v) {
    check = v;
  },

  Match(v) {
    Match = v;
  }

}, 1);
let SanitizeHTML;
module.link("sanitize-html", {
  default(v) {
    SanitizeHTML = v;
  }

}, 2);
let Meetings, RecordMeetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  },

  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let createNote;
module.link("/imports/api/note/server/methods/createNote", {
  default(v) {
    createNote = v;
  }

}, 5);
let createCaptions;
module.link("/imports/api/captions/server/methods/createCaptions", {
  default(v) {
    createCaptions = v;
  }

}, 6);
let addAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  addAnnotationsStreamer(v) {
    addAnnotationsStreamer = v;
  }

}, 7);
let addCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  addCursorStreamer(v) {
    addCursorStreamer = v;
  }

}, 8);
let BannedUsers;
module.link("/imports/api/users/server/store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 9);

function addMeeting(meeting) {
  const meetingId = meeting.meetingProp.intId;
  check(meetingId, String);
  check(meeting, {
    breakoutProps: {
      sequence: Number,
      freeJoin: Boolean,
      breakoutRooms: Array,
      parentId: String,
      enabled: Boolean,
      record: Boolean,
      privateChatEnabled: Boolean
    },
    meetingProp: {
      intId: String,
      extId: String,
      isBreakout: Boolean,
      name: String
    },
    usersProp: {
      webcamsOnlyForModerator: Boolean,
      guestPolicy: String,
      maxUsers: Number,
      allowModsToUnmuteUsers: Boolean
    },
    durationProps: {
      createdTime: Number,
      duration: Number,
      createdDate: String,
      maxInactivityTimeoutMinutes: Number,
      warnMinutesBeforeMax: Number,
      meetingExpireIfNoUserJoinedInMinutes: Number,
      meetingExpireWhenLastUserLeftInMinutes: Number,
      userInactivityInspectTimerInMinutes: Number,
      userInactivityThresholdInMinutes: Number,
      userActivitySignResponseDelayInMinutes: Number,
      timeRemaining: Number
    },
    welcomeProp: {
      welcomeMsg: String,
      modOnlyMessage: String,
      welcomeMsgTemplate: String
    },
    recordProp: Match.ObjectIncluding({
      allowStartStopRecording: Boolean,
      autoStartRecording: Boolean,
      record: Boolean
    }),
    password: {
      viewerPass: String,
      moderatorPass: String
    },
    voiceProp: {
      voiceConf: String,
      dialNumber: String,
      telVoice: String,
      muteOnStart: Boolean
    },
    screenshareProps: {
      red5ScreenshareIp: String,
      red5ScreenshareApp: String,
      screenshareConf: String
    },
    metadataProp: Object,
    lockSettingsProps: {
      disableCam: Boolean,
      disableMic: Boolean,
      disablePrivateChat: Boolean,
      disablePublicChat: Boolean,
      disableNote: Boolean,
      hideUserList: Boolean,
      lockOnJoin: Boolean,
      lockOnJoinConfigurable: Boolean,
      lockedLayout: Boolean
    }
  });
  const {
    recordProp
  } = meeting,
        restProps = (0, _objectWithoutProperties2.default)(meeting, ["recordProp"]);
  const newMeeting = restProps;
  const selector = {
    meetingId
  };
  newMeeting.lockSettingsProps = Object.assign(meeting.lockSettingsProps, {
    setBy: 'temp'
  });
  const meetingEnded = false;
  let {
    welcomeMsg
  } = newMeeting.welcomeProp;

  const sanitizeTextInChat = original => SanitizeHTML(original, {
    allowedTags: ['a', 'b', 'br', 'i', 'img', 'li', 'small', 'span', 'strong', 'u', 'ul'],
    allowedAttributes: {
      a: ['href', 'name', 'target'],
      img: ['src', 'width', 'height']
    },
    allowedSchemes: ['https']
  });

  const sanitizedWelcomeText = sanitizeTextInChat(welcomeMsg);
  welcomeMsg = sanitizedWelcomeText.replace('href="event:', 'href="');

  const insertBlankTarget = (s, i) => `${s.substr(0, i)} target="_blank"${s.substr(i)}`;

  const linkWithoutTarget = new RegExp('<a href="(.*?)">', 'g');
  linkWithoutTarget.test(welcomeMsg);

  if (linkWithoutTarget.lastIndex > 0) {
    welcomeMsg = insertBlankTarget(welcomeMsg, linkWithoutTarget.lastIndex - 1);
  }

  newMeeting.welcomeProp.welcomeMsg = welcomeMsg; // note: as of July 2020 `modOnlyMessage` is not published to the client side.
  // We are sanitizing this data simply to prevent future potential usage
  // At the moment `modOnlyMessage` is obtained from client side as a response to Enter API

  newMeeting.welcomeProp.modOnlyMessage = sanitizeTextInChat(newMeeting.welcomeProp.modOnlyMessage);
  const modifier = {
    $set: Object.assign({
      meetingId,
      meetingEnded,
      publishedPoll: false
    }, flat(newMeeting, {
      safe: true
    }))
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Adding meeting to collection: ${err}`);
      return;
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      Logger.info(`Added meeting id=${meetingId}`); // TODO: Here we call Etherpad API to create this meeting notes. Is there a
      // better place we can run this post-creation routine?

      createNote(meetingId);
      createCaptions(meetingId);
      BannedUsers.init(meetingId);
    }

    if (numChanged) {
      Logger.info(`Upserted meeting id=${meetingId}`);
    }
  };

  const cbRecord = (err, numChanged) => {
    if (err) {
      Logger.error(`Adding record prop to collection: ${err}`);
      return;
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      Logger.info(`Added record prop id=${meetingId}`);
    }

    if (numChanged) {
      Logger.info(`Upserted record prop id=${meetingId}`);
    }
  };

  RecordMeetings.upsert(selector, (0, _objectSpread2.default)({
    meetingId
  }, recordProp), cbRecord);
  addAnnotationsStreamer(meetingId);
  addCursorStreamer(meetingId);
  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeLockSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/changeLockSettings.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeLockSettings
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeLockSettings(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    disableCam: Boolean,
    disableMic: Boolean,
    disablePrivChat: Boolean,
    disablePubChat: Boolean,
    disableNote: Boolean,
    hideUserList: Boolean,
    lockedLayout: Boolean,
    lockOnJoin: Boolean,
    lockOnJoinConfigurable: Boolean,
    setBy: Match.Maybe(String)
  });
  const {
    disableCam,
    disableMic,
    disablePrivChat,
    disablePubChat,
    disableNote,
    hideUserList,
    lockedLayout,
    lockOnJoin,
    lockOnJoinConfigurable,
    setBy
  } = payload;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      lockSettingsProps: {
        disableCam,
        disableMic,
        disablePrivateChat: disablePrivChat,
        disablePublicChat: disablePubChat,
        disableNote,
        hideUserList,
        lockedLayout,
        lockOnJoin,
        lockOnJoinConfigurable,
        setBy
      }
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changing meeting={${meetingId}} lock settings: ${err}`);
    }

    if (!numChanged) {
      return Logger.info(`meeting={${meetingId}} lock settings were not updated`);
    }

    return Logger.info(`Changed meeting={${meetingId}} updated lock settings`);
  };

  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeUserLock.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/changeUserLock.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeUserLock
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeUserLock(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    userId: String,
    locked: Boolean,
    lockedBy: String
  });
  const {
    userId,
    locked,
    lockedBy
  } = payload;
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      locked
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changing user lock setting: ${err}`);
    }

    if (!numChanged) {
      return Logger.info(`User's userId=${userId} lock status wasn't updated`);
    }

    return Logger.info(`User's userId=${userId} lock status was changed to: ${locked} by user userId=${lockedBy}`);
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearRecordMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/clearRecordMeeting.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => meetingHasEnded
});
let RecordMeetings;
module.link("/imports/api/meetings", {
  RecordMeetings(v) {
    RecordMeetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function meetingHasEnded(meetingId) {
  return RecordMeetings.remove({
    meetingId
  }, () => Logger.info(`Cleared record prop from meeting with id ${meetingId}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingHasEnded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/meetingHasEnded.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => meetingHasEnded
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let removeAnnotationsStreamer;
module.link("/imports/api/annotations/server/streamer", {
  removeAnnotationsStreamer(v) {
    removeAnnotationsStreamer = v;
  }

}, 2);
let removeCursorStreamer;
module.link("/imports/api/cursor/server/streamer", {
  removeCursorStreamer(v) {
    removeCursorStreamer = v;
  }

}, 3);
let clearUsers;
module.link("/imports/api/users/server/modifiers/clearUsers", {
  default(v) {
    clearUsers = v;
  }

}, 4);
let clearUsersSettings;
module.link("/imports/api/users-settings/server/modifiers/clearUsersSettings", {
  default(v) {
    clearUsersSettings = v;
  }

}, 5);
let clearGroupChat;
module.link("/imports/api/group-chat/server/modifiers/clearGroupChat", {
  default(v) {
    clearGroupChat = v;
  }

}, 6);
let clearBreakouts;
module.link("/imports/api/breakouts/server/modifiers/clearBreakouts", {
  default(v) {
    clearBreakouts = v;
  }

}, 7);
let clearAnnotations;
module.link("/imports/api/annotations/server/modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 8);
let clearSlides;
module.link("/imports/api/slides/server/modifiers/clearSlides", {
  default(v) {
    clearSlides = v;
  }

}, 9);
let clearPolls;
module.link("/imports/api/polls/server/modifiers/clearPolls", {
  default(v) {
    clearPolls = v;
  }

}, 10);
let clearCaptions;
module.link("/imports/api/captions/server/modifiers/clearCaptions", {
  default(v) {
    clearCaptions = v;
  }

}, 11);
let clearPresentationPods;
module.link("/imports/api/presentation-pods/server/modifiers/clearPresentationPods", {
  default(v) {
    clearPresentationPods = v;
  }

}, 12);
let clearVoiceUsers;
module.link("/imports/api/voice-users/server/modifiers/clearVoiceUsers", {
  default(v) {
    clearVoiceUsers = v;
  }

}, 13);
let clearUserInfo;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfo", {
  default(v) {
    clearUserInfo = v;
  }

}, 14);
let clearNote;
module.link("/imports/api/note/server/modifiers/clearNote", {
  default(v) {
    clearNote = v;
  }

}, 15);
let clearNetworkInformation;
module.link("/imports/api/network-information/server/modifiers/clearNetworkInformation", {
  default(v) {
    clearNetworkInformation = v;
  }

}, 16);
let clearLocalSettings;
module.link("/imports/api/local-settings/server/modifiers/clearLocalSettings", {
  default(v) {
    clearLocalSettings = v;
  }

}, 17);
let clearRecordMeeting;
module.link("./clearRecordMeeting", {
  default(v) {
    clearRecordMeeting = v;
  }

}, 18);
let clearVoiceCallStates;
module.link("/imports/api/voice-call-states/server/modifiers/clearVoiceCallStates", {
  default(v) {
    clearVoiceCallStates = v;
  }

}, 19);
let clearVideoStreams;
module.link("/imports/api/video-streams/server/modifiers/clearVideoStreams", {
  default(v) {
    clearVideoStreams = v;
  }

}, 20);
let BannedUsers;
module.link("/imports/api/users/server/store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 21);

function meetingHasEnded(meetingId) {
  removeAnnotationsStreamer(meetingId);
  removeCursorStreamer(meetingId);
  return Meetings.remove({
    meetingId
  }, () => {
    clearCaptions(meetingId);
    clearGroupChat(meetingId);
    clearPresentationPods(meetingId);
    clearBreakouts(meetingId);
    clearPolls(meetingId);
    clearAnnotations(meetingId);
    clearSlides(meetingId);
    clearUsers(meetingId);
    clearUsersSettings(meetingId);
    clearVoiceUsers(meetingId);
    clearUserInfo(meetingId);
    clearNote(meetingId);
    clearNetworkInformation(meetingId);
    clearLocalSettings(meetingId);
    clearRecordMeeting(meetingId);
    clearVoiceCallStates(meetingId);
    clearVideoStreams(meetingId);
    BannedUsers.delete(meetingId);
    return Logger.info(`Cleared Meetings with id ${meetingId}`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPublishedPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/setPublishedPoll.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPublishedPoll
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function setPublishedPoll(meetingId, isPublished) {
  check(meetingId, String);
  check(isPublished, Boolean);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      publishedPoll: isPublished
    }
  };

  const cb = err => {
    if (err != null) {
      return Logger.error(`Setting publishedPoll=${isPublished} for meetingId=${meetingId}`);
    }

    return Logger.info(`Set publishedPoll=${isPublished} in meeitingId=${meetingId}`);
  };

  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webcamOnlyModerator.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/modifiers/webcamOnlyModerator.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeWebcamOnlyModerator
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function changeWebcamOnlyModerator(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    webcamsOnlyForModerator: Boolean,
    setBy: String
  });
  const {
    webcamsOnlyForModerator
  } = payload;
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      'usersProp.webcamsOnlyForModerator': webcamsOnlyForModerator
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changwing meeting={${meetingId}} webcam Only for Moderator: ${err}`);
    }

    if (!numChanged) {
      return Logger.info(`meeting={${meetingId}} webcam Only for Moderator were not updated`);
    }

    return Logger.info(`Changed meeting={${meetingId}} updated webcam Only for Moderator`);
  };

  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/eventHandlers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleMeetingCreation;
module.link("./handlers/meetingCreation", {
  default(v) {
    handleMeetingCreation = v;
  }

}, 1);
let handleGetAllMeetings;
module.link("./handlers/getAllMeetings", {
  default(v) {
    handleGetAllMeetings = v;
  }

}, 2);
let handleMeetingEnd;
module.link("./handlers/meetingEnd", {
  default(v) {
    handleMeetingEnd = v;
  }

}, 3);
let handleMeetingDestruction;
module.link("./handlers/meetingDestruction", {
  default(v) {
    handleMeetingDestruction = v;
  }

}, 4);
let handleMeetingLocksChange;
module.link("./handlers/meetingLockChange", {
  default(v) {
    handleMeetingLocksChange = v;
  }

}, 5);
let handleUserLockChange;
module.link("./handlers/userLockChange", {
  default(v) {
    handleUserLockChange = v;
  }

}, 6);
let handleRecordingStatusChange;
module.link("./handlers/recordingStatusChange", {
  default(v) {
    handleRecordingStatusChange = v;
  }

}, 7);
let handleRecordingTimerChange;
module.link("./handlers/recordingTimerChange", {
  default(v) {
    handleRecordingTimerChange = v;
  }

}, 8);
let handleTimeRemainingUpdate;
module.link("./handlers/timeRemainingUpdate", {
  default(v) {
    handleTimeRemainingUpdate = v;
  }

}, 9);
let handleChangeWebcamOnlyModerator;
module.link("./handlers/webcamOnlyModerator", {
  default(v) {
    handleChangeWebcamOnlyModerator = v;
  }

}, 10);
RedisPubSub.on('MeetingCreatedEvtMsg', handleMeetingCreation);
RedisPubSub.on('SyncGetMeetingInfoRespMsg', handleGetAllMeetings);
RedisPubSub.on('MeetingEndingEvtMsg', handleMeetingEnd);
RedisPubSub.on('MeetingDestroyedEvtMsg', handleMeetingDestruction);
RedisPubSub.on('LockSettingsInMeetingChangedEvtMsg', handleMeetingLocksChange);
RedisPubSub.on('UserLockedInMeetingEvtMsg', handleUserLockChange);
RedisPubSub.on('RecordingStatusChangedEvtMsg', handleRecordingStatusChange);
RedisPubSub.on('UpdateRecordingTimerEvtMsg', handleRecordingTimerChange);
RedisPubSub.on('WebcamsOnlyForModeratorChangedEvtMsg', handleChangeWebcamOnlyModerator);
RedisPubSub.on('GetLockSettingsRespMsg', handleMeetingLocksChange);
RedisPubSub.on('MeetingTimeRemainingUpdateEvtMsg', handleTimeRemainingUpdate);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/index.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/methods.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let endMeeting;
module.link("./methods/endMeeting", {
  default(v) {
    endMeeting = v;
  }

}, 1);
let toggleRecording;
module.link("./methods/toggleRecording", {
  default(v) {
    toggleRecording = v;
  }

}, 2);
let transferUser;
module.link("./methods/transferUser", {
  default(v) {
    transferUser = v;
  }

}, 3);
let toggleLockSettings;
module.link("./methods/toggleLockSettings", {
  default(v) {
    toggleLockSettings = v;
  }

}, 4);
let toggleWebcamsOnlyForModerator;
module.link("./methods/toggleWebcamsOnlyForModerator", {
  default(v) {
    toggleWebcamsOnlyForModerator = v;
  }

}, 5);
Meteor.methods({
  endMeeting,
  toggleRecording,
  toggleLockSettings,
  transferUser,
  toggleWebcamsOnlyForModerator
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/server/publishers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Meetings, RecordMeetings, MeetingTimeRemaining;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  },

  RecordMeetings(v) {
    RecordMeetings = v;
  },

  MeetingTimeRemaining(v) {
    MeetingTimeRemaining = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function meetings(role) {
  if (!this.userId) {
    return Meetings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing meeting =${meetingId} ${requesterUserId}`);
  const selector = {
    $or: [{
      meetingId
    }]
  };
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    selector.$or.push({
      'meetingProp.isBreakout': true,
      'breakoutProps.parentId': meetingId
    });
  }

  const options = {
    fields: {
      password: false,
      'welcomeProp.modOnlyMessage': false
    }
  };
  return Meetings.find(selector, options);
}

function publish(...args) {
  const boundMeetings = meetings.bind(this);
  return boundMeetings(...args);
}

Meteor.publish('meetings', publish);

function recordMeetings() {
  if (!this.userId) {
    return RecordMeetings.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return RecordMeetings.find({
    meetingId
  });
}

function recordPublish(...args) {
  const boundRecordMeetings = recordMeetings.bind(this);
  return boundRecordMeetings(...args);
}

Meteor.publish('record-meetings', recordPublish);

function meetingTimeRemaining() {
  if (!this.userId) {
    return MeetingTimeRemaining.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return MeetingTimeRemaining.find({
    meetingId
  });
}

function timeRemainingPublish(...args) {
  const boundtimeRemaining = meetingTimeRemaining.bind(this);
  return boundtimeRemaining(...args);
}

Meteor.publish('meeting-time-remaining', timeRemainingPublish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/meetings/index.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  RecordMeetings: () => RecordMeetings,
  MeetingTimeRemaining: () => MeetingTimeRemaining
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Meetings = new Mongo.Collection('meetings');
const RecordMeetings = new Mongo.Collection('record-meetings');
const MeetingTimeRemaining = new Mongo.Collection('meeting-time-remaining');

if (Meteor.isServer) {
  // types of queries for the meetings:
  // 1. meetingId
  Meetings._ensureIndex({
    meetingId: 1
  });

  RecordMeetings._ensureIndex({
    meetingId: 1
  });

  MeetingTimeRemaining._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Meetings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"network-information":{"server":{"methods":{"userInstabilityDetected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/methods/userInstabilityDetected.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userInstabilityDetected
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function userInstabilityDetected(sender) {
  const {
    meetingId,
    requesterUserId: receiver
  } = extractCredentials(this.userId);
  check(sender, String);
  const payload = {
    time: new Date().getTime(),
    meetingId,
    receiver,
    sender
  };
  Logger.debug(`Receiver ${receiver} reported a network instability in meeting ${meetingId}`);
  return NetworkInformation.insert(payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearNetworkInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/modifiers/clearNetworkInformation.js                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearNetworkInformation
});
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearNetworkInformation(meetingId) {
  if (meetingId) {
    return NetworkInformation.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Network Information (${meetingId})`);
    });
  }

  return NetworkInformation.remove({}, () => {
    Logger.info('Cleared Network Information (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/index.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publisher");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/methods.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userInstabilityDetected;
module.link("./methods/userInstabilityDetected", {
  default(v) {
    userInstabilityDetected = v;
  }

}, 1);
Meteor.methods({
  userInstabilityDetected
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publisher.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/server/publisher.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let NetworkInformation;
module.link("/imports/api/network-information", {
  default(v) {
    NetworkInformation = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function networkInformation() {
  if (!this.userId) {
    return NetworkInformation.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  return NetworkInformation.find({
    meetingId
  });
}

function publish(...args) {
  const boundNetworkInformation = networkInformation.bind(this);
  return boundNetworkInformation(...args);
}

Meteor.publish('network-information', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/network-information/index.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const NetworkInformation = new Mongo.Collection('network-information');

if (Meteor.isServer) {
  NetworkInformation._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(NetworkInformation);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"note":{"server":{"handlers":{"padUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/handlers/padUpdate.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePadUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateNote;
module.link("/imports/api/note/server/modifiers/updateNote", {
  default(v) {
    updateNote = v;
  }

}, 1);

function handlePadUpdate({
  body
}) {
  const {
    pad,
    revs
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  check(revs, Number);
  updateNote(id, revs);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"createNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/methods/createNote.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createNote
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let generateNoteId, createPadURL, getReadOnlyIdURL, isEnabled, getDataFromResponse;
module.link("/imports/api/note/server/helpers", {
  generateNoteId(v) {
    generateNoteId = v;
  },

  createPadURL(v) {
    createPadURL = v;
  },

  getReadOnlyIdURL(v) {
    getReadOnlyIdURL = v;
  },

  isEnabled(v) {
    isEnabled = v;
  },

  getDataFromResponse(v) {
    getDataFromResponse = v;
  }

}, 2);
let addNote;
module.link("/imports/api/note/server/modifiers/addNote", {
  default(v) {
    addNote = v;
  }

}, 3);
let axios;
module.link("axios", {
  default(v) {
    axios = v;
  }

}, 4);

function createNote(meetingId) {
  // Avoid note creation if this feature is disabled
  if (!isEnabled()) {
    Logger.warn(`Notes are disabled for ${meetingId}`);
    return;
  }

  check(meetingId, String);
  const noteId = generateNoteId(meetingId);
  const createURL = createPadURL(noteId);
  axios({
    method: 'get',
    url: createURL,
    responseType: 'json'
  }).then(responseOuter => {
    const {
      status
    } = responseOuter;

    if (status !== 200) {
      Logger.error(`Could not get note info for ${meetingId} ${status}`);
    }

    const readOnlyURL = getReadOnlyIdURL(noteId);
    axios({
      method: 'get',
      url: readOnlyURL,
      responseType: 'json'
    }).then(response => {
      const readOnlyNoteId = getDataFromResponse(response.data, 'readOnlyID');

      if (readOnlyNoteId) {
        addNote(meetingId, noteId, readOnlyNoteId);
      } else {
        Logger.error(`Could not get note readOnlyID for ${meetingId}`);
      }
    }).catch(error => Logger.error(`Could not get note readOnlyID for ${meetingId}: ${error}`));
  }).catch(error => Logger.error(`Could not create note for ${meetingId}: ${error}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/addNote.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addNote
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addNote(meetingId, noteId, readOnlyNoteId) {
  check(meetingId, String);
  check(noteId, String);
  check(readOnlyNoteId, String);
  const selector = {
    meetingId,
    noteId
  };
  const modifier = {
    meetingId,
    noteId,
    readOnlyNoteId,
    revs: 0
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding note to the collection: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Added note id=${noteId} readOnlyId=${readOnlyNoteId} meeting=${meetingId}`);
    }

    return Logger.info(`Upserted note id=${noteId} readOnlyId=${readOnlyNoteId} meeting=${meetingId}`);
  };

  return Note.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/clearNote.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearNote
});
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearNote(meetingId) {
  if (meetingId) {
    return Note.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Note (${meetingId})`);
    });
  }

  return Note.remove({}, () => {
    Logger.info('Cleared Note (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateNote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/modifiers/updateNote.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateNote
});
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);

function updateNote(noteId, revs) {
  check(noteId, String);
  check(revs, Number);
  const selector = {
    noteId
  };
  const modifier = {
    $set: {
      revs
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating note pad: ${err}`);
    }

    return Logger.verbose(`Update note pad=${noteId} revs=${revs}`);
  };

  return Note.update(selector, modifier, {
    multi: true
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/eventHandlers.js                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForNotePadOnly;
module.link("/imports/api/note/server/helpers", {
  processForNotePadOnly(v) {
    processForNotePadOnly = v;
  }

}, 1);
let handlePadUpdate;
module.link("./handlers/padUpdate", {
  default(v) {
    handlePadUpdate = v;
  }

}, 2);
RedisPubSub.on('PadUpdateSysMsg', processForNotePadOnly(handlePadUpdate));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/helpers.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  generateNoteId: () => generateNoteId,
  createPadURL: () => createPadURL,
  getReadOnlyIdURL: () => getReadOnlyIdURL,
  isEnabled: () => isEnabled,
  getDataFromResponse: () => getDataFromResponse,
  appendTextURL: () => appendTextURL,
  processForNotePadOnly: () => processForNotePadOnly
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let hashFNV32a;
module.link("/imports/api/common/server/helpers", {
  hashFNV32a(v) {
    hashFNV32a = v;
  }

}, 1);
const ETHERPAD = Meteor.settings.private.etherpad;
const NOTE_CONFIG = Meteor.settings.public.note;
const BASE_URL = `http://${ETHERPAD.host}:${ETHERPAD.port}/api/${ETHERPAD.version}`;
const TOKEN = '_';

const createPadURL = padId => `${BASE_URL}/createPad?apikey=${ETHERPAD.apikey}&padID=${padId}`;

const getReadOnlyIdURL = padId => `${BASE_URL}/getReadOnlyID?apikey=${ETHERPAD.apikey}&padID=${padId}`;

const appendTextURL = (padId, text) => `${BASE_URL}/appendText?apikey=${ETHERPAD.apikey}&padID=${padId}&text=${encodeURIComponent(text)}`;

const generateNoteId = meetingId => {
  const noteId = hashFNV32a(meetingId, true);
  return noteId;
};

const isEnabled = () => NOTE_CONFIG.enabled;

const getDataFromResponse = (data, key) => {
  if (data) {
    const innerData = data.data;

    if (innerData && innerData[key]) {
      return innerData[key];
    }
  }

  return null;
};

const isNotePad = padId => padId.search(TOKEN);

const processForNotePadOnly = fn => (message, ...args) => {
  const {
    body
  } = message;
  const {
    pad
  } = body;
  const {
    id
  } = pad;
  check(id, String);
  if (isNotePad(id)) return fn(message, ...args);
  return () => {};
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./publishers");
module.link("./eventHandlers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/server/publishers.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Note;
module.link("/imports/api/note", {
  default(v) {
    Note = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function note() {
  if (!this.userId) {
    return Note.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`Publishing note for ${meetingId} ${requesterUserId}`);
  return Note.find({
    meetingId
  });
}

function publish(...args) {
  const boundNote = note.bind(this);
  return boundNote(...args);
}

Meteor.publish('note', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/note/index.js                                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Note = new Mongo.Collection('note');

if (Meteor.isServer) {
  Note._ensureIndex({
    meetingId: 1,
    noteId: 1
  });
}

module.exportDefault(Note);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"ping-pong":{"server":{"methods":{"ping.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/methods/ping.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => ping
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function ping() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const modifier = {
    $set: {
      lastPing: Date.now()
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Error updating lastPing for ${requesterUserId}: ${err}`);
    }
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/index.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./publishers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/methods.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let ping;
module.link("./methods/ping", {
  default(v) {
    ping = v;
  }

}, 1);
Meteor.methods({
  ping
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/ping-pong/server/publishers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
const COLLECTION_NAME = 'ping-pong';
const INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.clearUsersInSeconds * 1000;
const INTERVAL_TIME = INTERVAL_IN_SETTINGS < 10000 ? 10000 : INTERVAL_IN_SETTINGS;
const PONG_INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.pongTimeInSeconds * 1000;
const PONG_INTERVAL = PONG_INTERVAL_IN_SETTINGS >= INTERVAL_TIME / 2 ? INTERVAL_TIME / 2 : PONG_INTERVAL_IN_SETTINGS;

function pingPong() {
  if (!this.userId) {
    return; // TODO-- is there a more appropriate set to return?
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);

  const id = _.uniqueId('pong-');

  Logger.info(`Starting ping-pong publish for userId: ${requesterUserId}`);

  const pongSender = interval => {
    const payload = {
      pong: {
        message: 'pong',
        time: Date.now(),
        meetingId
      }
    };
    let fn = this.added.bind(this);
    if (interval) fn = this.changed.bind(this);
    fn(COLLECTION_NAME, id, payload);
  };

  pongSender();
  this.ready();
  const interval = Meteor.setInterval(() => pongSender(true), PONG_INTERVAL);
  this.onStop(() => {
    Meteor.clearInterval(interval);
  });
}

Meteor.publish('ping-pong', pingPong);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"polls":{"server":{"handlers":{"pollPublished.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollPublished.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollPublished
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePoll;
module.link("../modifiers/removePoll", {
  default(v) {
    removePoll = v;
  }

}, 1);
let setPublishedPoll;
module.link("../../../meetings/server/modifiers/setPublishedPoll", {
  default(v) {
    setPublishedPoll = v;
  }

}, 2);

function pollPublished({
  body
}, meetingId) {
  const {
    pollId
  } = body;
  check(meetingId, String);
  check(pollId, String);
  setPublishedPoll(meetingId, true);
  return removePoll(meetingId, pollId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pollStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollStarted.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollStarted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPoll;
module.link("../modifiers/addPoll", {
  default(v) {
    addPoll = v;
  }

}, 1);
let setPublishedPoll;
module.link("../../../meetings/server/modifiers/setPublishedPoll", {
  default(v) {
    setPublishedPoll = v;
  }

}, 2);

function pollStarted({
  body
}, meetingId) {
  const {
    userId
  } = body;
  const {
    poll
  } = body;
  check(meetingId, String);
  check(userId, String);
  check(poll, Object);
  setPublishedPoll(meetingId, false);
  return addPoll(meetingId, userId, poll);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pollStopped.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/pollStopped.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => pollStopped
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePoll;
module.link("../modifiers/removePoll", {
  default(v) {
    removePoll = v;
  }

}, 1);
let clearPolls;
module.link("../modifiers/clearPolls", {
  default(v) {
    clearPolls = v;
  }

}, 2);

function pollStopped({
  body
}, meetingId) {
  const {
    poll
  } = body;
  check(meetingId, String);

  if (poll) {
    const {
      pollId
    } = poll;
    check(pollId, String);
    return removePoll(meetingId, pollId);
  }

  return clearPolls(meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userResponded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/userResponded.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userResponded
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function userResponded({
  body
}) {
  const {
    pollId,
    userId,
    answerId
  } = body;
  check(pollId, String);
  check(userId, String);
  check(answerId, Number);
  const selector = {
    id: pollId
  };
  const modifier = {
    $pull: {
      users: userId
    },
    $push: {
      responses: {
        userId,
        answerId
      }
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating Poll responses: ${err}`);
    }

    return Logger.info(`Updating Poll response (userId: ${userId},` + `response: ${answerId}, pollId: ${pollId})`);
  };

  return Polls.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userVoted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/handlers/userVoted.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userVoted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVotes;
module.link("../modifiers/updateVotes", {
  default(v) {
    updateVotes = v;
  }

}, 1);

function userVoted({
  body
}, meetingId) {
  const {
    poll
  } = body;
  check(meetingId, String);
  check(poll, {
    id: String,
    answers: [{
      id: Number,
      key: String,
      numVotes: Number
    }],
    numRespondents: Number,
    numResponders: Number
  });
  return updateVotes(poll, meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"publishPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/publishPoll.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function publishPoll() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ShowPollResultReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const poll = Polls.findOne({
    meetingId
  }); // TODO--send pollid from client

  if (!poll) {
    Logger.error(`Attempted to publish inexisting poll for meetingId: ${meetingId}`);
    return false;
  }

  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, {
    requesterId: requesterUserId,
    pollId: poll.id
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishVote.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/publishVote.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => publishVote
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function publishVote(id, pollAnswerId) {
  // TODO discuss location
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'RespondToPollReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  /*
   We keep an array of people who were in the meeting at the time the poll
   was started. The poll is published to them only.
   Once they vote - their ID is removed and they cannot see the poll anymore
   */

  const currentPoll = Polls.findOne({
    users: requesterUserId,
    meetingId,
    'answers.id': pollAnswerId,
    id
  });
  check(pollAnswerId, Number);
  check(currentPoll, Object);
  check(currentPoll.meetingId, String);
  const payload = {
    requesterId: requesterUserId,
    pollId: currentPoll.id,
    questionId: 0,
    answerId: pollAnswerId
  };
  const selector = {
    users: requesterUserId,
    meetingId,
    'answers.id': pollAnswerId
  };
  const modifier = {
    $pull: {
      users: requesterUserId
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating Polls collection: ${err}`);
    }

    return Logger.info(`Updating Polls collection (meetingId: ${meetingId}, ` + `pollId: ${currentPoll.id}!)`);
  };

  Polls.update(selector, modifier, cb);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"startPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/startPoll.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => startPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function startPoll(pollType, pollId, answers) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  let EVENT_NAME = 'StartPollReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(pollId, String);
  check(pollType, String);
  const payload = {
    requesterId: requesterUserId,
    pollId: `${pollId}/${new Date().getTime()}`,
    pollType
  };

  if (pollType === 'custom') {
    EVENT_NAME = 'StartCustomPollReqMsg';
    check(answers, Array);
    payload.answers = answers;
  }

  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"stopPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods/stopPoll.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => stopPoll
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);

function stopPoll() {
  const {
    meetingId,
    requesterUserId: requesterId
  } = extractCredentials(this.userId);
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'StopPollReqMsg';
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterId, {
    requesterId
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/addPoll.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPoll
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 4);

function addPoll(meetingId, requesterId, poll) {
  check(requesterId, String);
  check(meetingId, String);
  check(poll, {
    id: String,
    answers: [{
      id: Number,
      key: String
    }]
  });
  const userSelector = {
    meetingId,
    userId: {
      $ne: requesterId
    },
    clientType: {
      $ne: 'dial-in-user'
    }
  };
  const userIds = Users.find(userSelector, {
    fields: {
      userId: 1
    }
  }).fetch().map(user => user.userId);
  const selector = {
    meetingId,
    requester: requesterId,
    id: poll.id
  };
  const modifier = Object.assign({
    meetingId
  }, {
    requester: requesterId
  }, {
    users: userIds
  }, flat(poll, {
    safe: true
  }));

  const cb = (err, numChanged) => {
    if (err != null) {
      return Logger.error(`Adding Poll to collection: ${poll.id}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added Poll id=${poll.id}`);
    }

    return Logger.info(`Upserted Poll id=${poll.id}`);
  };

  return Polls.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPolls.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/clearPolls.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPolls
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPolls(meetingId) {
  if (meetingId) {
    return Polls.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Polls (${meetingId})`);
    });
  }

  return Polls.remove({}, () => {
    Logger.info('Cleared Polls (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePoll.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/removePoll.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePoll
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function removePoll(meetingId, id) {
  check(meetingId, String);
  check(id, String);
  const selector = {
    meetingId,
    id
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Removing Poll from collection: ${err}`);
    }

    return Logger.info(`Removed Poll id=${id}`);
  };

  return Polls.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateVotes.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/modifiers/updateVotes.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateVotes
});
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function updateVotes(poll, meetingId) {
  check(meetingId, String);
  check(poll, Object);
  const {
    id,
    answers,
    numResponders,
    numRespondents
  } = poll;
  check(id, String);
  check(answers, Array);
  check(numResponders, Number);
  check(numRespondents, Number);
  const selector = {
    meetingId,
    id
  };
  const modifier = {
    $set: flat(poll, {
      safe: true
    })
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Updating Polls collection: ${err}`);
    }

    return Logger.info(`Updating Polls collection (meetingId: ${meetingId}, pollId: ${id}!)`);
  };

  return Polls.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/eventHandlers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handlePollStarted;
module.link("./handlers/pollStarted", {
  default(v) {
    handlePollStarted = v;
  }

}, 1);
let handlePollStopped;
module.link("./handlers/pollStopped", {
  default(v) {
    handlePollStopped = v;
  }

}, 2);
let handlePollPublished;
module.link("./handlers/pollPublished", {
  default(v) {
    handlePollPublished = v;
  }

}, 3);
let handleUserVoted;
module.link("./handlers/userVoted", {
  default(v) {
    handleUserVoted = v;
  }

}, 4);
let handleUserResponded;
module.link("./handlers/userResponded", {
  default(v) {
    handleUserResponded = v;
  }

}, 5);
RedisPubSub.on('PollShowResultEvtMsg', handlePollPublished);
RedisPubSub.on('PollStartedEvtMsg', handlePollStarted);
RedisPubSub.on('PollStoppedEvtMsg', handlePollStopped);
RedisPubSub.on('PollUpdatedEvtMsg', handleUserVoted);
RedisPubSub.on('UserRespondedToPollRespMsg', handleUserResponded);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/index.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/methods.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let publishVote;
module.link("./methods/publishVote", {
  default(v) {
    publishVote = v;
  }

}, 1);
let publishPoll;
module.link("./methods/publishPoll", {
  default(v) {
    publishPoll = v;
  }

}, 2);
let startPoll;
module.link("./methods/startPoll", {
  default(v) {
    startPoll = v;
  }

}, 3);
let stopPoll;
module.link("./methods/stopPoll", {
  default(v) {
    stopPoll = v;
  }

}, 4);
Meteor.methods({
  publishVote,
  publishPoll,
  startPoll,
  stopPoll
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/server/publishers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Polls;
module.link("/imports/api/polls", {
  default(v) {
    Polls = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function currentPoll() {
  if (!this.userId) {
    return Polls.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId
  };
  Logger.debug(`Publishing poll for meeting=${meetingId}`);
  return Polls.find(selector);
}

function publishCurrentPoll(...args) {
  const boundPolls = currentPoll.bind(this);
  return boundPolls(...args);
}

Meteor.publish('current-poll', publishCurrentPoll);

function polls() {
  if (!this.userId) {
    return Polls.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing polls =${meetingId} ${requesterUserId}`);
  const selector = {
    meetingId,
    users: requesterUserId
  };
  return Polls.find(selector);
}

function publish(...args) {
  const boundPolls = polls.bind(this);
  return boundPolls(...args);
}

Meteor.publish('polls', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/polls/index.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Polls = new Mongo.Collection('polls');

if (Meteor.isServer) {
  // We can have just one active poll per meeting
  // makes no sense to index it by anything other than meetingId
  Polls._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Polls);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentation-pods":{"server":{"handlers":{"createNewPresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/createNewPresentationPod.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleCreateNewPresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPresentationPod;
module.link("../modifiers/addPresentationPod", {
  default(v) {
    addPresentationPod = v;
  }

}, 1);

function handleCreateNewPresentationPod({
  body
}, meetingId) {
  check(body, {
    currentPresenterId: String,
    podId: String
  });
  check(meetingId, String);
  const {
    currentPresenterId,
    podId
  } = body;
  const pod = {
    currentPresenterId,
    podId
  };
  addPresentationPod(meetingId, pod);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/removePresentationPod.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRemovePresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePresentationPod;
module.link("../modifiers/removePresentationPod", {
  default(v) {
    removePresentationPod = v;
  }

}, 1);

function handleRemovePresentationPod({
  body
}, meetingId) {
  check(body, Object);
  check(meetingId, String);
  const {
    podId
  } = body;
  check(podId, String);
  removePresentationPod(meetingId, podId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresenterInPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/setPresenterInPod.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSetPresenterInPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setPresenterInPod;
module.link("../modifiers/setPresenterInPod", {
  default(v) {
    setPresenterInPod = v;
  }

}, 1);

function handleSetPresenterInPod({
  body
}, meetingId) {
  check(body, Object);
  const {
    podId,
    nextPresenterId
  } = body;
  check(podId, String);
  check(nextPresenterId, String);
  setPresenterInPod(meetingId, podId, nextPresenterId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"syncGetPresentationPods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/handlers/syncGetPresentationPods.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSyncGetPresentationPods
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let removePresentationPod;
module.link("../modifiers/removePresentationPod", {
  default(v) {
    removePresentationPod = v;
  }

}, 2);
let addPresentationPod;
module.link("../modifiers/addPresentationPod", {
  default(v) {
    addPresentationPod = v;
  }

}, 3);

function handleSyncGetPresentationPods({
  body
}, meetingId) {
  check(body, Object);
  check(meetingId, String);
  const {
    pods
  } = body;
  check(pods, Array);
  const presentationPodIds = pods.map(pod => pod.id);
  const presentationPodsToRemove = PresentationPods.find({
    meetingId,
    podId: {
      $nin: presentationPodIds
    }
  }, {
    fields: {
      podId: 1
    }
  }).fetch();
  presentationPodsToRemove.forEach(p => removePresentationPod(meetingId, p.podId));
  pods.forEach(pod => {
    // 'podId' and 'currentPresenterId' for some reason called 'id' and 'currentPresenter'
    // in this message
    const {
      id: podId,
      currentPresenter: currentPresenterId,
      presentations
    } = pod;
    addPresentationPod(meetingId, {
      podId,
      currentPresenterId
    }, presentations);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/addPresentationPod.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPresentationPod
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let addPresentation;
module.link("/imports/api/presentations/server/modifiers/addPresentation", {
  default(v) {
    addPresentation = v;
  }

}, 3);

function addPresentationPod(meetingId, pod, presentations = undefined) {
  check(meetingId, String);
  check(presentations, Match.Maybe(Array));
  check(pod, {
    currentPresenterId: String,
    podId: String
  });
  const {
    currentPresenterId,
    podId
  } = pod;
  const selector = {
    meetingId,
    podId
  };
  const modifier = {
    meetingId,
    podId,
    currentPresenterId
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding presentation pod to the collection: ${err}`);
    } // if it's a Sync message - continue adding the attached presentations


    if (presentations) {
      presentations.forEach(presentation => addPresentation(meetingId, podId, presentation));
    }

    if (numChanged) {
      return Logger.info(`Added presentation pod id=${podId} meeting=${meetingId}`);
    }

    return Logger.info(`Upserted presentation pod id=${podId} meeting=${meetingId}`);
  };

  return PresentationPods.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPresentationPods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/clearPresentationPods.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentationPods
});
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let clearPresentations;
module.link("/imports/api/presentations/server/modifiers/clearPresentations", {
  default(v) {
    clearPresentations = v;
  }

}, 2);
let clearPresentationUploadToken;
module.link("/imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken", {
  default(v) {
    clearPresentationUploadToken = v;
  }

}, 3);

function clearPresentationPods(meetingId) {
  if (meetingId) {
    return PresentationPods.remove({
      meetingId
    }, () => {
      clearPresentations(meetingId);
      clearPresentationUploadToken(meetingId);
      Logger.info(`Cleared Presentations Pods (${meetingId})`);
    });
  }

  return PresentationPods.remove({}, () => {
    clearPresentations();
    clearPresentationUploadToken();
    Logger.info('Cleared Presentations Pods (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentationPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/removePresentationPod.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentationPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let clearPresentations;
module.link("/imports/api/presentations/server/modifiers/clearPresentations", {
  default(v) {
    clearPresentations = v;
  }

}, 3);
let clearPresentationUploadToken;
module.link("/imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken", {
  default(v) {
    clearPresentationUploadToken = v;
  }

}, 4);

function removePresentationPod(meetingId, podId) {
  check(meetingId, String);
  check(podId, String);
  const selector = {
    meetingId,
    podId
  };

  const cb = err => {
    if (err) {
      Logger.error(`Removing presentation pod from collection: ${err}`);
      return;
    }

    if (podId) {
      Logger.info(`Removed presentation pod id=${podId} meeting=${meetingId}`);
      clearPresentations(meetingId, podId);
      clearPresentationUploadToken(meetingId, podId);
    }
  };

  return PresentationPods.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresenterInPod.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/modifiers/setPresenterInPod.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresenterInPod
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setPresenterInPod(meetingId, podId, nextPresenterId) {
  check(meetingId, String);
  check(podId, String);
  check(nextPresenterId, String);
  const selector = {
    meetingId,
    podId
  };
  const modifier = {
    $set: {
      currentPresenterId: nextPresenterId
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Setting a presenter in pod: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Set a new presenter in pod id=${podId} meeting=${meetingId}`);
    }
  };

  return PresentationPods.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/eventHandlers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleCreateNewPresentationPod;
module.link("./handlers/createNewPresentationPod", {
  default(v) {
    handleCreateNewPresentationPod = v;
  }

}, 1);
let handleRemovePresentationPod;
module.link("./handlers/removePresentationPod", {
  default(v) {
    handleRemovePresentationPod = v;
  }

}, 2);
let handleSyncGetPresentationPods;
module.link("./handlers/syncGetPresentationPods", {
  default(v) {
    handleSyncGetPresentationPods = v;
  }

}, 3);
let handleSetPresenterInPod;
module.link("./handlers/setPresenterInPod", {
  default(v) {
    handleSetPresenterInPod = v;
  }

}, 4);
RedisPubSub.on('CreateNewPresentationPodEvtMsg', handleCreateNewPresentationPod);
RedisPubSub.on('RemovePresentationPodEvtMsg', handleRemovePresentationPod);
RedisPubSub.on('SetPresenterInPodRespMsg', handleSetPresenterInPod);
RedisPubSub.on('SyncGetPresentationPodsRespMsg', handleSyncGetPresentationPods);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/index.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/methods.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/server/publishers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function presentationPods() {
  if (!this.userId) {
    return PresentationPods.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing presentation-pods for ${meetingId} ${requesterUserId}`);
  return PresentationPods.find({
    meetingId
  });
}

function publish(...args) {
  const boundPresentationPods = presentationPods.bind(this);
  return boundPresentationPods(...args);
}

Meteor.publish('presentation-pods', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-pods/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const PresentationPods = new Mongo.Collection('presentation-pods');

if (Meteor.isServer) {
  // types of queries for the presentation pods:
  // 1. meetingId, podId  ( 4 )
  PresentationPods._ensureIndex({
    meetingId: 1,
    podId: 1
  });
}

module.exportDefault(PresentationPods);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentation-upload-token":{"server":{"handlers":{"presentationUploadTokenFail.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/handlers/presentationUploadTokenFail.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationUploadTokenFail
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);

function handlePresentationUploadTokenFail({
  body,
  header
}, meetingId) {
  check(body, Object);
  const {
    userId
  } = header;
  const {
    podId,
    filename
  } = body;
  check(userId, String);
  check(podId, String);
  check(filename, String);
  const selector = {
    meetingId,
    userId,
    podId,
    filename
  };

  const cb = err => {
    if (err) {
      Logger.error(`Removing presentationToken from collection: ${err}`);
      return;
    }

    Logger.info(`Removing presentationToken filename=${filename} podId=${podId} meeting=${meetingId}`);
  };

  return PresentationUploadToken.upsert(selector, {
    failed: true,
    authzToken: null
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationUploadTokenPass.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/handlers/presentationUploadTokenPass.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationUploadTokenPass
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);

function handlePresentationUploadTokenPass({
  body,
  header
}, meetingId) {
  check(body, Object);
  const {
    userId
  } = header;
  const {
    podId,
    authzToken,
    filename
  } = body;
  check(userId, String);
  check(podId, String);
  check(authzToken, String);
  check(filename, String);
  const selector = {
    meetingId,
    podId,
    userId,
    filename
  };
  const doc = {
    meetingId,
    podId,
    userId,
    filename,
    authzToken,
    failed: false,
    used: false
  };

  const cb = err => {
    if (err) {
      Logger.error(`Inserting presentationToken from collection: ${err}`);
      return;
    }

    Logger.info(`Inserting presentationToken filename=${filename} podId=${podId} meeting=${meetingId}`);
  };

  return PresentationUploadToken.upsert(selector, doc, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"requestPresentationUploadToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods/requestPresentationUploadToken.js                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => requestPresentationUploadToken
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function requestPresentationUploadToken(podId, filename) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'PresentationUploadTokenReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(podId, String);
  check(filename, String);
  const payload = {
    podId,
    filename
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUsedToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods/setUsedToken.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUsedToken
});
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setUsedToken(authzToken) {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const payload = {
    $set: {
      used: true
    }
  };

  const cb = err => {
    if (err) {
      Logger.error(`Unable to set token as used : ${err}`);
      return;
    }

    Logger.info(`Token: ${authzToken} has been set as used in meeting=${meetingId}`);
  };

  return PresentationUploadToken.update({
    meetingId,
    userId: requesterUserId,
    authzToken
  }, payload, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearPresentationUploadToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/modifiers/clearPresentationUploadToken.js                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentationUploadToken
});
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPresentationUploadToken(meetingId, podId) {
  if (meetingId && podId) {
    return PresentationUploadToken.remove({
      meetingId,
      podId
    }, () => {
      Logger.info(`Cleared Presentations Upload Token (${meetingId}, ${podId})`);
    });
  }

  if (meetingId) {
    return PresentationUploadToken.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Presentations Upload Token (${meetingId})`);
    });
  } // clearing presentations for the whole server


  return PresentationUploadToken.remove({}, () => {
    Logger.info('Cleared Presentations Upload Token (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/eventHandlers.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handlePresentationUploadTokenPass;
module.link("./handlers/presentationUploadTokenPass", {
  default(v) {
    handlePresentationUploadTokenPass = v;
  }

}, 2);
let handlePresentationUploadTokenFail;
module.link("./handlers/presentationUploadTokenFail", {
  default(v) {
    handlePresentationUploadTokenFail = v;
  }

}, 3);
RedisPubSub.on('PresentationUploadTokenPassRespMsg', processForHTML5ServerOnly(handlePresentationUploadTokenPass));
RedisPubSub.on('PresentationUploadTokenFailRespMsg', processForHTML5ServerOnly(handlePresentationUploadTokenFail));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/index.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/methods.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let requestPresentationUploadToken;
module.link("./methods/requestPresentationUploadToken", {
  default(v) {
    requestPresentationUploadToken = v;
  }

}, 1);
let setUsedToken;
module.link("./methods/setUsedToken", {
  default(v) {
    setUsedToken = v;
  }

}, 2);
Meteor.methods({
  requestPresentationUploadToken,
  setUsedToken
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/server/publishers.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let PresentationUploadToken;
module.link("/imports/api/presentation-upload-token", {
  default(v) {
    PresentationUploadToken = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function presentationUploadToken(podId, filename) {
  if (!this.userId) {
    return PresentationUploadToken.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(podId, String);
  check(filename, String);
  const selector = {
    meetingId,
    podId,
    userId: requesterUserId,
    filename
  };
  Logger.debug(`Publishing PresentationUploadToken for ${meetingId} ${requesterUserId}`);
  return PresentationUploadToken.find(selector);
}

function publish(...args) {
  const boundPresentationUploadToken = presentationUploadToken.bind(this);
  return boundPresentationUploadToken(...args);
}

Meteor.publish('presentation-upload-token', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentation-upload-token/index.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
const PresentationUploadToken = new Mongo.Collection('presentation-upload-token');
module.exportDefault(PresentationUploadToken);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"presentations":{"server":{"handlers":{"presentationAdded.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationAdded.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationAdded
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addPresentation;
module.link("../modifiers/addPresentation", {
  default(v) {
    addPresentation = v;
  }

}, 1);

function handlePresentationAdded({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentation,
    podId
  } = body;
  check(meetingId, String);
  check(podId, String);
  check(presentation, Object);
  return addPresentation(meetingId, podId, presentation);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationConversionUpdate.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationConversionUpdate.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationConversionUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 2);
// const OFFICE_DOC_CONVERSION_SUCCESS_KEY = 'OFFICE_DOC_CONVERSION_SUCCESS';
const OFFICE_DOC_CONVERSION_FAILED_KEY = 'OFFICE_DOC_CONVERSION_FAILED';
const OFFICE_DOC_CONVERSION_INVALID_KEY = 'OFFICE_DOC_CONVERSION_INVALID';
const SUPPORTED_DOCUMENT_KEY = 'SUPPORTED_DOCUMENT';
const UNSUPPORTED_DOCUMENT_KEY = 'UNSUPPORTED_DOCUMENT';
const PAGE_COUNT_FAILED_KEY = 'PAGE_COUNT_FAILED';
const PAGE_COUNT_EXCEEDED_KEY = 'PAGE_COUNT_EXCEEDED';
const PDF_HAS_BIG_PAGE_KEY = 'PDF_HAS_BIG_PAGE';
const GENERATED_SLIDE_KEY = 'GENERATED_SLIDE'; // const GENERATING_THUMBNAIL_KEY = 'GENERATING_THUMBNAIL';
// const GENERATED_THUMBNAIL_KEY = 'GENERATED_THUMBNAIL';
// const GENERATING_TEXTFILES_KEY = 'GENERATING_TEXTFILES';
// const GENERATED_TEXTFILES_KEY = 'GENERATED_TEXTFILES';
// const GENERATING_SVGIMAGES_KEY = 'GENERATING_SVGIMAGES';
// const GENERATED_SVGIMAGES_KEY = 'GENERATED_SVGIMAGES';
// const CONVERSION_COMPLETED_KEY = 'CONVERSION_COMPLETED';

function handlePresentationConversionUpdate({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId,
    messageKey: status,
    presName: presentationName
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(status, String);
  const statusModifier = {
    'conversion.status': status,
    'conversion.error': false,
    'conversion.done': false
  };

  switch (status) {
    case SUPPORTED_DOCUMENT_KEY:
      statusModifier.id = presentationId;
      statusModifier.name = presentationName;
      break;

    case UNSUPPORTED_DOCUMENT_KEY:
    case OFFICE_DOC_CONVERSION_FAILED_KEY:
    case OFFICE_DOC_CONVERSION_INVALID_KEY:
    case PAGE_COUNT_FAILED_KEY:
    case PAGE_COUNT_EXCEEDED_KEY:
    case PDF_HAS_BIG_PAGE_KEY:
      statusModifier.id = presentationId;
      statusModifier.name = presentationName;
      statusModifier['conversion.error'] = true;
      break;

    case GENERATED_SLIDE_KEY:
      statusModifier['conversion.pagesCompleted'] = body.pagesCompleted;
      statusModifier['conversion.numPages'] = body.numberOfPages;
      break;

    default:
      break;
  }

  const selector = {
    meetingId,
    podId,
    id: presentationId
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      podId
    }, statusModifier)
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Updating conversion status presentation to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Updated presentation conversion status=${status} id=${presentationId} meeting=${meetingId}`);
    }

    return Logger.debug(`Upserted presentation conversion status=${status} id=${presentationId} meeting=${meetingId}`);
  };

  return Presentations.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationCurrentSet.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationCurrentSet.js                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationCurrentSet
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setCurrentPresentation;
module.link("../modifiers/setCurrentPresentation", {
  default(v) {
    setCurrentPresentation = v;
  }

}, 1);

function handlePresentationCurrentSet({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  return setCurrentPresentation(meetingId, podId, presentationId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationDownloadableSet.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationDownloadableSet.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationDownloadableSet
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let setPresentationDownloadable;
module.link("../modifiers/setPresentationDownloadable", {
  default(v) {
    setPresentationDownloadable = v;
  }

}, 1);

function handlePresentationDownloadableSet({
  body
}, meetingId) {
  check(body, Object);
  const {
    presentationId,
    podId,
    downloadable
  } = body;
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(downloadable, Boolean);
  return setPresentationDownloadable(meetingId, podId, presentationId, downloadable);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presentationRemove.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/handlers/presentationRemove.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresentationRemove
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removePresentation;
module.link("../modifiers/removePresentation", {
  default(v) {
    removePresentation = v;
  }

}, 1);

function handlePresentationRemove({
  body
}, meetingId) {
  const {
    podId,
    presentationId
  } = body;
  check(meetingId, String);
  check(podId, String);
  check(presentationId, String);
  return removePresentation(meetingId, podId, presentationId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"removePresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/removePresentation.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function removePresentation(presentationId, podId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'RemovePresentationPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(presentationId, String);
  check(podId, String);
  const payload = {
    presentationId,
    podId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/setPresentation.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentation
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setPresentation(presentationId, podId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetCurrentPresentationPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(presentationId, String);
  check(podId, String);
  const payload = {
    presentationId,
    podId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentationDownloadable.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods/setPresentationDownloadable.js                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentationDownloadable
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function setPresentationDownloadable(presentationId, downloadable) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetPresentationDownloadablePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(downloadable, Boolean);
  check(presentationId, String);
  const payload = {
    presentationId,
    podId: 'DEFAULT_PRESENTATION_POD',
    downloadable
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/addPresentation.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addPresentation
});
let HTTP;
module.link("meteor/http", {
  HTTP(v) {
    HTTP = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 4);
let addSlide;
module.link("/imports/api/slides/server/modifiers/addSlide", {
  default(v) {
    addSlide = v;
  }

}, 5);
let setCurrentPresentation;
module.link("./setCurrentPresentation", {
  default(v) {
    setCurrentPresentation = v;
  }

}, 6);

const getSlideText = url => Promise.asyncApply(() => {
  let content = '';

  try {
    content = Promise.await(HTTP.get(url).content);
  } catch (error) {
    Logger.error(`No file found. ${error}`);
  }

  return content;
});

const addSlides = (meetingId, podId, presentationId, slides) => {
  slides.forEach(slide => Promise.asyncApply(() => {
    const content = Promise.await(getSlideText(slide.txtUri));
    Object.assign(slide, {
      content
    });
    addSlide(meetingId, podId, presentationId, slide);
  }));
};

function addPresentation(meetingId, podId, presentation) {
  check(meetingId, String);
  check(podId, String);
  check(presentation, {
    id: String,
    name: String,
    current: Boolean,
    pages: [{
      id: String,
      num: Number,
      thumbUri: String,
      swfUri: String,
      txtUri: String,
      svgUri: String,
      current: Boolean,
      xOffset: Number,
      yOffset: Number,
      widthRatio: Number,
      heightRatio: Number
    }],
    downloadable: Boolean
  });
  const selector = {
    meetingId,
    podId,
    id: presentation.id
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      podId,
      'conversion.done': true,
      'conversion.error': false
    }, flat(presentation, {
      safe: true
    }))
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding presentation to collection: ${err}`);
    }

    addSlides(meetingId, podId, presentation.id, presentation.pages);
    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      if (presentation.current) {
        setCurrentPresentation(meetingId, podId, presentation.id);
      }

      return Logger.info(`Added presentation id=${presentation.id} meeting=${meetingId}`);
    }

    return Logger.info(`Upserted presentation id=${presentation.id} meeting=${meetingId}`);
  };

  return Presentations.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearPresentations.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/clearPresentations.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearPresentations
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearPresentations(meetingId, podId) {
  // clearing presentations for 1 pod
  if (meetingId && podId) {
    return Presentations.remove({
      meetingId,
      podId
    }, () => {
      Logger.info(`Cleared Presentations (${meetingId}, ${podId})`);
    });
  } // clearing presentations for the whole meeting


  if (meetingId) {
    return Presentations.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Presentations (${meetingId})`);
    });
  } // clearing presentations for the whole server


  return Presentations.remove({}, () => {
    Logger.info('Cleared Presentations (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removePresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/removePresentation.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removePresentation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let clearSlidesPresentation;
module.link("/imports/api/slides/server/modifiers/clearSlidesPresentation", {
  default(v) {
    clearSlidesPresentation = v;
  }

}, 3);

function removePresentation(meetingId, podId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  const selector = {
    meetingId,
    podId,
    id: presentationId
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Removing presentation from collection: ${err}`);
      return;
    }

    if (numChanged) {
      clearSlidesPresentation(meetingId, presentationId);
      Logger.info(`Removed presentation id=${presentationId} meeting=${meetingId}`);
    }
  };

  return Presentations.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setCurrentPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/setCurrentPresentation.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setCurrentPresentation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setCurrentPresentation(meetingId, podId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  const oldCurrent = {
    selector: {
      meetingId,
      podId,
      current: true
    },
    modifier: {
      $set: {
        current: false
      }
    },
    callback: err => {
      if (err) {
        return Logger.error(`Unsetting the current presentation: ${err}`);
      }

      return Logger.info('Unsetted as current presentation');
    }
  };
  const newCurrent = {
    selector: {
      meetingId,
      podId,
      id: presentationId
    },
    modifier: {
      $set: {
        current: true
      }
    },
    callback: err => {
      if (err) {
        return Logger.error(`Setting as current presentation id=${presentationId}: ${err}`);
      }

      return Logger.info(`Setted as current presentation id=${presentationId}`);
    }
  };
  const oldPresentation = Presentations.findOne(oldCurrent.selector);
  const newPresentation = Presentations.findOne(newCurrent.selector); // Prevent bug with presentation being unset, same happens in the slide
  // See: https://github.com/bigbluebutton/bigbluebutton/pull/4431

  if (oldPresentation && newPresentation && oldPresentation._id === newPresentation._id) {
    return;
  }

  if (newPresentation) {
    Presentations.update(newPresentation._id, newCurrent.modifier, newCurrent.callback);
  }

  if (oldPresentation) {
    Presentations.update(oldPresentation._id, oldCurrent.modifier, oldCurrent.callback);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setPresentationDownloadable.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/modifiers/setPresentationDownloadable.js                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setPresentationDownloadable
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setPresentationDownloadable(meetingId, podId, presentationId, downloadable) {
  check(meetingId, String);
  check(presentationId, String);
  check(podId, String);
  check(downloadable, Boolean);
  const selector = {
    meetingId,
    podId,
    id: presentationId
  };
  const modifier = {
    $set: {
      downloadable
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Could not set downloadable on pres {${presentationId} in meeting {${meetingId}} ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Set downloadable status on presentation {${presentationId} in meeting {${meetingId}}`);
    }
  };

  return Presentations.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/eventHandlers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handlePresentationAdded;
module.link("./handlers/presentationAdded", {
  default(v) {
    handlePresentationAdded = v;
  }

}, 1);
let handlePresentationRemove;
module.link("./handlers/presentationRemove", {
  default(v) {
    handlePresentationRemove = v;
  }

}, 2);
let handlePresentationCurrentSet;
module.link("./handlers/presentationCurrentSet", {
  default(v) {
    handlePresentationCurrentSet = v;
  }

}, 3);
let handlePresentationConversionUpdate;
module.link("./handlers/presentationConversionUpdate", {
  default(v) {
    handlePresentationConversionUpdate = v;
  }

}, 4);
let handlePresentationDownloadableSet;
module.link("./handlers/presentationDownloadableSet", {
  default(v) {
    handlePresentationDownloadableSet = v;
  }

}, 5);
RedisPubSub.on('PdfConversionInvalidErrorEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationPageGeneratedEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationPageCountErrorEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationConversionUpdateEvtMsg', handlePresentationConversionUpdate);
RedisPubSub.on('PresentationConversionCompletedEvtMsg', handlePresentationAdded);
RedisPubSub.on('RemovePresentationEvtMsg', handlePresentationRemove);
RedisPubSub.on('SetCurrentPresentationEvtMsg', handlePresentationCurrentSet);
RedisPubSub.on('SetPresentationDownloadableEvtMsg', handlePresentationDownloadableSet);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/index.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/methods.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let removePresentation;
module.link("./methods/removePresentation", {
  default(v) {
    removePresentation = v;
  }

}, 1);
let setPresentation;
module.link("./methods/setPresentation", {
  default(v) {
    setPresentation = v;
  }

}, 2);
let setPresentationDownloadable;
module.link("./methods/setPresentationDownloadable", {
  default(v) {
    setPresentationDownloadable = v;
  }

}, 3);
Meteor.methods({
  removePresentation,
  setPresentation,
  setPresentationDownloadable
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/server/publishers.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function presentations() {
  if (!this.userId) {
    return Presentations.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Presentations for ${meetingId} ${requesterUserId}`);
  return Presentations.find({
    meetingId
  });
}

function publish(...args) {
  const boundPresentations = presentations.bind(this);
  return boundPresentations(...args);
}

Meteor.publish('presentations', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/presentations/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Presentations = new Mongo.Collection('presentations');

if (Meteor.isServer) {
  // types of queries for the presentations:
  // 1. meetingId, podId, id        ( 3 )
  // 2. meetingId, id               ( 1 )
  // 3. meetingId, id, current      ( 2 )
  // 4. meetingId                   ( 1 )
  Presentations._ensureIndex({
    meetingId: 1,
    podId: 1,
    id: 1
  });
}

module.exportDefault(Presentations);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"screenshare":{"server":{"handlers":{"screenshareStarted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/handlers/screenshareStarted.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleScreenshareStarted
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let addScreenshare;
module.link("../modifiers/addScreenshare", {
  default(v) {
    addScreenshare = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 5);

function handleScreenshareStarted({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  const meeting = Meetings.findOne({
    meetingId
  });
  const presenter = Users.findOne({
    meetingId,
    presenter: true
  });
  const presenterId = presenter && presenter.userId ? presenter.userId : 'system-screenshare-starting';

  if (meeting && meeting.externalVideoUrl) {
    Logger.info(`ScreenshareStarted: There is external video being shared. Stopping it due to presenter change, ${meeting.externalVideoUrl}`);
    stopWatchingExternalVideo({
      meetingId,
      requesterUserId: presenterId
    });
  }

  return addScreenshare(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"screenshareStopped.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/handlers/screenshareStopped.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleScreenshareStopped
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let clearScreenshare;
module.link("../modifiers/clearScreenshare", {
  default(v) {
    clearScreenshare = v;
  }

}, 1);

function handleScreenshareStopped({
  body
}, meetingId) {
  const {
    screenshareConf
  } = body;
  check(meetingId, String);
  check(screenshareConf, String);
  return clearScreenshare(meetingId, screenshareConf);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addScreenshare.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/modifiers/addScreenshare.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addScreenshare
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 3);

function addScreenshare(meetingId, body) {
  check(meetingId, String);
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      meetingId,
      screenshare: flat(body)
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Adding screenshare to collection: ${err}`);
    }

    return Logger.info(`Upserted screenshare id=${body.screenshareConf}`);
  };

  return Screenshare.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearScreenshare.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/modifiers/clearScreenshare.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearScreenshare
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 1);

function clearScreenshare(meetingId, screenshareConf) {
  const cb = err => {
    if (err) {
      return Logger.error(`removing screenshare to collection: ${err}`);
    }

    return Logger.info(`removed screenshare meetingId=${meetingId} id=${screenshareConf}`);
  };

  if (meetingId && screenshareConf) {
    return Screenshare.remove({
      meetingId,
      'screenshare.screenshareConf': screenshareConf
    }, cb);
  }

  return Screenshare.remove({}, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleScreenshareStarted;
module.link("./handlers/screenshareStarted", {
  default(v) {
    handleScreenshareStarted = v;
  }

}, 1);
let handleScreenshareStopped;
module.link("./handlers/screenshareStopped", {
  default(v) {
    handleScreenshareStopped = v;
  }

}, 2);
RedisPubSub.on('ScreenshareRtmpBroadcastStartedEvtMsg', handleScreenshareStarted);
RedisPubSub.on('ScreenshareRtmpBroadcastStoppedEvtMsg', handleScreenshareStopped);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
Meteor.methods({});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Screenshare;
module.link("/imports/api/screenshare", {
  default(v) {
    Screenshare = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function screenshare() {
  if (!this.userId) {
    return Screenshare.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Screenshare for ${meetingId} ${requesterUserId}`);
  return Screenshare.find({
    meetingId
  });
}

function publish(...args) {
  const boundScreenshare = screenshare.bind(this);
  return boundScreenshare(...args);
}

Meteor.publish('screenshare', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/screenshare/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Screenshare = new Mongo.Collection('screenshare');

if (Meteor.isServer) {
  // types of queries for the screenshare:
  // 1. meetingId
  Screenshare._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(Screenshare);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"slides":{"server":{"handlers":{"slideChange.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/handlers/slideChange.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSlideChange
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let changeCurrentSlide;
module.link("../modifiers/changeCurrentSlide", {
  default(v) {
    changeCurrentSlide = v;
  }

}, 1);

function handleSlideChange({
  body
}, meetingId) {
  const {
    pageId,
    presentationId,
    podId
  } = body;
  check(pageId, String);
  check(presentationId, String);
  check(podId, String);
  return changeCurrentSlide(meetingId, podId, presentationId, pageId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"slideResize.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/handlers/slideResize.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleSlideResize
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let resizeSlide;
module.link("../modifiers/resizeSlide", {
  default(v) {
    resizeSlide = v;
  }

}, 1);

function handleSlideResize({
  body
}, meetingId) {
  check(meetingId, String);
  check(body, Object);
  return resizeSlide(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"switchSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods/switchSlide.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => switchSlide
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function switchSlide(slideNumber, podId) {
  // TODO-- send presentationId and SlideId
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetCurrentPagePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(slideNumber, Number);
  const selector = {
    meetingId,
    podId,
    current: true
  };
  const Presentation = Presentations.findOne(selector);

  if (!Presentation) {
    throw new Meteor.Error('presentation-not-found', 'You need a presentation to be able to switch slides');
  }

  const Slide = Slides.findOne({
    meetingId,
    podId,
    presentationId: Presentation.id,
    num: slideNumber
  });

  if (!Slide) {
    throw new Meteor.Error('slide-not-found', `Slide number ${slideNumber} not found in the current presentation`);
  }

  const payload = {
    podId,
    presentationId: Presentation.id,
    pageId: Slide.id
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zoomSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods/zoomSlide.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => zoomSlide
});
let Presentations;
module.link("/imports/api/presentations", {
  default(v) {
    Presentations = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function zoomSlide(slideNumber, podId, widthRatio, heightRatio, x, y) {
  // TODO-- send presentationId and SlideId
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ResizeAndMovePagePubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    podId,
    current: true
  };
  const Presentation = Presentations.findOne(selector);

  if (!Presentation) {
    throw new Meteor.Error('presentation-not-found', 'You need a presentation to be able to switch slides');
  }

  const Slide = Slides.findOne({
    meetingId,
    podId,
    presentationId: Presentation.id,
    num: slideNumber
  });

  if (!Slide) {
    throw new Meteor.Error('slide-not-found', `Slide number ${slideNumber} not found in the current presentation`);
  }

  const payload = {
    podId,
    presentationId: Presentation.id,
    pageId: Slide.id,
    xOffset: x,
    yOffset: y,
    widthRatio,
    heightRatio
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/addSlide.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

module.export({
  default: () => addSlide
});
let probe;
module.link("probe-image-size", {
  default(v) {
    probe = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 4);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 5);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 6);
let SVG, PNG;
module.link("/imports/utils/mimeTypes", {
  SVG(v) {
    SVG = v;
  },

  PNG(v) {
    PNG = v;
  }

}, 7);
let calculateSlideData;
module.link("/imports/api/slides/server/helpers", {
  default(v) {
    calculateSlideData = v;
  }

}, 8);
let addSlidePositions;
module.link("./addSlidePositions", {
  default(v) {
    addSlidePositions = v;
  }

}, 9);
const loadSlidesFromHttpAlways = Meteor.settings.private.app.loadSlidesFromHttpAlways || false;

const requestWhiteboardHistory = (meetingId, slideId) => {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'GetWhiteboardAnnotationsReqMsg';
  const USER_ID = 'nodeJSapp';
  const payload = {
    whiteboardId: slideId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, USER_ID, payload);
};

const SUPPORTED_TYPES = [SVG, PNG];

const fetchImageSizes = imageUri => probe(imageUri).then(result => {
  if (!SUPPORTED_TYPES.includes(result.mime)) {
    throw new Meteor.Error('invalid-image-type', `received ${result.mime} expecting ${SUPPORTED_TYPES.join()}`);
  }

  return {
    width: result.width,
    height: result.height
  };
}).catch(reason => {
  Logger.error(`Error parsing image size. ${reason}. uri=${imageUri}`);
  return reason;
});

function addSlide(meetingId, podId, presentationId, slide) {
  check(podId, String);
  check(presentationId, String);
  check(slide, {
    id: String,
    num: Number,
    thumbUri: String,
    swfUri: String,
    txtUri: String,
    svgUri: String,
    current: Boolean,
    xOffset: Number,
    yOffset: Number,
    widthRatio: Number,
    heightRatio: Number,
    content: String
  });
  const {
    id: slideId,
    xOffset,
    yOffset,
    widthRatio,
    heightRatio
  } = slide,
        restSlide = (0, _objectWithoutProperties2.default)(slide, ["id", "xOffset", "yOffset", "widthRatio", "heightRatio"]);
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: slideId
  };
  const imageUri = slide.svgUri || slide.pngUri;
  const modifier = {
    $set: Object.assign({
      meetingId
    }, {
      podId
    }, {
      presentationId
    }, {
      id: slideId
    }, {
      imageUri
    }, flat(restSlide), {
      safe: true
    })
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding slide to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;
    requestWhiteboardHistory(meetingId, slideId);

    if (insertedId) {
      return Logger.info(`Added slide id=${slideId} pod=${podId} presentation=${presentationId}`);
    }

    return Logger.info(`Upserted slide id=${slideId} pod=${podId} presentation=${presentationId}`);
  };

  const imageSizeUri = loadSlidesFromHttpAlways ? imageUri.replace(/^https/i, 'http') : imageUri;
  return fetchImageSizes(imageSizeUri).then(({
    width,
    height
  }) => {
    // there is a rare case when for a very long not-active meeting the presentation
    // files just disappear and width/height can't be retrieved
    if (width && height) {
      // pre-calculating the width, height, and vieBox coordinates / dimensions
      // to unload the client-side
      const slideData = {
        width,
        height,
        xOffset,
        yOffset,
        widthRatio,
        heightRatio
      };
      const slidePosition = calculateSlideData(slideData);
      addSlidePositions(meetingId, podId, presentationId, slideId, slidePosition);
    }

    return Slides.upsert(selector, modifier, cb);
  }).catch(reason => Logger.error(`Error parsing image size. ${reason}. slide=${slideId} uri=${imageUri}`));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addSlidePositions.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/addSlidePositions.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addSlidePositions
});
let SlidePositions;
module.link("/imports/api/slides", {
  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);

function addSlidePositions(meetingId, podId, presentationId, slideId, slidePosition) {
  check(meetingId, String);
  check(podId, String);
  check(presentationId, String);
  check(slideId, String);
  check(slidePosition, {
    width: Number,
    height: Number,
    x: Number,
    y: Number,
    viewBoxWidth: Number,
    viewBoxHeight: Number
  });
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: slideId
  };
  const modifier = {
    $set: Object.assign({
      meetingId
    }, {
      podId
    }, {
      presentationId
    }, {
      id: slideId
    }, flat(slidePosition), {
      safe: true
    })
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding slide position to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added slide position id=${slideId} pod=${podId} presentation=${presentationId}`);
    }

    return Logger.info(`Upserted slide position id=${slideId} pod=${podId} presentation=${presentationId}`);
  };

  return SlidePositions.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeCurrentSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/changeCurrentSlide.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeCurrentSlide
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Slides;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function changeCurrentSlide(meetingId, podId, presentationId, slideId) {
  check(meetingId, String);
  check(presentationId, String);
  check(slideId, String);
  check(podId, String);
  const oldCurrent = {
    selector: {
      meetingId,
      podId,
      presentationId,
      current: true
    },
    modifier: {
      $set: {
        current: false
      }
    },
    callback: err => {
      if (err) {
        return Logger.error(`Unsetting the current slide: ${err}`);
      }

      return Logger.info('Unsetted the current slide');
    }
  };
  const newCurrent = {
    selector: {
      meetingId,
      podId,
      presentationId,
      id: slideId
    },
    modifier: {
      $set: {
        current: true
      }
    },
    callback: err => {
      if (err) {
        return Logger.error(`Setting as current slide id=${slideId}: ${err}`);
      }

      return Logger.info(`Setted as current slide id=${slideId}`);
    }
  };
  const oldSlide = Slides.findOne(oldCurrent.selector);
  const newSlide = Slides.findOne(newCurrent.selector); // if the oldCurrent and newCurrent have the same ids

  if (oldSlide && newSlide && oldSlide._id === newSlide._id) {
    return;
  }

  if (newSlide) {
    Slides.update(newSlide._id, newCurrent.modifier, newCurrent.callback);
  }

  if (oldSlide) {
    Slides.update(oldSlide._id, oldCurrent.modifier, oldCurrent.callback);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearSlides.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/clearSlides.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearSlides
});
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearSlides(meetingId) {
  if (meetingId) {
    SlidePositions.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared SlidePositions (${meetingId})`);
    });
    return Slides.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Slides (${meetingId})`);
    });
  }

  SlidePositions.remove({}, () => {
    Logger.info('Cleared SlidePositions (all)');
  });
  return Slides.remove({}, () => {
    Logger.info('Cleared Slides (all)');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearSlidesPresentation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/clearSlidesPresentation.js                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearSlidesPresentation
});
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let clearAnnotations;
module.link("/imports/api/annotations/server/modifiers/clearAnnotations", {
  default(v) {
    clearAnnotations = v;
  }

}, 3);

function clearSlidesPresentation(meetingId, presentationId) {
  check(meetingId, String);
  check(presentationId, String);
  const selector = {
    meetingId,
    presentationId
  };
  const whiteboardIds = Slides.find(selector, {
    fields: {
      id: 1
    }
  }).map(row => row.id);

  const cb = err => {
    if (err) {
      return Logger.error(`Removing Slides from collection: ${err}`);
    }

    whiteboardIds.forEach(whiteboardId => clearAnnotations(meetingId, whiteboardId));
    return Logger.info(`Removed Slides where presentationId=${presentationId}`);
  };

  SlidePositions.remove(selector);
  return Slides.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"resizeSlide.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/modifiers/resizeSlide.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => resizeSlide
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let SlidePositions;
module.link("/imports/api/slides", {
  SlidePositions(v) {
    SlidePositions = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let calculateSlideData;
module.link("/imports/api/slides/server/helpers", {
  default(v) {
    calculateSlideData = v;
  }

}, 3);

function resizeSlide(meetingId, slide) {
  check(meetingId, String);
  const {
    podId,
    presentationId,
    pageId,
    widthRatio,
    heightRatio,
    xOffset,
    yOffset
  } = slide;
  const selector = {
    meetingId,
    podId,
    presentationId,
    id: pageId
  }; // fetching the current slide data
  // and pre-calculating the width, height, and vieBox coordinates / sizes
  // to reduce the client-side load

  const SlidePosition = SlidePositions.findOne(selector);

  if (SlidePosition) {
    const {
      width,
      height
    } = SlidePosition;
    const slideData = {
      width,
      height,
      xOffset,
      yOffset,
      widthRatio,
      heightRatio
    };
    const calculatedData = calculateSlideData(slideData);
    const modifier = {
      $set: calculatedData
    };

    const cb = (err, numChanged) => {
      if (err) {
        return Logger.error(`Resizing slide positions id=${pageId}: ${err}`);
      }

      if (numChanged) {
        return Logger.debug(`Resized slide positions id=${pageId}`);
      }

      return Logger.info(`No slide positions found with id=${pageId}`);
    };

    return SlidePositions.update(selector, modifier, cb);
  }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/eventHandlers.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleSlideResize;
module.link("./handlers/slideResize", {
  default(v) {
    handleSlideResize = v;
  }

}, 1);
let handleSlideChange;
module.link("./handlers/slideChange", {
  default(v) {
    handleSlideChange = v;
  }

}, 2);
RedisPubSub.on('ResizeAndMovePageEvtMsg', handleSlideResize);
RedisPubSub.on('SetCurrentPageEvtMsg', handleSlideChange);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/helpers.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
const calculateSlideData = slideData => {
  const {
    width,
    height,
    xOffset,
    yOffset,
    widthRatio,
    heightRatio
  } = slideData; // calculating viewBox and offsets for the current presentation

  return {
    width,
    height,
    x: -xOffset * 2 * width / 100,
    y: -yOffset * 2 * height / 100,
    viewBoxWidth: width * widthRatio / 100,
    viewBoxHeight: height * heightRatio / 100
  };
};

module.exportDefault(calculateSlideData);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/methods.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let switchSlide;
module.link("./methods/switchSlide", {
  default(v) {
    switchSlide = v;
  }

}, 1);
let zoomSlide;
module.link("./methods/zoomSlide", {
  default(v) {
    zoomSlide = v;
  }

}, 2);
Meteor.methods({
  switchSlide,
  zoomSlide
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/server/publishers.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Slides, SlidePositions;
module.link("/imports/api/slides", {
  Slides(v) {
    Slides = v;
  },

  SlidePositions(v) {
    SlidePositions = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function slides() {
  if (!this.userId) {
    return Slides.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Slides for ${meetingId} ${requesterUserId}`);
  return Slides.find({
    meetingId
  });
}

function publish(...args) {
  const boundSlides = slides.bind(this);
  return boundSlides(...args);
}

Meteor.publish('slides', publish);

function slidePositions() {
  if (!this.userId) {
    return SlidePositions.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing SlidePositions for ${meetingId} ${requesterUserId}`);
  return SlidePositions.find({
    meetingId
  });
}

function publishPositions(...args) {
  const boundSlidePositions = slidePositions.bind(this);
  return boundSlidePositions(...args);
}

Meteor.publish('slide-positions', publishPositions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/slides/index.js                                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  Slides: () => Slides,
  SlidePositions: () => SlidePositions
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Slides = new Mongo.Collection('slides');
const SlidePositions = new Mongo.Collection('slide-positions');

if (Meteor.isServer) {
  // types of queries for the slides:
  // 1. meetingId                                  ( 1 )
  // 2. meetingId, podId                           ( 1 )
  // 3. meetingId, presentationId                  ( 1 )
  // 3. meetingId, presentationId, num             ( 1 )
  // 4. meetingId, podId, presentationId, id       ( 3 ) - incl. resizeSlide, which can be intense
  // 5. meetingId, podId, presentationId, current  ( 1 )
  Slides._ensureIndex({
    meetingId: 1,
    podId: 1,
    presentationId: 1,
    id: 1
  });

  SlidePositions._ensureIndex({
    meetingId: 1,
    podId: 1,
    presentationId: 1,
    id: 1
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users":{"server":{"handlers":{"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/changeRole.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleChangeRole
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let changeRole;
module.link("/imports/api/users/server/modifiers/changeRole", {
  default(v) {
    changeRole = v;
  }

}, 1);

function handleChangeRole(payload, meetingId) {
  check(payload.body, Object);
  check(meetingId, String);
  const {
    userId,
    role,
    changedBy
  } = payload.body;
  return changeRole(role, userId, meetingId, changedBy);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"emojiStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/emojiStatus.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleEmojiStatus
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);

function handleEmojiStatus({
  body
}, meetingId) {
  const {
    userId,
    emoji
  } = body;
  check(userId, String);
  check(emoji, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      emojiTime: new Date().getTime(),
      emoji
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Assigning user emoji status: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Assigned user emoji status ${emoji} id=${userId} meeting=${meetingId}`);
    }
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/getUsers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetUsers
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users/", {
  default(v) {
    Users = v;
  }

}, 1);
let addUser;
module.link("../modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 2);
let removeUser;
module.link("../modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 3);

function handleGetUsers({
  body
}, meetingId) {
  const {
    users
  } = body;
  check(meetingId, String);
  check(users, Array);
  const usersIds = users.map(m => m.intId);
  const usersToRemove = Users.find({
    meetingId,
    userId: {
      $nin: usersIds
    }
  }, {
    fields: {
      userId: 1
    }
  }).fetch();
  usersToRemove.forEach(user => removeUser(meetingId, user.userId));
  const usersAdded = [];
  users.forEach(user => {
    usersAdded.push(addUser(meetingId, user));
  });
  return usersAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"presenterAssigned.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/presenterAssigned.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handlePresenterAssigned
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
let PresentationPods;
module.link("/imports/api/presentation-pods", {
  default(v) {
    PresentationPods = v;
  }

}, 1);
let changePresenter;
module.link("/imports/api/users/server/modifiers/changePresenter", {
  default(v) {
    changePresenter = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);

function setPresenterInPodReqMsg(credentials) {
  // TODO-- switch to meetingId, etc
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'SetPresenterInPodReqMsg';
  const {
    meetingId,
    requesterUserId,
    presenterId
  } = credentials;
  const payload = {
    podId: 'DEFAULT_PRESENTATION_POD',
    nextPresenterId: presenterId
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}

function handlePresenterAssigned({
  body
}, meetingId) {
  const {
    presenterId,
    assignedBy
  } = body;
  changePresenter(true, presenterId, meetingId, assignedBy);
  const selector = {
    meetingId,
    userId: {
      $ne: presenterId
    },
    presenter: true
  };
  const prevPresenter = Users.findOne(selector); // no previous presenters
  // The below code is responsible for set Meeting presenter to be default pod presenter as well.
  // It's been handled here because right now akka-apps don't handle all cases scenarios.

  if (!prevPresenter) {
    const setPresenterPayload = {
      meetingId,
      requesterUserId: assignedBy,
      presenterId
    };
    const defaultPodSelector = {
      meetingId,
      podId: 'DEFAULT_PRESENTATION_POD'
    };
    const currentDefaultPodPresenter = PresentationPods.findOne(defaultPodSelector);
    const {
      currentPresenterId
    } = currentDefaultPodPresenter;

    if (currentPresenterId === '') {
      return setPresenterInPodReqMsg(setPresenterPayload);
    }

    const oldPresenter = Users.findOne({
      meetingId,
      userId: currentPresenterId,
      connectionStatus: 'offline'
    });

    if (oldPresenter) {
      return setPresenterInPodReqMsg(setPresenterPayload);
    }

    return true;
  }

  return changePresenter(false, prevPresenter.userId, meetingId, assignedBy);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/removeUser.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleRemoveUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removeUser;
module.link("../modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 1);

function handleRemoveUser({
  body
}, meetingId) {
  const {
    intId
  } = body;
  check(meetingId, String);
  check(intId, String);
  return removeUser(meetingId, intId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userEjected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userEjected.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleEjectedUser
});
let userEjected;
module.link("../modifiers/userEjected", {
  default(v) {
    userEjected = v;
  }

}, 0);

function handleEjectedUser({
  header,
  body
}) {
  const {
    meetingId,
    userId
  } = header;
  const {
    reasonCode
  } = body;
  return userEjected(meetingId, userId, reasonCode);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userInactivityInspect.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userInactivityInspect.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserInactivityInspect
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let userInactivityInspect;
module.link("../modifiers/userInactivityInspect", {
  default(v) {
    userInactivityInspect = v;
  }

}, 1);

function handleUserInactivityInspect({
  header,
  body
}, meetingId) {
  const {
    userId
  } = header;
  const {
    responseDelay
  } = body;
  check(userId, String);
  check(responseDelay, Match.Integer);
  check(meetingId, String);
  return userInactivityInspect(userId, responseDelay);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userJoin.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userJoin.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userJoin
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);

function userJoin(meetingId, userId, authToken) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserJoinMeetingReqMsg';
  check(authToken, String);
  const payload = {
    userId,
    authToken,
    clientType: 'HTML5'
  };
  Logger.info(`User='${userId}' is joining meeting='${meetingId}' authToken='${authToken}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userJoined.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/userJoined.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserJoined
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUser;
module.link("../modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 1);

function handleUserJoined({
  body
}, meetingId) {
  const user = body;
  check(user, Object);
  return addUser(meetingId, user);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"validateAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/handlers/validateAuthToken.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleValidateAuthToken
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let userJoin;
module.link("./userJoin", {
  default(v) {
    userJoin = v;
  }

}, 3);
let pendingAuthenticationsStore;
module.link("../store/pendingAuthentications", {
  default(v) {
    pendingAuthenticationsStore = v;
  }

}, 4);
let createDummyUser;
module.link("../modifiers/createDummyUser", {
  default(v) {
    createDummyUser = v;
  }

}, 5);
let setConnectionIdAndAuthToken;
module.link("../modifiers/setConnectionIdAndAuthToken", {
  default(v) {
    setConnectionIdAndAuthToken = v;
  }

}, 6);

const clearOtherSessions = (sessionUserId, current = false) => {
  const serverSessions = Meteor.server.sessions;
  Object.keys(serverSessions).filter(i => serverSessions[i].userId === sessionUserId).filter(i => i !== current).forEach(i => serverSessions[i].close());
};

function handleValidateAuthToken({
  body
}, meetingId) {
  const {
    userId,
    valid,
    authToken,
    waitForApproval
  } = body;
  check(userId, String);
  check(authToken, String);
  check(valid, Boolean);
  check(waitForApproval, Boolean);
  const pendingAuths = pendingAuthenticationsStore.take(meetingId, userId, authToken);

  if (!valid) {
    pendingAuths.forEach(pendingAuth => {
      try {
        const {
          methodInvocationObject
        } = pendingAuth;
        const connectionId = methodInvocationObject.connection.id; // Schedule socket disconnection for this user, giving some time for client receiving the reason of disconnection

        Meteor.setTimeout(() => {
          methodInvocationObject.connection.close();
        }, 2000);
        Logger.info(`Closed connection ${connectionId} due to invalid auth token.`);
      } catch (e) {
        Logger.error(`Error closing socket for meetingId '${meetingId}', userId '${userId}', authToken ${authToken}`);
      }
    });
    return;
  }

  if (valid) {
    // Define user ID on connections
    pendingAuths.forEach(pendingAuth => {
      const {
        methodInvocationObject
      } = pendingAuth;
      /* Logic migrated from validateAuthToken method ( postponed to only run in case of success response ) - Begin */

      const sessionId = `${meetingId}--${userId}`;
      methodInvocationObject.setUserId(sessionId);
      const User = Users.findOne({
        meetingId,
        userId
      });

      if (!User) {
        createDummyUser(meetingId, userId, authToken);
      }

      setConnectionIdAndAuthToken(meetingId, userId, methodInvocationObject.connection.id, authToken);
      /* End of logic migrated from validateAuthToken */
    });
  }

  const selector = {
    meetingId,
    userId,
    clientType: 'HTML5'
  };
  const User = Users.findOne(selector); // If we dont find the user on our collection is a flash user and we can skip

  if (!User) return; // Publish user join message

  if (valid && !waitForApproval) {
    Logger.info('User=', User);
    userJoin(meetingId, userId, User.authToken);
  }

  const modifier = {
    $set: {
      validated: valid,
      approved: !waitForApproval,
      loginTime: Date.now(),
      inactivityCheck: false
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Validating auth token: ${err}`);
    }

    if (numChanged) {
      if (valid) {
        const sessionUserId = `${meetingId}-${userId}`;
        const currentConnectionId = User.connectionId ? User.connectionId : false;
        clearOtherSessions(sessionUserId, currentConnectionId);
      }

      return Logger.info(`Validated auth token as ${valid} user=${userId} meeting=${meetingId}`);
    }

    return Logger.info('No auth to validate');
  };

  Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"assignPresenter.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/assignPresenter.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => assignPresenter
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 5);

function assignPresenter(userId) {
  // TODO-- send username from client side
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'AssignPresenterReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const User = Users.findOne({
    meetingId,
    userId
  });

  if (!User) {
    throw new Meteor.Error('user-not-found', 'You need a valid user to be able to set presenter');
  }

  const payload = {
    newPresenterId: userId,
    newPresenterName: User.name,
    assignedBy: requesterUserId,
    requesterId: requesterUserId
  };
  Logger.verbose(`User '${userId}' setted as presenter by '${requesterUserId}' from meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/changeRole.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeRole
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function changeRole(userId, role) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserRoleCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  check(role, String);
  const payload = {
    userId,
    role,
    changedBy: requesterUserId
  };
  Logger.verbose(`User '${userId}' set as '${role} role by '${requesterUserId}' from meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/removeUser.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);
let BannedUsers;
module.link("/imports/api/users/server/store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 5);

function removeUser(userId, banUser) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EjectUserFromMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId: ejectedBy
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    userId,
    ejectedBy,
    banUser
  };
  const removedUser = Users.findOne({
    meetingId,
    userId
  }, {
    extId: 1
  });
  if (banUser && removedUser) BannedUsers.add(meetingId, removedUser.extId);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, ejectedBy, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setEmojiStatus.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/setEmojiStatus.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setEmojiStatus
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function setEmojiStatus(userId, status) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserEmojiCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    emoji: status,
    userId
  };
  Logger.verbose(`User '${userId}' emoji status updated to '${status}' by '${requesterUserId}' from meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUserEffectiveConnectionType.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/setUserEffectiveConnectionType.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUserEffectiveConnectionType
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);
let setEffectiveConnectionType;
module.link("../modifiers/setUserEffectiveConnectionType", {
  default(v) {
    setEffectiveConnectionType = v;
  }

}, 5);

function setUserEffectiveConnectionType(effectiveConnectionType) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ChangeUserEffectiveConnectionMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(effectiveConnectionType, String);
  const payload = {
    meetingId,
    userId: requesterUserId,
    effectiveConnectionType
  };
  setEffectiveConnectionType(meetingId, requesterUserId, effectiveConnectionType);
  Logger.verbose(`User ${requesterUserId} effective connection updated to ${effectiveConnectionType}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"toggleUserLock.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/toggleUserLock.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => toggleUserLock
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function toggleUserLock(userId, lock) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'LockUserInMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId: lockedBy
  } = extractCredentials(this.userId);
  check(lockedBy, String);
  check(userId, String);
  check(lock, Boolean);
  const payload = {
    lockedBy,
    userId,
    lock
  };
  Logger.verbose(`User ${lockedBy} updated lock status from ${userId} to ${lock}
  in meeting ${meetingId}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, lockedBy, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userActivitySign.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userActivitySign.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userActivitySign
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userActivitySign() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserActivitySignCmdMsg';
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  const payload = {
    userId
  };
  const selector = {
    userId
  };
  const modifier = {
    $set: {
      inactivityCheck: false
    }
  };
  Users.update(selector, modifier); // TODO-- we should move this to a modifier

  Logger.info(`User ${userId} sent a activity sign for meeting ${meetingId}`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLeaving.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userLeaving.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userLeaving
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 4);

function userLeaving(meetingId, userId, connectionId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserLeaveReqMsg';
  check(userId, String);
  const selector = {
    meetingId,
    userId
  };
  const User = Users.findOne(selector);

  if (!User) {
    return Logger.info(`Skipping userLeaving. Could not find ${userId} in ${meetingId}`);
  } // If the current user connection is not the same that triggered the leave we skip


  if (User.connectionId !== connectionId) {
    return false;
  }

  const payload = {
    userId,
    sessionId: meetingId
  };
  Logger.info(`User '${userId}' is leaving meeting '${meetingId}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, userId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userLeftMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/userLeftMeeting.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userLeftMeeting
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function userLeftMeeting() {
  // TODO-- spread the code to method/modifier/handler
  // so we don't update the db in a method
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    userId: requesterUserId
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`leaving dummy user to collection: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`user left id=${requesterUserId} meeting=${meetingId}`);
    }
  };

  return Users.update(selector, {
    $set: {
      loggedOut: true
    }
  }, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"validateAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods/validateAuthToken.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => validateAuthToken
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let pendingAuthenticationsStore;
module.link("../store/pendingAuthentications", {
  default(v) {
    pendingAuthenticationsStore = v;
  }

}, 3);
let BannedUsers;
module.link("../store/bannedUsers", {
  default(v) {
    BannedUsers = v;
  }

}, 4);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 5);

function validateAuthToken(meetingId, requesterUserId, requesterToken, externalId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ValidateAuthTokenReqMsg'; // Check if externalId is banned from the meeting

  if (externalId) {
    if (BannedUsers.has(meetingId, externalId)) {
      Logger.warn(`A banned user with extId ${externalId} tried to enter in meeting ${meetingId}`);
      return {
        invalid: true,
        reason: 'User has been banned.'
      };
    }
  } // Check if a removed user is trying to access the meeting using the same sessionToken


  const isUserEjected = Users.findOne({
    meetingId,
    authToken: requesterToken,
    ejected: true
  });

  if (isUserEjected) {
    Logger.warn(`An invalid sessionToken tried to validateAuthToken meetingId=${meetingId} authToken=${requesterToken}`);
    return {
      invalid: true,
      reason: 'User has been ejected.'
    };
  } // Store reference of methodInvocationObject ( to postpone the connection userId definition )


  pendingAuthenticationsStore.add(meetingId, requesterUserId, requesterToken, this);
  const payload = {
    userId: requesterUserId,
    authToken: requesterToken
  };
  Logger.info(`User '${requesterUserId}' is trying to validate auth token for meeting '${meetingId}' from connection '${this.connection.id}'`);
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addDialInUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/addDialInUser.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addDialInUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUser;
module.link("/imports/api/users/server/modifiers/addUser", {
  default(v) {
    addUser = v;
  }

}, 1);

function addDialInUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, Object);
  const USER_CONFIG = Meteor.settings.public.user;
  const ROLE_VIEWER = USER_CONFIG.role_viewer;
  const {
    intId,
    callerName
  } = voiceUser;
  const voiceOnlyUser = {
    intId,
    extId: intId,
    // TODO
    name: callerName,
    role: ROLE_VIEWER.toLowerCase(),
    guest: false,
    authed: true,
    waitingForAcceptance: false,
    guestStatus: 'ALLOW',
    emoji: 'none',
    presenter: false,
    locked: false,
    // TODO
    avatar: '',
    clientType: 'dial-in-user'
  };
  return addUser(meetingId, voiceOnlyUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"addUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/addUser.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 3);
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 4);

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 5);
let SanitizeHTML;
module.link("sanitize-html", {
  default(v) {
    SanitizeHTML = v;
  }

}, 6);
let stringHash;
module.link("string-hash", {
  default(v) {
    stringHash = v;
  }

}, 7);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 8);
let addVoiceUser;
module.link("/imports/api/voice-users/server/modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 9);
const COLOR_LIST = ['#7b1fa2', '#6a1b9a', '#4a148c', '#5e35b1', '#512da8', '#4527a0', '#311b92', '#3949ab', '#303f9f', '#283593', '#1a237e', '#1976d2', '#1565c0', '#0d47a1', '#0277bd', '#01579b'];

function addUser(meetingId, userData) {
  const user = userData;
  const sanitizedName = SanitizeHTML(userData.name, {
    allowedTags: [],
    allowedAttributes: {}
  }); // if user typed only tags

  user.name = sanitizedName.length === 0 ? _.escape(userData.name) : sanitizedName;
  check(meetingId, String);
  check(user, {
    intId: String,
    extId: String,
    name: String,
    role: String,
    guest: Boolean,
    authed: Boolean,
    waitingForAcceptance: Match.Maybe(Boolean),
    guestStatus: String,
    emoji: String,
    presenter: Boolean,
    locked: Boolean,
    avatar: String,
    clientType: String
  });
  const userId = user.intId;
  const selector = {
    meetingId,
    userId
  };
  const Meeting = Meetings.findOne({
    meetingId
  });
  /* While the akka-apps dont generate a color we just pick one
    from a list based on the userId */

  const color = COLOR_LIST[stringHash(user.intId) % COLOR_LIST.length];
  const modifier = {
    $set: Object.assign({
      meetingId,
      connectionStatus: 'online',
      sortName: user.name.trim().toLowerCase(),
      color,
      breakoutProps: {
        isBreakoutUser: Meeting.meetingProp.isBreakout,
        parentId: Meeting.breakoutProps.parentId
      },
      effectiveConnectionType: null,
      inactivityCheck: false,
      responseDelay: 0,
      loggedOut: false
    }, flat(user))
  }; // Only add an empty VoiceUser if there isn't one already and if the user coming in isn't a
  // dial-in user. We want to avoid overwriting good data

  if (user.clientType !== 'dial-in-user' && !VoiceUsers.findOne({
    meetingId,
    intId: userId
  })) {
    addVoiceUser(meetingId, {
      voiceUserId: '',
      intId: userId,
      callerName: user.name,
      callerNum: '',
      muted: false,
      talking: false,
      callingWith: '',
      listenOnly: false,
      voiceConf: '',
      joined: false
    });
  }

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Adding user to collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added user id=${userId} meeting=${meetingId}`);
    }

    return Logger.info(`Upserted user id=${userId} meeting=${meetingId}`);
  };

  return Users.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changePresenter.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/changePresenter.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changePresenter
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 3);

function changePresenter(presenter, userId, meetingId, changedBy) {
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      presenter
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changed user role: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Changed presenter=${presenter} id=${userId} meeting=${meetingId}` + `${changedBy ? ` changedBy=${changedBy}` : ''}`);
    }

    return null;
  };

  const meeting = Meetings.findOne({
    meetingId
  });

  if (meeting && meeting.externalVideoUrl) {
    Logger.info(`ChangePresenter:There is external video being shared. Stopping it due to presenter change, ${meeting.externalVideoUrl}`);
    stopWatchingExternalVideo({
      meetingId,
      requesterUserId: userId
    });
  }

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeRole.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/changeRole.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeRole
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);

function changeRole(role, userId, meetingId, changedBy) {
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      role
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Changed user role: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Changed user role=${role} id=${userId} meeting=${meetingId}` + `${changedBy ? ` changedBy=${changedBy}` : ''}`);
    }

    return null;
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/clearUsers.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users/index", {
  default(v) {
    Users = v;
  }

}, 1);

const clearUsers = meetingId => {
  if (meetingId) {
    return Users.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared Users (${meetingId})`);
    });
  }

  return Users.remove({}, () => {
    Logger.info('Cleared Users (all)');
  });
};

module.exportDefault(clearUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"createDummyUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/createDummyUser.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => createDummyUser
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);

function createDummyUser(meetingId, userId, authToken) {
  check(meetingId, String);
  check(userId, String);
  check(authToken, String);
  const User = Users.findOne({
    meetingId,
    userId
  });

  if (User) {
    throw new Meteor.Error('existing-user', 'Tried to create a dummy user for an existing user');
  }

  const doc = {
    meetingId,
    userId,
    authToken,
    clientType: 'HTML5',
    validated: null
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Creating dummy user to collection: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Created dummy user id=${userId} token=${authToken} meeting=${meetingId}`);
    }
  };

  return Users.insert(doc, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/removeUser.js                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 2);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 3);
let stopWatchingExternalVideo;
module.link("/imports/api/external-videos/server/methods/stopWatchingExternalVideo", {
  default(v) {
    stopWatchingExternalVideo = v;
  }

}, 4);
let clearUserInfoForRequester;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfoForRequester", {
  default(v) {
    clearUserInfoForRequester = v;
  }

}, 5);

const clearAllSessions = sessionUserId => {
  const serverSessions = Meteor.server.sessions;
  Object.keys(serverSessions).filter(i => serverSessions[i].userId === sessionUserId).forEach(i => serverSessions[i].close());
};

function removeUser(meetingId, userId) {
  check(meetingId, String);
  check(userId, String);
  const userToRemove = Users.findOne({
    userId,
    meetingId
  });

  if (userToRemove) {
    const {
      presenter
    } = userToRemove;

    if (presenter) {
      stopWatchingExternalVideo({
        meetingId,
        requesterUserId: userId
      });
    }
  }

  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      connectionStatus: 'offline',
      validated: false,
      emoji: 'none',
      presenter: false,
      role: 'VIEWER'
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Removing user from collection: ${err}`);
    }

    const sessionUserId = `${meetingId}-${userId}`;
    clearAllSessions(sessionUserId);
    clearUserInfoForRequester(meetingId, userId);
    return Logger.info(`Removed user id=${userId} meeting=${meetingId}`);
  };

  VideoStreams.remove({
    meetingId,
    userId
  });
  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setConnectionIdAndAuthToken.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/setConnectionIdAndAuthToken.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setConnectionIdAndAuthToken
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setConnectionIdAndAuthToken(meetingId, userId, connectionId, authToken) {
  check(meetingId, String);
  check(userId, String);
  check(authToken, String);
  check(connectionId, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      connectionId,
      authToken
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Updating connectionId user=${userId}: ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Updated connectionId and authToken user=${userId} connectionId=${connectionId} meeting=${meetingId} authToken=${authToken}`);
    }
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"setUserEffectiveConnectionType.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/setUserEffectiveConnectionType.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => setUserEffectiveConnectionType
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function setUserEffectiveConnectionType(meetingId, userId, effectiveConnectionType) {
  check(meetingId, String);
  check(userId, String);
  check(effectiveConnectionType, String);
  const selector = {
    meetingId,
    userId,
    effectiveConnectionType: {
      $ne: effectiveConnectionType
    }
  };
  const modifier = {
    $set: {
      effectiveConnectionType
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Updating user ${userId}: ${err}`);
    }

    if (numChanged) {
      Logger.info(`Updated user ${userId} effective connection to ${effectiveConnectionType} in meeting ${meetingId}`);
    }
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userEjected.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/userEjected.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userEjected
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);
let clearUserInfoForRequester;
module.link("/imports/api/users-infos/server/modifiers/clearUserInfoForRequester", {
  default(v) {
    clearUserInfoForRequester = v;
  }

}, 3);

function userEjected(meetingId, userId, ejectedReason) {
  check(meetingId, String);
  check(userId, String);
  check(ejectedReason, String);
  const selector = {
    meetingId,
    userId
  };
  const modifier = {
    $set: {
      ejected: true,
      ejectedReason
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Ejecting user from collection: ${err}`);
    }

    if (numChanged) {
      clearUserInfoForRequester(meetingId, userId);
      return Logger.info(`Ejected user id=${userId} meeting=${meetingId} reason=${ejectedReason}`);
    }

    return null;
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userInactivityInspect.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/modifiers/userInactivityInspect.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userInactivityInspect
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 2);

function userInactivityInspect(userId, responseDelay) {
  check(userId, String);
  check(responseDelay, Match.Integer);
  const selector = {
    userId,
    inactivityCheck: false
  };
  const modifier = {
    $set: {
      inactivityCheck: true,
      responseDelay
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Inactivity check for user ${userId}: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Updated user ${userId} with inactivity inspect`);
    }

    return null;
  };

  return Users.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"store":{"bannedUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/store/bannedUsers.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

class BannedUsers {
  constructor() {
    Logger.debug('BannedUsers :: Initializing');
    this.store = {};
  }

  init(meetingId) {
    Logger.debug('BannedUsers :: init', {
      meetingId
    });
    if (!this.store[meetingId]) this.store[meetingId] = new Set();
  }

  add(meetingId, externalId) {
    Logger.debug('BannedUsers :: add', {
      meetingId,
      externalId
    });
    if (!this.store[meetingId]) this.store[meetingId] = new Set();
    this.store[meetingId].add(externalId);
  }

  delete(meetingId) {
    Logger.debug('BannedUsers :: delete', {
      meetingId
    });
    delete this.store[meetingId];
  }

  has(meetingId, externalId) {
    Logger.debug('BannedUsers :: has', {
      meetingId,
      externalId
    });
    if (!this.store[meetingId]) this.store[meetingId] = new Set();
    return this.store[meetingId].has(externalId);
  }

}

module.exportDefault(new BannedUsers());
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"pendingAuthentications.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/store/pendingAuthentications.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);

class PendingAuthentitcations {
  constructor() {
    Logger.debug("PendingAuthentitcations :: constructor");
    this.store = [];
  }

  generateKey(meetingId, userId, authToken) {
    // Protect against separator injection
    meetingId = meetingId.replace(/ /g, '');
    userId = userId.replace(/ /g, '');
    authToken = authToken.replace(/ /g, ''); // Space separated key

    return `${meetingId} ${userId} ${authToken}`;
  }

  add(meetingId, userId, authToken, methodInvocationObject) {
    Logger.debug("PendingAuthentitcations :: add", {
      meetingId,
      userId,
      authToken
    });
    this.store.push({
      key: this.generateKey(meetingId, userId, authToken),
      meetingId,
      userId,
      authToken,
      methodInvocationObject
    });
  }

  take(meetingId, userId, authToken) {
    const key = this.generateKey(meetingId, userId, authToken);
    Logger.debug("PendingAuthentitcations :: take", {
      key,
      meetingId,
      userId,
      authToken
    }); // find matches

    const matches = this.store.filter(e => e.key === key); // remove matches (if any)

    if (matches.length) {
      this.store = this.store.filter(e => e.key !== key);
    } // return matches


    return matches;
  }

}

module.exportDefault(new PendingAuthentitcations());
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/eventHandlers.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleRemoveUser;
module.link("./handlers/removeUser", {
  default(v) {
    handleRemoveUser = v;
  }

}, 1);
let handleUserJoined;
module.link("./handlers/userJoined", {
  default(v) {
    handleUserJoined = v;
  }

}, 2);
let handleValidateAuthToken;
module.link("./handlers/validateAuthToken", {
  default(v) {
    handleValidateAuthToken = v;
  }

}, 3);
let handlePresenterAssigned;
module.link("./handlers/presenterAssigned", {
  default(v) {
    handlePresenterAssigned = v;
  }

}, 4);
let handleEmojiStatus;
module.link("./handlers/emojiStatus", {
  default(v) {
    handleEmojiStatus = v;
  }

}, 5);
let handleGetUsers;
module.link("./handlers/getUsers", {
  default(v) {
    handleGetUsers = v;
  }

}, 6);
let handleUserEjected;
module.link("./handlers/userEjected", {
  default(v) {
    handleUserEjected = v;
  }

}, 7);
let handleChangeRole;
module.link("./handlers/changeRole", {
  default(v) {
    handleChangeRole = v;
  }

}, 8);
let handleUserInactivityInspect;
module.link("./handlers/userInactivityInspect", {
  default(v) {
    handleUserInactivityInspect = v;
  }

}, 9);
RedisPubSub.on('PresenterAssignedEvtMsg', handlePresenterAssigned);
RedisPubSub.on('UserJoinedMeetingEvtMsg', handleUserJoined);
RedisPubSub.on('UserLeftMeetingEvtMsg', handleRemoveUser);
RedisPubSub.on('ValidateAuthTokenRespMsg', handleValidateAuthToken);
RedisPubSub.on('UserEmojiChangedEvtMsg', handleEmojiStatus);
RedisPubSub.on('SyncGetUsersMeetingRespMsg', handleGetUsers);
RedisPubSub.on('UserEjectedFromMeetingEvtMsg', handleUserEjected);
RedisPubSub.on('UserRoleChangedEvtMsg', handleChangeRole);
RedisPubSub.on('UserInactivityInspectMsg', handleUserInactivityInspect);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/index.js                                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/methods.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let validateAuthToken;
module.link("./methods/validateAuthToken", {
  default(v) {
    validateAuthToken = v;
  }

}, 1);
let setEmojiStatus;
module.link("./methods/setEmojiStatus", {
  default(v) {
    setEmojiStatus = v;
  }

}, 2);
let assignPresenter;
module.link("./methods/assignPresenter", {
  default(v) {
    assignPresenter = v;
  }

}, 3);
let changeRole;
module.link("./methods/changeRole", {
  default(v) {
    changeRole = v;
  }

}, 4);
let removeUser;
module.link("./methods/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 5);
let toggleUserLock;
module.link("./methods/toggleUserLock", {
  default(v) {
    toggleUserLock = v;
  }

}, 6);
let setUserEffectiveConnectionType;
module.link("./methods/setUserEffectiveConnectionType", {
  default(v) {
    setUserEffectiveConnectionType = v;
  }

}, 7);
let userActivitySign;
module.link("./methods/userActivitySign", {
  default(v) {
    userActivitySign = v;
  }

}, 8);
let userLeftMeeting;
module.link("./methods/userLeftMeeting", {
  default(v) {
    userLeftMeeting = v;
  }

}, 9);
Meteor.methods({
  setEmojiStatus,
  assignPresenter,
  changeRole,
  removeUser,
  validateAuthToken,
  toggleUserLock,
  setUserEffectiveConnectionType,
  userActivitySign,
  userLeftMeeting
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/server/publishers.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 4);
let userLeaving;
module.link("./methods/userLeaving", {
  default(v) {
    userLeaving = v;
  }

}, 5);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 6);
const ROLE_MODERATOR = Meteor.settings.public.user.role_moderator;

function currentUser() {
  if (!this.userId) {
    return Users.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const connectionId = this.connection.id;
  const onCloseConnection = Meteor.bindEnvironment(() => {
    try {
      userLeaving(meetingId, requesterUserId, connectionId);
    } catch (e) {
      Logger.error(`Exception while executing userLeaving: ${e}`);
    }
  });

  this._session.socket.on('close', _.debounce(onCloseConnection, 100));

  const selector = {
    meetingId,
    userId: requesterUserId
  };
  const options = {
    fields: {
      user: false,
      authToken: false // Not asking for authToken from client side but also not exposing it

    }
  };
  return Users.find(selector, options);
}

function publishCurrentUser(...args) {
  const boundUsers = currentUser.bind(this);
  return boundUsers(...args);
}

Meteor.publish('current-user', publishCurrentUser);

function users(role) {
  if (!this.userId) {
    return Users.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    $or: [{
      meetingId
    }]
  };
  const User = Users.findOne({
    userId: requesterUserId,
    meetingId
  }, {
    fields: {
      role: 1
    }
  });

  if (!!User && User.role === ROLE_MODERATOR) {
    selector.$or.push({
      'breakoutProps.isBreakoutUser': true,
      'breakoutProps.parentId': meetingId,
      connectionStatus: 'online'
    });
  }

  const options = {
    fields: {
      authToken: false,
      lastPing: false
    }
  };
  Logger.debug(`Publishing Users for ${meetingId} ${requesterUserId}`);
  return Users.find(selector, options);
}

function publish(...args) {
  const boundUsers = users.bind(this);
  return boundUsers(...args);
}

Meteor.publish('users', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users/index.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const Users = new Mongo.Collection('users');

if (Meteor.isServer) {
  // types of queries for the users:
  // 1. meetingId
  // 2. meetingId, userId
  Users._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(Users);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users-infos":{"server":{"handlers":{"userInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/handlers/userInformation.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserInformation
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUserInfo;
module.link("../modifiers/addUserInfo", {
  default(v) {
    addUserInfo = v;
  }

}, 1);

function handleUserInformation({
  header,
  body
}) {
  check(body, Object);
  check(header, Object);
  const {
    userInfo
  } = body;
  const {
    userId,
    meetingId
  } = header;
  check(userInfo, Array);
  check(userId, String);
  check(meetingId, String);
  return addUserInfo(userInfo, userId, meetingId);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"removeUserInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods/removeUserInformation.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeUserInformation
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 2);

function removeUserInformation() {
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const selector = {
    meetingId,
    requesterUserId
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Removing user information from collection: ${err}`);
    }

    return Logger.info(`Removed user information: requester id=${requesterUserId} meeting=${meetingId}`);
  };

  return UserInfos.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"requestUserInformation.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods/requestUserInformation.js                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => getUserInformation
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function getUserInformation(externalUserId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toThirdParty;
  const EVENT_NAME = 'LookUpUserReqMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(externalUserId, String);
  const payload = {
    externalUserId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addUserInfo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/addUserInfo.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUserInfo
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function addUserInfo(userInfo, requesterUserId, meetingId) {
  const info = {
    meetingId,
    requesterUserId,
    userInfo
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Adding user information to collection: ${err}`);
    }

    return Logger.info(`Added user information: requester id=${requesterUserId} meeting=${meetingId}`);
  };

  return UserInfos.insert(info, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUserInfo.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/clearUserInfo.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersInfo
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersInfo(meetingId) {
  return UserInfos.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared User Infos (${meetingId})`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUserInfoForRequester.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/modifiers/clearUserInfoForRequester.js                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersInfoForRequester
});
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersInfoForRequester(meetingId, requesterUserId) {
  return UserInfos.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared User Infos requested by user=${requesterUserId}`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleUserInformation;
module.link("./handlers/userInformation", {
  default(v) {
    handleUserInformation = v;
  }

}, 1);
RedisPubSub.on('LookUpUserRespMsg', handleUserInformation);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let requestUserInformation;
module.link("./methods/requestUserInformation", {
  default(v) {
    requestUserInformation = v;
  }

}, 1);
let removeUserInformation;
module.link("./methods/removeUserInformation", {
  default(v) {
    removeUserInformation = v;
  }

}, 2);
Meteor.methods({
  requestUserInformation,
  removeUserInformation
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let UserInfos;
module.link("/imports/api/users-infos", {
  default(v) {
    UserInfos = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function userInfos() {
  if (!this.userId) {
    return UserInfos.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing user infos requested by user=${requesterUserId}`);
  return UserInfos.find({
    meetingId,
    requesterUserId
  });
}

function publish(...args) {
  const boundUserInfos = userInfos.bind(this);
  return boundUserInfos(...args);
}

Meteor.publish('users-infos', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-infos/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const UserInfos = new Mongo.Collection('users-infos');

if (Meteor.isServer) {
  UserInfos._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(UserInfos);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"users-settings":{"server":{"methods":{"addUserSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/methods/addUserSettings.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  default: () => addUserSettings
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let addUserSetting;
module.link("/imports/api/users-settings/server/modifiers/addUserSetting", {
  default(v) {
    addUserSetting = v;
  }

}, 1);
let logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
const oldParameters = {
  askForFeedbackOnLogout: 'bbb_ask_for_feedback_on_logout',
  autoJoin: 'bbb_auto_join_audio',
  autoShareWebcam: 'bbb_auto_share_webcam',
  autoSwapLayout: 'bbb_auto_swap_layout',
  clientTitle: 'bbb_client_title',
  customStyle: 'bbb_custom_style',
  customStyleUrl: 'bbb_custom_style_url',
  displayBrandingArea: 'bbb_display_branding_area',
  enableScreensharing: 'bbb_enable_screen_sharing',
  enableVideo: 'bbb_enable_video',
  forceListenOnly: 'bbb_force_listen_only',
  hidePresentation: 'bbb_hide_presentation',
  listenOnlyMode: 'bbb_listen_only_mode',
  multiUserPenOnly: 'bbb_multi_user_pen_only',
  multiUserTools: 'bbb_multi_user_tools',
  outsideToggleRecording: 'bbb_outside_toggle_recording',
  outsideToggleSelfVoice: 'bbb_outside_toggle_self_voice',
  presenterTools: 'bbb_presenter_tools',
  shortcuts: 'bbb_shortcuts',
  skipCheck: 'bbb_skip_check_audio'
};
const oldParametersKeys = Object.keys(oldParameters);
const currentParameters = [// APP
'bbb_ask_for_feedback_on_logout', 'bbb_auto_join_audio', 'bbb_client_title', 'bbb_force_listen_only', 'bbb_listen_only_mode', 'bbb_skip_check_audio', // BRANDING
'bbb_display_branding_area', // SHORTCUTS
'bbb_shortcuts', // KURENTO
'bbb_auto_share_webcam', 'bbb_preferred_camera_profile', 'bbb_enable_screen_sharing', 'bbb_enable_video', 'bbb_record_video', 'bbb_skip_video_preview', 'bbb_mirror_own_webcam', // PRESENTATION
'bbb_force_restore_presentation_on_new_events', // WHITEBOARD
'bbb_multi_user_pen_only', 'bbb_presenter_tools', 'bbb_multi_user_tools', // SKINNING/THEMMING
'bbb_custom_style', 'bbb_custom_style_url', // LAYOUT
'bbb_auto_swap_layout', 'bbb_hide_presentation', 'bbb_show_participants_on_login', 'bbb_show_public_chat_on_login', // OUTSIDE COMMANDS
'bbb_outside_toggle_self_voice', 'bbb_outside_toggle_recording'];

function valueParser(val) {
  try {
    const parsedValue = JSON.parse(val.toLowerCase().trim());
    return parsedValue;
  } catch (error) {
    logger.warn(`addUserSettings:Parameter ${val} could not be parsed (was not json)`);
    return val;
  }
}

function addUserSettings(settings) {
  check(settings, [Object]);
  const {
    meetingId,
    requesterUserId: userId
  } = extractCredentials(this.userId);
  let parameters = {};
  settings.forEach(el => {
    const settingKey = Object.keys(el).shift();
    const normalizedKey = settingKey.trim();

    if (currentParameters.includes(normalizedKey)) {
      if (!Object.keys(parameters).includes(normalizedKey)) {
        parameters = (0, _objectSpread2.default)({
          [normalizedKey]: valueParser(el[settingKey])
        }, parameters);
      } else {
        parameters[normalizedKey] = el[settingKey];
      }

      return;
    }

    if (oldParametersKeys.includes(normalizedKey)) {
      const matchingNewKey = oldParameters[normalizedKey];

      if (!Object.keys(parameters).includes(matchingNewKey)) {
        parameters = (0, _objectSpread2.default)({
          [matchingNewKey]: valueParser(el[settingKey])
        }, parameters);
      }

      return;
    }

    logger.warn(`Parameter ${normalizedKey} not handled`);
  });
  const settingsAdded = [];
  Object.entries(parameters).forEach(el => {
    const setting = el[0];
    const value = el[1];
    settingsAdded.push(addUserSetting(meetingId, userId, setting, value));
  });
  return settingsAdded;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addUserSetting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/modifiers/addUserSetting.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addUserSetting
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function addUserSetting(meetingId, userId, setting, value) {
  check(meetingId, String);
  check(userId, String);
  check(setting, String);
  check(value, Match.Any);
  const selector = {
    meetingId,
    userId,
    setting
  };
  const modifier = {
    $set: {
      meetingId,
      userId,
      setting,
      value
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Adding user setting to collection: ${err}`);
    }

    return Logger.verbose(`Upserted user setting for meetingId=${meetingId} userId=${userId} setting=${setting}`);
  };

  return UserSettings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearUsersSettings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/modifiers/clearUsersSettings.js                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearUsersSettings
});
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);

function clearUsersSettings(meetingId) {
  return UserSettings.remove({
    meetingId
  }, () => {
    Logger.info(`Cleared User Settings (${meetingId})`);
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/methods.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let addUserSettings;
module.link("./methods/addUserSettings", {
  default(v) {
    addUserSettings = v;
  }

}, 1);
Meteor.methods({
  addUserSettings
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/server/publishers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let UserSettings;
module.link("/imports/api/users-settings", {
  default(v) {
    UserSettings = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let User;
module.link("/imports/api/users", {
  default(v) {
    User = v;
  }

}, 4);

function userSettings() {
  if (!this.userId) {
    return UserSettings.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const currentUser = User.findOne({
    userId: requesterUserId
  });

  if (currentUser && currentUser.breakoutProps.isBreakoutUser) {
    const {
      parentId
    } = currentUser.breakoutProps;
    const [externalId] = currentUser.extId.split('-');
    const mainRoomUserSettings = UserSettings.find({
      meetingId: parentId,
      userId: externalId
    });
    mainRoomUserSettings.map(({
      setting,
      value
    }) => ({
      meetingId,
      setting,
      userId: requesterUserId,
      value
    })).forEach(doc => {
      const selector = {
        meetingId,
        setting: doc.setting
      };
      UserSettings.upsert(selector, doc);
    });
    Logger.debug(`Publishing user settings for user=${requesterUserId}`);
    return UserSettings.find({
      meetingId,
      userId: requesterUserId
    });
  }

  Logger.debug(`Publishing user settings for user=${requesterUserId}`);
  return UserSettings.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundUserSettings = userSettings.bind(this);
  return boundUserSettings(...args);
}

Meteor.publish('users-settings', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/users-settings/index.js                                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const UserSettings = new Mongo.Collection('users-settings');

if (Meteor.isServer) {
  UserSettings._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(UserSettings);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"video-streams":{"server":{"handlers":{"userSharedHtml5Webcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/handlers/userSharedHtml5Webcam.js                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserSharedHtml5Webcam
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let sharedWebcam;
module.link("../modifiers/sharedWebcam", {
  default(v) {
    sharedWebcam = v;
  }

}, 1);
let isValidStream;
module.link("/imports/api/video-streams/server/helpers", {
  isValidStream(v) {
    isValidStream = v;
  }

}, 2);

function handleUserSharedHtml5Webcam({
  header,
  body
}, meetingId) {
  const {
    userId,
    stream
  } = body;
  check(header, Object);
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  if (!isValidStream(stream)) return false;
  return sharedWebcam(meetingId, userId, stream);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userUnsharedHtml5Webcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/handlers/userUnsharedHtml5Webcam.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleUserUnsharedHtml5Webcam
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let unsharedWebcam;
module.link("../modifiers/unsharedWebcam", {
  default(v) {
    unsharedWebcam = v;
  }

}, 1);
let isValidStream;
module.link("/imports/api/video-streams/server/helpers", {
  isValidStream(v) {
    isValidStream = v;
  }

}, 2);

function handleUserUnsharedHtml5Webcam({
  header,
  body
}, meetingId) {
  const {
    userId,
    stream
  } = body;
  check(header, Object);
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  if (!isValidStream(stream)) return false;
  return unsharedWebcam(meetingId, userId, stream);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"userShareWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods/userShareWebcam.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userShareWebcam
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userShareWebcam(stream) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserBroadcastCamStartMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`user sharing webcam: ${meetingId} ${requesterUserId}`);
  check(stream, String); // const actionName = 'joinVideo';

  /* TODO throw an error if user has no permission to share webcam
  if (!isAllowedTo(actionName, credentials)) {
    throw new Meteor.Error('not-allowed', `You are not allowed to share webcam`);
  } */

  const payload = {
    stream
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"userUnshareWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods/userUnshareWebcam.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => userUnshareWebcam
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 3);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 4);

function userUnshareWebcam(stream) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'UserBroadcastCamStopMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.info(`user unsharing webcam: ${meetingId} ${requesterUserId}`);
  check(stream, String); // const actionName = 'joinVideo';

  /* TODO throw an error if user has no permission to share webcam
  if (!isAllowedTo(actionName, credentials)) {
    throw new Meteor.Error('not-allowed', `You are not allowed to share webcam`);
  } */

  const payload = {
    stream
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearVideoStreams.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/clearVideoStreams.js                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVideoStreams
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);

function clearVideoStreams(meetingId) {
  if (meetingId) {
    return VideoStreams.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared VideoStreams in (${meetingId})`);
    });
  }

  return VideoStreams.remove({}, () => {
    Logger.info('Cleared VideoStreams in all meetings');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"sharedWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/sharedWebcam.js                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => sharedWebcam
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let getDeviceId, getUserName;
module.link("/imports/api/video-streams/server/helpers", {
  getDeviceId(v) {
    getDeviceId = v;
  },

  getUserName(v) {
    getUserName = v;
  }

}, 3);

function sharedWebcam(meetingId, userId, stream) {
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  const deviceId = getDeviceId(stream);
  const name = getUserName(userId);
  const selector = {
    meetingId,
    userId,
    deviceId
  };
  const modifier = {
    $set: {
      stream,
      name
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Error setting stream: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Updated stream=${stream} meeting=${meetingId}`);
    }
  };

  return VideoStreams.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"unsharedWebcam.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/modifiers/unsharedWebcam.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => unsharedWebcam
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let getDeviceId;
module.link("/imports/api/video-streams/server/helpers", {
  getDeviceId(v) {
    getDeviceId = v;
  }

}, 3);

function unsharedWebcam(meetingId, userId, stream) {
  check(meetingId, String);
  check(userId, String);
  check(stream, String);
  const deviceId = getDeviceId(stream);
  const selector = {
    meetingId,
    userId,
    deviceId
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Error removing stream: ${err}`);
    }

    if (numChanged) {
      return Logger.info(`Removed stream=${stream} meeting=${meetingId}`);
    }
  };

  return VideoStreams.remove(selector, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/eventHandlers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleUserSharedHtml5Webcam;
module.link("./handlers/userSharedHtml5Webcam", {
  default(v) {
    handleUserSharedHtml5Webcam = v;
  }

}, 1);
let handleUserUnsharedHtml5Webcam;
module.link("./handlers/userUnsharedHtml5Webcam", {
  default(v) {
    handleUserUnsharedHtml5Webcam = v;
  }

}, 2);
RedisPubSub.on('UserBroadcastCamStartedEvtMsg', handleUserSharedHtml5Webcam);
RedisPubSub.on('UserBroadcastCamStoppedEvtMsg', handleUserUnsharedHtml5Webcam);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/helpers.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  isValidStream: () => isValidStream,
  getDeviceId: () => getDeviceId,
  getUserName: () => getUserName
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
const FLASH_STREAM_REGEX = /^([A-z0-9]+)-([A-z0-9]+)-([A-z0-9]+)(-recorded)?$/;
const TOKEN = '_';

const isValidStream = stream => !FLASH_STREAM_REGEX.test(stream);

const getDeviceId = stream => {
  const splitStream = stream.split(TOKEN);
  if (splitStream.length === 3) return splitStream[2];
  Logger.warn(`Could not get deviceId from stream=${stream}`);
  return stream;
};

const getUserName = userId => {
  const user = Users.findOne({
    userId
  }, {
    fields: {
      name: 1
    }
  });
  if (user) return user.name;
  return userId;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/index.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publisher");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/methods.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let userShareWebcam;
module.link("./methods/userShareWebcam", {
  default(v) {
    userShareWebcam = v;
  }

}, 1);
let userUnshareWebcam;
module.link("./methods/userUnshareWebcam", {
  default(v) {
    userUnshareWebcam = v;
  }

}, 2);
Meteor.methods({
  userShareWebcam,
  userUnshareWebcam
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publisher.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/server/publisher.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VideoStreams;
module.link("/imports/api/video-streams", {
  default(v) {
    VideoStreams = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function videoStreams() {
  if (!this.userId) {
    return VideoStreams.find({
      meetingId: ''
    });
  }

  const {
    meetingId
  } = extractCredentials(this.userId);
  Logger.debug(`video users of meeting id=${meetingId}`);
  const selector = {
    meetingId
  };
  return VideoStreams.find(selector);
}

function publish(...args) {
  const boundVideoStreams = videoStreams.bind(this);
  return boundVideoStreams(...args);
}

Meteor.publish('video-streams', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/video-streams/index.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VideoStreams = new Mongo.Collection('video-streams');

if (Meteor.isServer) {
  // types of queries for the video users:
  // 2. meetingId
  VideoStreams._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(VideoStreams);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"voice-call-states":{"server":{"handlers":{"voiceCallStateEvent.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/handlers/voiceCallStateEvent.js                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceCallStateEvent
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let VoiceCallState;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallState = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function handleVoiceCallStateEvent({
  body
}, meetingId) {
  const {
    voiceConf,
    clientSession,
    userId,
    callerName,
    callState
  } = body;
  check(meetingId, String);
  check(voiceConf, String);
  check(clientSession, String);
  check(userId, String);
  check(callerName, String);
  check(callState, String);
  const selector = {
    meetingId,
    userId,
    clientSession
  };
  const modifier = {
    $set: {
      meetingId,
      userId,
      voiceConf,
      clientSession,
      callState
    }
  };

  const cb = err => {
    if (err) {
      return Logger.error(`Update voice call state=${userId}: ${err}`);
    }

    return Logger.debug(`Update voice call state=${userId} meeting=${meetingId} clientSession=${clientSession} callState=${callState}`);
  };

  return VoiceCallState.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"clearVoiceCallStates.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/modifiers/clearVoiceCallStates.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVoiceCallStates
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VoiceCallStates;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceCallStates = v;
  }

}, 1);

function clearVoiceCallStates(meetingId) {
  if (meetingId) {
    return VoiceCallStates.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared VoiceCallStates in (${meetingId})`);
    });
  }

  return VoiceCallStates.remove({}, () => {
    Logger.info('Cleared VoiceCallStates in all meetings');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/eventHandlers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let handleVoiceCallStateEvent;
module.link("./handlers/voiceCallStateEvent", {
  default(v) {
    handleVoiceCallStateEvent = v;
  }

}, 1);
RedisPubSub.on('VoiceCallStateEvtMsg', handleVoiceCallStateEvent);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/index.js                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/server/publishers.js                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let VoiceCallStates;
module.link("/imports/api/voice-call-states", {
  default(v) {
    VoiceCallStates = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function voiceCallStates() {
  if (!this.userId) {
    return VoiceCallStates.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing Voice Call States for ${meetingId} ${requesterUserId}`);
  return VoiceCallStates.find({
    meetingId,
    userId: requesterUserId
  });
}

function publish(...args) {
  const boundVoiceCallStates = voiceCallStates.bind(this);
  return boundVoiceCallStates(...args);
}

Meteor.publish('voice-call-states', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-call-states/index.js                                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VoiceCallStates = new Mongo.Collection('voiceCallStates');

if (Meteor.isServer) {
  // types of queries for the voice users:
  // 1. intId
  // 2. meetingId, intId
  VoiceCallStates._ensureIndex({
    meetingId: 1,
    userId: 1
  });
}

module.exportDefault(VoiceCallStates);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"voice-users":{"server":{"handlers":{"getVoiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/getVoiceUsers.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleGetVoiceUsers
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 3);
let removeVoiceUser;
module.link("../modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 4);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 5);

function handleGetVoiceUsers({
  body
}, meetingId) {
  const {
    users
  } = body;
  check(meetingId, String);
  check(users, Array);
  const meeting = Meetings.findOne({
    meetingId
  }, {
    fields: {
      'voiceProp.voiceConf': 1
    }
  });
  const usersIds = users.map(m => m.intId);
  const voiceUsersIdsToUpdate = VoiceUsers.find({
    meetingId,
    intId: {
      $in: usersIds
    }
  }, {
    fields: {
      intId: 1
    }
  }).fetch().map(m => m.intId);
  const voiceUsersUpdated = [];
  users.forEach(user => {
    if (voiceUsersIdsToUpdate.indexOf(user.intId) >= 0) {
      // user already exist, then update
      voiceUsersUpdated.push(updateVoiceUser(meetingId, {
        intId: user.intId,
        voiceUserId: user.voiceUserId,
        talking: user.talking,
        muted: user.muted,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      }));
    } else {
      // user doesn't exist yet, then add it
      addVoiceUser(meetingId, {
        voiceUserId: user.voiceUserId,
        intId: user.intId,
        callerName: user.callerName,
        callerNum: user.callerNum,
        muted: user.muted,
        talking: user.talking,
        callingWith: user.callingWith,
        listenOnly: user.listenOnly,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      });
    }
  }); // removing extra users already existing in Mongo

  const voiceUsersToRemove = VoiceUsers.find({
    meetingId,
    intId: {
      $nin: usersIds
    }
  }).fetch();
  voiceUsersToRemove.forEach(user => removeVoiceUser(meetingId, {
    voiceConf: meeting.voiceProp.voiceConf,
    voiceUserId: user.voiceUserId,
    intId: user.intId
  }));
  return voiceUsersUpdated;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"joinVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/joinVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleJoinVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 1);
let addDialInUser;
module.link("/imports/api/users/server/modifiers/addDialInUser", {
  default(v) {
    addDialInUser = v;
  }

}, 2);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 3);

function handleJoinVoiceUser({
  body
}, meetingId) {
  const voiceUser = body;
  voiceUser.joined = true;
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    intId: String,
    voiceUserId: String,
    callerName: String,
    callerNum: String,
    muted: Boolean,
    talking: Boolean,
    callingWith: String,
    listenOnly: Boolean,
    joined: Boolean
  });
  const {
    intId
  } = voiceUser;
  const User = Users.findOne({
    meetingId,
    intId,
    connectionStatus: 'online'
  });

  if (!User) {
    /* voice-only user - called into the conference */
    addDialInUser(meetingId, voiceUser);
  }

  return addVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"leftVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/leftVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let removeVoiceUser;
module.link("/imports/api/voice-users/server/modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 1);
let removeUser;
module.link("/imports/api/users/server/modifiers/removeUser", {
  default(v) {
    removeUser = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    intId: String,
    voiceUserId: String
  });
  const {
    intId,
    voiceUserId
  } = voiceUser;

  const isDialInUser = (userId, meetingID) => !!Users.findOne({
    meetingId: meetingID,
    userId,
    clientType: 'dial-in-user'
  }); // if the user is dial-in, leaving voice also means leaving userlist


  if (isDialInUser(voiceUserId, meetingId)) removeUser(meetingId, intId);
  return removeVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"meetingMuted.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/meetingMuted.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleMeetingMuted
});
let changeMuteMeeting;
module.link("../modifiers/changeMuteMeeting", {
  default(v) {
    changeMuteMeeting = v;
  }

}, 0);

function handleMeetingMuted({
  body
}, meetingId) {
  return changeMuteMeeting(meetingId, body);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mutedVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/mutedVoiceUser.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 1);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String); // If a person is muted we have to force them to not talking

  if (voiceUser.muted) {
    voiceUser.talking = false;
  }

  return updateVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"talkingVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/talkingVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUpdate
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 1);

function handleVoiceUpdate({
  body
}, meetingId) {
  const voiceUser = body;
  check(meetingId, String);
  return updateVoiceUser(meetingId, voiceUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"voiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/handlers/voiceUsers.js                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleVoiceUsers
});
let VoiceUsers;
module.link("/imports/api/voice-users/", {
  default(v) {
    VoiceUsers = v;
  }

}, 0);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 1);
let addDialInUser;
module.link("/imports/api/users/server/modifiers/addDialInUser", {
  default(v) {
    addDialInUser = v;
  }

}, 2);
let removeVoiceUser;
module.link("../modifiers/removeVoiceUser", {
  default(v) {
    removeVoiceUser = v;
  }

}, 3);
let updateVoiceUser;
module.link("../modifiers/updateVoiceUser", {
  default(v) {
    updateVoiceUser = v;
  }

}, 4);
let addVoiceUser;
module.link("../modifiers/addVoiceUser", {
  default(v) {
    addVoiceUser = v;
  }

}, 5);

function handleVoiceUsers({
  header,
  body
}) {
  const {
    voiceUsers
  } = body;
  const {
    meetingId
  } = header;
  const meeting = Meetings.findOne({
    meetingId
  }, {
    fields: {
      'voiceProp.voiceConf': 1
    }
  });
  const usersIds = voiceUsers.map(m => m.intId);
  const voiceUsersIdsToUpdate = VoiceUsers.find({
    meetingId,
    intId: {
      $in: usersIds
    }
  }, {
    fields: {
      intId: 1
    }
  }).fetch().map(m => m.intId);
  const voiceUsersUpdated = [];
  voiceUsers.forEach(voice => {
    if (voiceUsersIdsToUpdate.indexOf(voice.intId) >= 0) {
      // user already exist, then update
      voiceUsersUpdated.push(updateVoiceUser(meetingId, {
        intId: voice.intId,
        voiceUserId: voice.voiceUserId,
        talking: voice.talking,
        muted: voice.muted,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      }));
    } else {
      // user doesn't exist yet, then add it
      addVoiceUser(meetingId, {
        voiceUserId: voice.voiceUserId,
        intId: voice.intId,
        callerName: voice.callerName,
        callerNum: voice.callerNum,
        muted: voice.muted,
        talking: voice.talking,
        callingWith: voice.callingWith,
        listenOnly: voice.listenOnly,
        voiceConf: meeting.voiceProp.voiceConf,
        joined: true
      });
      addDialInUser(meetingId, voice);
    }
  }); // removing extra users already existing in Mongo

  const voiceUsersToRemove = VoiceUsers.find({
    meetingId,
    intId: {
      $nin: usersIds
    }
  }, {
    fields: {
      voiceUserId: 1,
      intId: 1
    }
  }).fetch();
  voiceUsersToRemove.forEach(user => removeVoiceUser(meetingId, {
    voiceConf: meeting.voiceProp.voiceConf,
    voiceUserId: user.voiceUserId,
    intId: user.intId
  }));
  return voiceUsersUpdated;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"ejectUserFromVoice.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/ejectUserFromVoice.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => ejectUserFromVoice
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function ejectUserFromVoice(userId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'EjectUserFromVoiceCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(userId, String);
  const payload = {
    userId,
    ejectedBy: requesterUserId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteAllExceptPresenterToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteAllExceptPresenterToggle.js                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteAllExceptPresenterToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function muteAllExceptPresenterToggle() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteAllExceptPresentersCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const meeting = Meetings.findOne({
    meetingId
  });
  const toggleMeetingMuted = !meeting.voiceProp.muteOnStart;
  const payload = {
    mutedBy: requesterUserId,
    mute: toggleMeetingMuted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteAllToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteAllToggle.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteAllToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 1);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function muteAllToggle() {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteMeetingCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const meeting = Meetings.findOne({
    meetingId
  });
  const toggleMeetingMuted = !meeting.voiceProp.muteOnStart;
  const payload = {
    mutedBy: requesterUserId,
    mute: toggleMeetingMuted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"muteToggle.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods/muteToggle.js                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => muteToggle
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 1);
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 4);
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 5);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 6);

function muteToggle(uId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'MuteUserCmdMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  const userToMute = uId || requesterUserId;
  const requester = Users.findOne({
    meetingId,
    userId: requesterUserId
  });
  const voiceUser = VoiceUsers.findOne({
    intId: userToMute,
    meetingId
  });
  if (!requester || !voiceUser) return;
  const {
    listenOnly,
    muted
  } = voiceUser;
  if (listenOnly) return; // if allowModsToUnmuteUsers is false, users will be kicked out for attempting to unmute others

  if (requesterUserId !== userToMute && muted) {
    const meeting = Meetings.findOne({
      meetingId
    }, {
      fields: {
        'usersProp.allowModsToUnmuteUsers': 1
      }
    });

    if (meeting.usersProp && !meeting.usersProp.allowModsToUnmuteUsers) {
      Logger.warn(`Attempted unmuting by another user meetingId:${meetingId} requester: ${requesterUserId} userId: ${userToMute}`);
      return;
    }
  }

  const payload = {
    userId: userToMute,
    mutedBy: requesterUserId,
    mute: !muted
  };
  RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"addVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/addVoiceUser.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => addVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 3);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 4);

function addVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    voiceUserId: String,
    intId: String,
    callerName: String,
    callerNum: String,
    muted: Boolean,
    talking: Boolean,
    callingWith: String,
    listenOnly: Boolean,
    voiceConf: String,
    joined: Boolean // This is a HTML5 only param.

  });
  const {
    intId,
    talking
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: Object.assign({
      meetingId,
      spoke: talking
    }, flat(voiceUser))
  };
  const user = Users.findOne({
    meetingId,
    userId: intId
  }, {
    fields: {
      color: 1
    }
  });
  if (user) modifier.$set.color = user.color;

  const cb = err => {
    if (err) {
      return Logger.error(`Add voice user=${intId}: ${err}`);
    }

    return Logger.info(`Add voice user=${intId} meeting=${meetingId}`);
  };

  return VoiceUsers.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"changeMuteMeeting.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/changeMuteMeeting.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeMuteMeeting
});
let Meetings;
module.link("/imports/api/meetings", {
  default(v) {
    Meetings = v;
  }

}, 0);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);

function changeMuteMeeting(meetingId, payload) {
  check(meetingId, String);
  check(payload, {
    muted: Boolean,
    mutedBy: String
  });
  const selector = {
    meetingId
  };
  const modifier = {
    $set: {
      'voiceProp.muteOnStart': payload.muted
    }
  };

  const cb = (err, numChanged) => {
    if (err) {
      Logger.error(`Changing meeting mute status meeting={${meetingId}} ${err}`);
      return;
    }

    if (numChanged) {
      Logger.info(`Changed meeting mute status meeting=${meetingId}`);
    }
  };

  return Meetings.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"clearVoiceUsers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/clearVoiceUsers.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => clearVoiceUser
});
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 0);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 1);

function clearVoiceUser(meetingId) {
  if (meetingId) {
    return VoiceUsers.remove({
      meetingId
    }, () => {
      Logger.info(`Cleared VoiceUsers in (${meetingId})`);
    });
  }

  return VoiceUsers.remove({}, () => {
    Logger.info('Cleared VoiceUsers in all meetings');
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"removeVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/removeVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => removeVoiceUser
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let clearSpokeTimeout;
module.link("/imports/api/common/server/helpers", {
  clearSpokeTimeout(v) {
    clearSpokeTimeout = v;
  }

}, 3);

function removeVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    voiceConf: String,
    voiceUserId: String,
    intId: String
  });
  const {
    intId
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: {
      muted: false,
      talking: false,
      listenOnly: false,
      joined: false,
      spoke: false
    }
  };
  clearSpokeTimeout(meetingId, intId);

  const cb = err => {
    if (err) {
      return Logger.error(`Remove voiceUser=${intId}: ${err}`);
    }

    return Logger.info(`Remove voiceUser=${intId} meeting=${meetingId}`);
  };

  return VoiceUsers.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"updateVoiceUser.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/modifiers/updateVoiceUser.js                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => updateVoiceUser
});
let Match, check;
module.link("meteor/check", {
  Match(v) {
    Match = v;
  },

  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 2);
let flat;
module.link("flat", {
  default(v) {
    flat = v;
  }

}, 3);
let spokeTimeoutHandles, clearSpokeTimeout;
module.link("/imports/api/common/server/helpers", {
  spokeTimeoutHandles(v) {
    spokeTimeoutHandles = v;
  },

  clearSpokeTimeout(v) {
    clearSpokeTimeout = v;
  }

}, 4);
const TALKING_TIMEOUT = 6000;

function updateVoiceUser(meetingId, voiceUser) {
  check(meetingId, String);
  check(voiceUser, {
    intId: String,
    voiceUserId: String,
    talking: Match.Maybe(Boolean),
    muted: Match.Maybe(Boolean),
    voiceConf: String,
    joined: Match.Maybe(Boolean)
  });
  const {
    intId
  } = voiceUser;
  const selector = {
    meetingId,
    intId
  };
  const modifier = {
    $set: Object.assign(flat(voiceUser))
  };

  if (voiceUser.talking) {
    const user = VoiceUsers.findOne({
      meetingId,
      intId
    }, {
      fields: {
        startTime: 1
      }
    });
    if (user && !user.startTime) modifier.$set.startTime = Date.now();
    modifier.$set.spoke = true;
    modifier.$set.endTime = null;
    clearSpokeTimeout(meetingId, intId);
  }

  const cb = err => {
    if (err) {
      return Logger.error(`Update voiceUser=${intId}: ${err}`);
    }

    return Logger.debug(`Update voiceUser=${intId} meeting=${meetingId}`);
  };

  if (!voiceUser.talking) {
    const timeoutHandle = Meteor.setTimeout(() => {
      const user = VoiceUsers.findOne({
        meetingId,
        intId
      }, {
        fields: {
          endTime: 1,
          talking: 1
        }
      });

      if (user) {
        const {
          endTime,
          talking
        } = user;
        const spokeDelay = Date.now() - endTime < TALKING_TIMEOUT;
        if (talking || spokeDelay) return;
        modifier.$set.spoke = false;
        modifier.$set.startTime = null;
        VoiceUsers.update(selector, modifier, cb);
      }
    }, TALKING_TIMEOUT);
    spokeTimeoutHandles[`${meetingId}-${intId}`] = timeoutHandle;
    modifier.$set.endTime = Date.now();
  }

  return VoiceUsers.update(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/eventHandlers.js                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleJoinVoiceUser;
module.link("./handlers/joinVoiceUser", {
  default(v) {
    handleJoinVoiceUser = v;
  }

}, 2);
let handleLeftVoiceUser;
module.link("./handlers/leftVoiceUser", {
  default(v) {
    handleLeftVoiceUser = v;
  }

}, 3);
let handleTalkingVoiceUser;
module.link("./handlers/talkingVoiceUser", {
  default(v) {
    handleTalkingVoiceUser = v;
  }

}, 4);
let handleMutedVoiceUser;
module.link("./handlers/mutedVoiceUser", {
  default(v) {
    handleMutedVoiceUser = v;
  }

}, 5);
let handleGetVoiceUsers;
module.link("./handlers/getVoiceUsers", {
  default(v) {
    handleGetVoiceUsers = v;
  }

}, 6);
let handleVoiceUsers;
module.link("./handlers/voiceUsers", {
  default(v) {
    handleVoiceUsers = v;
  }

}, 7);
let handleMeetingMuted;
module.link("./handlers/meetingMuted", {
  default(v) {
    handleMeetingMuted = v;
  }

}, 8);
RedisPubSub.on('UserLeftVoiceConfToClientEvtMsg', handleLeftVoiceUser);
RedisPubSub.on('UserJoinedVoiceConfToClientEvtMsg', handleJoinVoiceUser);
RedisPubSub.on('UserTalkingVoiceEvtMsg', handleTalkingVoiceUser);
RedisPubSub.on('UserMutedVoiceEvtMsg', handleMutedVoiceUser);
RedisPubSub.on('GetVoiceUsersMeetingRespMsg', processForHTML5ServerOnly(handleGetVoiceUsers));
RedisPubSub.on('SyncGetVoiceUsersRespMsg', handleVoiceUsers);
RedisPubSub.on('MeetingMutedEvtMsg', handleMeetingMuted);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/index.js                                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./publishers");
module.link("./methods");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/methods.js                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let muteToggle;
module.link("./methods/muteToggle", {
  default(v) {
    muteToggle = v;
  }

}, 1);
let muteAllToggle;
module.link("./methods/muteAllToggle", {
  default(v) {
    muteAllToggle = v;
  }

}, 2);
let muteAllExceptPresenterToggle;
module.link("./methods/muteAllExceptPresenterToggle", {
  default(v) {
    muteAllExceptPresenterToggle = v;
  }

}, 3);
let ejectUserFromVoice;
module.link("./methods/ejectUserFromVoice", {
  default(v) {
    ejectUserFromVoice = v;
  }

}, 4);
Meteor.methods({
  toggleVoice: muteToggle,
  muteAllUsers: muteAllToggle,
  muteAllExceptPresenter: muteAllExceptPresenterToggle,
  ejectUserFromVoice
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/server/publishers.js                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let VoiceUsers;
module.link("/imports/api/voice-users", {
  default(v) {
    VoiceUsers = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);
let ejectUserFromVoice;
module.link("./methods/ejectUserFromVoice", {
  default(v) {
    ejectUserFromVoice = v;
  }

}, 4);

function voiceUser() {
  if (!this.userId) {
    return VoiceUsers.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(meetingId, String);
  check(requesterUserId, String);
  const onCloseConnection = Meteor.bindEnvironment(() => {
    try {
      // I used user because voiceUser is the function's name
      const User = VoiceUsers.findOne({
        meetingId,
        requesterUserId
      });

      if (User) {
        ejectUserFromVoice(requesterUserId);
      }
    } catch (e) {
      Logger.error(`Exception while executing ejectUserFromVoice for ${requesterUserId}: ${e}`);
    }
  });
  Logger.debug(`Publishing Voice User for ${meetingId} ${requesterUserId}`);

  this._session.socket.on('close', _.debounce(onCloseConnection, 100));

  return VoiceUsers.find({
    meetingId
  });
}

function publish(...args) {
  const boundVoiceUser = voiceUser.bind(this);
  return boundVoiceUser(...args);
}

Meteor.publish('voiceUsers', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/voice-users/index.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const VoiceUsers = new Mongo.Collection('voiceUsers');

if (Meteor.isServer) {
  // types of queries for the voice users:
  // 1. intId
  // 2. meetingId, intId
  VoiceUsers._ensureIndex({
    intId: 1
  });

  VoiceUsers._ensureIndex({
    meetingId: 1,
    intId: 1
  });
}

module.exportDefault(VoiceUsers);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"whiteboard-multi-user":{"server":{"handlers":{"modifyWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/handlers/modifyWhiteboardAccess.js                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => handleModifyWhiteboardAccess
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let modifyWhiteboardAccess;
module.link("../modifiers/modifyWhiteboardAccess", {
  default(v) {
    modifyWhiteboardAccess = v;
  }

}, 1);

function handleModifyWhiteboardAccess({
  body
}, meetingId) {
  const {
    multiUser,
    whiteboardId
  } = body;
  check(multiUser, Boolean);
  check(whiteboardId, String);
  check(meetingId, String);
  return modifyWhiteboardAccess(meetingId, whiteboardId, multiUser);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"methods":{"changeWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/methods/changeWhiteboardAccess.js                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => changeWhiteboardAccess
});
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function changeWhiteboardAccess(multiUser, whiteboardId) {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
  const EVENT_NAME = 'ModifyWhiteboardAccessPubMsg';
  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  check(multiUser, Boolean);
  check(whiteboardId, String);
  const payload = {
    multiUser,
    whiteboardId
  };
  return RedisPubSub.publishUserMessage(CHANNEL, EVENT_NAME, meetingId, requesterUserId, payload);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"modifiers":{"modifyWhiteboardAccess.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/modifiers/modifyWhiteboardAccess.js                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  default: () => modifyWhiteboardAccess
});
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 0);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 1);
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 2);

function modifyWhiteboardAccess(meetingId, whiteboardId, multiUser) {
  check(meetingId, String);
  check(whiteboardId, String);
  check(multiUser, Boolean);
  const selector = {
    meetingId,
    whiteboardId
  };
  const modifier = {
    meetingId,
    whiteboardId,
    multiUser
  };

  const cb = (err, numChanged) => {
    if (err) {
      return Logger.error(`Error while adding an entry to Multi-User collection: ${err}`);
    }

    const {
      insertedId
    } = numChanged;

    if (insertedId) {
      return Logger.info(`Added multiUser flag=${multiUser} meetingId=${meetingId} whiteboardId=${whiteboardId}`);
    }

    return Logger.info(`Upserted multiUser flag=${multiUser} meetingId=${meetingId} whiteboardId=${whiteboardId}`);
  };

  return WhiteboardMultiUser.upsert(selector, modifier, cb);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"eventHandlers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/eventHandlers.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let RedisPubSub;
module.link("/imports/startup/server/redis", {
  default(v) {
    RedisPubSub = v;
  }

}, 0);
let processForHTML5ServerOnly;
module.link("/imports/api/common/server/helpers", {
  processForHTML5ServerOnly(v) {
    processForHTML5ServerOnly = v;
  }

}, 1);
let handleGetWhiteboardAccess;
module.link("./handlers/modifyWhiteboardAccess", {
  default(v) {
    handleGetWhiteboardAccess = v;
  }

}, 2);
RedisPubSub.on('GetWhiteboardAccessRespMsg', processForHTML5ServerOnly(handleGetWhiteboardAccess));
RedisPubSub.on('SyncGetWhiteboardAccessRespMsg', handleGetWhiteboardAccess);
RedisPubSub.on('ModifyWhiteboardAccessEvtMsg', handleGetWhiteboardAccess);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/index.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("./eventHandlers");
module.link("./methods");
module.link("./publishers");
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"methods.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/methods.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let changeWhiteboardAccess;
module.link("./methods/changeWhiteboardAccess", {
  default(v) {
    changeWhiteboardAccess = v;
  }

}, 1);
Meteor.methods({
  changeWhiteboardAccess
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"publishers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/server/publishers.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let WhiteboardMultiUser;
module.link("/imports/api/whiteboard-multi-user/", {
  default(v) {
    WhiteboardMultiUser = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let Logger;
module.link("/imports/startup/server/logger", {
  default(v) {
    Logger = v;
  }

}, 2);
let extractCredentials;
module.link("/imports/api/common/server/helpers", {
  extractCredentials(v) {
    extractCredentials = v;
  }

}, 3);

function whiteboardMultiUser() {
  if (!this.userId) {
    return WhiteboardMultiUser.find({
      meetingId: ''
    });
  }

  const {
    meetingId,
    requesterUserId
  } = extractCredentials(this.userId);
  Logger.debug(`Publishing whiteboard-multi-user for ${meetingId} ${requesterUserId}`);
  return WhiteboardMultiUser.find({
    meetingId
  });
}

function publish(...args) {
  const boundMultiUser = whiteboardMultiUser.bind(this);
  return boundMultiUser(...args);
}

Meteor.publish('whiteboard-multi-user', publish);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/whiteboard-multi-user/index.js                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
const WhiteboardMultiUser = new Mongo.Collection('whiteboard-multi-user');

if (Meteor.isServer) {
  // types of queries for the whiteboard-multi-user:
  // 1. meetingId
  WhiteboardMultiUser._ensureIndex({
    meetingId: 1
  });
}

module.exportDefault(WhiteboardMultiUser);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"common":{"server":{"helpers.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/api/common/server/helpers.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  spokeTimeoutHandles: () => spokeTimeoutHandles,
  clearSpokeTimeout: () => clearSpokeTimeout,
  indexOf: () => indexOf,
  processForHTML5ServerOnly: () => processForHTML5ServerOnly,
  hashFNV32a: () => hashFNV32a,
  extractCredentials: () => extractCredentials
});
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 0);
const MSG_DIRECT_TYPE = 'DIRECT';
const NODE_USER = 'nodeJSapp';
const spokeTimeoutHandles = {};

const clearSpokeTimeout = (meetingId, userId) => {
  if (spokeTimeoutHandles[`${meetingId}-${userId}`]) {
    Meteor.clearTimeout(spokeTimeoutHandles[`${meetingId}-${userId}`]);
    delete spokeTimeoutHandles[`${meetingId}-${userId}`];
  }
};

const indexOf = [].indexOf || function (item) {
  for (let i = 0, l = this.length; i < l; i += 1) {
    if (i in this && this[i] === item) {
      return i;
    }
  }

  return -1;
};

const processForHTML5ServerOnly = fn => (message, ...args) => {
  const {
    envelope
  } = message;
  const {
    routing
  } = envelope;
  const {
    msgType,
    meetingId,
    userId
  } = routing;
  const selector = {
    userId,
    meetingId
  };
  const user = Users.findOne(selector);
  const shouldSkip = user && msgType === MSG_DIRECT_TYPE && userId !== NODE_USER && user.clientType !== 'HTML5';
  if (shouldSkip) return () => {};
  return fn(message, ...args);
};

const hashFNV32a = (str, asString, seed) => {
  let hval = seed === undefined ? 0x811c9dc5 : seed;

  for (let i = 0, l = str.length; i < l; i++) {
    hval ^= str.charCodeAt(i);
    hval += (hval << 1) + (hval << 4) + (hval << 7) + (hval << 8) + (hval << 24);
  }

  if (asString) {
    return `0000000${(hval >>> 0).toString(16)}`.substr(-8);
  }

  return hval >>> 0;
};

const extractCredentials = credentials => {
  if (!credentials) return {};
  const credentialsArray = credentials.split('--');
  const meetingId = credentialsArray[0];
  const requesterUserId = credentialsArray[1];
  return {
    meetingId,
    requesterUserId
  };
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"startup":{"server":{"index.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/index.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _objectSpread2 = _interopRequireDefault(require("@babel/runtime/helpers/objectSpread"));

module.export({
  eventEmitter: () => eventEmitter,
  redisPubSub: () => redisPubSub
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let WebAppInternals;
module.link("meteor/webapp", {
  WebAppInternals(v) {
    WebAppInternals = v;
  }

}, 1);
let Langmap;
module.link("langmap", {
  default(v) {
    Langmap = v;
  }

}, 2);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 3);
let heapdump;
module.link("heapdump", {
  default(v) {
    heapdump = v;
  }

}, 4);
let Users;
module.link("/imports/api/users", {
  default(v) {
    Users = v;
  }

}, 5);
module.link("./settings");
let lookupUserAgent;
module.link("useragent", {
  lookup(v) {
    lookupUserAgent = v;
  }

}, 6);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 7);
let memwatch;
module.link("memwatch-next", {
  default(v) {
    memwatch = v;
  }

}, 8);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 9);
let Redis;
module.link("./redis", {
  default(v) {
    Redis = v;
  }

}, 10);
let setMinBrowserVersions;
module.link("./minBrowserVersion", {
  default(v) {
    setMinBrowserVersions = v;
  }

}, 11);
let userLeaving;
module.link("/imports/api/users/server/methods/userLeaving", {
  default(v) {
    userLeaving = v;
  }

}, 12);
const AVAILABLE_LOCALES = fs.readdirSync('assets/app/locales');
Meteor.startup(() => {
  const APP_CONFIG = Meteor.settings.public.app;
  const INTERVAL_IN_SETTINGS = Meteor.settings.public.pingPong.clearUsersInSeconds * 1000;
  const INTERVAL_TIME = INTERVAL_IN_SETTINGS < 10000 ? 10000 : INTERVAL_IN_SETTINGS;
  const env = Meteor.isDevelopment ? 'development' : 'production';
  const CDN_URL = APP_CONFIG.cdn;
  let heapDumpMbThreshold = 100;
  const memoryMonitoringSettings = Meteor.settings.private.memoryMonitoring;

  if (memoryMonitoringSettings.stat.enabled) {
    memwatch.on('stats', stats => {
      let heapDumpTriggered = false;

      if (memoryMonitoringSettings.heapdump.enabled) {
        heapDumpTriggered = stats.current_base / 1048576 > heapDumpMbThreshold;
      }

      Logger.info('memwatch stats', (0, _objectSpread2.default)({}, stats, {
        heapDumpEnabled: memoryMonitoringSettings.heapdump.enabled,
        heapDumpTriggered
      }));

      if (heapDumpTriggered) {
        heapdump.writeSnapshot(`./heapdump-stats-${Date.now()}.heapsnapshot`);
        heapDumpMbThreshold += 100;
      }
    });
  }

  if (memoryMonitoringSettings.leak.enabled) {
    memwatch.on('leak', info => {
      Logger.info('memwatch leak', info);
    });
  }

  if (CDN_URL.trim()) {
    // Add CDN
    BrowserPolicy.content.disallowEval();
    BrowserPolicy.content.allowInlineScripts();
    BrowserPolicy.content.allowInlineStyles();
    BrowserPolicy.content.allowImageDataUrl(CDN_URL);
    BrowserPolicy.content.allowFontDataUrl(CDN_URL);
    BrowserPolicy.content.allowOriginForAll(CDN_URL);
    WebAppInternals.setBundledJsCssPrefix(CDN_URL + APP_CONFIG.basename);
    const fontRegExp = /\.(eot|ttf|otf|woff|woff2)$/;
    WebApp.rawConnectHandlers.use('/', (req, res, next) => {
      if (fontRegExp.test(req._parsedUrl.pathname)) {
        res.setHeader('Access-Control-Allow-Origin', '*');
        res.setHeader('Vary', 'Origin');
        res.setHeader('Pragma', 'public');
        res.setHeader('Cache-Control', '"public"');
      }

      return next();
    });
  }

  setMinBrowserVersions();
  Meteor.setInterval(() => {
    const currentTime = Date.now();
    Logger.info('Checking for inactive users');
    const users = Users.find({
      connectionStatus: 'online',
      clientType: 'HTML5',
      lastPing: {
        $lt: currentTime - INTERVAL_TIME // get user who has not pinged in the last 10 seconds

      },
      loginTime: {
        $lt: currentTime - INTERVAL_TIME
      }
    }).fetch();
    if (!users.length) return Logger.info('No inactive users');
    Logger.info('Removing inactive users');
    users.forEach(user => {
      Logger.info(`Detected inactive user, userId:${user.userId}, meetingId:${user.meetingId}`);
      return userLeaving(user.meetingId, user.userId, user.connectionId);
    });
    return Logger.info('All inactive users have been removed');
  }, INTERVAL_TIME);
  Logger.warn(`SERVER STARTED.\nENV=${env},\nnodejs version=${process.version}\nCDN=${CDN_URL}\n`, APP_CONFIG);
});
WebApp.connectHandlers.use('/check', (req, res) => {
  const payload = {
    html5clientStatus: 'running'
  };
  res.setHeader('Content-Type', 'application/json');
  res.writeHead(200);
  res.end(JSON.stringify(payload));
});
WebApp.connectHandlers.use('/locale', (req, res) => {
  const APP_CONFIG = Meteor.settings.public.app;
  const fallback = APP_CONFIG.defaultSettings.application.fallbackLocale;
  const override = APP_CONFIG.defaultSettings.application.overrideLocale;
  const browserLocale = override && req.query.init === 'true' ? override.split(/[-_]/g) : req.query.locale.split(/[-_]/g);
  const localeList = [fallback];
  const usableLocales = AVAILABLE_LOCALES.map(file => file.replace('.json', '')).reduce((locales, locale) => locale.match(browserLocale[0]) ? [...locales, locale] : locales, []);
  const regionDefault = usableLocales.find(locale => browserLocale[0] === locale);
  if (regionDefault) localeList.push(regionDefault);
  if (!regionDefault && usableLocales.length) localeList.push(usableLocales[0]);
  let normalizedLocale;
  let messages = {};

  if (browserLocale.length > 1) {
    normalizedLocale = `${browserLocale[0]}_${browserLocale[1].toUpperCase()}`;
    localeList.push(normalizedLocale);
  }

  localeList.forEach(locale => {
    try {
      const data = Assets.getText(`locales/${locale}.json`);
      messages = Object.assign(messages, JSON.parse(data));
      normalizedLocale = locale;
    } catch (e) {
      Logger.warn(`'Could not process locale ${locale}:${e}`); // Getting here means the locale is not available in the current locale files.
    }
  });
  res.setHeader('Content-Type', 'application/json');
  res.end(JSON.stringify({
    normalizedLocale,
    messages
  }));
});
WebApp.connectHandlers.use('/locales', (req, res) => {
  let locales = [];

  try {
    locales = AVAILABLE_LOCALES.map(file => file.replace('.json', '')).map(file => file.replace('_', '-')).map(locale => ({
      locale,
      name: Langmap[locale].nativeName
    }));
  } catch (e) {
    Logger.warn(`'Could not process locales error: ${e}`);
  }

  res.setHeader('Content-Type', 'application/json');
  res.writeHead(200);
  res.end(JSON.stringify(locales));
});
WebApp.connectHandlers.use('/feedback', (req, res) => {
  req.on('data', Meteor.bindEnvironment(data => {
    const body = JSON.parse(data);
    const {
      meetingId,
      userId,
      authToken,
      userName: reqUserName,
      comment,
      rating
    } = body;
    check(meetingId, String);
    check(userId, String);
    check(authToken, String);
    check(reqUserName, String);
    check(comment, String);
    check(rating, Number);
    const user = Users.findOne({
      meetingId,
      userId,
      connectionStatus: 'offline',
      authToken
    });

    if (!user) {
      Logger.warn('Couldn\'t find user for feedback');
    }

    res.setHeader('Content-Type', 'application/json');
    res.writeHead(200);
    res.end(JSON.stringify({
      status: 'ok'
    }));
    body.userName = user ? user.name : `[unconfirmed] ${reqUserName}`;
    const feedback = (0, _objectSpread2.default)({}, body);
    Logger.info('FEEDBACK LOG:', feedback);
  }));
});
WebApp.connectHandlers.use('/useragent', (req, res) => {
  const userAgent = req.headers['user-agent'];
  let response = 'No user agent found in header';

  if (userAgent) {
    response = lookupUserAgent(userAgent).toString();
  }

  Logger.info(`The requesting user agent is ${response}`); // res.setHeader('Content-Type', 'application/json');

  res.writeHead(200);
  res.end(response);
});
const eventEmitter = Redis.emitter;
const redisPubSub = Redis;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"logger.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/logger.js                                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  logger: () => logger
});
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let createLogger, format, transports;
module.link("winston", {
  createLogger(v) {
    createLogger = v;
  },

  format(v) {
    format = v;
  },

  transports(v) {
    transports = v;
  }

}, 1);
const LOG_CONFIG = Meteor.settings.private.serverLog || {};
const {
  level
} = LOG_CONFIG;
const Logger = createLogger({
  level,
  format: format.combine(format.colorize({
    level: true
  }), format.splat(), format.simple()),
  transports: [// console logging
  new transports.Console({
    prettyPrint: false,
    humanReadableUnhandledException: true,
    colorize: true,
    handleExceptions: true,
    level
  })]
});
module.exportDefault(Logger);
const logger = Logger;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"minBrowserVersion.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/minBrowserVersion.js                                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let setMinimumBrowserVersions;
module.link("meteor/modern-browsers", {
  setMinimumBrowserVersions(v) {
    setMinimumBrowserVersions = v;
  }

}, 1);

const setMinBrowserVersions = () => {
  const {
    minBrowserVersions
  } = Meteor.settings.private;
  const versions = {};
  minBrowserVersions.forEach(elem => {
    let {
      version
    } = elem;
    if (version === 'Infinity') version = Infinity;
    versions[elem.browser] = version;
  });
  setMinimumBrowserVersions(versions, 'bbb-min');
};

module.exportDefault(setMinBrowserVersions);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"redis.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/redis.js                                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Redis;
module.link("redis", {
  default(v) {
    Redis = v;
  }

}, 0);
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 1);
let EventEmitter2;
module.link("eventemitter2", {
  EventEmitter2(v) {
    EventEmitter2 = v;
  }

}, 2);
let check;
module.link("meteor/check", {
  check(v) {
    check = v;
  }

}, 3);
let Logger;
module.link("./logger", {
  default(v) {
    Logger = v;
  }

}, 4);
// Fake meetingId used for messages that have no meetingId
const NO_MEETING_ID = '_';

const makeEnvelope = (channel, eventName, header, body, routing) => {
  const envelope = {
    envelope: {
      name: eventName,
      routing: routing || {
        sender: 'bbb-apps-akka' // sender: 'html5-server', // TODO

      },
      timestamp: Date.now()
    },
    core: {
      header,
      body
    }
  };
  return JSON.stringify(envelope);
};

const makeDebugger = enabled => message => {
  if (!enabled) return;
  Logger.debug(`REDIS: ${message}`);
};

class MeetingMessageQueue {
  constructor(eventEmitter, asyncMessages = [], debug = () => {}) {
    this.asyncMessages = asyncMessages;
    this.emitter = eventEmitter;
    this.queue = new PowerQueue();
    this.debug = debug;
    this.handleTask = this.handleTask.bind(this);
    this.queue.taskHandler = this.handleTask;
  }

  handleTask(data, next) {
    const {
      channel
    } = data;
    const {
      envelope
    } = data.parsedMessage;
    const {
      header
    } = data.parsedMessage.core;
    const {
      body
    } = data.parsedMessage.core;
    const {
      meetingId
    } = header;
    const eventName = header.name;
    const isAsync = this.asyncMessages.includes(channel) || this.asyncMessages.includes(eventName);
    let called = false;
    check(eventName, String);
    check(body, Object);

    const callNext = () => {
      if (called) return;
      this.debug(`${eventName} completed ${isAsync ? 'async' : 'sync'}`);
      called = true;
      const queueLength = this.queue.length();

      if (queueLength > 100) {
        Logger.error(`prev queue size=${queueLength} `);
      }

      next();
    };

    const onError = reason => {
      Logger.error(`${eventName}: ${reason.stack ? reason.stack : reason}`);
      callNext();
    };

    try {
      this.debug(`${JSON.stringify(data.parsedMessage.core)} emitted`);

      if (isAsync) {
        callNext();
      }

      this.emitter.emitAsync(eventName, {
        envelope,
        header,
        body
      }, meetingId).then(callNext).catch(onError);
    } catch (reason) {
      onError(reason);
    }
  }

  add(...args) {
    return this.queue.add(...args);
  }

}

class RedisPubSub {
  static handlePublishError(err) {
    if (err) {
      Logger.error(err);
    }
  }

  constructor(config = {}) {
    this.config = config;
    this.didSendRequestEvent = false;
    const host = process.env.REDIS_HOST || Meteor.settings.private.redis.host;
    const redisConf = Meteor.settings.private.redis;
    const {
      password,
      port
    } = redisConf;

    if (password) {
      this.pub = Redis.createClient({
        host,
        port,
        password
      });
      this.sub = Redis.createClient({
        host,
        port,
        password
      });
      this.pub.auth(password);
      this.sub.auth(password);
    } else {
      this.pub = Redis.createClient({
        host,
        port
      });
      this.sub = Redis.createClient({
        host,
        port
      });
    }

    this.emitter = new EventEmitter2();
    this.mettingsQueues = {};
    this.handleSubscribe = this.handleSubscribe.bind(this);
    this.handleMessage = this.handleMessage.bind(this);
    this.debug = makeDebugger(this.config.debug);
  }

  init() {
    this.sub.on('psubscribe', Meteor.bindEnvironment(this.handleSubscribe));
    this.sub.on('pmessage', Meteor.bindEnvironment(this.handleMessage));
    const channelsToSubscribe = this.config.subscribeTo;
    channelsToSubscribe.forEach(channel => {
      this.sub.psubscribe(channel);
    });
    this.debug(`Subscribed to '${channelsToSubscribe}'`);
  }

  updateConfig(config) {
    this.config = Object.assign({}, this.config, config);
    this.debug = makeDebugger(this.config.debug);
  } // TODO: Move this out of this class, maybe pass as a callback to init?


  handleSubscribe() {
    if (this.didSendRequestEvent) return; // populate collections with pre-existing data

    const REDIS_CONFIG = Meteor.settings.private.redis;
    const CHANNEL = REDIS_CONFIG.channels.toAkkaApps;
    const EVENT_NAME = 'GetAllMeetingsReqMsg';
    const body = {
      requesterId: 'nodeJSapp'
    };
    this.publishSystemMessage(CHANNEL, EVENT_NAME, body);
    this.didSendRequestEvent = true;
  }

  handleMessage(pattern, channel, message) {
    const parsedMessage = JSON.parse(message);
    const {
      name: eventName,
      meetingId
    } = parsedMessage.core.header;
    const {
      ignored: ignoredMessages,
      async
    } = this.config;

    if (ignoredMessages.includes(channel) || ignoredMessages.includes(eventName)) {
      if (eventName === 'CheckAlivePongSysMsg') {
        return;
      }

      this.debug(`${eventName} skipped`);
      return;
    }

    const queueId = meetingId || NO_MEETING_ID;

    if (!(queueId in this.mettingsQueues)) {
      this.mettingsQueues[meetingId] = new MeetingMessageQueue(this.emitter, async, this.debug);
    }

    this.mettingsQueues[meetingId].add({
      pattern,
      channel,
      eventName,
      parsedMessage
    });
  }

  destroyMeetingQueue(id) {
    delete this.mettingsQueues[id];
  }

  on(...args) {
    return this.emitter.on(...args);
  }

  publishVoiceMessage(channel, eventName, voiceConf, payload) {
    const header = {
      name: eventName,
      voiceConf
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishSystemMessage(channel, eventName, payload) {
    const header = {
      name: eventName
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishMeetingMessage(channel, eventName, meetingId, payload) {
    const header = {
      name: eventName,
      meetingId
    };
    const envelope = makeEnvelope(channel, eventName, header, payload);
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

  publishUserMessage(channel, eventName, meetingId, userId, payload) {
    const header = {
      name: eventName,
      meetingId,
      userId
    };

    if (!meetingId || !userId) {
      Logger.warn(`Publishing ${eventName} with potentially missing data userId=${userId} meetingId=${meetingId}`);
    }

    const envelope = makeEnvelope(channel, eventName, header, payload, {
      meetingId,
      userId
    });
    return this.pub.publish(channel, envelope, RedisPubSub.handlePublishError);
  }

}

const RedisPubSubSingleton = new RedisPubSub();
Meteor.startup(() => {
  const REDIS_CONFIG = Meteor.settings.private.redis;
  RedisPubSubSingleton.updateConfig(REDIS_CONFIG);
  RedisPubSubSingleton.init();
});
module.exportDefault(RedisPubSubSingleton);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"settings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/startup/server/settings.js                                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let Meteor;
module.link("meteor/meteor", {
  Meteor(v) {
    Meteor = v;
  }

}, 0);
let fs;
module.link("fs", {
  default(v) {
    fs = v;
  }

}, 1);
let YAML;
module.link("yaml", {
  default(v) {
    YAML = v;
  }

}, 2);
const YAML_FILE_PATH = 'assets/app/config/settings.yml';

try {
  if (fs.existsSync(YAML_FILE_PATH)) {
    const SETTINGS = YAML.parse(fs.readFileSync(YAML_FILE_PATH, 'utf-8'));
    Meteor.settings = SETTINGS;
    __meteor_runtime_config__.PUBLIC_SETTINGS = SETTINGS.public;
  } else {
    throw new Error('File doesn\'t exists');
  }
} catch (error) {
  console.error('Error on load configuration file.', error);
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"utils":{"lineEndings.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/lineEndings.js                                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  BREAK_LINE: () => BREAK_LINE,
  CARRIAGE_RETURN: () => CARRIAGE_RETURN,
  NEW_LINE: () => NEW_LINE
});
// Used in Flash and HTML to show a legitimate break in the line
const BREAK_LINE = '<br/>'; // Soft return in HTML to signify a broken line without
// displaying the escaped '<br/>' line break text

const CARRIAGE_RETURN = '\r'; // Handle this the same as carriage return, in case text copied has this

const NEW_LINE = '\n';
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"mimeTypes.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/mimeTypes.js                                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.export({
  XLS: () => XLS,
  XLSX: () => XLSX,
  DOC: () => DOC,
  DOCX: () => DOCX,
  PPT: () => PPT,
  PPTX: () => PPTX,
  ODT: () => ODT,
  RTF: () => RTF,
  TXT: () => TXT,
  ODS: () => ODS,
  ODP: () => ODP,
  PDF: () => PDF,
  JPEG: () => JPEG,
  PNG: () => PNG,
  SVG: () => SVG,
  UPLOAD_SUPORTED: () => UPLOAD_SUPORTED
});
const XLS = 'application/vnd.ms-excel';
const XLSX = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';
const DOC = 'application/msword';
const DOCX = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';
const PPT = 'application/vnd.ms-powerpoint';
const PPTX = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';
const ODT = 'application/vnd.oasis.opendocument.text';
const RTF = 'application/rtf';
const TXT = 'text/plain';
const ODS = 'application/vnd.oasis.opendocument.spreadsheet';
const ODP = 'application/vnd.oasis.opendocument.presentation';
const PDF = 'application/pdf';
const JPEG = 'image/jpeg';
const PNG = 'image/png';
const SVG = 'image/svg+xml';
const UPLOAD_SUPORTED = [XLS, XLSX, DOC, DOCX, PPT, PPTX, ODT, RTF, TXT, ODS, ODP, PDF, JPEG, PNG];
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"regex-weburl.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// imports/utils/regex-weburl.js                                                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.exportDefault(new RegExp( // protocol identifier
'(?:(?:https?|ftp)://)' + // user:pass authentication
'(?:\\S+(?::\\S*)?@)?' + '(?:' + // IP address exclusion
// private & local networks
'(?!(?:10|127)(?:\\.\\d{1,3}){3})' + '(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})' + '(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})' + // IP address dotted notation octets
// excludes loopback network 0.0.0.0
// excludes reserved space >= 224.0.0.0
// excludes network & broacast addresses
// (first & last IP address of each class)
'(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])' + '(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}' + '(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))' + '|' + // host name
'(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)' + // domain name
'(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*' + // TLD identifier
'(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))' + // TLD may end with dot
'\\.?' + ')' + // port number
'(?::\\d{2,5})?' + // resource path
'(?:[/?#]\\S*)?', 'img'));
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"server":{"main.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// server/main.js                                                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
module.link("/imports/startup/server");
module.link("/imports/api/meetings/server");
module.link("/imports/api/users/server");
module.link("/imports/api/annotations/server");
module.link("/imports/api/cursor/server");
module.link("/imports/api/polls/server");
module.link("/imports/api/captions/server");
module.link("/imports/api/presentations/server");
module.link("/imports/api/presentation-pods/server");
module.link("/imports/api/presentation-upload-token/server");
module.link("/imports/api/slides/server");
module.link("/imports/api/breakouts/server");
module.link("/imports/api/group-chat/server");
module.link("/imports/api/group-chat-msg/server");
module.link("/imports/api/screenshare/server");
module.link("/imports/api/users-settings/server");
module.link("/imports/api/voice-users/server");
module.link("/imports/api/whiteboard-multi-user/server");
module.link("/imports/api/video-streams/server");
module.link("/imports/api/network-information/server");
module.link("/imports/api/users-infos/server");
module.link("/imports/api/note/server");
module.link("/imports/api/external-videos/server");
module.link("/imports/api/guest-users/server");
module.link("/imports/api/ping-pong/server");
module.link("/imports/api/local-settings/server");
module.link("/imports/api/voice-call-states/server");
module.link("/imports/api/log-client/server");
module.link("/imports/api/common/server/helpers");
module.link("/imports/startup/server/logger");

let _;

module.link("lodash", {
  default(v) {
    _ = v;
  }

}, 0);
global._ = _;
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},{
  "extensions": [
    ".js",
    ".json",
    ".jsx"
  ]
});

var exports = require("/server/main.js");
//# sourceURL=meteor://💻app/app/app.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3doaXRlYm9hcmRBbm5vdGF0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2hhbmRsZXJzL3doaXRlYm9hcmRDbGVhcmVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvd2hpdGVib2FyZFNlbmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9oYW5kbGVycy93aGl0ZWJvYXJkVW5kby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21ldGhvZHMvY2xlYXJXaGl0ZWJvYXJkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9zZW5kQW5ub3RhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21ldGhvZHMvc2VuZEFubm90YXRpb25IZWxwZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tZXRob2RzL3NlbmRCdWxrQW5ub3RhdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tZXRob2RzL3VuZG9Bbm5vdGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEFubm90YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJBbm5vdGF0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVBbm5vdGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvYWRkQW5ub3RhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvYnJlYWtvdXRDbG9zZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvYnJlYWtvdXRKb2luVVJMLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL2hhbmRsZXJzL2JyZWFrb3V0U3RhcnRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9oYW5kbGVycy9qb2luZWRVc2Vyc0NoYW5nZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaGFuZGxlcnMvdXBkYXRlVGltZVJlbWFpbmluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9tZXRob2RzL2NyZWF0ZUJyZWFrb3V0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvZW5kQWxsQnJlYWtvdXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvcmVxdWVzdEpvaW5VUkwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQnJlYWtvdXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9icmVha291dHMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oYW5kbGVycy9wYWRDcmVhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oYW5kbGVycy9wYWRVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2FwcGVuZFRleHQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2NyZWF0ZUNhcHRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9lZGl0Q2FwdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2ZldGNoUmVhZE9ubHlQYWRJZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvdGFrZU93bmVyc2hpcC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvdXBkYXRlT3duZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvYWRkQ2FwdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhckNhcHRpb25zLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZU93bmVySWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlUGFkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZVJlYWRPbmx5UGFkSWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvaGVscGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2NhcHRpb25zL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL2hhbmRsZXJzL2N1cnNvclVwZGF0ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9tZXRob2RzL3B1Ymxpc2hDdXJzb3JVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvY3Vyc29yL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvZGVzdHJveUV4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9lbWl0RXh0ZXJuYWxWaWRlb0V2ZW50LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvaW5pdGlhbGl6ZUV4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9zdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL3N0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvaGFuZGxlcnMvZ3JvdXBDaGF0Q3JlYXRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvaGFuZGxlcnMvZ3JvdXBDaGF0RGVzdHJveWVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9oYW5kbGVycy9ncm91cENoYXRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tZXRob2RzL2NyZWF0ZUdyb3VwQ2hhdC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC9zZXJ2ZXIvbWV0aG9kcy9kZXN0cm95R3JvdXBDaGF0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tb2RpZmllcnMvYWRkR3JvdXBDaGF0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tb2RpZmllcnMvY2xlYXJHcm91cENoYXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvaGFuZGxlcnMvY2xlYXJQdWJsaWNHcm91cENoYXQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9oYW5kbGVycy9ncm91cENoYXRNc2dCcm9hZGNhc3QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9oYW5kbGVycy9ncm91cENoYXRzTXNncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL2hhbmRsZXJzL3VzZXJUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL2NsZWFyUHVibGljQ2hhdEhpc3RvcnkuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL3NlbmRHcm91cENoYXRNc2cuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzL3N0YXJ0VXNlclR5cGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21ldGhvZHMvc3RvcFVzZXJUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tb2RpZmllcnMvYWRkR3JvdXBDaGF0TXNnLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyR3JvdXBDaGF0TXNnLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL3N0YXJ0VHlwaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL3N0b3BUeXBpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9oYW5kbGVycy9ndWVzdEFwcHJvdmVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvZ3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9hbGxvd1BlbmRpbmdVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvc2VydmVyL21ldGhvZHMvY2hhbmdlR3Vlc3RQb2xpY3kuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tb2RpZmllcnMvc2V0R3Vlc3RTdGF0dXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tZXRob2RzL3VzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9jbGVhckxvY2FsU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvc2V0Q2hhbmdlZExvY2FsU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3Mvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbG9nLWNsaWVudC9zZXJ2ZXIvbWV0aG9kcy9sb2dDbGllbnQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL2xvZy1jbGllbnQvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9sb2ctY2xpZW50L3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvZ2V0QWxsTWVldGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nQ3JlYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nRGVzdHJ1Y3Rpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9tZWV0aW5nRW5kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvaGFuZGxlcnMvbWVldGluZ0xvY2tDaGFuZ2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9yZWNvcmRpbmdTdGF0dXNDaGFuZ2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy9yZWNvcmRpbmdUaW1lckNoYW5nZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2hhbmRsZXJzL3RpbWVSZW1haW5pbmdVcGRhdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9oYW5kbGVycy91c2VyTG9ja0NoYW5nZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2hhbmRsZXJzL3dlYmNhbU9ubHlNb2RlcmF0b3IuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tZXRob2RzL2VuZE1lZXRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tZXRob2RzL3RvZ2dsZUxvY2tTZXR0aW5ncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21ldGhvZHMvdG9nZ2xlUmVjb3JkaW5nLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbWV0aG9kcy90b2dnbGVXZWJjYW1zT25seUZvck1vZGVyYXRvci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21ldGhvZHMvdHJhbnNmZXJVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZE1lZXRpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tb2RpZmllcnMvY2hhbmdlTG9ja1NldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZVVzZXJMb2NrLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUmVjb3JkTWVldGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy9tZWV0aW5nSGFzRW5kZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL3NlcnZlci9tb2RpZmllcnMvc2V0UHVibGlzaGVkUG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL21vZGlmaWVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbWVldGluZ3Mvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL21lZXRpbmdzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9tZXRob2RzL3VzZXJJbnN0YWJpbGl0eURldGVjdGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9tb2RpZmllcnMvY2xlYXJOZXR3b3JrSW5mb3JtYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlci9wdWJsaXNoZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25ldHdvcmstaW5mb3JtYXRpb24vaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hhbmRsZXJzL3BhZFVwZGF0ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbWV0aG9kcy9jcmVhdGVOb3RlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvYWRkTm90ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyTm90ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZU5vdGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2hlbHBlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL25vdGUvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9ub3RlL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9waW5nLXBvbmcvc2VydmVyL21ldGhvZHMvcGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcGluZy1wb25nL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcGluZy1wb25nL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9waW5nLXBvbmcvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9oYW5kbGVycy9wb2xsUHVibGlzaGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvaGFuZGxlcnMvcG9sbFN0YXJ0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9oYW5kbGVycy9wb2xsU3RvcHBlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL2hhbmRsZXJzL3VzZXJSZXNwb25kZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9oYW5kbGVycy91c2VyVm90ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tZXRob2RzL3B1Ymxpc2hQb2xsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbWV0aG9kcy9wdWJsaXNoVm90ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21ldGhvZHMvc3RhcnRQb2xsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbWV0aG9kcy9zdG9wUG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21vZGlmaWVycy9hZGRQb2xsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUG9sbHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9tb2RpZmllcnMvcmVtb3ZlUG9sbC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21vZGlmaWVycy91cGRhdGVWb3Rlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wb2xscy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL2hhbmRsZXJzL2NyZWF0ZU5ld1ByZXNlbnRhdGlvblBvZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL2hhbmRsZXJzL3JlbW92ZVByZXNlbnRhdGlvblBvZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL2hhbmRsZXJzL3NldFByZXNlbnRlckluUG9kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvaGFuZGxlcnMvc3luY0dldFByZXNlbnRhdGlvblBvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9tb2RpZmllcnMvYWRkUHJlc2VudGF0aW9uUG9kLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9uUG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVQcmVzZW50YXRpb25Qb2QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9tb2RpZmllcnMvc2V0UHJlc2VudGVySW5Qb2QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uVXBsb2FkVG9rZW5GYWlsLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25VcGxvYWRUb2tlblBhc3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL21ldGhvZHMvcmVxdWVzdFByZXNlbnRhdGlvblVwbG9hZFRva2VuLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9tZXRob2RzL3NldFVzZWRUb2tlbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25BZGRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uQ3VycmVudFNldC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGF0aW9uRG93bmxvYWRhYmxlU2V0LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9oYW5kbGVycy9wcmVzZW50YXRpb25SZW1vdmUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21ldGhvZHMvcmVtb3ZlUHJlc2VudGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tZXRob2RzL3NldFByZXNlbnRhdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9zZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9hZGRQcmVzZW50YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVQcmVzZW50YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMvc2VydmVyL21vZGlmaWVycy9zZXRDdXJyZW50UHJlc2VudGF0aW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL2hhbmRsZXJzL3NjcmVlbnNoYXJlU3RhcnRlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL2hhbmRsZXJzL3NjcmVlbnNoYXJlU3RvcHBlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL21vZGlmaWVycy9hZGRTY3JlZW5zaGFyZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL21vZGlmaWVycy9jbGVhclNjcmVlbnNoYXJlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvZXZlbnRIYW5kbGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZS9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NjcmVlbnNoYXJlL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2hhbmRsZXJzL3NsaWRlQ2hhbmdlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2hhbmRsZXJzL3NsaWRlUmVzaXplLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21ldGhvZHMvc3dpdGNoU2xpZGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbWV0aG9kcy96b29tU2xpZGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFNsaWRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9hZGRTbGlkZVBvc2l0aW9ucy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvY2hhbmdlQ3VycmVudFNsaWRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9jbGVhclNsaWRlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJTbGlkZXNQcmVzZW50YXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL3Jlc2l6ZVNsaWRlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvaGVscGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvc2xpZGVzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3NsaWRlcy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL2NoYW5nZVJvbGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy9lbW9qaVN0YXR1cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL2dldFVzZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvcHJlc2VudGVyQXNzaWduZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy9yZW1vdmVVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvdXNlckVqZWN0ZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy91c2VySW5hY3Rpdml0eUluc3BlY3QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy91c2VySm9pbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL2hhbmRsZXJzL3VzZXJKb2luZWQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9oYW5kbGVycy92YWxpZGF0ZUF1dGhUb2tlbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvYXNzaWduUHJlc2VudGVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy9jaGFuZ2VSb2xlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy9yZW1vdmVVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy9zZXRFbW9qaVN0YXR1cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbWV0aG9kcy90b2dnbGVVc2VyTG9jay5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvdXNlckFjdGl2aXR5U2lnbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvdXNlckxlYXZpbmcuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3VzZXJMZWZ0TWVldGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21ldGhvZHMvdmFsaWRhdGVBdXRoVG9rZW4uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkRGlhbEluVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9hZGRVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZVByZXNlbnRlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VSb2xlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvY3JlYXRlRHVtbXlVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3JlbW92ZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvc2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3NldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy91c2VyRWplY3RlZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy91c2VySW5hY3Rpdml0eUluc3BlY3QuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9zdG9yZS9iYW5uZWRVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL3N0b3JlL3BlbmRpbmdBdXRoZW50aWNhdGlvbnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9oYW5kbGVycy91c2VySW5mb3JtYXRpb24uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tZXRob2RzL3JlbW92ZVVzZXJJbmZvcm1hdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL21ldGhvZHMvcmVxdWVzdFVzZXJJbmZvcm1hdGlvbi5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL21vZGlmaWVycy9hZGRVc2VySW5mby5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL21vZGlmaWVycy9jbGVhclVzZXJJbmZvLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlckluZm9Gb3JSZXF1ZXN0ZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tZXRob2RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3MvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9tZXRob2RzL2FkZFVzZXJTZXR0aW5ncy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9hZGRVc2VyU2V0dGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyL21vZGlmaWVycy9jbGVhclVzZXJzU2V0dGluZ3MuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3Mvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGFuZGxlcnMvdXNlclNoYXJlZEh0bWw1V2ViY2FtLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9oYW5kbGVycy91c2VyVW5zaGFyZWRIdG1sNVdlYmNhbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvbWV0aG9kcy91c2VyU2hhcmVXZWJjYW0uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL21ldGhvZHMvdXNlclVuc2hhcmVXZWJjYW0uanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL21vZGlmaWVycy9jbGVhclZpZGVvU3RyZWFtcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvbW9kaWZpZXJzL3NoYXJlZFdlYmNhbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvbW9kaWZpZXJzL3Vuc2hhcmVkV2ViY2FtLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9oZWxwZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvbWV0aG9kcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvcHVibGlzaGVyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvaGFuZGxlcnMvdm9pY2VDYWxsU3RhdGVFdmVudC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvc2VydmVyL21vZGlmaWVycy9jbGVhclZvaWNlQ2FsbFN0YXRlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvc2VydmVyL3B1Ymxpc2hlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvZ2V0Vm9pY2VVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2hhbmRsZXJzL2pvaW5Wb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy9sZWZ0Vm9pY2VVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvbWVldGluZ011dGVkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvbXV0ZWRWb2ljZVVzZXIuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9oYW5kbGVycy90YWxraW5nVm9pY2VVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvaGFuZGxlcnMvdm9pY2VVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21ldGhvZHMvZWplY3RVc2VyRnJvbVZvaWNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9tdXRlQWxsRXhjZXB0UHJlc2VudGVyVG9nZ2xlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9tdXRlQWxsVG9nZ2xlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9tdXRlVG9nZ2xlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFZvaWNlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VNdXRlTWVldGluZy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9jbGVhclZvaWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9tb2RpZmllcnMvcmVtb3ZlVm9pY2VVc2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZVZvaWNlVXNlci5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL2V2ZW50SGFuZGxlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzL3NlcnZlci9wdWJsaXNoZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9pbmRleC5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9oYW5kbGVycy9tb2RpZnlXaGl0ZWJvYXJkQWNjZXNzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL21ldGhvZHMvY2hhbmdlV2hpdGVib2FyZEFjY2Vzcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9tb2RpZmllcnMvbW9kaWZ5V2hpdGVib2FyZEFjY2Vzcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlci9ldmVudEhhbmRsZXJzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS93aGl0ZWJvYXJkLW11bHRpLXVzZXIvc2VydmVyL21ldGhvZHMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvcHVibGlzaGVycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL2luZGV4LmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvaW5kZXguanMiLCJtZXRlb3I6Ly/wn5K7YXBwL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL21pbkJyb3dzZXJWZXJzaW9uLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3NldHRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3V0aWxzL2xpbmVFbmRpbmdzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9pbXBvcnRzL3V0aWxzL21pbWVUeXBlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvaW1wb3J0cy91dGlscy9yZWdleC13ZWJ1cmwuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tYWluLmpzIl0sIm5hbWVzIjpbImJvZHkiLCJjaGVjayIsImhlYWRlciIsIm11bHRpVXNlciIsImNsZWFyQW5ub3RhdGlvbnMiLCJhbm5vdGF0aW9uc0FkZGVkIiwiXyIsImFubm90YXRpb24iLCJ1c2VySWQiLCJhZGRBbm5vdGF0aW9uIiwibW9kaWZ5V2hpdGVib2FyZEFjY2VzcyIsIndoaXRlYm9hcmRJZCIsImZ1bGxDbGVhciIsIkJvb2xlYW4iLCJBbm5vdGF0aW9uc1N0cmVhbWVyIiwiQU5OT1RBVElPTl9QUk9DQ0VTU19JTlRFUlZBTCIsImFubm90YXRpb25zUXVldWUiLCJhbm5vdGF0aW9uc1JlY2lldmVySXNSdW5uaW5nIiwicHJvY2Nlc3MiLCJPYmplY3QiLCJtZWV0aW5nSWQiLCJhbm5vdGF0aW9ucyIsIk1ldGVvciIsInNoYXBlSWQiLCJyZW1vdmVBbm5vdGF0aW9uIiwiUmVkaXNQdWJTdWIiLCJSRURJU19DT05GSUciLCJDSEFOTkVMIiwiRVZFTlRfTkFNRSIsInJlcXVlc3RlclVzZXJJZCIsImV4dHJhY3RDcmVkZW50aWFscyIsInBheWxvYWQiLCJzZW5kQW5ub3RhdGlvbkhlbHBlciIsImlkIiwic3RhdHVzIiwiYW5ub3RhdGlvblR5cGUiLCJhbm5vdGF0aW9uSW5mbyIsIngiLCJ5IiwiZm9udENvbG9yIiwiY2FsY2VkRm9udFNpemUiLCJ0ZXh0Qm94V2lkdGgiLCJ0ZXh0IiwidGV4dEJveEhlaWdodCIsImZvbnRTaXplIiwiZGF0YVBvaW50cyIsInR5cGUiLCJTdHJpbmciLCJ3YklkIiwicG9zaXRpb24iLCJOdW1iZXIiLCJjb2xvciIsInRoaWNrbmVzcyIsInBvaW50cyIsImRpbWVuc2lvbnMiLCJNYXRjaCIsInF1ZXJ5IiwiYWRkQW5ub3RhdGlvblF1ZXJ5IiwiY2IiLCJMb2dnZXIiLCJlcnIiLCJpbnNlcnRlZElkIiwiQW5ub3RhdGlvbnMiLCJzZWxlY3RvciIsInByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkiLCJzZW5kQnVsa0Fubm90YXRpb25zIiwiYm91bmRBbm5vdGF0aW9ucyIsInN0cmVhbWVyIiwicmV0cmFuc21pdCIsIkFOTk9UQVRJT05fVFlQRV9URVhUIiwiQU5OT1RBVElPTl9UWVBFX1BFTkNJTCIsIkRFRkFVTFRfVEVYVF9XSURUSCIsIkRFRkFVTFRfVEVYVF9IRUlHSFQiLCJtb2RpZmllciIsIiRzZXQiLCIkc2V0T25JbnNlcnQiLCIkaW5jIiwidmVyc2lvbiIsInVzZURlZmF1bHRTaXplIiwiRFJBV19TVEFSVCIsIkRSQVdfVVBEQVRFIiwiRFJBV19FTkQiLCJiYXNlU2VsZWN0b3IiLCJiYXNlTW9kaWZpZXIiLCIkcHVzaCIsIiRlYWNoIiwiaGFuZGxlVGV4dFVwZGF0ZSIsImhhbmRsZVBlbmNpbFVwZGF0ZSIsImhhbmRsZUNvbW1vbkFubm90YXRpb24iLCJNb25nbyIsImJyZWFrb3V0SWQiLCJjbGVhckJyZWFrb3V0cyIsInVzZXJzIiwiaW5zZXJ0ZWRUaW1lIiwiY2JFcnIiLCJCcmVha291dHMiLCJERUZBVUxUX1RJTUVfUkVNQUlOSU5HIiwiYnJlYWtvdXQiLCJqb2luZWRVc2VycyIsInRpbWVSZW1haW5pbmciLCJwYXJlbnRNZWV0aW5nSWQiLCJmbGF0IiwidXNlcnNNYXBwZWQiLCJ1c2VyIiwibmFtZSIsIm9wdGlvbnMiLCJtdWx0aSIsInJlY29yZCIsIkJSRUFLT1VUX0xJTSIsIk1JTl9CUkVBS09VVF9ST09NUyIsIk1BWF9CUkVBS09VVF9ST09NUyIsImV2ZW50TmFtZSIsInJvb21zIiwidXNlcklkVG9JbnZpdGUiLCJlbmRBbGxCcmVha291dHMiLCJST0xFX01PREVSQVRPUiIsIlVzZXIiLCJmaWVsZHMiLCJyb2xlIiwicHJlc2VudGVyU2VsZWN0b3IiLCIkb3IiLCJmcmVlSm9pbiIsImJvdW5kQnJlYWtvdXRzIiwiYnJlYWtvdXRzIiwicGFkIiwiZmV0Y2hSZWFkT25seVBhZElkIiwiY2hhbmdlc2V0IiwiZGF0YSIsImdldERhdGFGcm9tQ2hhbmdlc2V0IiwidXBkYXRlUGFkIiwicGFkSWQiLCJnZW5lcmF0ZVBhZElkIiwiYXhpb3MiLCJtZXRob2QiLCJ1cmwiLCJhcHBlbmRUZXh0VVJMIiwicmVzcG9uc2VUeXBlIiwicmVzcG9uc2UiLCJlcnJvciIsImlzRW5hYmxlZCIsImdldExvY2FsZXNVUkwiLCJsb2NhbGVzIiwibG9jYWxlIiwiYWRkQ2FwdGlvbiIsImdldEluZGV4IiwibGVuZ3RoIiwiaW5kZXgiLCJzdGFydEluZGV4IiwibG9jYWxlQ29kZSIsImVuZEluZGV4IiwicmVhZE9ubHlVUkwiLCJnZXRSZWFkT25seUlkVVJMIiwicmVhZE9ubHlQYWRJZCIsImdldERhdGFGcm9tUmVzcG9uc2UiLCJ1cGRhdGVSZWFkT25seVBhZElkIiwiJHJlZ2V4IiwidXBkYXRlT3duZXJJZCIsIm93bmVySWQiLCJyZXZzIiwiQ2FwdGlvbnMiLCJ1cGRhdGVPd25lciIsImVkaXRDYXB0aW9ucyIsInByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkiLCJDQVBUSU9OU19DT05GSUciLCJCQVNFTkFNRSIsIkFQUCIsIkxPQ0FMRVNfVVJMIiwiaG9zdCIsInBvcnQiLCJsb2NhbGVzVXJsIiwiQ0FQVElPTlMiLCJUT0tFTiIsImhhc2hGTlYzMmEiLCJpc0NhcHRpb25zUGFkIiwic3BsaXRQYWRJZCIsInNwbGl0Q2hhbmdlc2V0IiwiZm4iLCJhcHBlbmRUZXh0IiwiYm91bmRDYXB0aW9ucyIsImNhcHRpb25zIiwic3RyZWFtZXJMb2ciLCJDVVJTT1JfUFJPQ0NFU1NfSU5URVJWQUwiLCJjdXJzb3JRdWV1ZSIsImN1cnNvcnMiLCJDdXJzb3JTdHJlYW1lciIsInB1Ymxpc2hDdXJzb3JVcGRhdGUiLCJtZXNzYWdlIiwic3RyZWFtTmFtZSIsInN0cmVhbWVyTmFtZSIsImFsbG93UmVjZW50TWVzc2FnZXMiLCJzdGF0ZSIsInRpbWUiLCJyYXRlIiwiZXh0ZXJuYWxWaWRlb1VybCIsInByZXNlbnRlciIsIk1lZXRpbmdzIiwibWVldGluZyIsImVtaXRFeHRlcm5hbFZpZGVvRXZlbnQiLCJhZGRHcm91cENoYXQiLCJjaGF0cyIsImNoYXRzQWRkZWQiLCJjaGF0IiwiY29ycmVsYXRpb25JZCIsIkRhdGUiLCJtc2ciLCJyZWNlaXZlciIsImFjY2VzcyIsImNoYXRJZCIsImNyZWF0ZWRCeSIsImNoYXREb2N1bWVudCIsInUiLCJzYWZlIiwiR3JvdXBDaGF0IiwiY2xlYXJHcm91cENoYXRNc2ciLCJkZXN0cm95R3JvdXBDaGF0IiwiQ0hBVF9DT05GSUciLCJQVUJMSUNfQ0hBVF9UWVBFIiwiJGFsbCIsImJvdW5kR3JvdXBDaGF0IiwiZ3JvdXBDaGF0IiwiQ0hBVF9BQ0NFU1MiLCJQVUJMSUMiLCJQUklWQVRFIiwiQ0hBVF9BQ0NFU1NfUFVCTElDIiwiQ0hBVF9BQ0NFU1NfUFJJVkFURSIsImFkZEdyb3VwQ2hhdE1zZyIsIm1zZ3NBZGRlZCIsIm1zZ3MiLCJtIiwic3RhcnRUeXBpbmciLCJQVUJMSUNfR1JPVVBfQ0hBVF9JRCIsIkhUTUxfU0FGRV9NQVAiLCJwYXJzZU1lc3NhZ2UiLCJwYXJzZWRNZXNzYWdlIiwiYyIsIlVzZXJzVHlwaW5nIiwidXNlclR5cGluZyIsInN0b3BUeXBpbmciLCJCUkVBS19MSU5FIiwidGltZXN0YW1wIiwic2VuZGVyIiwibXNnRG9jdW1lbnQiLCJHcm91cENoYXRNc2ciLCJQVUJMSUNfQ0hBVF9TWVNURU1fSUQiLCJDSEFUX0NMRUFSX01FU1NBR0UiLCJjbGVhck1zZyIsIiRlcSIsIlRZUElOR19USU1FT1VUIiwiVXNlcnMiLCJtb2QiLCJpc1R5cGluZ1RvIiwidHlwaW5nVXNlciIsInNlbmRNc2dJbml0aWF0ZWQiLCJzdGlsbFR5cGluZyIsInN0b3BVc2VyVHlwaW5nIiwiJGluIiwiY2hhdHNJZHMiLCJncm91cENoYXRNc2ciLCJib3VuZFVzZXJzVHlwaW5nIiwidXNlcnNUeXBpbmciLCJndWVzdHMiLCJndWVzdCIsInNldEd1ZXN0U3RhdHVzIiwic3RyaW5nSGFzaCIsIkNPTE9SX0xJU1QiLCJpbnRJZCIsImFwcHJvdmVkIiwiZGVuaWVkIiwibG9naW5UaW1lIiwibWFwcGVkR3Vlc3RzIiwiYXBwcm92ZWRCeSIsIkpTT04iLCJzZXRCeSIsInBvbGljeSIsInBvbGljeVJ1bGUiLCJHVUVTVF9TVEFUVVNfQUxMT1ciLCJHVUVTVF9TVEFUVVNfREVOWSIsIkd1ZXN0VXNlcnMiLCJjaGFuZ2VHdWVzdFBvbGljeSIsImJvdW5kU2xpZGVzIiwiZ3Vlc3RVc2VycyIsInVzZXJMb2NhbFNldHRpbmdzIiwic2V0dGluZ3MiLCJzZXRDaGFuZ2VkTG9jYWxTZXR0aW5ncyIsIkxvY2FsU2V0dGluZ3MiLCJ1c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3MiLCJib3VuZExvY2FsU2V0dGluZ3MiLCJsb2NhbFNldHRpbmdzIiwibG9nQ2xpZW50IiwibG9nQ29kZSIsImV4dHJhSW5mbyIsInVzZXJJbmZvIiwiY29ubmVjdGlvbklkIiwibG9nQ29udGVudHMiLCJsZXZlbCIsImhhbmRsZU1lZXRpbmdDcmVhdGlvbiIsImR1cmF0aW9uSW5TZWNvZHMiLCJhZGRNZWV0aW5nIiwiZGVzdHJveUV4dGVybmFsVmlkZW8iLCJyZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyIiwicmVtb3ZlQ3Vyc29yU3RyZWFtZXIiLCJtZWV0aW5nVHlwZSIsImNvbm5lY3Rpb25TdGF0dXMiLCJtZWV0aW5nSGFzRW5kZWQiLCJtZWV0aW5nRW5kZWQiLCJjaGFuZ2VMb2NrU2V0dGluZ3MiLCJyZWNvcmRpbmciLCJSZWNvcmRNZWV0aW5ncyIsInRpbWVMZWZ0SW5TZWMiLCJNZWV0aW5nVGltZVJlbWFpbmluZyIsImNoYW5nZVVzZXJMb2NrIiwiY2hhbmdlV2ViY2FtT25seU1vZGVyYXRvciIsImRpc2FibGVDYW0iLCJkaXNhYmxlTWljIiwiZGlzYWJsZVByaXZhdGVDaGF0IiwiZGlzYWJsZVB1YmxpY0NoYXQiLCJkaXNhYmxlTm90ZSIsImhpZGVVc2VyTGlzdCIsImxvY2tlZExheW91dCIsImxvY2tPbkpvaW4iLCJsb2NrT25Kb2luQ29uZmlndXJhYmxlIiwicmVjb3JkT2JqZWN0IiwibWVldGluZ1JlY29yZGVkIiwiYWxsb3dlZFRvUmVjb3JkIiwiZnJvbU1lZXRpbmdJZCIsInRvTWVldGluZ0lkIiwiYnJlYWtvdXRQcm9wcyIsInNlcXVlbmNlIiwiYnJlYWtvdXRSb29tcyIsInBhcmVudElkIiwiZW5hYmxlZCIsInByaXZhdGVDaGF0RW5hYmxlZCIsIm1lZXRpbmdQcm9wIiwiZXh0SWQiLCJpc0JyZWFrb3V0IiwidXNlcnNQcm9wIiwid2ViY2Ftc09ubHlGb3JNb2RlcmF0b3IiLCJndWVzdFBvbGljeSIsIm1heFVzZXJzIiwiYWxsb3dNb2RzVG9Vbm11dGVVc2VycyIsImR1cmF0aW9uUHJvcHMiLCJjcmVhdGVkVGltZSIsImR1cmF0aW9uIiwiY3JlYXRlZERhdGUiLCJtYXhJbmFjdGl2aXR5VGltZW91dE1pbnV0ZXMiLCJ3YXJuTWludXRlc0JlZm9yZU1heCIsIm1lZXRpbmdFeHBpcmVJZk5vVXNlckpvaW5lZEluTWludXRlcyIsIm1lZXRpbmdFeHBpcmVXaGVuTGFzdFVzZXJMZWZ0SW5NaW51dGVzIiwidXNlckluYWN0aXZpdHlJbnNwZWN0VGltZXJJbk1pbnV0ZXMiLCJ1c2VySW5hY3Rpdml0eVRocmVzaG9sZEluTWludXRlcyIsInVzZXJBY3Rpdml0eVNpZ25SZXNwb25zZURlbGF5SW5NaW51dGVzIiwid2VsY29tZVByb3AiLCJ3ZWxjb21lTXNnIiwibW9kT25seU1lc3NhZ2UiLCJ3ZWxjb21lTXNnVGVtcGxhdGUiLCJyZWNvcmRQcm9wIiwiYWxsb3dTdGFydFN0b3BSZWNvcmRpbmciLCJhdXRvU3RhcnRSZWNvcmRpbmciLCJwYXNzd29yZCIsInZpZXdlclBhc3MiLCJtb2RlcmF0b3JQYXNzIiwidm9pY2VQcm9wIiwidm9pY2VDb25mIiwiZGlhbE51bWJlciIsInRlbFZvaWNlIiwibXV0ZU9uU3RhcnQiLCJzY3JlZW5zaGFyZVByb3BzIiwicmVkNVNjcmVlbnNoYXJlSXAiLCJyZWQ1U2NyZWVuc2hhcmVBcHAiLCJzY3JlZW5zaGFyZUNvbmYiLCJtZXRhZGF0YVByb3AiLCJsb2NrU2V0dGluZ3NQcm9wcyIsInJlc3RQcm9wcyIsIm5ld01lZXRpbmciLCJzYW5pdGl6ZVRleHRJbkNoYXQiLCJvcmlnaW5hbCIsIlNhbml0aXplSFRNTCIsImFsbG93ZWRUYWdzIiwiYWxsb3dlZEF0dHJpYnV0ZXMiLCJhIiwiaW1nIiwiYWxsb3dlZFNjaGVtZXMiLCJzYW5pdGl6ZWRXZWxjb21lVGV4dCIsImluc2VydEJsYW5rVGFyZ2V0IiwicyIsImxpbmtXaXRob3V0VGFyZ2V0IiwicHVibGlzaGVkUG9sbCIsImNyZWF0ZU5vdGUiLCJjcmVhdGVDYXB0aW9ucyIsIkJhbm5lZFVzZXJzIiwiY2JSZWNvcmQiLCJhZGRBbm5vdGF0aW9uc1N0cmVhbWVyIiwiYWRkQ3Vyc29yU3RyZWFtZXIiLCJkaXNhYmxlUHJpdkNoYXQiLCJkaXNhYmxlUHViQ2hhdCIsImxvY2tlZCIsImxvY2tlZEJ5IiwiY2xlYXJDYXB0aW9ucyIsImNsZWFyR3JvdXBDaGF0IiwiY2xlYXJQcmVzZW50YXRpb25Qb2RzIiwiY2xlYXJQb2xscyIsImNsZWFyU2xpZGVzIiwiY2xlYXJVc2VycyIsImNsZWFyVXNlcnNTZXR0aW5ncyIsImNsZWFyVm9pY2VVc2VycyIsImNsZWFyVXNlckluZm8iLCJjbGVhck5vdGUiLCJjbGVhck5ldHdvcmtJbmZvcm1hdGlvbiIsImNsZWFyTG9jYWxTZXR0aW5ncyIsImNsZWFyUmVjb3JkTWVldGluZyIsImNsZWFyVm9pY2VDYWxsU3RhdGVzIiwiY2xlYXJWaWRlb1N0cmVhbXMiLCJpc1B1Ymxpc2hlZCIsInRvZ2dsZVdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yIiwiYm91bmRNZWV0aW5ncyIsIm1lZXRpbmdzIiwiYm91bmRSZWNvcmRNZWV0aW5ncyIsInJlY29yZE1lZXRpbmdzIiwiYm91bmR0aW1lUmVtYWluaW5nIiwibWVldGluZ1RpbWVSZW1haW5pbmciLCJOZXR3b3JrSW5mb3JtYXRpb24iLCJ1c2VySW5zdGFiaWxpdHlEZXRlY3RlZCIsImJvdW5kTmV0d29ya0luZm9ybWF0aW9uIiwibmV0d29ya0luZm9ybWF0aW9uIiwidXBkYXRlTm90ZSIsIm5vdGVJZCIsImdlbmVyYXRlTm90ZUlkIiwiY3JlYXRlVVJMIiwiY3JlYXRlUGFkVVJMIiwicmVzcG9uc2VPdXRlciIsInJlYWRPbmx5Tm90ZUlkIiwiYWRkTm90ZSIsIk5vdGUiLCJwcm9jZXNzRm9yTm90ZVBhZE9ubHkiLCJFVEhFUlBBRCIsIk5PVEVfQ09ORklHIiwiQkFTRV9VUkwiLCJhcGlrZXkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJpbm5lckRhdGEiLCJpc05vdGVQYWQiLCJib3VuZE5vdGUiLCJub3RlIiwibGFzdFBpbmciLCJwaW5nIiwiQ09MTEVDVElPTl9OQU1FIiwiSU5URVJWQUxfSU5fU0VUVElOR1MiLCJJTlRFUlZBTF9USU1FIiwiUE9OR19JTlRFUlZBTF9JTl9TRVRUSU5HUyIsIlBPTkdfSU5URVJWQUwiLCJwb25nU2VuZGVyIiwiaW50ZXJ2YWwiLCJwb25nIiwicG9sbElkIiwic2V0UHVibGlzaGVkUG9sbCIsInJlbW92ZVBvbGwiLCJwb2xsIiwiYWRkUG9sbCIsImFuc3dlcklkIiwiJHB1bGwiLCJyZXNwb25zZXMiLCJQb2xscyIsImFuc3dlcnMiLCJrZXkiLCJudW1Wb3RlcyIsIm51bVJlc3BvbmRlbnRzIiwibnVtUmVzcG9uZGVycyIsInVwZGF0ZVZvdGVzIiwicmVxdWVzdGVySWQiLCJjdXJyZW50UG9sbCIsInF1ZXN0aW9uSWQiLCJwb2xsQW5zd2VySWQiLCJwb2xsVHlwZSIsInVzZXJTZWxlY3RvciIsIiRuZSIsImNsaWVudFR5cGUiLCJ1c2VySWRzIiwicmVxdWVzdGVyIiwic3RvcFBvbGwiLCJib3VuZFBvbGxzIiwicG9sbHMiLCJjdXJyZW50UHJlc2VudGVySWQiLCJwb2RJZCIsInBvZCIsImFkZFByZXNlbnRhdGlvblBvZCIsInJlbW92ZVByZXNlbnRhdGlvblBvZCIsIm5leHRQcmVzZW50ZXJJZCIsInNldFByZXNlbnRlckluUG9kIiwicG9kcyIsInByZXNlbnRhdGlvblBvZElkcyIsInByZXNlbnRhdGlvblBvZHNUb1JlbW92ZSIsIiRuaW4iLCJwIiwiY3VycmVudFByZXNlbnRlciIsInByZXNlbnRhdGlvbnMiLCJwcmVzZW50YXRpb24iLCJhZGRQcmVzZW50YXRpb24iLCJQcmVzZW50YXRpb25Qb2RzIiwiY2xlYXJQcmVzZW50YXRpb25zIiwiY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbiIsImJvdW5kUHJlc2VudGF0aW9uUG9kcyIsInByZXNlbnRhdGlvblBvZHMiLCJmaWxlbmFtZSIsImZhaWxlZCIsImF1dGh6VG9rZW4iLCJkb2MiLCJ1c2VkIiwiUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4iLCJzZXRVc2VkVG9rZW4iLCJib3VuZFByZXNlbnRhdGlvblVwbG9hZFRva2VuIiwicHJlc2VudGF0aW9uVXBsb2FkVG9rZW4iLCJPRkZJQ0VfRE9DX0NPTlZFUlNJT05fRkFJTEVEX0tFWSIsIk9GRklDRV9ET0NfQ09OVkVSU0lPTl9JTlZBTElEX0tFWSIsIlNVUFBPUlRFRF9ET0NVTUVOVF9LRVkiLCJVTlNVUFBPUlRFRF9ET0NVTUVOVF9LRVkiLCJQQUdFX0NPVU5UX0ZBSUxFRF9LRVkiLCJQQUdFX0NPVU5UX0VYQ0VFREVEX0tFWSIsIlBERl9IQVNfQklHX1BBR0VfS0VZIiwiR0VORVJBVEVEX1NMSURFX0tFWSIsIm1lc3NhZ2VLZXkiLCJwcmVzTmFtZSIsInByZXNlbnRhdGlvbk5hbWUiLCJzdGF0dXNNb2RpZmllciIsInByZXNlbnRhdGlvbklkIiwiUHJlc2VudGF0aW9ucyIsInNldEN1cnJlbnRQcmVzZW50YXRpb24iLCJkb3dubG9hZGFibGUiLCJzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUiLCJyZW1vdmVQcmVzZW50YXRpb24iLCJnZXRTbGlkZVRleHQiLCJjb250ZW50IiwiSFRUUCIsImFkZFNsaWRlcyIsInNsaWRlcyIsInNsaWRlIiwiYWRkU2xpZGUiLCJjdXJyZW50IiwicGFnZXMiLCJudW0iLCJ0aHVtYlVyaSIsInN3ZlVyaSIsInR4dFVyaSIsInN2Z1VyaSIsInhPZmZzZXQiLCJ5T2Zmc2V0Iiwid2lkdGhSYXRpbyIsImhlaWdodFJhdGlvIiwiY2xlYXJTbGlkZXNQcmVzZW50YXRpb24iLCJvbGRDdXJyZW50IiwiY2FsbGJhY2siLCJuZXdDdXJyZW50Iiwib2xkUHJlc2VudGF0aW9uIiwibmV3UHJlc2VudGF0aW9uIiwiYm91bmRQcmVzZW50YXRpb25zIiwicHJlc2VudGVySWQiLCJzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvIiwiYWRkU2NyZWVuc2hhcmUiLCJjbGVhclNjcmVlbnNoYXJlIiwic2NyZWVuc2hhcmUiLCJTY3JlZW5zaGFyZSIsImJvdW5kU2NyZWVuc2hhcmUiLCJjaGFuZ2VDdXJyZW50U2xpZGUiLCJyZXNpemVTbGlkZSIsIlByZXNlbnRhdGlvbiIsIlNsaWRlIiwic2xpZGVOdW1iZXIiLCJwYWdlSWQiLCJsb2FkU2xpZGVzRnJvbUh0dHBBbHdheXMiLCJyZXF1ZXN0V2hpdGVib2FyZEhpc3RvcnkiLCJVU0VSX0lEIiwic2xpZGVJZCIsIlNVUFBPUlRFRF9UWVBFUyIsImZldGNoSW1hZ2VTaXplcyIsImltYWdlVXJpIiwicmVzdWx0IiwibWltZSIsIndpZHRoIiwiaGVpZ2h0IiwicmVhc29uIiwicmVzdFNsaWRlIiwiaW1hZ2VTaXplVXJpIiwic2xpZGVEYXRhIiwic2xpZGVQb3NpdGlvbiIsImNhbGN1bGF0ZVNsaWRlRGF0YSIsImFkZFNsaWRlUG9zaXRpb25zIiwiU2xpZGVzIiwiU2xpZGVQb3NpdGlvbnMiLCJ2aWV3Qm94V2lkdGgiLCJ2aWV3Qm94SGVpZ2h0Iiwib2xkU2xpZGUiLCJuZXdTbGlkZSIsIndoaXRlYm9hcmRJZHMiLCJyb3ciLCJTbGlkZVBvc2l0aW9uIiwiY2FsY3VsYXRlZERhdGEiLCJ6b29tU2xpZGUiLCJib3VuZFNsaWRlUG9zaXRpb25zIiwic2xpZGVQb3NpdGlvbnMiLCJjaGFuZ2VkQnkiLCJjaGFuZ2VSb2xlIiwiZW1vamkiLCJlbW9qaVRpbWUiLCJ1c2Vyc0lkcyIsInVzZXJzVG9SZW1vdmUiLCJyZW1vdmVVc2VyIiwidXNlcnNBZGRlZCIsImFkZFVzZXIiLCJhc3NpZ25lZEJ5IiwiY2hhbmdlUHJlc2VudGVyIiwicHJldlByZXNlbnRlciIsInNldFByZXNlbnRlclBheWxvYWQiLCJkZWZhdWx0UG9kU2VsZWN0b3IiLCJjdXJyZW50RGVmYXVsdFBvZFByZXNlbnRlciIsInNldFByZXNlbnRlckluUG9kUmVxTXNnIiwib2xkUHJlc2VudGVyIiwidXNlckVqZWN0ZWQiLCJyZWFzb25Db2RlIiwicmVzcG9uc2VEZWxheSIsInVzZXJJbmFjdGl2aXR5SW5zcGVjdCIsImF1dGhUb2tlbiIsImNsZWFyT3RoZXJTZXNzaW9ucyIsInNlcnZlclNlc3Npb25zIiwiaSIsIndhaXRGb3JBcHByb3ZhbCIsInBlbmRpbmdBdXRocyIsInBlbmRpbmdBdXRoZW50aWNhdGlvbnNTdG9yZSIsInBlbmRpbmdBdXRoIiwibWV0aG9kSW52b2NhdGlvbk9iamVjdCIsInNlc3Npb25JZCIsImNyZWF0ZUR1bW15VXNlciIsInNldENvbm5lY3Rpb25JZEFuZEF1dGhUb2tlbiIsInZhbGlkIiwidXNlckpvaW4iLCJ2YWxpZGF0ZWQiLCJpbmFjdGl2aXR5Q2hlY2siLCJzZXNzaW9uVXNlcklkIiwiY3VycmVudENvbm5lY3Rpb25JZCIsIm5ld1ByZXNlbnRlcklkIiwibmV3UHJlc2VudGVyTmFtZSIsImVqZWN0ZWRCeSIsImJhblVzZXIiLCJyZW1vdmVkVXNlciIsImVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlIiwic2V0RWZmZWN0aXZlQ29ubmVjdGlvblR5cGUiLCJsb2NrIiwibG9nZ2VkT3V0IiwiZXh0ZXJuYWxJZCIsImludmFsaWQiLCJpc1VzZXJFamVjdGVkIiwiZWplY3RlZCIsInJlcXVlc3RlclRva2VuIiwiVVNFUl9DT05GSUciLCJST0xFX1ZJRVdFUiIsImNhbGxlck5hbWUiLCJ2b2ljZU9ubHlVc2VyIiwiYXV0aGVkIiwid2FpdGluZ0ZvckFjY2VwdGFuY2UiLCJndWVzdFN0YXR1cyIsImF2YXRhciIsInNhbml0aXplZE5hbWUiLCJ1c2VyRGF0YSIsIk1lZXRpbmciLCJzb3J0TmFtZSIsImlzQnJlYWtvdXRVc2VyIiwiYWRkVm9pY2VVc2VyIiwidm9pY2VVc2VySWQiLCJjYWxsZXJOdW0iLCJtdXRlZCIsInRhbGtpbmciLCJjYWxsaW5nV2l0aCIsImxpc3Rlbk9ubHkiLCJqb2luZWQiLCJjbGVhckFsbFNlc3Npb25zIiwidXNlclRvUmVtb3ZlIiwiY2xlYXJVc2VySW5mb0ZvclJlcXVlc3RlciIsIlZpZGVvU3RyZWFtcyIsImVqZWN0ZWRSZWFzb24iLCJjb25zdHJ1Y3RvciIsImluaXQiLCJhZGQiLCJkZWxldGUiLCJoYXMiLCJnZW5lcmF0ZUtleSIsInRha2UiLCJtYXRjaGVzIiwiZSIsInVzZXJMZWZ0TWVldGluZyIsIm9uQ2xvc2VDb25uZWN0aW9uIiwidXNlckxlYXZpbmciLCJib3VuZFVzZXJzIiwiY3VycmVudFVzZXIiLCJhZGRVc2VySW5mbyIsIlVzZXJJbmZvcyIsImV4dGVybmFsVXNlcklkIiwiaW5mbyIsInJlbW92ZVVzZXJJbmZvcm1hdGlvbiIsImJvdW5kVXNlckluZm9zIiwidXNlckluZm9zIiwib2xkUGFyYW1ldGVycyIsImFza0ZvckZlZWRiYWNrT25Mb2dvdXQiLCJhdXRvSm9pbiIsImF1dG9TaGFyZVdlYmNhbSIsImF1dG9Td2FwTGF5b3V0IiwiY2xpZW50VGl0bGUiLCJjdXN0b21TdHlsZSIsImN1c3RvbVN0eWxlVXJsIiwiZGlzcGxheUJyYW5kaW5nQXJlYSIsImVuYWJsZVNjcmVlbnNoYXJpbmciLCJlbmFibGVWaWRlbyIsImZvcmNlTGlzdGVuT25seSIsImhpZGVQcmVzZW50YXRpb24iLCJsaXN0ZW5Pbmx5TW9kZSIsIm11bHRpVXNlclBlbk9ubHkiLCJtdWx0aVVzZXJUb29scyIsIm91dHNpZGVUb2dnbGVSZWNvcmRpbmciLCJvdXRzaWRlVG9nZ2xlU2VsZlZvaWNlIiwicHJlc2VudGVyVG9vbHMiLCJzaG9ydGN1dHMiLCJza2lwQ2hlY2siLCJvbGRQYXJhbWV0ZXJzS2V5cyIsImN1cnJlbnRQYXJhbWV0ZXJzIiwicGFyc2VkVmFsdWUiLCJ2YWwiLCJsb2dnZXIiLCJwYXJhbWV0ZXJzIiwiZWwiLCJzZXR0aW5nS2V5Iiwibm9ybWFsaXplZEtleSIsInZhbHVlUGFyc2VyIiwibWF0Y2hpbmdOZXdLZXkiLCJzZXR0aW5nc0FkZGVkIiwic2V0dGluZyIsInZhbHVlIiwiYWRkVXNlclNldHRpbmciLCJVc2VyU2V0dGluZ3MiLCJhZGRVc2VyU2V0dGluZ3MiLCJtYWluUm9vbVVzZXJTZXR0aW5ncyIsImJvdW5kVXNlclNldHRpbmdzIiwidXNlclNldHRpbmdzIiwic3RyZWFtIiwiaXNWYWxpZFN0cmVhbSIsInNoYXJlZFdlYmNhbSIsInVuc2hhcmVkV2ViY2FtIiwiZGV2aWNlSWQiLCJnZXREZXZpY2VJZCIsImdldFVzZXJOYW1lIiwiRkxBU0hfU1RSRUFNX1JFR0VYIiwic3BsaXRTdHJlYW0iLCJ1c2VyVW5zaGFyZVdlYmNhbSIsImJvdW5kVmlkZW9TdHJlYW1zIiwidmlkZW9TdHJlYW1zIiwiY2FsbFN0YXRlIiwiY2xpZW50U2Vzc2lvbiIsIlZvaWNlQ2FsbFN0YXRlIiwiYm91bmRWb2ljZUNhbGxTdGF0ZXMiLCJ2b2ljZUNhbGxTdGF0ZXMiLCJWb2ljZUNhbGxTdGF0ZXMiLCJ2b2ljZVVzZXJzSWRzVG9VcGRhdGUiLCJ2b2ljZVVzZXJzVXBkYXRlZCIsInVwZGF0ZVZvaWNlVXNlciIsInZvaWNlVXNlcnNUb1JlbW92ZSIsInJlbW92ZVZvaWNlVXNlciIsInZvaWNlVXNlciIsImFkZERpYWxJblVzZXIiLCJpc0RpYWxJblVzZXIiLCJjaGFuZ2VNdXRlTWVldGluZyIsIlZvaWNlVXNlcnMiLCJ2b2ljZVVzZXJzIiwidm9pY2UiLCJ0b2dnbGVNZWV0aW5nTXV0ZWQiLCJtdXRlZEJ5IiwibXV0ZSIsInVzZXJUb011dGUiLCJ1SWQiLCJzcG9rZSIsImNsZWFyU3Bva2VUaW1lb3V0IiwiVEFMS0lOR19USU1FT1VUIiwic3RhcnRUaW1lIiwidGltZW91dEhhbmRsZSIsImVuZFRpbWUiLCJzcG9rZURlbGF5Iiwic3Bva2VUaW1lb3V0SGFuZGxlcyIsInRvZ2dsZVZvaWNlIiwibXV0ZUFsbFVzZXJzIiwibXV0ZUFsbEV4Y2VwdFByZXNlbnRlciIsImVqZWN0VXNlckZyb21Wb2ljZSIsImJvdW5kVm9pY2VVc2VyIiwiV2hpdGVib2FyZE11bHRpVXNlciIsImNoYW5nZVdoaXRlYm9hcmRBY2Nlc3MiLCJib3VuZE11bHRpVXNlciIsIndoaXRlYm9hcmRNdWx0aVVzZXIiLCJNU0dfRElSRUNUX1RZUEUiLCJOT0RFX1VTRVIiLCJpbmRleE9mIiwibCIsImVudmVsb3BlIiwicm91dGluZyIsInNob3VsZFNraXAiLCJtc2dUeXBlIiwiaHZhbCIsInNlZWQiLCJzdHIiLCJjcmVkZW50aWFscyIsImNyZWRlbnRpYWxzQXJyYXkiLCJBVkFJTEFCTEVfTE9DQUxFUyIsImZzIiwiQVBQX0NPTkZJRyIsImVudiIsIkNETl9VUkwiLCJoZWFwRHVtcE1iVGhyZXNob2xkIiwibWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzIiwibWVtd2F0Y2giLCJzdGF0cyIsImhlYXBEdW1wVHJpZ2dlcmVkIiwiaGVhcER1bXBFbmFibGVkIiwiaGVhcGR1bXAiLCJCcm93c2VyUG9saWN5IiwiV2ViQXBwSW50ZXJuYWxzIiwiZm9udFJlZ0V4cCIsIldlYkFwcCIsInJlcSIsInJlcyIsIm5leHQiLCJzZXRNaW5Ccm93c2VyVmVyc2lvbnMiLCJjdXJyZW50VGltZSIsIiRsdCIsInByb2Nlc3MiLCJodG1sNWNsaWVudFN0YXR1cyIsImZhbGxiYWNrIiwib3ZlcnJpZGUiLCJicm93c2VyTG9jYWxlIiwibG9jYWxlTGlzdCIsInVzYWJsZUxvY2FsZXMiLCJmaWxlIiwicmVnaW9uRGVmYXVsdCIsIm1lc3NhZ2VzIiwibm9ybWFsaXplZExvY2FsZSIsIkFzc2V0cyIsIkxhbmdtYXAiLCJuYXRpdmVOYW1lIiwidXNlck5hbWUiLCJyYXRpbmciLCJyZXFVc2VyTmFtZSIsImZlZWRiYWNrIiwidXNlckFnZW50IiwibG9va3VwVXNlckFnZW50IiwiZXZlbnRFbWl0dGVyIiwiUmVkaXMiLCJyZWRpc1B1YlN1YiIsIkxPR19DT05GSUciLCJjcmVhdGVMb2dnZXIiLCJmb3JtYXQiLCJ0cmFuc3BvcnRzIiwicHJldHR5UHJpbnQiLCJodW1hblJlYWRhYmxlVW5oYW5kbGVkRXhjZXB0aW9uIiwiY29sb3JpemUiLCJoYW5kbGVFeGNlcHRpb25zIiwibWluQnJvd3NlclZlcnNpb25zIiwidmVyc2lvbnMiLCJlbGVtIiwic2V0TWluaW11bUJyb3dzZXJWZXJzaW9ucyIsIk5PX01FRVRJTkdfSUQiLCJtYWtlRW52ZWxvcGUiLCJjb3JlIiwibWFrZURlYnVnZ2VyIiwiYXN5bmNNZXNzYWdlcyIsImRlYnVnIiwiaGFuZGxlVGFzayIsImNoYW5uZWwiLCJpc0FzeW5jIiwiY2FsbGVkIiwiY2FsbE5leHQiLCJxdWV1ZUxlbmd0aCIsIm9uRXJyb3IiLCJjb25maWciLCJyZWRpc0NvbmYiLCJjaGFubmVsc1RvU3Vic2NyaWJlIiwidXBkYXRlQ29uZmlnIiwiaGFuZGxlU3Vic2NyaWJlIiwiaGFuZGxlTWVzc2FnZSIsImlnbm9yZWQiLCJhc3luYyIsImlnbm9yZWRNZXNzYWdlcyIsInF1ZXVlSWQiLCJkZXN0cm95TWVldGluZ1F1ZXVlIiwib24iLCJwdWJsaXNoVm9pY2VNZXNzYWdlIiwicHVibGlzaFN5c3RlbU1lc3NhZ2UiLCJwdWJsaXNoTWVldGluZ01lc3NhZ2UiLCJwdWJsaXNoVXNlck1lc3NhZ2UiLCJSZWRpc1B1YlN1YlNpbmdsZXRvbiIsIllBTUxfRklMRV9QQVRIIiwiU0VUVElOR1MiLCJZQU1MIiwiX19tZXRlb3JfcnVudGltZV9jb25maWdfXyIsImNvbnNvbGUiLCJDQVJSSUFHRV9SRVRVUk4iLCJORVdfTElORSIsIlhMUyIsIlhMU1giLCJET0MiLCJET0NYIiwiUFBUIiwiUFBUWCIsIk9EVCIsIlJURiIsIlRYVCIsIk9EUyIsIk9EUCIsIlBERiIsIkpQRUciLCJQTkciLCJTVkciLCJVUExPQURfU1VQT1JURUQiLCJnbG9iYWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsY0FBYztBQUFBLFNBQWQ7QUFBYyxDQUFkOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFNZSxxQ0FBcUM7QUFBQTtBQUFVQTtBQUFWLENBQXJDLGFBQWtFO0FBQy9FQyxPQUFLLFNBQUxBLE1BQUssQ0FBTEE7O0FBQ0EsTUFBSUMsTUFBTSxDQUFOQSxXQUFKLGFBQW1DO0FBQUU7QUFBZTs7QUFFcERELE9BQUssWUFBTEEsTUFBSyxDQUFMQTtBQUNBQSxPQUFLLE9BQUxBLE1BQUssQ0FBTEE7QUFFQSxRQUFNO0FBQUE7QUFBQTtBQUE2QkU7QUFBN0IsTUFBTjtBQUVBRixPQUFLLGNBQUxBLEtBQUssQ0FBTEE7QUFDQUEsT0FBSyxlQUFMQSxNQUFLLENBQUxBO0FBQ0FBLE9BQUssWUFBTEEsT0FBSyxDQUFMQTtBQUVBRyxrQkFBZ0IsWUFBaEJBLFlBQWdCLENBQWhCQTtBQUVBLFFBQU1DLGdCQUFnQixHQUF0Qjs7QUFDQUMsR0FBQyxDQUFEQSxrQkFBcUJDLFVBQUQsSUFBZ0I7QUFDbEMsVUFBTTtBQUFBO0FBQVFDO0FBQVIsUUFBTjtBQUNBSCxvQkFBZ0IsQ0FBaEJBLEtBQXNCSSxhQUFhLDBCQUFuQ0osVUFBbUMsQ0FBbkNBO0FBRkZDOztBQUtBSSx3QkFBc0IsMEJBQXRCQSxTQUFzQixDQUF0QkE7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Q0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsSUFBSSxHQUFWO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsSUFBSSxHQUFWO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBQ0EsTUFBTUMsR0FBRyxHQUFUO0FBRUEsTUFBTUMsZUFBZSxHQUFHLHNFQUF4QixHQUF3QixDQUF4QixDOzs7Ozs7Ozs7OztBQ2hCUCxxQkE0RWUsWUFFYjtBQUNBLDBCQUVBO0FBRkEsaUNBTUU7QUFDQTtBQVBGLDhJQVlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoQkYsbUpBc0JFO0FBdEJGLCtEQXlCRTtBQXpCRixtRUE0QkU7QUE1QkYsd0NBK0JFO0FBL0JGLGVBbUNBO0FBbkNBLG1CQXNDQTtBQXpDYSxrQkFBZixLQUFlLENBNUVmLEU7Ozs7Ozs7Ozs7O0FDQUEsT0FBTyxJQUFQO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQTBDQUMsTUFBTSxDQUFOQSxNIiwiZmlsZSI6Ii9hcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IG1vZGlmeVdoaXRlYm9hcmRBY2Nlc3MgZnJvbSAnL2ltcG9ydHMvYXBpL3doaXRlYm9hcmQtbXVsdGktdXNlci9zZXJ2ZXIvbW9kaWZpZXJzL21vZGlmeVdoaXRlYm9hcmRBY2Nlc3MnO1xuaW1wb3J0IGNsZWFyQW5ub3RhdGlvbnMgZnJvbSAnLi4vbW9kaWZpZXJzL2NsZWFyQW5ub3RhdGlvbnMnO1xuaW1wb3J0IGFkZEFubm90YXRpb24gZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEFubm90YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVXaGl0ZWJvYXJkQW5ub3RhdGlvbnMoeyBoZWFkZXIsIGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGhlYWRlciwgT2JqZWN0KTtcbiAgaWYgKGhlYWRlci51c2VySWQgIT09ICdub2RlSlNhcHAnKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7IGFubm90YXRpb25zLCB3aGl0ZWJvYXJkSWQsIG11bHRpVXNlciB9ID0gYm9keTtcblxuICBjaGVjayhhbm5vdGF0aW9ucywgQXJyYXkpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKG11bHRpVXNlciwgQm9vbGVhbik7XG5cbiAgY2xlYXJBbm5vdGF0aW9ucyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCk7XG5cbiAgY29uc3QgYW5ub3RhdGlvbnNBZGRlZCA9IFtdO1xuICBfLmVhY2goYW5ub3RhdGlvbnMsIChhbm5vdGF0aW9uKSA9PiB7XG4gICAgY29uc3QgeyB3YklkLCB1c2VySWQgfSA9IGFubm90YXRpb247XG4gICAgYW5ub3RhdGlvbnNBZGRlZC5wdXNoKGFkZEFubm90YXRpb24obWVldGluZ0lkLCB3YklkLCB1c2VySWQsIGFubm90YXRpb24pKTtcbiAgfSk7XG5cbiAgbW9kaWZ5V2hpdGVib2FyZEFjY2VzcyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgbXVsdGlVc2VyKTtcblxuICByZXR1cm4gYW5ub3RhdGlvbnNBZGRlZDtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBBbm5vdGF0aW9uc1N0cmVhbWVyIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvc3RyZWFtZXInO1xuXG5pbXBvcnQgY2xlYXJBbm5vdGF0aW9ucyBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJBbm5vdGF0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVdoaXRlYm9hcmRDbGVhcmVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwge1xuICAgIHVzZXJJZDogU3RyaW5nLFxuICAgIHdoaXRlYm9hcmRJZDogU3RyaW5nLFxuICAgIGZ1bGxDbGVhcjogQm9vbGVhbixcbiAgfSk7XG5cbiAgY29uc3QgeyB3aGl0ZWJvYXJkSWQsIGZ1bGxDbGVhciwgdXNlcklkIH0gPSBib2R5O1xuXG4gIGlmIChmdWxsQ2xlYXIpIHtcbiAgICBBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCkuZW1pdCgncmVtb3ZlZCcsIHsgbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQgfSk7XG4gICAgcmV0dXJuIGNsZWFyQW5ub3RhdGlvbnMobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQpO1xuICB9XG5cbiAgQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ3JlbW92ZWQnLCB7IG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQgfSk7XG4gIHJldHVybiBjbGVhckFubm90YXRpb25zKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IEFubm90YXRpb25zU3RyZWFtZXIgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgYWRkQW5ub3RhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvYWRkQW5ub3RhdGlvbic7XG5cbmNvbnN0IEFOTk9UQVRJT05fUFJPQ0NFU1NfSU5URVJWQUwgPSA2MDtcblxubGV0IGFubm90YXRpb25zUXVldWUgPSB7fTtcbmxldCBhbm5vdGF0aW9uc1JlY2lldmVySXNSdW5uaW5nID0gZmFsc2U7XG5cbmNvbnN0IHByb2NjZXNzID0gKCkgPT4ge1xuICBpZiAoIU9iamVjdC5rZXlzKGFubm90YXRpb25zUXVldWUpLmxlbmd0aCkge1xuICAgIGFubm90YXRpb25zUmVjaWV2ZXJJc1J1bm5pbmcgPSBmYWxzZTtcbiAgICByZXR1cm47XG4gIH1cbiAgYW5ub3RhdGlvbnNSZWNpZXZlcklzUnVubmluZyA9IHRydWU7XG4gIE9iamVjdC5rZXlzKGFubm90YXRpb25zUXVldWUpLmZvckVhY2goKG1lZXRpbmdJZCkgPT4ge1xuICAgIEFubm90YXRpb25zU3RyZWFtZXIobWVldGluZ0lkKS5lbWl0KCdhZGRlZCcsIHsgbWVldGluZ0lkLCBhbm5vdGF0aW9uczogYW5ub3RhdGlvbnNRdWV1ZVttZWV0aW5nSWRdIH0pO1xuICB9KTtcbiAgYW5ub3RhdGlvbnNRdWV1ZSA9IHt9O1xuXG4gIE1ldGVvci5zZXRUaW1lb3V0KHByb2NjZXNzLCBBTk5PVEFUSU9OX1BST0NDRVNTX0lOVEVSVkFMKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVdoaXRlYm9hcmRTZW5kKHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB1c2VySWQgPSBoZWFkZXIudXNlcklkO1xuICBjb25zdCBhbm5vdGF0aW9uID0gYm9keS5hbm5vdGF0aW9uO1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soYW5ub3RhdGlvbiwgT2JqZWN0KTtcblxuICBjb25zdCB3aGl0ZWJvYXJkSWQgPSBhbm5vdGF0aW9uLndiSWQ7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcblxuICBpZighYW5ub3RhdGlvbnNRdWV1ZS5oYXNPd25Qcm9wZXJ0eShtZWV0aW5nSWQpKSB7XG4gICAgYW5ub3RhdGlvbnNRdWV1ZVttZWV0aW5nSWRdID0gW107XG4gIH1cblxuICBhbm5vdGF0aW9uc1F1ZXVlW21lZXRpbmdJZF0ucHVzaCh7IG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24gfSk7XG4gIGlmICghYW5ub3RhdGlvbnNSZWNpZXZlcklzUnVubmluZykgcHJvY2Nlc3MoKTtcblxuICByZXR1cm4gYWRkQW5ub3RhdGlvbihtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuaW1wb3J0IEFubm90YXRpb25zU3RyZWFtZXIgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgcmVtb3ZlQW5ub3RhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlQW5ub3RhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVdoaXRlYm9hcmRVbmRvKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qgd2hpdGVib2FyZElkID0gYm9keS53aGl0ZWJvYXJkSWQ7XG4gIGNvbnN0IHNoYXBlSWQgPSBib2R5LmFubm90YXRpb25JZDtcblxuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKHNoYXBlSWQsIFN0cmluZyk7XG5cbiAgQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpLmVtaXQoJ3JlbW92ZWQnLCB7IG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCBzaGFwZUlkIH0pO1xuICByZXR1cm4gcmVtb3ZlQW5ub3RhdGlvbihtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgc2hhcGVJZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJXaGl0ZWJvYXJkKHdoaXRlYm9hcmRJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0NsZWFyV2hpdGVib2FyZFB1Yk1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB3aGl0ZWJvYXJkSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgc2VuZEFubm90YXRpb25IZWxwZXIgZnJvbSAnLi9zZW5kQW5ub3RhdGlvbkhlbHBlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEFubm90YXRpb24oYW5ub3RhdGlvbikge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIHNlbmRBbm5vdGF0aW9uSGVscGVyKGFubm90YXRpb24sIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEFubm90YXRpb25IZWxwZXIoYW5ub3RhdGlvbiwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZW5kV2hpdGVib2FyZEFubm90YXRpb25QdWJNc2cnO1xuXG4gIGNvbnN0IHdoaXRlYm9hcmRJZCA9IGFubm90YXRpb24ud2JJZDtcblxuICBjaGVjayhhbm5vdGF0aW9uLCBPYmplY3QpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG5cbiAgaWYgKGFubm90YXRpb24uYW5ub3RhdGlvblR5cGUgPT09ICd0ZXh0Jykge1xuICAgIGNoZWNrKGFubm90YXRpb24sIHtcbiAgICAgIGlkOiBTdHJpbmcsXG4gICAgICBzdGF0dXM6IFN0cmluZyxcbiAgICAgIGFubm90YXRpb25UeXBlOiBTdHJpbmcsXG4gICAgICBhbm5vdGF0aW9uSW5mbzoge1xuICAgICAgICB4OiBOdW1iZXIsXG4gICAgICAgIHk6IE51bWJlcixcbiAgICAgICAgZm9udENvbG9yOiBOdW1iZXIsXG4gICAgICAgIGNhbGNlZEZvbnRTaXplOiBOdW1iZXIsXG4gICAgICAgIHRleHRCb3hXaWR0aDogTnVtYmVyLFxuICAgICAgICB0ZXh0OiBTdHJpbmcsXG4gICAgICAgIHRleHRCb3hIZWlnaHQ6IE51bWJlcixcbiAgICAgICAgaWQ6IFN0cmluZyxcbiAgICAgICAgd2hpdGVib2FyZElkOiBTdHJpbmcsXG4gICAgICAgIHN0YXR1czogU3RyaW5nLFxuICAgICAgICBmb250U2l6ZTogTnVtYmVyLFxuICAgICAgICBkYXRhUG9pbnRzOiBTdHJpbmcsXG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIH0sXG4gICAgICB3YklkOiBTdHJpbmcsXG4gICAgICB1c2VySWQ6IFN0cmluZyxcbiAgICAgIHBvc2l0aW9uOiBOdW1iZXIsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2hlY2soYW5ub3RhdGlvbiwge1xuICAgICAgaWQ6IFN0cmluZyxcbiAgICAgIHN0YXR1czogU3RyaW5nLFxuICAgICAgYW5ub3RhdGlvblR5cGU6IFN0cmluZyxcbiAgICAgIGFubm90YXRpb25JbmZvOiB7XG4gICAgICAgIGNvbG9yOiBOdW1iZXIsXG4gICAgICAgIHRoaWNrbmVzczogTnVtYmVyLFxuICAgICAgICBwb2ludHM6IEFycmF5LFxuICAgICAgICBpZDogU3RyaW5nLFxuICAgICAgICB3aGl0ZWJvYXJkSWQ6IFN0cmluZyxcbiAgICAgICAgc3RhdHVzOiBTdHJpbmcsXG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZGltZW5zaW9uczogTWF0Y2guTWF5YmUoW051bWJlcl0pLFxuICAgICAgfSxcbiAgICAgIHdiSWQ6IFN0cmluZyxcbiAgICAgIHVzZXJJZDogU3RyaW5nLFxuICAgICAgcG9zaXRpb246IE51bWJlcixcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgYW5ub3RhdGlvbixcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHNlbmRBbm5vdGF0aW9uSGVscGVyIGZyb20gJy4vc2VuZEFubm90YXRpb25IZWxwZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZW5kQnVsa0Fubm90YXRpb25zKHBheWxvYWQpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBwYXlsb2FkLmZvckVhY2goYW5ub3RhdGlvbiA9PiBzZW5kQW5ub3RhdGlvbkhlbHBlcihhbm5vdGF0aW9uLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCkpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuZG9Bbm5vdGF0aW9uKHdoaXRlYm9hcmRJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1VuZG9XaGl0ZWJvYXJkUHViTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHdoaXRlYm9hcmRJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBBbm5vdGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMnO1xuaW1wb3J0IGFkZEFubm90YXRpb25RdWVyeSBmcm9tICcvaW1wb3J0cy9hcGkvYW5ub3RhdGlvbnMvYWRkQW5ub3RhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZEFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcbiAgY2hlY2soYW5ub3RhdGlvbiwgT2JqZWN0KTtcblxuICBjb25zdCBxdWVyeSA9IGFkZEFubm90YXRpb25RdWVyeShtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgYW5ub3RhdGlvbiB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IG51bUNoYW5nZWQ7XG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgYW5ub3RhdGlvbiBpZD0ke2Fubm90YXRpb24uaWR9IHdoaXRlYm9hcmQ9JHt3aGl0ZWJvYXJkSWR9YCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIHJldHVybiBBbm5vdGF0aW9ucy51cHNlcnQocXVlcnkuc2VsZWN0b3IsIHF1ZXJ5Lm1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgQW5ub3RhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJBbm5vdGF0aW9ucyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkKSB7XG4gIGNvbnN0IHNlbGVjdG9yID0ge307XG5cbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIHNlbGVjdG9yLm1lZXRpbmdJZCA9IG1lZXRpbmdJZDtcbiAgfVxuXG4gIGlmICh3aGl0ZWJvYXJkSWQpIHtcbiAgICBzZWxlY3Rvci53aGl0ZWJvYXJkSWQgPSB3aGl0ZWJvYXJkSWQ7XG4gIH1cblxuICBpZiAodXNlcklkKSB7XG4gICAgc2VsZWN0b3IudXNlcklkID0gdXNlcklkO1xuICB9XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgQW5ub3RhdGlvbnMgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBpZiAodXNlcklkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYENsZWFyZWQgQW5ub3RhdGlvbnMgZm9yIHVzZXJJZD0ke3VzZXJJZH0gd2hlcmUgd2hpdGVib2FyZD0ke3doaXRlYm9hcmRJZH1gKTtcbiAgICB9XG5cbiAgICBpZiAod2hpdGVib2FyZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYENsZWFyZWQgQW5ub3RhdGlvbnMgZm9yIHdoaXRlYm9hcmQ9JHt3aGl0ZWJvYXJkSWR9YCk7XG4gICAgfVxuXG4gICAgaWYgKG1lZXRpbmdJZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBDbGVhcmVkIEFubm90YXRpb25zICgke21lZXRpbmdJZH0pYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKCdDbGVhcmVkIEFubm90YXRpb25zIChhbGwpJyk7XG4gIH07XG5cbiAgcmV0dXJuIEFubm90YXRpb25zLnJlbW92ZShzZWxlY3RvciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IEFubm90YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZUFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHNoYXBlSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh3aGl0ZWJvYXJkSWQsIFN0cmluZyk7XG4gIGNoZWNrKHNoYXBlSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgICBpZDogc2hhcGVJZCxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBhbm5vdGF0aW9uIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBSZW1vdmVkIGFubm90YXRpb24gaWQ9JHtzaGFwZUlkfSB3aGl0ZWJvYXJkPSR7d2hpdGVib2FyZElkfWApO1xuICB9O1xuXG4gIHJldHVybiBBbm5vdGF0aW9ucy5yZW1vdmUoc2VsZWN0b3IsIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgaGFuZGxlV2hpdGVib2FyZENsZWFyZWQgZnJvbSAnLi9oYW5kbGVycy93aGl0ZWJvYXJkQ2xlYXJlZCc7XG5pbXBvcnQgaGFuZGxlV2hpdGVib2FyZFVuZG8gZnJvbSAnLi9oYW5kbGVycy93aGl0ZWJvYXJkVW5kbyc7XG5pbXBvcnQgaGFuZGxlV2hpdGVib2FyZFNlbmQgZnJvbSAnLi9oYW5kbGVycy93aGl0ZWJvYXJkU2VuZCc7XG5pbXBvcnQgaGFuZGxlV2hpdGVib2FyZEFubm90YXRpb25zIGZyb20gJy4vaGFuZGxlcnMvd2hpdGVib2FyZEFubm90YXRpb25zJztcblxuUmVkaXNQdWJTdWIub24oJ0NsZWFyV2hpdGVib2FyZEV2dE1zZycsIGhhbmRsZVdoaXRlYm9hcmRDbGVhcmVkKTtcblJlZGlzUHViU3ViLm9uKCdVbmRvV2hpdGVib2FyZEV2dE1zZycsIGhhbmRsZVdoaXRlYm9hcmRVbmRvKTtcblJlZGlzUHViU3ViLm9uKCdTZW5kV2hpdGVib2FyZEFubm90YXRpb25FdnRNc2cnLCBoYW5kbGVXaGl0ZWJvYXJkU2VuZCk7XG5SZWRpc1B1YlN1Yi5vbignR2V0V2hpdGVib2FyZEFubm90YXRpb25zUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlV2hpdGVib2FyZEFubm90YXRpb25zKSk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB1bmRvQW5ub3RhdGlvbiBmcm9tICcuL21ldGhvZHMvdW5kb0Fubm90YXRpb24nO1xuaW1wb3J0IGNsZWFyV2hpdGVib2FyZCBmcm9tICcuL21ldGhvZHMvY2xlYXJXaGl0ZWJvYXJkJztcbmltcG9ydCBzZW5kQW5ub3RhdGlvbiBmcm9tICcuL21ldGhvZHMvc2VuZEFubm90YXRpb24nO1xuaW1wb3J0IHNlbmRCdWxrQW5ub3RhdGlvbnMgZnJvbSAnLi9tZXRob2RzL3NlbmRCdWxrQW5ub3RhdGlvbnMnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHVuZG9Bbm5vdGF0aW9uLFxuICBjbGVhcldoaXRlYm9hcmQsXG4gIHNlbmRBbm5vdGF0aW9uLFxuICBzZW5kQnVsa0Fubm90YXRpb25zLFxufSk7XG4iLCJpbXBvcnQgQW5ub3RhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGFubm90YXRpb25zKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIEFubm90YXRpb25zLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgQW5ub3RhdGlvbnMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gQW5ub3RhdGlvbnMuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kQW5ub3RhdGlvbnMgPSBhbm5vdGF0aW9ucy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRBbm5vdGF0aW9ucyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2Fubm90YXRpb25zJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCkge1xuICBMb2dnZXIuaW5mbyhgUmVtb3ZpbmcgQW5ub3RhdGlvbnMgc3RyZWFtZXIgb2JqZWN0IGZvciBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuICBkZWxldGUgTWV0ZW9yLlN0cmVhbWVyQ2VudHJhbC5pbnN0YW5jZXNbYGFubm90YXRpb25zLSR7bWVldGluZ0lkfWBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpIHtcbiAgY29uc3Qgc3RyZWFtZXIgPSBuZXcgTWV0ZW9yLlN0cmVhbWVyKGBhbm5vdGF0aW9ucy0ke21lZXRpbmdJZH1gLCB7IHJldHJhbnNtaXQ6IGZhbHNlIH0pO1xuXG4gIHN0cmVhbWVyLmFsbG93UmVhZChmdW5jdGlvbiBhbGxvd1JlYWQoKSB7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIHRoaXMudXNlcklkICYmIHRoaXMudXNlcklkLmluY2x1ZGVzKG1lZXRpbmdJZCk7XG4gIH0pO1xuXG4gIHN0cmVhbWVyLmFsbG93V3JpdGUoZnVuY3Rpb24gYWxsb3dXcml0ZSgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXQobWVldGluZ0lkKSB7XG4gIHJldHVybiBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tgYW5ub3RhdGlvbnMtJHttZWV0aW5nSWR9YF07XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmNvbnN0IEFOTk9UQVRJT05fVFlQRV9URVhUID0gJ3RleHQnO1xuY29uc3QgQU5OT1RBVElPTl9UWVBFX1BFTkNJTCA9ICdwZW5jaWwnO1xuXG5jb25zdCBERUZBVUxUX1RFWFRfV0lEVEggPSAzMDtcbmNvbnN0IERFRkFVTFRfVEVYVF9IRUlHSFQgPSAyMDtcblxuLy8gbGluZSwgdHJpYW5nbGUsIGVsbGlwc2UsIHJlY3RhbmdsZVxuZnVuY3Rpb24gaGFuZGxlQ29tbW9uQW5ub3RhdGlvbihtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKSB7XG4gIGNvbnN0IHtcbiAgICBpZCwgc3RhdHVzLCBhbm5vdGF0aW9uVHlwZSwgYW5ub3RhdGlvbkluZm8sIHdiSWQsIHBvc2l0aW9uLFxuICB9ID0gYW5ub3RhdGlvbjtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHdoaXRlYm9hcmRJZCxcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIGlkLFxuICAgICAgc3RhdHVzLFxuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICBhbm5vdGF0aW9uSW5mbyxcbiAgICAgIHdiSWQsXG4gICAgfSxcbiAgICAkc2V0T25JbnNlcnQ6IHtcbiAgICAgIHBvc2l0aW9uLFxuICAgIH0sXG4gICAgJGluYzogeyB2ZXJzaW9uOiAxIH0sXG4gIH07XG5cbiAgcmV0dXJuIHsgc2VsZWN0b3IsIG1vZGlmaWVyIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVRleHRVcGRhdGUobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbikge1xuICBjb25zdCB7XG4gICAgaWQsIHN0YXR1cywgYW5ub3RhdGlvblR5cGUsIGFubm90YXRpb25JbmZvLCB3YklkLCBwb3NpdGlvbixcbiAgfSA9IGFubm90YXRpb247XG5cbiAgY29uc3QgeyB0ZXh0Qm94V2lkdGgsIHRleHRCb3hIZWlnaHQsIGNhbGNlZEZvbnRTaXplIH0gPSBhbm5vdGF0aW9uSW5mbztcbiAgY29uc3QgdXNlRGVmYXVsdFNpemUgPSAodGV4dEJveFdpZHRoID09PSAwICYmIHRleHRCb3hIZWlnaHQgPT09IDApXG4gICAgfHwgdGV4dEJveFdpZHRoIDwgY2FsY2VkRm9udFNpemVcbiAgICB8fCB0ZXh0Qm94SGVpZ2h0IDwgY2FsY2VkRm9udFNpemU7XG5cbiAgaWYgKHVzZURlZmF1bHRTaXplKSB7XG4gICAgYW5ub3RhdGlvbkluZm8udGV4dEJveFdpZHRoID0gREVGQVVMVF9URVhUX1dJRFRIO1xuICAgIGFubm90YXRpb25JbmZvLnRleHRCb3hIZWlnaHQgPSBERUZBVUxUX1RFWFRfSEVJR0hUO1xuXG4gICAgaWYgKDEwMCAtIGFubm90YXRpb25JbmZvLnggPCBERUZBVUxUX1RFWFRfV0lEVEgpIHtcbiAgICAgIGFubm90YXRpb25JbmZvLnRleHRCb3hXaWR0aCA9IDEwMCAtIGFubm90YXRpb25JbmZvLng7XG4gICAgfVxuICAgIGlmICgxMDAgLSBhbm5vdGF0aW9uSW5mby55IDwgREVGQVVMVF9URVhUX0hFSUdIVCkge1xuICAgICAgYW5ub3RhdGlvbkluZm8udGV4dEJveEhlaWdodCA9IDEwMCAtIGFubm90YXRpb25JbmZvLnk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGlkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBhbm5vdGF0aW9uSW5mby50ZXh0ID0gYW5ub3RhdGlvbkluZm8udGV4dC5yZXBsYWNlKC9bXFxyXS9nLCAnXFxuJyk7XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgd2hpdGVib2FyZElkLFxuICAgICAgbWVldGluZ0lkLFxuICAgICAgaWQsXG4gICAgICBzdGF0dXMsXG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgIGFubm90YXRpb25JbmZvLFxuICAgICAgd2JJZCxcbiAgICB9LFxuICAgICRzZXRPbkluc2VydDoge1xuICAgICAgcG9zaXRpb24sXG4gICAgfSxcbiAgICAkaW5jOiB7IHZlcnNpb246IDEgfSxcbiAgfTtcblxuICByZXR1cm4geyBzZWxlY3RvciwgbW9kaWZpZXIgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlUGVuY2lsVXBkYXRlKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCB1c2VySWQsIGFubm90YXRpb24pIHtcbiAgY29uc3QgRFJBV19TVEFSVCA9ICdEUkFXX1NUQVJUJztcbiAgY29uc3QgRFJBV19VUERBVEUgPSAnRFJBV19VUERBVEUnO1xuICBjb25zdCBEUkFXX0VORCA9ICdEUkFXX0VORCc7XG5cbiAgY29uc3Qge1xuICAgIGlkLCBzdGF0dXMsIGFubm90YXRpb25UeXBlLCBhbm5vdGF0aW9uSW5mbywgd2JJZCwgcG9zaXRpb24sXG4gIH0gPSBhbm5vdGF0aW9uO1xuXG4gIGNvbnN0IGJhc2VTZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaWQsXG4gICAgdXNlcklkLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgfTtcblxuICBsZXQgYmFzZU1vZGlmaWVyO1xuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgRFJBV19TVEFSVDpcbiAgICAgIC8vIG9uIHN0YXJ0IHdlIHNwbGl0IHRoZSBwb2ludHNcblxuICAgICAgLy8gY3JlYXRlIHRoZSAncGVuY2lsX2Jhc2UnXG4gICAgICAvLyBUT0RPOiBmaW5kIGFuZCByZW1vdmVkIHVudXNlZCBwcm9wcyAoY2h1bmtzLCB2ZXJzaW9uLCBldGMpXG4gICAgICBiYXNlTW9kaWZpZXIgPSB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICAgIHdoaXRlYm9hcmRJZCxcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICAgICAgYW5ub3RhdGlvbkluZm8sXG4gICAgICAgICAgd2JJZCxcbiAgICAgICAgICB2ZXJzaW9uOiAxLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgRFJBV19VUERBVEU6XG4gICAgICBiYXNlTW9kaWZpZXIgPSB7XG4gICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgJ2Fubm90YXRpb25JbmZvLnBvaW50cyc6IHsgJGVhY2g6IGFubm90YXRpb25JbmZvLnBvaW50cyB9LFxuICAgICAgICB9LFxuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICB9LFxuICAgICAgICAkaW5jOiB7IHZlcnNpb246IDEgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBjYXNlIERSQVdfRU5EOlxuICAgICAgLy8gVXBkYXRpbmcgdGhlIG1haW4gcGVuY2lsIG9iamVjdCB3aXRoIHRoZSBmaW5hbCBpbmZvXG4gICAgICBiYXNlTW9kaWZpZXIgPSB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICB3aGl0ZWJvYXJkSWQsXG4gICAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgICAgICBhbm5vdGF0aW9uSW5mbyxcbiAgICAgICAgICB3YklkLFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICB9LFxuICAgICAgICAkaW5jOiB7IHZlcnNpb246IDEgfSxcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4geyBzZWxlY3RvcjogYmFzZVNlbGVjdG9yLCBtb2RpZmllcjogYmFzZU1vZGlmaWVyIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZEFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcbiAgY2hlY2soYW5ub3RhdGlvbiwgT2JqZWN0KTtcblxuICBzd2l0Y2ggKGFubm90YXRpb24uYW5ub3RhdGlvblR5cGUpIHtcbiAgICBjYXNlIEFOTk9UQVRJT05fVFlQRV9URVhUOlxuICAgICAgcmV0dXJuIGhhbmRsZVRleHRVcGRhdGUobWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG4gICAgY2FzZSBBTk5PVEFUSU9OX1RZUEVfUEVOQ0lMOlxuICAgICAgcmV0dXJuIGhhbmRsZVBlbmNpbFVwZGF0ZShtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgdXNlcklkLCBhbm5vdGF0aW9uKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGhhbmRsZUNvbW1vbkFubm90YXRpb24obWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCwgYW5ub3RhdGlvbik7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBBbm5vdGF0aW9ucyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdhbm5vdGF0aW9ucycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBhbm5vdGF0aW9ucyAgKFRvdGFsKTpcbiAgLy8gMS4gbWVldGluZ0lkLCBpZCwgdXNlcklkICAgICAgICAgICAgICAgKCA4IClcbiAgLy8gMi4gbWVldGluZ0lkLCBpZCwgdXNlcklkLCB3aGl0ZWJvYXJkSWQgKCAxIClcbiAgLy8gMy4gbWVldGluZ0lkICAgICAgICAgICAgICAgICAgICAgICAgICAgKCAxIClcbiAgLy8gNC4gbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQgICAgICAgICAgICAgKCAxIClcbiAgLy8gNS4gbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIGlkICAgICAgICAgKCAxIClcbiAgLy8gNi4gbWVldGluZ0lkLCB3aGl0ZWJvYXJkSWQsIHVzZXJJZCAgICAgKCAxIClcbiAgLy8gVGhlc2UgMiBpbmRleGVzIHNlZW0gdG8gY292ZXIgYWxsIG9mIHRoZSBjYXNlc1xuXG4gIEFubm90YXRpb25zLl9lbnN1cmVJbmRleCh7IGlkOiAxIH0pO1xuICBBbm5vdGF0aW9ucy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHdoaXRlYm9hcmRJZDogMSwgdXNlcklkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBBbm5vdGF0aW9ucztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjbGVhckJyZWFrb3V0cyBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJCcmVha291dHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVCcmVha291dENsb3NlZCh7IGJvZHkgfSkge1xuICBjb25zdCB7IGJyZWFrb3V0SWQgfSA9IGJvZHk7XG4gIGNoZWNrKGJyZWFrb3V0SWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGNsZWFyQnJlYWtvdXRzKGJyZWFrb3V0SWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IEJyZWFrb3V0cyBmcm9tICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQnJlYWtvdXRKb2luVVJMKHsgYm9keSB9KSB7XG4gIGNvbnN0IHtcbiAgICByZWRpcmVjdFRvSHRtbDVKb2luVVJMLFxuICAgIHVzZXJJZCxcbiAgICBicmVha291dElkLFxuICB9ID0gYm9keTtcblxuICBjaGVjayhyZWRpcmVjdFRvSHRtbDVKb2luVVJMLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIGJyZWFrb3V0SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHB1c2g6IHtcbiAgICAgIHVzZXJzOiB7XG4gICAgICAgIHVzZXJJZCxcbiAgICAgICAgcmVkaXJlY3RUb0h0bWw1Sm9pblVSTCxcbiAgICAgICAgaW5zZXJ0ZWRUaW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChjYkVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChjYkVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIGJyZWFrb3V0IHRvIGNvbGxlY3Rpb246ICR7Y2JFcnJ9YCk7XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgaW5zZXJ0ZWRJZCxcbiAgICB9ID0gbnVtQ2hhbmdlZDtcbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBBZGRlZCBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIEJyZWFrb3V0cy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUJyZWFrb3V0Um9vbVN0YXJ0ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICAvLyAwIHNlY29uZHMgZGVmYXVsdCBicmVha291dCB0aW1lLCBmb3JjZXMgdXNlIG9mIHJlYWwgZXhwaXJhdGlvbiB0aW1lXG4gIGNvbnN0IERFRkFVTFRfVElNRV9SRU1BSU5JTkcgPSAwO1xuXG4gIGNvbnN0IHtcbiAgICBwYXJlbnRNZWV0aW5nSWQsXG4gICAgYnJlYWtvdXQsXG4gIH0gPSBib2R5O1xuXG4gIGNvbnN0IHsgYnJlYWtvdXRJZCB9ID0gYnJlYWtvdXQ7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIGJyZWFrb3V0SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgdXNlcnM6IFtdLFxuICAgICAgICBqb2luZWRVc2VyczogW10sXG4gICAgICB9LFxuICAgICAgeyB0aW1lUmVtYWluaW5nOiBERUZBVUxUX1RJTUVfUkVNQUlOSU5HIH0sXG4gICAgICB7IHBhcmVudE1lZXRpbmdJZCB9LFxuICAgICAgZmxhdChicmVha291dCksXG4gICAgKSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGB1cGRhdGluZyBicmVha291dDogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKCdVcGRhdGVkIHRpbWVSZW1haW5pbmcgYW5kIGV4dGVybmFsTWVldGluZ0lkICdcbiAgICAgICsgYGZvciBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIEJyZWFrb3V0cy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBqb2luZWRVc2Vyc0NoYW5nZWQoeyBib2R5IH0pIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7XG4gICAgcGFyZW50SWQsXG4gICAgYnJlYWtvdXRJZCxcbiAgICB1c2VycyxcbiAgfSA9IGJvZHk7XG5cbiAgY2hlY2socGFyZW50SWQsIFN0cmluZyk7XG4gIGNoZWNrKGJyZWFrb3V0SWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJzLCBBcnJheSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgcGFyZW50TWVldGluZ0lkOiBwYXJlbnRJZCxcbiAgICBicmVha291dElkLFxuICB9O1xuXG4gIGNvbnN0IHVzZXJzTWFwcGVkID0gdXNlcnMubWFwKHVzZXIgPT4gKHsgdXNlcklkOiB1c2VyLmlkLCBuYW1lOiB1c2VyLm5hbWUgfSkpO1xuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBqb2luZWRVc2VyczogdXNlcnNNYXBwZWQsXG4gICAgfSxcbiAgfTtcblxuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYHVwZGF0aW5nIGpvaW5lZCB1c2VycyBpbiBicmVha291dDogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKCdVcGRhdGVkIGpvaW5lZCB1c2VycyAnXG4gICAgICArIGBpbiBicmVha291dCBpZD0ke2JyZWFrb3V0SWR9YCk7XG4gIH07XG4gIEJyZWFrb3V0cy5maW5kKHNlbGVjdG9yKTtcbiAgQnJlYWtvdXRzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBCcmVha291dHMgZnJvbSAnL2ltcG9ydHMvYXBpL2JyZWFrb3V0cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZVRpbWVSZW1haW5pbmcoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7XG4gICAgdGltZVJlbWFpbmluZyxcbiAgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh0aW1lUmVtYWluaW5nLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHBhcmVudE1lZXRpbmdJZDogbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHRpbWVSZW1haW5pbmcsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIG11bHRpOiB0cnVlLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIGJyZWFrb3V0czogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKCdVcGRhdGVkIGJyZWFrb3V0IHRpbWUgcmVtYWluaW5nIGZvciBicmVha291dHMgJyArXG4gICAgICBgd2hlcmUgcGFyZW50TWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBCcmVha291dHMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgb3B0aW9ucywgY2IpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUJyZWFrb3V0Um9vbShyb29tcywgZHVyYXRpb25Jbk1pbnV0ZXMsIHJlY29yZCA9IGZhbHNlKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEJSRUFLT1VUX0xJTSA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMuYXBwLmJyZWFrb3V0Um9vbUxpbWl0O1xuICBjb25zdCBNSU5fQlJFQUtPVVRfUk9PTVMgPSAyO1xuICBjb25zdCBNQVhfQlJFQUtPVVRfUk9PTVMgPSBCUkVBS09VVF9MSU0gPiBNSU5fQlJFQUtPVVRfUk9PTVMgPyBCUkVBS09VVF9MSU0gOiBNSU5fQlJFQUtPVVRfUk9PTVM7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBldmVudE5hbWUgPSAnQ3JlYXRlQnJlYWtvdXRSb29tc0NtZE1zZyc7XG4gIGlmIChyb29tcy5sZW5ndGggPiBNQVhfQlJFQUtPVVRfUk9PTVMpIHJldHVybiBMb2dnZXIuaW5mbyhgQXR0ZW1wdCB0byBjcmVhdGUgYnJlYWtvdXQgcm9vbXMgd2l0aCBpbnZhbGlkIG51bWJlciBvZiByb29tcyBpbiBtZWV0aW5nIGlkPSR7bWVldGluZ0lkfWApO1xuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHJlY29yZCxcbiAgICBkdXJhdGlvbkluTWludXRlcyxcbiAgICByb29tcyxcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBldmVudE5hbWUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlbmRBbGxCcmVha291dHMoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlcXVlc3RlclVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBldmVudE5hbWUgPSAnRW5kQWxsQnJlYWtvdXRSb29tc01zZyc7XG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgZXZlbnROYW1lLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgbnVsbCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWVzdEpvaW5VUkwoeyBicmVha291dElkLCB1c2VySWQ6IHVzZXJJZFRvSW52aXRlIH0pIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHVzZXJJZCA9IHVzZXJJZFRvSW52aXRlIHx8IHJlcXVlc3RlclVzZXJJZDtcbiAgY29uc3QgZXZlbnROYW1lID0gJ1JlcXVlc3RCcmVha291dEpvaW5VUkxSZXFNc2cnO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoXG4gICAgQ0hBTk5FTCwgZXZlbnROYW1lLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCxcbiAgICB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBicmVha291dElkLFxuICAgICAgdXNlcklkLFxuICAgIH0sXG4gICk7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckJyZWFrb3V0cyhicmVha291dElkKSB7XG4gIGlmIChicmVha291dElkKSB7XG4gICAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgICBicmVha291dElkLFxuICAgIH07XG5cbiAgICByZXR1cm4gQnJlYWtvdXRzLnJlbW92ZShzZWxlY3RvciwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgQnJlYWtvdXRzICgke2JyZWFrb3V0SWR9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIEJyZWFrb3V0cy5yZW1vdmUoe30sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBCcmVha291dHMgKGFsbCknKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZUJyZWFrb3V0Sm9pblVSTCBmcm9tICcuL2hhbmRsZXJzL2JyZWFrb3V0Sm9pblVSTCc7XG5pbXBvcnQgaGFuZGxlQnJlYWtvdXRTdGFydGVkIGZyb20gJy4vaGFuZGxlcnMvYnJlYWtvdXRTdGFydGVkJztcbmltcG9ydCBoYW5kbGVVcGRhdGVUaW1lUmVtYWluaW5nIGZyb20gJy4vaGFuZGxlcnMvdXBkYXRlVGltZVJlbWFpbmluZyc7XG5pbXBvcnQgaGFuZGxlQnJlYWtvdXRDbG9zZWQgZnJvbSAnLi9oYW5kbGVycy9icmVha291dENsb3NlZCc7XG5pbXBvcnQgam9pbmVkVXNlcnNDaGFuZ2VkIGZyb20gJy4vaGFuZGxlcnMvam9pbmVkVXNlcnNDaGFuZ2VkJztcblxuUmVkaXNQdWJTdWIub24oJ0JyZWFrb3V0Um9vbVN0YXJ0ZWRFdnRNc2cnLCBoYW5kbGVCcmVha291dFN0YXJ0ZWQpO1xuUmVkaXNQdWJTdWIub24oJ0JyZWFrb3V0Um9vbUpvaW5VUkxFdnRNc2cnLCBoYW5kbGVCcmVha291dEpvaW5VUkwpO1xuUmVkaXNQdWJTdWIub24oJ1JlcXVlc3RCcmVha291dEpvaW5VUkxSZXNwTXNnJywgaGFuZGxlQnJlYWtvdXRKb2luVVJMKTtcblJlZGlzUHViU3ViLm9uKCdCcmVha291dFJvb21zVGltZVJlbWFpbmluZ1VwZGF0ZUV2dE1zZycsIGhhbmRsZVVwZGF0ZVRpbWVSZW1haW5pbmcpO1xuUmVkaXNQdWJTdWIub24oJ0JyZWFrb3V0Um9vbUVuZGVkRXZ0TXNnJywgaGFuZGxlQnJlYWtvdXRDbG9zZWQpO1xuUmVkaXNQdWJTdWIub24oJ1VwZGF0ZUJyZWFrb3V0VXNlcnNFdnRNc2cnLCBqb2luZWRVc2Vyc0NoYW5nZWQpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgY3JlYXRlQnJlYWtvdXRSb29tIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMvc2VydmVyL21ldGhvZHMvY3JlYXRlQnJlYWtvdXQnO1xuaW1wb3J0IHJlcXVlc3RKb2luVVJMIGZyb20gJy4vbWV0aG9kcy9yZXF1ZXN0Sm9pblVSTCc7XG5pbXBvcnQgZW5kQWxsQnJlYWtvdXRzIGZyb20gJy4vbWV0aG9kcy9lbmRBbGxCcmVha291dHMnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHJlcXVlc3RKb2luVVJMLFxuICBjcmVhdGVCcmVha291dFJvb20sXG4gIGVuZEFsbEJyZWFrb3V0cyxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgUk9MRV9NT0RFUkFUT1IgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLnVzZXIucm9sZV9tb2RlcmF0b3I7XG5cbmZ1bmN0aW9uIGJyZWFrb3V0cyhyb2xlKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gQnJlYWtvdXRzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIEJyZWFrb3V0cyBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHsgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsIG1lZXRpbmdJZCB9LCB7IGZpZWxkczogeyByb2xlOiAxIH0gfSk7XG4gIGlmICghIVVzZXIgJiYgVXNlci5yb2xlID09PSBST0xFX01PREVSQVRPUikge1xuICAgIGNvbnN0IHByZXNlbnRlclNlbGVjdG9yID0ge1xuICAgICAgJG9yOiBbXG4gICAgICAgIHsgcGFyZW50TWVldGluZ0lkOiBtZWV0aW5nSWQgfSxcbiAgICAgICAgeyBicmVha291dElkOiBtZWV0aW5nSWQgfSxcbiAgICAgIF0sXG4gICAgfTtcblxuICAgIHJldHVybiBCcmVha291dHMuZmluZChwcmVzZW50ZXJTZWxlY3Rvcik7XG4gIH1cblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgcGFyZW50TWVldGluZ0lkOiBtZWV0aW5nSWQsXG4gICAgICAgIGZyZWVKb2luOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcGFyZW50TWVldGluZ0lkOiBtZWV0aW5nSWQsXG4gICAgICAgICd1c2Vycy51c2VySWQnOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBicmVha291dElkOiBtZWV0aW5nSWQsXG4gICAgICB9LFxuICAgIF0sXG4gIH07XG5cbiAgcmV0dXJuIEJyZWFrb3V0cy5maW5kKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kQnJlYWtvdXRzID0gYnJlYWtvdXRzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZEJyZWFrb3V0cyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2JyZWFrb3V0cycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IEJyZWFrb3V0cyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdicmVha291dHMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgYnJlYWtvdXRzOlxuICAvLyAxLiBicmVha291dElkICggaGFuZGxlSm9pblVybCwgcm9vbVN0YXJ0ZWQsIGNsZWFyQnJlYWtvdXRzIClcbiAgLy8gMi4gcGFyZW50TWVldGluZ0lkICggdXBkYXRlVGltZVJlbWFpbmluZyApXG5cbiAgQnJlYWtvdXRzLl9lbnN1cmVJbmRleCh7IGJyZWFrb3V0SWQ6IDEgfSk7XG4gIEJyZWFrb3V0cy5fZW5zdXJlSW5kZXgoeyBwYXJlbnRNZWV0aW5nSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEJyZWFrb3V0cztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBmZXRjaFJlYWRPbmx5UGFkSWQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2ZldGNoUmVhZE9ubHlQYWRJZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVBhZENyZWF0ZSh7IGJvZHkgfSkge1xuICBjb25zdCB7IHBhZCB9ID0gYm9keTtcbiAgY29uc3QgeyBpZCB9ID0gcGFkO1xuXG4gIGNoZWNrKGlkLCBTdHJpbmcpO1xuXG4gIGZldGNoUmVhZE9ubHlQYWRJZChpZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBnZXREYXRhRnJvbUNoYW5nZXNldCB9IGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgdXBkYXRlUGFkIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL3VwZGF0ZVBhZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVBhZFVwZGF0ZSh7IGJvZHkgfSkge1xuICBjb25zdCB7IHBhZCwgcmV2cywgY2hhbmdlc2V0IH0gPSBib2R5O1xuICBjb25zdCB7IGlkIH0gPSBwYWQ7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYW5nZXNldCwgU3RyaW5nKTtcbiAgY2hlY2socmV2cywgTnVtYmVyKTtcblxuICBjb25zdCBkYXRhID0gZ2V0RGF0YUZyb21DaGFuZ2VzZXQoY2hhbmdlc2V0KTtcblxuICBpZiAoZGF0YSAhPT0gJycpIHtcbiAgICB1cGRhdGVQYWQoaWQsIGRhdGEsIHJldnMpO1xuICB9XG59XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVQYWRJZCxcbn0gZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCB7XG4gIGFwcGVuZFRleHRVUkwsXG59IGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcHBlbmRUZXh0KHRleHQsIGxvY2FsZSkge1xuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh0ZXh0LCBTdHJpbmcpO1xuICBjaGVjayhsb2NhbGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGFkSWQgPSBnZW5lcmF0ZVBhZElkKG1lZXRpbmdJZCwgbG9jYWxlKTtcblxuICBheGlvcyh7XG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB1cmw6IGFwcGVuZFRleHRVUkwocGFkSWQsIHRleHQpLFxuICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXNwb25zZTtcbiAgICBpZiAoc3RhdHVzID09PSAyMDApIHtcbiAgICAgIExvZ2dlci52ZXJib3NlKGBBcHBlbmRlZCB0ZXh0IGZvciBwYWRJZDoke3BhZElkfWApO1xuICAgIH1cbiAgfSkuY2F0Y2goZXJyb3IgPT4gTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgYXBwZW5kIGNhcHRpb25zIGZvciBwYWRJZD0ke3BhZElkfTogJHtlcnJvcn1gKSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQge1xuICBnZW5lcmF0ZVBhZElkLFxuICBpc0VuYWJsZWQsXG4gIGdldExvY2FsZXNVUkwsXG59IGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgYWRkQ2FwdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy9hZGRDYXB0aW9uJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUNhcHRpb25zKG1lZXRpbmdJZCkge1xuICAvLyBBdm9pZCBjYXB0aW9ucyBjcmVhdGlvbiBpZiB0aGlzIGZlYXR1cmUgaXMgZGlzYWJsZWRcbiAgaWYgKCFpc0VuYWJsZWQoKSkge1xuICAgIExvZ2dlci53YXJuKGBDYXB0aW9ucyBhcmUgZGlzYWJsZWQgZm9yICR7bWVldGluZ0lkfWApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBheGlvcyh7XG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB1cmw6IGdldExvY2FsZXNVUkwoKSxcbiAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gcmVzcG9uc2U7XG4gICAgaWYgKHN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgbG9jYWxlcyBpbmZvIGZvciAke21lZXRpbmdJZH0gJHtzdGF0dXN9YCk7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsZXMgPSByZXNwb25zZS5kYXRhO1xuICAgIGxvY2FsZXMuZm9yRWFjaCgobG9jYWxlKSA9PiB7XG4gICAgICBjb25zdCBwYWRJZCA9IGdlbmVyYXRlUGFkSWQobWVldGluZ0lkLCBsb2NhbGUubG9jYWxlKTtcbiAgICAgIGFkZENhcHRpb24obWVldGluZ0lkLCBwYWRJZCwgbG9jYWxlKTtcbiAgICB9KTtcbiAgfSkuY2F0Y2goZXJyb3IgPT4gTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgY3JlYXRlIGNhcHRpb25zIGZvciAke21lZXRpbmdJZH06ICR7ZXJyb3J9YCkpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmNvbnN0IGdldEluZGV4ID0gKGRhdGEsIGxlbmd0aCkgPT4gbGVuZ3RoIC0gZGF0YS5sZW5ndGg7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVkaXRDYXB0aW9ucyhwYWRJZCwgZGF0YSkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0VkaXRDYXB0aW9uSGlzdG9yeVB1Yk1zZyc7XG5cbiAgY2hlY2socGFkSWQsIFN0cmluZyk7XG4gIGNoZWNrKGRhdGEsIFN0cmluZyk7XG5cbiAgY29uc3QgcGFkID0gQ2FwdGlvbnMuZmluZE9uZSh7IHBhZElkIH0pO1xuXG4gIGlmICghcGFkKSByZXR1cm4gTG9nZ2VyLmVycm9yKGBFZGl0aW5nIGNhcHRpb25zIGhpc3Rvcnk6ICR7cGFkSWR9YCk7XG5cbiAgY29uc3Qge1xuICAgIG1lZXRpbmdJZCxcbiAgICBvd25lcklkLFxuICAgIGxvY2FsZSxcbiAgICBsZW5ndGgsXG4gIH0gPSBwYWQ7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhvd25lcklkLCBTdHJpbmcpO1xuICBjaGVjayhsb2NhbGUsIHsgbG9jYWxlOiBTdHJpbmcsIG5hbWU6IFN0cmluZyB9KTtcbiAgY2hlY2sobGVuZ3RoLCBOdW1iZXIpO1xuXG4gIGNvbnN0IGluZGV4ID0gZ2V0SW5kZXgoZGF0YSwgbGVuZ3RoKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHN0YXJ0SW5kZXg6IGluZGV4LFxuICAgIGxvY2FsZUNvZGU6IGxvY2FsZS5sb2NhbGUsXG4gICAgbG9jYWxlOiBsb2NhbGUubmFtZSxcbiAgICBlbmRJbmRleDogaW5kZXgsXG4gICAgdGV4dDogZGF0YSxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgb3duZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQge1xuICBnZXRSZWFkT25seUlkVVJMLFxuICBnZXREYXRhRnJvbVJlc3BvbnNlLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgdXBkYXRlUmVhZE9ubHlQYWRJZCBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21vZGlmaWVycy91cGRhdGVSZWFkT25seVBhZElkJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGZldGNoUmVhZE9ubHlQYWRJZChwYWRJZCkge1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcblxuICBjb25zdCByZWFkT25seVVSTCA9IGdldFJlYWRPbmx5SWRVUkwocGFkSWQpO1xuICBheGlvcyh7XG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB1cmw6IHJlYWRPbmx5VVJMLFxuICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgIGNvbnN0IHJlYWRPbmx5UGFkSWQgPSBnZXREYXRhRnJvbVJlc3BvbnNlKHJlc3BvbnNlLmRhdGEsICdyZWFkT25seUlEJyk7XG4gICAgaWYgKHJlYWRPbmx5UGFkSWQpIHtcbiAgICAgIHVwZGF0ZVJlYWRPbmx5UGFkSWQocGFkSWQsIHJlYWRPbmx5UGFkSWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgcGFkIHJlYWRPbmx5SUQgZm9yICR7cGFkSWR9YCk7XG4gICAgfVxuICB9KS5jYXRjaChlcnJvciA9PiBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgcGFkIHJlYWRPbmx5SUQgZm9yICR7cGFkSWR9OiAke2Vycm9yfWApKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IHVwZGF0ZU93bmVySWQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlT3duZXJJZCc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGFrZU93bmVyc2hpcChsb2NhbGUpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhsb2NhbGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGFkID0gQ2FwdGlvbnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgcGFkSWQ6IHsgJHJlZ2V4OiBgX2NhcHRpb25zXyR7bG9jYWxlfSRgIH0gfSk7XG5cbiAgaWYgKHBhZCkge1xuICAgIHVwZGF0ZU93bmVySWQobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBhZC5wYWRJZCk7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgQ2FwdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBlZGl0Q2FwdGlvbnMobWVldGluZ0lkLCB1c2VySWQsIHBhZElkKSB7IC8vIFRPRE9cbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdVcGRhdGVDYXB0aW9uT3duZXJQdWJNc2cnO1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhwYWRJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYWQgPSBDYXB0aW9ucy5maW5kT25lKHsgbWVldGluZ0lkLCBwYWRJZCB9KTtcblxuICBpZiAoIXBhZCkgcmV0dXJuIExvZ2dlci5lcnJvcihgRWRpdGluZyBjYXB0aW9ucyBvd25lcjogJHtwYWRJZH1gKTtcblxuICBjb25zdCB7IGxvY2FsZSB9ID0gcGFkO1xuXG4gIGNoZWNrKGxvY2FsZSwgeyBsb2NhbGU6IFN0cmluZywgbmFtZTogU3RyaW5nIH0pO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgb3duZXJJZDogdXNlcklkLFxuICAgIGxvY2FsZTogbG9jYWxlLm5hbWUsXG4gICAgbG9jYWxlQ29kZTogbG9jYWxlLmxvY2FsZSxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRDYXB0aW9uKG1lZXRpbmdJZCwgcGFkSWQsIGxvY2FsZSkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhsb2NhbGUsIHtcbiAgICBsb2NhbGU6IFN0cmluZyxcbiAgICBuYW1lOiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwYWRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcGFkSWQsXG4gICAgbG9jYWxlLFxuICAgIG93bmVySWQ6ICcnLFxuICAgIHJlYWRPbmx5UGFkSWQ6ICcnLFxuICAgIGRhdGE6ICcnLFxuICAgIHJldnM6IDAsXG4gICAgbGVuZ3RoOiAwLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyBjYXB0aW9uIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gbnVtQ2hhbmdlZDtcbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci52ZXJib3NlKGBBZGRlZCBjYXB0aW9uIGxvY2FsZT0ke2xvY2FsZS5sb2NhbGV9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci52ZXJib3NlKGBVcHNlcnRlZCBjYXB0aW9uIGxvY2FsZT0ke2xvY2FsZS5sb2NhbGV9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIENhcHRpb25zLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckNhcHRpb25zKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIENhcHRpb25zLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBDYXB0aW9ucyAoJHttZWV0aW5nSWR9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIENhcHRpb25zLnJlbW92ZSh7fSwgKCkgPT4ge1xuICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIENhcHRpb25zIChhbGwpJyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IENhcHRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgdXBkYXRlT3duZXIgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL3VwZGF0ZU93bmVyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlT3duZXJJZChtZWV0aW5nSWQsIHVzZXJJZCwgcGFkSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwYWRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBvd25lcklkOiB1c2VySWQsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBjYXB0aW9ucyBwYWQ6ICR7ZXJyfWApO1xuICAgIH1cbiAgICB1cGRhdGVPd25lcihtZWV0aW5nSWQsIHVzZXJJZCwgcGFkSWQpO1xuICAgIHJldHVybiBMb2dnZXIudmVyYm9zZShgVXBkYXRlIGNhcHRpb25zIHBhZD0ke3BhZElkfSBvd25lcklkPSR7dXNlcklkfWApO1xuICB9O1xuXG4gIHJldHVybiBDYXB0aW9ucy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCB7IG11bHRpOiB0cnVlIH0sIGNiKTtcbn1cbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGVkaXRDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL21ldGhvZHMvZWRpdENhcHRpb25zJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlUGFkKHBhZElkLCBkYXRhLCByZXZzKSB7XG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhkYXRhLCBTdHJpbmcpO1xuICBjaGVjayhyZXZzLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHBhZElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGRhdGEsXG4gICAgICByZXZzLFxuICAgIH0sXG4gICAgJGluYzoge1xuICAgICAgbGVuZ3RoOiBkYXRhLmxlbmd0aCxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIGNhcHRpb25zIHBhZDogJHtlcnJ9YCk7XG4gICAgfVxuICAgIGVkaXRDYXB0aW9ucyhwYWRJZCwgZGF0YSwgcmV2cyk7XG4gICAgcmV0dXJuIExvZ2dlci52ZXJib3NlKGBVcGRhdGUgY2FwdGlvbnMgcGFkPSR7cGFkSWR9IHJldnM9JHtyZXZzfWApO1xuICB9O1xuXG4gIHJldHVybiBDYXB0aW9ucy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCB7IG11bHRpOiB0cnVlIH0sIGNiKTtcbn1cbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVSZWFkT25seVBhZElkKHBhZElkLCByZWFkT25seVBhZElkKSB7XG4gIGNoZWNrKHBhZElkLCBTdHJpbmcpO1xuICBjaGVjayhyZWFkT25seVBhZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHBhZElkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHJlYWRPbmx5UGFkSWQsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgcmVhZE9ubHlQYWRJZCBjYXB0aW9ucyBwYWQ6ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIudmVyYm9zZShgQWRkZWQgcmVhZE9ubHlQYWRJZCBjYXB0aW9ucyBwYWQ9JHtwYWRJZH0gcmVhZE9ubHlQYWRJZD0ke3JlYWRPbmx5UGFkSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIENhcHRpb25zLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIHsgbXVsdGk6IHRydWUgfSwgY2IpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IHByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMvc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZVBhZENyZWF0ZSBmcm9tICcuL2hhbmRsZXJzL3BhZENyZWF0ZSc7XG5pbXBvcnQgaGFuZGxlUGFkVXBkYXRlIGZyb20gJy4vaGFuZGxlcnMvcGFkVXBkYXRlJztcblxuUmVkaXNQdWJTdWIub24oJ1BhZENyZWF0ZVN5c01zZycsIHByb2Nlc3NGb3JDYXB0aW9uc1BhZE9ubHkoaGFuZGxlUGFkQ3JlYXRlKSk7XG5SZWRpc1B1YlN1Yi5vbignUGFkVXBkYXRlU3lzTXNnJywgcHJvY2Vzc0ZvckNhcHRpb25zUGFkT25seShoYW5kbGVQYWRVcGRhdGUpKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgaGFzaEZOVjMyYSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5jb25zdCBDQVBUSU9OU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNhcHRpb25zO1xuY29uc3QgQkFTRU5BTUUgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmFwcC5iYXNlbmFtZTtcbmNvbnN0IEFQUCA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLmFwcDtcbmNvbnN0IExPQ0FMRVNfVVJMID0gYGh0dHA6Ly8ke0FQUC5ob3N0fToke0FQUC5wb3J0fSR7QkFTRU5BTUV9JHtBUFAubG9jYWxlc1VybH1gO1xuY29uc3QgQ0FQVElPTlMgPSAnX2NhcHRpb25zXyc7XG5jb25zdCBUT0tFTiA9ICckJztcblxuLy8gQ2FwdGlvbnMgcGFkSWQgc2hvdWxkIGxvb2sgbGlrZToge3BhZElkfV9jYXB0aW9uc197bG9jYWxlfVxuY29uc3QgZ2VuZXJhdGVQYWRJZCA9IChtZWV0aW5nSWQsIGxvY2FsZSkgPT4ge1xuICBjb25zdCBwYWRJZCA9IGAke2hhc2hGTlYzMmEobWVldGluZ0lkLCB0cnVlKX0ke0NBUFRJT05TfSR7bG9jYWxlfWA7XG4gIHJldHVybiBwYWRJZDtcbn07XG5cbmNvbnN0IGlzQ2FwdGlvbnNQYWQgPSAocGFkSWQpID0+IHtcbiAgY29uc3Qgc3BsaXRQYWRJZCA9IHBhZElkLnNwbGl0KENBUFRJT05TKTtcbiAgcmV0dXJuIHNwbGl0UGFkSWQubGVuZ3RoID09PSAyO1xufTtcblxuY29uc3QgZ2V0RGF0YUZyb21DaGFuZ2VzZXQgPSAoY2hhbmdlc2V0KSA9PiB7XG4gIGNvbnN0IHNwbGl0Q2hhbmdlc2V0ID0gY2hhbmdlc2V0LnNwbGl0KFRPS0VOKTtcbiAgaWYgKHNwbGl0Q2hhbmdlc2V0Lmxlbmd0aCA+IDEpIHtcbiAgICBzcGxpdENoYW5nZXNldC5zaGlmdCgpO1xuICAgIHJldHVybiBzcGxpdENoYW5nZXNldC5qb2luKFRPS0VOKTtcbiAgfVxuICByZXR1cm4gJyc7XG59O1xuXG5jb25zdCBpc0VuYWJsZWQgPSAoKSA9PiBDQVBUSU9OU19DT05GSUcuZW5hYmxlZDtcblxuY29uc3QgZ2V0TG9jYWxlc1VSTCA9ICgpID0+IExPQ0FMRVNfVVJMO1xuXG5jb25zdCBwcm9jZXNzRm9yQ2FwdGlvbnNQYWRPbmx5ID0gZm4gPT4gKG1lc3NhZ2UsIC4uLmFyZ3MpID0+IHtcbiAgY29uc3QgeyBib2R5IH0gPSBtZXNzYWdlO1xuICBjb25zdCB7IHBhZCB9ID0gYm9keTtcbiAgY29uc3QgeyBpZCB9ID0gcGFkO1xuXG4gIGNoZWNrKGlkLCBTdHJpbmcpO1xuXG4gIGlmIChpc0NhcHRpb25zUGFkKGlkKSkgcmV0dXJuIGZuKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICByZXR1cm4gKCkgPT4ge307XG59O1xuXG5leHBvcnQge1xuICBnZW5lcmF0ZVBhZElkLFxuICBwcm9jZXNzRm9yQ2FwdGlvbnNQYWRPbmx5LFxuICBpc0VuYWJsZWQsXG4gIGdldExvY2FsZXNVUkwsXG4gIGdldERhdGFGcm9tQ2hhbmdlc2V0LFxufTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHRha2VPd25lcnNoaXAgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL3Rha2VPd25lcnNoaXAnO1xuaW1wb3J0IGFwcGVuZFRleHQgZnJvbSAnL2ltcG9ydHMvYXBpL2NhcHRpb25zL3NlcnZlci9tZXRob2RzL2FwcGVuZFRleHQnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHRha2VPd25lcnNoaXAsXG4gIGFwcGVuZFRleHQsXG59KTtcbiIsImltcG9ydCBDYXB0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvY2FwdGlvbnMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gY2FwdGlvbnMoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gQ2FwdGlvbnMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBDYXB0aW9ucyBmb3IgJHttZWV0aW5nSWR9YCk7XG5cbiAgcmV0dXJuIENhcHRpb25zLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZENhcHRpb25zID0gY2FwdGlvbnMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kQ2FwdGlvbnMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdjYXB0aW9ucycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IENhcHRpb25zID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2NhcHRpb25zJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgQ2FwdGlvbnMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCBwYWRJZDogMSB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FwdGlvbnM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgQ3Vyc29yU3RyZWFtZXIgZnJvbSAnL2ltcG9ydHMvYXBpL2N1cnNvci9zZXJ2ZXIvc3RyZWFtZXInO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuY29uc3QgeyBzdHJlYW1lckxvZyB9ID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUuc2VydmVyTG9nO1xuXG5jb25zdCBDVVJTT1JfUFJPQ0NFU1NfSU5URVJWQUwgPSAzMDtcblxuY29uc3QgY3Vyc29yUXVldWUgPSB7fTtcblxuY29uc3QgcHJvY2Nlc3MgPSBfLnRocm90dGxlKCgpID0+IHtcbiAgdHJ5IHtcbiAgICBPYmplY3Qua2V5cyhjdXJzb3JRdWV1ZSkuZm9yRWFjaCgobWVldGluZ0lkKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjdXJzb3JzID0gY3Vyc29yUXVldWVbbWVldGluZ0lkXTtcbiAgICAgICAgZGVsZXRlIGN1cnNvclF1ZXVlW21lZXRpbmdJZF07XG4gICAgICAgIEN1cnNvclN0cmVhbWVyKG1lZXRpbmdJZCkuZW1pdCgnbWVzc2FnZScsIHsgbWVldGluZ0lkLCBjdXJzb3JzIH0pO1xuXG4gICAgICAgIGlmIChzdHJlYW1lckxvZykge1xuICAgICAgICAgIExvZ2dlci5kZWJ1ZyhgQ3Vyc29yVXBkYXRlIHByb2Nlc3MgZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9IGhhcyBmaW5pc2hlZGApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHdoaWxlIHRyeWluZyB0byBzZW5kIGN1cnNvciBzdHJlYW1lciBkYXRhIGZvciBtZWV0aW5nICR7bWVldGluZ0lkfS4gJHtlcnJvcn1gKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBMb2dnZXIuZXJyb3IoYEVycm9yIHdoaWxlIHByb2Nlc3NpbmcgY3Vyc29yIHF1ZXVlLiAke2Vycm9yfWApO1xuICB9XG59LCBDVVJTT1JfUFJPQ0NFU1NfSU5URVJWQUwpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVDdXJzb3JVcGRhdGUoeyBoZWFkZXIsIGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcklkIH0gPSBoZWFkZXI7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgaWYgKCFjdXJzb3JRdWV1ZVttZWV0aW5nSWRdKSB7XG4gICAgY3Vyc29yUXVldWVbbWVldGluZ0lkXSA9IHt9O1xuICB9XG5cbiAgLy8gb3ZlcndyaXRlIHNpbmNlIHdlIGRvbnQgY2FyZSBhYm91dCB0aGUgb3RoZXIgcG9zaXRpb25zXG4gIGN1cnNvclF1ZXVlW21lZXRpbmdJZF1bdXNlcklkXSA9IGJvZHk7XG5cbiAgcHJvY2Nlc3MoKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHVibGlzaEN1cnNvclVwZGF0ZShtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NlbmRDdXJzb3JQb3NpdGlvblB1Yk1zZyc7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZUN1cnNvclVwZGF0ZSBmcm9tICcuL2hhbmRsZXJzL2N1cnNvclVwZGF0ZSc7XG5cblJlZGlzUHViU3ViLm9uKCdTZW5kQ3Vyc29yUG9zaXRpb25FdnRNc2cnLCBoYW5kbGVDdXJzb3JVcGRhdGUpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgcHVibGlzaEN1cnNvclVwZGF0ZSBmcm9tICcuL21ldGhvZHMvcHVibGlzaEN1cnNvclVwZGF0ZSc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcHVibGlzaEN1cnNvclVwZGF0ZSxcbn0pO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHB1Ymxpc2hDdXJzb3JVcGRhdGUgZnJvbSAnLi9tZXRob2RzL3B1Ymxpc2hDdXJzb3JVcGRhdGUnO1xuXG5jb25zdCB7IHN0cmVhbWVyTG9nIH0gPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5zZXJ2ZXJMb2c7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpIHtcbiAgTG9nZ2VyLmluZm8oYFJlbW92aW5nIEN1cnNvciBzdHJlYW1lciBvYmplY3QgZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG4gIGRlbGV0ZSBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tgY3Vyc29yLSR7bWVldGluZ0lkfWBdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3Vyc29yU3RyZWFtZXIobWVldGluZ0lkKSB7XG4gIGNvbnN0IHN0cmVhbWVyID0gbmV3IE1ldGVvci5TdHJlYW1lcihgY3Vyc29yLSR7bWVldGluZ0lkfWAsIHsgcmV0cmFuc21pdDogZmFsc2UgfSk7XG4gIGlmIChzdHJlYW1lckxvZykge1xuICAgIExvZ2dlci5kZWJ1ZyhgQ3Vyc29yIHN0cmVhbWVyIGNyZWF0ZWQgZm9yIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG4gIH1cblxuICBzdHJlYW1lci5hbGxvd1JlYWQoZnVuY3Rpb24gYWxsb3dSZWFkKCkge1xuICAgIGlmIChzdHJlYW1lckxvZykge1xuICAgICAgTG9nZ2VyLmRlYnVnKGBDdXJzb3Igc3RyZWFtZXIgY2FsbGVkIGFsbG93UmVhZCBmb3IgdXNlciAke3RoaXMudXNlcklkfSBpbiBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy51c2VySWQgJiYgdGhpcy51c2VySWQuaW5jbHVkZXMobWVldGluZ0lkKTtcbiAgfSk7XG5cbiAgc3RyZWFtZXIuYWxsb3dXcml0ZShmdW5jdGlvbiBhbGxvd1dyaXRlKCkge1xuICAgIHJldHVybiB0aGlzLnVzZXJJZCAmJiB0aGlzLnVzZXJJZC5pbmNsdWRlcyhtZWV0aW5nSWQpO1xuICB9KTtcblxuICBzdHJlYW1lci5vbigncHVibGlzaCcsIChtZXNzYWdlKSA9PiB7XG4gICAgcHVibGlzaEN1cnNvclVwZGF0ZShtZWV0aW5nSWQsIG1lc3NhZ2UudXNlcklkLCBtZXNzYWdlLnBheWxvYWQpO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0KG1lZXRpbmdJZCkge1xuICByZXR1cm4gTWV0ZW9yLlN0cmVhbWVyQ2VudHJhbC5pbnN0YW5jZXNbYGN1cnNvci0ke21lZXRpbmdJZH1gXTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZXN0cm95RXh0ZXJuYWxWaWRlbyhtZWV0aW5nSWQpIHtcbiAgY29uc3Qgc3RyZWFtTmFtZSA9IGBleHRlcm5hbC12aWRlb3MtJHttZWV0aW5nSWR9YDtcblxuICBpZiAoTWV0ZW9yLlN0cmVhbWVyQ2VudHJhbC5pbnN0YW5jZXNbc3RyZWFtTmFtZV0pIHtcbiAgICBMb2dnZXIuaW5mbyhgRGVzdHJveWluZyBFeHRlcm5hbCBWaWRlbyBzdHJlYW1lciBvYmplY3QgZm9yICR7c3RyZWFtTmFtZX1gKTtcbiAgICBkZWxldGUgTWV0ZW9yLlN0cmVhbWVyQ2VudHJhbC5pbnN0YW5jZXNbc3RyZWFtTmFtZV07XG4gIH1cbn1cbiIsImltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVtaXRFeHRlcm5hbFZpZGVvRXZlbnQobWVzc2FnZU5hbWUsIC4uLnJlc3QpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogdXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHVzZXIgPSBVc2Vycy5maW5kT25lKHsgdXNlcklkLCBtZWV0aW5nSWQgfSk7XG5cbiAgaWYgKHVzZXIgJiYgdXNlci5wcmVzZW50ZXIpIHtcbiAgICBjb25zdCBzdHJlYW1lck5hbWUgPSBgZXh0ZXJuYWwtdmlkZW9zLSR7bWVldGluZ0lkfWA7XG4gICAgY29uc3Qgc3RyZWFtZXIgPSBNZXRlb3IuU3RyZWFtZXJDZW50cmFsLmluc3RhbmNlc1tzdHJlYW1lck5hbWVdO1xuXG4gICAgaWYgKHN0cmVhbWVyKSB7XG4gICAgICBzdHJlYW1lci5lbWl0KG1lc3NhZ2VOYW1lLCAuLi5yZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLmVycm9yKGBFeHRlcm5hbCBWaWRlbyBTdHJlYW1lciBub3QgZm91bmQgZm9yIG1lZXRpbmdJZDogJHttZWV0aW5nSWR9IHVzZXJJZDogJHt1c2VySWR9YCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuY29uc3QgYWxsb3dSZWNlbnRNZXNzYWdlcyA9IChldmVudE5hbWUsIG1lc3NhZ2UpID0+IHtcblxuICBjb25zdCB7XG4gICAgdXNlcklkLFxuICAgIG1lZXRpbmdJZCxcbiAgICB0aW1lLFxuICAgIHJhdGUsXG4gICAgc3RhdGUsXG4gIH0gPSBtZXNzYWdlO1xuXG4gIExvZ2dlci5kZWJ1ZyhgRXh0ZXJuYWxWaWRlbyBTdHJlYW1lciBhdXRoIGFsbG93ZWQgdXNlcklkOiAke3VzZXJJZH0sIG1lZXRpbmdJZDogJHttZWV0aW5nSWR9LCBldmVudDogJHtldmVudE5hbWV9LCB0aW1lOiAke3RpbWV9IHJhdGU6ICR7cmF0ZX0sIHN0YXRlOiAke3N0YXRlfWApO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXRpYWxpemVFeHRlcm5hbFZpZGVvKCkge1xuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBzdHJlYW1OYW1lID0gYGV4dGVybmFsLXZpZGVvcy0ke21lZXRpbmdJZH1gO1xuICBpZiAoIU1ldGVvci5TdHJlYW1lckNlbnRyYWwuaW5zdGFuY2VzW3N0cmVhbU5hbWVdKSB7XG4gICAgY29uc3Qgc3RyZWFtZXIgPSBuZXcgTWV0ZW9yLlN0cmVhbWVyKHN0cmVhbU5hbWUpO1xuICAgIHN0cmVhbWVyLmFsbG93UmVhZCgnYWxsJyk7XG4gICAgc3RyZWFtZXIuYWxsb3dXcml0ZSgnbm9uZScpO1xuICAgIHN0cmVhbWVyLmFsbG93RW1pdChhbGxvd1JlY2VudE1lc3NhZ2VzKTtcbiAgICBMb2dnZXIuaW5mbyhgQ3JlYXRlZCBFeHRlcm5hbCBWaWRlbyBzdHJlYW1lciBmb3IgJHtzdHJlYW1OYW1lfWApO1xuICB9IGVsc2Uge1xuICAgIExvZ2dlci5kZWJ1ZyhgRXh0ZXJuYWwgVmlkZW8gc3RyZWFtZXIgaXMgYWxyZWFkeSBjcmVhdGVkIGZvciAke3N0cmVhbU5hbWV9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RhcnRXYXRjaGluZ0V4dGVybmFsVmlkZW8ob3B0aW9ucykge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1N0YXJ0RXh0ZXJuYWxWaWRlb01zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogdXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCB7IGV4dGVybmFsVmlkZW9VcmwgfSA9IG9wdGlvbnM7XG5cbiAgdHJ5IHtcbiAgICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gICAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGV4dGVybmFsVmlkZW9VcmwsIFN0cmluZyk7XG5cbiAgICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgdXNlcklkLCBwcmVzZW50ZXI6IHRydWUgfSwgeyBwcmVzZW50ZXI6IDEgfSk7XG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgT25seSBwcmVzZW50ZXJzIGFyZSBhbGxvd2VkIHRvIHN0YXJ0IGV4dGVybmFsIHZpZGVvIGZvciBhIG1lZXRpbmcuIG1lZXRpbmc9JHttZWV0aW5nSWR9IHVzZXJJZD0ke3VzZXJJZH1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBNZWV0aW5ncy51cGRhdGUoeyBtZWV0aW5nSWQgfSwgeyAkc2V0OiB7IGV4dGVybmFsVmlkZW9VcmwgfSB9KTtcblxuICAgIGNvbnN0IHBheWxvYWQgPSB7IGV4dGVybmFsVmlkZW9VcmwgfTtcblxuICAgIExvZ2dlci5pbmZvKGBVc2VyIGlkPSR7dXNlcklkfSBzaGFyaW5nIGFuIGV4dGVybmFsIHZpZGVvOiAke2V4dGVybmFsVmlkZW9Vcmx9IGZvciBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuXG4gICAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHVzZXJJZCwgcGF5bG9hZCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBvbiBzaGFyaW5nIGFuIGV4dGVybmFsIHZpZGVvOiAke2V4dGVybmFsVmlkZW9Vcmx9ICR7ZXJyb3J9YCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyhvcHRpb25zKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU3RvcEV4dGVybmFsVmlkZW9Nc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IHRoaXMudXNlcklkID8gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKSA6IG9wdGlvbnM7XG5cbiAgdHJ5IHtcbiAgICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gICAgY2hlY2socmVxdWVzdGVyVXNlcklkLCBTdHJpbmcpO1xuXG4gICAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoe1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgICBwcmVzZW50ZXI6IHRydWUsXG4gICAgfSwgeyBwcmVzZW50ZXI6IDEgfSk7XG5cbiAgICBpZiAodGhpcy51c2VySWQgJiYgIXVzZXIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgT25seSBwcmVzZW50ZXJzIGFyZSBhbGxvd2VkIHRvIHN0b3AgZXh0ZXJuYWwgdmlkZW8gZm9yIGEgbWVldGluZy4gbWVldGluZz0ke21lZXRpbmdJZH0gdXNlcklkPSR7cmVxdWVzdGVyVXNlcklkfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuICAgIGlmICghbWVldGluZyB8fCBtZWV0aW5nLmV4dGVybmFsVmlkZW9VcmwgPT09IG51bGwpIHJldHVybjtcblxuICAgIE1lZXRpbmdzLnVwZGF0ZSh7IG1lZXRpbmdJZCB9LCB7ICRzZXQ6IHsgZXh0ZXJuYWxWaWRlb1VybDogbnVsbCB9IH0pO1xuICAgIGNvbnN0IHBheWxvYWQgPSB7fTtcblxuICAgIExvZ2dlci5pbmZvKGBVc2VyIGlkPSR7cmVxdWVzdGVyVXNlcklkfSBzdG9wcGVkIHNoYXJpbmcgYW4gZXh0ZXJuYWwgdmlkZW8gZm9yIG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG5cbiAgICBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3Igb24gc3RvcCBzaGFyaW5nIGFuIGV4dGVybmFsIHZpZGVvIGZvciBtZWV0aW5nPSR7bWVldGluZ0lkfSAke2Vycm9yfWApO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vbWV0aG9kcyc7XG5cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHN0YXJ0V2F0Y2hpbmdFeHRlcm5hbFZpZGVvIGZyb20gJy4vbWV0aG9kcy9zdGFydFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyc7XG5pbXBvcnQgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyBmcm9tICcuL21ldGhvZHMvc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyc7XG5pbXBvcnQgaW5pdGlhbGl6ZUV4dGVybmFsVmlkZW8gZnJvbSAnLi9tZXRob2RzL2luaXRpYWxpemVFeHRlcm5hbFZpZGVvJztcbmltcG9ydCBlbWl0RXh0ZXJuYWxWaWRlb0V2ZW50IGZyb20gJy4vbWV0aG9kcy9lbWl0RXh0ZXJuYWxWaWRlb0V2ZW50JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBpbml0aWFsaXplRXh0ZXJuYWxWaWRlbyxcbiAgc3RhcnRXYXRjaGluZ0V4dGVybmFsVmlkZW8sXG4gIHN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8sXG4gIGVtaXRFeHRlcm5hbFZpZGVvRXZlbnQsXG59KTtcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXQgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdENyZWF0ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgcmV0dXJuIGFkZEdyb3VwQ2hhdChtZWV0aW5nSWQsIGJvZHkpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZEdyb3VwQ2hhdCBmcm9tICcuLi9tb2RpZmllcnMvYWRkR3JvdXBDaGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3JvdXBDaGF0RGVzdHJveWVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIHJldHVybiBhZGRHcm91cENoYXQobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXQgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdHMoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGNoYXRzIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdHMsIEFycmF5KTtcblxuICBjb25zdCBjaGF0c0FkZGVkID0gW107XG5cbiAgY2hhdHMuZm9yRWFjaCgoY2hhdCkgPT4ge1xuICAgIGNoYXRzQWRkZWQucHVzaChhZGRHcm91cENoYXQobWVldGluZ0lkLCBjaGF0KSk7XG4gIH0pO1xuXG4gIHJldHVybiBjaGF0c0FkZGVkO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgQ0hBVF9BQ0NFU1NfUFJJVkFURSB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0JztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVHcm91cENoYXQocmVjZWl2ZXIpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDcmVhdGVHcm91cENoYXRSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2socmVjZWl2ZXIsIE9iamVjdCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjb3JyZWxhdGlvbklkOiBgJHtyZXF1ZXN0ZXJVc2VySWR9LSR7RGF0ZS5ub3coKX1gLFxuICAgIG1zZzogW10sXG4gICAgdXNlcnM6IFtyZWNlaXZlci51c2VySWRdLFxuICAgIGFjY2VzczogQ0hBVF9BQ0NFU1NfUFJJVkFURSxcbiAgICBuYW1lOiByZWNlaXZlci5uYW1lLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwQ2hhdCgpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBldmVudE5hbWUgPSAnRGVzdHJveUdyb3VwQ2hhdFJlcU1zZyc7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgdGhpcyB0b2dldGhlciB3aXRoICM0OTg4XG4gICAgLy8gY2hhdHM6IEFycmF5W1N0cmluZ10sXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBldmVudE5hbWUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRHcm91cENoYXQobWVldGluZ0lkLCBjaGF0KSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soY2hhdCwge1xuICAgIGlkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIGNoYXRJZDogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgICBjb3JyZWxhdGlvbklkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIG5hbWU6IFN0cmluZyxcbiAgICBhY2Nlc3M6IFN0cmluZyxcbiAgICBjcmVhdGVkQnk6IE9iamVjdCxcbiAgICB1c2VyczogQXJyYXksXG4gICAgbXNnOiBNYXRjaC5NYXliZShBcnJheSksXG4gIH0pO1xuXG4gIGNvbnN0IGNoYXREb2N1bWVudCA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgY2hhdElkOiBjaGF0LmNoYXRJZCB8fCBjaGF0LmlkLFxuICAgIG5hbWU6IGNoYXQubmFtZSxcbiAgICBhY2Nlc3M6IGNoYXQuYWNjZXNzLFxuICAgIHVzZXJzOiBjaGF0LnVzZXJzLm1hcCh1ID0+IHUuaWQpLFxuICAgIGNyZWF0ZWRCeTogY2hhdC5jcmVhdGVkQnkuaWQsXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgY2hhdElkOiBjaGF0RG9jdW1lbnQuY2hhdElkLFxuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBmbGF0KGNoYXREb2N1bWVudCwgeyBzYWZlOiB0cnVlIH0pLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyBncm91cC1jaGF0IHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gbnVtQ2hhbmdlZDtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIGdyb3VwLWNoYXQgbmFtZT0ke2NoYXQubmFtZX0gbWVldGluZ0lkPSR7bWVldGluZ0lkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgZ3JvdXAtY2hhdCBuYW1lPSR7Y2hhdC5uYW1lfSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIEdyb3VwQ2hhdC51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgR3JvdXBDaGF0IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0JztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjbGVhckdyb3VwQ2hhdE1zZyBmcm9tICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyL21vZGlmaWVycy9jbGVhckdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyR3JvdXBDaGF0KG1lZXRpbmdJZCkge1xuICBjbGVhckdyb3VwQ2hhdE1zZyhtZWV0aW5nSWQpO1xuICByZXR1cm4gR3JvdXBDaGF0LnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgR3JvdXBDaGF0ICgke21lZXRpbmdJZH0pYCk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVHcm91cENoYXRzIGZyb20gJy4vaGFuZGxlcnMvZ3JvdXBDaGF0cyc7XG5pbXBvcnQgaGFuZGxlR3JvdXBDaGF0Q3JlYXRlZCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdENyZWF0ZWQnO1xuaW1wb3J0IGhhbmRsZUdyb3VwQ2hhdERlc3Ryb3llZCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdERlc3Ryb3llZCc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cblJlZGlzUHViU3ViLm9uKCdHZXRHcm91cENoYXRzUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlR3JvdXBDaGF0cykpO1xuUmVkaXNQdWJTdWIub24oJ0dyb3VwQ2hhdENyZWF0ZWRFdnRNc2cnLCBoYW5kbGVHcm91cENoYXRDcmVhdGVkKTtcblJlZGlzUHViU3ViLm9uKCdHcm91cENoYXREZXN0cm95ZWRFdnRNc2cnLCBoYW5kbGVHcm91cENoYXREZXN0cm95ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRHcm91cENoYXRzUmVzcE1zZycsIGhhbmRsZUdyb3VwQ2hhdHMpO1xuIiwiaW1wb3J0ICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cvc2VydmVyJztcbmltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGNyZWF0ZUdyb3VwQ2hhdCBmcm9tICcuL21ldGhvZHMvY3JlYXRlR3JvdXBDaGF0JztcbmltcG9ydCBkZXN0cm95R3JvdXBDaGF0IGZyb20gJy4vbWV0aG9kcy9kZXN0cm95R3JvdXBDaGF0JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBjcmVhdGVHcm91cENoYXQsXG4gIGRlc3Ryb3lHcm91cENoYXQsXG59KTtcbiIsImltcG9ydCBHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBncm91cENoYXQoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gR3JvdXBDaGF0LmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19DSEFUX1RZUEUgPSBDSEFUX0NPTkZJRy50eXBlX3B1YmxpYztcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgZ3JvdXAtY2hhdCBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBHcm91cENoYXQuZmluZCh7XG4gICAgJG9yOiBbXG4gICAgICB7IG1lZXRpbmdJZCwgYWNjZXNzOiBQVUJMSUNfQ0hBVF9UWVBFIH0sXG4gICAgICB7IG1lZXRpbmdJZCwgdXNlcnM6IHsgJGFsbDogW3JlcXVlc3RlclVzZXJJZF0gfSB9LFxuICAgIF0sXG5cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZEdyb3VwQ2hhdCA9IGdyb3VwQ2hhdC5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRHcm91cENoYXQoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdncm91cC1jaGF0JywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgR3JvdXBDaGF0ID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2dyb3VwLWNoYXQnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBHcm91cENoYXQuX2Vuc3VyZUluZGV4KHtcbiAgICBtZWV0aW5nSWQ6IDEsIGNoYXRJZDogMSwgYWNjZXNzOiAxLCB1c2VyczogMSxcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdyb3VwQ2hhdDtcblxuY29uc3QgQ0hBVF9BQ0NFU1MgPSB7XG4gIFBVQkxJQzogJ1BVQkxJQ19BQ0NFU1MnLFxuICBQUklWQVRFOiAnUFJJVkFURV9BQ0NFU1MnLFxufTtcblxuZXhwb3J0IGNvbnN0IENIQVRfQUNDRVNTX1BVQkxJQyA9IENIQVRfQUNDRVNTLlBVQkxJQztcbmV4cG9ydCBjb25zdCBDSEFUX0FDQ0VTU19QUklWQVRFID0gQ0hBVF9BQ0NFU1MuUFJJVkFURTtcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjbGVhckdyb3VwQ2hhdE1zZyBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJHcm91cENoYXRNc2cnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclB1YmxpY0NoYXRIaXN0b3J5KHsgaGVhZGVyLCBib2R5IH0pIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGhlYWRlcjtcbiAgY29uc3QgeyBjaGF0SWQgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGNsZWFyR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXRNc2cgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgY2hhdElkLCBtc2cgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG4gIGNoZWNrKG1zZywgT2JqZWN0KTtcblxuICByZXR1cm4gYWRkR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkLCBtc2cpO1xufVxuIiwiaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRHcm91cENoYXRNc2cgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdyb3VwQ2hhdHNNc2dzKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBjaGF0SWQsIG1zZ3MsIG1zZyB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKGNoYXRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobXNncywgTWF0Y2guTWF5YmUoQXJyYXkpKTtcbiAgY2hlY2sobXNnLCBNYXRjaC5NYXliZShBcnJheSkpO1xuXG4gIGNvbnN0IG1zZ3NBZGRlZCA9IFtdO1xuXG4gIChtc2dzIHx8IG1zZykuZm9yRWFjaCgobSkgPT4ge1xuICAgIG1zZ3NBZGRlZC5wdXNoKGFkZEdyb3VwQ2hhdE1zZyhtZWV0aW5nSWQsIGNoYXRJZCwgbSkpO1xuICB9KTtcblxuICByZXR1cm4gbXNnc0FkZGVkO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHN0YXJ0VHlwaW5nIGZyb20gJy4uL21vZGlmaWVycy9zdGFydFR5cGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJUeXBpbmcoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGNoYXRJZCwgdXNlcklkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgc3RhcnRUeXBpbmcobWVldGluZ0lkLCB1c2VySWQsIGNoYXRJZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSgpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDbGVhclB1YmxpY0NoYXRIaXN0b3J5UHViTXNnJztcbiAgY29uc3QgQ0hBVF9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLmNoYXQ7XG4gIGNvbnN0IFBVQkxJQ19HUk9VUF9DSEFUX0lEID0gQ0hBVF9DT05GSUcucHVibGljX2dyb3VwX2lkO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjaGF0SWQ6IFBVQkxJQ19HUk9VUF9DSEFUX0lELFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IFJlZ2V4V2ViVXJsIGZyb20gJy9pbXBvcnRzL3V0aWxzL3JlZ2V4LXdlYnVybCc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgSFRNTF9TQUZFX01BUCA9IHtcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5OycsXG59O1xuXG5jb25zdCBwYXJzZU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICBsZXQgcGFyc2VkTWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnRyaW0oKTtcblxuICAvLyBSZXBsYWNlIDxici8+IHdpdGggXFxuXFxyXG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnJlcGxhY2UoLzxiclxccypbXFxcXC9dPz4vZ2ksICdcXG5cXHInKTtcblxuICAvLyBTYW5pdGl6ZS4gU2VlOiBodHRwOi8vc2hlYmFuZy5icmFuZG9ubWludGVybi5jb20vZm9vbHByb29mLWh0bWwtZXNjYXBpbmctaW4tamF2YXNjcmlwdC9cbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2UucmVwbGFjZSgvWzw+J1wiXS9nLCBjID0+IEhUTUxfU0FGRV9NQVBbY10pO1xuXG4gIC8vIFJlcGxhY2UgZmxhc2ggbGlua3MgdG8gZmxhc2ggdmFsaWQgb25lc1xuICBwYXJzZWRNZXNzYWdlID0gcGFyc2VkTWVzc2FnZS5yZXBsYWNlKFJlZ2V4V2ViVXJsLCBcIjxhIGhyZWY9J2V2ZW50OiQmJz48dT4kJjwvdT48L2E+XCIpO1xuXG4gIHJldHVybiBwYXJzZWRNZXNzYWdlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VuZEdyb3VwQ2hhdE1zZyhjaGF0SWQsIG1lc3NhZ2UpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZW5kR3JvdXBDaGF0TWVzc2FnZU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhtZXNzYWdlLCBPYmplY3QpO1xuXG4gIGNvbnN0IHBhcnNlZE1lc3NhZ2UgPSBwYXJzZU1lc3NhZ2UobWVzc2FnZS5tZXNzYWdlKTtcblxuICBtZXNzYWdlLm1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgbXNnOiBtZXNzYWdlLFxuICAgIGNoYXRJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydFVzZXJUeXBpbmcoY2hhdElkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlclR5cGluZ1B1Yk1zZyc7XG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBjaGF0SWQ6IGNoYXRJZCB8fCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IFVzZXJzVHlwaW5nIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQtbXNnJztcbmltcG9ydCBzdG9wVHlwaW5nIGZyb20gJy4uL21vZGlmaWVycy9zdG9wVHlwaW5nJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdG9wVXNlclR5cGluZygpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCB1c2VyVHlwaW5nID0gVXNlcnNUeXBpbmcuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9KTtcblxuICBpZiAodXNlclR5cGluZykge1xuICAgIHN0b3BUeXBpbmcobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHRydWUpO1xuICB9XG59XG4iLCJpbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCB7IE1hdGNoLCBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBHcm91cENoYXRNc2cgfSBmcm9tICcvaW1wb3J0cy9hcGkvZ3JvdXAtY2hhdC1tc2cnO1xuaW1wb3J0IHsgQlJFQUtfTElORSB9IGZyb20gJy9pbXBvcnRzL3V0aWxzL2xpbmVFbmRpbmdzJztcblxuY29uc3QgcGFyc2VNZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgbGV0IHBhcnNlZE1lc3NhZ2UgPSBtZXNzYWdlIHx8ICcnO1xuXG4gIC8vIFJlcGxhY2UgXFxyIGFuZCBcXG4gdG8gPGJyLz5cbiAgcGFyc2VkTWVzc2FnZSA9IHBhcnNlZE1lc3NhZ2UucmVwbGFjZSgvKFtePlxcclxcbl0/KShcXHJcXG58XFxuXFxyfFxccnxcXG4pL2csIGAkMSR7QlJFQUtfTElORX0kMmApO1xuXG4gIC8vIFJlcGxhY2UgZmxhc2ggbGlua3MgdG8gaHRtbCB2YWxpZCBvbmVzXG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnNwbGl0KCc8YSBocmVmPVxcJ2V2ZW50OicpLmpvaW4oJzxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XFwnJyk7XG4gIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZWRNZXNzYWdlLnNwbGl0KCc8YSBocmVmPVwiZXZlbnQ6Jykuam9pbignPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIicpO1xuXG4gIHJldHVybiBwYXJzZWRNZXNzYWdlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkLCBtc2cpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhjaGF0SWQsIFN0cmluZyk7XG4gIGNoZWNrKG1zZywge1xuICAgIGlkOiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICAgIHRpbWVzdGFtcDogTnVtYmVyLFxuICAgIHNlbmRlcjogT2JqZWN0LFxuICAgIGNvbG9yOiBTdHJpbmcsXG4gICAgbWVzc2FnZTogU3RyaW5nLFxuICAgIGNvcnJlbGF0aW9uSWQ6IE1hdGNoLk1heWJlKFN0cmluZyksXG4gIH0pO1xuXG4gIGNvbnN0IG1zZ0RvY3VtZW50ID0ge1xuICAgIC4uLm1zZyxcbiAgICBtZWV0aW5nSWQsXG4gICAgY2hhdElkLFxuICAgIG1lc3NhZ2U6IHBhcnNlTWVzc2FnZShtc2cubWVzc2FnZSksXG4gICAgc2VuZGVyOiBtc2cuc2VuZGVyLmlkLFxuICB9O1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBjaGF0SWQsXG4gICAgaWQ6IG1zZy5pZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBmbGF0KG1zZ0RvY3VtZW50LCB7IHNhZmU6IHRydWUgfSksXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIGdyb3VwLWNoYXQtbXNnIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gbnVtQ2hhbmdlZDtcblxuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIGdyb3VwLWNoYXQtbXNnIG1zZ0lkPSR7bXNnLmlkfSBjaGF0SWQ9JHtjaGF0SWR9IG1lZXRpbmdJZD0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwc2VydGVkIGdyb3VwLWNoYXQtbXNnIG1zZ0lkPSR7bXNnLmlkfSBjaGF0SWQ9JHtjaGF0SWR9IG1lZXRpbmdJZD0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gR3JvdXBDaGF0TXNnLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IEdyb3VwQ2hhdE1zZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgYWRkR3JvdXBDaGF0TXNnIGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZEdyb3VwQ2hhdE1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgY2hhdElkKSB7XG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfQ0hBVF9TWVNURU1fSUQgPSBDSEFUX0NPTkZJRy5zeXN0ZW1fdXNlcmlkO1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcbiAgY29uc3QgQ0hBVF9DTEVBUl9NRVNTQUdFID0gQ0hBVF9DT05GSUcuc3lzdGVtX21lc3NhZ2VzX2tleXMuY2hhdF9jbGVhcjtcblxuICBpZiAoY2hhdElkKSB7XG4gICAgR3JvdXBDaGF0TXNnLnJlbW92ZSh7IG1lZXRpbmdJZCwgY2hhdElkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIEdyb3VwQ2hhdE1zZyAoJHttZWV0aW5nSWR9LCAke2NoYXRJZH0pYCk7XG4gICAgICBjb25zdCBjbGVhck1zZyA9IHtcbiAgICAgICAgY29sb3I6ICcwJyxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBjb3JyZWxhdGlvbklkOiBgJHtQVUJMSUNfQ0hBVF9TWVNURU1fSUR9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICBzZW5kZXI6IHtcbiAgICAgICAgICBpZDogUFVCTElDX0NIQVRfU1lTVEVNX0lELFxuICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICB9LFxuICAgICAgICBtZXNzYWdlOiBDSEFUX0NMRUFSX01FU1NBR0UsXG4gICAgICB9O1xuICAgICAgYWRkR3JvdXBDaGF0TXNnKG1lZXRpbmdJZCwgUFVCTElDX0dST1VQX0NIQVRfSUQsIGNsZWFyTXNnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gR3JvdXBDaGF0TXNnLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBHcm91cENoYXRNc2cgKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBHcm91cENoYXRNc2cucmVtb3ZlKHsgY2hhdElkOiB7ICRlcTogUFVCTElDX0dST1VQX0NIQVRfSUQgfSB9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgR3JvdXBDaGF0TXNnIChhbGwpJyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBVc2Vyc1R5cGluZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgc3RvcFR5cGluZyBmcm9tICcuL3N0b3BUeXBpbmcnO1xuXG5jb25zdCBUWVBJTkdfVElNRU9VVCA9IDUwMDA7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0VHlwaW5nKG1lZXRpbmdJZCwgdXNlcklkLCBjaGF0SWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgY29uc3QgbW9kID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgbmFtZTogdXNlci5uYW1lLFxuICAgIGlzVHlwaW5nVG86IGNoYXRJZCxcbiAgICByb2xlOiB1c2VyLnJvbGUsXG4gICAgdGltZTogKG5ldyBEYXRlKCkpLFxuICB9O1xuXG4gIGNvbnN0IHR5cGluZ1VzZXIgPSBVc2Vyc1R5cGluZy5maW5kT25lKHNlbGVjdG9yLCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB0aW1lOiAxLFxuICAgIH0sXG4gIH0pO1xuXG4gIGlmICh0eXBpbmdVc2VyKSB7XG4gICAgaWYgKG1vZC50aW1lIC0gdHlwaW5nVXNlci50aW1lIDw9IFRZUElOR19USU1FT1VUIC0gMTAwKSByZXR1cm47XG4gIH1cblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBUeXBpbmcgaW5kaWNhdG9yIHVwZGF0ZSBlcnJvcjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgTWV0ZW9yLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc3RvcFR5cGluZyhtZWV0aW5nSWQsIHVzZXJJZCk7XG4gICAgfSwgVFlQSU5HX1RJTUVPVVQpO1xuICAgIHJldHVybiBMb2dnZXIuZGVidWcoYFR5cGluZyBpbmRpY2F0b3IgdXBkYXRlIGZvciB1c2VySWQ9eyR7dXNlcklkfX0gY2hhdElkPXske2NoYXRJZH19YCk7XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzVHlwaW5nLnVwc2VydChzZWxlY3RvciwgbW9kLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBVc2Vyc1R5cGluZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0b3BUeXBpbmcobWVldGluZ0lkLCB1c2VySWQsIHNlbmRNc2dJbml0aWF0ZWQgPSBmYWxzZSkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soc2VuZE1zZ0luaXRpYXRlZCwgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCB1c2VyID0gVXNlcnNUeXBpbmcuZmluZE9uZShzZWxlY3Rvcik7XG4gIGNvbnN0IHN0aWxsVHlwaW5nID0gIXNlbmRNc2dJbml0aWF0ZWQgJiYgdXNlciAmJiAobmV3IERhdGUoKSkgLSB1c2VyLnRpbWUgPCAzMDAwO1xuICBpZiAoc3RpbGxUeXBpbmcpIHJldHVybjtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBTdG9wIHVzZXI9JHt1c2VySWR9IHR5cGluZyBpbmRpY2F0b3IgZXJyb3I6ICR7ZXJyfWApO1xuICAgIH1cbiAgICByZXR1cm4gTG9nZ2VyLmRlYnVnKGBTdG9wcGVkIHR5cGluZyBpbmRpY2F0b3IgZm9yIHVzZXI9JHt1c2VySWR9YCk7XG4gIH07XG5cbiAgVXNlcnNUeXBpbmcucmVtb3ZlKHNlbGVjdG9yLCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZUdyb3VwQ2hhdHNNc2dzIGZyb20gJy4vaGFuZGxlcnMvZ3JvdXBDaGF0c01zZ3MnO1xuaW1wb3J0IGhhbmRsZUdyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCBmcm9tICcuL2hhbmRsZXJzL2dyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCc7XG5pbXBvcnQgaGFuZGxlQ2xlYXJQdWJsaWNHcm91cENoYXQgZnJvbSAnLi9oYW5kbGVycy9jbGVhclB1YmxpY0dyb3VwQ2hhdCc7XG5pbXBvcnQgaGFuZGxlVXNlclR5cGluZyBmcm9tICcuL2hhbmRsZXJzL3VzZXJUeXBpbmcnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5SZWRpc1B1YlN1Yi5vbignR2V0R3JvdXBDaGF0TXNnc1Jlc3BNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZUdyb3VwQ2hhdHNNc2dzKSk7XG5SZWRpc1B1YlN1Yi5vbignR3JvdXBDaGF0TWVzc2FnZUJyb2FkY2FzdEV2dE1zZycsIGhhbmRsZUdyb3VwQ2hhdE1zZ0Jyb2FkY2FzdCk7XG5SZWRpc1B1YlN1Yi5vbignQ2xlYXJQdWJsaWNDaGF0SGlzdG9yeUV2dE1zZycsIGhhbmRsZUNsZWFyUHVibGljR3JvdXBDaGF0KTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0R3JvdXBDaGF0TXNnc1Jlc3BNc2cnLCBoYW5kbGVHcm91cENoYXRzTXNncyk7XG5SZWRpc1B1YlN1Yi5vbignVXNlclR5cGluZ0V2dE1zZycsIGhhbmRsZVVzZXJUeXBpbmcpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgc2VuZEdyb3VwQ2hhdE1zZyBmcm9tICcuL21ldGhvZHMvc2VuZEdyb3VwQ2hhdE1zZyc7XG5pbXBvcnQgY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSBmcm9tICcuL21ldGhvZHMvY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSc7XG5pbXBvcnQgc3RhcnRVc2VyVHlwaW5nIGZyb20gJy4vbWV0aG9kcy9zdGFydFVzZXJUeXBpbmcnO1xuaW1wb3J0IHN0b3BVc2VyVHlwaW5nIGZyb20gJy4vbWV0aG9kcy9zdG9wVXNlclR5cGluZyc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgc2VuZEdyb3VwQ2hhdE1zZyxcbiAgY2xlYXJQdWJsaWNDaGF0SGlzdG9yeSxcbiAgc3RhcnRVc2VyVHlwaW5nLFxuICBzdG9wVXNlclR5cGluZyxcbn0pO1xuIiwiaW1wb3J0IHsgR3JvdXBDaGF0TXNnLCBVc2Vyc1R5cGluZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGdyb3VwQ2hhdE1zZyhjaGF0c0lkcykge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIEdyb3VwQ2hhdE1zZy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IENIQVRfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy5jaGF0O1xuICBjb25zdCBQVUJMSUNfR1JPVVBfQ0hBVF9JRCA9IENIQVRfQ09ORklHLnB1YmxpY19ncm91cF9pZDtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgZ3JvdXAtY2hhdC1tc2cgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gR3JvdXBDaGF0TXNnLmZpbmQoe1xuICAgICRvcjogW1xuICAgICAgeyBtZWV0aW5nSWQsIGNoYXRJZDogeyAkZXE6IFBVQkxJQ19HUk9VUF9DSEFUX0lEIH0gfSxcbiAgICAgIHsgY2hhdElkOiB7ICRpbjogY2hhdHNJZHMgfSB9LFxuICAgIF0sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRHcm91cENoYXQgPSBncm91cENoYXRNc2cuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kR3JvdXBDaGF0KC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnZ3JvdXAtY2hhdC1tc2cnLCBwdWJsaXNoKTtcblxuZnVuY3Rpb24gdXNlcnNUeXBpbmcoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVXNlcnNUeXBpbmcuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyB1c2Vycy10eXBpbmcgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gVXNlcnNUeXBpbmcuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHViaXNoVXNlcnNUeXBpbmcoLi4uYXJncykge1xuICBjb25zdCBib3VuZFVzZXJzVHlwaW5nID0gdXNlcnNUeXBpbmcuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVXNlcnNUeXBpbmcoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd1c2Vycy10eXBpbmcnLCBwdWJpc2hVc2Vyc1R5cGluZyk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgR3JvdXBDaGF0TXNnID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ2dyb3VwLWNoYXQtbXNnJyk7XG5jb25zdCBVc2Vyc1R5cGluZyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd1c2Vycy10eXBpbmcnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBHcm91cENoYXRNc2cuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCBjaGF0SWQ6IDEgfSk7XG4gIFVzZXJzVHlwaW5nLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgaXNUeXBpbmdUbzogMSB9KTtcbn1cblxuZXhwb3J0IHsgR3JvdXBDaGF0TXNnLCBVc2Vyc1R5cGluZyB9O1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHNldEd1ZXN0U3RhdHVzIGZyb20gJy4uL21vZGlmaWVycy9zZXRHdWVzdFN0YXR1cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUd1ZXN0QXBwcm92ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IGFwcHJvdmVkQnksIGd1ZXN0cyB9ID0gYm9keTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhhcHByb3ZlZEJ5LCBTdHJpbmcpO1xuICBjaGVjayhndWVzdHMsIEFycmF5KTtcblxuICByZXR1cm4gZ3Vlc3RzLmZvckVhY2goZ3Vlc3QgPT4gc2V0R3Vlc3RTdGF0dXMobWVldGluZ0lkLCBndWVzdC5ndWVzdCwgZ3Vlc3Quc3RhdHVzLCBhcHByb3ZlZEJ5KSk7XG59XG4iLCJpbXBvcnQgc3RyaW5nSGFzaCBmcm9tICdzdHJpbmctaGFzaCc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgR3Vlc3RVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMvJztcblxuY29uc3QgQ09MT1JfTElTVCA9IFtcbiAgJyM3YjFmYTInLCAnIzZhMWI5YScsICcjNGExNDhjJywgJyM1ZTM1YjEnLCAnIzUxMmRhOCcsICcjNDUyN2EwJyxcbiAgJyMzMTFiOTInLCAnIzM5NDlhYicsICcjMzAzZjlmJywgJyMyODM1OTMnLCAnIzFhMjM3ZScsICcjMTk3NmQyJywgJyMxNTY1YzAnLFxuICAnIzBkNDdhMScsICcjMDI3N2JkJywgJyMwMTU3OWInLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlR3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBndWVzdHMgfSA9IGJvZHk7XG4gIGNoZWNrKGd1ZXN0cywgQXJyYXkpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIGd1ZXN0IHVzZXIgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBudW1DaGFuZ2VkO1xuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIGd1ZXN0IHVzZXIgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwc2VydGVkIGd1ZXN0IHVzZXIgbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gZ3Vlc3RzLm1hcChndWVzdCA9PiBHdWVzdFVzZXJzLnVwc2VydCh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkOiBndWVzdC5pbnRJZCxcbiAgfSwge1xuICAgIGFwcHJvdmVkOiBmYWxzZSxcbiAgICBkZW5pZWQ6IGZhbHNlLFxuICAgIC4uLmd1ZXN0LFxuICAgIG1lZXRpbmdJZCxcbiAgICBsb2dpblRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgIGNvbG9yOiBDT0xPUl9MSVNUW3N0cmluZ0hhc2goZ3Vlc3QuaW50SWQpICUgQ09MT1JfTElTVC5sZW5ndGhdLFxuICB9LCBjYikpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuY29uc3QgRVZFTlRfTkFNRSA9ICdHdWVzdHNXYWl0aW5nQXBwcm92ZWRNc2cnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhbGxvd1BlbmRpbmdVc2VycyhndWVzdHMsIHN0YXR1cykge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKGd1ZXN0cywgQXJyYXkpO1xuICBjb25zdCBtYXBwZWRHdWVzdHMgPSBndWVzdHMubWFwKGd1ZXN0ID0+ICh7IHN0YXR1cywgZ3Vlc3Q6IGd1ZXN0LmludElkIH0pKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGFwcHJvdmVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBndWVzdHM6IG1hcHBlZEd1ZXN0cyxcbiAgfTtcblxuICBMb2dnZXIuaW5mbyhgVXNlcj0ke3JlcXVlc3RlclVzZXJJZH0gJHtzdGF0dXN9IGd1ZXN0cyAke0pTT04uc3RyaW5naWZ5KG1hcHBlZEd1ZXN0cyl9YCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG5jb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG5jb25zdCBFVkVOVF9OQU1FID0gJ1NldEd1ZXN0UG9saWN5Q21kTXNnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlR3Vlc3RQb2xpY3kocG9saWN5UnVsZSkge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHBvbGljeVJ1bGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBzZXRCeTogcmVxdWVzdGVyVXNlcklkLFxuICAgIHBvbGljeTogcG9saWN5UnVsZSxcbiAgfTtcblxuICBMb2dnZXIuaW5mbyhgVXNlcj0ke3JlcXVlc3RlclVzZXJJZH0gY2hhbmdlIGd1ZXN0IHBvbGljeSB0byAke3BvbGljeVJ1bGV9YCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgR3Vlc3RVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvZ3Vlc3QtdXNlcnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5jb25zdCBHVUVTVF9TVEFUVVNfQUxMT1cgPSAnQUxMT1cnO1xuY29uc3QgR1VFU1RfU1RBVFVTX0RFTlkgPSAnREVOWSc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRHdWVzdFN0YXR1cyhtZWV0aW5nSWQsIGludElkLCBzdGF0dXMsIGFwcHJvdmVkQnkgPSBudWxsKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soaW50SWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0YXR1cywgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgYXBwcm92ZWQ6IHN0YXR1cyA9PT0gR1VFU1RfU1RBVFVTX0FMTE9XLFxuICAgICAgZGVuaWVkOiBzdGF0dXMgPT09IEdVRVNUX1NUQVRVU19ERU5ZLFxuICAgICAgYXBwcm92ZWRCeSxcbiAgICB9LFxuICB9O1xuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBzdGF0dXM9JHtzdGF0dXN9IHVzZXI9JHtpbnRJZH06ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBkYXRlZCBzdGF0dXM9JHtzdGF0dXN9IHVzZXI9JHtpbnRJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gR3Vlc3RVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IGhhbmRsZUd1ZXN0QXBwcm92ZWQgZnJvbSAnLi9oYW5kbGVycy9ndWVzdEFwcHJvdmVkJztcbmltcG9ydCBoYW5kbGVHdWVzdHNXYWl0aW5nRm9yQXBwcm92YWwgZnJvbSAnLi9oYW5kbGVycy9ndWVzdHNXYWl0aW5nRm9yQXBwcm92YWwnO1xuXG5SZWRpc1B1YlN1Yi5vbignR3Vlc3RzV2FpdGluZ0ZvckFwcHJvdmFsRXZ0TXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVHdWVzdHNXYWl0aW5nRm9yQXBwcm92YWwpKTtcblJlZGlzUHViU3ViLm9uKCdHdWVzdHNXYWl0aW5nQXBwcm92ZWRFdnRNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZUd1ZXN0QXBwcm92ZWQpKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGFsbG93UGVuZGluZ1VzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXIvbWV0aG9kcy9hbGxvd1BlbmRpbmdVc2Vycyc7XG5pbXBvcnQgY2hhbmdlR3Vlc3RQb2xpY3kgZnJvbSAnL2ltcG9ydHMvYXBpL2d1ZXN0LXVzZXJzL3NlcnZlci9tZXRob2RzL2NoYW5nZUd1ZXN0UG9saWN5JztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBhbGxvd1BlbmRpbmdVc2VycyxcbiAgY2hhbmdlR3Vlc3RQb2xpY3ksXG59KTtcbiIsImltcG9ydCBHdWVzdFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy8nO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gZ3Vlc3RVc2VycygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBHdWVzdFVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgUHVibGlzaGluZyBTbGlkZXMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gR3Vlc3RVc2Vycy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRTbGlkZXMgPSBndWVzdFVzZXJzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNsaWRlcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2d1ZXN0VXNlcicsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBNb25nbyB9IGZyb20gJ21ldGVvci9tb25nbyc7XG5cbmNvbnN0IEd1ZXN0VXNlcnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignZ3Vlc3RVc2VycycpO1xuXG5leHBvcnQgZGVmYXVsdCBHdWVzdFVzZXJzO1xuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2NhbFNldHRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncyc7XG5pbXBvcnQgc2V0Q2hhbmdlZExvY2FsU2V0dGluZ3MgZnJvbSAnLi4vbW9kaWZpZXJzL3NldENoYW5nZWRMb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBpZiAoIW1lZXRpbmdJZCB8fCAhcmVxdWVzdGVyVXNlcklkKSByZXR1cm47XG5cbiAgY2hlY2soc2V0dGluZ3MsIE9iamVjdCk7XG5cbiAgY29uc3QgdXNlckxvY2FsU2V0dGluZ3MgPSBMb2NhbFNldHRpbmdzXG4gICAgLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0sXG4gICAgICB7XG4gICAgICAgIGZpZWxkczogeyBzZXR0aW5nczogMSB9LFxuICAgICAgfSk7XG5cbiAgaWYgKCF1c2VyTG9jYWxTZXR0aW5ncyB8fCAhXy5pc0VxdWFsKHVzZXJMb2NhbFNldHRpbmdzLnNldHRpbmdzLCBzZXR0aW5ncykpIHtcbiAgICBzZXRDaGFuZ2VkTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgc2V0dGluZ3MpO1xuICB9XG59XG4iLCJpbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhckxvY2FsU2V0dGluZ3MobWVldGluZ0lkKSB7XG4gIHJldHVybiBMb2NhbFNldHRpbmdzLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgTG9jYWwgU2V0dGluZ3MgKCR7bWVldGluZ0lkfSlgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRDaGFuZ2VkTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQsIHVzZXJJZCwgc2V0dGluZ3MpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHNldHRpbmdzLCBPYmplY3QpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgc2V0dGluZ3MsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYCR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBkYXRlZCBzZXR0aW5ncyBmb3IgdXNlciAke3VzZXJJZH0gb24gbWVldGluZyAke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIExvY2FsU2V0dGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgdXNlckNoYW5nZWRMb2NhbFNldHRpbmdzIGZyb20gJy4vbWV0aG9kcy91c2VyQ2hhbmdlZExvY2FsU2V0dGluZ3MnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHVzZXJDaGFuZ2VkTG9jYWxTZXR0aW5ncyxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9jYWxTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbG9jYWwtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIGxvY2FsU2V0dGluZ3MoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gTG9jYWxTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBsb2NhbCBzZXR0aW5ncyBmb3IgdXNlcj0ke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gTG9jYWxTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkLCB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTG9jYWxTZXR0aW5ncyA9IGxvY2FsU2V0dGluZ3MuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kTG9jYWxTZXR0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ2xvY2FsLXNldHRpbmdzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgTG9jYWxTZXR0aW5ncyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdsb2NhbC1zZXR0aW5ncycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIExvY2FsU2V0dGluZ3MuX2Vuc3VyZUluZGV4KHtcbiAgICBtZWV0aW5nSWQ6IDEsIHVzZXJJZDogMSxcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvY2FsU2V0dGluZ3M7XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuY29uc3QgbG9nQ2xpZW50ID0gZnVuY3Rpb24gKHR5cGUsIGxvZ0Rlc2NyaXB0aW9uLCBsb2dDb2RlID0gJ3dhc19ub3RfcHJvdmlkZWQnLCBleHRyYUluZm8gPSB7fSwgdXNlckluZm8gPSB7fSkge1xuICBjb25zdCBjb25uZWN0aW9uSWQgPSB0aGlzLmNvbm5lY3Rpb24uaWQ7XG4gIGNvbnN0IFVzZXIgPSBVc2Vycy5maW5kT25lKHsgY29ubmVjdGlvbklkIH0pO1xuICBjb25zdCBsb2dDb250ZW50cyA9IHtcbiAgICBsb2dDb2RlLFxuICAgIGxvZ0Rlc2NyaXB0aW9uLFxuICAgIGNvbm5lY3Rpb25JZCxcbiAgICBleHRyYUluZm8sXG4gICAgdXNlckluZm8sXG4gIH07XG5cbiAgaWYgKFVzZXIpIHsgLy8gVE9ETy0tXG4gICAgaWYgKCh1c2VySW5mby5jcmVkZW50aWFscyAmJiBVc2VyLm1lZXRpbmdJZCA9PT0gdXNlckluZm8uY3JlZGVudGlhbHMubWVldGluZ0lkKVxuICAgICAgfHwgKCh1c2VySW5mby5tZWV0aW5nSWQgJiYgVXNlci5tZWV0aW5nSWQgPT09IHVzZXJJbmZvLm1lZXRpbmdJZCkpKSB7XG4gICAgICBsb2dDb250ZW50cy5leHRyYUluZm8udmFsaWRVc2VyID0gJ3ZhbGlkJztcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nQ29udGVudHMuZXh0cmFJbmZvLnZhbGlkVXNlciA9ICdpbnZhbGlkJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbG9nQ29udGVudHMuZXh0cmFJbmZvLnZhbGlkVXNlciA9ICdub3RGb3VuZCc7XG4gIH1cblxuICAvLyBJZiBJIGRvbid0IHBhc3MgbWVzc2FnZSwgbG9ncyB3aWxsIHN0YXJ0IHdpdGggYHVuZGVmaW5lZGBcbiAgTG9nZ2VyLmxvZyh7IG1lc3NhZ2U6IEpTT04uc3RyaW5naWZ5KGxvZ0NvbnRlbnRzKSwgbGV2ZWw6IHR5cGUgfSk7XG4gIC8vIExvZ2dlci5sb2coeyBtZXNzYWdlOiAnY2xpZW50LT5zZXJ2ZXInLCBsZXZlbDogdHlwZSwgbG9nQ29udGVudHMgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBsb2dDbGllbnQ7XG4iLCJpbXBvcnQgJy4vbWV0aG9kcyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBsb2dDbGllbnQgZnJvbSAnLi9tZXRob2RzL2xvZ0NsaWVudCc7XG5cbk1ldGVvci5tZXRob2RzKHsgbG9nQ2xpZW50IH0pO1xuIiwiaW1wb3J0IGhhbmRsZU1lZXRpbmdDcmVhdGlvbiBmcm9tICcuL21lZXRpbmdDcmVhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUdldEFsbE1lZXRpbmdzKHsgYm9keSB9KSB7XG4gIHJldHVybiBoYW5kbGVNZWV0aW5nQ3JlYXRpb24oeyBib2R5IH0pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZE1lZXRpbmcgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZE1lZXRpbmcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVNZWV0aW5nQ3JlYXRpb24oeyBib2R5IH0pIHtcbiAgY29uc3QgbWVldGluZyA9IGJvZHkucHJvcHM7XG4gIGNvbnN0IGR1cmF0aW9uSW5TZWNvZHMgPSAobWVldGluZy5kdXJhdGlvblByb3BzLmR1cmF0aW9uICogNjApO1xuICBtZWV0aW5nLmR1cmF0aW9uUHJvcHMudGltZVJlbWFpbmluZyA9IGR1cmF0aW9uSW5TZWNvZHM7XG4gIGNoZWNrKG1lZXRpbmcsIE9iamVjdCk7XG5cbiAgcmV0dXJuIGFkZE1lZXRpbmcobWVldGluZyk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgZGVzdHJveUV4dGVybmFsVmlkZW8gZnJvbSAnL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9kZXN0cm95RXh0ZXJuYWxWaWRlbyc7XG5pbXBvcnQgeyByZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgeyByZW1vdmVDdXJzb3JTdHJlYW1lciB9IGZyb20gJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlTWVldGluZ0Rlc3RydWN0aW9uKHsgYm9keSB9KSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBib2R5O1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgZGVzdHJveUV4dGVybmFsVmlkZW8obWVldGluZ0lkKTtcbiAgcmVtb3ZlQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpO1xuICByZW1vdmVDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5kZXN0cm95TWVldGluZ1F1ZXVlKG1lZXRpbmdJZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgbWVldGluZ0hhc0VuZGVkIGZyb20gJy4uL21vZGlmaWVycy9tZWV0aW5nSGFzRW5kZWQnO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgQnJlYWtvdXRzIGZyb20gJy9pbXBvcnRzL2FwaS9icmVha291dHMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy8nO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVNZWV0aW5nRW5kKHsgYm9keSB9KSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBib2R5O1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW0sIG1lZXRpbmdUeXBlKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGAke21lZXRpbmdUeXBlfSBlbmRpbmcgZXJyb3I6ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobnVtKSB7XG4gICAgICBVc2Vycy51cGRhdGUoeyBtZWV0aW5nSWQgfSxcbiAgICAgICAgeyAkc2V0OiB7IGNvbm5lY3Rpb25TdGF0dXM6ICdvZmZsaW5lJyB9IH0sXG4gICAgICAgIChlcnJvciwgbnVtQWZmZWN0ZWQpID0+IHtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIExvZ2dlci5lcnJvcihgRXJyb3IgbWFya2luZyBlbmRpbmcgJHttZWV0aW5nVHlwZX0gdXNlcnMgYXMgb2ZmbGluZTogJHttZWV0aW5nSWR9ICR7ZXJyfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChudW1BZmZlY3RlZCkge1xuICAgICAgICAgICAgTG9nZ2VyLmluZm8oYFN1Y2Nlc3MgbWFya2luZyBlbmRpbmcgJHttZWV0aW5nVHlwZX0gdXNlcnMgYXMgb2ZmbGluZTogJHttZWV0aW5nSWR9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIE1ldGVvci5zZXRUaW1lb3V0KCgpID0+IHsgbWVldGluZ0hhc0VuZGVkKG1lZXRpbmdJZCk7IH0sIDEwMDAwKTtcbiAgICB9XG4gIH07XG5cbiAgTWVldGluZ3MudXBkYXRlKHsgbWVldGluZ0lkIH0sXG4gICAgeyAkc2V0OiB7IG1lZXRpbmdFbmRlZDogdHJ1ZSB9IH0sXG4gICAgKGVyciwgbnVtKSA9PiB7IGNiKGVyciwgbnVtLCAnTWVldGluZycpOyB9KTtcblxuICBCcmVha291dHMudXBkYXRlKHsgcGFyZW50TWVldGluZ0lkOiBtZWV0aW5nSWQgfSxcbiAgICB7ICRzZXQ6IHsgbWVldGluZ0VuZGVkOiB0cnVlIH0gfSxcbiAgICAoZXJyLCBudW0pID0+IHsgY2IoZXJyLCBudW0sICdCcmVha291dCcpOyB9KTtcbn1cbiIsImltcG9ydCBjaGFuZ2VMb2NrU2V0dGluZ3MgZnJvbSAnLi4vbW9kaWZpZXJzL2NoYW5nZUxvY2tTZXR0aW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUxvY2tTZXR0aW5nc0luTWVldGluZyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIHJldHVybiBjaGFuZ2VMb2NrU2V0dGluZ3MobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IFJlY29yZE1lZXRpbmdzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUmVjb3JkaW5nU3RhdHVzQ2hhbmdlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyByZWNvcmRpbmcgfSA9IGJvZHk7XG4gIGNoZWNrKHJlY29yZGluZywgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHsgcmVjb3JkaW5nIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBDaGFuZ2luZyByZWNvcmQgc3RhdHVzOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYENoYW5nZWQgbWVldGluZyByZWNvcmQgc3RhdHVzIGlkPSR7bWVldGluZ0lkfSByZWNvcmRpbmc9JHtyZWNvcmRpbmd9YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBSZWNvcmRNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBSZWNvcmRNZWV0aW5ncyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVJlY29yZGluZ1N0YXR1c0NoYW5nZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdGltZSB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY2hlY2soYm9keSwge1xuICAgIHRpbWU6IE51bWJlcixcbiAgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHsgdGltZSB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgcmVjb3JkaW5nIHRpbWU6ICR7ZXJyfWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUmVjb3JkTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgTWVldGluZ1RpbWVSZW1haW5pbmcgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVUaW1lUmVtYWluaW5nVXBkYXRlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNoZWNrKGJvZHksIHtcbiAgICB0aW1lTGVmdEluU2VjOiBOdW1iZXIsXG4gIH0pO1xuICBjb25zdCB7IHRpbWVMZWZ0SW5TZWMgfSA9IGJvZHk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHRpbWVSZW1haW5pbmc6IHRpbWVMZWZ0SW5TZWMsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENoYW5naW5nIHJlY29yZGluZyB0aW1lOiAke2Vycn1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIE1lZXRpbmdUaW1lUmVtYWluaW5nLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBjaGFuZ2VVc2VyTG9jayBmcm9tICcuLi9tb2RpZmllcnMvY2hhbmdlVXNlckxvY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVMb2NrU2V0dGluZ3NJbk1lZXRpbmcoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICByZXR1cm4gY2hhbmdlVXNlckxvY2sobWVldGluZ0lkLCBib2R5KTtcbn1cbiIsImltcG9ydCBjaGFuZ2VXZWJjYW1Pbmx5TW9kZXJhdG9yIGZyb20gJy4uL21vZGlmaWVycy93ZWJjYW1Pbmx5TW9kZXJhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlV2ViY2FtT25seU1vZGVyYXRvcih7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIHJldHVybiBjaGFuZ2VXZWJjYW1Pbmx5TW9kZXJhdG9yKG1lZXRpbmdJZCwgYm9keSk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZW5kTWVldGluZygpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdMb2dvdXRBbmRFbmRNZWV0aW5nQ21kTXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuICBMb2dnZXIudmVyYm9zZShgTWVldGluZyAnJHttZWV0aW5nSWR9JyBpcyBkZXN0cm95ZWQgYnkgJyR7cmVxdWVzdGVyVXNlcklkfSdgKTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2dnbGVMb2NrU2V0dGluZ3MobG9ja1NldHRpbmdzUHJvcHMpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDaGFuZ2VMb2NrU2V0dGluZ3NJbk1lZXRpbmdDbWRNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKGxvY2tTZXR0aW5nc1Byb3BzLCB7XG4gICAgZGlzYWJsZUNhbTogQm9vbGVhbixcbiAgICBkaXNhYmxlTWljOiBCb29sZWFuLFxuICAgIGRpc2FibGVQcml2YXRlQ2hhdDogQm9vbGVhbixcbiAgICBkaXNhYmxlUHVibGljQ2hhdDogQm9vbGVhbixcbiAgICBkaXNhYmxlTm90ZTogQm9vbGVhbixcbiAgICBoaWRlVXNlckxpc3Q6IEJvb2xlYW4sXG4gICAgbG9ja2VkTGF5b3V0OiBCb29sZWFuLFxuICAgIGxvY2tPbkpvaW46IEJvb2xlYW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZTogQm9vbGVhbixcbiAgICBzZXRCeTogTWF0Y2guTWF5YmUoU3RyaW5nKSxcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGRpc2FibGVDYW0sXG4gICAgZGlzYWJsZU1pYyxcbiAgICBkaXNhYmxlUHJpdmF0ZUNoYXQ6IGRpc2FibGVQcml2Q2hhdCxcbiAgICBkaXNhYmxlUHVibGljQ2hhdDogZGlzYWJsZVB1YkNoYXQsXG4gICAgZGlzYWJsZU5vdGUsXG4gICAgaGlkZVVzZXJMaXN0LFxuICAgIGxvY2tlZExheW91dCxcbiAgICBsb2NrT25Kb2luLFxuICAgIGxvY2tPbkpvaW5Db25maWd1cmFibGUsXG4gIH0gPSBsb2NrU2V0dGluZ3NQcm9wcztcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGRpc2FibGVDYW0sXG4gICAgZGlzYWJsZU1pYyxcbiAgICBkaXNhYmxlUHJpdkNoYXQsXG4gICAgZGlzYWJsZVB1YkNoYXQsXG4gICAgZGlzYWJsZU5vdGUsXG4gICAgaGlkZVVzZXJMaXN0LFxuICAgIGxvY2tlZExheW91dCxcbiAgICBsb2NrT25Kb2luLFxuICAgIGxvY2tPbkpvaW5Db25maWd1cmFibGUsXG4gICAgc2V0Qnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgUmVjb3JkTWVldGluZ3MgfSBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9nZ2xlUmVjb3JkaW5nKCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBST0xFX01PREVSQVRPUiA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMudXNlci5yb2xlX21vZGVyYXRvcjtcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NldFJlY29yZGluZ1N0YXR1c0NtZE1zZyc7XG5cbiAgbGV0IG1lZXRpbmdSZWNvcmRlZDtcbiAgbGV0IGFsbG93ZWRUb1JlY29yZDtcblxuICBjb25zdCByZWNvcmRPYmplY3QgPSBSZWNvcmRNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuXG4gIGlmIChyZWNvcmRPYmplY3QgIT0gbnVsbCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFsbG93U3RhcnRTdG9wUmVjb3JkaW5nLFxuICAgICAgcmVjb3JkaW5nLFxuICAgICAgcmVjb3JkLFxuICAgIH0gPSByZWNvcmRPYmplY3Q7XG5cbiAgICBtZWV0aW5nUmVjb3JkZWQgPSByZWNvcmRpbmc7XG4gICAgYWxsb3dlZFRvUmVjb3JkID0gcmVjb3JkICYmIGFsbG93U3RhcnRTdG9wUmVjb3JkaW5nOyAvLyBUT0RPLS0gcmVtb3ZlIHNvbWUgZGF5XG4gIH1cblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHJlY29yZGluZzogIW1lZXRpbmdSZWNvcmRlZCxcbiAgICBzZXRCeTogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcbiAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGlmIChhbGxvd2VkVG9SZWNvcmQgJiYgISF1c2VyICYmIHVzZXIucm9sZSA9PT0gUk9MRV9NT0RFUkFUT1IpIHtcbiAgICBMb2dnZXIuaW5mbyhgU2V0dGluZyB0aGUgcmVjb3JkIHBhcmFtZXRlciB0byAkeyFtZWV0aW5nUmVjb3JkZWR9IGZvciAke21lZXRpbmdJZH0gYnkgJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG4gICAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2dnbGVXZWJjYW1zT25seUZvck1vZGVyYXRvcih3ZWJjYW1zT25seUZvck1vZGVyYXRvcikge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1VwZGF0ZVdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayh3ZWJjYW1zT25seUZvck1vZGVyYXRvciwgQm9vbGVhbik7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB3ZWJjYW1zT25seUZvck1vZGVyYXRvcixcbiAgICBzZXRCeTogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0cmFuc2ZlclVzZXIoZnJvbU1lZXRpbmdJZCwgdG9NZWV0aW5nSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdUcmFuc2ZlclVzZXJUb01lZXRpbmdSZXF1ZXN0TXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgZnJvbU1lZXRpbmdJZCxcbiAgICB0b01lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBMb2dnZXIudmVyYm9zZShgdXNlcklkICR7cmVxdWVzdGVyVXNlcklkfSB3YXMgdHJhbnNmZXJyZWQgZnJvbSBcbiAgbWVldGluZyAke2Zyb21NZWV0aW5nSWR9JyB0byBtZWV0aW5nICcke3RvTWVldGluZ0lkfWApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQge1xuICBjaGVjayxcbiAgTWF0Y2gsXG59IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgU2FuaXRpemVIVE1MIGZyb20gJ3Nhbml0aXplLWh0bWwnO1xuaW1wb3J0IE1lZXRpbmdzLCB7IFJlY29yZE1lZXRpbmdzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjcmVhdGVOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tZXRob2RzL2NyZWF0ZU5vdGUnO1xuaW1wb3J0IGNyZWF0ZUNhcHRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbWV0aG9kcy9jcmVhdGVDYXB0aW9ucyc7XG5pbXBvcnQgeyBhZGRBbm5vdGF0aW9uc1N0cmVhbWVyIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgeyBhZGRDdXJzb3JTdHJlYW1lciB9IGZyb20gJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyJztcbmltcG9ydCBCYW5uZWRVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL3N0b3JlL2Jhbm5lZFVzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkTWVldGluZyhtZWV0aW5nKSB7XG4gIGNvbnN0IG1lZXRpbmdJZCA9IG1lZXRpbmcubWVldGluZ1Byb3AuaW50SWQ7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhtZWV0aW5nLCB7XG4gICAgYnJlYWtvdXRQcm9wczoge1xuICAgICAgc2VxdWVuY2U6IE51bWJlcixcbiAgICAgIGZyZWVKb2luOiBCb29sZWFuLFxuICAgICAgYnJlYWtvdXRSb29tczogQXJyYXksXG4gICAgICBwYXJlbnRJZDogU3RyaW5nLFxuICAgICAgZW5hYmxlZDogQm9vbGVhbixcbiAgICAgIHJlY29yZDogQm9vbGVhbixcbiAgICAgIHByaXZhdGVDaGF0RW5hYmxlZDogQm9vbGVhbixcbiAgICB9LFxuICAgIG1lZXRpbmdQcm9wOiB7XG4gICAgICBpbnRJZDogU3RyaW5nLFxuICAgICAgZXh0SWQ6IFN0cmluZyxcbiAgICAgIGlzQnJlYWtvdXQ6IEJvb2xlYW4sXG4gICAgICBuYW1lOiBTdHJpbmcsXG4gICAgfSxcbiAgICB1c2Vyc1Byb3A6IHtcbiAgICAgIHdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yOiBCb29sZWFuLFxuICAgICAgZ3Vlc3RQb2xpY3k6IFN0cmluZyxcbiAgICAgIG1heFVzZXJzOiBOdW1iZXIsXG4gICAgICBhbGxvd01vZHNUb1VubXV0ZVVzZXJzOiBCb29sZWFuLFxuICAgIH0sXG4gICAgZHVyYXRpb25Qcm9wczoge1xuICAgICAgY3JlYXRlZFRpbWU6IE51bWJlcixcbiAgICAgIGR1cmF0aW9uOiBOdW1iZXIsXG4gICAgICBjcmVhdGVkRGF0ZTogU3RyaW5nLFxuICAgICAgbWF4SW5hY3Rpdml0eVRpbWVvdXRNaW51dGVzOiBOdW1iZXIsXG4gICAgICB3YXJuTWludXRlc0JlZm9yZU1heDogTnVtYmVyLFxuICAgICAgbWVldGluZ0V4cGlyZUlmTm9Vc2VySm9pbmVkSW5NaW51dGVzOiBOdW1iZXIsXG4gICAgICBtZWV0aW5nRXhwaXJlV2hlbkxhc3RVc2VyTGVmdEluTWludXRlczogTnVtYmVyLFxuICAgICAgdXNlckluYWN0aXZpdHlJbnNwZWN0VGltZXJJbk1pbnV0ZXM6IE51bWJlcixcbiAgICAgIHVzZXJJbmFjdGl2aXR5VGhyZXNob2xkSW5NaW51dGVzOiBOdW1iZXIsXG4gICAgICB1c2VyQWN0aXZpdHlTaWduUmVzcG9uc2VEZWxheUluTWludXRlczogTnVtYmVyLFxuICAgICAgdGltZVJlbWFpbmluZzogTnVtYmVyLFxuICAgIH0sXG4gICAgd2VsY29tZVByb3A6IHtcbiAgICAgIHdlbGNvbWVNc2c6IFN0cmluZyxcbiAgICAgIG1vZE9ubHlNZXNzYWdlOiBTdHJpbmcsXG4gICAgICB3ZWxjb21lTXNnVGVtcGxhdGU6IFN0cmluZyxcbiAgICB9LFxuICAgIHJlY29yZFByb3A6IE1hdGNoLk9iamVjdEluY2x1ZGluZyh7XG4gICAgICBhbGxvd1N0YXJ0U3RvcFJlY29yZGluZzogQm9vbGVhbixcbiAgICAgIGF1dG9TdGFydFJlY29yZGluZzogQm9vbGVhbixcbiAgICAgIHJlY29yZDogQm9vbGVhbixcbiAgICB9KSxcbiAgICBwYXNzd29yZDoge1xuICAgICAgdmlld2VyUGFzczogU3RyaW5nLFxuICAgICAgbW9kZXJhdG9yUGFzczogU3RyaW5nLFxuICAgIH0sXG4gICAgdm9pY2VQcm9wOiB7XG4gICAgICB2b2ljZUNvbmY6IFN0cmluZyxcbiAgICAgIGRpYWxOdW1iZXI6IFN0cmluZyxcbiAgICAgIHRlbFZvaWNlOiBTdHJpbmcsXG4gICAgICBtdXRlT25TdGFydDogQm9vbGVhbixcbiAgICB9LFxuICAgIHNjcmVlbnNoYXJlUHJvcHM6IHtcbiAgICAgIHJlZDVTY3JlZW5zaGFyZUlwOiBTdHJpbmcsXG4gICAgICByZWQ1U2NyZWVuc2hhcmVBcHA6IFN0cmluZyxcbiAgICAgIHNjcmVlbnNoYXJlQ29uZjogU3RyaW5nLFxuICAgIH0sXG4gICAgbWV0YWRhdGFQcm9wOiBPYmplY3QsXG4gICAgbG9ja1NldHRpbmdzUHJvcHM6IHtcbiAgICAgIGRpc2FibGVDYW06IEJvb2xlYW4sXG4gICAgICBkaXNhYmxlTWljOiBCb29sZWFuLFxuICAgICAgZGlzYWJsZVByaXZhdGVDaGF0OiBCb29sZWFuLFxuICAgICAgZGlzYWJsZVB1YmxpY0NoYXQ6IEJvb2xlYW4sXG4gICAgICBkaXNhYmxlTm90ZTogQm9vbGVhbixcbiAgICAgIGhpZGVVc2VyTGlzdDogQm9vbGVhbixcbiAgICAgIGxvY2tPbkpvaW46IEJvb2xlYW4sXG4gICAgICBsb2NrT25Kb2luQ29uZmlndXJhYmxlOiBCb29sZWFuLFxuICAgICAgbG9ja2VkTGF5b3V0OiBCb29sZWFuLFxuICAgIH0sXG4gIH0pO1xuXG4gIGNvbnN0IHtcbiAgICByZWNvcmRQcm9wLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gbWVldGluZztcblxuICBjb25zdCBuZXdNZWV0aW5nID0gcmVzdFByb3BzO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBuZXdNZWV0aW5nLmxvY2tTZXR0aW5nc1Byb3BzID0gT2JqZWN0LmFzc2lnbihtZWV0aW5nLmxvY2tTZXR0aW5nc1Byb3BzLCB7IHNldEJ5OiAndGVtcCcgfSk7XG5cbiAgY29uc3QgbWVldGluZ0VuZGVkID0gZmFsc2U7XG5cbiAgbGV0IHsgd2VsY29tZU1zZyB9ID0gbmV3TWVldGluZy53ZWxjb21lUHJvcDtcblxuICBjb25zdCBzYW5pdGl6ZVRleHRJbkNoYXQgPSBvcmlnaW5hbCA9PiBTYW5pdGl6ZUhUTUwob3JpZ2luYWwsIHtcbiAgICBhbGxvd2VkVGFnczogWydhJywgJ2InLCAnYnInLCAnaScsICdpbWcnLCAnbGknLCAnc21hbGwnLCAnc3BhbicsICdzdHJvbmcnLCAndScsICd1bCddLFxuICAgIGFsbG93ZWRBdHRyaWJ1dGVzOiB7XG4gICAgICBhOiBbJ2hyZWYnLCAnbmFtZScsICd0YXJnZXQnXSxcbiAgICAgIGltZzogWydzcmMnLCAnd2lkdGgnLCAnaGVpZ2h0J10sXG4gICAgfSxcbiAgICBhbGxvd2VkU2NoZW1lczogWydodHRwcyddLFxuICB9KTtcblxuICBjb25zdCBzYW5pdGl6ZWRXZWxjb21lVGV4dCA9IHNhbml0aXplVGV4dEluQ2hhdCh3ZWxjb21lTXNnKTtcbiAgd2VsY29tZU1zZyA9IHNhbml0aXplZFdlbGNvbWVUZXh0LnJlcGxhY2UoXG4gICAgJ2hyZWY9XCJldmVudDonLFxuICAgICdocmVmPVwiJyxcbiAgKTtcblxuICBjb25zdCBpbnNlcnRCbGFua1RhcmdldCA9IChzLCBpKSA9PiBgJHtzLnN1YnN0cigwLCBpKX0gdGFyZ2V0PVwiX2JsYW5rXCIke3Muc3Vic3RyKGkpfWA7XG4gIGNvbnN0IGxpbmtXaXRob3V0VGFyZ2V0ID0gbmV3IFJlZ0V4cCgnPGEgaHJlZj1cIiguKj8pXCI+JywgJ2cnKTtcbiAgbGlua1dpdGhvdXRUYXJnZXQudGVzdCh3ZWxjb21lTXNnKTtcblxuICBpZiAobGlua1dpdGhvdXRUYXJnZXQubGFzdEluZGV4ID4gMCkge1xuICAgIHdlbGNvbWVNc2cgPSBpbnNlcnRCbGFua1RhcmdldChcbiAgICAgIHdlbGNvbWVNc2csXG4gICAgICBsaW5rV2l0aG91dFRhcmdldC5sYXN0SW5kZXggLSAxLFxuICAgICk7XG4gIH1cblxuICBuZXdNZWV0aW5nLndlbGNvbWVQcm9wLndlbGNvbWVNc2cgPSB3ZWxjb21lTXNnO1xuXG4gIC8vIG5vdGU6IGFzIG9mIEp1bHkgMjAyMCBgbW9kT25seU1lc3NhZ2VgIGlzIG5vdCBwdWJsaXNoZWQgdG8gdGhlIGNsaWVudCBzaWRlLlxuICAvLyBXZSBhcmUgc2FuaXRpemluZyB0aGlzIGRhdGEgc2ltcGx5IHRvIHByZXZlbnQgZnV0dXJlIHBvdGVudGlhbCB1c2FnZVxuICAvLyBBdCB0aGUgbW9tZW50IGBtb2RPbmx5TWVzc2FnZWAgaXMgb2J0YWluZWQgZnJvbSBjbGllbnQgc2lkZSBhcyBhIHJlc3BvbnNlIHRvIEVudGVyIEFQSVxuICBuZXdNZWV0aW5nLndlbGNvbWVQcm9wLm1vZE9ubHlNZXNzYWdlID0gc2FuaXRpemVUZXh0SW5DaGF0KG5ld01lZXRpbmcud2VsY29tZVByb3AubW9kT25seU1lc3NhZ2UpO1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgbWVldGluZ0VuZGVkLFxuICAgICAgcHVibGlzaGVkUG9sbDogZmFsc2UsXG4gICAgfSwgZmxhdChuZXdNZWV0aW5nLCB7XG4gICAgICBzYWZlOiB0cnVlLFxuICAgIH0pKSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEFkZGluZyBtZWV0aW5nIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGluc2VydGVkSWQsXG4gICAgfSA9IG51bUNoYW5nZWQ7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIG1lZXRpbmcgaWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgICAvLyBUT0RPOiBIZXJlIHdlIGNhbGwgRXRoZXJwYWQgQVBJIHRvIGNyZWF0ZSB0aGlzIG1lZXRpbmcgbm90ZXMuIElzIHRoZXJlIGFcbiAgICAgIC8vIGJldHRlciBwbGFjZSB3ZSBjYW4gcnVuIHRoaXMgcG9zdC1jcmVhdGlvbiByb3V0aW5lP1xuICAgICAgY3JlYXRlTm90ZShtZWV0aW5nSWQpO1xuICAgICAgY3JlYXRlQ2FwdGlvbnMobWVldGluZ0lkKTtcbiAgICAgIEJhbm5lZFVzZXJzLmluaXQobWVldGluZ0lkKTtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFVwc2VydGVkIG1lZXRpbmcgaWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNiUmVjb3JkID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQWRkaW5nIHJlY29yZCBwcm9wIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIGluc2VydGVkSWQsXG4gICAgfSA9IG51bUNoYW5nZWQ7XG5cbiAgICBpZiAoaW5zZXJ0ZWRJZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFkZGVkIHJlY29yZCBwcm9wIGlkPSR7bWVldGluZ0lkfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgcmVjb3JkIHByb3AgaWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIFJlY29yZE1lZXRpbmdzLnVwc2VydChzZWxlY3Rvciwge1xuICAgIG1lZXRpbmdJZCxcbiAgICAuLi5yZWNvcmRQcm9wLFxuICB9LCBjYlJlY29yZCk7XG5cbiAgYWRkQW5ub3RhdGlvbnNTdHJlYW1lcihtZWV0aW5nSWQpO1xuICBhZGRDdXJzb3JTdHJlYW1lcihtZWV0aW5nSWQpO1xuXG4gIHJldHVybiBNZWV0aW5ncy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2hhbmdlTG9ja1NldHRpbmdzKG1lZXRpbmdJZCwgcGF5bG9hZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBheWxvYWQsIHtcbiAgICBkaXNhYmxlQ2FtOiBCb29sZWFuLFxuICAgIGRpc2FibGVNaWM6IEJvb2xlYW4sXG4gICAgZGlzYWJsZVByaXZDaGF0OiBCb29sZWFuLFxuICAgIGRpc2FibGVQdWJDaGF0OiBCb29sZWFuLFxuICAgIGRpc2FibGVOb3RlOiBCb29sZWFuLFxuICAgIGhpZGVVc2VyTGlzdDogQm9vbGVhbixcbiAgICBsb2NrZWRMYXlvdXQ6IEJvb2xlYW4sXG4gICAgbG9ja09uSm9pbjogQm9vbGVhbixcbiAgICBsb2NrT25Kb2luQ29uZmlndXJhYmxlOiBCb29sZWFuLFxuICAgIHNldEJ5OiBNYXRjaC5NYXliZShTdHJpbmcpLFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgZGlzYWJsZUNhbSxcbiAgICBkaXNhYmxlTWljLFxuICAgIGRpc2FibGVQcml2Q2hhdCxcbiAgICBkaXNhYmxlUHViQ2hhdCxcbiAgICBkaXNhYmxlTm90ZSxcbiAgICBoaWRlVXNlckxpc3QsXG4gICAgbG9ja2VkTGF5b3V0LFxuICAgIGxvY2tPbkpvaW4sXG4gICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZSxcbiAgICBzZXRCeSxcbiAgfSA9IHBheWxvYWQ7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGxvY2tTZXR0aW5nc1Byb3BzOiB7XG4gICAgICAgIGRpc2FibGVDYW0sXG4gICAgICAgIGRpc2FibGVNaWMsXG4gICAgICAgIGRpc2FibGVQcml2YXRlQ2hhdDogZGlzYWJsZVByaXZDaGF0LFxuICAgICAgICBkaXNhYmxlUHVibGljQ2hhdDogZGlzYWJsZVB1YkNoYXQsXG4gICAgICAgIGRpc2FibGVOb3RlLFxuICAgICAgICBoaWRlVXNlckxpc3QsXG4gICAgICAgIGxvY2tlZExheW91dCxcbiAgICAgICAgbG9ja09uSm9pbixcbiAgICAgICAgbG9ja09uSm9pbkNvbmZpZ3VyYWJsZSxcbiAgICAgICAgc2V0QnksXG4gICAgICB9LFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgbWVldGluZz17JHttZWV0aW5nSWR9fSBsb2NrIHNldHRpbmdzOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBpZiAoIW51bUNoYW5nZWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgbWVldGluZz17JHttZWV0aW5nSWR9fSBsb2NrIHNldHRpbmdzIHdlcmUgbm90IHVwZGF0ZWRgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYENoYW5nZWQgbWVldGluZz17JHttZWV0aW5nSWR9fSB1cGRhdGVkIGxvY2sgc2V0dGluZ3NgKTtcbiAgfTtcblxuICByZXR1cm4gTWVldGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZVVzZXJMb2NrKG1lZXRpbmdJZCwgcGF5bG9hZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBheWxvYWQsIHtcbiAgICB1c2VySWQ6IFN0cmluZyxcbiAgICBsb2NrZWQ6IEJvb2xlYW4sXG4gICAgbG9ja2VkQnk6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3QgeyB1c2VySWQsIGxvY2tlZCwgbG9ja2VkQnkgfSA9IHBheWxvYWQ7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBsb2NrZWQsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBDaGFuZ2luZyB1c2VyIGxvY2sgc2V0dGluZzogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKCFudW1DaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVzZXIncyB1c2VySWQ9JHt1c2VySWR9IGxvY2sgc3RhdHVzIHdhc24ndCB1cGRhdGVkYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVc2VyJ3MgdXNlcklkPSR7dXNlcklkfSBsb2NrIHN0YXR1cyB3YXMgY2hhbmdlZCB0bzogJHtsb2NrZWR9IGJ5IHVzZXIgdXNlcklkPSR7bG9ja2VkQnl9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IFJlY29yZE1lZXRpbmdzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVldGluZ0hhc0VuZGVkKG1lZXRpbmdJZCkge1xuICByZXR1cm4gUmVjb3JkTWVldGluZ3MucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IExvZ2dlci5pbmZvKGBDbGVhcmVkIHJlY29yZCBwcm9wIGZyb20gbWVldGluZyB3aXRoIGlkICR7bWVldGluZ0lkfWApKTtcbn1cbiIsImltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5pbXBvcnQgeyByZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlci9zdHJlYW1lcic7XG5pbXBvcnQgeyByZW1vdmVDdXJzb3JTdHJlYW1lciB9IGZyb20gJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyL3N0cmVhbWVyJztcblxuaW1wb3J0IGNsZWFyVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2Vycyc7XG5pbXBvcnQgY2xlYXJVc2Vyc1NldHRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1zZXR0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlcnNTZXR0aW5ncyc7XG5pbXBvcnQgY2xlYXJHcm91cENoYXQgZnJvbSAnL2ltcG9ydHMvYXBpL2dyb3VwLWNoYXQvc2VydmVyL21vZGlmaWVycy9jbGVhckdyb3VwQ2hhdCc7XG5pbXBvcnQgY2xlYXJCcmVha291dHMgZnJvbSAnL2ltcG9ydHMvYXBpL2JyZWFrb3V0cy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQnJlYWtvdXRzJztcbmltcG9ydCBjbGVhckFubm90YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQW5ub3RhdGlvbnMnO1xuaW1wb3J0IGNsZWFyU2xpZGVzIGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMvc2VydmVyL21vZGlmaWVycy9jbGVhclNsaWRlcyc7XG5pbXBvcnQgY2xlYXJQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMvc2VydmVyL21vZGlmaWVycy9jbGVhclBvbGxzJztcbmltcG9ydCBjbGVhckNhcHRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQ2FwdGlvbnMnO1xuaW1wb3J0IGNsZWFyUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyL21vZGlmaWVycy9jbGVhclByZXNlbnRhdGlvblBvZHMnO1xuaW1wb3J0IGNsZWFyVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvc2VydmVyL21vZGlmaWVycy9jbGVhclZvaWNlVXNlcnMnO1xuaW1wb3J0IGNsZWFyVXNlckluZm8gZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLWluZm9zL3NlcnZlci9tb2RpZmllcnMvY2xlYXJVc2VySW5mbyc7XG5pbXBvcnQgY2xlYXJOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvY2xlYXJOb3RlJztcbmltcG9ydCBjbGVhck5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbi9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyTmV0d29ya0luZm9ybWF0aW9uJztcbmltcG9ydCBjbGVhckxvY2FsU2V0dGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL2xvY2FsLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvY2xlYXJMb2NhbFNldHRpbmdzJztcbmltcG9ydCBjbGVhclJlY29yZE1lZXRpbmcgZnJvbSAnLi9jbGVhclJlY29yZE1lZXRpbmcnO1xuaW1wb3J0IGNsZWFyVm9pY2VDYWxsU3RhdGVzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS1jYWxsLXN0YXRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVm9pY2VDYWxsU3RhdGVzJztcbmltcG9ydCBjbGVhclZpZGVvU3RyZWFtcyBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVmlkZW9TdHJlYW1zJztcbmltcG9ydCBCYW5uZWRVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL3N0b3JlL2Jhbm5lZFVzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVldGluZ0hhc0VuZGVkKG1lZXRpbmdJZCkge1xuICByZW1vdmVBbm5vdGF0aW9uc1N0cmVhbWVyKG1lZXRpbmdJZCk7XG4gIHJlbW92ZUN1cnNvclN0cmVhbWVyKG1lZXRpbmdJZCk7XG5cbiAgcmV0dXJuIE1lZXRpbmdzLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgY2xlYXJDYXB0aW9ucyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyR3JvdXBDaGF0KG1lZXRpbmdJZCk7XG4gICAgY2xlYXJQcmVzZW50YXRpb25Qb2RzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJCcmVha291dHMobWVldGluZ0lkKTtcbiAgICBjbGVhclBvbGxzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJBbm5vdGF0aW9ucyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyU2xpZGVzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJVc2VycyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVXNlcnNTZXR0aW5ncyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVm9pY2VVc2VycyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVXNlckluZm8obWVldGluZ0lkKTtcbiAgICBjbGVhck5vdGUobWVldGluZ0lkKTtcbiAgICBjbGVhck5ldHdvcmtJbmZvcm1hdGlvbihtZWV0aW5nSWQpO1xuICAgIGNsZWFyTG9jYWxTZXR0aW5ncyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyUmVjb3JkTWVldGluZyhtZWV0aW5nSWQpO1xuICAgIGNsZWFyVm9pY2VDYWxsU3RhdGVzKG1lZXRpbmdJZCk7XG4gICAgY2xlYXJWaWRlb1N0cmVhbXMobWVldGluZ0lkKTtcbiAgICBCYW5uZWRVc2Vycy5kZWxldGUobWVldGluZ0lkKTtcblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBNZWV0aW5ncyB3aXRoIGlkICR7bWVldGluZ0lkfWApO1xuICB9KTtcbn1cbiIsImltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQdWJsaXNoZWRQb2xsKG1lZXRpbmdJZCwgaXNQdWJsaXNoZWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhpc1B1Ymxpc2hlZCwgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHB1Ymxpc2hlZFBvbGw6IGlzUHVibGlzaGVkLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBTZXR0aW5nIHB1Ymxpc2hlZFBvbGw9JHtpc1B1Ymxpc2hlZH0gZm9yIG1lZXRpbmdJZD0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFNldCBwdWJsaXNoZWRQb2xsPSR7aXNQdWJsaXNoZWR9IGluIG1lZWl0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIE1lZXRpbmdzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VXZWJjYW1Pbmx5TW9kZXJhdG9yKG1lZXRpbmdJZCwgcGF5bG9hZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBheWxvYWQsIHtcbiAgICB3ZWJjYW1zT25seUZvck1vZGVyYXRvcjogQm9vbGVhbixcbiAgICBzZXRCeTogU3RyaW5nLFxuICB9KTtcbiAgY29uc3QgeyB3ZWJjYW1zT25seUZvck1vZGVyYXRvciB9ID0gcGF5bG9hZDtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgJ3VzZXJzUHJvcC53ZWJjYW1zT25seUZvck1vZGVyYXRvcic6IHdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQ2hhbmd3aW5nIG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gd2ViY2FtIE9ubHkgZm9yIE1vZGVyYXRvcjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKCFudW1DaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gd2ViY2FtIE9ubHkgZm9yIE1vZGVyYXRvciB3ZXJlIG5vdCB1cGRhdGVkYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBDaGFuZ2VkIG1lZXRpbmc9eyR7bWVldGluZ0lkfX0gdXBkYXRlZCB3ZWJjYW0gT25seSBmb3IgTW9kZXJhdG9yYCk7XG4gIH07XG5cbiAgcmV0dXJuIE1lZXRpbmdzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlTWVldGluZ0NyZWF0aW9uIGZyb20gJy4vaGFuZGxlcnMvbWVldGluZ0NyZWF0aW9uJztcbmltcG9ydCBoYW5kbGVHZXRBbGxNZWV0aW5ncyBmcm9tICcuL2hhbmRsZXJzL2dldEFsbE1lZXRpbmdzJztcbmltcG9ydCBoYW5kbGVNZWV0aW5nRW5kIGZyb20gJy4vaGFuZGxlcnMvbWVldGluZ0VuZCc7XG5pbXBvcnQgaGFuZGxlTWVldGluZ0Rlc3RydWN0aW9uIGZyb20gJy4vaGFuZGxlcnMvbWVldGluZ0Rlc3RydWN0aW9uJztcbmltcG9ydCBoYW5kbGVNZWV0aW5nTG9ja3NDaGFuZ2UgZnJvbSAnLi9oYW5kbGVycy9tZWV0aW5nTG9ja0NoYW5nZSc7XG5pbXBvcnQgaGFuZGxlVXNlckxvY2tDaGFuZ2UgZnJvbSAnLi9oYW5kbGVycy91c2VyTG9ja0NoYW5nZSc7XG5pbXBvcnQgaGFuZGxlUmVjb3JkaW5nU3RhdHVzQ2hhbmdlIGZyb20gJy4vaGFuZGxlcnMvcmVjb3JkaW5nU3RhdHVzQ2hhbmdlJztcbmltcG9ydCBoYW5kbGVSZWNvcmRpbmdUaW1lckNoYW5nZSBmcm9tICcuL2hhbmRsZXJzL3JlY29yZGluZ1RpbWVyQ2hhbmdlJztcbmltcG9ydCBoYW5kbGVUaW1lUmVtYWluaW5nVXBkYXRlIGZyb20gJy4vaGFuZGxlcnMvdGltZVJlbWFpbmluZ1VwZGF0ZSc7XG5pbXBvcnQgaGFuZGxlQ2hhbmdlV2ViY2FtT25seU1vZGVyYXRvciBmcm9tICcuL2hhbmRsZXJzL3dlYmNhbU9ubHlNb2RlcmF0b3InO1xuXG5SZWRpc1B1YlN1Yi5vbignTWVldGluZ0NyZWF0ZWRFdnRNc2cnLCBoYW5kbGVNZWV0aW5nQ3JlYXRpb24pO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRNZWV0aW5nSW5mb1Jlc3BNc2cnLCBoYW5kbGVHZXRBbGxNZWV0aW5ncyk7XG5SZWRpc1B1YlN1Yi5vbignTWVldGluZ0VuZGluZ0V2dE1zZycsIGhhbmRsZU1lZXRpbmdFbmQpO1xuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdEZXN0cm95ZWRFdnRNc2cnLCBoYW5kbGVNZWV0aW5nRGVzdHJ1Y3Rpb24pO1xuUmVkaXNQdWJTdWIub24oJ0xvY2tTZXR0aW5nc0luTWVldGluZ0NoYW5nZWRFdnRNc2cnLCBoYW5kbGVNZWV0aW5nTG9ja3NDaGFuZ2UpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJMb2NrZWRJbk1lZXRpbmdFdnRNc2cnLCBoYW5kbGVVc2VyTG9ja0NoYW5nZSk7XG5SZWRpc1B1YlN1Yi5vbignUmVjb3JkaW5nU3RhdHVzQ2hhbmdlZEV2dE1zZycsIGhhbmRsZVJlY29yZGluZ1N0YXR1c0NoYW5nZSk7XG5SZWRpc1B1YlN1Yi5vbignVXBkYXRlUmVjb3JkaW5nVGltZXJFdnRNc2cnLCBoYW5kbGVSZWNvcmRpbmdUaW1lckNoYW5nZSk7XG5SZWRpc1B1YlN1Yi5vbignV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3JDaGFuZ2VkRXZ0TXNnJywgaGFuZGxlQ2hhbmdlV2ViY2FtT25seU1vZGVyYXRvcik7XG5SZWRpc1B1YlN1Yi5vbignR2V0TG9ja1NldHRpbmdzUmVzcE1zZycsIGhhbmRsZU1lZXRpbmdMb2Nrc0NoYW5nZSk7XG5SZWRpc1B1YlN1Yi5vbignTWVldGluZ1RpbWVSZW1haW5pbmdVcGRhdGVFdnRNc2cnLCBoYW5kbGVUaW1lUmVtYWluaW5nVXBkYXRlKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGVuZE1lZXRpbmcgZnJvbSAnLi9tZXRob2RzL2VuZE1lZXRpbmcnO1xuaW1wb3J0IHRvZ2dsZVJlY29yZGluZyBmcm9tICcuL21ldGhvZHMvdG9nZ2xlUmVjb3JkaW5nJztcbmltcG9ydCB0cmFuc2ZlclVzZXIgZnJvbSAnLi9tZXRob2RzL3RyYW5zZmVyVXNlcic7XG5pbXBvcnQgdG9nZ2xlTG9ja1NldHRpbmdzIGZyb20gJy4vbWV0aG9kcy90b2dnbGVMb2NrU2V0dGluZ3MnO1xuaW1wb3J0IHRvZ2dsZVdlYmNhbXNPbmx5Rm9yTW9kZXJhdG9yIGZyb20gJy4vbWV0aG9kcy90b2dnbGVXZWJjYW1zT25seUZvck1vZGVyYXRvcic7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgZW5kTWVldGluZyxcbiAgdG9nZ2xlUmVjb3JkaW5nLFxuICB0b2dnbGVMb2NrU2V0dGluZ3MsXG4gIHRyYW5zZmVyVXNlcixcbiAgdG9nZ2xlV2ViY2Ftc09ubHlGb3JNb2RlcmF0b3IsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IE1lZXRpbmdzLCB7IFJlY29yZE1lZXRpbmdzLCBNZWV0aW5nVGltZVJlbWFpbmluZyB9IGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBST0xFX01PREVSQVRPUiA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMudXNlci5yb2xlX21vZGVyYXRvcjtcblxuZnVuY3Rpb24gbWVldGluZ3Mocm9sZSkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIE1lZXRpbmdzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIG1lZXRpbmcgPSR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICAkb3I6IFtcbiAgICAgIHsgbWVldGluZ0lkIH0sXG4gICAgXSxcbiAgfTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7IHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLCBtZWV0aW5nSWQgfSwgeyBmaWVsZHM6IHsgcm9sZTogMSB9IH0pO1xuICBpZiAoISFVc2VyICYmIFVzZXIucm9sZSA9PT0gUk9MRV9NT0RFUkFUT1IpIHtcbiAgICBzZWxlY3Rvci4kb3IucHVzaCh7XG4gICAgICAnbWVldGluZ1Byb3AuaXNCcmVha291dCc6IHRydWUsXG4gICAgICAnYnJlYWtvdXRQcm9wcy5wYXJlbnRJZCc6IG1lZXRpbmdJZCxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwYXNzd29yZDogZmFsc2UsXG4gICAgICAnd2VsY29tZVByb3AubW9kT25seU1lc3NhZ2UnOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBNZWV0aW5ncy5maW5kKHNlbGVjdG9yLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTWVldGluZ3MgPSBtZWV0aW5ncy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRNZWV0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ21lZXRpbmdzJywgcHVibGlzaCk7XG5cbmZ1bmN0aW9uIHJlY29yZE1lZXRpbmdzKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFJlY29yZE1lZXRpbmdzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIHJldHVybiBSZWNvcmRNZWV0aW5ncy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuZnVuY3Rpb24gcmVjb3JkUHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUmVjb3JkTWVldGluZ3MgPSByZWNvcmRNZWV0aW5ncy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRSZWNvcmRNZWV0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3JlY29yZC1tZWV0aW5ncycsIHJlY29yZFB1Ymxpc2gpO1xuXG5mdW5jdGlvbiBtZWV0aW5nVGltZVJlbWFpbmluZygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBNZWV0aW5nVGltZVJlbWFpbmluZy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICByZXR1cm4gTWVldGluZ1RpbWVSZW1haW5pbmcuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cbmZ1bmN0aW9uIHRpbWVSZW1haW5pbmdQdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmR0aW1lUmVtYWluaW5nID0gbWVldGluZ1RpbWVSZW1haW5pbmcuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kdGltZVJlbWFpbmluZyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ21lZXRpbmctdGltZS1yZW1haW5pbmcnLCB0aW1lUmVtYWluaW5nUHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgTWVldGluZ3MgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignbWVldGluZ3MnKTtcbmNvbnN0IFJlY29yZE1lZXRpbmdzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3JlY29yZC1tZWV0aW5ncycpO1xuY29uc3QgTWVldGluZ1RpbWVSZW1haW5pbmcgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignbWVldGluZy10aW1lLXJlbWFpbmluZycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBtZWV0aW5nczpcbiAgLy8gMS4gbWVldGluZ0lkXG5cbiAgTWVldGluZ3MuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xuICBSZWNvcmRNZWV0aW5ncy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEgfSk7XG4gIE1lZXRpbmdUaW1lUmVtYWluaW5nLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSB9KTtcbn1cblxuZXhwb3J0IHtcbiAgUmVjb3JkTWVldGluZ3MsXG4gIE1lZXRpbmdUaW1lUmVtYWluaW5nLFxufTtcbmV4cG9ydCBkZWZhdWx0IE1lZXRpbmdzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IE5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlckluc3RhYmlsaXR5RGV0ZWN0ZWQoc2VuZGVyKSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHJlY2VpdmVyIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhzZW5kZXIsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVjZWl2ZXIsXG4gICAgc2VuZGVyLFxuICB9O1xuXG4gIExvZ2dlci5kZWJ1ZyhgUmVjZWl2ZXIgJHtyZWNlaXZlcn0gcmVwb3J0ZWQgYSBuZXR3b3JrIGluc3RhYmlsaXR5IGluIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG5cbiAgcmV0dXJuIE5ldHdvcmtJbmZvcm1hdGlvbi5pbnNlcnQocGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgTmV0d29ya0luZm9ybWF0aW9uIGZyb20gJy9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJOZXR3b3JrSW5mb3JtYXRpb24obWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gTmV0d29ya0luZm9ybWF0aW9uLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBOZXR3b3JrIEluZm9ybWF0aW9uICgke21lZXRpbmdJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gTmV0d29ya0luZm9ybWF0aW9uLnJlbW92ZSh7fSwgKCkgPT4ge1xuICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIE5ldHdvcmsgSW5mb3JtYXRpb24gKGFsbCknKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVyJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHVzZXJJbnN0YWJpbGl0eURldGVjdGVkIGZyb20gJy4vbWV0aG9kcy91c2VySW5zdGFiaWxpdHlEZXRlY3RlZCc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgdXNlckluc3RhYmlsaXR5RGV0ZWN0ZWQsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IE5ldHdvcmtJbmZvcm1hdGlvbiBmcm9tICcvaW1wb3J0cy9hcGkvbmV0d29yay1pbmZvcm1hdGlvbic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gbmV0d29ya0luZm9ybWF0aW9uKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIE5ldHdvcmtJbmZvcm1hdGlvbi5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICByZXR1cm4gTmV0d29ya0luZm9ybWF0aW9uLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZE5ldHdvcmtJbmZvcm1hdGlvbiA9IG5ldHdvcmtJbmZvcm1hdGlvbi5iaW5kKHRoaXMpO1xuXG4gIHJldHVybiBib3VuZE5ldHdvcmtJbmZvcm1hdGlvbiguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ25ldHdvcmstaW5mb3JtYXRpb24nLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBOZXR3b3JrSW5mb3JtYXRpb24gPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignbmV0d29yay1pbmZvcm1hdGlvbicpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIE5ldHdvcmtJbmZvcm1hdGlvbi5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5ldHdvcmtJbmZvcm1hdGlvbjtcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB1cGRhdGVOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlL3NlcnZlci9tb2RpZmllcnMvdXBkYXRlTm90ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVBhZFVwZGF0ZSh7IGJvZHkgfSkge1xuICBjb25zdCB7IHBhZCwgcmV2cyB9ID0gYm9keTtcbiAgY29uc3QgeyBpZCB9ID0gcGFkO1xuXG4gIGNoZWNrKGlkLCBTdHJpbmcpO1xuICBjaGVjayhyZXZzLCBOdW1iZXIpO1xuXG4gIHVwZGF0ZU5vdGUoaWQsIHJldnMpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVOb3RlSWQsXG4gIGNyZWF0ZVBhZFVSTCxcbiAgZ2V0UmVhZE9ubHlJZFVSTCxcbiAgaXNFbmFibGVkLFxuICBnZXREYXRhRnJvbVJlc3BvbnNlLFxufSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgYWRkTm90ZSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvbW9kaWZpZXJzL2FkZE5vdGUnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTm90ZShtZWV0aW5nSWQpIHtcbiAgLy8gQXZvaWQgbm90ZSBjcmVhdGlvbiBpZiB0aGlzIGZlYXR1cmUgaXMgZGlzYWJsZWRcbiAgaWYgKCFpc0VuYWJsZWQoKSkge1xuICAgIExvZ2dlci53YXJuKGBOb3RlcyBhcmUgZGlzYWJsZWQgZm9yICR7bWVldGluZ0lkfWApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCBub3RlSWQgPSBnZW5lcmF0ZU5vdGVJZChtZWV0aW5nSWQpO1xuXG4gIGNvbnN0IGNyZWF0ZVVSTCA9IGNyZWF0ZVBhZFVSTChub3RlSWQpO1xuICBheGlvcyh7XG4gICAgbWV0aG9kOiAnZ2V0JyxcbiAgICB1cmw6IGNyZWF0ZVVSTCxcbiAgICByZXNwb25zZVR5cGU6ICdqc29uJyxcbiAgfSkudGhlbigocmVzcG9uc2VPdXRlcikgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzIH0gPSByZXNwb25zZU91dGVyO1xuICAgIGlmIChzdGF0dXMgIT09IDIwMCkge1xuICAgICAgTG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgZ2V0IG5vdGUgaW5mbyBmb3IgJHttZWV0aW5nSWR9ICR7c3RhdHVzfWApO1xuICAgIH1cbiAgICBjb25zdCByZWFkT25seVVSTCA9IGdldFJlYWRPbmx5SWRVUkwobm90ZUlkKTtcbiAgICBheGlvcyh7XG4gICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgdXJsOiByZWFkT25seVVSTCxcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2pzb24nLFxuICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICBjb25zdCByZWFkT25seU5vdGVJZCA9IGdldERhdGFGcm9tUmVzcG9uc2UocmVzcG9uc2UuZGF0YSwgJ3JlYWRPbmx5SUQnKTtcbiAgICAgIGlmIChyZWFkT25seU5vdGVJZCkge1xuICAgICAgICBhZGROb3RlKG1lZXRpbmdJZCwgbm90ZUlkLCByZWFkT25seU5vdGVJZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgbm90ZSByZWFkT25seUlEIGZvciAke21lZXRpbmdJZH1gKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaChlcnJvciA9PiBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBnZXQgbm90ZSByZWFkT25seUlEIGZvciAke21lZXRpbmdJZH06ICR7ZXJyb3J9YCkpO1xuICB9KS5jYXRjaChlcnJvciA9PiBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBjcmVhdGUgbm90ZSBmb3IgJHttZWV0aW5nSWR9OiAke2Vycm9yfWApKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkTm90ZShtZWV0aW5nSWQsIG5vdGVJZCwgcmVhZE9ubHlOb3RlSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhub3RlSWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlYWRPbmx5Tm90ZUlkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBub3RlSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIG5vdGVJZCxcbiAgICByZWFkT25seU5vdGVJZCxcbiAgICByZXZzOiAwLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyBub3RlIHRvIHRoZSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgcmV0dXJuIExvZ2dlci5pbmZvKGBBZGRlZCBub3RlIGlkPSR7bm90ZUlkfSByZWFkT25seUlkPSR7cmVhZE9ubHlOb3RlSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBub3RlIGlkPSR7bm90ZUlkfSByZWFkT25seUlkPSR7cmVhZE9ubHlOb3RlSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIE5vdGUudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IE5vdGUgZnJvbSAnL2ltcG9ydHMvYXBpL25vdGUnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhck5vdGUobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gTm90ZS5yZW1vdmUoeyBtZWV0aW5nSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgTm90ZSAoJHttZWV0aW5nSWR9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIE5vdGUucmVtb3ZlKHt9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgTm90ZSAoYWxsKScpO1xuICB9KTtcbn1cbiIsImltcG9ydCBOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlTm90ZShub3RlSWQsIHJldnMpIHtcbiAgY2hlY2sobm90ZUlkLCBTdHJpbmcpO1xuICBjaGVjayhyZXZzLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG5vdGVJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICByZXZzLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgbm90ZSBwYWQ6ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIudmVyYm9zZShgVXBkYXRlIG5vdGUgcGFkPSR7bm90ZUlkfSByZXZzPSR7cmV2c31gKTtcbiAgfTtcblxuICByZXR1cm4gTm90ZS51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCB7IG11bHRpOiB0cnVlIH0sIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBwcm9jZXNzRm9yTm90ZVBhZE9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgaGFuZGxlUGFkVXBkYXRlIGZyb20gJy4vaGFuZGxlcnMvcGFkVXBkYXRlJztcblxuUmVkaXNQdWJTdWIub24oJ1BhZFVwZGF0ZVN5c01zZycsIHByb2Nlc3NGb3JOb3RlUGFkT25seShoYW5kbGVQYWRVcGRhdGUpKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgaGFzaEZOVjMyYSB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBFVEhFUlBBRCA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLmV0aGVycGFkO1xuY29uc3QgTk9URV9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLm5vdGU7XG5jb25zdCBCQVNFX1VSTCA9IGBodHRwOi8vJHtFVEhFUlBBRC5ob3N0fToke0VUSEVSUEFELnBvcnR9L2FwaS8ke0VUSEVSUEFELnZlcnNpb259YDtcbmNvbnN0IFRPS0VOID0gJ18nO1xuXG5jb25zdCBjcmVhdGVQYWRVUkwgPSBwYWRJZCA9PiBgJHtCQVNFX1VSTH0vY3JlYXRlUGFkP2FwaWtleT0ke0VUSEVSUEFELmFwaWtleX0mcGFkSUQ9JHtwYWRJZH1gO1xuXG5jb25zdCBnZXRSZWFkT25seUlkVVJMID0gcGFkSWQgPT4gYCR7QkFTRV9VUkx9L2dldFJlYWRPbmx5SUQ/YXBpa2V5PSR7RVRIRVJQQUQuYXBpa2V5fSZwYWRJRD0ke3BhZElkfWA7XG5cbmNvbnN0IGFwcGVuZFRleHRVUkwgPSAocGFkSWQsIHRleHQpID0+IGAke0JBU0VfVVJMfS9hcHBlbmRUZXh0P2FwaWtleT0ke0VUSEVSUEFELmFwaWtleX0mcGFkSUQ9JHtwYWRJZH0mdGV4dD0ke2VuY29kZVVSSUNvbXBvbmVudCh0ZXh0KX1gO1xuXG5jb25zdCBnZW5lcmF0ZU5vdGVJZCA9IChtZWV0aW5nSWQpID0+IHtcbiAgY29uc3Qgbm90ZUlkID0gaGFzaEZOVjMyYShtZWV0aW5nSWQsIHRydWUpO1xuICByZXR1cm4gbm90ZUlkO1xufTtcblxuY29uc3QgaXNFbmFibGVkID0gKCkgPT4gTk9URV9DT05GSUcuZW5hYmxlZDtcblxuY29uc3QgZ2V0RGF0YUZyb21SZXNwb25zZSA9IChkYXRhLCBrZXkpID0+IHtcbiAgaWYgKGRhdGEpIHtcbiAgICBjb25zdCBpbm5lckRhdGEgPSBkYXRhLmRhdGE7XG4gICAgaWYgKGlubmVyRGF0YSAmJiBpbm5lckRhdGFba2V5XSkge1xuICAgICAgcmV0dXJuIGlubmVyRGF0YVtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IGlzTm90ZVBhZCA9IHBhZElkID0+IHBhZElkLnNlYXJjaChUT0tFTik7XG5cbmNvbnN0IHByb2Nlc3NGb3JOb3RlUGFkT25seSA9IGZuID0+IChtZXNzYWdlLCAuLi5hcmdzKSA9PiB7XG4gIGNvbnN0IHsgYm9keSB9ID0gbWVzc2FnZTtcbiAgY29uc3QgeyBwYWQgfSA9IGJvZHk7XG4gIGNvbnN0IHsgaWQgfSA9IHBhZDtcblxuICBjaGVjayhpZCwgU3RyaW5nKTtcblxuICBpZiAoaXNOb3RlUGFkKGlkKSkgcmV0dXJuIGZuKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICByZXR1cm4gKCkgPT4ge307XG59O1xuXG5leHBvcnQge1xuICBnZW5lcmF0ZU5vdGVJZCxcbiAgY3JlYXRlUGFkVVJMLFxuICBnZXRSZWFkT25seUlkVVJMLFxuICBpc0VuYWJsZWQsXG4gIGdldERhdGFGcm9tUmVzcG9uc2UsXG4gIGFwcGVuZFRleHRVUkwsXG4gIHByb2Nlc3NGb3JOb3RlUGFkT25seSxcbn07XG4iLCJpbXBvcnQgJy4vcHVibGlzaGVycyc7XG5pbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBOb3RlIGZyb20gJy9pbXBvcnRzL2FwaS9ub3RlJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBub3RlKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIE5vdGUuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgUHVibGlzaGluZyBub3RlIGZvciAke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgcmV0dXJuIE5vdGUuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kTm90ZSA9IG5vdGUuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kTm90ZSguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ25vdGUnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBOb3RlID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ25vdGUnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBOb3RlLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgbm90ZUlkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBOb3RlO1xuIiwiaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGluZygpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgbGFzdFBpbmc6IERhdGUubm93KCksXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBFcnJvciB1cGRhdGluZyBsYXN0UGluZyBmb3IgJHtyZXF1ZXN0ZXJVc2VySWR9OiAke2Vycn1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCAnLi9wdWJsaXNoZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHBpbmcgZnJvbSAnLi9tZXRob2RzL3BpbmcnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHBpbmcsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBDT0xMRUNUSU9OX05BTUUgPSAncGluZy1wb25nJztcbmNvbnN0IElOVEVSVkFMX0lOX1NFVFRJTkdTID0gKE1ldGVvci5zZXR0aW5ncy5wdWJsaWMucGluZ1BvbmcuY2xlYXJVc2Vyc0luU2Vjb25kcykgKiAxMDAwO1xuY29uc3QgSU5URVJWQUxfVElNRSA9IElOVEVSVkFMX0lOX1NFVFRJTkdTIDwgMTAwMDAgPyAxMDAwMCA6IElOVEVSVkFMX0lOX1NFVFRJTkdTO1xuY29uc3QgUE9OR19JTlRFUlZBTF9JTl9TRVRUSU5HUyA9IChNZXRlb3Iuc2V0dGluZ3MucHVibGljLnBpbmdQb25nLnBvbmdUaW1lSW5TZWNvbmRzKSAqIDEwMDA7XG5jb25zdCBQT05HX0lOVEVSVkFMID0gUE9OR19JTlRFUlZBTF9JTl9TRVRUSU5HUyA+PSAoSU5URVJWQUxfVElNRSAvIDIpXG4gID8gKElOVEVSVkFMX1RJTUUgLyAyKSA6IFBPTkdfSU5URVJWQUxfSU5fU0VUVElOR1M7XG5cbmZ1bmN0aW9uIHBpbmdQb25nKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuOyAvLyBUT0RPLS0gaXMgdGhlcmUgYSBtb3JlIGFwcHJvcHJpYXRlIHNldCB0byByZXR1cm4/XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY29uc3QgaWQgPSBfLnVuaXF1ZUlkKCdwb25nLScpO1xuICBMb2dnZXIuaW5mbyhgU3RhcnRpbmcgcGluZy1wb25nIHB1Ymxpc2ggZm9yIHVzZXJJZDogJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG4gIGNvbnN0IHBvbmdTZW5kZXIgPSAoaW50ZXJ2YWwpID0+IHtcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgcG9uZzoge1xuICAgICAgICBtZXNzYWdlOiAncG9uZycsXG4gICAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgICAgIG1lZXRpbmdJZCxcbiAgICAgIH0sXG4gICAgfTtcbiAgICBsZXQgZm4gPSB0aGlzLmFkZGVkLmJpbmQodGhpcyk7XG4gICAgaWYgKGludGVydmFsKSBmbiA9IHRoaXMuY2hhbmdlZC5iaW5kKHRoaXMpO1xuICAgIGZuKENPTExFQ1RJT05fTkFNRSwgaWQsIHBheWxvYWQpO1xuICB9O1xuICBwb25nU2VuZGVyKCk7XG4gIHRoaXMucmVhZHkoKTtcbiAgY29uc3QgaW50ZXJ2YWwgPSBNZXRlb3Iuc2V0SW50ZXJ2YWwoKCkgPT4gcG9uZ1NlbmRlcih0cnVlKSwgUE9OR19JTlRFUlZBTCk7XG5cbiAgdGhpcy5vblN0b3AoKCkgPT4ge1xuICAgIE1ldGVvci5jbGVhckludGVydmFsKGludGVydmFsKTtcbiAgfSk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdwaW5nLXBvbmcnLCBwaW5nUG9uZyk7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgcmVtb3ZlUG9sbCBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlUG9sbCc7XG5pbXBvcnQgc2V0UHVibGlzaGVkUG9sbCBmcm9tICcuLi8uLi8uLi9tZWV0aW5ncy9zZXJ2ZXIvbW9kaWZpZXJzL3NldFB1Ymxpc2hlZFBvbGwnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwb2xsUHVibGlzaGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwb2xsSWQgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2xsSWQsIFN0cmluZyk7XG5cbiAgc2V0UHVibGlzaGVkUG9sbChtZWV0aW5nSWQsIHRydWUpO1xuXG4gIHJldHVybiByZW1vdmVQb2xsKG1lZXRpbmdJZCwgcG9sbElkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRQb2xsIGZyb20gJy4uL21vZGlmaWVycy9hZGRQb2xsJztcbmltcG9ydCBzZXRQdWJsaXNoZWRQb2xsIGZyb20gJy4uLy4uLy4uL21lZXRpbmdzL3NlcnZlci9tb2RpZmllcnMvc2V0UHVibGlzaGVkUG9sbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbGxTdGFydGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyB1c2VySWQgfSA9IGJvZHk7XG4gIGNvbnN0IHsgcG9sbCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9sbCwgT2JqZWN0KTtcblxuICBzZXRQdWJsaXNoZWRQb2xsKG1lZXRpbmdJZCwgZmFsc2UpO1xuXG4gIHJldHVybiBhZGRQb2xsKG1lZXRpbmdJZCwgdXNlcklkLCBwb2xsKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCByZW1vdmVQb2xsIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVQb2xsJztcbmltcG9ydCBjbGVhclBvbGxzIGZyb20gJy4uL21vZGlmaWVycy9jbGVhclBvbGxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9sbFN0b3BwZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHBvbGwgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGlmIChwb2xsKSB7XG4gICAgY29uc3QgeyBwb2xsSWQgfSA9IHBvbGw7XG5cbiAgICBjaGVjayhwb2xsSWQsIFN0cmluZyk7XG5cbiAgICByZXR1cm4gcmVtb3ZlUG9sbChtZWV0aW5nSWQsIHBvbGxJZCk7XG4gIH1cblxuICByZXR1cm4gY2xlYXJQb2xscyhtZWV0aW5nSWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJSZXNwb25kZWQoeyBib2R5IH0pIHtcbiAgY29uc3QgeyBwb2xsSWQsIHVzZXJJZCwgYW5zd2VySWQgfSA9IGJvZHk7XG5cbiAgY2hlY2socG9sbElkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGFuc3dlcklkLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIGlkOiBwb2xsSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHB1bGw6IHtcbiAgICAgIHVzZXJzOiB1c2VySWQsXG4gICAgfSxcbiAgICAkcHVzaDoge1xuICAgICAgcmVzcG9uc2VzOiB7IHVzZXJJZCwgYW5zd2VySWQgfSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIFBvbGwgcmVzcG9uc2VzOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwZGF0aW5nIFBvbGwgcmVzcG9uc2UgKHVzZXJJZDogJHt1c2VySWR9LGBcbiAgICAgICsgYHJlc3BvbnNlOiAke2Fuc3dlcklkfSwgcG9sbElkOiAke3BvbGxJZH0pYCk7XG4gIH07XG5cbiAgcmV0dXJuIFBvbGxzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB1cGRhdGVWb3RlcyBmcm9tICcuLi9tb2RpZmllcnMvdXBkYXRlVm90ZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyVm90ZWQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHBvbGwgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwb2xsLCB7XG4gICAgaWQ6IFN0cmluZyxcbiAgICBhbnN3ZXJzOiBbXG4gICAgICB7XG4gICAgICAgIGlkOiBOdW1iZXIsXG4gICAgICAgIGtleTogU3RyaW5nLFxuICAgICAgICBudW1Wb3RlczogTnVtYmVyLFxuICAgICAgfSxcbiAgICBdLFxuICAgIG51bVJlc3BvbmRlbnRzOiBOdW1iZXIsXG4gICAgbnVtUmVzcG9uZGVyczogTnVtYmVyLFxuICB9KTtcblxuICByZXR1cm4gdXBkYXRlVm90ZXMocG9sbCwgbWVldGluZ0lkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwdWJsaXNoUG9sbCgpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTaG93UG9sbFJlc3VsdFJlcU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY29uc3QgcG9sbCA9IFBvbGxzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7IC8vIFRPRE8tLXNlbmQgcG9sbGlkIGZyb20gY2xpZW50XG4gIGlmICghcG9sbCkge1xuICAgIExvZ2dlci5lcnJvcihgQXR0ZW1wdGVkIHRvIHB1Ymxpc2ggaW5leGlzdGluZyBwb2xsIGZvciBtZWV0aW5nSWQ6ICR7bWVldGluZ0lkfWApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoXG4gICAgQ0hBTk5FTCxcbiAgICBFVkVOVF9OQU1FLFxuICAgIG1lZXRpbmdJZCxcbiAgICByZXF1ZXN0ZXJVc2VySWQsXG4gICAgKHsgcmVxdWVzdGVySWQ6IHJlcXVlc3RlclVzZXJJZCwgcG9sbElkOiBwb2xsLmlkIH0pLFxuICApO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHB1Ymxpc2hWb3RlKGlkLCBwb2xsQW5zd2VySWQpIHsgLy8gVE9ETyBkaXNjdXNzIGxvY2F0aW9uXG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnUmVzcG9uZFRvUG9sbFJlcU1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgLypcbiAgIFdlIGtlZXAgYW4gYXJyYXkgb2YgcGVvcGxlIHdobyB3ZXJlIGluIHRoZSBtZWV0aW5nIGF0IHRoZSB0aW1lIHRoZSBwb2xsXG4gICB3YXMgc3RhcnRlZC4gVGhlIHBvbGwgaXMgcHVibGlzaGVkIHRvIHRoZW0gb25seS5cbiAgIE9uY2UgdGhleSB2b3RlIC0gdGhlaXIgSUQgaXMgcmVtb3ZlZCBhbmQgdGhleSBjYW5ub3Qgc2VlIHRoZSBwb2xsIGFueW1vcmVcbiAgICovXG4gIGNvbnN0IGN1cnJlbnRQb2xsID0gUG9sbHMuZmluZE9uZSh7XG4gICAgdXNlcnM6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBtZWV0aW5nSWQsXG4gICAgJ2Fuc3dlcnMuaWQnOiBwb2xsQW5zd2VySWQsXG4gICAgaWQsXG4gIH0pO1xuXG4gIGNoZWNrKHBvbGxBbnN3ZXJJZCwgTnVtYmVyKTtcbiAgY2hlY2soY3VycmVudFBvbGwsIE9iamVjdCk7XG4gIGNoZWNrKGN1cnJlbnRQb2xsLm1lZXRpbmdJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHJlcXVlc3RlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgcG9sbElkOiBjdXJyZW50UG9sbC5pZCxcbiAgICBxdWVzdGlvbklkOiAwLFxuICAgIGFuc3dlcklkOiBwb2xsQW5zd2VySWQsXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgdXNlcnM6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBtZWV0aW5nSWQsXG4gICAgJ2Fuc3dlcnMuaWQnOiBwb2xsQW5zd2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHB1bGw6IHtcbiAgICAgIHVzZXJzOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBQb2xscyBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwZGF0aW5nIFBvbGxzIGNvbGxlY3Rpb24gKG1lZXRpbmdJZDogJHttZWV0aW5nSWR9LCBgXG4gICAgICArIGBwb2xsSWQ6ICR7Y3VycmVudFBvbGwuaWR9ISlgKTtcbiAgfTtcblxuICBQb2xscy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0UG9sbChwb2xsVHlwZSwgcG9sbElkLCBhbnN3ZXJzKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG5cbiAgbGV0IEVWRU5UX05BTUUgPSAnU3RhcnRQb2xsUmVxTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHBvbGxJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9sbFR5cGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICByZXF1ZXN0ZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIHBvbGxJZDogYCR7cG9sbElkfS8ke25ldyBEYXRlKCkuZ2V0VGltZSgpfWAsXG4gICAgcG9sbFR5cGUsXG4gIH07XG5cbiAgaWYgKHBvbGxUeXBlID09PSAnY3VzdG9tJykge1xuICAgIEVWRU5UX05BTUUgPSAnU3RhcnRDdXN0b21Qb2xsUmVxTXNnJztcbiAgICBjaGVjayhhbnN3ZXJzLCBBcnJheSk7XG4gICAgcGF5bG9hZC5hbnN3ZXJzID0gYW5zd2VycztcbiAgfVxuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdG9wUG9sbCgpIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogcmVxdWVzdGVySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU3RvcFBvbGxSZXFNc2cnO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoXG4gICAgQ0hBTk5FTCxcbiAgICBFVkVOVF9OQU1FLFxuICAgIG1lZXRpbmdJZCxcbiAgICByZXF1ZXN0ZXJJZCxcbiAgICAoeyByZXF1ZXN0ZXJJZCB9KSxcbiAgKTtcbn1cbiIsImltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkUG9sbChtZWV0aW5nSWQsIHJlcXVlc3RlcklkLCBwb2xsKSB7XG4gIGNoZWNrKHJlcXVlc3RlcklkLCBTdHJpbmcpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvbGwsIHtcbiAgICBpZDogU3RyaW5nLFxuICAgIGFuc3dlcnM6IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IE51bWJlcixcbiAgICAgICAga2V5OiBTdHJpbmcsXG4gICAgICB9LFxuICAgIF0sXG4gIH0pO1xuXG4gIGNvbnN0IHVzZXJTZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiB7ICRuZTogcmVxdWVzdGVySWQgfSxcbiAgICBjbGllbnRUeXBlOiB7ICRuZTogJ2RpYWwtaW4tdXNlcicgfSxcbiAgfTtcblxuICBjb25zdCB1c2VySWRzID0gVXNlcnMuZmluZCh1c2VyU2VsZWN0b3IsIHsgZmllbGRzOiB7IHVzZXJJZDogMSB9IH0pXG4gICAgLmZldGNoKClcbiAgICAubWFwKHVzZXIgPT4gdXNlci51c2VySWQpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICByZXF1ZXN0ZXI6IHJlcXVlc3RlcklkLFxuICAgIGlkOiBwb2xsLmlkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0gT2JqZWN0LmFzc2lnbihcbiAgICB7IG1lZXRpbmdJZCB9LFxuICAgIHsgcmVxdWVzdGVyOiByZXF1ZXN0ZXJJZCB9LFxuICAgIHsgdXNlcnM6IHVzZXJJZHMgfSxcbiAgICBmbGF0KHBvbGwsIHsgc2FmZTogdHJ1ZSB9KSxcbiAgKTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyBQb2xsIHRvIGNvbGxlY3Rpb246ICR7cG9sbC5pZH1gKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IG51bUNoYW5nZWQ7XG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgUG9sbCBpZD0ke3BvbGwuaWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBQb2xsIGlkPSR7cG9sbC5pZH1gKTtcbiAgfTtcblxuICByZXR1cm4gUG9sbHMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyUG9sbHMobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gUG9sbHMucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFBvbGxzICgke21lZXRpbmdJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gUG9sbHMucmVtb3ZlKHt9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgUG9sbHMgKGFsbCknKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgUG9sbHMgZnJvbSAnL2ltcG9ydHMvYXBpL3BvbGxzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlUG9sbChtZWV0aW5nSWQsIGlkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soaWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIGlkLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIFBvbGwgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFJlbW92ZWQgUG9sbCBpZD0ke2lkfWApO1xuICB9O1xuXG4gIHJldHVybiBQb2xscy5yZW1vdmUoc2VsZWN0b3IsIGNiKTtcbn1cbiIsImltcG9ydCBQb2xscyBmcm9tICcvaW1wb3J0cy9hcGkvcG9sbHMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZVZvdGVzKHBvbGwsIG1lZXRpbmdJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvbGwsIE9iamVjdCk7XG5cbiAgY29uc3Qge1xuICAgIGlkLFxuICAgIGFuc3dlcnMsXG4gICAgbnVtUmVzcG9uZGVycyxcbiAgICBudW1SZXNwb25kZW50cyxcbiAgfSA9IHBvbGw7XG5cbiAgY2hlY2soaWQsIFN0cmluZyk7XG4gIGNoZWNrKGFuc3dlcnMsIEFycmF5KTtcblxuICBjaGVjayhudW1SZXNwb25kZXJzLCBOdW1iZXIpO1xuICBjaGVjayhudW1SZXNwb25kZW50cywgTnVtYmVyKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogZmxhdChwb2xsLCB7IHNhZmU6IHRydWUgfSksXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgVXBkYXRpbmcgUG9sbHMgY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcGRhdGluZyBQb2xscyBjb2xsZWN0aW9uIChtZWV0aW5nSWQ6ICR7bWVldGluZ0lkfSwgcG9sbElkOiAke2lkfSEpYCk7XG4gIH07XG5cbiAgcmV0dXJuIFBvbGxzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlUG9sbFN0YXJ0ZWQgZnJvbSAnLi9oYW5kbGVycy9wb2xsU3RhcnRlZCc7XG5pbXBvcnQgaGFuZGxlUG9sbFN0b3BwZWQgZnJvbSAnLi9oYW5kbGVycy9wb2xsU3RvcHBlZCc7XG5pbXBvcnQgaGFuZGxlUG9sbFB1Ymxpc2hlZCBmcm9tICcuL2hhbmRsZXJzL3BvbGxQdWJsaXNoZWQnO1xuaW1wb3J0IGhhbmRsZVVzZXJWb3RlZCBmcm9tICcuL2hhbmRsZXJzL3VzZXJWb3RlZCc7XG5pbXBvcnQgaGFuZGxlVXNlclJlc3BvbmRlZCBmcm9tICcuL2hhbmRsZXJzL3VzZXJSZXNwb25kZWQnO1xuXG5SZWRpc1B1YlN1Yi5vbignUG9sbFNob3dSZXN1bHRFdnRNc2cnLCBoYW5kbGVQb2xsUHVibGlzaGVkKTtcblJlZGlzUHViU3ViLm9uKCdQb2xsU3RhcnRlZEV2dE1zZycsIGhhbmRsZVBvbGxTdGFydGVkKTtcblJlZGlzUHViU3ViLm9uKCdQb2xsU3RvcHBlZEV2dE1zZycsIGhhbmRsZVBvbGxTdG9wcGVkKTtcblJlZGlzUHViU3ViLm9uKCdQb2xsVXBkYXRlZEV2dE1zZycsIGhhbmRsZVVzZXJWb3RlZCk7XG5SZWRpc1B1YlN1Yi5vbignVXNlclJlc3BvbmRlZFRvUG9sbFJlc3BNc2cnLCBoYW5kbGVVc2VyUmVzcG9uZGVkKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHB1Ymxpc2hWb3RlIGZyb20gJy4vbWV0aG9kcy9wdWJsaXNoVm90ZSc7XG5pbXBvcnQgcHVibGlzaFBvbGwgZnJvbSAnLi9tZXRob2RzL3B1Ymxpc2hQb2xsJztcbmltcG9ydCBzdGFydFBvbGwgZnJvbSAnLi9tZXRob2RzL3N0YXJ0UG9sbCc7XG5pbXBvcnQgc3RvcFBvbGwgZnJvbSAnLi9tZXRob2RzL3N0b3BQb2xsJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBwdWJsaXNoVm90ZSxcbiAgcHVibGlzaFBvbGwsXG4gIHN0YXJ0UG9sbCxcbiAgc3RvcFBvbGwsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFBvbGxzIGZyb20gJy9pbXBvcnRzL2FwaS9wb2xscyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gY3VycmVudFBvbGwoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gUG9sbHMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBwb2xsIGZvciBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuXG4gIHJldHVybiBQb2xscy5maW5kKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaEN1cnJlbnRQb2xsKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRQb2xscyA9IGN1cnJlbnRQb2xsLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFBvbGxzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnY3VycmVudC1wb2xsJywgcHVibGlzaEN1cnJlbnRQb2xsKTtcblxuXG5mdW5jdGlvbiBwb2xscygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBQb2xscy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIHBvbGxzID0ke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJzOiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgcmV0dXJuIFBvbGxzLmZpbmQoc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRQb2xscyA9IHBvbGxzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFBvbGxzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgncG9sbHMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBQb2xscyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdwb2xscycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIFdlIGNhbiBoYXZlIGp1c3Qgb25lIGFjdGl2ZSBwb2xsIHBlciBtZWV0aW5nXG4gIC8vIG1ha2VzIG5vIHNlbnNlIHRvIGluZGV4IGl0IGJ5IGFueXRoaW5nIG90aGVyIHRoYW4gbWVldGluZ0lkXG5cbiAgUG9sbHMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQb2xscztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRQcmVzZW50YXRpb25Qb2QgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFByZXNlbnRhdGlvblBvZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUNyZWF0ZU5ld1ByZXNlbnRhdGlvblBvZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIHtcbiAgICBjdXJyZW50UHJlc2VudGVySWQ6IFN0cmluZyxcbiAgICBwb2RJZDogU3RyaW5nLFxuICB9KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHsgY3VycmVudFByZXNlbnRlcklkLCBwb2RJZCB9ID0gYm9keTtcblxuICBjb25zdCBwb2QgPSB7XG4gICAgY3VycmVudFByZXNlbnRlcklkLFxuICAgIHBvZElkLFxuICB9O1xuXG4gIGFkZFByZXNlbnRhdGlvblBvZChtZWV0aW5nSWQsIHBvZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgcmVtb3ZlUHJlc2VudGF0aW9uUG9kIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVQcmVzZW50YXRpb25Qb2QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVSZW1vdmVQcmVzZW50YXRpb25Qb2QoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgeyBwb2RJZCB9ID0gYm9keTtcblxuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICByZW1vdmVQcmVzZW50YXRpb25Qb2QobWVldGluZ0lkLCBwb2RJZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgc2V0UHJlc2VudGVySW5Qb2QgZnJvbSAnLi4vbW9kaWZpZXJzL3NldFByZXNlbnRlckluUG9kJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlU2V0UHJlc2VudGVySW5Qb2QoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgcG9kSWQsIG5leHRQcmVzZW50ZXJJZCB9ID0gYm9keTtcblxuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2sobmV4dFByZXNlbnRlcklkLCBTdHJpbmcpO1xuXG4gIHNldFByZXNlbnRlckluUG9kKG1lZXRpbmdJZCwgcG9kSWQsIG5leHRQcmVzZW50ZXJJZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IHJlbW92ZVByZXNlbnRhdGlvblBvZCBmcm9tICcuLi9tb2RpZmllcnMvcmVtb3ZlUHJlc2VudGF0aW9uUG9kJztcbmltcG9ydCBhZGRQcmVzZW50YXRpb25Qb2QgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFByZXNlbnRhdGlvblBvZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVN5bmNHZXRQcmVzZW50YXRpb25Qb2RzKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHsgcG9kcyB9ID0gYm9keTtcbiAgY2hlY2socG9kcywgQXJyYXkpO1xuXG4gIGNvbnN0IHByZXNlbnRhdGlvblBvZElkcyA9IHBvZHMubWFwKHBvZCA9PiBwb2QuaWQpO1xuXG4gIGNvbnN0IHByZXNlbnRhdGlvblBvZHNUb1JlbW92ZSA9IFByZXNlbnRhdGlvblBvZHMuZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkOiB7ICRuaW46IHByZXNlbnRhdGlvblBvZElkcyB9LFxuICB9LCB7IGZpZWxkczogeyBwb2RJZDogMSB9IH0pLmZldGNoKCk7XG5cbiAgcHJlc2VudGF0aW9uUG9kc1RvUmVtb3ZlLmZvckVhY2gocCA9PiByZW1vdmVQcmVzZW50YXRpb25Qb2QobWVldGluZ0lkLCBwLnBvZElkKSk7XG5cbiAgcG9kcy5mb3JFYWNoKChwb2QpID0+IHtcbiAgICAvLyAncG9kSWQnIGFuZCAnY3VycmVudFByZXNlbnRlcklkJyBmb3Igc29tZSByZWFzb24gY2FsbGVkICdpZCcgYW5kICdjdXJyZW50UHJlc2VudGVyJ1xuICAgIC8vIGluIHRoaXMgbWVzc2FnZVxuICAgIGNvbnN0IHtcbiAgICAgIGlkOiBwb2RJZCxcbiAgICAgIGN1cnJlbnRQcmVzZW50ZXI6IGN1cnJlbnRQcmVzZW50ZXJJZCxcbiAgICAgIHByZXNlbnRhdGlvbnMsXG4gICAgfSA9IHBvZDtcbiAgICBhZGRQcmVzZW50YXRpb25Qb2QobWVldGluZ0lkLCB7IHBvZElkLCBjdXJyZW50UHJlc2VudGVySWQgfSwgcHJlc2VudGF0aW9ucyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgTWF0Y2gsIGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgYWRkUHJlc2VudGF0aW9uIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zL3NlcnZlci9tb2RpZmllcnMvYWRkUHJlc2VudGF0aW9uJztcblxuLy8gJ3ByZXNlbnRhdGlvbnMnIGlzIHBhc3NlZCBkb3duIGhlcmUgd2hlbiB3ZSByZWNlaXZlIGEgU3luYyBtZXNzYWdlXG4vLyBhbmQgaXQncyBub3QgdXNlZCB3aGVuIHdlIGp1c3QgY3JlYXRlIGEgbmV3IHByZXNlbnRhdGlvbiBwb2RcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFByZXNlbnRhdGlvblBvZChtZWV0aW5nSWQsIHBvZCwgcHJlc2VudGF0aW9ucyA9IHVuZGVmaW5lZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbnMsIE1hdGNoLk1heWJlKEFycmF5KSk7XG4gIGNoZWNrKHBvZCwge1xuICAgIGN1cnJlbnRQcmVzZW50ZXJJZDogU3RyaW5nLFxuICAgIHBvZElkOiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHsgY3VycmVudFByZXNlbnRlcklkLCBwb2RJZCB9ID0gcG9kO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgY3VycmVudFByZXNlbnRlcklkLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyBwcmVzZW50YXRpb24gcG9kIHRvIHRoZSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICAvLyBpZiBpdCdzIGEgU3luYyBtZXNzYWdlIC0gY29udGludWUgYWRkaW5nIHRoZSBhdHRhY2hlZCBwcmVzZW50YXRpb25zXG4gICAgaWYgKHByZXNlbnRhdGlvbnMpIHtcbiAgICAgIHByZXNlbnRhdGlvbnMuZm9yRWFjaChwcmVzZW50YXRpb24gPT4gYWRkUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbikpO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZGVkIHByZXNlbnRhdGlvbiBwb2QgaWQ9JHtwb2RJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwc2VydGVkIHByZXNlbnRhdGlvbiBwb2QgaWQ9JHtwb2RJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uUG9kcy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGNsZWFyUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclByZXNlbnRhdGlvblBvZHMobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9uUG9kcy5yZW1vdmUoXG4gICAgICB7IG1lZXRpbmdJZCB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjbGVhclByZXNlbnRhdGlvbnMobWVldGluZ0lkKTtcbiAgICAgICAgY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbihtZWV0aW5nSWQpO1xuICAgICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBQcmVzZW50YXRpb25zIFBvZHMgKCR7bWVldGluZ0lkfSlgKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBQcmVzZW50YXRpb25Qb2RzLnJlbW92ZSh7fSwgKCkgPT4ge1xuICAgIGNsZWFyUHJlc2VudGF0aW9ucygpO1xuICAgIGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4oKTtcbiAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBQcmVzZW50YXRpb25zIFBvZHMgKGFsbCknKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9uUG9kcyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGNsZWFyUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbi9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVQcmVzZW50YXRpb25Qb2QobWVldGluZ0lkLCBwb2RJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIHByZXNlbnRhdGlvbiBwb2QgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocG9kSWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBSZW1vdmVkIHByZXNlbnRhdGlvbiBwb2QgaWQ9JHtwb2RJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICAgIGNsZWFyUHJlc2VudGF0aW9ucyhtZWV0aW5nSWQsIHBvZElkKTtcbiAgICAgIGNsZWFyUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4obWVldGluZ0lkLCBwb2RJZCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBQcmVzZW50YXRpb25Qb2RzLnJlbW92ZShzZWxlY3RvciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvblBvZHMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi1wb2RzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJlc2VudGVySW5Qb2QobWVldGluZ0lkLCBwb2RJZCwgbmV4dFByZXNlbnRlcklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKG5leHRQcmVzZW50ZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgY3VycmVudFByZXNlbnRlcklkOiBuZXh0UHJlc2VudGVySWQsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYFNldHRpbmcgYSBwcmVzZW50ZXIgaW4gcG9kOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYFNldCBhIG5ldyBwcmVzZW50ZXIgaW4gcG9kIGlkPSR7cG9kSWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBQcmVzZW50YXRpb25Qb2RzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlQ3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kIGZyb20gJy4vaGFuZGxlcnMvY3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kJztcbmltcG9ydCBoYW5kbGVSZW1vdmVQcmVzZW50YXRpb25Qb2QgZnJvbSAnLi9oYW5kbGVycy9yZW1vdmVQcmVzZW50YXRpb25Qb2QnO1xuaW1wb3J0IGhhbmRsZVN5bmNHZXRQcmVzZW50YXRpb25Qb2RzIGZyb20gJy4vaGFuZGxlcnMvc3luY0dldFByZXNlbnRhdGlvblBvZHMnO1xuaW1wb3J0IGhhbmRsZVNldFByZXNlbnRlckluUG9kIGZyb20gJy4vaGFuZGxlcnMvc2V0UHJlc2VudGVySW5Qb2QnO1xuXG5SZWRpc1B1YlN1Yi5vbignQ3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kRXZ0TXNnJywgaGFuZGxlQ3JlYXRlTmV3UHJlc2VudGF0aW9uUG9kKTtcblJlZGlzUHViU3ViLm9uKCdSZW1vdmVQcmVzZW50YXRpb25Qb2RFdnRNc2cnLCBoYW5kbGVSZW1vdmVQcmVzZW50YXRpb25Qb2QpO1xuUmVkaXNQdWJTdWIub24oJ1NldFByZXNlbnRlckluUG9kUmVzcE1zZycsIGhhbmRsZVNldFByZXNlbnRlckluUG9kKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0UHJlc2VudGF0aW9uUG9kc1Jlc3BNc2cnLCBoYW5kbGVTeW5jR2V0UHJlc2VudGF0aW9uUG9kcyk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gcHJlc2VudGF0aW9uUG9kcygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBQcmVzZW50YXRpb25Qb2RzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBwcmVzZW50YXRpb24tcG9kcyBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBQcmVzZW50YXRpb25Qb2RzLmZpbmQoeyBtZWV0aW5nSWQgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFByZXNlbnRhdGlvblBvZHMgPSBwcmVzZW50YXRpb25Qb2RzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFByZXNlbnRhdGlvblBvZHMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCdwcmVzZW50YXRpb24tcG9kcycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFByZXNlbnRhdGlvblBvZHMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigncHJlc2VudGF0aW9uLXBvZHMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgcHJlc2VudGF0aW9uIHBvZHM6XG4gIC8vIDEuIG1lZXRpbmdJZCwgcG9kSWQgICggNCApXG5cbiAgUHJlc2VudGF0aW9uUG9kcy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEsIHBvZElkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQcmVzZW50YXRpb25Qb2RzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFByZXNlbnRhdGlvblVwbG9hZFRva2VuIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUHJlc2VudGF0aW9uVXBsb2FkVG9rZW5GYWlsKHsgYm9keSwgaGVhZGVyIH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgdXNlcklkIH0gPSBoZWFkZXI7XG4gIGNvbnN0IHsgcG9kSWQsIGZpbGVuYW1lIH0gPSBib2R5O1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKGZpbGVuYW1lLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgcG9kSWQsXG4gICAgZmlsZW5hbWUsXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBwcmVzZW50YXRpb25Ub2tlbiBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIExvZ2dlci5pbmZvKGBSZW1vdmluZyBwcmVzZW50YXRpb25Ub2tlbiBmaWxlbmFtZT0ke2ZpbGVuYW1lfSBwb2RJZD0ke3BvZElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi51cHNlcnQoc2VsZWN0b3IsIHsgZmFpbGVkOiB0cnVlLCBhdXRoelRva2VuOiBudWxsIH0sIGNiKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRhdGlvblVwbG9hZFRva2VuUGFzcyh7IGJvZHksIGhlYWRlciB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7IHVzZXJJZCB9ID0gaGVhZGVyO1xuICBjb25zdCB7IHBvZElkLCBhdXRoelRva2VuLCBmaWxlbmFtZSB9ID0gYm9keTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhhdXRoelRva2VuLCBTdHJpbmcpO1xuICBjaGVjayhmaWxlbmFtZSwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgdXNlcklkLFxuICAgIGZpbGVuYW1lLFxuICB9O1xuXG4gIGNvbnN0IGRvYyA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgdXNlcklkLFxuICAgIGZpbGVuYW1lLFxuICAgIGF1dGh6VG9rZW4sXG4gICAgZmFpbGVkOiBmYWxzZSxcbiAgICB1c2VkOiBmYWxzZSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEluc2VydGluZyBwcmVzZW50YXRpb25Ub2tlbiBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIExvZ2dlci5pbmZvKGBJbnNlcnRpbmcgcHJlc2VudGF0aW9uVG9rZW4gZmlsZW5hbWU9JHtmaWxlbmFtZX0gcG9kSWQ9JHtwb2RJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4udXBzZXJ0KHNlbGVjdG9yLCBkb2MsIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWVzdFByZXNlbnRhdGlvblVwbG9hZFRva2VuKHBvZElkLCBmaWxlbmFtZSkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1ByZXNlbnRhdGlvblVwbG9hZFRva2VuUmVxTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soZmlsZW5hbWUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwb2RJZCxcbiAgICBmaWxlbmFtZSxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXVwbG9hZC10b2tlbic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0VXNlZFRva2VuKGF1dGh6VG9rZW4pIHtcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHVzZWQ6IHRydWUsXG4gICAgfSxcbiAgfTtcbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBVbmFibGUgdG8gc2V0IHRva2VuIGFzIHVzZWQgOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBMb2dnZXIuaW5mbyhgVG9rZW46ICR7YXV0aHpUb2tlbn0gaGFzIGJlZW4gc2V0IGFzIHVzZWQgaW4gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4udXBkYXRlKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgYXV0aHpUb2tlbixcbiAgfSwgcGF5bG9hZCwgY2IpO1xufVxuIiwiaW1wb3J0IFByZXNlbnRhdGlvblVwbG9hZFRva2VuIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJQcmVzZW50YXRpb25VcGxvYWRUb2tlbihtZWV0aW5nSWQsIHBvZElkKSB7XG4gIGlmIChtZWV0aW5nSWQgJiYgcG9kSWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4ucmVtb3ZlKHsgbWVldGluZ0lkLCBwb2RJZCB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBQcmVzZW50YXRpb25zIFVwbG9hZCBUb2tlbiAoJHttZWV0aW5nSWR9LCAke3BvZElkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4ucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFByZXNlbnRhdGlvbnMgVXBsb2FkIFRva2VuICgke21lZXRpbmdJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBjbGVhcmluZyBwcmVzZW50YXRpb25zIGZvciB0aGUgd2hvbGUgc2VydmVyXG4gIHJldHVybiBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi5yZW1vdmUoe30sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBQcmVzZW50YXRpb25zIFVwbG9hZCBUb2tlbiAoYWxsKScpO1xuICB9KTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmltcG9ydCBoYW5kbGVQcmVzZW50YXRpb25VcGxvYWRUb2tlblBhc3MgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50YXRpb25VcGxvYWRUb2tlblBhc3MnO1xuaW1wb3J0IGhhbmRsZVByZXNlbnRhdGlvblVwbG9hZFRva2VuRmFpbCBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRhdGlvblVwbG9hZFRva2VuRmFpbCc7XG5cblJlZGlzUHViU3ViLm9uKCdQcmVzZW50YXRpb25VcGxvYWRUb2tlblBhc3NSZXNwTXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVQcmVzZW50YXRpb25VcGxvYWRUb2tlblBhc3MpKTtcblJlZGlzUHViU3ViLm9uKCdQcmVzZW50YXRpb25VcGxvYWRUb2tlbkZhaWxSZXNwTXNnJywgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seShoYW5kbGVQcmVzZW50YXRpb25VcGxvYWRUb2tlbkZhaWwpKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHJlcXVlc3RQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmcm9tICcuL21ldGhvZHMvcmVxdWVzdFByZXNlbnRhdGlvblVwbG9hZFRva2VuJztcbmltcG9ydCBzZXRVc2VkVG9rZW4gZnJvbSAnLi9tZXRob2RzL3NldFVzZWRUb2tlbic7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcmVxdWVzdFByZXNlbnRhdGlvblVwbG9hZFRva2VuLFxuICBzZXRVc2VkVG9rZW4sXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvblVwbG9hZFRva2VuIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tdXBsb2FkLXRva2VuJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBwcmVzZW50YXRpb25VcGxvYWRUb2tlbihwb2RJZCwgZmlsZW5hbWUpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soZmlsZW5hbWUsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgIGZpbGVuYW1lLFxuICB9O1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBQcmVzZW50YXRpb25VcGxvYWRUb2tlbiBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBQcmVzZW50YXRpb25VcGxvYWRUb2tlbi5maW5kKHNlbGVjdG9yKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kUHJlc2VudGF0aW9uVXBsb2FkVG9rZW4gPSBwcmVzZW50YXRpb25VcGxvYWRUb2tlbi5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRQcmVzZW50YXRpb25VcGxvYWRUb2tlbiguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nLCBwdWJsaXNoKTtcbiIsImNvbnN0IFByZXNlbnRhdGlvblVwbG9hZFRva2VuID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4nKTtcblxuZXhwb3J0IGRlZmF1bHQgUHJlc2VudGF0aW9uVXBsb2FkVG9rZW47XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkUHJlc2VudGF0aW9uIGZyb20gJy4uL21vZGlmaWVycy9hZGRQcmVzZW50YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25BZGRlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyBwcmVzZW50YXRpb24sIHBvZElkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbiwgT2JqZWN0KTtcblxuICByZXR1cm4gYWRkUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5cbi8vIGNvbnN0IE9GRklDRV9ET0NfQ09OVkVSU0lPTl9TVUNDRVNTX0tFWSA9ICdPRkZJQ0VfRE9DX0NPTlZFUlNJT05fU1VDQ0VTUyc7XG5jb25zdCBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fRkFJTEVEX0tFWSA9ICdPRkZJQ0VfRE9DX0NPTlZFUlNJT05fRkFJTEVEJztcbmNvbnN0IE9GRklDRV9ET0NfQ09OVkVSU0lPTl9JTlZBTElEX0tFWSA9ICdPRkZJQ0VfRE9DX0NPTlZFUlNJT05fSU5WQUxJRCc7XG5jb25zdCBTVVBQT1JURURfRE9DVU1FTlRfS0VZID0gJ1NVUFBPUlRFRF9ET0NVTUVOVCc7XG5jb25zdCBVTlNVUFBPUlRFRF9ET0NVTUVOVF9LRVkgPSAnVU5TVVBQT1JURURfRE9DVU1FTlQnO1xuY29uc3QgUEFHRV9DT1VOVF9GQUlMRURfS0VZID0gJ1BBR0VfQ09VTlRfRkFJTEVEJztcbmNvbnN0IFBBR0VfQ09VTlRfRVhDRUVERURfS0VZID0gJ1BBR0VfQ09VTlRfRVhDRUVERUQnO1xuY29uc3QgUERGX0hBU19CSUdfUEFHRV9LRVkgPSAnUERGX0hBU19CSUdfUEFHRSc7XG5jb25zdCBHRU5FUkFURURfU0xJREVfS0VZID0gJ0dFTkVSQVRFRF9TTElERSc7XG4vLyBjb25zdCBHRU5FUkFUSU5HX1RIVU1CTkFJTF9LRVkgPSAnR0VORVJBVElOR19USFVNQk5BSUwnO1xuLy8gY29uc3QgR0VORVJBVEVEX1RIVU1CTkFJTF9LRVkgPSAnR0VORVJBVEVEX1RIVU1CTkFJTCc7XG4vLyBjb25zdCBHRU5FUkFUSU5HX1RFWFRGSUxFU19LRVkgPSAnR0VORVJBVElOR19URVhURklMRVMnO1xuLy8gY29uc3QgR0VORVJBVEVEX1RFWFRGSUxFU19LRVkgPSAnR0VORVJBVEVEX1RFWFRGSUxFUyc7XG4vLyBjb25zdCBHRU5FUkFUSU5HX1NWR0lNQUdFU19LRVkgPSAnR0VORVJBVElOR19TVkdJTUFHRVMnO1xuLy8gY29uc3QgR0VORVJBVEVEX1NWR0lNQUdFU19LRVkgPSAnR0VORVJBVEVEX1NWR0lNQUdFUyc7XG4vLyBjb25zdCBDT05WRVJTSU9OX0NPTVBMRVRFRF9LRVkgPSAnQ09OVkVSU0lPTl9DT01QTEVURUQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2soYm9keSwgT2JqZWN0KTtcblxuICBjb25zdCB7XG4gICAgcHJlc2VudGF0aW9uSWQsIHBvZElkLCBtZXNzYWdlS2V5OiBzdGF0dXMsIHByZXNOYW1lOiBwcmVzZW50YXRpb25OYW1lLFxuICB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soc3RhdHVzLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHN0YXR1c01vZGlmaWVyID0ge1xuICAgICdjb252ZXJzaW9uLnN0YXR1cyc6IHN0YXR1cyxcbiAgICAnY29udmVyc2lvbi5lcnJvcic6IGZhbHNlLFxuICAgICdjb252ZXJzaW9uLmRvbmUnOiBmYWxzZSxcbiAgfTtcblxuICBzd2l0Y2ggKHN0YXR1cykge1xuICAgIGNhc2UgU1VQUE9SVEVEX0RPQ1VNRU5UX0tFWTpcbiAgICAgIHN0YXR1c01vZGlmaWVyLmlkID0gcHJlc2VudGF0aW9uSWQ7XG4gICAgICBzdGF0dXNNb2RpZmllci5uYW1lID0gcHJlc2VudGF0aW9uTmFtZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBVTlNVUFBPUlRFRF9ET0NVTUVOVF9LRVk6XG4gICAgY2FzZSBPRkZJQ0VfRE9DX0NPTlZFUlNJT05fRkFJTEVEX0tFWTpcbiAgICBjYXNlIE9GRklDRV9ET0NfQ09OVkVSU0lPTl9JTlZBTElEX0tFWTpcbiAgICBjYXNlIFBBR0VfQ09VTlRfRkFJTEVEX0tFWTpcbiAgICBjYXNlIFBBR0VfQ09VTlRfRVhDRUVERURfS0VZOlxuICAgIGNhc2UgUERGX0hBU19CSUdfUEFHRV9LRVk6XG4gICAgICBzdGF0dXNNb2RpZmllci5pZCA9IHByZXNlbnRhdGlvbklkO1xuICAgICAgc3RhdHVzTW9kaWZpZXIubmFtZSA9IHByZXNlbnRhdGlvbk5hbWU7XG4gICAgICBzdGF0dXNNb2RpZmllclsnY29udmVyc2lvbi5lcnJvciddID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBHRU5FUkFURURfU0xJREVfS0VZOlxuICAgICAgc3RhdHVzTW9kaWZpZXJbJ2NvbnZlcnNpb24ucGFnZXNDb21wbGV0ZWQnXSA9IGJvZHkucGFnZXNDb21wbGV0ZWQ7XG4gICAgICBzdGF0dXNNb2RpZmllclsnY29udmVyc2lvbi5udW1QYWdlcyddID0gYm9keS5udW1iZXJPZlBhZ2VzO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgYnJlYWs7XG4gIH1cblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgaWQ6IHByZXNlbnRhdGlvbklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IE9iamVjdC5hc3NpZ24oeyBtZWV0aW5nSWQsIHBvZElkIH0sIHN0YXR1c01vZGlmaWVyKSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVcGRhdGluZyBjb252ZXJzaW9uIHN0YXR1cyBwcmVzZW50YXRpb24gdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBudW1DaGFuZ2VkO1xuICAgIGlmIChpbnNlcnRlZElkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwZGF0ZWQgcHJlc2VudGF0aW9uIGNvbnZlcnNpb24gc3RhdHVzPSR7c3RhdHVzfSBpZD0ke3ByZXNlbnRhdGlvbklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuZGVidWcoYFVwc2VydGVkIHByZXNlbnRhdGlvbiBjb252ZXJzaW9uIHN0YXR1cz0ke3N0YXR1c30gaWQ9JHtwcmVzZW50YXRpb25JZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9ucy51cHNlcnQoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgc2V0Q3VycmVudFByZXNlbnRhdGlvbiBmcm9tICcuLi9tb2RpZmllcnMvc2V0Q3VycmVudFByZXNlbnRhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRhdGlvbkN1cnJlbnRTZXQoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IHsgcHJlc2VudGF0aW9uSWQsIHBvZElkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIHJldHVybiBzZXRDdXJyZW50UHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUgZnJvbSAnLi4vbW9kaWZpZXJzL3NldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVNldCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG5cbiAgY29uc3QgeyBwcmVzZW50YXRpb25JZCwgcG9kSWQsIGRvd25sb2FkYWJsZSB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2soZG93bmxvYWRhYmxlLCBCb29sZWFuKTtcblxuICByZXR1cm4gc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBkb3dubG9hZGFibGUpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgcmVtb3ZlUHJlc2VudGF0aW9uIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVQcmVzZW50YXRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVQcmVzZW50YXRpb25SZW1vdmUoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHBvZElkLCBwcmVzZW50YXRpb25JZCB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcblxuICByZXR1cm4gcmVtb3ZlUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlUHJlc2VudGF0aW9uKHByZXNlbnRhdGlvbklkLCBwb2RJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1JlbW92ZVByZXNlbnRhdGlvblB1Yk1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBwb2RJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJlc2VudGF0aW9uKHByZXNlbnRhdGlvbklkLCBwb2RJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NldEN1cnJlbnRQcmVzZW50YXRpb25QdWJNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIHBvZElkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUocHJlc2VudGF0aW9uSWQsIGRvd25sb2FkYWJsZSkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1NldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZVB1Yk1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhkb3dubG9hZGFibGUsIEJvb2xlYW4pO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIHBvZElkOiAnREVGQVVMVF9QUkVTRU5UQVRJT05fUE9EJyxcbiAgICBkb3dubG9hZGFibGUsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBIVFRQIH0gZnJvbSAnbWV0ZW9yL2h0dHAnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgYWRkU2xpZGUgZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFNsaWRlJztcbmltcG9ydCBzZXRDdXJyZW50UHJlc2VudGF0aW9uIGZyb20gJy4vc2V0Q3VycmVudFByZXNlbnRhdGlvbic7XG5cbmNvbnN0IGdldFNsaWRlVGV4dCA9IGFzeW5jICh1cmwpID0+IHtcbiAgbGV0IGNvbnRlbnQgPSAnJztcbiAgdHJ5IHtcbiAgICBjb250ZW50ID0gYXdhaXQgSFRUUC5nZXQodXJsKS5jb250ZW50O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIExvZ2dlci5lcnJvcihgTm8gZmlsZSBmb3VuZC4gJHtlcnJvcn1gKTtcbiAgfVxuICByZXR1cm4gY29udGVudDtcbn07XG5cbmNvbnN0IGFkZFNsaWRlcyA9IChtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgc2xpZGVzKSA9PiB7XG4gIHNsaWRlcy5mb3JFYWNoKGFzeW5jIChzbGlkZSkgPT4ge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBnZXRTbGlkZVRleHQoc2xpZGUudHh0VXJpKTtcblxuICAgIE9iamVjdC5hc3NpZ24oc2xpZGUsIHsgY29udGVudCB9KTtcblxuICAgIGFkZFNsaWRlKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBzbGlkZSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb24sIHtcbiAgICBpZDogU3RyaW5nLFxuICAgIG5hbWU6IFN0cmluZyxcbiAgICBjdXJyZW50OiBCb29sZWFuLFxuICAgIHBhZ2VzOiBbXG4gICAgICB7XG4gICAgICAgIGlkOiBTdHJpbmcsXG4gICAgICAgIG51bTogTnVtYmVyLFxuICAgICAgICB0aHVtYlVyaTogU3RyaW5nLFxuICAgICAgICBzd2ZVcmk6IFN0cmluZyxcbiAgICAgICAgdHh0VXJpOiBTdHJpbmcsXG4gICAgICAgIHN2Z1VyaTogU3RyaW5nLFxuICAgICAgICBjdXJyZW50OiBCb29sZWFuLFxuICAgICAgICB4T2Zmc2V0OiBOdW1iZXIsXG4gICAgICAgIHlPZmZzZXQ6IE51bWJlcixcbiAgICAgICAgd2lkdGhSYXRpbzogTnVtYmVyLFxuICAgICAgICBoZWlnaHRSYXRpbzogTnVtYmVyLFxuICAgICAgfSxcbiAgICBdLFxuICAgIGRvd25sb2FkYWJsZTogQm9vbGVhbixcbiAgfSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIGlkOiBwcmVzZW50YXRpb24uaWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbih7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZCxcbiAgICAgICdjb252ZXJzaW9uLmRvbmUnOiB0cnVlLFxuICAgICAgJ2NvbnZlcnNpb24uZXJyb3InOiBmYWxzZSxcbiAgICB9LCBmbGF0KHByZXNlbnRhdGlvbiwgeyBzYWZlOiB0cnVlIH0pKSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgcHJlc2VudGF0aW9uIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGFkZFNsaWRlcyhtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb24uaWQsIHByZXNlbnRhdGlvbi5wYWdlcyk7XG5cbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IG51bUNoYW5nZWQ7XG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIGlmIChwcmVzZW50YXRpb24uY3VycmVudCkge1xuICAgICAgICBzZXRDdXJyZW50UHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbi5pZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgcHJlc2VudGF0aW9uIGlkPSR7cHJlc2VudGF0aW9uLmlkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgcHJlc2VudGF0aW9uIGlkPSR7cHJlc2VudGF0aW9uLmlkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBQcmVzZW50YXRpb25zLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJQcmVzZW50YXRpb25zKG1lZXRpbmdJZCwgcG9kSWQpIHtcbiAgLy8gY2xlYXJpbmcgcHJlc2VudGF0aW9ucyBmb3IgMSBwb2RcbiAgaWYgKG1lZXRpbmdJZCAmJiBwb2RJZCkge1xuICAgIHJldHVybiBQcmVzZW50YXRpb25zLnJlbW92ZSh7IG1lZXRpbmdJZCwgcG9kSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgUHJlc2VudGF0aW9ucyAoJHttZWV0aW5nSWR9LCAke3BvZElkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGNsZWFyaW5nIHByZXNlbnRhdGlvbnMgZm9yIHRoZSB3aG9sZSBtZWV0aW5nXG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gUHJlc2VudGF0aW9ucy5yZW1vdmUoeyBtZWV0aW5nSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgUHJlc2VudGF0aW9ucyAoJHttZWV0aW5nSWR9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gY2xlYXJpbmcgcHJlc2VudGF0aW9ucyBmb3IgdGhlIHdob2xlIHNlcnZlclxuICByZXR1cm4gUHJlc2VudGF0aW9ucy5yZW1vdmUoe30sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBQcmVzZW50YXRpb25zIChhbGwpJyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5pbXBvcnQgY2xlYXJTbGlkZXNQcmVzZW50YXRpb24gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyU2xpZGVzUHJlc2VudGF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlUHJlc2VudGF0aW9uKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBvZElkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBpZDogcHJlc2VudGF0aW9uSWQsXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBSZW1vdmluZyBwcmVzZW50YXRpb24gZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgY2xlYXJTbGlkZXNQcmVzZW50YXRpb24obWVldGluZ0lkLCBwcmVzZW50YXRpb25JZCk7XG4gICAgICBMb2dnZXIuaW5mbyhgUmVtb3ZlZCBwcmVzZW50YXRpb24gaWQ9JHtwcmVzZW50YXRpb25JZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFByZXNlbnRhdGlvbnMucmVtb3ZlKHNlbGVjdG9yLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldEN1cnJlbnRQcmVzZW50YXRpb24obWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgb2xkQ3VycmVudCA9IHtcbiAgICBzZWxlY3Rvcjoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcG9kSWQsXG4gICAgICBjdXJyZW50OiB0cnVlLFxuICAgIH0sXG4gICAgbW9kaWZpZXI6IHtcbiAgICAgICRzZXQ6IHsgY3VycmVudDogZmFsc2UgfSxcbiAgICB9LFxuICAgIGNhbGxiYWNrOiAoZXJyKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFVuc2V0dGluZyB0aGUgY3VycmVudCBwcmVzZW50YXRpb246ICR7ZXJyfWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oJ1Vuc2V0dGVkIGFzIGN1cnJlbnQgcHJlc2VudGF0aW9uJyk7XG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBuZXdDdXJyZW50ID0ge1xuICAgIHNlbGVjdG9yOiB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZCxcbiAgICAgIGlkOiBwcmVzZW50YXRpb25JZCxcbiAgICB9LFxuICAgIG1vZGlmaWVyOiB7XG4gICAgICAkc2V0OiB7IGN1cnJlbnQ6IHRydWUgfSxcbiAgICB9LFxuICAgIGNhbGxiYWNrOiAoZXJyKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFNldHRpbmcgYXMgY3VycmVudCBwcmVzZW50YXRpb24gaWQ9JHtwcmVzZW50YXRpb25JZH06ICR7ZXJyfWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFNldHRlZCBhcyBjdXJyZW50IHByZXNlbnRhdGlvbiBpZD0ke3ByZXNlbnRhdGlvbklkfWApO1xuICAgIH0sXG4gIH07XG5cbiAgY29uc3Qgb2xkUHJlc2VudGF0aW9uID0gUHJlc2VudGF0aW9ucy5maW5kT25lKG9sZEN1cnJlbnQuc2VsZWN0b3IpO1xuICBjb25zdCBuZXdQcmVzZW50YXRpb24gPSBQcmVzZW50YXRpb25zLmZpbmRPbmUobmV3Q3VycmVudC5zZWxlY3Rvcik7XG5cbiAgLy8gUHJldmVudCBidWcgd2l0aCBwcmVzZW50YXRpb24gYmVpbmcgdW5zZXQsIHNhbWUgaGFwcGVucyBpbiB0aGUgc2xpZGVcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vYmlnYmx1ZWJ1dHRvbi9iaWdibHVlYnV0dG9uL3B1bGwvNDQzMVxuICBpZiAob2xkUHJlc2VudGF0aW9uICYmIG5ld1ByZXNlbnRhdGlvbiAmJiAob2xkUHJlc2VudGF0aW9uLl9pZCA9PT0gbmV3UHJlc2VudGF0aW9uLl9pZCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAobmV3UHJlc2VudGF0aW9uKSB7XG4gICAgUHJlc2VudGF0aW9ucy51cGRhdGUobmV3UHJlc2VudGF0aW9uLl9pZCwgbmV3Q3VycmVudC5tb2RpZmllciwgbmV3Q3VycmVudC5jYWxsYmFjayk7XG4gIH1cblxuICBpZiAob2xkUHJlc2VudGF0aW9uKSB7XG4gICAgUHJlc2VudGF0aW9ucy51cGRhdGUob2xkUHJlc2VudGF0aW9uLl9pZCwgb2xkQ3VycmVudC5tb2RpZmllciwgb2xkQ3VycmVudC5jYWxsYmFjayk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBQcmVzZW50YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb25zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0UHJlc2VudGF0aW9uRG93bmxvYWRhYmxlKG1lZXRpbmdJZCwgcG9kSWQsXG4gIHByZXNlbnRhdGlvbklkLCBkb3dubG9hZGFibGUpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhwcmVzZW50YXRpb25JZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKGRvd25sb2FkYWJsZSwgQm9vbGVhbik7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIGlkOiBwcmVzZW50YXRpb25JZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBkb3dubG9hZGFibGUsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYENvdWxkIG5vdCBzZXQgZG93bmxvYWRhYmxlIG9uIHByZXMgeyR7cHJlc2VudGF0aW9uSWR9IGluIG1lZXRpbmcgeyR7bWVldGluZ0lkfX0gJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBTZXQgZG93bmxvYWRhYmxlIHN0YXR1cyBvbiBwcmVzZW50YXRpb24geyR7cHJlc2VudGF0aW9uSWR9IGluIG1lZXRpbmcgeyR7bWVldGluZ0lkfX1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFByZXNlbnRhdGlvbnMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVQcmVzZW50YXRpb25BZGRlZCBmcm9tICcuL2hhbmRsZXJzL3ByZXNlbnRhdGlvbkFkZGVkJztcbmltcG9ydCBoYW5kbGVQcmVzZW50YXRpb25SZW1vdmUgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50YXRpb25SZW1vdmUnO1xuaW1wb3J0IGhhbmRsZVByZXNlbnRhdGlvbkN1cnJlbnRTZXQgZnJvbSAnLi9oYW5kbGVycy9wcmVzZW50YXRpb25DdXJyZW50U2V0JztcbmltcG9ydCBoYW5kbGVQcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlIGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSc7XG5pbXBvcnQgaGFuZGxlUHJlc2VudGF0aW9uRG93bmxvYWRhYmxlU2V0IGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGF0aW9uRG93bmxvYWRhYmxlU2V0JztcblxuUmVkaXNQdWJTdWIub24oJ1BkZkNvbnZlcnNpb25JbnZhbGlkRXJyb3JFdnRNc2cnLCBoYW5kbGVQcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlKTtcblJlZGlzUHViU3ViLm9uKCdQcmVzZW50YXRpb25QYWdlR2VuZXJhdGVkRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSk7XG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uUGFnZUNvdW50RXJyb3JFdnRNc2cnLCBoYW5kbGVQcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlKTtcblJlZGlzUHViU3ViLm9uKCdQcmVzZW50YXRpb25Db252ZXJzaW9uVXBkYXRlRXZ0TXNnJywgaGFuZGxlUHJlc2VudGF0aW9uQ29udmVyc2lvblVwZGF0ZSk7XG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGF0aW9uQ29udmVyc2lvbkNvbXBsZXRlZEV2dE1zZycsIGhhbmRsZVByZXNlbnRhdGlvbkFkZGVkKTtcblJlZGlzUHViU3ViLm9uKCdSZW1vdmVQcmVzZW50YXRpb25FdnRNc2cnLCBoYW5kbGVQcmVzZW50YXRpb25SZW1vdmUpO1xuUmVkaXNQdWJTdWIub24oJ1NldEN1cnJlbnRQcmVzZW50YXRpb25FdnRNc2cnLCBoYW5kbGVQcmVzZW50YXRpb25DdXJyZW50U2V0KTtcblJlZGlzUHViU3ViLm9uKCdTZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGVFdnRNc2cnLCBoYW5kbGVQcmVzZW50YXRpb25Eb3dubG9hZGFibGVTZXQpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgcmVtb3ZlUHJlc2VudGF0aW9uIGZyb20gJy4vbWV0aG9kcy9yZW1vdmVQcmVzZW50YXRpb24nO1xuaW1wb3J0IHNldFByZXNlbnRhdGlvbiBmcm9tICcuL21ldGhvZHMvc2V0UHJlc2VudGF0aW9uJztcbmltcG9ydCBzZXRQcmVzZW50YXRpb25Eb3dubG9hZGFibGUgZnJvbSAnLi9tZXRob2RzL3NldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZSc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgcmVtb3ZlUHJlc2VudGF0aW9uLFxuICBzZXRQcmVzZW50YXRpb24sXG4gIHNldFByZXNlbnRhdGlvbkRvd25sb2FkYWJsZSxcbn0pO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gcHJlc2VudGF0aW9ucygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBQcmVzZW50YXRpb25zLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIFByZXNlbnRhdGlvbnMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gUHJlc2VudGF0aW9ucy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRQcmVzZW50YXRpb25zID0gcHJlc2VudGF0aW9ucy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRQcmVzZW50YXRpb25zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgncHJlc2VudGF0aW9ucycsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFByZXNlbnRhdGlvbnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigncHJlc2VudGF0aW9ucycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBwcmVzZW50YXRpb25zOlxuICAvLyAxLiBtZWV0aW5nSWQsIHBvZElkLCBpZCAgICAgICAgKCAzIClcbiAgLy8gMi4gbWVldGluZ0lkLCBpZCAgICAgICAgICAgICAgICggMSApXG4gIC8vIDMuIG1lZXRpbmdJZCwgaWQsIGN1cnJlbnQgICAgICAoIDIgKVxuICAvLyA0LiBtZWV0aW5nSWQgICAgICAgICAgICAgICAgICAgKCAxIClcblxuICBQcmVzZW50YXRpb25zLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgcG9kSWQ6IDEsIGlkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBQcmVzZW50YXRpb25zO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBhZGRTY3JlZW5zaGFyZSBmcm9tICcuLi9tb2RpZmllcnMvYWRkU2NyZWVuc2hhcmUnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8gZnJvbSAnL2ltcG9ydHMvYXBpL2V4dGVybmFsLXZpZGVvcy9zZXJ2ZXIvbWV0aG9kcy9zdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlU2NyZWVuc2hhcmVTdGFydGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0pO1xuICBjb25zdCBwcmVzZW50ZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCBwcmVzZW50ZXI6IHRydWUgfSk7XG4gIGNvbnN0IHByZXNlbnRlcklkID0gcHJlc2VudGVyICYmIHByZXNlbnRlci51c2VySWQgPyBwcmVzZW50ZXIudXNlcklkIDogJ3N5c3RlbS1zY3JlZW5zaGFyZS1zdGFydGluZyc7XG4gIGlmIChtZWV0aW5nICYmIG1lZXRpbmcuZXh0ZXJuYWxWaWRlb1VybCkge1xuICAgIExvZ2dlci5pbmZvKGBTY3JlZW5zaGFyZVN0YXJ0ZWQ6IFRoZXJlIGlzIGV4dGVybmFsIHZpZGVvIGJlaW5nIHNoYXJlZC4gU3RvcHBpbmcgaXQgZHVlIHRvIHByZXNlbnRlciBjaGFuZ2UsICR7bWVldGluZy5leHRlcm5hbFZpZGVvVXJsfWApO1xuICAgIHN0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8oeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZDogcHJlc2VudGVySWQgfSk7XG4gIH1cbiAgcmV0dXJuIGFkZFNjcmVlbnNoYXJlKG1lZXRpbmdJZCwgYm9keSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgY2xlYXJTY3JlZW5zaGFyZSBmcm9tICcuLi9tb2RpZmllcnMvY2xlYXJTY3JlZW5zaGFyZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNjcmVlbnNoYXJlU3RvcHBlZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgc2NyZWVuc2hhcmVDb25mIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2soc2NyZWVuc2hhcmVDb25mLCBTdHJpbmcpO1xuXG4gIHJldHVybiBjbGVhclNjcmVlbnNoYXJlKG1lZXRpbmdJZCwgc2NyZWVuc2hhcmVDb25mKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFNjcmVlbnNoYXJlIGZyb20gJy9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFNjcmVlbnNoYXJlKG1lZXRpbmdJZCwgYm9keSkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHNjcmVlbnNoYXJlOiBmbGF0KGJvZHkpLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIHNjcmVlbnNoYXJlIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgc2NyZWVuc2hhcmUgaWQ9JHtib2R5LnNjcmVlbnNoYXJlQ29uZn1gKTtcbiAgfTtcblxuICByZXR1cm4gU2NyZWVuc2hhcmUudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFNjcmVlbnNoYXJlIGZyb20gJy9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyU2NyZWVuc2hhcmUobWVldGluZ0lkLCBzY3JlZW5zaGFyZUNvbmYpIHtcbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgcmVtb3Zpbmcgc2NyZWVuc2hhcmUgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGByZW1vdmVkIHNjcmVlbnNoYXJlIG1lZXRpbmdJZD0ke21lZXRpbmdJZH0gaWQ9JHtzY3JlZW5zaGFyZUNvbmZ9YCk7XG4gIH07XG5cbiAgaWYgKG1lZXRpbmdJZCAmJiBzY3JlZW5zaGFyZUNvbmYpIHtcbiAgICByZXR1cm4gU2NyZWVuc2hhcmUucmVtb3ZlKHsgbWVldGluZ0lkLCAnc2NyZWVuc2hhcmUuc2NyZWVuc2hhcmVDb25mJzogc2NyZWVuc2hhcmVDb25mIH0sIGNiKTtcbiAgfVxuICByZXR1cm4gU2NyZWVuc2hhcmUucmVtb3ZlKHt9LCBjYik7XG59XG4iLCJpbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IGhhbmRsZVNjcmVlbnNoYXJlU3RhcnRlZCBmcm9tICcuL2hhbmRsZXJzL3NjcmVlbnNoYXJlU3RhcnRlZCc7XG5pbXBvcnQgaGFuZGxlU2NyZWVuc2hhcmVTdG9wcGVkIGZyb20gJy4vaGFuZGxlcnMvc2NyZWVuc2hhcmVTdG9wcGVkJztcblxuUmVkaXNQdWJTdWIub24oJ1NjcmVlbnNoYXJlUnRtcEJyb2FkY2FzdFN0YXJ0ZWRFdnRNc2cnLCBoYW5kbGVTY3JlZW5zaGFyZVN0YXJ0ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1NjcmVlbnNoYXJlUnRtcEJyb2FkY2FzdFN0b3BwZWRFdnRNc2cnLCBoYW5kbGVTY3JlZW5zaGFyZVN0b3BwZWQpO1xuIiwiaW1wb3J0ICcuL2V2ZW50SGFuZGxlcnMnO1xuaW1wb3J0ICcuL21ldGhvZHMnO1xuaW1wb3J0ICcuL3B1Ymxpc2hlcnMnO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbk1ldGVvci5tZXRob2RzKHtcbn0pO1xuIiwiaW1wb3J0IFNjcmVlbnNoYXJlIGZyb20gJy9pbXBvcnRzL2FwaS9zY3JlZW5zaGFyZSc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiBzY3JlZW5zaGFyZSgpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBTY3JlZW5zaGFyZS5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBTY3JlZW5zaGFyZSBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBTY3JlZW5zaGFyZS5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRTY3JlZW5zaGFyZSA9IHNjcmVlbnNoYXJlLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNjcmVlbnNoYXJlKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnc2NyZWVuc2hhcmUnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBTY3JlZW5zaGFyZSA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCdzY3JlZW5zaGFyZScpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSBzY3JlZW5zaGFyZTpcbiAgLy8gMS4gbWVldGluZ0lkXG5cbiAgU2NyZWVuc2hhcmUuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBTY3JlZW5zaGFyZTtcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjaGFuZ2VDdXJyZW50U2xpZGUgZnJvbSAnLi4vbW9kaWZpZXJzL2NoYW5nZUN1cnJlbnRTbGlkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNsaWRlQ2hhbmdlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwYWdlSWQsIHByZXNlbnRhdGlvbklkLCBwb2RJZCB9ID0gYm9keTtcblxuICBjaGVjayhwYWdlSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gY2hhbmdlQ3VycmVudFNsaWRlKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBwYWdlSWQpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHJlc2l6ZVNsaWRlIGZyb20gJy4uL21vZGlmaWVycy9yZXNpemVTbGlkZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVNsaWRlUmVzaXplKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gIHJldHVybiByZXNpemVTbGlkZShtZWV0aW5nSWQsIGJvZHkpO1xufVxuIiwiaW1wb3J0IFByZXNlbnRhdGlvbnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbnMnO1xuaW1wb3J0IHsgU2xpZGVzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3dpdGNoU2xpZGUoc2xpZGVOdW1iZXIsIHBvZElkKSB7IC8vIFRPRE8tLSBzZW5kIHByZXNlbnRhdGlvbklkIGFuZCBTbGlkZUlkXG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuXG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdTZXRDdXJyZW50UGFnZVB1Yk1zZyc7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHNsaWRlTnVtYmVyLCBOdW1iZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBjdXJyZW50OiB0cnVlLFxuICB9O1xuXG4gIGNvbnN0IFByZXNlbnRhdGlvbiA9IFByZXNlbnRhdGlvbnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgaWYgKCFQcmVzZW50YXRpb24pIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwcmVzZW50YXRpb24tbm90LWZvdW5kJywgJ1lvdSBuZWVkIGEgcHJlc2VudGF0aW9uIHRvIGJlIGFibGUgdG8gc3dpdGNoIHNsaWRlcycpO1xuICB9XG5cbiAgY29uc3QgU2xpZGUgPSBTbGlkZXMuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkOiBQcmVzZW50YXRpb24uaWQsXG4gICAgbnVtOiBzbGlkZU51bWJlcixcbiAgfSk7XG5cbiAgaWYgKCFTbGlkZSkge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3NsaWRlLW5vdC1mb3VuZCcsIGBTbGlkZSBudW1iZXIgJHtzbGlkZU51bWJlcn0gbm90IGZvdW5kIGluIHRoZSBjdXJyZW50IHByZXNlbnRhdGlvbmApO1xuICB9XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZDogUHJlc2VudGF0aW9uLmlkLFxuICAgIHBhZ2VJZDogU2xpZGUuaWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgUHJlc2VudGF0aW9ucyBmcm9tICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucyc7XG5pbXBvcnQgeyBTbGlkZXMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB6b29tU2xpZGUoc2xpZGVOdW1iZXIsIHBvZElkLCB3aWR0aFJhdGlvLCBoZWlnaHRSYXRpbywgeCwgeSkgeyAvLyBUT0RPLS0gc2VuZCBwcmVzZW50YXRpb25JZCBhbmQgU2xpZGVJZFxuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcblxuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnUmVzaXplQW5kTW92ZVBhZ2VQdWJNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBjdXJyZW50OiB0cnVlLFxuICB9O1xuICBjb25zdCBQcmVzZW50YXRpb24gPSBQcmVzZW50YXRpb25zLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGlmICghUHJlc2VudGF0aW9uKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigncHJlc2VudGF0aW9uLW5vdC1mb3VuZCcsICdZb3UgbmVlZCBhIHByZXNlbnRhdGlvbiB0byBiZSBhYmxlIHRvIHN3aXRjaCBzbGlkZXMnKTtcbiAgfVxuXG4gIGNvbnN0IFNsaWRlID0gU2xpZGVzLmZpbmRPbmUoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZDogUHJlc2VudGF0aW9uLmlkLFxuICAgIG51bTogc2xpZGVOdW1iZXIsXG4gIH0pO1xuXG4gIGlmICghU2xpZGUpIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdzbGlkZS1ub3QtZm91bmQnLCBgU2xpZGUgbnVtYmVyICR7c2xpZGVOdW1iZXJ9IG5vdCBmb3VuZCBpbiB0aGUgY3VycmVudCBwcmVzZW50YXRpb25gKTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQ6IFByZXNlbnRhdGlvbi5pZCxcbiAgICBwYWdlSWQ6IFNsaWRlLmlkLFxuICAgIHhPZmZzZXQ6IHgsXG4gICAgeU9mZnNldDogeSxcbiAgICB3aWR0aFJhdGlvLFxuICAgIGhlaWdodFJhdGlvLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHByb2JlIGZyb20gJ3Byb2JlLWltYWdlLXNpemUnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBTbGlkZXMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IFNWRywgUE5HIH0gZnJvbSAnL2ltcG9ydHMvdXRpbHMvbWltZVR5cGVzJztcbmltcG9ydCBjYWxjdWxhdGVTbGlkZURhdGEgZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgYWRkU2xpZGVQb3NpdGlvbnMgZnJvbSAnLi9hZGRTbGlkZVBvc2l0aW9ucyc7XG5cbmNvbnN0IGxvYWRTbGlkZXNGcm9tSHR0cEFsd2F5cyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLmFwcC5sb2FkU2xpZGVzRnJvbUh0dHBBbHdheXMgfHwgZmFsc2U7XG5cbmNvbnN0IHJlcXVlc3RXaGl0ZWJvYXJkSGlzdG9yeSA9IChtZWV0aW5nSWQsIHNsaWRlSWQpID0+IHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdHZXRXaGl0ZWJvYXJkQW5ub3RhdGlvbnNSZXFNc2cnO1xuICBjb25zdCBVU0VSX0lEID0gJ25vZGVKU2FwcCc7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB3aGl0ZWJvYXJkSWQ6IHNsaWRlSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIFVTRVJfSUQsIHBheWxvYWQpO1xufTtcblxuY29uc3QgU1VQUE9SVEVEX1RZUEVTID0gW1NWRywgUE5HXTtcblxuY29uc3QgZmV0Y2hJbWFnZVNpemVzID0gaW1hZ2VVcmkgPT4gcHJvYmUoaW1hZ2VVcmkpXG4gIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAoIVNVUFBPUlRFRF9UWVBFUy5pbmNsdWRlcyhyZXN1bHQubWltZSkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ludmFsaWQtaW1hZ2UtdHlwZScsIGByZWNlaXZlZCAke3Jlc3VsdC5taW1lfSBleHBlY3RpbmcgJHtTVVBQT1JURURfVFlQRVMuam9pbigpfWApO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogcmVzdWx0LndpZHRoLFxuICAgICAgaGVpZ2h0OiByZXN1bHQuaGVpZ2h0LFxuICAgIH07XG4gIH0pXG4gIC5jYXRjaCgocmVhc29uKSA9PiB7XG4gICAgTG9nZ2VyLmVycm9yKGBFcnJvciBwYXJzaW5nIGltYWdlIHNpemUuICR7cmVhc29ufS4gdXJpPSR7aW1hZ2VVcml9YCk7XG4gICAgcmV0dXJuIHJlYXNvbjtcbiAgfSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFNsaWRlKG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBzbGlkZSkge1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG5cbiAgY2hlY2soc2xpZGUsIHtcbiAgICBpZDogU3RyaW5nLFxuICAgIG51bTogTnVtYmVyLFxuICAgIHRodW1iVXJpOiBTdHJpbmcsXG4gICAgc3dmVXJpOiBTdHJpbmcsXG4gICAgdHh0VXJpOiBTdHJpbmcsXG4gICAgc3ZnVXJpOiBTdHJpbmcsXG4gICAgY3VycmVudDogQm9vbGVhbixcbiAgICB4T2Zmc2V0OiBOdW1iZXIsXG4gICAgeU9mZnNldDogTnVtYmVyLFxuICAgIHdpZHRoUmF0aW86IE51bWJlcixcbiAgICBoZWlnaHRSYXRpbzogTnVtYmVyLFxuICAgIGNvbnRlbnQ6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3Qge1xuICAgIGlkOiBzbGlkZUlkLFxuICAgIHhPZmZzZXQsXG4gICAgeU9mZnNldCxcbiAgICB3aWR0aFJhdGlvLFxuICAgIGhlaWdodFJhdGlvLFxuICAgIC4uLnJlc3RTbGlkZVxuICB9ID0gc2xpZGU7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHBvZElkLFxuICAgIHByZXNlbnRhdGlvbklkLFxuICAgIGlkOiBzbGlkZUlkLFxuICB9O1xuXG4gIGNvbnN0IGltYWdlVXJpID0gc2xpZGUuc3ZnVXJpIHx8IHNsaWRlLnBuZ1VyaTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKFxuICAgICAgeyBtZWV0aW5nSWQgfSxcbiAgICAgIHsgcG9kSWQgfSxcbiAgICAgIHsgcHJlc2VudGF0aW9uSWQgfSxcbiAgICAgIHsgaWQ6IHNsaWRlSWQgfSxcbiAgICAgIHsgaW1hZ2VVcmkgfSxcbiAgICAgIGZsYXQocmVzdFNsaWRlKSxcbiAgICAgIHsgc2FmZTogdHJ1ZSB9LFxuICAgICksXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQWRkaW5nIHNsaWRlIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaW5zZXJ0ZWRJZCB9ID0gbnVtQ2hhbmdlZDtcblxuICAgIHJlcXVlc3RXaGl0ZWJvYXJkSGlzdG9yeShtZWV0aW5nSWQsIHNsaWRlSWQpO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgc2xpZGUgaWQ9JHtzbGlkZUlkfSBwb2Q9JHtwb2RJZH0gcHJlc2VudGF0aW9uPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBzbGlkZSBpZD0ke3NsaWRlSWR9IHBvZD0ke3BvZElkfSBwcmVzZW50YXRpb249JHtwcmVzZW50YXRpb25JZH1gKTtcbiAgfTtcblxuICBjb25zdCBpbWFnZVNpemVVcmkgPSAobG9hZFNsaWRlc0Zyb21IdHRwQWx3YXlzID8gaW1hZ2VVcmkucmVwbGFjZSgvXmh0dHBzL2ksICdodHRwJykgOiBpbWFnZVVyaSk7XG5cbiAgcmV0dXJuIGZldGNoSW1hZ2VTaXplcyhpbWFnZVNpemVVcmkpXG4gICAgLnRoZW4oKHsgd2lkdGgsIGhlaWdodCB9KSA9PiB7XG4gICAgICAvLyB0aGVyZSBpcyBhIHJhcmUgY2FzZSB3aGVuIGZvciBhIHZlcnkgbG9uZyBub3QtYWN0aXZlIG1lZXRpbmcgdGhlIHByZXNlbnRhdGlvblxuICAgICAgLy8gZmlsZXMganVzdCBkaXNhcHBlYXIgYW5kIHdpZHRoL2hlaWdodCBjYW4ndCBiZSByZXRyaWV2ZWRcbiAgICAgIGlmICh3aWR0aCAmJiBoZWlnaHQpIHtcbiAgICAgICAgLy8gcHJlLWNhbGN1bGF0aW5nIHRoZSB3aWR0aCwgaGVpZ2h0LCBhbmQgdmllQm94IGNvb3JkaW5hdGVzIC8gZGltZW5zaW9uc1xuICAgICAgICAvLyB0byB1bmxvYWQgdGhlIGNsaWVudC1zaWRlXG4gICAgICAgIGNvbnN0IHNsaWRlRGF0YSA9IHtcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgeE9mZnNldCxcbiAgICAgICAgICB5T2Zmc2V0LFxuICAgICAgICAgIHdpZHRoUmF0aW8sXG4gICAgICAgICAgaGVpZ2h0UmF0aW8sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNsaWRlUG9zaXRpb24gPSBjYWxjdWxhdGVTbGlkZURhdGEoc2xpZGVEYXRhKTtcblxuICAgICAgICBhZGRTbGlkZVBvc2l0aW9ucyhtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgc2xpZGVJZCwgc2xpZGVQb3NpdGlvbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBTbGlkZXMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xuICAgIH0pXG4gICAgLmNhdGNoKHJlYXNvbiA9PiBMb2dnZXIuZXJyb3IoYEVycm9yIHBhcnNpbmcgaW1hZ2Ugc2l6ZS4gJHtyZWFzb259LiBzbGlkZT0ke3NsaWRlSWR9IHVyaT0ke2ltYWdlVXJpfWApKTtcbn1cbiIsImltcG9ydCB7IFNsaWRlUG9zaXRpb25zIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgZmxhdCBmcm9tICdmbGF0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkU2xpZGVQb3NpdGlvbnMoXG4gIG1lZXRpbmdJZCxcbiAgcG9kSWQsXG4gIHByZXNlbnRhdGlvbklkLFxuICBzbGlkZUlkLFxuICBzbGlkZVBvc2l0aW9uLFxuKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socG9kSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhzbGlkZUlkLCBTdHJpbmcpO1xuXG4gIGNoZWNrKHNsaWRlUG9zaXRpb24sIHtcbiAgICB3aWR0aDogTnVtYmVyLFxuICAgIGhlaWdodDogTnVtYmVyLFxuICAgIHg6IE51bWJlcixcbiAgICB5OiBOdW1iZXIsXG4gICAgdmlld0JveFdpZHRoOiBOdW1iZXIsXG4gICAgdmlld0JveEhlaWdodDogTnVtYmVyLFxuICB9KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQsXG4gICAgaWQ6IHNsaWRlSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIHsgbWVldGluZ0lkIH0sXG4gICAgICB7IHBvZElkIH0sXG4gICAgICB7IHByZXNlbnRhdGlvbklkIH0sXG4gICAgICB7IGlkOiBzbGlkZUlkIH0sXG4gICAgICBmbGF0KHNsaWRlUG9zaXRpb24pLFxuICAgICAgeyBzYWZlOiB0cnVlIH0sXG4gICAgKSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgc2xpZGUgcG9zaXRpb24gdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBpbnNlcnRlZElkIH0gPSBudW1DaGFuZ2VkO1xuXG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgc2xpZGUgcG9zaXRpb24gaWQ9JHtzbGlkZUlkfSBwb2Q9JHtwb2RJZH0gcHJlc2VudGF0aW9uPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBVcHNlcnRlZCBzbGlkZSBwb3NpdGlvbiBpZD0ke3NsaWRlSWR9IHBvZD0ke3BvZElkfSBwcmVzZW50YXRpb249JHtwcmVzZW50YXRpb25JZH1gKTtcbiAgfTtcblxuICByZXR1cm4gU2xpZGVQb3NpdGlvbnMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgU2xpZGVzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZUN1cnJlbnRTbGlkZShtZWV0aW5nSWQsIHBvZElkLCBwcmVzZW50YXRpb25JZCwgc2xpZGVJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHByZXNlbnRhdGlvbklkLCBTdHJpbmcpO1xuICBjaGVjayhzbGlkZUlkLCBTdHJpbmcpO1xuICBjaGVjayhwb2RJZCwgU3RyaW5nKTtcblxuICBjb25zdCBvbGRDdXJyZW50ID0ge1xuICAgIHNlbGVjdG9yOiB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZCxcbiAgICAgIHByZXNlbnRhdGlvbklkLFxuICAgICAgY3VycmVudDogdHJ1ZSxcbiAgICB9LFxuICAgIG1vZGlmaWVyOiB7XG4gICAgICAkc2V0OiB7IGN1cnJlbnQ6IGZhbHNlIH0sXG4gICAgfSxcbiAgICBjYWxsYmFjazogKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBVbnNldHRpbmcgdGhlIGN1cnJlbnQgc2xpZGU6ICR7ZXJyfWApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oJ1Vuc2V0dGVkIHRoZSBjdXJyZW50IHNsaWRlJyk7XG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBuZXdDdXJyZW50ID0ge1xuICAgIHNlbGVjdG9yOiB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICBwb2RJZCxcbiAgICAgIHByZXNlbnRhdGlvbklkLFxuICAgICAgaWQ6IHNsaWRlSWQsXG4gICAgfSxcbiAgICBtb2RpZmllcjoge1xuICAgICAgJHNldDogeyBjdXJyZW50OiB0cnVlIH0sXG4gICAgfSxcbiAgICBjYWxsYmFjazogKGVycikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBTZXR0aW5nIGFzIGN1cnJlbnQgc2xpZGUgaWQ9JHtzbGlkZUlkfTogJHtlcnJ9YCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgU2V0dGVkIGFzIGN1cnJlbnQgc2xpZGUgaWQ9JHtzbGlkZUlkfWApO1xuICAgIH0sXG4gIH07XG5cbiAgY29uc3Qgb2xkU2xpZGUgPSBTbGlkZXMuZmluZE9uZShvbGRDdXJyZW50LnNlbGVjdG9yKTtcbiAgY29uc3QgbmV3U2xpZGUgPSBTbGlkZXMuZmluZE9uZShuZXdDdXJyZW50LnNlbGVjdG9yKTtcblxuICAvLyBpZiB0aGUgb2xkQ3VycmVudCBhbmQgbmV3Q3VycmVudCBoYXZlIHRoZSBzYW1lIGlkc1xuICBpZiAob2xkU2xpZGUgJiYgbmV3U2xpZGUgJiYgKG9sZFNsaWRlLl9pZCA9PT0gbmV3U2xpZGUuX2lkKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChuZXdTbGlkZSkge1xuICAgIFNsaWRlcy51cGRhdGUobmV3U2xpZGUuX2lkLCBuZXdDdXJyZW50Lm1vZGlmaWVyLCBuZXdDdXJyZW50LmNhbGxiYWNrKTtcbiAgfVxuXG4gIGlmIChvbGRTbGlkZSkge1xuICAgIFNsaWRlcy51cGRhdGUob2xkU2xpZGUuX2lkLCBvbGRDdXJyZW50Lm1vZGlmaWVyLCBvbGRDdXJyZW50LmNhbGxiYWNrKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU2xpZGVzLCBTbGlkZVBvc2l0aW9ucyB9IGZyb20gJy9pbXBvcnRzL2FwaS9zbGlkZXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclNsaWRlcyhtZWV0aW5nSWQpIHtcbiAgaWYgKG1lZXRpbmdJZCkge1xuICAgIFNsaWRlUG9zaXRpb25zLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBTbGlkZVBvc2l0aW9ucyAoJHttZWV0aW5nSWR9KWApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFNsaWRlcy5yZW1vdmUoeyBtZWV0aW5nSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgU2xpZGVzICgke21lZXRpbmdJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICBTbGlkZVBvc2l0aW9ucy5yZW1vdmUoe30sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbygnQ2xlYXJlZCBTbGlkZVBvc2l0aW9ucyAoYWxsKScpO1xuICB9KTtcblxuICByZXR1cm4gU2xpZGVzLnJlbW92ZSh7fSwgKCkgPT4ge1xuICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFNsaWRlcyAoYWxsKScpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IFNsaWRlcywgU2xpZGVQb3NpdGlvbnMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBjbGVhckFubm90YXRpb25zIGZyb20gJy9pbXBvcnRzL2FwaS9hbm5vdGF0aW9ucy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyQW5ub3RhdGlvbnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclNsaWRlc1ByZXNlbnRhdGlvbihtZWV0aW5nSWQsIHByZXNlbnRhdGlvbklkKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2socHJlc2VudGF0aW9uSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHByZXNlbnRhdGlvbklkLFxuICB9O1xuXG4gIGNvbnN0IHdoaXRlYm9hcmRJZHMgPSBTbGlkZXMuZmluZChzZWxlY3RvciwgeyBmaWVsZHM6IHsgaWQ6IDEgfSB9KS5tYXAocm93ID0+IHJvdy5pZCk7XG5cbiAgY29uc3QgY2IgPSAoZXJyKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgUmVtb3ZpbmcgU2xpZGVzIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgd2hpdGVib2FyZElkcy5mb3JFYWNoKHdoaXRlYm9hcmRJZCA9PiBjbGVhckFubm90YXRpb25zKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkKSk7XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFJlbW92ZWQgU2xpZGVzIHdoZXJlIHByZXNlbnRhdGlvbklkPSR7cHJlc2VudGF0aW9uSWR9YCk7XG4gIH07XG5cbiAgU2xpZGVQb3NpdGlvbnMucmVtb3ZlKHNlbGVjdG9yKTtcblxuICByZXR1cm4gU2xpZGVzLnJlbW92ZShzZWxlY3RvciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgU2xpZGVQb3NpdGlvbnMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBjYWxjdWxhdGVTbGlkZURhdGEgZnJvbSAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc2l6ZVNsaWRlKG1lZXRpbmdJZCwgc2xpZGUpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHtcbiAgICBwb2RJZCxcbiAgICBwcmVzZW50YXRpb25JZCxcbiAgICBwYWdlSWQsXG4gICAgd2lkdGhSYXRpbyxcbiAgICBoZWlnaHRSYXRpbyxcbiAgICB4T2Zmc2V0LFxuICAgIHlPZmZzZXQsXG4gIH0gPSBzbGlkZTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcG9kSWQsXG4gICAgcHJlc2VudGF0aW9uSWQsXG4gICAgaWQ6IHBhZ2VJZCxcbiAgfTtcblxuICAvLyBmZXRjaGluZyB0aGUgY3VycmVudCBzbGlkZSBkYXRhXG4gIC8vIGFuZCBwcmUtY2FsY3VsYXRpbmcgdGhlIHdpZHRoLCBoZWlnaHQsIGFuZCB2aWVCb3ggY29vcmRpbmF0ZXMgLyBzaXplc1xuICAvLyB0byByZWR1Y2UgdGhlIGNsaWVudC1zaWRlIGxvYWRcbiAgY29uc3QgU2xpZGVQb3NpdGlvbiA9IFNsaWRlUG9zaXRpb25zLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIGlmIChTbGlkZVBvc2l0aW9uKSB7XG4gICAgY29uc3Qge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgfSA9IFNsaWRlUG9zaXRpb247XG5cbiAgICBjb25zdCBzbGlkZURhdGEgPSB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIHhPZmZzZXQsXG4gICAgICB5T2Zmc2V0LFxuICAgICAgd2lkdGhSYXRpbyxcbiAgICAgIGhlaWdodFJhdGlvLFxuICAgIH07XG4gICAgY29uc3QgY2FsY3VsYXRlZERhdGEgPSBjYWxjdWxhdGVTbGlkZURhdGEoc2xpZGVEYXRhKTtcblxuICAgIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICAgJHNldDogY2FsY3VsYXRlZERhdGEsXG4gICAgfTtcblxuICAgIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBSZXNpemluZyBzbGlkZSBwb3NpdGlvbnMgaWQ9JHtwYWdlSWR9OiAke2Vycn1gKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgICAgcmV0dXJuIExvZ2dlci5kZWJ1ZyhgUmVzaXplZCBzbGlkZSBwb3NpdGlvbnMgaWQ9JHtwYWdlSWR9YCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgTm8gc2xpZGUgcG9zaXRpb25zIGZvdW5kIHdpdGggaWQ9JHtwYWdlSWR9YCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTbGlkZVBvc2l0aW9ucy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG4gIH1cbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlU2xpZGVSZXNpemUgZnJvbSAnLi9oYW5kbGVycy9zbGlkZVJlc2l6ZSc7XG5pbXBvcnQgaGFuZGxlU2xpZGVDaGFuZ2UgZnJvbSAnLi9oYW5kbGVycy9zbGlkZUNoYW5nZSc7XG5cblJlZGlzUHViU3ViLm9uKCdSZXNpemVBbmRNb3ZlUGFnZUV2dE1zZycsIGhhbmRsZVNsaWRlUmVzaXplKTtcblJlZGlzUHViU3ViLm9uKCdTZXRDdXJyZW50UGFnZUV2dE1zZycsIGhhbmRsZVNsaWRlQ2hhbmdlKTtcbiIsIlxuY29uc3QgY2FsY3VsYXRlU2xpZGVEYXRhID0gKHNsaWRlRGF0YSkgPT4ge1xuICBjb25zdCB7XG4gICAgd2lkdGgsIGhlaWdodCwgeE9mZnNldCwgeU9mZnNldCwgd2lkdGhSYXRpbywgaGVpZ2h0UmF0aW8sXG4gIH0gPSBzbGlkZURhdGE7XG5cbiAgLy8gY2FsY3VsYXRpbmcgdmlld0JveCBhbmQgb2Zmc2V0cyBmb3IgdGhlIGN1cnJlbnQgcHJlc2VudGF0aW9uXG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHg6ICgoLXhPZmZzZXQgKiAyKSAqIHdpZHRoKSAvIDEwMCxcbiAgICB5OiAoKC15T2Zmc2V0ICogMikgKiBoZWlnaHQpIC8gMTAwLFxuICAgIHZpZXdCb3hXaWR0aDogKHdpZHRoICogd2lkdGhSYXRpbykgLyAxMDAsXG4gICAgdmlld0JveEhlaWdodDogKGhlaWdodCAqIGhlaWdodFJhdGlvKSAvIDEwMCxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNhbGN1bGF0ZVNsaWRlRGF0YTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHN3aXRjaFNsaWRlIGZyb20gJy4vbWV0aG9kcy9zd2l0Y2hTbGlkZSc7XG5pbXBvcnQgem9vbVNsaWRlIGZyb20gJy4vbWV0aG9kcy96b29tU2xpZGUnO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHN3aXRjaFNsaWRlLFxuICB6b29tU2xpZGUsXG59KTtcbiIsImltcG9ydCB7IFNsaWRlcywgU2xpZGVQb3NpdGlvbnMgfSBmcm9tICcvaW1wb3J0cy9hcGkvc2xpZGVzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHNsaWRlcygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBTbGlkZXMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIFNsaWRlcyBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBTbGlkZXMuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kU2xpZGVzID0gc2xpZGVzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNsaWRlcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3NsaWRlcycsIHB1Ymxpc2gpO1xuXG5mdW5jdGlvbiBzbGlkZVBvc2l0aW9ucygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBTbGlkZVBvc2l0aW9ucy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5kZWJ1ZyhgUHVibGlzaGluZyBTbGlkZVBvc2l0aW9ucyBmb3IgJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIHJldHVybiBTbGlkZVBvc2l0aW9ucy5maW5kKHsgbWVldGluZ0lkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoUG9zaXRpb25zKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRTbGlkZVBvc2l0aW9ucyA9IHNsaWRlUG9zaXRpb25zLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFNsaWRlUG9zaXRpb25zKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnc2xpZGUtcG9zaXRpb25zJywgcHVibGlzaFBvc2l0aW9ucyk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgU2xpZGVzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3NsaWRlcycpO1xuY29uc3QgU2xpZGVQb3NpdGlvbnMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignc2xpZGUtcG9zaXRpb25zJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHNsaWRlczpcblxuICAvLyAxLiBtZWV0aW5nSWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCAxIClcbiAgLy8gMi4gbWVldGluZ0lkLCBwb2RJZCAgICAgICAgICAgICAgICAgICAgICAgICAgICggMSApXG4gIC8vIDMuIG1lZXRpbmdJZCwgcHJlc2VudGF0aW9uSWQgICAgICAgICAgICAgICAgICAoIDEgKVxuICAvLyAzLiBtZWV0aW5nSWQsIHByZXNlbnRhdGlvbklkLCBudW0gICAgICAgICAgICAgKCAxIClcbiAgLy8gNC4gbWVldGluZ0lkLCBwb2RJZCwgcHJlc2VudGF0aW9uSWQsIGlkICAgICAgICggMyApIC0gaW5jbC4gcmVzaXplU2xpZGUsIHdoaWNoIGNhbiBiZSBpbnRlbnNlXG4gIC8vIDUuIG1lZXRpbmdJZCwgcG9kSWQsIHByZXNlbnRhdGlvbklkLCBjdXJyZW50ICAoIDEgKVxuXG4gIFNsaWRlcy5fZW5zdXJlSW5kZXgoe1xuICAgIG1lZXRpbmdJZDogMSwgcG9kSWQ6IDEsIHByZXNlbnRhdGlvbklkOiAxLCBpZDogMSxcbiAgfSk7XG5cbiAgU2xpZGVQb3NpdGlvbnMuX2Vuc3VyZUluZGV4KHtcbiAgICBtZWV0aW5nSWQ6IDEsIHBvZElkOiAxLCBwcmVzZW50YXRpb25JZDogMSwgaWQ6IDEsXG4gIH0pO1xufVxuXG5leHBvcnQgeyBTbGlkZXMsIFNsaWRlUG9zaXRpb25zIH07XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgY2hhbmdlUm9sZSBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9jaGFuZ2VSb2xlJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlUm9sZShwYXlsb2FkLCBtZWV0aW5nSWQpIHtcbiAgY2hlY2socGF5bG9hZC5ib2R5LCBPYmplY3QpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgY29uc3QgeyB1c2VySWQsIHJvbGUsIGNoYW5nZWRCeSB9ID0gcGF5bG9hZC5ib2R5O1xuXG4gIHJldHVybiBjaGFuZ2VSb2xlKHJvbGUsIHVzZXJJZCwgbWVldGluZ0lkLCBjaGFuZ2VkQnkpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUVtb2ppU3RhdHVzKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyB1c2VySWQsIGVtb2ppIH0gPSBib2R5O1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soZW1vamksIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBlbW9qaVRpbWU6IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCksXG4gICAgICBlbW9qaSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQXNzaWduaW5nIHVzZXIgZW1vamkgc3RhdHVzOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYEFzc2lnbmVkIHVzZXIgZW1vamkgc3RhdHVzICR7ZW1vaml9IGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy8nO1xuaW1wb3J0IGFkZFVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFVzZXInO1xuaW1wb3J0IHJlbW92ZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZVVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVHZXRVc2Vycyh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcnMgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VycywgQXJyYXkpO1xuXG4gIGNvbnN0IHVzZXJzSWRzID0gdXNlcnMubWFwKG0gPT4gbS5pbnRJZCk7XG5cbiAgY29uc3QgdXNlcnNUb1JlbW92ZSA9IFVzZXJzLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHsgJG5pbjogdXNlcnNJZHMgfSxcbiAgfSwgeyBmaWVsZHM6IHsgdXNlcklkOiAxIH0gfSkuZmV0Y2goKTtcblxuICB1c2Vyc1RvUmVtb3ZlLmZvckVhY2godXNlciA9PiByZW1vdmVVc2VyKG1lZXRpbmdJZCwgdXNlci51c2VySWQpKTtcblxuICBjb25zdCB1c2Vyc0FkZGVkID0gW107XG4gIHVzZXJzLmZvckVhY2goKHVzZXIpID0+IHtcbiAgICB1c2Vyc0FkZGVkLnB1c2goYWRkVXNlcihtZWV0aW5nSWQsIHVzZXIpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHVzZXJzQWRkZWQ7XG59XG4iLCJpbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBQcmVzZW50YXRpb25Qb2RzIGZyb20gJy9pbXBvcnRzL2FwaS9wcmVzZW50YXRpb24tcG9kcyc7XG5pbXBvcnQgY2hhbmdlUHJlc2VudGVyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2NoYW5nZVByZXNlbnRlcic7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuXG5mdW5jdGlvbiBzZXRQcmVzZW50ZXJJblBvZFJlcU1zZyhjcmVkZW50aWFscykgeyAvLyBUT0RPLS0gc3dpdGNoIHRvIG1lZXRpbmdJZCwgZXRjXG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnU2V0UHJlc2VudGVySW5Qb2RSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHByZXNlbnRlcklkIH0gPSBjcmVkZW50aWFscztcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHBvZElkOiAnREVGQVVMVF9QUkVTRU5UQVRJT05fUE9EJyxcbiAgICBuZXh0UHJlc2VudGVySWQ6IHByZXNlbnRlcklkLFxuICB9O1xuXG4gIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVByZXNlbnRlckFzc2lnbmVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyBwcmVzZW50ZXJJZCwgYXNzaWduZWRCeSB9ID0gYm9keTtcblxuICBjaGFuZ2VQcmVzZW50ZXIodHJ1ZSwgcHJlc2VudGVySWQsIG1lZXRpbmdJZCwgYXNzaWduZWRCeSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogeyAkbmU6IHByZXNlbnRlcklkIH0sXG4gICAgcHJlc2VudGVyOiB0cnVlLFxuICB9O1xuXG4gIGNvbnN0IHByZXZQcmVzZW50ZXIgPSBVc2Vycy5maW5kT25lKHNlbGVjdG9yKTtcblxuICAvLyBubyBwcmV2aW91cyBwcmVzZW50ZXJzXG4gIC8vIFRoZSBiZWxvdyBjb2RlIGlzIHJlc3BvbnNpYmxlIGZvciBzZXQgTWVldGluZyBwcmVzZW50ZXIgdG8gYmUgZGVmYXVsdCBwb2QgcHJlc2VudGVyIGFzIHdlbGwuXG4gIC8vIEl0J3MgYmVlbiBoYW5kbGVkIGhlcmUgYmVjYXVzZSByaWdodCBub3cgYWtrYS1hcHBzIGRvbid0IGhhbmRsZSBhbGwgY2FzZXMgc2NlbmFyaW9zLlxuICBpZiAoIXByZXZQcmVzZW50ZXIpIHtcbiAgICBjb25zdCBzZXRQcmVzZW50ZXJQYXlsb2FkID0ge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgcmVxdWVzdGVyVXNlcklkOiBhc3NpZ25lZEJ5LFxuICAgICAgcHJlc2VudGVySWQsXG4gICAgfTtcblxuICAgIGNvbnN0IGRlZmF1bHRQb2RTZWxlY3RvciA9IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHBvZElkOiAnREVGQVVMVF9QUkVTRU5UQVRJT05fUE9EJyxcbiAgICB9O1xuICAgIGNvbnN0IGN1cnJlbnREZWZhdWx0UG9kUHJlc2VudGVyID0gUHJlc2VudGF0aW9uUG9kcy5maW5kT25lKGRlZmF1bHRQb2RTZWxlY3Rvcik7XG4gICAgY29uc3QgeyBjdXJyZW50UHJlc2VudGVySWQgfSA9IGN1cnJlbnREZWZhdWx0UG9kUHJlc2VudGVyO1xuXG4gICAgaWYgKGN1cnJlbnRQcmVzZW50ZXJJZCA9PT0gJycpIHtcbiAgICAgIHJldHVybiBzZXRQcmVzZW50ZXJJblBvZFJlcU1zZyhzZXRQcmVzZW50ZXJQYXlsb2FkKTtcbiAgICB9XG5cbiAgICBjb25zdCBvbGRQcmVzZW50ZXIgPSBVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCB1c2VySWQ6IGN1cnJlbnRQcmVzZW50ZXJJZCwgY29ubmVjdGlvblN0YXR1czogJ29mZmxpbmUnIH0pO1xuXG4gICAgaWYgKG9sZFByZXNlbnRlcikge1xuICAgICAgcmV0dXJuIHNldFByZXNlbnRlckluUG9kUmVxTXNnKHNldFByZXNlbnRlclBheWxvYWQpO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGNoYW5nZVByZXNlbnRlcihmYWxzZSwgcHJldlByZXNlbnRlci51c2VySWQsIG1lZXRpbmdJZCwgYXNzaWduZWRCeSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCByZW1vdmVVc2VyIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlUmVtb3ZlVXNlcih7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgaW50SWQgfSA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhpbnRJZCwgU3RyaW5nKTtcblxuICByZXR1cm4gcmVtb3ZlVXNlcihtZWV0aW5nSWQsIGludElkKTtcbn1cbiIsImltcG9ydCB1c2VyRWplY3RlZCBmcm9tICcuLi9tb2RpZmllcnMvdXNlckVqZWN0ZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVFamVjdGVkVXNlcih7IGhlYWRlciwgYm9keSB9KSB7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCB1c2VySWQgfSA9IGhlYWRlcjtcbiAgY29uc3QgeyByZWFzb25Db2RlIH0gPSBib2R5O1xuXG4gIHJldHVybiB1c2VyRWplY3RlZChtZWV0aW5nSWQsIHVzZXJJZCwgcmVhc29uQ29kZSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgdXNlckluYWN0aXZpdHlJbnNwZWN0IGZyb20gJy4uL21vZGlmaWVycy91c2VySW5hY3Rpdml0eUluc3BlY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVVc2VySW5hY3Rpdml0eUluc3BlY3QoeyBoZWFkZXIsIGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHsgdXNlcklkIH0gPSBoZWFkZXI7XG4gIGNvbnN0IHsgcmVzcG9uc2VEZWxheSB9ID0gYm9keTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlc3BvbnNlRGVsYXksIE1hdGNoLkludGVnZXIpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cblxuICByZXR1cm4gdXNlckluYWN0aXZpdHlJbnNwZWN0KHVzZXJJZCwgcmVzcG9uc2VEZWxheSk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJKb2luKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdVc2VySm9pbk1lZXRpbmdSZXFNc2cnO1xuXG4gIGNoZWNrKGF1dGhUb2tlbiwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgICBhdXRoVG9rZW4sXG4gICAgY2xpZW50VHlwZTogJ0hUTUw1JyxcbiAgfTtcblxuICBMb2dnZXIuaW5mbyhgVXNlcj0nJHt1c2VySWR9JyBpcyBqb2luaW5nIG1lZXRpbmc9JyR7bWVldGluZ0lkfScgYXV0aFRva2VuPScke2F1dGhUb2tlbn0nYCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCBhZGRVc2VyIGZyb20gJy4uL21vZGlmaWVycy9hZGRVc2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVXNlckpvaW5lZCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHVzZXIgPSBib2R5O1xuXG4gIGNoZWNrKHVzZXIsIE9iamVjdCk7XG5cbiAgcmV0dXJuIGFkZFVzZXIobWVldGluZ0lkLCB1c2VyKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IHVzZXJKb2luIGZyb20gJy4vdXNlckpvaW4nO1xuaW1wb3J0IHBlbmRpbmdBdXRoZW50aWNhdGlvbnNTdG9yZSBmcm9tICcuLi9zdG9yZS9wZW5kaW5nQXV0aGVudGljYXRpb25zJztcbmltcG9ydCBjcmVhdGVEdW1teVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL2NyZWF0ZUR1bW15VXNlcic7XG5pbXBvcnQgc2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuIGZyb20gJy4uL21vZGlmaWVycy9zZXRDb25uZWN0aW9uSWRBbmRBdXRoVG9rZW4nO1xuXG5jb25zdCBjbGVhck90aGVyU2Vzc2lvbnMgPSAoc2Vzc2lvblVzZXJJZCwgY3VycmVudCA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHNlcnZlclNlc3Npb25zID0gTWV0ZW9yLnNlcnZlci5zZXNzaW9ucztcbiAgT2JqZWN0LmtleXMoc2VydmVyU2Vzc2lvbnMpXG4gICAgLmZpbHRlcihpID0+IHNlcnZlclNlc3Npb25zW2ldLnVzZXJJZCA9PT0gc2Vzc2lvblVzZXJJZClcbiAgICAuZmlsdGVyKGkgPT4gaSAhPT0gY3VycmVudClcbiAgICAuZm9yRWFjaChpID0+IHNlcnZlclNlc3Npb25zW2ldLmNsb3NlKCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVmFsaWRhdGVBdXRoVG9rZW4oeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7XG4gICAgdXNlcklkLFxuICAgIHZhbGlkLFxuICAgIGF1dGhUb2tlbixcbiAgICB3YWl0Rm9yQXBwcm92YWwsXG4gIH0gPSBib2R5O1xuXG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soYXV0aFRva2VuLCBTdHJpbmcpO1xuICBjaGVjayh2YWxpZCwgQm9vbGVhbik7XG4gIGNoZWNrKHdhaXRGb3JBcHByb3ZhbCwgQm9vbGVhbik7XG5cbiAgY29uc3QgcGVuZGluZ0F1dGhzID0gcGVuZGluZ0F1dGhlbnRpY2F0aW9uc1N0b3JlLnRha2UobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbik7XG5cbiAgaWYgKCF2YWxpZCkge1xuICAgIHBlbmRpbmdBdXRocy5mb3JFYWNoKFxuICAgICAgKHBlbmRpbmdBdXRoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgeyBtZXRob2RJbnZvY2F0aW9uT2JqZWN0IH0gPSBwZW5kaW5nQXV0aDtcbiAgICAgICAgICBjb25zdCBjb25uZWN0aW9uSWQgPSBtZXRob2RJbnZvY2F0aW9uT2JqZWN0LmNvbm5lY3Rpb24uaWQ7XG5cbiAgICAgICAgICAvLyBTY2hlZHVsZSBzb2NrZXQgZGlzY29ubmVjdGlvbiBmb3IgdGhpcyB1c2VyLCBnaXZpbmcgc29tZSB0aW1lIGZvciBjbGllbnQgcmVjZWl2aW5nIHRoZSByZWFzb24gb2YgZGlzY29ubmVjdGlvblxuICAgICAgICAgIE1ldGVvci5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG1ldGhvZEludm9jYXRpb25PYmplY3QuY29ubmVjdGlvbi5jbG9zZSgpO1xuICAgICAgICAgIH0sIDIwMDApO1xuXG4gICAgICAgICAgTG9nZ2VyLmluZm8oYENsb3NlZCBjb25uZWN0aW9uICR7Y29ubmVjdGlvbklkfSBkdWUgdG8gaW52YWxpZCBhdXRoIHRva2VuLmApO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgTG9nZ2VyLmVycm9yKGBFcnJvciBjbG9zaW5nIHNvY2tldCBmb3IgbWVldGluZ0lkICcke21lZXRpbmdJZH0nLCB1c2VySWQgJyR7dXNlcklkfScsIGF1dGhUb2tlbiAke2F1dGhUb2tlbn1gKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHZhbGlkKSB7XG4gICAgLy8gRGVmaW5lIHVzZXIgSUQgb24gY29ubmVjdGlvbnNcbiAgICBwZW5kaW5nQXV0aHMuZm9yRWFjaChcbiAgICAgIChwZW5kaW5nQXV0aCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1ldGhvZEludm9jYXRpb25PYmplY3QgfSA9IHBlbmRpbmdBdXRoO1xuXG4gICAgICAgIC8qIExvZ2ljIG1pZ3JhdGVkIGZyb20gdmFsaWRhdGVBdXRoVG9rZW4gbWV0aG9kICggcG9zdHBvbmVkIHRvIG9ubHkgcnVuIGluIGNhc2Ugb2Ygc3VjY2VzcyByZXNwb25zZSApIC0gQmVnaW4gKi9cbiAgICAgICAgY29uc3Qgc2Vzc2lvbklkID0gYCR7bWVldGluZ0lkfS0tJHt1c2VySWR9YDtcbiAgICAgICAgbWV0aG9kSW52b2NhdGlvbk9iamVjdC5zZXRVc2VySWQoc2Vzc2lvbklkKTtcblxuICAgICAgICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgbWVldGluZ0lkLFxuICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFVc2VyKSB7XG4gICAgICAgICAgY3JlYXRlRHVtbXlVc2VyKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuKG1lZXRpbmdJZCwgdXNlcklkLCBtZXRob2RJbnZvY2F0aW9uT2JqZWN0LmNvbm5lY3Rpb24uaWQsIGF1dGhUb2tlbik7XG4gICAgICAgIC8qIEVuZCBvZiBsb2dpYyBtaWdyYXRlZCBmcm9tIHZhbGlkYXRlQXV0aFRva2VuICovXG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICAgIGNsaWVudFR5cGU6ICdIVE1MNScsXG4gIH07XG5cbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoc2VsZWN0b3IpO1xuXG4gIC8vIElmIHdlIGRvbnQgZmluZCB0aGUgdXNlciBvbiBvdXIgY29sbGVjdGlvbiBpcyBhIGZsYXNoIHVzZXIgYW5kIHdlIGNhbiBza2lwXG4gIGlmICghVXNlcikgcmV0dXJuO1xuXG4gIC8vIFB1Ymxpc2ggdXNlciBqb2luIG1lc3NhZ2VcbiAgaWYgKHZhbGlkICYmICF3YWl0Rm9yQXBwcm92YWwpIHtcbiAgICBMb2dnZXIuaW5mbygnVXNlcj0nLCBVc2VyKTtcbiAgICB1c2VySm9pbihtZWV0aW5nSWQsIHVzZXJJZCwgVXNlci5hdXRoVG9rZW4pO1xuICB9XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgdmFsaWRhdGVkOiB2YWxpZCxcbiAgICAgIGFwcHJvdmVkOiAhd2FpdEZvckFwcHJvdmFsLFxuICAgICAgbG9naW5UaW1lOiBEYXRlLm5vdygpLFxuICAgICAgaW5hY3Rpdml0eUNoZWNrOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFZhbGlkYXRpbmcgYXV0aCB0b2tlbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICBjb25zdCBzZXNzaW9uVXNlcklkID0gYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gO1xuICAgICAgICBjb25zdCBjdXJyZW50Q29ubmVjdGlvbklkID0gVXNlci5jb25uZWN0aW9uSWQgPyBVc2VyLmNvbm5lY3Rpb25JZCA6IGZhbHNlO1xuICAgICAgICBjbGVhck90aGVyU2Vzc2lvbnMoc2Vzc2lvblVzZXJJZCwgY3VycmVudENvbm5lY3Rpb25JZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVmFsaWRhdGVkIGF1dGggdG9rZW4gYXMgJHt2YWxpZH0gdXNlcj0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oJ05vIGF1dGggdG8gdmFsaWRhdGUnKTtcbiAgfTtcblxuICBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhc3NpZ25QcmVzZW50ZXIodXNlcklkKSB7IC8vIFRPRE8tLSBzZW5kIHVzZXJuYW1lIGZyb20gY2xpZW50IHNpZGVcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdBc3NpZ25QcmVzZW50ZXJSZXFNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfSk7XG5cbiAgaWYgKCFVc2VyKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndXNlci1ub3QtZm91bmQnLCAnWW91IG5lZWQgYSB2YWxpZCB1c2VyIHRvIGJlIGFibGUgdG8gc2V0IHByZXNlbnRlcicpO1xuICB9XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBuZXdQcmVzZW50ZXJJZDogdXNlcklkLFxuICAgIG5ld1ByZXNlbnRlck5hbWU6IFVzZXIubmFtZSxcbiAgICBhc3NpZ25lZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgcmVxdWVzdGVySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBMb2dnZXIudmVyYm9zZShgVXNlciAnJHt1c2VySWR9JyBzZXR0ZWQgYXMgcHJlc2VudGVyIGJ5ICcke1xuICAgIHJlcXVlc3RlclVzZXJJZH0nIGZyb20gbWVldGluZyAnJHttZWV0aW5nSWR9J2ApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZVJvbGUodXNlcklkLCByb2xlKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnQ2hhbmdlVXNlclJvbGVDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhyb2xlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkLFxuICAgIHJvbGUsXG4gICAgY2hhbmdlZEJ5OiByZXF1ZXN0ZXJVc2VySWQsXG4gIH07XG5cbiAgTG9nZ2VyLnZlcmJvc2UoYFVzZXIgJyR7dXNlcklkfScgc2V0IGFzICcke3JvbGV9IHJvbGUgYnkgJyR7cmVxdWVzdGVyVXNlcklkfScgZnJvbSBtZWV0aW5nICcke21lZXRpbmdJZH0nYCk7XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IEJhbm5lZFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvc3RvcmUvYmFubmVkVXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1vdmVVc2VyKHVzZXJJZCwgYmFuVXNlcikge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0VqZWN0VXNlckZyb21NZWV0aW5nQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiBlamVjdGVkQnkgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkLFxuICAgIGVqZWN0ZWRCeSxcbiAgICBiYW5Vc2VyLFxuICB9O1xuXG4gIGNvbnN0IHJlbW92ZWRVc2VyID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgdXNlcklkIH0sIHsgZXh0SWQ6IDEgfSk7XG5cbiAgaWYgKGJhblVzZXIgJiYgcmVtb3ZlZFVzZXIpIEJhbm5lZFVzZXJzLmFkZChtZWV0aW5nSWQsIHJlbW92ZWRVc2VyLmV4dElkKTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgZWplY3RlZEJ5LCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRFbW9qaVN0YXR1cyh1c2VySWQsIHN0YXR1cykge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0NoYW5nZVVzZXJFbW9qaUNtZE1zZyc7XG5cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBlbW9qaTogc3RhdHVzLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBMb2dnZXIudmVyYm9zZShgVXNlciAnJHt1c2VySWR9JyBlbW9qaSBzdGF0dXMgdXBkYXRlZCB0byAnJHtzdGF0dXN9JyBieSAnJHtcbiAgICByZXF1ZXN0ZXJVc2VySWR9JyBmcm9tIG1lZXRpbmcgJyR7bWVldGluZ0lkfSdgKTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuaW1wb3J0IHNldEVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlIGZyb20gJy4uL21vZGlmaWVycy9zZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUoZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdDaGFuZ2VVc2VyRWZmZWN0aXZlQ29ubmVjdGlvbk1zZyc7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2soZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUsIFN0cmluZyk7XG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUsXG4gIH07XG5cbiAgc2V0RWZmZWN0aXZlQ29ubmVjdGlvblR5cGUobWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlKTtcblxuICBMb2dnZXIudmVyYm9zZShgVXNlciAke3JlcXVlc3RlclVzZXJJZH0gZWZmZWN0aXZlIGNvbm5lY3Rpb24gdXBkYXRlZCB0byAke2VmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlfWApO1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvZ2dsZVVzZXJMb2NrKHVzZXJJZCwgbG9jaykge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ0xvY2tVc2VySW5NZWV0aW5nQ21kTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiBsb2NrZWRCeSB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBjaGVjayhsb2NrZWRCeSwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhsb2NrLCBCb29sZWFuKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGxvY2tlZEJ5LFxuICAgIHVzZXJJZCxcbiAgICBsb2NrLFxuICB9O1xuXG4gIExvZ2dlci52ZXJib3NlKGBVc2VyICR7bG9ja2VkQnl9IHVwZGF0ZWQgbG9jayBzdGF0dXMgZnJvbSAke3VzZXJJZH0gdG8gJHtsb2NrfVxuICBpbiBtZWV0aW5nICR7bWVldGluZ0lkfWApO1xuXG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIGxvY2tlZEJ5LCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJBY3Rpdml0eVNpZ24oKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckFjdGl2aXR5U2lnbkNtZE1zZyc7XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGluYWN0aXZpdHlDaGVjazogZmFsc2UsXG4gICAgfSxcbiAgfTtcblxuICBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyKTsgLy8gVE9ETy0tIHdlIHNob3VsZCBtb3ZlIHRoaXMgdG8gYSBtb2RpZmllclxuXG4gIExvZ2dlci5pbmZvKGBVc2VyICR7dXNlcklkfSBzZW50IGEgYWN0aXZpdHkgc2lnbiBmb3IgbWVldGluZyAke21lZXRpbmdJZH1gKTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyTGVhdmluZyhtZWV0aW5nSWQsIHVzZXJJZCwgY29ubmVjdGlvbklkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckxlYXZlUmVxTXNnJztcblxuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgaWYgKCFVc2VyKSB7XG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBTa2lwcGluZyB1c2VyTGVhdmluZy4gQ291bGQgbm90IGZpbmQgJHt1c2VySWR9IGluICR7bWVldGluZ0lkfWApO1xuICB9XG5cbiAgLy8gSWYgdGhlIGN1cnJlbnQgdXNlciBjb25uZWN0aW9uIGlzIG5vdCB0aGUgc2FtZSB0aGF0IHRyaWdnZXJlZCB0aGUgbGVhdmUgd2Ugc2tpcFxuICBpZiAoVXNlci5jb25uZWN0aW9uSWQgIT09IGNvbm5lY3Rpb25JZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkLFxuICAgIHNlc3Npb25JZDogbWVldGluZ0lkLFxuICB9O1xuXG4gIExvZ2dlci5pbmZvKGBVc2VyICcke3VzZXJJZH0nIGlzIGxlYXZpbmcgbWVldGluZyAnJHttZWV0aW5nSWR9J2ApO1xuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZXJMZWZ0TWVldGluZygpIHsgLy8gVE9ETy0tIHNwcmVhZCB0aGUgY29kZSB0byBtZXRob2QvbW9kaWZpZXIvaGFuZGxlclxuICAvLyBzbyB3ZSBkb24ndCB1cGRhdGUgdGhlIGRiIGluIGEgbWV0aG9kXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgbGVhdmluZyBkdW1teSB1c2VyIHRvIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobnVtQ2hhbmdlZCkge1xuICAgICAgTG9nZ2VyLmluZm8oYHVzZXIgbGVmdCBpZD0ke3JlcXVlc3RlclVzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzLnVwZGF0ZShcbiAgICBzZWxlY3RvcixcbiAgICB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIGxvZ2dlZE91dDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjYixcbiAgKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBwZW5kaW5nQXV0aGVudGljYXRpb25zU3RvcmUgZnJvbSAnLi4vc3RvcmUvcGVuZGluZ0F1dGhlbnRpY2F0aW9ucyc7XG5pbXBvcnQgQmFubmVkVXNlcnMgZnJvbSAnLi4vc3RvcmUvYmFubmVkVXNlcnMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZhbGlkYXRlQXV0aFRva2VuKG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCByZXF1ZXN0ZXJUb2tlbiwgZXh0ZXJuYWxJZCkge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgY29uc3QgQ0hBTk5FTCA9IFJFRElTX0NPTkZJRy5jaGFubmVscy50b0Fra2FBcHBzO1xuICBjb25zdCBFVkVOVF9OQU1FID0gJ1ZhbGlkYXRlQXV0aFRva2VuUmVxTXNnJztcblxuICAvLyBDaGVjayBpZiBleHRlcm5hbElkIGlzIGJhbm5lZCBmcm9tIHRoZSBtZWV0aW5nXG4gIGlmIChleHRlcm5hbElkKSB7XG4gICAgaWYgKEJhbm5lZFVzZXJzLmhhcyhtZWV0aW5nSWQsIGV4dGVybmFsSWQpKSB7XG4gICAgICBMb2dnZXIud2FybihgQSBiYW5uZWQgdXNlciB3aXRoIGV4dElkICR7ZXh0ZXJuYWxJZH0gdHJpZWQgdG8gZW50ZXIgaW4gbWVldGluZyAke21lZXRpbmdJZH1gKTtcbiAgICAgIHJldHVybiB7IGludmFsaWQ6IHRydWUsIHJlYXNvbjogJ1VzZXIgaGFzIGJlZW4gYmFubmVkLicgfTtcbiAgICB9XG4gIH1cblxuICAvLyBDaGVjayBpZiBhIHJlbW92ZWQgdXNlciBpcyB0cnlpbmcgdG8gYWNjZXNzIHRoZSBtZWV0aW5nIHVzaW5nIHRoZSBzYW1lIHNlc3Npb25Ub2tlblxuICBjb25zdCBpc1VzZXJFamVjdGVkID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgYXV0aFRva2VuOiByZXF1ZXN0ZXJUb2tlbiwgZWplY3RlZDogdHJ1ZSB9KTtcblxuICBpZiAoaXNVc2VyRWplY3RlZCkge1xuICAgIExvZ2dlci53YXJuKGBBbiBpbnZhbGlkIHNlc3Npb25Ub2tlbiB0cmllZCB0byB2YWxpZGF0ZUF1dGhUb2tlbiBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9IGF1dGhUb2tlbj0ke3JlcXVlc3RlclRva2VufWApO1xuICAgIHJldHVybiB7IGludmFsaWQ6IHRydWUsIHJlYXNvbjogJ1VzZXIgaGFzIGJlZW4gZWplY3RlZC4nIH07XG4gIH1cblxuICAvLyBTdG9yZSByZWZlcmVuY2Ugb2YgbWV0aG9kSW52b2NhdGlvbk9iamVjdCAoIHRvIHBvc3Rwb25lIHRoZSBjb25uZWN0aW9uIHVzZXJJZCBkZWZpbml0aW9uIClcbiAgcGVuZGluZ0F1dGhlbnRpY2F0aW9uc1N0b3JlLmFkZChtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcmVxdWVzdGVyVG9rZW4sIHRoaXMpO1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkOiByZXF1ZXN0ZXJVc2VySWQsXG4gICAgYXV0aFRva2VuOiByZXF1ZXN0ZXJUb2tlbixcbiAgfTtcblxuICBMb2dnZXIuaW5mbyhgVXNlciAnJHtyZXF1ZXN0ZXJVc2VySWR9JyBpcyB0cnlpbmcgdG8gdmFsaWRhdGUgYXV0aCB0b2tlbiBmb3IgbWVldGluZyAnJHttZWV0aW5nSWR9JyBmcm9tIGNvbm5lY3Rpb24gJyR7dGhpcy5jb25uZWN0aW9uLmlkfSdgKTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBhZGRVc2VyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFVzZXInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZERpYWxJblVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIE9iamVjdCk7XG5cbiAgY29uc3QgVVNFUl9DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLnVzZXI7XG4gIGNvbnN0IFJPTEVfVklFV0VSID0gVVNFUl9DT05GSUcucm9sZV92aWV3ZXI7XG5cbiAgY29uc3QgeyBpbnRJZCwgY2FsbGVyTmFtZSB9ID0gdm9pY2VVc2VyO1xuXG4gIGNvbnN0IHZvaWNlT25seVVzZXIgPSB7XG4gICAgaW50SWQsXG4gICAgZXh0SWQ6IGludElkLCAvLyBUT0RPXG4gICAgbmFtZTogY2FsbGVyTmFtZSxcbiAgICByb2xlOiBST0xFX1ZJRVdFUi50b0xvd2VyQ2FzZSgpLFxuICAgIGd1ZXN0OiBmYWxzZSxcbiAgICBhdXRoZWQ6IHRydWUsXG4gICAgd2FpdGluZ0ZvckFjY2VwdGFuY2U6IGZhbHNlLFxuICAgIGd1ZXN0U3RhdHVzOiAnQUxMT1cnLFxuICAgIGVtb2ppOiAnbm9uZScsXG4gICAgcHJlc2VudGVyOiBmYWxzZSxcbiAgICBsb2NrZWQ6IGZhbHNlLCAvLyBUT0RPXG4gICAgYXZhdGFyOiAnJyxcbiAgICBjbGllbnRUeXBlOiAnZGlhbC1pbi11c2VyJyxcbiAgfTtcblxuICByZXR1cm4gYWRkVXNlcihtZWV0aW5nSWQsIHZvaWNlT25seVVzZXIpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTWVldGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL21lZXRpbmdzJztcbmltcG9ydCBWb2ljZVVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy8nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBTYW5pdGl6ZUhUTUwgZnJvbSAnc2FuaXRpemUtaHRtbCc7XG5cbmltcG9ydCBzdHJpbmdIYXNoIGZyb20gJ3N0cmluZy1oYXNoJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuXG5pbXBvcnQgYWRkVm9pY2VVc2VyIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL2FkZFZvaWNlVXNlcic7XG5cbmNvbnN0IENPTE9SX0xJU1QgPSBbXG4gICcjN2IxZmEyJywgJyM2YTFiOWEnLCAnIzRhMTQ4YycsICcjNWUzNWIxJywgJyM1MTJkYTgnLCAnIzQ1MjdhMCcsXG4gICcjMzExYjkyJywgJyMzOTQ5YWInLCAnIzMwM2Y5ZicsICcjMjgzNTkzJywgJyMxYTIzN2UnLCAnIzE5NzZkMicsICcjMTU2NWMwJyxcbiAgJyMwZDQ3YTEnLCAnIzAyNzdiZCcsICcjMDE1NzliJyxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFVzZXIobWVldGluZ0lkLCB1c2VyRGF0YSkge1xuICBjb25zdCB1c2VyID0gdXNlckRhdGE7XG4gIGNvbnN0IHNhbml0aXplZE5hbWUgPSBTYW5pdGl6ZUhUTUwodXNlckRhdGEubmFtZSwge1xuICAgIGFsbG93ZWRUYWdzOiBbXSxcbiAgICBhbGxvd2VkQXR0cmlidXRlczoge30sXG4gIH0pO1xuICAvLyBpZiB1c2VyIHR5cGVkIG9ubHkgdGFnc1xuICB1c2VyLm5hbWUgPSBzYW5pdGl6ZWROYW1lLmxlbmd0aCA9PT0gMFxuICAgID8gXy5lc2NhcGUodXNlckRhdGEubmFtZSlcbiAgICA6IHNhbml0aXplZE5hbWU7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIGNoZWNrKHVzZXIsIHtcbiAgICBpbnRJZDogU3RyaW5nLFxuICAgIGV4dElkOiBTdHJpbmcsXG4gICAgbmFtZTogU3RyaW5nLFxuICAgIHJvbGU6IFN0cmluZyxcbiAgICBndWVzdDogQm9vbGVhbixcbiAgICBhdXRoZWQ6IEJvb2xlYW4sXG4gICAgd2FpdGluZ0ZvckFjY2VwdGFuY2U6IE1hdGNoLk1heWJlKEJvb2xlYW4pLFxuICAgIGd1ZXN0U3RhdHVzOiBTdHJpbmcsXG4gICAgZW1vamk6IFN0cmluZyxcbiAgICBwcmVzZW50ZXI6IEJvb2xlYW4sXG4gICAgbG9ja2VkOiBCb29sZWFuLFxuICAgIGF2YXRhcjogU3RyaW5nLFxuICAgIGNsaWVudFR5cGU6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3QgdXNlcklkID0gdXNlci5pbnRJZDtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuICBjb25zdCBNZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9KTtcblxuICAvKiBXaGlsZSB0aGUgYWtrYS1hcHBzIGRvbnQgZ2VuZXJhdGUgYSBjb2xvciB3ZSBqdXN0IHBpY2sgb25lXG4gICAgZnJvbSBhIGxpc3QgYmFzZWQgb24gdGhlIHVzZXJJZCAqL1xuICBjb25zdCBjb2xvciA9IENPTE9SX0xJU1Rbc3RyaW5nSGFzaCh1c2VyLmludElkKSAlIENPTE9SX0xJU1QubGVuZ3RoXTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBtZWV0aW5nSWQsXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdvbmxpbmUnLFxuICAgICAgICBzb3J0TmFtZTogdXNlci5uYW1lLnRyaW0oKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICBjb2xvcixcbiAgICAgICAgYnJlYWtvdXRQcm9wczoge1xuICAgICAgICAgIGlzQnJlYWtvdXRVc2VyOiBNZWV0aW5nLm1lZXRpbmdQcm9wLmlzQnJlYWtvdXQsXG4gICAgICAgICAgcGFyZW50SWQ6IE1lZXRpbmcuYnJlYWtvdXRQcm9wcy5wYXJlbnRJZCxcbiAgICAgICAgfSxcbiAgICAgICAgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGU6IG51bGwsXG4gICAgICAgIGluYWN0aXZpdHlDaGVjazogZmFsc2UsXG4gICAgICAgIHJlc3BvbnNlRGVsYXk6IDAsXG4gICAgICAgIGxvZ2dlZE91dDogZmFsc2UsXG4gICAgICB9LFxuICAgICAgZmxhdCh1c2VyKSxcbiAgICApLFxuICB9O1xuXG4gIC8vIE9ubHkgYWRkIGFuIGVtcHR5IFZvaWNlVXNlciBpZiB0aGVyZSBpc24ndCBvbmUgYWxyZWFkeSBhbmQgaWYgdGhlIHVzZXIgY29taW5nIGluIGlzbid0IGFcbiAgLy8gZGlhbC1pbiB1c2VyLiBXZSB3YW50IHRvIGF2b2lkIG92ZXJ3cml0aW5nIGdvb2QgZGF0YVxuICBpZiAodXNlci5jbGllbnRUeXBlICE9PSAnZGlhbC1pbi11c2VyJyAmJiAhVm9pY2VVc2Vycy5maW5kT25lKHsgbWVldGluZ0lkLCBpbnRJZDogdXNlcklkIH0pKSB7XG4gICAgYWRkVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgICAgdm9pY2VVc2VySWQ6ICcnLFxuICAgICAgaW50SWQ6IHVzZXJJZCxcbiAgICAgIGNhbGxlck5hbWU6IHVzZXIubmFtZSxcbiAgICAgIGNhbGxlck51bTogJycsXG4gICAgICBtdXRlZDogZmFsc2UsXG4gICAgICB0YWxraW5nOiBmYWxzZSxcbiAgICAgIGNhbGxpbmdXaXRoOiAnJyxcbiAgICAgIGxpc3Rlbk9ubHk6IGZhbHNlLFxuICAgICAgdm9pY2VDb25mOiAnJyxcbiAgICAgIGpvaW5lZDogZmFsc2UsXG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgdXNlciB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IG51bUNoYW5nZWQ7XG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgdXNlciBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwc2VydGVkIHVzZXIgaWQ9JHt1c2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyBmcm9tICcvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlci9tZXRob2RzL3N0b3BXYXRjaGluZ0V4dGVybmFsVmlkZW8nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjaGFuZ2VQcmVzZW50ZXIocHJlc2VudGVyLCB1c2VySWQsIG1lZXRpbmdJZCwgY2hhbmdlZEJ5KSB7XG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgcHJlc2VudGVyLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgQ2hhbmdlZCB1c2VyIHJvbGU6ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYENoYW5nZWQgcHJlc2VudGVyPSR7cHJlc2VudGVyfSBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gXG4gICAgICArIGAke2NoYW5nZWRCeSA/IGAgY2hhbmdlZEJ5PSR7Y2hhbmdlZEJ5fWAgOiAnJ31gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCBtZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9KTtcbiAgaWYgKG1lZXRpbmcgJiYgbWVldGluZy5leHRlcm5hbFZpZGVvVXJsKSB7XG4gICAgTG9nZ2VyLmluZm8oYENoYW5nZVByZXNlbnRlcjpUaGVyZSBpcyBleHRlcm5hbCB2aWRlbyBiZWluZyBzaGFyZWQuIFN0b3BwaW5nIGl0IGR1ZSB0byBwcmVzZW50ZXIgY2hhbmdlLCAke21lZXRpbmcuZXh0ZXJuYWxWaWRlb1VybH1gKTtcbiAgICBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvKHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHVzZXJJZCB9KTtcbiAgfVxuICByZXR1cm4gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZVJvbGUocm9sZSwgdXNlcklkLCBtZWV0aW5nSWQsIGNoYW5nZWRCeSkge1xuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIHJvbGUsXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBDaGFuZ2VkIHVzZXIgcm9sZTogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQ2hhbmdlZCB1c2VyIHJvbGU9JHtyb2xlfSBpZD0ke3VzZXJJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gXG4gICAgICArIGAke2NoYW5nZWRCeSA/IGAgY2hhbmdlZEJ5PSR7Y2hhbmdlZEJ5fWAgOiAnJ31gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICByZXR1cm4gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy9pbmRleCc7XG5cbmNvbnN0IGNsZWFyVXNlcnMgPSAobWVldGluZ0lkKSA9PiB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gVXNlcnMucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFVzZXJzICgke21lZXRpbmdJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gVXNlcnMucmVtb3ZlKHt9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgVXNlcnMgKGFsbCknKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGVhclVzZXJzO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlRHVtbXlVc2VyKG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGF1dGhUb2tlbiwgU3RyaW5nKTtcblxuICBjb25zdCBVc2VyID0gVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZCwgdXNlcklkIH0pO1xuICBpZiAoVXNlcikge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2V4aXN0aW5nLXVzZXInLCAnVHJpZWQgdG8gY3JlYXRlIGEgZHVtbXkgdXNlciBmb3IgYW4gZXhpc3RpbmcgdXNlcicpO1xuICB9XG5cbiAgY29uc3QgZG9jID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgYXV0aFRva2VuLFxuICAgIGNsaWVudFR5cGU6ICdIVE1MNScsXG4gICAgdmFsaWRhdGVkOiBudWxsLFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQ3JlYXRpbmcgZHVtbXkgdXNlciB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBDcmVhdGVkIGR1bW15IHVzZXIgaWQ9JHt1c2VySWR9IHRva2VuPSR7YXV0aFRva2VufSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVXNlcnMuaW5zZXJ0KGRvYywgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgVmlkZW9TdHJlYW1zIGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBzdG9wV2F0Y2hpbmdFeHRlcm5hbFZpZGVvIGZyb20gJy9pbXBvcnRzL2FwaS9leHRlcm5hbC12aWRlb3Mvc2VydmVyL21ldGhvZHMvc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyc7XG5pbXBvcnQgY2xlYXJVc2VySW5mb0ZvclJlcXVlc3RlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3Mvc2VydmVyL21vZGlmaWVycy9jbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyJztcblxuY29uc3QgY2xlYXJBbGxTZXNzaW9ucyA9IChzZXNzaW9uVXNlcklkKSA9PiB7XG4gIGNvbnN0IHNlcnZlclNlc3Npb25zID0gTWV0ZW9yLnNlcnZlci5zZXNzaW9ucztcbiAgT2JqZWN0LmtleXMoc2VydmVyU2Vzc2lvbnMpXG4gICAgLmZpbHRlcihpID0+IHNlcnZlclNlc3Npb25zW2ldLnVzZXJJZCA9PT0gc2Vzc2lvblVzZXJJZClcbiAgICAuZm9yRWFjaChpID0+IHNlcnZlclNlc3Npb25zW2ldLmNsb3NlKCkpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlVXNlcihtZWV0aW5nSWQsIHVzZXJJZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCB1c2VyVG9SZW1vdmUgPSBVc2Vycy5maW5kT25lKHsgdXNlcklkLCBtZWV0aW5nSWQgfSk7XG5cbiAgaWYgKHVzZXJUb1JlbW92ZSkge1xuICAgIGNvbnN0IHsgcHJlc2VudGVyIH0gPSB1c2VyVG9SZW1vdmU7XG4gICAgaWYgKHByZXNlbnRlcikge1xuICAgICAgc3RvcFdhdGNoaW5nRXh0ZXJuYWxWaWRlbyh7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkOiB1c2VySWQgfSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBjb25uZWN0aW9uU3RhdHVzOiAnb2ZmbGluZScsXG4gICAgICB2YWxpZGF0ZWQ6IGZhbHNlLFxuICAgICAgZW1vamk6ICdub25lJyxcbiAgICAgIHByZXNlbnRlcjogZmFsc2UsXG4gICAgICByb2xlOiAnVklFV0VSJyxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFJlbW92aW5nIHVzZXIgZnJvbSBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXNzaW9uVXNlcklkID0gYCR7bWVldGluZ0lkfS0ke3VzZXJJZH1gO1xuICAgIGNsZWFyQWxsU2Vzc2lvbnMoc2Vzc2lvblVzZXJJZCk7XG5cbiAgICBjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyKG1lZXRpbmdJZCwgdXNlcklkKTtcblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgUmVtb3ZlZCB1c2VyIGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuICBWaWRlb1N0cmVhbXMucmVtb3ZlKHsgbWVldGluZ0lkLCB1c2VySWQgfSk7XG4gIHJldHVybiBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0Q29ubmVjdGlvbklkQW5kQXV0aFRva2VuKG1lZXRpbmdJZCwgdXNlcklkLCBjb25uZWN0aW9uSWQsIGF1dGhUb2tlbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soYXV0aFRva2VuLCBTdHJpbmcpO1xuICBjaGVjayhjb25uZWN0aW9uSWQsIFN0cmluZyk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBjb25uZWN0aW9uSWQsXG4gICAgICBhdXRoVG9rZW4sXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYFVwZGF0aW5nIGNvbm5lY3Rpb25JZCB1c2VyPSR7dXNlcklkfTogJHtlcnJ9YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcGRhdGVkIGNvbm5lY3Rpb25JZCBhbmQgYXV0aFRva2VuIHVzZXI9JHt1c2VySWR9IGNvbm5lY3Rpb25JZD0ke2Nvbm5lY3Rpb25JZH0gbWVldGluZz0ke21lZXRpbmdJZH0gYXV0aFRva2VuPSR7YXV0aFRva2VufWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZShtZWV0aW5nSWQsIHVzZXJJZCwgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLCBTdHJpbmcpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQsXG4gICAgZWZmZWN0aXZlQ29ubmVjdGlvblR5cGU6IHsgJG5lOiBlZmZlY3RpdmVDb25uZWN0aW9uVHlwZSB9LFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGBVcGRhdGluZyB1c2VyICR7dXNlcklkfTogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIExvZ2dlci5pbmZvKGBVcGRhdGVkIHVzZXIgJHt1c2VySWR9IGVmZmVjdGl2ZSBjb25uZWN0aW9uIHRvICR7ZWZmZWN0aXZlQ29ubmVjdGlvblR5cGV9IGluIG1lZXRpbmcgJHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXIvbW9kaWZpZXJzL2NsZWFyVXNlckluZm9Gb3JSZXF1ZXN0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyRWplY3RlZChtZWV0aW5nSWQsIHVzZXJJZCwgZWplY3RlZFJlYXNvbikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soZWplY3RlZFJlYXNvbiwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGVqZWN0ZWQ6IHRydWUsXG4gICAgICBlamVjdGVkUmVhc29uLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgRWplY3RpbmcgdXNlciBmcm9tIGNvbGxlY3Rpb246ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBjbGVhclVzZXJJbmZvRm9yUmVxdWVzdGVyKG1lZXRpbmdJZCwgdXNlcklkKTtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgRWplY3RlZCB1c2VyIGlkPSR7dXNlcklkfSBtZWV0aW5nPSR7bWVldGluZ0lkfSByZWFzb249JHtlamVjdGVkUmVhc29ufWApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlckluYWN0aXZpdHlJbnNwZWN0KHVzZXJJZCwgcmVzcG9uc2VEZWxheSkge1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHJlc3BvbnNlRGVsYXksIE1hdGNoLkludGVnZXIpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIHVzZXJJZCxcbiAgICBpbmFjdGl2aXR5Q2hlY2s6IGZhbHNlLFxuICB9O1xuXG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIGluYWN0aXZpdHlDaGVjazogdHJ1ZSxcbiAgICAgIHJlc3BvbnNlRGVsYXksXG4gICAgfSxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBJbmFjdGl2aXR5IGNoZWNrIGZvciB1c2VyICR7dXNlcklkfTogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgaWYgKG51bUNoYW5nZWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBkYXRlZCB1c2VyICR7dXNlcklkfSB3aXRoIGluYWN0aXZpdHkgaW5zcGVjdGApO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiBVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmNsYXNzIEJhbm5lZFVzZXJzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgTG9nZ2VyLmRlYnVnKCdCYW5uZWRVc2VycyA6OiBJbml0aWFsaXppbmcnKTtcbiAgICB0aGlzLnN0b3JlID0ge307XG4gIH1cblxuICBpbml0KG1lZXRpbmdJZCkge1xuICAgIExvZ2dlci5kZWJ1ZygnQmFubmVkVXNlcnMgOjogaW5pdCcsIHsgbWVldGluZ0lkIH0pO1xuXG4gICAgaWYgKCF0aGlzLnN0b3JlW21lZXRpbmdJZF0pIHRoaXMuc3RvcmVbbWVldGluZ0lkXSA9IG5ldyBTZXQoKTtcbiAgfVxuXG4gIGFkZChtZWV0aW5nSWQsIGV4dGVybmFsSWQpIHtcbiAgICBMb2dnZXIuZGVidWcoJ0Jhbm5lZFVzZXJzIDo6IGFkZCcsIHsgbWVldGluZ0lkLCBleHRlcm5hbElkIH0pO1xuICAgIGlmICghdGhpcy5zdG9yZVttZWV0aW5nSWRdKSB0aGlzLnN0b3JlW21lZXRpbmdJZF0gPSBuZXcgU2V0KCk7XG5cbiAgICB0aGlzLnN0b3JlW21lZXRpbmdJZF0uYWRkKGV4dGVybmFsSWQpO1xuICB9XG5cbiAgZGVsZXRlKG1lZXRpbmdJZCkge1xuICAgIExvZ2dlci5kZWJ1ZygnQmFubmVkVXNlcnMgOjogZGVsZXRlJywgeyBtZWV0aW5nSWQgfSk7XG4gICAgZGVsZXRlIHRoaXMuc3RvcmVbbWVldGluZ0lkXTtcbiAgfVxuXG4gIGhhcyhtZWV0aW5nSWQsIGV4dGVybmFsSWQpIHtcbiAgICBMb2dnZXIuZGVidWcoJ0Jhbm5lZFVzZXJzIDo6IGhhcycsIHsgbWVldGluZ0lkLCBleHRlcm5hbElkIH0pO1xuICAgIGlmICghdGhpcy5zdG9yZVttZWV0aW5nSWRdKSB0aGlzLnN0b3JlW21lZXRpbmdJZF0gPSBuZXcgU2V0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5zdG9yZVttZWV0aW5nSWRdLmhhcyhleHRlcm5hbElkKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBuZXcgQmFubmVkVXNlcnMoKTtcbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuY2xhc3MgUGVuZGluZ0F1dGhlbnRpdGNhdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgTG9nZ2VyLmRlYnVnKFwiUGVuZGluZ0F1dGhlbnRpdGNhdGlvbnMgOjogY29uc3RydWN0b3JcIik7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBbXTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUtleSAobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbikge1xuICAgICAgICAvLyBQcm90ZWN0IGFnYWluc3Qgc2VwYXJhdG9yIGluamVjdGlvblxuICAgICAgICBtZWV0aW5nSWQgPSBtZWV0aW5nSWQucmVwbGFjZSgvIC9nLCAnJyk7XG4gICAgICAgIHVzZXJJZCAgICA9IHVzZXJJZC5yZXBsYWNlKC8gL2csICcnKTtcbiAgICAgICAgYXV0aFRva2VuID0gYXV0aFRva2VuLnJlcGxhY2UoLyAvZywgJycpO1xuXG4gICAgICAgIC8vIFNwYWNlIHNlcGFyYXRlZCBrZXlcbiAgICAgICAgcmV0dXJuIGAke21lZXRpbmdJZH0gJHt1c2VySWR9ICR7YXV0aFRva2VufWA7XG4gICAgfVxuXG4gICAgYWRkIChtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuLCBtZXRob2RJbnZvY2F0aW9uT2JqZWN0KSB7XG4gICAgICAgIExvZ2dlci5kZWJ1ZyhcIlBlbmRpbmdBdXRoZW50aXRjYXRpb25zIDo6IGFkZFwiLCB7bWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbn0pO1xuICAgICAgICB0aGlzLnN0b3JlLnB1c2goe1xuICAgICAgICAgICAga2V5OiB0aGlzLmdlbmVyYXRlS2V5KG1lZXRpbmdJZCwgdXNlcklkLCBhdXRoVG9rZW4pLFxuICAgICAgICAgICAgbWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbiwgbWV0aG9kSW52b2NhdGlvbk9iamVjdFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0YWtlIChtZWV0aW5nSWQsIHVzZXJJZCwgYXV0aFRva2VuKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2VuZXJhdGVLZXkobWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbik7XG4gICAgICAgIExvZ2dlci5kZWJ1ZyhcIlBlbmRpbmdBdXRoZW50aXRjYXRpb25zIDo6IHRha2VcIiwge2tleSwgbWVldGluZ0lkLCB1c2VySWQsIGF1dGhUb2tlbn0pO1xuICAgICAgICBcbiAgICAgICAgLy8gZmluZCBtYXRjaGVzXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSB0aGlzLnN0b3JlLmZpbHRlciggZSA9PiBlLmtleSA9PT0ga2V5ICk7XG4gICAgICAgIFxuICAgICAgICAvLyByZW1vdmUgbWF0Y2hlcyAoaWYgYW55KVxuICAgICAgICBpZihtYXRjaGVzLmxlbmd0aCkgeyBcbiAgICAgICAgICAgIHRoaXMuc3RvcmUgPSB0aGlzLnN0b3JlLmZpbHRlciggZSA9PiBlLmtleSAhPT0ga2V5ICkgO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmV0dXJuIG1hdGNoZXNcbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgbmV3IFBlbmRpbmdBdXRoZW50aXRjYXRpb25zKCk7IiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVSZW1vdmVVc2VyIGZyb20gJy4vaGFuZGxlcnMvcmVtb3ZlVXNlcic7XG5pbXBvcnQgaGFuZGxlVXNlckpvaW5lZCBmcm9tICcuL2hhbmRsZXJzL3VzZXJKb2luZWQnO1xuaW1wb3J0IGhhbmRsZVZhbGlkYXRlQXV0aFRva2VuIGZyb20gJy4vaGFuZGxlcnMvdmFsaWRhdGVBdXRoVG9rZW4nO1xuaW1wb3J0IGhhbmRsZVByZXNlbnRlckFzc2lnbmVkIGZyb20gJy4vaGFuZGxlcnMvcHJlc2VudGVyQXNzaWduZWQnO1xuaW1wb3J0IGhhbmRsZUVtb2ppU3RhdHVzIGZyb20gJy4vaGFuZGxlcnMvZW1vamlTdGF0dXMnO1xuaW1wb3J0IGhhbmRsZUdldFVzZXJzIGZyb20gJy4vaGFuZGxlcnMvZ2V0VXNlcnMnO1xuaW1wb3J0IGhhbmRsZVVzZXJFamVjdGVkIGZyb20gJy4vaGFuZGxlcnMvdXNlckVqZWN0ZWQnO1xuaW1wb3J0IGhhbmRsZUNoYW5nZVJvbGUgZnJvbSAnLi9oYW5kbGVycy9jaGFuZ2VSb2xlJztcbmltcG9ydCBoYW5kbGVVc2VySW5hY3Rpdml0eUluc3BlY3QgZnJvbSAnLi9oYW5kbGVycy91c2VySW5hY3Rpdml0eUluc3BlY3QnO1xuXG5SZWRpc1B1YlN1Yi5vbignUHJlc2VudGVyQXNzaWduZWRFdnRNc2cnLCBoYW5kbGVQcmVzZW50ZXJBc3NpZ25lZCk7XG5SZWRpc1B1YlN1Yi5vbignVXNlckpvaW5lZE1lZXRpbmdFdnRNc2cnLCBoYW5kbGVVc2VySm9pbmVkKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyTGVmdE1lZXRpbmdFdnRNc2cnLCBoYW5kbGVSZW1vdmVVc2VyKTtcblJlZGlzUHViU3ViLm9uKCdWYWxpZGF0ZUF1dGhUb2tlblJlc3BNc2cnLCBoYW5kbGVWYWxpZGF0ZUF1dGhUb2tlbik7XG5SZWRpc1B1YlN1Yi5vbignVXNlckVtb2ppQ2hhbmdlZEV2dE1zZycsIGhhbmRsZUVtb2ppU3RhdHVzKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0VXNlcnNNZWV0aW5nUmVzcE1zZycsIGhhbmRsZUdldFVzZXJzKTtcblJlZGlzUHViU3ViLm9uKCdVc2VyRWplY3RlZEZyb21NZWV0aW5nRXZ0TXNnJywgaGFuZGxlVXNlckVqZWN0ZWQpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJSb2xlQ2hhbmdlZEV2dE1zZycsIGhhbmRsZUNoYW5nZVJvbGUpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJJbmFjdGl2aXR5SW5zcGVjdE1zZycsIGhhbmRsZVVzZXJJbmFjdGl2aXR5SW5zcGVjdCk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB2YWxpZGF0ZUF1dGhUb2tlbiBmcm9tICcuL21ldGhvZHMvdmFsaWRhdGVBdXRoVG9rZW4nO1xuaW1wb3J0IHNldEVtb2ppU3RhdHVzIGZyb20gJy4vbWV0aG9kcy9zZXRFbW9qaVN0YXR1cyc7XG5pbXBvcnQgYXNzaWduUHJlc2VudGVyIGZyb20gJy4vbWV0aG9kcy9hc3NpZ25QcmVzZW50ZXInO1xuaW1wb3J0IGNoYW5nZVJvbGUgZnJvbSAnLi9tZXRob2RzL2NoYW5nZVJvbGUnO1xuaW1wb3J0IHJlbW92ZVVzZXIgZnJvbSAnLi9tZXRob2RzL3JlbW92ZVVzZXInO1xuaW1wb3J0IHRvZ2dsZVVzZXJMb2NrIGZyb20gJy4vbWV0aG9kcy90b2dnbGVVc2VyTG9jayc7XG5pbXBvcnQgc2V0VXNlckVmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlIGZyb20gJy4vbWV0aG9kcy9zZXRVc2VyRWZmZWN0aXZlQ29ubmVjdGlvblR5cGUnO1xuaW1wb3J0IHVzZXJBY3Rpdml0eVNpZ24gZnJvbSAnLi9tZXRob2RzL3VzZXJBY3Rpdml0eVNpZ24nO1xuaW1wb3J0IHVzZXJMZWZ0TWVldGluZyBmcm9tICcuL21ldGhvZHMvdXNlckxlZnRNZWV0aW5nJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRFbW9qaVN0YXR1cyxcbiAgYXNzaWduUHJlc2VudGVyLFxuICBjaGFuZ2VSb2xlLFxuICByZW1vdmVVc2VyLFxuICB2YWxpZGF0ZUF1dGhUb2tlbixcbiAgdG9nZ2xlVXNlckxvY2ssXG4gIHNldFVzZXJFZmZlY3RpdmVDb25uZWN0aW9uVHlwZSxcbiAgdXNlckFjdGl2aXR5U2lnbixcbiAgdXNlckxlZnRNZWV0aW5nLFxufSk7XG4iLCJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuaW1wb3J0IHVzZXJMZWF2aW5nIGZyb20gJy4vbWV0aG9kcy91c2VyTGVhdmluZyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuY29uc3QgUk9MRV9NT0RFUkFUT1IgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLnVzZXIucm9sZV9tb2RlcmF0b3I7XG5cbmZ1bmN0aW9uIGN1cnJlbnRVc2VyKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhyZXF1ZXN0ZXJVc2VySWQsIFN0cmluZyk7XG5cbiAgY29uc3QgY29ubmVjdGlvbklkID0gdGhpcy5jb25uZWN0aW9uLmlkO1xuICBjb25zdCBvbkNsb3NlQ29ubmVjdGlvbiA9IE1ldGVvci5iaW5kRW52aXJvbm1lbnQoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICB1c2VyTGVhdmluZyhtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgY29ubmVjdGlvbklkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBMb2dnZXIuZXJyb3IoYEV4Y2VwdGlvbiB3aGlsZSBleGVjdXRpbmcgdXNlckxlYXZpbmc6ICR7ZX1gKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMuX3Nlc3Npb24uc29ja2V0Lm9uKCdjbG9zZScsIF8uZGVib3VuY2Uob25DbG9zZUNvbm5lY3Rpb24sIDEwMCkpO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICBjb25zdCBvcHRpb25zID0ge1xuICAgIGZpZWxkczoge1xuICAgICAgdXNlcjogZmFsc2UsXG4gICAgICBhdXRoVG9rZW46IGZhbHNlLCAvLyBOb3QgYXNraW5nIGZvciBhdXRoVG9rZW4gZnJvbSBjbGllbnQgc2lkZSBidXQgYWxzbyBub3QgZXhwb3NpbmcgaXRcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBVc2Vycy5maW5kKHNlbGVjdG9yLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaEN1cnJlbnRVc2VyKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRVc2VycyA9IGN1cnJlbnRVc2VyLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFVzZXJzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgnY3VycmVudC11c2VyJywgcHVibGlzaEN1cnJlbnRVc2VyKTtcblxuZnVuY3Rpb24gdXNlcnMocm9sZSkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgJG9yOiBbXG4gICAgICB7IG1lZXRpbmdJZCB9LFxuICAgIF0sXG4gIH07XG5cbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoeyB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCwgbWVldGluZ0lkIH0sIHsgZmllbGRzOiB7IHJvbGU6IDEgfSB9KTtcbiAgaWYgKCEhVXNlciAmJiBVc2VyLnJvbGUgPT09IFJPTEVfTU9ERVJBVE9SKSB7XG4gICAgc2VsZWN0b3IuJG9yLnB1c2goe1xuICAgICAgJ2JyZWFrb3V0UHJvcHMuaXNCcmVha291dFVzZXInOiB0cnVlLFxuICAgICAgJ2JyZWFrb3V0UHJvcHMucGFyZW50SWQnOiBtZWV0aW5nSWQsXG4gICAgICBjb25uZWN0aW9uU3RhdHVzOiAnb25saW5lJyxcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgZmllbGRzOiB7XG4gICAgICBhdXRoVG9rZW46IGZhbHNlLFxuICAgICAgbGFzdFBpbmc6IGZhbHNlLFxuICAgIH0sXG4gIH07XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIFVzZXJzIGZvciAke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgcmV0dXJuIFVzZXJzLmZpbmQoc2VsZWN0b3IsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRVc2VycyA9IHVzZXJzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFVzZXJzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgndXNlcnMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBVc2VycyA9IG5ldyBNb25nby5Db2xsZWN0aW9uKCd1c2VycycpO1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIC8vIHR5cGVzIG9mIHF1ZXJpZXMgZm9yIHRoZSB1c2VyczpcbiAgLy8gMS4gbWVldGluZ0lkXG4gIC8vIDIuIG1lZXRpbmdJZCwgdXNlcklkXG5cbiAgVXNlcnMuX2Vuc3VyZUluZGV4KHsgbWVldGluZ0lkOiAxLCB1c2VySWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJzO1xuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IGFkZFVzZXJJbmZvIGZyb20gJy4uL21vZGlmaWVycy9hZGRVc2VySW5mbyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJJbmZvcm1hdGlvbih7IGhlYWRlciwgYm9keSB9KSB7XG4gIGNoZWNrKGJvZHksIE9iamVjdCk7XG4gIGNoZWNrKGhlYWRlciwgT2JqZWN0KTtcblxuICBjb25zdCB7IHVzZXJJbmZvIH0gPSBib2R5O1xuICBjb25zdCB7IHVzZXJJZCwgbWVldGluZ0lkIH0gPSBoZWFkZXI7XG5cbiAgY2hlY2sodXNlckluZm8sIEFycmF5KTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIGFkZFVzZXJJbmZvKHVzZXJJbmZvLCB1c2VySWQsIG1lZXRpbmdJZCk7XG59XG4iLCJpbXBvcnQgVXNlckluZm9zIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVtb3ZlVXNlckluZm9ybWF0aW9uKCkge1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVxdWVzdGVyVXNlcklkLFxuICB9O1xuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBSZW1vdmluZyB1c2VyIGluZm9ybWF0aW9uIGZyb20gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgUmVtb3ZlZCB1c2VyIGluZm9ybWF0aW9uOiByZXF1ZXN0ZXIgaWQ9JHtyZXF1ZXN0ZXJVc2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG4gIHJldHVybiBVc2VySW5mb3MucmVtb3ZlKHNlbGVjdG9yLCBjYik7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0VXNlckluZm9ybWF0aW9uKGV4dGVybmFsVXNlcklkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvVGhpcmRQYXJ0eTtcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdMb29rVXBVc2VyUmVxTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuICBjaGVjayhleHRlcm5hbFVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIGV4dGVybmFsVXNlcklkLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IFVzZXJJbmZvcyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRVc2VySW5mbyh1c2VySW5mbywgcmVxdWVzdGVyVXNlcklkLCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgaW5mbyA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgcmVxdWVzdGVyVXNlcklkLFxuICAgIHVzZXJJbmZvLFxuICB9O1xuICBjb25zdCBjYiA9IChlcnIpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBBZGRpbmcgdXNlciBpbmZvcm1hdGlvbiB0byBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIExvZ2dlci5pbmZvKGBBZGRlZCB1c2VyIGluZm9ybWF0aW9uOiByZXF1ZXN0ZXIgaWQ9JHtyZXF1ZXN0ZXJVc2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFVzZXJJbmZvcy5pbnNlcnQoaW5mbywgY2IpO1xufVxuIiwiaW1wb3J0IFVzZXJJbmZvcyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjbGVhclVzZXJzSW5mbyhtZWV0aW5nSWQpIHtcbiAgcmV0dXJuIFVzZXJJbmZvcy5yZW1vdmUoeyBtZWV0aW5nSWQgfSwgKCkgPT4ge1xuICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFVzZXIgSW5mb3MgKCR7bWVldGluZ0lkfSlgKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgVXNlckluZm9zIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyVXNlcnNJbmZvRm9yUmVxdWVzdGVyKG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkKSB7XG4gIHJldHVybiBVc2VySW5mb3MucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBVc2VyIEluZm9zIHJlcXVlc3RlZCBieSB1c2VyPSR7cmVxdWVzdGVyVXNlcklkfWApO1xuICB9KTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlVXNlckluZm9ybWF0aW9uIGZyb20gJy4vaGFuZGxlcnMvdXNlckluZm9ybWF0aW9uJztcblxuUmVkaXNQdWJTdWIub24oJ0xvb2tVcFVzZXJSZXNwTXNnJywgaGFuZGxlVXNlckluZm9ybWF0aW9uKTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHJlcXVlc3RVc2VySW5mb3JtYXRpb24gZnJvbSAnLi9tZXRob2RzL3JlcXVlc3RVc2VySW5mb3JtYXRpb24nO1xuaW1wb3J0IHJlbW92ZVVzZXJJbmZvcm1hdGlvbiBmcm9tICcuL21ldGhvZHMvcmVtb3ZlVXNlckluZm9ybWF0aW9uJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICByZXF1ZXN0VXNlckluZm9ybWF0aW9uLFxuICByZW1vdmVVc2VySW5mb3JtYXRpb24sXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFVzZXJJbmZvcyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtaW5mb3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHVzZXJJbmZvcygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBVc2VySW5mb3MuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgdXNlciBpbmZvcyByZXF1ZXN0ZWQgYnkgdXNlcj0ke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gVXNlckluZm9zLmZpbmQoeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kVXNlckluZm9zID0gdXNlckluZm9zLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFVzZXJJbmZvcyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3VzZXJzLWluZm9zJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVXNlckluZm9zID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3VzZXJzLWluZm9zJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgVXNlckluZm9zLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgdXNlcklkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mb3M7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgYWRkVXNlclNldHRpbmcgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlci9tb2RpZmllcnMvYWRkVXNlclNldHRpbmcnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmNvbnN0IG9sZFBhcmFtZXRlcnMgPSB7XG4gIGFza0ZvckZlZWRiYWNrT25Mb2dvdXQ6ICdiYmJfYXNrX2Zvcl9mZWVkYmFja19vbl9sb2dvdXQnLFxuICBhdXRvSm9pbjogJ2JiYl9hdXRvX2pvaW5fYXVkaW8nLFxuICBhdXRvU2hhcmVXZWJjYW06ICdiYmJfYXV0b19zaGFyZV93ZWJjYW0nLFxuICBhdXRvU3dhcExheW91dDogJ2JiYl9hdXRvX3N3YXBfbGF5b3V0JyxcbiAgY2xpZW50VGl0bGU6ICdiYmJfY2xpZW50X3RpdGxlJyxcbiAgY3VzdG9tU3R5bGU6ICdiYmJfY3VzdG9tX3N0eWxlJyxcbiAgY3VzdG9tU3R5bGVVcmw6ICdiYmJfY3VzdG9tX3N0eWxlX3VybCcsXG4gIGRpc3BsYXlCcmFuZGluZ0FyZWE6ICdiYmJfZGlzcGxheV9icmFuZGluZ19hcmVhJyxcbiAgZW5hYmxlU2NyZWVuc2hhcmluZzogJ2JiYl9lbmFibGVfc2NyZWVuX3NoYXJpbmcnLFxuICBlbmFibGVWaWRlbzogJ2JiYl9lbmFibGVfdmlkZW8nLFxuICBmb3JjZUxpc3Rlbk9ubHk6ICdiYmJfZm9yY2VfbGlzdGVuX29ubHknLFxuICBoaWRlUHJlc2VudGF0aW9uOiAnYmJiX2hpZGVfcHJlc2VudGF0aW9uJyxcbiAgbGlzdGVuT25seU1vZGU6ICdiYmJfbGlzdGVuX29ubHlfbW9kZScsXG4gIG11bHRpVXNlclBlbk9ubHk6ICdiYmJfbXVsdGlfdXNlcl9wZW5fb25seScsXG4gIG11bHRpVXNlclRvb2xzOiAnYmJiX211bHRpX3VzZXJfdG9vbHMnLFxuICBvdXRzaWRlVG9nZ2xlUmVjb3JkaW5nOiAnYmJiX291dHNpZGVfdG9nZ2xlX3JlY29yZGluZycsXG4gIG91dHNpZGVUb2dnbGVTZWxmVm9pY2U6ICdiYmJfb3V0c2lkZV90b2dnbGVfc2VsZl92b2ljZScsXG4gIHByZXNlbnRlclRvb2xzOiAnYmJiX3ByZXNlbnRlcl90b29scycsXG4gIHNob3J0Y3V0czogJ2JiYl9zaG9ydGN1dHMnLFxuICBza2lwQ2hlY2s6ICdiYmJfc2tpcF9jaGVja19hdWRpbycsXG59O1xuXG5jb25zdCBvbGRQYXJhbWV0ZXJzS2V5cyA9IE9iamVjdC5rZXlzKG9sZFBhcmFtZXRlcnMpO1xuXG5jb25zdCBjdXJyZW50UGFyYW1ldGVycyA9IFtcbiAgLy8gQVBQXG4gICdiYmJfYXNrX2Zvcl9mZWVkYmFja19vbl9sb2dvdXQnLFxuICAnYmJiX2F1dG9fam9pbl9hdWRpbycsXG4gICdiYmJfY2xpZW50X3RpdGxlJyxcbiAgJ2JiYl9mb3JjZV9saXN0ZW5fb25seScsXG4gICdiYmJfbGlzdGVuX29ubHlfbW9kZScsXG4gICdiYmJfc2tpcF9jaGVja19hdWRpbycsXG4gIC8vIEJSQU5ESU5HXG4gICdiYmJfZGlzcGxheV9icmFuZGluZ19hcmVhJyxcbiAgLy8gU0hPUlRDVVRTXG4gICdiYmJfc2hvcnRjdXRzJyxcbiAgLy8gS1VSRU5UT1xuICAnYmJiX2F1dG9fc2hhcmVfd2ViY2FtJyxcbiAgJ2JiYl9wcmVmZXJyZWRfY2FtZXJhX3Byb2ZpbGUnLFxuICAnYmJiX2VuYWJsZV9zY3JlZW5fc2hhcmluZycsXG4gICdiYmJfZW5hYmxlX3ZpZGVvJyxcbiAgJ2JiYl9yZWNvcmRfdmlkZW8nLFxuICAnYmJiX3NraXBfdmlkZW9fcHJldmlldycsXG4gICdiYmJfbWlycm9yX293bl93ZWJjYW0nLFxuICAvLyBQUkVTRU5UQVRJT05cbiAgJ2JiYl9mb3JjZV9yZXN0b3JlX3ByZXNlbnRhdGlvbl9vbl9uZXdfZXZlbnRzJyxcbiAgLy8gV0hJVEVCT0FSRFxuICAnYmJiX211bHRpX3VzZXJfcGVuX29ubHknLFxuICAnYmJiX3ByZXNlbnRlcl90b29scycsXG4gICdiYmJfbXVsdGlfdXNlcl90b29scycsXG4gIC8vIFNLSU5OSU5HL1RIRU1NSU5HXG4gICdiYmJfY3VzdG9tX3N0eWxlJyxcbiAgJ2JiYl9jdXN0b21fc3R5bGVfdXJsJyxcbiAgLy8gTEFZT1VUXG4gICdiYmJfYXV0b19zd2FwX2xheW91dCcsXG4gICdiYmJfaGlkZV9wcmVzZW50YXRpb24nLFxuICAnYmJiX3Nob3dfcGFydGljaXBhbnRzX29uX2xvZ2luJyxcbiAgJ2JiYl9zaG93X3B1YmxpY19jaGF0X29uX2xvZ2luJyxcbiAgLy8gT1VUU0lERSBDT01NQU5EU1xuICAnYmJiX291dHNpZGVfdG9nZ2xlX3NlbGZfdm9pY2UnLFxuICAnYmJiX291dHNpZGVfdG9nZ2xlX3JlY29yZGluZycsXG5dO1xuXG5mdW5jdGlvbiB2YWx1ZVBhcnNlcih2YWwpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IEpTT04ucGFyc2UodmFsLnRvTG93ZXJDYXNlKCkudHJpbSgpKTtcbiAgICByZXR1cm4gcGFyc2VkVmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLndhcm4oYGFkZFVzZXJTZXR0aW5nczpQYXJhbWV0ZXIgJHt2YWx9IGNvdWxkIG5vdCBiZSBwYXJzZWQgKHdhcyBub3QganNvbilgKTtcbiAgICByZXR1cm4gdmFsO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFkZFVzZXJTZXR0aW5ncyhzZXR0aW5ncykge1xuICBjaGVjayhzZXR0aW5ncywgW09iamVjdF0pO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQ6IHVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBsZXQgcGFyYW1ldGVycyA9IHt9O1xuXG4gIHNldHRpbmdzLmZvckVhY2goKGVsKSA9PiB7XG4gICAgY29uc3Qgc2V0dGluZ0tleSA9IE9iamVjdC5rZXlzKGVsKS5zaGlmdCgpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBzZXR0aW5nS2V5LnRyaW0oKTtcblxuICAgIGlmIChjdXJyZW50UGFyYW1ldGVycy5pbmNsdWRlcyhub3JtYWxpemVkS2V5KSkge1xuICAgICAgaWYgKCFPYmplY3Qua2V5cyhwYXJhbWV0ZXJzKS5pbmNsdWRlcyhub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBwYXJhbWV0ZXJzID0ge1xuICAgICAgICAgIFtub3JtYWxpemVkS2V5XTogdmFsdWVQYXJzZXIoZWxbc2V0dGluZ0tleV0pLFxuICAgICAgICAgIC4uLnBhcmFtZXRlcnMsXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbWV0ZXJzW25vcm1hbGl6ZWRLZXldID0gZWxbc2V0dGluZ0tleV07XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG9sZFBhcmFtZXRlcnNLZXlzLmluY2x1ZGVzKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICBjb25zdCBtYXRjaGluZ05ld0tleSA9IG9sZFBhcmFtZXRlcnNbbm9ybWFsaXplZEtleV07XG4gICAgICBpZiAoIU9iamVjdC5rZXlzKHBhcmFtZXRlcnMpLmluY2x1ZGVzKG1hdGNoaW5nTmV3S2V5KSkge1xuICAgICAgICBwYXJhbWV0ZXJzID0ge1xuICAgICAgICAgIFttYXRjaGluZ05ld0tleV06IHZhbHVlUGFyc2VyKGVsW3NldHRpbmdLZXldKSxcbiAgICAgICAgICAuLi5wYXJhbWV0ZXJzLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxvZ2dlci53YXJuKGBQYXJhbWV0ZXIgJHtub3JtYWxpemVkS2V5fSBub3QgaGFuZGxlZGApO1xuICB9KTtcblxuICBjb25zdCBzZXR0aW5nc0FkZGVkID0gW107XG4gIE9iamVjdC5lbnRyaWVzKHBhcmFtZXRlcnMpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgY29uc3Qgc2V0dGluZyA9IGVsWzBdO1xuICAgIGNvbnN0IHZhbHVlID0gZWxbMV07XG4gICAgc2V0dGluZ3NBZGRlZC5wdXNoKGFkZFVzZXJTZXR0aW5nKG1lZXRpbmdJZCwgdXNlcklkLCBzZXR0aW5nLCB2YWx1ZSkpO1xuICB9KTtcblxuICByZXR1cm4gc2V0dGluZ3NBZGRlZDtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VyU2V0dGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVXNlclNldHRpbmcobWVldGluZ0lkLCB1c2VySWQsIHNldHRpbmcsIHZhbHVlKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodXNlcklkLCBTdHJpbmcpO1xuICBjaGVjayhzZXR0aW5nLCBTdHJpbmcpO1xuICBjaGVjayh2YWx1ZSwgTWF0Y2guQW55KTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICAgIHNldHRpbmcsXG4gIH07XG4gIGNvbnN0IG1vZGlmaWVyID0ge1xuICAgICRzZXQ6IHtcbiAgICAgIG1lZXRpbmdJZCxcbiAgICAgIHVzZXJJZCxcbiAgICAgIHNldHRpbmcsXG4gICAgICB2YWx1ZSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZGluZyB1c2VyIHNldHRpbmcgdG8gY29sbGVjdGlvbjogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci52ZXJib3NlKGBVcHNlcnRlZCB1c2VyIHNldHRpbmcgZm9yIG1lZXRpbmdJZD0ke21lZXRpbmdJZH0gdXNlcklkPSR7dXNlcklkfSBzZXR0aW5nPSR7c2V0dGluZ31gKTtcbiAgfTtcblxuICByZXR1cm4gVXNlclNldHRpbmdzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBVc2VyU2V0dGluZ3MgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJVc2Vyc1NldHRpbmdzKG1lZXRpbmdJZCkge1xuICByZXR1cm4gVXNlclNldHRpbmdzLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgVXNlciBTZXR0aW5ncyAoJHttZWV0aW5nSWR9KWApO1xuICB9KTtcbn1cbiIsImltcG9ydCAnLi9tZXRob2RzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IGFkZFVzZXJTZXR0aW5ncyBmcm9tICcuL21ldGhvZHMvYWRkVXNlclNldHRpbmdzJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBhZGRVc2VyU2V0dGluZ3MsXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFVzZXJTZXR0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMtc2V0dGluZ3MnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5mdW5jdGlvbiB1c2VyU2V0dGluZ3MoKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gVXNlclNldHRpbmdzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgY3VycmVudFVzZXIgPSBVc2VyLmZpbmRPbmUoeyB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCB9KTtcblxuICBpZiAoY3VycmVudFVzZXIgJiYgY3VycmVudFVzZXIuYnJlYWtvdXRQcm9wcy5pc0JyZWFrb3V0VXNlcikge1xuICAgIGNvbnN0IHsgcGFyZW50SWQgfSA9IGN1cnJlbnRVc2VyLmJyZWFrb3V0UHJvcHM7XG5cbiAgICBjb25zdCBbZXh0ZXJuYWxJZF0gPSBjdXJyZW50VXNlci5leHRJZC5zcGxpdCgnLScpO1xuXG4gICAgY29uc3QgbWFpblJvb21Vc2VyU2V0dGluZ3MgPSBVc2VyU2V0dGluZ3MuZmluZCh7IG1lZXRpbmdJZDogcGFyZW50SWQsIHVzZXJJZDogZXh0ZXJuYWxJZCB9KTtcblxuICAgIG1haW5Sb29tVXNlclNldHRpbmdzLm1hcCgoeyBzZXR0aW5nLCB2YWx1ZSB9KSA9PiAoe1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgc2V0dGluZyxcbiAgICAgIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkLFxuICAgICAgdmFsdWUsXG4gICAgfSkpLmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgICAgIG1lZXRpbmdJZCxcbiAgICAgICAgc2V0dGluZzogZG9jLnNldHRpbmcsXG4gICAgICB9O1xuXG4gICAgICBVc2VyU2V0dGluZ3MudXBzZXJ0KHNlbGVjdG9yLCBkb2MpO1xuICAgIH0pO1xuXG4gICAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIHVzZXIgc2V0dGluZ3MgZm9yIHVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgICByZXR1cm4gVXNlclNldHRpbmdzLmZpbmQoeyBtZWV0aW5nSWQsIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0pO1xuICB9XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIHVzZXIgc2V0dGluZ3MgZm9yIHVzZXI9JHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgcmV0dXJuIFVzZXJTZXR0aW5ncy5maW5kKHsgbWVldGluZ0lkLCB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kVXNlclNldHRpbmdzID0gdXNlclNldHRpbmdzLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFVzZXJTZXR0aW5ncyguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3VzZXJzLXNldHRpbmdzJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVXNlclNldHRpbmdzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3VzZXJzLXNldHRpbmdzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgVXNlclNldHRpbmdzLl9lbnN1cmVJbmRleCh7XG4gICAgbWVldGluZ0lkOiAxLCB1c2VySWQ6IDEsXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyU2V0dGluZ3M7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgc2hhcmVkV2ViY2FtIGZyb20gJy4uL21vZGlmaWVycy9zaGFyZWRXZWJjYW0nO1xuaW1wb3J0IHsgaXNWYWxpZFN0cmVhbSB9IGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVXNlclNoYXJlZEh0bWw1V2ViY2FtKHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJJZCwgc3RyZWFtIH0gPSBib2R5O1xuXG4gIGNoZWNrKGhlYWRlciwgT2JqZWN0KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICBpZiAoIWlzVmFsaWRTdHJlYW0oc3RyZWFtKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiBzaGFyZWRXZWJjYW0obWVldGluZ0lkLCB1c2VySWQsIHN0cmVhbSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgdW5zaGFyZWRXZWJjYW0gZnJvbSAnLi4vbW9kaWZpZXJzL3Vuc2hhcmVkV2ViY2FtJztcbmltcG9ydCB7IGlzVmFsaWRTdHJlYW0gfSBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVVzZXJVbnNoYXJlZEh0bWw1V2ViY2FtKHsgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IHVzZXJJZCwgc3RyZWFtIH0gPSBib2R5O1xuXG4gIGNoZWNrKGhlYWRlciwgT2JqZWN0KTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICBpZiAoIWlzVmFsaWRTdHJlYW0oc3RyZWFtKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHJldHVybiB1bnNoYXJlZFdlYmNhbShtZWV0aW5nSWQsIHVzZXJJZCwgc3RyZWFtKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VyU2hhcmVXZWJjYW0oc3RyZWFtKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckJyb2FkY2FzdENhbVN0YXJ0TXNnJztcbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuaW5mbyhgdXNlciBzaGFyaW5nIHdlYmNhbTogJHttZWV0aW5nSWR9ICR7cmVxdWVzdGVyVXNlcklkfWApO1xuXG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICAvLyBjb25zdCBhY3Rpb25OYW1lID0gJ2pvaW5WaWRlbyc7XG4gIC8qIFRPRE8gdGhyb3cgYW4gZXJyb3IgaWYgdXNlciBoYXMgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB3ZWJjYW1cbiAgaWYgKCFpc0FsbG93ZWRUbyhhY3Rpb25OYW1lLCBjcmVkZW50aWFscykpIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdub3QtYWxsb3dlZCcsIGBZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHNoYXJlIHdlYmNhbWApO1xuICB9ICovXG5cbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBzdHJlYW0sXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlclVuc2hhcmVXZWJjYW0oc3RyZWFtKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnVXNlckJyb2FkY2FzdENhbVN0b3BNc2cnO1xuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIExvZ2dlci5pbmZvKGB1c2VyIHVuc2hhcmluZyB3ZWJjYW06ICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICBjaGVjayhzdHJlYW0sIFN0cmluZyk7XG5cbiAgLy8gY29uc3QgYWN0aW9uTmFtZSA9ICdqb2luVmlkZW8nO1xuICAvKiBUT0RPIHRocm93IGFuIGVycm9yIGlmIHVzZXIgaGFzIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgd2ViY2FtXG4gIGlmICghaXNBbGxvd2VkVG8oYWN0aW9uTmFtZSwgY3JlZGVudGlhbHMpKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm90LWFsbG93ZWQnLCBgWW91IGFyZSBub3QgYWxsb3dlZCB0byBzaGFyZSB3ZWJjYW1gKTtcbiAgfSAqL1xuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgc3RyZWFtLFxuICB9O1xuXG4gIHJldHVybiBSZWRpc1B1YlN1Yi5wdWJsaXNoVXNlck1lc3NhZ2UoQ0hBTk5FTCwgRVZFTlRfTkFNRSwgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQsIHBheWxvYWQpO1xufVxuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZpZGVvU3RyZWFtcyBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyVmlkZW9TdHJlYW1zKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIFZpZGVvU3RyZWFtcy5yZW1vdmUoeyBtZWV0aW5nSWQgfSwgKCkgPT4ge1xuICAgICAgTG9nZ2VyLmluZm8oYENsZWFyZWQgVmlkZW9TdHJlYW1zIGluICgke21lZXRpbmdJZH0pYCk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gVmlkZW9TdHJlYW1zLnJlbW92ZSh7fSwgKCkgPT4ge1xuICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFZpZGVvU3RyZWFtcyBpbiBhbGwgbWVldGluZ3MnKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVmlkZW9TdHJlYW1zIGZyb20gJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zJztcbmltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCB7XG4gIGdldERldmljZUlkLFxuICBnZXRVc2VyTmFtZSxcbn0gZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMvc2VydmVyL2hlbHBlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaGFyZWRXZWJjYW0obWVldGluZ0lkLCB1c2VySWQsIHN0cmVhbSkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgY2hlY2soc3RyZWFtLCBTdHJpbmcpO1xuXG4gIGNvbnN0IGRldmljZUlkID0gZ2V0RGV2aWNlSWQoc3RyZWFtKTtcbiAgY29uc3QgbmFtZSA9IGdldFVzZXJOYW1lKHVzZXJJZCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBkZXZpY2VJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBzdHJlYW0sXG4gICAgICBuYW1lLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgY2IgPSAoZXJyLCBudW1DaGFuZ2VkKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIExvZ2dlci5lcnJvcihgRXJyb3Igc2V0dGluZyBzdHJlYW06ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFVwZGF0ZWQgc3RyZWFtPSR7c3RyZWFtfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVmlkZW9TdHJlYW1zLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWaWRlb1N0cmVhbXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZpZGVvLXN0cmVhbXMnO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZ2V0RGV2aWNlSWQgfSBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcy9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuc2hhcmVkV2ViY2FtKG1lZXRpbmdJZCwgdXNlcklkLCBzdHJlYW0pIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKHN0cmVhbSwgU3RyaW5nKTtcblxuICBjb25zdCBkZXZpY2VJZCA9IGdldERldmljZUlkKHN0cmVhbSk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHVzZXJJZCxcbiAgICBkZXZpY2VJZCxcbiAgfTtcblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBFcnJvciByZW1vdmluZyBzdHJlYW06ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmluZm8oYFJlbW92ZWQgc3RyZWFtPSR7c3RyZWFtfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gVmlkZW9TdHJlYW1zLnJlbW92ZShzZWxlY3RvciwgY2IpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBoYW5kbGVVc2VyU2hhcmVkSHRtbDVXZWJjYW0gZnJvbSAnLi9oYW5kbGVycy91c2VyU2hhcmVkSHRtbDVXZWJjYW0nO1xuaW1wb3J0IGhhbmRsZVVzZXJVbnNoYXJlZEh0bWw1V2ViY2FtIGZyb20gJy4vaGFuZGxlcnMvdXNlclVuc2hhcmVkSHRtbDVXZWJjYW0nO1xuXG5SZWRpc1B1YlN1Yi5vbignVXNlckJyb2FkY2FzdENhbVN0YXJ0ZWRFdnRNc2cnLCBoYW5kbGVVc2VyU2hhcmVkSHRtbDVXZWJjYW0pO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJCcm9hZGNhc3RDYW1TdG9wcGVkRXZ0TXNnJywgaGFuZGxlVXNlclVuc2hhcmVkSHRtbDVXZWJjYW0pO1xuIiwiaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5cbmNvbnN0IEZMQVNIX1NUUkVBTV9SRUdFWCA9IC9eKFtBLXowLTldKyktKFtBLXowLTldKyktKFtBLXowLTldKykoLXJlY29yZGVkKT8kLztcbmNvbnN0IFRPS0VOID0gJ18nO1xuXG5jb25zdCBpc1ZhbGlkU3RyZWFtID0gc3RyZWFtID0+ICFGTEFTSF9TVFJFQU1fUkVHRVgudGVzdChzdHJlYW0pO1xuY29uc3QgZ2V0RGV2aWNlSWQgPSAoc3RyZWFtKSA9PiB7XG4gIGNvbnN0IHNwbGl0U3RyZWFtID0gc3RyZWFtLnNwbGl0KFRPS0VOKTtcbiAgaWYgKHNwbGl0U3RyZWFtLmxlbmd0aCA9PT0gMykgcmV0dXJuIHNwbGl0U3RyZWFtWzJdO1xuICBMb2dnZXIud2FybihgQ291bGQgbm90IGdldCBkZXZpY2VJZCBmcm9tIHN0cmVhbT0ke3N0cmVhbX1gKTtcbiAgcmV0dXJuIHN0cmVhbTtcbn07XG5cbmNvbnN0IGdldFVzZXJOYW1lID0gKHVzZXJJZCkgPT4ge1xuICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZShcbiAgICB7IHVzZXJJZCB9LFxuICAgIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9LFxuICApO1xuICBpZiAodXNlcikgcmV0dXJuIHVzZXIubmFtZTtcbiAgcmV0dXJuIHVzZXJJZDtcbn07XG5cbmV4cG9ydCB7XG4gIGlzVmFsaWRTdHJlYW0sXG4gIGdldERldmljZUlkLFxuICBnZXRVc2VyTmFtZSxcbn07XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVyJztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHVzZXJTaGFyZVdlYmNhbSBmcm9tICcuL21ldGhvZHMvdXNlclNoYXJlV2ViY2FtJztcbmltcG9ydCB1c2VyVW5zaGFyZVdlYmNhbSBmcm9tICcuL21ldGhvZHMvdXNlclVuc2hhcmVXZWJjYW0nO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHVzZXJTaGFyZVdlYmNhbSxcbiAgdXNlclVuc2hhcmVXZWJjYW0sXG59KTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZpZGVvU3RyZWFtcyBmcm9tICcvaW1wb3J0cy9hcGkvdmlkZW8tc3RyZWFtcyc7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcblxuZnVuY3Rpb24gdmlkZW9TdHJlYW1zKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFZpZGVvU3RyZWFtcy5maW5kKHsgbWVldGluZ0lkOiAnJyB9KTtcbiAgfVxuICBjb25zdCB7IG1lZXRpbmdJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoYHZpZGVvIHVzZXJzIG9mIG1lZXRpbmcgaWQ9JHttZWV0aW5nSWR9YCk7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgbWVldGluZ0lkLFxuICB9O1xuXG4gIHJldHVybiBWaWRlb1N0cmVhbXMuZmluZChzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2goLi4uYXJncykge1xuICBjb25zdCBib3VuZFZpZGVvU3RyZWFtcyA9IHZpZGVvU3RyZWFtcy5iaW5kKHRoaXMpO1xuICByZXR1cm4gYm91bmRWaWRlb1N0cmVhbXMoLi4uYXJncyk7XG59XG5cbk1ldGVvci5wdWJsaXNoKCd2aWRlby1zdHJlYW1zJywgcHVibGlzaCk7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcblxuY29uc3QgVmlkZW9TdHJlYW1zID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ZpZGVvLXN0cmVhbXMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgdmlkZW8gdXNlcnM6XG4gIC8vIDIuIG1lZXRpbmdJZFxuXG4gIFZpZGVvU3RyZWFtcy5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZGVvU3RyZWFtcztcbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBWb2ljZUNhbGxTdGF0ZSBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMnO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuXG4vLyBcIkNBTExfU1RBUlRFRFwiLCBcIklOX0VDSE9fVEVTVFwiLCBcIklOX0NPTkZFUkVOQ0VcIiwgXCJDQUxMX0VOREVEXCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVm9pY2VDYWxsU3RhdGVFdmVudCh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHtcbiAgICB2b2ljZUNvbmYsXG4gICAgY2xpZW50U2Vzc2lvbixcbiAgICB1c2VySWQsXG4gICAgY2FsbGVyTmFtZSxcbiAgICBjYWxsU3RhdGUsXG4gIH0gPSBib2R5O1xuXG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sodm9pY2VDb25mLCBTdHJpbmcpO1xuICBjaGVjayhjbGllbnRTZXNzaW9uLCBTdHJpbmcpO1xuICBjaGVjayh1c2VySWQsIFN0cmluZyk7XG4gIGNoZWNrKGNhbGxlck5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGNhbGxTdGF0ZSwgU3RyaW5nKTtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgdXNlcklkLFxuICAgIGNsaWVudFNlc3Npb24sXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDoge1xuICAgICAgbWVldGluZ0lkLFxuICAgICAgdXNlcklkLFxuICAgICAgdm9pY2VDb25mLFxuICAgICAgY2xpZW50U2Vzc2lvbixcbiAgICAgIGNhbGxTdGF0ZSxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFVwZGF0ZSB2b2ljZSBjYWxsIHN0YXRlPSR7dXNlcklkfTogJHtlcnJ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvZ2dlci5kZWJ1ZyhgVXBkYXRlIHZvaWNlIGNhbGwgc3RhdGU9JHt1c2VySWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9IGNsaWVudFNlc3Npb249JHtjbGllbnRTZXNzaW9ufSBjYWxsU3RhdGU9JHtjYWxsU3RhdGV9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFZvaWNlQ2FsbFN0YXRlLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWb2ljZUNhbGxTdGF0ZXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2xlYXJWb2ljZUNhbGxTdGF0ZXMobWVldGluZ0lkKSB7XG4gIGlmIChtZWV0aW5nSWQpIHtcbiAgICByZXR1cm4gVm9pY2VDYWxsU3RhdGVzLnJlbW92ZSh7IG1lZXRpbmdJZCB9LCAoKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2xlYXJlZCBWb2ljZUNhbGxTdGF0ZXMgaW4gKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBWb2ljZUNhbGxTdGF0ZXMucmVtb3ZlKHt9LCAoKSA9PiB7XG4gICAgTG9nZ2VyLmluZm8oJ0NsZWFyZWQgVm9pY2VDYWxsU3RhdGVzIGluIGFsbCBtZWV0aW5ncycpO1xuICB9KTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgaGFuZGxlVm9pY2VDYWxsU3RhdGVFdmVudCBmcm9tICcuL2hhbmRsZXJzL3ZvaWNlQ2FsbFN0YXRlRXZlbnQnO1xuXG5SZWRpc1B1YlN1Yi5vbignVm9pY2VDYWxsU3RhdGVFdnRNc2cnLCBoYW5kbGVWb2ljZUNhbGxTdGF0ZUV2ZW50KTtcbiIsImltcG9ydCAnLi9ldmVudEhhbmRsZXJzJztcbmltcG9ydCAnLi9wdWJsaXNoZXJzJztcbiIsImltcG9ydCBWb2ljZUNhbGxTdGF0ZXMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLWNhbGwtc3RhdGVzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmZ1bmN0aW9uIHZvaWNlQ2FsbFN0YXRlcygpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBWb2ljZUNhbGxTdGF0ZXMuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgVm9pY2UgQ2FsbCBTdGF0ZXMgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICByZXR1cm4gVm9pY2VDYWxsU3RhdGVzLmZpbmQoeyBtZWV0aW5nSWQsIHVzZXJJZDogcmVxdWVzdGVyVXNlcklkIH0pO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRWb2ljZUNhbGxTdGF0ZXMgPSB2b2ljZUNhbGxTdGF0ZXMuYmluZCh0aGlzKTtcbiAgcmV0dXJuIGJvdW5kVm9pY2VDYWxsU3RhdGVzKC4uLmFyZ3MpO1xufVxuXG5NZXRlb3IucHVibGlzaCgndm9pY2UtY2FsbC1zdGF0ZXMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBWb2ljZUNhbGxTdGF0ZXMgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbigndm9pY2VDYWxsU3RhdGVzJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHZvaWNlIHVzZXJzOlxuICAvLyAxLiBpbnRJZFxuICAvLyAyLiBtZWV0aW5nSWQsIGludElkXG5cbiAgVm9pY2VDYWxsU3RhdGVzLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgdXNlcklkOiAxIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBWb2ljZUNhbGxTdGF0ZXM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IGFkZFZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvYWRkVm9pY2VVc2VyJztcbmltcG9ydCByZW1vdmVWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3JlbW92ZVZvaWNlVXNlcic7XG5pbXBvcnQgdXBkYXRlVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy91cGRhdGVWb2ljZVVzZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVHZXRWb2ljZVVzZXJzKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3QgeyB1c2VycyB9ID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHVzZXJzLCBBcnJheSk7XG5cbiAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSwgeyBmaWVsZHM6IHsgJ3ZvaWNlUHJvcC52b2ljZUNvbmYnOiAxIH0gfSk7XG4gIGNvbnN0IHVzZXJzSWRzID0gdXNlcnMubWFwKG0gPT4gbS5pbnRJZCk7XG5cbiAgY29uc3Qgdm9pY2VVc2Vyc0lkc1RvVXBkYXRlID0gVm9pY2VVc2Vycy5maW5kKHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQ6IHsgJGluOiB1c2Vyc0lkcyB9LFxuICB9LCB7IGZpZWxkczogeyBpbnRJZDogMSB9IH0pLmZldGNoKCkubWFwKG0gPT4gbS5pbnRJZCk7XG5cbiAgY29uc3Qgdm9pY2VVc2Vyc1VwZGF0ZWQgPSBbXTtcbiAgdXNlcnMuZm9yRWFjaCgodXNlcikgPT4ge1xuICAgIGlmICh2b2ljZVVzZXJzSWRzVG9VcGRhdGUuaW5kZXhPZih1c2VyLmludElkKSA+PSAwKSB7XG4gICAgICAvLyB1c2VyIGFscmVhZHkgZXhpc3QsIHRoZW4gdXBkYXRlXG4gICAgICB2b2ljZVVzZXJzVXBkYXRlZC5wdXNoKHVwZGF0ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICAgICAgaW50SWQ6IHVzZXIuaW50SWQsXG4gICAgICAgIHZvaWNlVXNlcklkOiB1c2VyLnZvaWNlVXNlcklkLFxuICAgICAgICB0YWxraW5nOiB1c2VyLnRhbGtpbmcsXG4gICAgICAgIG11dGVkOiB1c2VyLm11dGVkLFxuICAgICAgICB2b2ljZUNvbmY6IG1lZXRpbmcudm9pY2VQcm9wLnZvaWNlQ29uZixcbiAgICAgICAgam9pbmVkOiB0cnVlLFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2VyIGRvZXNuJ3QgZXhpc3QgeWV0LCB0aGVuIGFkZCBpdFxuICAgICAgYWRkVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgICAgICB2b2ljZVVzZXJJZDogdXNlci52b2ljZVVzZXJJZCxcbiAgICAgICAgaW50SWQ6IHVzZXIuaW50SWQsXG4gICAgICAgIGNhbGxlck5hbWU6IHVzZXIuY2FsbGVyTmFtZSxcbiAgICAgICAgY2FsbGVyTnVtOiB1c2VyLmNhbGxlck51bSxcbiAgICAgICAgbXV0ZWQ6IHVzZXIubXV0ZWQsXG4gICAgICAgIHRhbGtpbmc6IHVzZXIudGFsa2luZyxcbiAgICAgICAgY2FsbGluZ1dpdGg6IHVzZXIuY2FsbGluZ1dpdGgsXG4gICAgICAgIGxpc3Rlbk9ubHk6IHVzZXIubGlzdGVuT25seSxcbiAgICAgICAgdm9pY2VDb25mOiBtZWV0aW5nLnZvaWNlUHJvcC52b2ljZUNvbmYsXG4gICAgICAgIGpvaW5lZDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gcmVtb3ZpbmcgZXh0cmEgdXNlcnMgYWxyZWFkeSBleGlzdGluZyBpbiBNb25nb1xuICBjb25zdCB2b2ljZVVzZXJzVG9SZW1vdmUgPSBWb2ljZVVzZXJzLmZpbmQoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZDogeyAkbmluOiB1c2Vyc0lkcyB9LFxuICB9KS5mZXRjaCgpO1xuICB2b2ljZVVzZXJzVG9SZW1vdmUuZm9yRWFjaCh1c2VyID0+IHJlbW92ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHtcbiAgICB2b2ljZUNvbmY6IG1lZXRpbmcudm9pY2VQcm9wLnZvaWNlQ29uZixcbiAgICB2b2ljZVVzZXJJZDogdXNlci52b2ljZVVzZXJJZCxcbiAgICBpbnRJZDogdXNlci5pbnRJZCxcbiAgfSkpO1xuXG4gIHJldHVybiB2b2ljZVVzZXJzVXBkYXRlZDtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuaW1wb3J0IGFkZERpYWxJblVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkRGlhbEluVXNlcic7XG5pbXBvcnQgYWRkVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy9hZGRWb2ljZVVzZXInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZUpvaW5Wb2ljZVVzZXIoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB2b2ljZVVzZXIgPSBib2R5O1xuICB2b2ljZVVzZXIuam9pbmVkID0gdHJ1ZTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHZvaWNlVXNlciwge1xuICAgIHZvaWNlQ29uZjogU3RyaW5nLFxuICAgIGludElkOiBTdHJpbmcsXG4gICAgdm9pY2VVc2VySWQ6IFN0cmluZyxcbiAgICBjYWxsZXJOYW1lOiBTdHJpbmcsXG4gICAgY2FsbGVyTnVtOiBTdHJpbmcsXG4gICAgbXV0ZWQ6IEJvb2xlYW4sXG4gICAgdGFsa2luZzogQm9vbGVhbixcbiAgICBjYWxsaW5nV2l0aDogU3RyaW5nLFxuICAgIGxpc3Rlbk9ubHk6IEJvb2xlYW4sXG4gICAgam9pbmVkOiBCb29sZWFuLFxuICB9KTtcblxuICBjb25zdCB7XG4gICAgaW50SWQsXG4gIH0gPSB2b2ljZVVzZXI7XG5cbiAgY29uc3QgVXNlciA9IFVzZXJzLmZpbmRPbmUoe1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZCxcbiAgICBjb25uZWN0aW9uU3RhdHVzOiAnb25saW5lJyxcbiAgfSk7XG5cbiAgaWYgKCFVc2VyKSB7XG4gICAgLyogdm9pY2Utb25seSB1c2VyIC0gY2FsbGVkIGludG8gdGhlIGNvbmZlcmVuY2UgKi9cbiAgICBhZGREaWFsSW5Vc2VyKG1lZXRpbmdJZCwgdm9pY2VVc2VyKTtcbiAgfVxuXG4gIHJldHVybiBhZGRWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuXG5pbXBvcnQgcmVtb3ZlVm9pY2VVc2VyIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXIvbW9kaWZpZXJzL3JlbW92ZVZvaWNlVXNlcic7XG5pbXBvcnQgcmVtb3ZlVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyL21vZGlmaWVycy9yZW1vdmVVc2VyJztcbmltcG9ydCBVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdXNlcnMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVWb2ljZVVwZGF0ZSh7IGJvZHkgfSwgbWVldGluZ0lkKSB7XG4gIGNvbnN0IHZvaWNlVXNlciA9IGJvZHk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIHtcbiAgICB2b2ljZUNvbmY6IFN0cmluZyxcbiAgICBpbnRJZDogU3RyaW5nLFxuICAgIHZvaWNlVXNlcklkOiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHtcbiAgICBpbnRJZCxcbiAgICB2b2ljZVVzZXJJZCxcbiAgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCBpc0RpYWxJblVzZXIgPSAodXNlcklkLCBtZWV0aW5nSUQpID0+ICEhVXNlcnMuZmluZE9uZSh7IG1lZXRpbmdJZDogbWVldGluZ0lELCB1c2VySWQsIGNsaWVudFR5cGU6ICdkaWFsLWluLXVzZXInIH0pO1xuXG4gIC8vIGlmIHRoZSB1c2VyIGlzIGRpYWwtaW4sIGxlYXZpbmcgdm9pY2UgYWxzbyBtZWFucyBsZWF2aW5nIHVzZXJsaXN0XG4gIGlmIChpc0RpYWxJblVzZXIodm9pY2VVc2VySWQsIG1lZXRpbmdJZCkpIHJlbW92ZVVzZXIobWVldGluZ0lkLCBpbnRJZCk7XG5cbiAgcmV0dXJuIHJlbW92ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcik7XG59XG4iLCJpbXBvcnQgY2hhbmdlTXV0ZU1lZXRpbmcgZnJvbSAnLi4vbW9kaWZpZXJzL2NoYW5nZU11dGVNZWV0aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlTWVldGluZ011dGVkKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgcmV0dXJuIGNoYW5nZU11dGVNZWV0aW5nKG1lZXRpbmdJZCwgYm9keSk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCB1cGRhdGVWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3VwZGF0ZVZvaWNlVXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZvaWNlVXBkYXRlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qgdm9pY2VVc2VyID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgLy8gSWYgYSBwZXJzb24gaXMgbXV0ZWQgd2UgaGF2ZSB0byBmb3JjZSB0aGVtIHRvIG5vdCB0YWxraW5nXG4gIGlmICh2b2ljZVVzZXIubXV0ZWQpIHtcbiAgICB2b2ljZVVzZXIudGFsa2luZyA9IGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcik7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5cbmltcG9ydCB1cGRhdGVWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL3VwZGF0ZVZvaWNlVXNlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZVZvaWNlVXBkYXRlKHsgYm9keSB9LCBtZWV0aW5nSWQpIHtcbiAgY29uc3Qgdm9pY2VVc2VyID0gYm9keTtcblxuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG5cbiAgcmV0dXJuIHVwZGF0ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcik7XG59XG4iLCJpbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMvJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IGFkZERpYWxJblVzZXIgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tb2RpZmllcnMvYWRkRGlhbEluVXNlcic7XG5pbXBvcnQgcmVtb3ZlVm9pY2VVc2VyIGZyb20gJy4uL21vZGlmaWVycy9yZW1vdmVWb2ljZVVzZXInO1xuaW1wb3J0IHVwZGF0ZVZvaWNlVXNlciBmcm9tICcuLi9tb2RpZmllcnMvdXBkYXRlVm9pY2VVc2VyJztcbmltcG9ydCBhZGRWb2ljZVVzZXIgZnJvbSAnLi4vbW9kaWZpZXJzL2FkZFZvaWNlVXNlcic7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGFuZGxlVm9pY2VVc2Vycyh7IGhlYWRlciwgYm9keSB9KSB7XG4gIGNvbnN0IHsgdm9pY2VVc2VycyB9ID0gYm9keTtcbiAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGhlYWRlcjtcblxuICBjb25zdCBtZWV0aW5nID0gTWVldGluZ3MuZmluZE9uZSh7IG1lZXRpbmdJZCB9LCB7IGZpZWxkczogeyAndm9pY2VQcm9wLnZvaWNlQ29uZic6IDEgfSB9KTtcbiAgY29uc3QgdXNlcnNJZHMgPSB2b2ljZVVzZXJzLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHZvaWNlVXNlcnNJZHNUb1VwZGF0ZSA9IFZvaWNlVXNlcnMuZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkOiB7ICRpbjogdXNlcnNJZHMgfSxcbiAgfSwgeyBmaWVsZHM6IHsgaW50SWQ6IDEgfSB9KS5mZXRjaCgpLm1hcChtID0+IG0uaW50SWQpO1xuXG4gIGNvbnN0IHZvaWNlVXNlcnNVcGRhdGVkID0gW107XG4gIHZvaWNlVXNlcnMuZm9yRWFjaCgodm9pY2UpID0+IHtcbiAgICBpZiAodm9pY2VVc2Vyc0lkc1RvVXBkYXRlLmluZGV4T2Yodm9pY2UuaW50SWQpID49IDApIHtcbiAgICAgIC8vIHVzZXIgYWxyZWFkeSBleGlzdCwgdGhlbiB1cGRhdGVcbiAgICAgIHZvaWNlVXNlcnNVcGRhdGVkLnB1c2godXBkYXRlVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgICAgICBpbnRJZDogdm9pY2UuaW50SWQsXG4gICAgICAgIHZvaWNlVXNlcklkOiB2b2ljZS52b2ljZVVzZXJJZCxcbiAgICAgICAgdGFsa2luZzogdm9pY2UudGFsa2luZyxcbiAgICAgICAgbXV0ZWQ6IHZvaWNlLm11dGVkLFxuICAgICAgICB2b2ljZUNvbmY6IG1lZXRpbmcudm9pY2VQcm9wLnZvaWNlQ29uZixcbiAgICAgICAgam9pbmVkOiB0cnVlLFxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1c2VyIGRvZXNuJ3QgZXhpc3QgeWV0LCB0aGVuIGFkZCBpdFxuICAgICAgYWRkVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgICAgICB2b2ljZVVzZXJJZDogdm9pY2Uudm9pY2VVc2VySWQsXG4gICAgICAgIGludElkOiB2b2ljZS5pbnRJZCxcbiAgICAgICAgY2FsbGVyTmFtZTogdm9pY2UuY2FsbGVyTmFtZSxcbiAgICAgICAgY2FsbGVyTnVtOiB2b2ljZS5jYWxsZXJOdW0sXG4gICAgICAgIG11dGVkOiB2b2ljZS5tdXRlZCxcbiAgICAgICAgdGFsa2luZzogdm9pY2UudGFsa2luZyxcbiAgICAgICAgY2FsbGluZ1dpdGg6IHZvaWNlLmNhbGxpbmdXaXRoLFxuICAgICAgICBsaXN0ZW5Pbmx5OiB2b2ljZS5saXN0ZW5Pbmx5LFxuICAgICAgICB2b2ljZUNvbmY6IG1lZXRpbmcudm9pY2VQcm9wLnZvaWNlQ29uZixcbiAgICAgICAgam9pbmVkOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIGFkZERpYWxJblVzZXIobWVldGluZ0lkLCB2b2ljZSk7XG4gICAgfVxuICB9KTtcblxuICAvLyByZW1vdmluZyBleHRyYSB1c2VycyBhbHJlYWR5IGV4aXN0aW5nIGluIE1vbmdvXG4gIGNvbnN0IHZvaWNlVXNlcnNUb1JlbW92ZSA9IFZvaWNlVXNlcnMuZmluZCh7XG4gICAgbWVldGluZ0lkLFxuICAgIGludElkOiB7ICRuaW46IHVzZXJzSWRzIH0sXG4gIH0sIHsgZmllbGRzOiB7IHZvaWNlVXNlcklkOiAxLCBpbnRJZDogMSB9IH0pLmZldGNoKCk7XG4gIHZvaWNlVXNlcnNUb1JlbW92ZS5mb3JFYWNoKHVzZXIgPT4gcmVtb3ZlVm9pY2VVc2VyKG1lZXRpbmdJZCwge1xuICAgIHZvaWNlQ29uZjogbWVldGluZy52b2ljZVByb3Audm9pY2VDb25mLFxuICAgIHZvaWNlVXNlcklkOiB1c2VyLnZvaWNlVXNlcklkLFxuICAgIGludElkOiB1c2VyLmludElkLFxuICB9KSk7XG5cbiAgcmV0dXJuIHZvaWNlVXNlcnNVcGRhdGVkO1xufVxuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVqZWN0VXNlckZyb21Wb2ljZSh1c2VySWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdFamVjdFVzZXJGcm9tVm9pY2VDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHVzZXJJZCxcbiAgICBlamVjdGVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgfTtcblxuICByZXR1cm4gUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG11dGVBbGxFeGNlcHRQcmVzZW50ZXJUb2dnbGUoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnTXV0ZUFsbEV4Y2VwdFByZXNlbnRlcnNDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG4gIGNvbnN0IHRvZ2dsZU1lZXRpbmdNdXRlZCA9ICFtZWV0aW5nLnZvaWNlUHJvcC5tdXRlT25TdGFydDtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIG11dGVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBtdXRlOiB0b2dnbGVNZWV0aW5nTXV0ZWQsXG4gIH07XG5cbiAgUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCBNZWV0aW5ncyBmcm9tICcvaW1wb3J0cy9hcGkvbWVldGluZ3MnO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG11dGVBbGxUb2dnbGUoKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnTXV0ZU1lZXRpbmdDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY29uc3QgbWVldGluZyA9IE1lZXRpbmdzLmZpbmRPbmUoeyBtZWV0aW5nSWQgfSk7XG4gIGNvbnN0IHRvZ2dsZU1lZXRpbmdNdXRlZCA9ICFtZWV0aW5nLnZvaWNlUHJvcC5tdXRlT25TdGFydDtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIG11dGVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBtdXRlOiB0b2dnbGVNZWV0aW5nTXV0ZWQsXG4gIH07XG5cbiAgUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgUmVkaXNQdWJTdWIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvcmVkaXMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG11dGVUb2dnbGUodUlkKSB7XG4gIGNvbnN0IFJFRElTX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzO1xuICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gIGNvbnN0IEVWRU5UX05BTUUgPSAnTXV0ZVVzZXJDbWRNc2cnO1xuXG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG4gIGNvbnN0IHVzZXJUb011dGUgPSB1SWQgfHwgcmVxdWVzdGVyVXNlcklkO1xuXG4gIGNvbnN0IHJlcXVlc3RlciA9IFVzZXJzLmZpbmRPbmUoe1xuICAgIG1lZXRpbmdJZCxcbiAgICB1c2VySWQ6IHJlcXVlc3RlclVzZXJJZCxcbiAgfSk7XG5cbiAgY29uc3Qgdm9pY2VVc2VyID0gVm9pY2VVc2Vycy5maW5kT25lKHtcbiAgICBpbnRJZDogdXNlclRvTXV0ZSxcbiAgICBtZWV0aW5nSWQsXG4gIH0pO1xuXG4gIGlmICghcmVxdWVzdGVyIHx8ICF2b2ljZVVzZXIpIHJldHVybjtcblxuICBjb25zdCB7IGxpc3Rlbk9ubHksIG11dGVkIH0gPSB2b2ljZVVzZXI7XG4gIGlmIChsaXN0ZW5Pbmx5KSByZXR1cm47XG5cbiAgLy8gaWYgYWxsb3dNb2RzVG9Vbm11dGVVc2VycyBpcyBmYWxzZSwgdXNlcnMgd2lsbCBiZSBraWNrZWQgb3V0IGZvciBhdHRlbXB0aW5nIHRvIHVubXV0ZSBvdGhlcnNcbiAgaWYgKHJlcXVlc3RlclVzZXJJZCAhPT0gdXNlclRvTXV0ZSAmJiBtdXRlZCkge1xuICAgIGNvbnN0IG1lZXRpbmcgPSBNZWV0aW5ncy5maW5kT25lKHsgbWVldGluZ0lkIH0sXG4gICAgICB7IGZpZWxkczogeyAndXNlcnNQcm9wLmFsbG93TW9kc1RvVW5tdXRlVXNlcnMnOiAxIH0gfSk7XG4gICAgaWYgKG1lZXRpbmcudXNlcnNQcm9wICYmICFtZWV0aW5nLnVzZXJzUHJvcC5hbGxvd01vZHNUb1VubXV0ZVVzZXJzKSB7XG4gICAgICBMb2dnZXIud2FybihgQXR0ZW1wdGVkIHVubXV0aW5nIGJ5IGFub3RoZXIgdXNlciBtZWV0aW5nSWQ6JHttZWV0aW5nSWR9IHJlcXVlc3RlcjogJHtyZXF1ZXN0ZXJVc2VySWR9IHVzZXJJZDogJHt1c2VyVG9NdXRlfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgdXNlcklkOiB1c2VyVG9NdXRlLFxuICAgIG11dGVkQnk6IHJlcXVlc3RlclVzZXJJZCxcbiAgICBtdXRlOiAhbXV0ZWQsXG4gIH07XG5cbiAgUmVkaXNQdWJTdWIucHVibGlzaFVzZXJNZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkLCBwYXlsb2FkKTtcbn1cbiIsImltcG9ydCB7IGNoZWNrIH0gZnJvbSAnbWV0ZW9yL2NoZWNrJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWb2ljZVVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcbmltcG9ydCBmbGF0IGZyb20gJ2ZsYXQnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIHtcbiAgICB2b2ljZVVzZXJJZDogU3RyaW5nLFxuICAgIGludElkOiBTdHJpbmcsXG4gICAgY2FsbGVyTmFtZTogU3RyaW5nLFxuICAgIGNhbGxlck51bTogU3RyaW5nLFxuICAgIG11dGVkOiBCb29sZWFuLFxuICAgIHRhbGtpbmc6IEJvb2xlYW4sXG4gICAgY2FsbGluZ1dpdGg6IFN0cmluZyxcbiAgICBsaXN0ZW5Pbmx5OiBCb29sZWFuLFxuICAgIHZvaWNlQ29uZjogU3RyaW5nLFxuICAgIGpvaW5lZDogQm9vbGVhbiwgLy8gVGhpcyBpcyBhIEhUTUw1IG9ubHkgcGFyYW0uXG4gIH0pO1xuXG4gIGNvbnN0IHsgaW50SWQsIHRhbGtpbmcgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIHsgbWVldGluZ0lkLCBzcG9rZTogdGFsa2luZyB9LFxuICAgICAgZmxhdCh2b2ljZVVzZXIpLFxuICAgICksXG4gIH07XG5cbiAgY29uc3QgdXNlciA9IFVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHVzZXJJZDogaW50SWQgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgY29sb3I6IDEsXG4gICAgfSxcbiAgfSk7XG5cbiAgaWYgKHVzZXIpIG1vZGlmaWVyLiRzZXQuY29sb3IgPSB1c2VyLmNvbG9yO1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYEFkZCB2b2ljZSB1c2VyPSR7aW50SWR9OiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oYEFkZCB2b2ljZSB1c2VyPSR7aW50SWR9IG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gIH07XG5cbiAgcmV0dXJuIFZvaWNlVXNlcnMudXBzZXJ0KHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IE1lZXRpbmdzIGZyb20gJy9pbXBvcnRzL2FwaS9tZWV0aW5ncyc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZU11dGVNZWV0aW5nKG1lZXRpbmdJZCwgcGF5bG9hZCkge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHBheWxvYWQsIHtcbiAgICBtdXRlZDogQm9vbGVhbixcbiAgICBtdXRlZEJ5OiBTdHJpbmcsXG4gIH0pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICAndm9pY2VQcm9wLm11dGVPblN0YXJ0JzogcGF5bG9hZC5tdXRlZCxcbiAgICB9LFxuICB9O1xuXG4gIGNvbnN0IGNiID0gKGVyciwgbnVtQ2hhbmdlZCkgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgQ2hhbmdpbmcgbWVldGluZyBtdXRlIHN0YXR1cyBtZWV0aW5nPXske21lZXRpbmdJZH19ICR7ZXJyfWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChudW1DaGFuZ2VkKSB7XG4gICAgICBMb2dnZXIuaW5mbyhgQ2hhbmdlZCBtZWV0aW5nIG11dGUgc3RhdHVzIG1lZXRpbmc9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICB9O1xuXG5cbiAgcmV0dXJuIE1lZXRpbmdzLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCBWb2ljZVVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNsZWFyVm9pY2VVc2VyKG1lZXRpbmdJZCkge1xuICBpZiAobWVldGluZ0lkKSB7XG4gICAgcmV0dXJuIFZvaWNlVXNlcnMucmVtb3ZlKHsgbWVldGluZ0lkIH0sICgpID0+IHtcbiAgICAgIExvZ2dlci5pbmZvKGBDbGVhcmVkIFZvaWNlVXNlcnMgaW4gKCR7bWVldGluZ0lkfSlgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBWb2ljZVVzZXJzLnJlbW92ZSh7fSwgKCkgPT4ge1xuICAgIExvZ2dlci5pbmZvKCdDbGVhcmVkIFZvaWNlVXNlcnMgaW4gYWxsIG1lZXRpbmdzJyk7XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9sb2dnZXInO1xuaW1wb3J0IFZvaWNlVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3ZvaWNlLXVzZXJzJztcbmltcG9ydCB7IGNsZWFyU3Bva2VUaW1lb3V0IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbW92ZVZvaWNlVXNlcihtZWV0aW5nSWQsIHZvaWNlVXNlcikge1xuICBjaGVjayhtZWV0aW5nSWQsIFN0cmluZyk7XG4gIGNoZWNrKHZvaWNlVXNlciwge1xuICAgIHZvaWNlQ29uZjogU3RyaW5nLFxuICAgIHZvaWNlVXNlcklkOiBTdHJpbmcsXG4gICAgaW50SWQ6IFN0cmluZyxcbiAgfSk7XG5cbiAgY29uc3QgeyBpbnRJZCB9ID0gdm9pY2VVc2VyO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICBpbnRJZCxcbiAgfTtcblxuICBjb25zdCBtb2RpZmllciA9IHtcbiAgICAkc2V0OiB7XG4gICAgICBtdXRlZDogZmFsc2UsXG4gICAgICB0YWxraW5nOiBmYWxzZSxcbiAgICAgIGxpc3Rlbk9ubHk6IGZhbHNlLFxuICAgICAgam9pbmVkOiBmYWxzZSxcbiAgICAgIHNwb2tlOiBmYWxzZSxcbiAgICB9LFxuICB9O1xuXG4gIGNsZWFyU3Bva2VUaW1lb3V0KG1lZXRpbmdJZCwgaW50SWQpO1xuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFJlbW92ZSB2b2ljZVVzZXI9JHtpbnRJZH06ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgUmVtb3ZlIHZvaWNlVXNlcj0ke2ludElkfSBtZWV0aW5nPSR7bWVldGluZ0lkfWApO1xuICB9O1xuXG4gIHJldHVybiBWb2ljZVVzZXJzLnVwZGF0ZShzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCB7IE1hdGNoLCBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuaW1wb3J0IGZsYXQgZnJvbSAnZmxhdCc7XG5pbXBvcnQgeyBzcG9rZVRpbWVvdXRIYW5kbGVzLCBjbGVhclNwb2tlVGltZW91dCB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5jb25zdCBUQUxLSU5HX1RJTUVPVVQgPSA2MDAwO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVWb2ljZVVzZXIobWVldGluZ0lkLCB2b2ljZVVzZXIpIHtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayh2b2ljZVVzZXIsIHtcbiAgICBpbnRJZDogU3RyaW5nLFxuICAgIHZvaWNlVXNlcklkOiBTdHJpbmcsXG4gICAgdGFsa2luZzogTWF0Y2guTWF5YmUoQm9vbGVhbiksXG4gICAgbXV0ZWQ6IE1hdGNoLk1heWJlKEJvb2xlYW4pLFxuICAgIHZvaWNlQ29uZjogU3RyaW5nLFxuICAgIGpvaW5lZDogTWF0Y2guTWF5YmUoQm9vbGVhbiksXG4gIH0pO1xuXG4gIGNvbnN0IHsgaW50SWQgfSA9IHZvaWNlVXNlcjtcblxuICBjb25zdCBzZWxlY3RvciA9IHtcbiAgICBtZWV0aW5nSWQsXG4gICAgaW50SWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgJHNldDogT2JqZWN0LmFzc2lnbihcbiAgICAgIGZsYXQodm9pY2VVc2VyKSxcbiAgICApLFxuICB9O1xuXG4gIGlmICh2b2ljZVVzZXIudGFsa2luZykge1xuICAgIGNvbnN0IHVzZXIgPSBWb2ljZVVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQsIGludElkIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGFydFRpbWU6IDEsXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgaWYgKHVzZXIgJiYgIXVzZXIuc3RhcnRUaW1lKSBtb2RpZmllci4kc2V0LnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgbW9kaWZpZXIuJHNldC5zcG9rZSA9IHRydWU7XG4gICAgbW9kaWZpZXIuJHNldC5lbmRUaW1lID0gbnVsbDtcbiAgICBjbGVhclNwb2tlVGltZW91dChtZWV0aW5nSWQsIGludElkKTtcbiAgfVxuXG4gIGNvbnN0IGNiID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuZXJyb3IoYFVwZGF0ZSB2b2ljZVVzZXI9JHtpbnRJZH06ICR7ZXJyfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuZGVidWcoYFVwZGF0ZSB2b2ljZVVzZXI9JHtpbnRJZH0gbWVldGluZz0ke21lZXRpbmdJZH1gKTtcbiAgfTtcblxuICBpZiAoIXZvaWNlVXNlci50YWxraW5nKSB7XG4gICAgY29uc3QgdGltZW91dEhhbmRsZSA9IE1ldGVvci5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBWb2ljZVVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQsIGludElkIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZW5kVGltZTogMSxcbiAgICAgICAgICB0YWxraW5nOiAxLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIGNvbnN0IHsgZW5kVGltZSwgdGFsa2luZyB9ID0gdXNlcjtcbiAgICAgICAgY29uc3Qgc3Bva2VEZWxheSA9ICgoRGF0ZS5ub3coKSAtIGVuZFRpbWUpIDwgVEFMS0lOR19USU1FT1VUKTtcbiAgICAgICAgaWYgKHRhbGtpbmcgfHwgc3Bva2VEZWxheSkgcmV0dXJuO1xuICAgICAgICBtb2RpZmllci4kc2V0LnNwb2tlID0gZmFsc2U7XG4gICAgICAgIG1vZGlmaWVyLiRzZXQuc3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgVm9pY2VVc2Vycy51cGRhdGUoc2VsZWN0b3IsIG1vZGlmaWVyLCBjYik7XG4gICAgICB9XG4gICAgfSwgVEFMS0lOR19USU1FT1VUKTtcblxuICAgIHNwb2tlVGltZW91dEhhbmRsZXNbYCR7bWVldGluZ0lkfS0ke2ludElkfWBdID0gdGltZW91dEhhbmRsZTtcbiAgICBtb2RpZmllci4kc2V0LmVuZFRpbWUgPSBEYXRlLm5vdygpO1xuICB9XG5cbiAgcmV0dXJuIFZvaWNlVXNlcnMudXBkYXRlKHNlbGVjdG9yLCBtb2RpZmllciwgY2IpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBoYW5kbGVKb2luVm9pY2VVc2VyIGZyb20gJy4vaGFuZGxlcnMvam9pblZvaWNlVXNlcic7XG5pbXBvcnQgaGFuZGxlTGVmdFZvaWNlVXNlciBmcm9tICcuL2hhbmRsZXJzL2xlZnRWb2ljZVVzZXInO1xuaW1wb3J0IGhhbmRsZVRhbGtpbmdWb2ljZVVzZXIgZnJvbSAnLi9oYW5kbGVycy90YWxraW5nVm9pY2VVc2VyJztcbmltcG9ydCBoYW5kbGVNdXRlZFZvaWNlVXNlciBmcm9tICcuL2hhbmRsZXJzL211dGVkVm9pY2VVc2VyJztcbmltcG9ydCBoYW5kbGVHZXRWb2ljZVVzZXJzIGZyb20gJy4vaGFuZGxlcnMvZ2V0Vm9pY2VVc2Vycyc7XG5pbXBvcnQgaGFuZGxlVm9pY2VVc2VycyBmcm9tICcuL2hhbmRsZXJzL3ZvaWNlVXNlcnMnO1xuaW1wb3J0IGhhbmRsZU1lZXRpbmdNdXRlZCBmcm9tICcuL2hhbmRsZXJzL21lZXRpbmdNdXRlZCc7XG5cblJlZGlzUHViU3ViLm9uKCdVc2VyTGVmdFZvaWNlQ29uZlRvQ2xpZW50RXZ0TXNnJywgaGFuZGxlTGVmdFZvaWNlVXNlcik7XG5SZWRpc1B1YlN1Yi5vbignVXNlckpvaW5lZFZvaWNlQ29uZlRvQ2xpZW50RXZ0TXNnJywgaGFuZGxlSm9pblZvaWNlVXNlcik7XG5SZWRpc1B1YlN1Yi5vbignVXNlclRhbGtpbmdWb2ljZUV2dE1zZycsIGhhbmRsZVRhbGtpbmdWb2ljZVVzZXIpO1xuUmVkaXNQdWJTdWIub24oJ1VzZXJNdXRlZFZvaWNlRXZ0TXNnJywgaGFuZGxlTXV0ZWRWb2ljZVVzZXIpO1xuUmVkaXNQdWJTdWIub24oJ0dldFZvaWNlVXNlcnNNZWV0aW5nUmVzcE1zZycsIHByb2Nlc3NGb3JIVE1MNVNlcnZlck9ubHkoaGFuZGxlR2V0Vm9pY2VVc2VycykpO1xuUmVkaXNQdWJTdWIub24oJ1N5bmNHZXRWb2ljZVVzZXJzUmVzcE1zZycsIGhhbmRsZVZvaWNlVXNlcnMpO1xuUmVkaXNQdWJTdWIub24oJ01lZXRpbmdNdXRlZEV2dE1zZycsIGhhbmRsZU1lZXRpbmdNdXRlZCk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBtdXRlVG9nZ2xlIGZyb20gJy4vbWV0aG9kcy9tdXRlVG9nZ2xlJztcbmltcG9ydCBtdXRlQWxsVG9nZ2xlIGZyb20gJy4vbWV0aG9kcy9tdXRlQWxsVG9nZ2xlJztcbmltcG9ydCBtdXRlQWxsRXhjZXB0UHJlc2VudGVyVG9nZ2xlIGZyb20gJy4vbWV0aG9kcy9tdXRlQWxsRXhjZXB0UHJlc2VudGVyVG9nZ2xlJztcbmltcG9ydCBlamVjdFVzZXJGcm9tVm9pY2UgZnJvbSAnLi9tZXRob2RzL2VqZWN0VXNlckZyb21Wb2ljZSc7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgdG9nZ2xlVm9pY2U6IG11dGVUb2dnbGUsXG4gIG11dGVBbGxVc2VyczogbXV0ZUFsbFRvZ2dsZSxcbiAgbXV0ZUFsbEV4Y2VwdFByZXNlbnRlcjogbXV0ZUFsbEV4Y2VwdFByZXNlbnRlclRvZ2dsZSxcbiAgZWplY3RVc2VyRnJvbVZvaWNlLFxufSk7XG4iLCJpbXBvcnQgVm9pY2VVc2VycyBmcm9tICcvaW1wb3J0cy9hcGkvdm9pY2UtdXNlcnMnO1xuaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgeyBleHRyYWN0Q3JlZGVudGlhbHMgfSBmcm9tICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCBlamVjdFVzZXJGcm9tVm9pY2UgZnJvbSAnLi9tZXRob2RzL2VqZWN0VXNlckZyb21Wb2ljZSc7XG5cbmZ1bmN0aW9uIHZvaWNlVXNlcigpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiBWb2ljZVVzZXJzLmZpbmQoeyBtZWV0aW5nSWQ6ICcnIH0pO1xuICB9XG4gIGNvbnN0IHsgbWVldGluZ0lkLCByZXF1ZXN0ZXJVc2VySWQgfSA9IGV4dHJhY3RDcmVkZW50aWFscyh0aGlzLnVzZXJJZCk7XG5cbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICBjaGVjayhyZXF1ZXN0ZXJVc2VySWQsIFN0cmluZyk7XG4gIGNvbnN0IG9uQ2xvc2VDb25uZWN0aW9uID0gTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEkgdXNlZCB1c2VyIGJlY2F1c2Ugdm9pY2VVc2VyIGlzIHRoZSBmdW5jdGlvbidzIG5hbWVcbiAgICAgIGNvbnN0IFVzZXIgPSBWb2ljZVVzZXJzLmZpbmRPbmUoeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9KTtcbiAgICAgIGlmIChVc2VyKSB7XG4gICAgICAgIGVqZWN0VXNlckZyb21Wb2ljZShyZXF1ZXN0ZXJVc2VySWQpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIExvZ2dlci5lcnJvcihgRXhjZXB0aW9uIHdoaWxlIGV4ZWN1dGluZyBlamVjdFVzZXJGcm9tVm9pY2UgZm9yICR7cmVxdWVzdGVyVXNlcklkfTogJHtlfWApO1xuICAgIH1cbiAgfSk7XG5cbiAgTG9nZ2VyLmRlYnVnKGBQdWJsaXNoaW5nIFZvaWNlIFVzZXIgZm9yICR7bWVldGluZ0lkfSAke3JlcXVlc3RlclVzZXJJZH1gKTtcblxuICB0aGlzLl9zZXNzaW9uLnNvY2tldC5vbignY2xvc2UnLCBfLmRlYm91bmNlKG9uQ2xvc2VDb25uZWN0aW9uLCAxMDApKTtcbiAgcmV0dXJuIFZvaWNlVXNlcnMuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuZnVuY3Rpb24gcHVibGlzaCguLi5hcmdzKSB7XG4gIGNvbnN0IGJvdW5kVm9pY2VVc2VyID0gdm9pY2VVc2VyLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZFZvaWNlVXNlciguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3ZvaWNlVXNlcnMnLCBwdWJsaXNoKTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuXG5jb25zdCBWb2ljZVVzZXJzID0gbmV3IE1vbmdvLkNvbGxlY3Rpb24oJ3ZvaWNlVXNlcnMnKTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAvLyB0eXBlcyBvZiBxdWVyaWVzIGZvciB0aGUgdm9pY2UgdXNlcnM6XG4gIC8vIDEuIGludElkXG4gIC8vIDIuIG1lZXRpbmdJZCwgaW50SWRcblxuICBWb2ljZVVzZXJzLl9lbnN1cmVJbmRleCh7IGludElkOiAxIH0pO1xuICBWb2ljZVVzZXJzLl9lbnN1cmVJbmRleCh7IG1lZXRpbmdJZDogMSwgaW50SWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZvaWNlVXNlcnM7XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgbW9kaWZ5V2hpdGVib2FyZEFjY2VzcyBmcm9tICcuLi9tb2RpZmllcnMvbW9kaWZ5V2hpdGVib2FyZEFjY2Vzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZU1vZGlmeVdoaXRlYm9hcmRBY2Nlc3MoeyBib2R5IH0sIG1lZXRpbmdJZCkge1xuICBjb25zdCB7IG11bHRpVXNlciwgd2hpdGVib2FyZElkIH0gPSBib2R5O1xuXG4gIGNoZWNrKG11bHRpVXNlciwgQm9vbGVhbik7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcbiAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuXG4gIHJldHVybiBtb2RpZnlXaGl0ZWJvYXJkQWNjZXNzKG1lZXRpbmdJZCwgd2hpdGVib2FyZElkLCBtdWx0aVVzZXIpO1xufVxuIiwiaW1wb3J0IFJlZGlzUHViU3ViIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL3JlZGlzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IHsgZXh0cmFjdENyZWRlbnRpYWxzIH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoYW5nZVdoaXRlYm9hcmRBY2Nlc3MobXVsdGlVc2VyLCB3aGl0ZWJvYXJkSWQpIHtcbiAgY29uc3QgUkVESVNfQ09ORklHID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gIGNvbnN0IENIQU5ORUwgPSBSRURJU19DT05GSUcuY2hhbm5lbHMudG9Ba2thQXBwcztcbiAgY29uc3QgRVZFTlRfTkFNRSA9ICdNb2RpZnlXaGl0ZWJvYXJkQWNjZXNzUHViTXNnJztcblxuICBjb25zdCB7IG1lZXRpbmdJZCwgcmVxdWVzdGVyVXNlcklkIH0gPSBleHRyYWN0Q3JlZGVudGlhbHModGhpcy51c2VySWQpO1xuXG4gIGNoZWNrKG11bHRpVXNlciwgQm9vbGVhbik7XG4gIGNoZWNrKHdoaXRlYm9hcmRJZCwgU3RyaW5nKTtcblxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIG11bHRpVXNlcixcbiAgICB3aGl0ZWJvYXJkSWQsXG4gIH07XG5cbiAgcmV0dXJuIFJlZGlzUHViU3ViLnB1Ymxpc2hVc2VyTWVzc2FnZShDSEFOTkVMLCBFVkVOVF9OQU1FLCBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCwgcGF5bG9hZCk7XG59XG4iLCJpbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy9pbXBvcnRzL3N0YXJ0dXAvc2VydmVyL2xvZ2dlcic7XG5pbXBvcnQgV2hpdGVib2FyZE11bHRpVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyLyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW9kaWZ5V2hpdGVib2FyZEFjY2VzcyhtZWV0aW5nSWQsIHdoaXRlYm9hcmRJZCwgbXVsdGlVc2VyKSB7XG4gIGNoZWNrKG1lZXRpbmdJZCwgU3RyaW5nKTtcbiAgY2hlY2sod2hpdGVib2FyZElkLCBTdHJpbmcpO1xuICBjaGVjayhtdWx0aVVzZXIsIEJvb2xlYW4pO1xuXG4gIGNvbnN0IHNlbGVjdG9yID0ge1xuICAgIG1lZXRpbmdJZCxcbiAgICB3aGl0ZWJvYXJkSWQsXG4gIH07XG5cbiAgY29uc3QgbW9kaWZpZXIgPSB7XG4gICAgbWVldGluZ0lkLFxuICAgIHdoaXRlYm9hcmRJZCxcbiAgICBtdWx0aVVzZXIsXG4gIH07XG5cblxuICBjb25zdCBjYiA9IChlcnIsIG51bUNoYW5nZWQpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gTG9nZ2VyLmVycm9yKGBFcnJvciB3aGlsZSBhZGRpbmcgYW4gZW50cnkgdG8gTXVsdGktVXNlciBjb2xsZWN0aW9uOiAke2Vycn1gKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGluc2VydGVkSWQgfSA9IG51bUNoYW5nZWQ7XG4gICAgaWYgKGluc2VydGVkSWQpIHtcbiAgICAgIHJldHVybiBMb2dnZXIuaW5mbyhgQWRkZWQgbXVsdGlVc2VyIGZsYWc9JHttdWx0aVVzZXJ9IG1lZXRpbmdJZD0ke21lZXRpbmdJZH0gd2hpdGVib2FyZElkPSR7d2hpdGVib2FyZElkfWApO1xuICAgIH1cblxuICAgIHJldHVybiBMb2dnZXIuaW5mbyhgVXBzZXJ0ZWQgbXVsdGlVc2VyIGZsYWc9JHttdWx0aVVzZXJ9IG1lZXRpbmdJZD0ke21lZXRpbmdJZH0gd2hpdGVib2FyZElkPSR7d2hpdGVib2FyZElkfWApO1xuICB9O1xuXG4gIHJldHVybiBXaGl0ZWJvYXJkTXVsdGlVc2VyLnVwc2VydChzZWxlY3RvciwgbW9kaWZpZXIsIGNiKTtcbn1cbiIsImltcG9ydCBSZWRpc1B1YlN1YiBmcm9tICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlci9yZWRpcyc7XG5pbXBvcnQgeyBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5IH0gZnJvbSAnL2ltcG9ydHMvYXBpL2NvbW1vbi9zZXJ2ZXIvaGVscGVycyc7XG5pbXBvcnQgaGFuZGxlR2V0V2hpdGVib2FyZEFjY2VzcyBmcm9tICcuL2hhbmRsZXJzL21vZGlmeVdoaXRlYm9hcmRBY2Nlc3MnO1xuXG5SZWRpc1B1YlN1Yi5vbignR2V0V2hpdGVib2FyZEFjY2Vzc1Jlc3BNc2cnLCBwcm9jZXNzRm9ySFRNTDVTZXJ2ZXJPbmx5KGhhbmRsZUdldFdoaXRlYm9hcmRBY2Nlc3MpKTtcblJlZGlzUHViU3ViLm9uKCdTeW5jR2V0V2hpdGVib2FyZEFjY2Vzc1Jlc3BNc2cnLCBoYW5kbGVHZXRXaGl0ZWJvYXJkQWNjZXNzKTtcblJlZGlzUHViU3ViLm9uKCdNb2RpZnlXaGl0ZWJvYXJkQWNjZXNzRXZ0TXNnJywgaGFuZGxlR2V0V2hpdGVib2FyZEFjY2Vzcyk7XG4iLCJpbXBvcnQgJy4vZXZlbnRIYW5kbGVycyc7XG5pbXBvcnQgJy4vbWV0aG9kcyc7XG5pbXBvcnQgJy4vcHVibGlzaGVycyc7XG4iLCJpbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBjaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzIGZyb20gJy4vbWV0aG9kcy9jaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzJztcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBjaGFuZ2VXaGl0ZWJvYXJkQWNjZXNzLFxufSk7XG4iLCJpbXBvcnQgV2hpdGVib2FyZE11bHRpVXNlciBmcm9tICcvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyLyc7XG5pbXBvcnQgeyBNZXRlb3IgfSBmcm9tICdtZXRlb3IvbWV0ZW9yJztcbmltcG9ydCBMb2dnZXIgZnJvbSAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcbmltcG9ydCB7IGV4dHJhY3RDcmVkZW50aWFscyB9IGZyb20gJy9pbXBvcnRzL2FwaS9jb21tb24vc2VydmVyL2hlbHBlcnMnO1xuXG5mdW5jdGlvbiB3aGl0ZWJvYXJkTXVsdGlVc2VyKCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIFdoaXRlYm9hcmRNdWx0aVVzZXIuZmluZCh7IG1lZXRpbmdJZDogJycgfSk7XG4gIH1cbiAgY29uc3QgeyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9ID0gZXh0cmFjdENyZWRlbnRpYWxzKHRoaXMudXNlcklkKTtcblxuICBMb2dnZXIuZGVidWcoYFB1Ymxpc2hpbmcgd2hpdGVib2FyZC1tdWx0aS11c2VyIGZvciAke21lZXRpbmdJZH0gJHtyZXF1ZXN0ZXJVc2VySWR9YCk7XG5cbiAgcmV0dXJuIFdoaXRlYm9hcmRNdWx0aVVzZXIuZmluZCh7IG1lZXRpbmdJZCB9KTtcbn1cblxuXG5mdW5jdGlvbiBwdWJsaXNoKC4uLmFyZ3MpIHtcbiAgY29uc3QgYm91bmRNdWx0aVVzZXIgPSB3aGl0ZWJvYXJkTXVsdGlVc2VyLmJpbmQodGhpcyk7XG4gIHJldHVybiBib3VuZE11bHRpVXNlciguLi5hcmdzKTtcbn1cblxuTWV0ZW9yLnB1Ymxpc2goJ3doaXRlYm9hcmQtbXVsdGktdXNlcicsIHB1Ymxpc2gpO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5cbmNvbnN0IFdoaXRlYm9hcmRNdWx0aVVzZXIgPSBuZXcgTW9uZ28uQ29sbGVjdGlvbignd2hpdGVib2FyZC1tdWx0aS11c2VyJyk7XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgLy8gdHlwZXMgb2YgcXVlcmllcyBmb3IgdGhlIHdoaXRlYm9hcmQtbXVsdGktdXNlcjpcbiAgLy8gMS4gbWVldGluZ0lkXG5cbiAgV2hpdGVib2FyZE11bHRpVXNlci5fZW5zdXJlSW5kZXgoeyBtZWV0aW5nSWQ6IDEgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdoaXRlYm9hcmRNdWx0aVVzZXI7XG4iLCJpbXBvcnQgVXNlcnMgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzJztcblxuY29uc3QgTVNHX0RJUkVDVF9UWVBFID0gJ0RJUkVDVCc7XG5jb25zdCBOT0RFX1VTRVIgPSAnbm9kZUpTYXBwJztcblxuZXhwb3J0IGNvbnN0IHNwb2tlVGltZW91dEhhbmRsZXMgPSB7fTtcbmV4cG9ydCBjb25zdCBjbGVhclNwb2tlVGltZW91dCA9IChtZWV0aW5nSWQsIHVzZXJJZCkgPT4ge1xuICBpZiAoc3Bva2VUaW1lb3V0SGFuZGxlc1tgJHttZWV0aW5nSWR9LSR7dXNlcklkfWBdKSB7XG4gICAgTWV0ZW9yLmNsZWFyVGltZW91dChzcG9rZVRpbWVvdXRIYW5kbGVzW2Ake21lZXRpbmdJZH0tJHt1c2VySWR9YF0pO1xuICAgIGRlbGV0ZSBzcG9rZVRpbWVvdXRIYW5kbGVzW2Ake21lZXRpbmdJZH0tJHt1c2VySWR9YF07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpbmRleE9mID0gW10uaW5kZXhPZiB8fCBmdW5jdGlvbiAoaXRlbSkge1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSArPSAxKSB7XG4gICAgaWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTE7XG59O1xuXG5leHBvcnQgY29uc3QgcHJvY2Vzc0ZvckhUTUw1U2VydmVyT25seSA9IGZuID0+IChtZXNzYWdlLCAuLi5hcmdzKSA9PiB7XG4gIGNvbnN0IHsgZW52ZWxvcGUgfSA9IG1lc3NhZ2U7XG4gIGNvbnN0IHsgcm91dGluZyB9ID0gZW52ZWxvcGU7XG4gIGNvbnN0IHsgbXNnVHlwZSwgbWVldGluZ0lkLCB1c2VySWQgfSA9IHJvdXRpbmc7XG5cbiAgY29uc3Qgc2VsZWN0b3IgPSB7XG4gICAgdXNlcklkLFxuICAgIG1lZXRpbmdJZCxcbiAgfTtcblxuICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZShzZWxlY3Rvcik7XG5cbiAgY29uc3Qgc2hvdWxkU2tpcCA9IHVzZXIgJiYgbXNnVHlwZSA9PT0gTVNHX0RJUkVDVF9UWVBFICYmIHVzZXJJZCAhPT0gTk9ERV9VU0VSICYmIHVzZXIuY2xpZW50VHlwZSAhPT0gJ0hUTUw1JztcbiAgaWYgKHNob3VsZFNraXApIHJldHVybiAoKSA9PiB7IH07XG4gIHJldHVybiBmbihtZXNzYWdlLCAuLi5hcmdzKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgMzIgYml0IEZOVi0xYSBoYXNoXG4gKiBGb3VuZCBoZXJlOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS92YWlvcmFiYml0LzU2NTc1NjFcbiAqIFJlZi46IGh0dHA6Ly9pc3RoZS5jb20vY2hvbmdvL3RlY2gvY29tcC9mbnYvXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciB0aGUgaW5wdXQgdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FzU3RyaW5nPWZhbHNlXSBzZXQgdG8gdHJ1ZSB0byByZXR1cm4gdGhlIGhhc2ggdmFsdWUgYXNcbiAqICAgICA4LWRpZ2l0IGhleCBzdHJpbmcgaW5zdGVhZCBvZiBhbiBpbnRlZ2VyXG4gKiBAcGFyYW0ge2ludGVnZXJ9IFtzZWVkXSBvcHRpb25hbGx5IHBhc3MgdGhlIGhhc2ggb2YgdGhlIHByZXZpb3VzIGNodW5rXG4gKiBAcmV0dXJucyB7aW50ZWdlciB8IHN0cmluZ31cbiAqL1xuLyogZXNsaW50LWRpc2FibGUgKi9cbmV4cG9ydCBjb25zdCBoYXNoRk5WMzJhID0gKHN0ciwgYXNTdHJpbmcsIHNlZWQpID0+IHtcbiAgbGV0IGh2YWwgPSAoc2VlZCA9PT0gdW5kZWZpbmVkKSA/IDB4ODExYzlkYzUgOiBzZWVkO1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gc3RyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGh2YWwgXj0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgaHZhbCArPSAoaHZhbCA8PCAxKSArIChodmFsIDw8IDQpICsgKGh2YWwgPDwgNykgKyAoaHZhbCA8PCA4KSArIChodmFsIDw8IDI0KTtcbiAgfVxuICBpZiAoYXNTdHJpbmcpIHtcbiAgICByZXR1cm4gKGAwMDAwMDAwJHsoaHZhbCA+Pj4gMCkudG9TdHJpbmcoMTYpfWApLnN1YnN0cigtOCk7XG4gIH1cbiAgcmV0dXJuIGh2YWwgPj4+IDA7XG59O1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5leHBvcnQgY29uc3QgZXh0cmFjdENyZWRlbnRpYWxzID0gKGNyZWRlbnRpYWxzKSA9PiB7XG4gIGlmICghY3JlZGVudGlhbHMpIHJldHVybiB7fTtcbiAgY29uc3QgY3JlZGVudGlhbHNBcnJheSA9IGNyZWRlbnRpYWxzLnNwbGl0KCctLScpO1xuICBjb25zdCBtZWV0aW5nSWQgPSBjcmVkZW50aWFsc0FycmF5WzBdO1xuICBjb25zdCByZXF1ZXN0ZXJVc2VySWQgPSBjcmVkZW50aWFsc0FycmF5WzFdO1xuICByZXR1cm4geyBtZWV0aW5nSWQsIHJlcXVlc3RlclVzZXJJZCB9O1xufTtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgV2ViQXBwSW50ZXJuYWxzIH0gZnJvbSAnbWV0ZW9yL3dlYmFwcCc7XG5pbXBvcnQgTGFuZ21hcCBmcm9tICdsYW5nbWFwJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgaGVhcGR1bXAgZnJvbSAnaGVhcGR1bXAnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy9pbXBvcnRzL2FwaS91c2Vycyc7XG5pbXBvcnQgJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgbG9va3VwIGFzIGxvb2t1cFVzZXJBZ2VudCB9IGZyb20gJ3VzZXJhZ2VudCc7XG5pbXBvcnQgeyBjaGVjayB9IGZyb20gJ21ldGVvci9jaGVjayc7XG5pbXBvcnQgbWVtd2F0Y2ggZnJvbSAnbWVtd2F0Y2gtbmV4dCc7XG5pbXBvcnQgTG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCBSZWRpcyBmcm9tICcuL3JlZGlzJztcbmltcG9ydCBzZXRNaW5Ccm93c2VyVmVyc2lvbnMgZnJvbSAnLi9taW5Ccm93c2VyVmVyc2lvbic7XG5pbXBvcnQgdXNlckxlYXZpbmcgZnJvbSAnL2ltcG9ydHMvYXBpL3VzZXJzL3NlcnZlci9tZXRob2RzL3VzZXJMZWF2aW5nJztcblxuY29uc3QgQVZBSUxBQkxFX0xPQ0FMRVMgPSBmcy5yZWFkZGlyU3luYygnYXNzZXRzL2FwcC9sb2NhbGVzJyk7XG5cbk1ldGVvci5zdGFydHVwKCgpID0+IHtcbiAgY29uc3QgQVBQX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMuYXBwO1xuICBjb25zdCBJTlRFUlZBTF9JTl9TRVRUSU5HUyA9IChNZXRlb3Iuc2V0dGluZ3MucHVibGljLnBpbmdQb25nLmNsZWFyVXNlcnNJblNlY29uZHMpICogMTAwMDtcbiAgY29uc3QgSU5URVJWQUxfVElNRSA9IElOVEVSVkFMX0lOX1NFVFRJTkdTIDwgMTAwMDAgPyAxMDAwMCA6IElOVEVSVkFMX0lOX1NFVFRJTkdTO1xuICBjb25zdCBlbnYgPSBNZXRlb3IuaXNEZXZlbG9wbWVudCA/ICdkZXZlbG9wbWVudCcgOiAncHJvZHVjdGlvbic7XG4gIGNvbnN0IENETl9VUkwgPSBBUFBfQ09ORklHLmNkbjtcbiAgbGV0IGhlYXBEdW1wTWJUaHJlc2hvbGQgPSAxMDA7XG5cbiAgY29uc3QgbWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUubWVtb3J5TW9uaXRvcmluZztcbiAgaWYgKG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5zdGF0LmVuYWJsZWQpIHtcbiAgICBtZW13YXRjaC5vbignc3RhdHMnLCAoc3RhdHMpID0+IHtcbiAgICAgIGxldCBoZWFwRHVtcFRyaWdnZXJlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAobWVtb3J5TW9uaXRvcmluZ1NldHRpbmdzLmhlYXBkdW1wLmVuYWJsZWQpIHtcbiAgICAgICAgaGVhcER1bXBUcmlnZ2VyZWQgPSAoc3RhdHMuY3VycmVudF9iYXNlIC8gMTA0ODU3NikgPiBoZWFwRHVtcE1iVGhyZXNob2xkO1xuICAgICAgfVxuICAgICAgTG9nZ2VyLmluZm8oJ21lbXdhdGNoIHN0YXRzJywgeyAuLi5zdGF0cywgaGVhcER1bXBFbmFibGVkOiBtZW1vcnlNb25pdG9yaW5nU2V0dGluZ3MuaGVhcGR1bXAuZW5hYmxlZCwgaGVhcER1bXBUcmlnZ2VyZWQgfSk7XG5cbiAgICAgIGlmIChoZWFwRHVtcFRyaWdnZXJlZCkge1xuICAgICAgICBoZWFwZHVtcC53cml0ZVNuYXBzaG90KGAuL2hlYXBkdW1wLXN0YXRzLSR7RGF0ZS5ub3coKX0uaGVhcHNuYXBzaG90YCk7XG4gICAgICAgIGhlYXBEdW1wTWJUaHJlc2hvbGQgKz0gMTAwO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKG1lbW9yeU1vbml0b3JpbmdTZXR0aW5ncy5sZWFrLmVuYWJsZWQpIHtcbiAgICBtZW13YXRjaC5vbignbGVhaycsIChpbmZvKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbygnbWVtd2F0Y2ggbGVhaycsIGluZm8pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKENETl9VUkwudHJpbSgpKSB7XG4gICAgLy8gQWRkIENETlxuICAgIEJyb3dzZXJQb2xpY3kuY29udGVudC5kaXNhbGxvd0V2YWwoKTtcbiAgICBCcm93c2VyUG9saWN5LmNvbnRlbnQuYWxsb3dJbmxpbmVTY3JpcHRzKCk7XG4gICAgQnJvd3NlclBvbGljeS5jb250ZW50LmFsbG93SW5saW5lU3R5bGVzKCk7XG4gICAgQnJvd3NlclBvbGljeS5jb250ZW50LmFsbG93SW1hZ2VEYXRhVXJsKENETl9VUkwpO1xuICAgIEJyb3dzZXJQb2xpY3kuY29udGVudC5hbGxvd0ZvbnREYXRhVXJsKENETl9VUkwpO1xuICAgIEJyb3dzZXJQb2xpY3kuY29udGVudC5hbGxvd09yaWdpbkZvckFsbChDRE5fVVJMKTtcbiAgICBXZWJBcHBJbnRlcm5hbHMuc2V0QnVuZGxlZEpzQ3NzUHJlZml4KENETl9VUkwgKyBBUFBfQ09ORklHLmJhc2VuYW1lKTtcblxuICAgIGNvbnN0IGZvbnRSZWdFeHAgPSAvXFwuKGVvdHx0dGZ8b3RmfHdvZmZ8d29mZjIpJC87XG5cbiAgICBXZWJBcHAucmF3Q29ubmVjdEhhbmRsZXJzLnVzZSgnLycsIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgaWYgKGZvbnRSZWdFeHAudGVzdChyZXEuX3BhcnNlZFVybC5wYXRobmFtZSkpIHtcbiAgICAgICAgcmVzLnNldEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTtcbiAgICAgICAgcmVzLnNldEhlYWRlcignVmFyeScsICdPcmlnaW4nKTtcbiAgICAgICAgcmVzLnNldEhlYWRlcignUHJhZ21hJywgJ3B1YmxpYycpO1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ1wicHVibGljXCInKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfSk7XG4gIH1cblxuICBzZXRNaW5Ccm93c2VyVmVyc2lvbnMoKTtcblxuICBNZXRlb3Iuc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICBMb2dnZXIuaW5mbygnQ2hlY2tpbmcgZm9yIGluYWN0aXZlIHVzZXJzJyk7XG4gICAgY29uc3QgdXNlcnMgPSBVc2Vycy5maW5kKHtcbiAgICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdvbmxpbmUnLFxuICAgICAgY2xpZW50VHlwZTogJ0hUTUw1JyxcbiAgICAgIGxhc3RQaW5nOiB7XG4gICAgICAgICRsdDogKGN1cnJlbnRUaW1lIC0gSU5URVJWQUxfVElNRSksIC8vIGdldCB1c2VyIHdobyBoYXMgbm90IHBpbmdlZCBpbiB0aGUgbGFzdCAxMCBzZWNvbmRzXG4gICAgICB9LFxuICAgICAgbG9naW5UaW1lOiB7XG4gICAgICAgICRsdDogKGN1cnJlbnRUaW1lIC0gSU5URVJWQUxfVElNRSksXG4gICAgICB9LFxuICAgIH0pLmZldGNoKCk7XG4gICAgaWYgKCF1c2Vycy5sZW5ndGgpIHJldHVybiBMb2dnZXIuaW5mbygnTm8gaW5hY3RpdmUgdXNlcnMnKTtcbiAgICBMb2dnZXIuaW5mbygnUmVtb3ZpbmcgaW5hY3RpdmUgdXNlcnMnKTtcbiAgICB1c2Vycy5mb3JFYWNoKCh1c2VyKSA9PiB7XG4gICAgICBMb2dnZXIuaW5mbyhgRGV0ZWN0ZWQgaW5hY3RpdmUgdXNlciwgdXNlcklkOiR7dXNlci51c2VySWR9LCBtZWV0aW5nSWQ6JHt1c2VyLm1lZXRpbmdJZH1gKTtcbiAgICAgIHJldHVybiB1c2VyTGVhdmluZyh1c2VyLm1lZXRpbmdJZCwgdXNlci51c2VySWQsIHVzZXIuY29ubmVjdGlvbklkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gTG9nZ2VyLmluZm8oJ0FsbCBpbmFjdGl2ZSB1c2VycyBoYXZlIGJlZW4gcmVtb3ZlZCcpO1xuICB9LCBJTlRFUlZBTF9USU1FKTtcblxuICBMb2dnZXIud2FybihgU0VSVkVSIFNUQVJURUQuXFxuRU5WPSR7ZW52fSxcXG5ub2RlanMgdmVyc2lvbj0ke3Byb2Nlc3MudmVyc2lvbn1cXG5DRE49JHtDRE5fVVJMfVxcbmAsIEFQUF9DT05GSUcpO1xufSk7XG5cbldlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKCcvY2hlY2snLCAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcGF5bG9hZCA9IHsgaHRtbDVjbGllbnRTdGF0dXM6ICdydW5uaW5nJyB9O1xuXG4gIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gIHJlcy53cml0ZUhlYWQoMjAwKTtcbiAgcmVzLmVuZChKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7XG59KTtcblxuV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoJy9sb2NhbGUnLCAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgQVBQX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMuYXBwO1xuICBjb25zdCBmYWxsYmFjayA9IEFQUF9DT05GSUcuZGVmYXVsdFNldHRpbmdzLmFwcGxpY2F0aW9uLmZhbGxiYWNrTG9jYWxlO1xuICBjb25zdCBvdmVycmlkZSA9IEFQUF9DT05GSUcuZGVmYXVsdFNldHRpbmdzLmFwcGxpY2F0aW9uLm92ZXJyaWRlTG9jYWxlO1xuICBjb25zdCBicm93c2VyTG9jYWxlID0gb3ZlcnJpZGUgJiYgcmVxLnF1ZXJ5LmluaXQgPT09ICd0cnVlJ1xuICAgID8gb3ZlcnJpZGUuc3BsaXQoL1stX10vZykgOiByZXEucXVlcnkubG9jYWxlLnNwbGl0KC9bLV9dL2cpO1xuXG4gIGNvbnN0IGxvY2FsZUxpc3QgPSBbZmFsbGJhY2tdO1xuXG4gIGNvbnN0IHVzYWJsZUxvY2FsZXMgPSBBVkFJTEFCTEVfTE9DQUxFU1xuICAgIC5tYXAoZmlsZSA9PiBmaWxlLnJlcGxhY2UoJy5qc29uJywgJycpKVxuICAgIC5yZWR1Y2UoKGxvY2FsZXMsIGxvY2FsZSkgPT4gKGxvY2FsZS5tYXRjaChicm93c2VyTG9jYWxlWzBdKVxuICAgICAgPyBbLi4ubG9jYWxlcywgbG9jYWxlXVxuICAgICAgOiBsb2NhbGVzKSwgW10pO1xuXG4gIGNvbnN0IHJlZ2lvbkRlZmF1bHQgPSB1c2FibGVMb2NhbGVzLmZpbmQobG9jYWxlID0+IGJyb3dzZXJMb2NhbGVbMF0gPT09IGxvY2FsZSk7XG5cbiAgaWYgKHJlZ2lvbkRlZmF1bHQpIGxvY2FsZUxpc3QucHVzaChyZWdpb25EZWZhdWx0KTtcbiAgaWYgKCFyZWdpb25EZWZhdWx0ICYmIHVzYWJsZUxvY2FsZXMubGVuZ3RoKSBsb2NhbGVMaXN0LnB1c2godXNhYmxlTG9jYWxlc1swXSk7XG5cbiAgbGV0IG5vcm1hbGl6ZWRMb2NhbGU7XG4gIGxldCBtZXNzYWdlcyA9IHt9O1xuXG4gIGlmIChicm93c2VyTG9jYWxlLmxlbmd0aCA+IDEpIHtcbiAgICBub3JtYWxpemVkTG9jYWxlID0gYCR7YnJvd3NlckxvY2FsZVswXX1fJHticm93c2VyTG9jYWxlWzFdLnRvVXBwZXJDYXNlKCl9YDtcbiAgICBsb2NhbGVMaXN0LnB1c2gobm9ybWFsaXplZExvY2FsZSk7XG4gIH1cblxuICBsb2NhbGVMaXN0LmZvckVhY2goKGxvY2FsZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gQXNzZXRzLmdldFRleHQoYGxvY2FsZXMvJHtsb2NhbGV9Lmpzb25gKTtcbiAgICAgIG1lc3NhZ2VzID0gT2JqZWN0LmFzc2lnbihtZXNzYWdlcywgSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICBub3JtYWxpemVkTG9jYWxlID0gbG9jYWxlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIExvZ2dlci53YXJuKGAnQ291bGQgbm90IHByb2Nlc3MgbG9jYWxlICR7bG9jYWxlfToke2V9YCk7XG4gICAgICAvLyBHZXR0aW5nIGhlcmUgbWVhbnMgdGhlIGxvY2FsZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGxvY2FsZSBmaWxlcy5cbiAgICB9XG4gIH0pO1xuXG4gIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoeyBub3JtYWxpemVkTG9jYWxlLCBtZXNzYWdlcyB9KSk7XG59KTtcblxuV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoJy9sb2NhbGVzJywgKHJlcSwgcmVzKSA9PiB7XG4gIGxldCBsb2NhbGVzID0gW107XG4gIHRyeSB7XG4gICAgbG9jYWxlcyA9IEFWQUlMQUJMRV9MT0NBTEVTXG4gICAgICAubWFwKGZpbGUgPT4gZmlsZS5yZXBsYWNlKCcuanNvbicsICcnKSlcbiAgICAgIC5tYXAoZmlsZSA9PiBmaWxlLnJlcGxhY2UoJ18nLCAnLScpKVxuICAgICAgLm1hcChsb2NhbGUgPT4gKHtcbiAgICAgICAgbG9jYWxlLFxuICAgICAgICBuYW1lOiBMYW5nbWFwW2xvY2FsZV0ubmF0aXZlTmFtZSxcbiAgICAgIH0pKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIExvZ2dlci53YXJuKGAnQ291bGQgbm90IHByb2Nlc3MgbG9jYWxlcyBlcnJvcjogJHtlfWApO1xuICB9XG5cbiAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgcmVzLndyaXRlSGVhZCgyMDApO1xuICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KGxvY2FsZXMpKTtcbn0pO1xuXG5XZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSgnL2ZlZWRiYWNrJywgKHJlcSwgcmVzKSA9PiB7XG4gIHJlcS5vbignZGF0YScsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQoKGRhdGEpID0+IHtcbiAgICBjb25zdCBib2R5ID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICBjb25zdCB7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBhdXRoVG9rZW4sXG4gICAgICB1c2VyTmFtZTogcmVxVXNlck5hbWUsXG4gICAgICBjb21tZW50LFxuICAgICAgcmF0aW5nLFxuICAgIH0gPSBib2R5O1xuXG4gICAgY2hlY2sobWVldGluZ0lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHVzZXJJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhhdXRoVG9rZW4sIFN0cmluZyk7XG4gICAgY2hlY2socmVxVXNlck5hbWUsIFN0cmluZyk7XG4gICAgY2hlY2soY29tbWVudCwgU3RyaW5nKTtcbiAgICBjaGVjayhyYXRpbmcsIE51bWJlcik7XG5cbiAgICBjb25zdCB1c2VyID0gVXNlcnMuZmluZE9uZSh7XG4gICAgICBtZWV0aW5nSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBjb25uZWN0aW9uU3RhdHVzOiAnb2ZmbGluZScsXG4gICAgICBhdXRoVG9rZW4sXG4gICAgfSk7XG5cbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIExvZ2dlci53YXJuKCdDb3VsZG5cXCd0IGZpbmQgdXNlciBmb3IgZmVlZGJhY2snKTtcbiAgICB9XG5cbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIHJlcy53cml0ZUhlYWQoMjAwKTtcbiAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHsgc3RhdHVzOiAnb2snIH0pKTtcblxuICAgIGJvZHkudXNlck5hbWUgPSB1c2VyID8gdXNlci5uYW1lIDogYFt1bmNvbmZpcm1lZF0gJHtyZXFVc2VyTmFtZX1gO1xuXG4gICAgY29uc3QgZmVlZGJhY2sgPSB7XG4gICAgICAuLi5ib2R5LFxuICAgIH07XG4gICAgTG9nZ2VyLmluZm8oJ0ZFRURCQUNLIExPRzonLCBmZWVkYmFjayk7XG4gIH0pKTtcbn0pO1xuXG5XZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSgnL3VzZXJhZ2VudCcsIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB1c2VyQWdlbnQgPSByZXEuaGVhZGVyc1sndXNlci1hZ2VudCddO1xuICBsZXQgcmVzcG9uc2UgPSAnTm8gdXNlciBhZ2VudCBmb3VuZCBpbiBoZWFkZXInO1xuICBpZiAodXNlckFnZW50KSB7XG4gICAgcmVzcG9uc2UgPSBsb29rdXBVc2VyQWdlbnQodXNlckFnZW50KS50b1N0cmluZygpO1xuICB9XG5cbiAgTG9nZ2VyLmluZm8oYFRoZSByZXF1ZXN0aW5nIHVzZXIgYWdlbnQgaXMgJHtyZXNwb25zZX1gKTtcblxuICAvLyByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICByZXMud3JpdGVIZWFkKDIwMCk7XG4gIHJlcy5lbmQocmVzcG9uc2UpO1xufSk7XG5cbmV4cG9ydCBjb25zdCBldmVudEVtaXR0ZXIgPSBSZWRpcy5lbWl0dGVyO1xuXG5leHBvcnQgY29uc3QgcmVkaXNQdWJTdWIgPSBSZWRpcztcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgY3JlYXRlTG9nZ2VyLCBmb3JtYXQsIHRyYW5zcG9ydHMgfSBmcm9tICd3aW5zdG9uJztcblxuY29uc3QgTE9HX0NPTkZJRyA9IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnNlcnZlckxvZyB8fCB7fTtcbmNvbnN0IHsgbGV2ZWwgfSA9IExPR19DT05GSUc7XG5cbmNvbnN0IExvZ2dlciA9IGNyZWF0ZUxvZ2dlcih7XG4gIGxldmVsLFxuICBmb3JtYXQ6IGZvcm1hdC5jb21iaW5lKFxuICAgIGZvcm1hdC5jb2xvcml6ZSh7IGxldmVsOiB0cnVlIH0pLFxuICAgIGZvcm1hdC5zcGxhdCgpLFxuICAgIGZvcm1hdC5zaW1wbGUoKSxcbiAgKSxcbiAgdHJhbnNwb3J0czogW1xuICAgIC8vIGNvbnNvbGUgbG9nZ2luZ1xuICAgIG5ldyB0cmFuc3BvcnRzLkNvbnNvbGUoe1xuICAgICAgcHJldHR5UHJpbnQ6IGZhbHNlLFxuICAgICAgaHVtYW5SZWFkYWJsZVVuaGFuZGxlZEV4Y2VwdGlvbjogdHJ1ZSxcbiAgICAgIGNvbG9yaXplOiB0cnVlLFxuICAgICAgaGFuZGxlRXhjZXB0aW9uczogdHJ1ZSxcbiAgICAgIGxldmVsLFxuICAgIH0pLFxuICBdLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dlcjtcblxuZXhwb3J0IGNvbnN0IGxvZ2dlciA9IExvZ2dlcjtcbiIsImltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgc2V0TWluaW11bUJyb3dzZXJWZXJzaW9ucyB9IGZyb20gJ21ldGVvci9tb2Rlcm4tYnJvd3NlcnMnO1xuXG5jb25zdCBzZXRNaW5Ccm93c2VyVmVyc2lvbnMgPSAoKSA9PiB7XG4gIGNvbnN0IHsgbWluQnJvd3NlclZlcnNpb25zIH0gPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZTtcblxuICBjb25zdCB2ZXJzaW9ucyA9IHt9O1xuXG4gIG1pbkJyb3dzZXJWZXJzaW9ucy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgbGV0IHsgdmVyc2lvbiB9ID0gZWxlbTtcbiAgICBpZiAodmVyc2lvbiA9PT0gJ0luZmluaXR5JykgdmVyc2lvbiA9IEluZmluaXR5O1xuXG4gICAgdmVyc2lvbnNbZWxlbS5icm93c2VyXSA9IHZlcnNpb247XG4gIH0pO1xuXG4gIHNldE1pbmltdW1Ccm93c2VyVmVyc2lvbnModmVyc2lvbnMsICdiYmItbWluJyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBzZXRNaW5Ccm93c2VyVmVyc2lvbnM7XG4iLCIvKiBnbG9iYWwgUG93ZXJRdWV1ZSAqL1xuaW1wb3J0IFJlZGlzIGZyb20gJ3JlZGlzJztcbmltcG9ydCB7IE1ldGVvciB9IGZyb20gJ21ldGVvci9tZXRlb3InO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyMiB9IGZyb20gJ2V2ZW50ZW1pdHRlcjInO1xuaW1wb3J0IHsgY2hlY2sgfSBmcm9tICdtZXRlb3IvY2hlY2snO1xuaW1wb3J0IExvZ2dlciBmcm9tICcuL2xvZ2dlcic7XG5cbi8vIEZha2UgbWVldGluZ0lkIHVzZWQgZm9yIG1lc3NhZ2VzIHRoYXQgaGF2ZSBubyBtZWV0aW5nSWRcbmNvbnN0IE5PX01FRVRJTkdfSUQgPSAnXyc7XG5cbmNvbnN0IG1ha2VFbnZlbG9wZSA9IChjaGFubmVsLCBldmVudE5hbWUsIGhlYWRlciwgYm9keSwgcm91dGluZykgPT4ge1xuICBjb25zdCBlbnZlbG9wZSA9IHtcbiAgICBlbnZlbG9wZToge1xuICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgICAgcm91dGluZzogcm91dGluZyB8fCB7XG4gICAgICAgIHNlbmRlcjogJ2JiYi1hcHBzLWFra2EnLFxuICAgICAgICAvLyBzZW5kZXI6ICdodG1sNS1zZXJ2ZXInLCAvLyBUT0RPXG4gICAgICB9LFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgIH0sXG4gICAgY29yZToge1xuICAgICAgaGVhZGVyLFxuICAgICAgYm9keSxcbiAgICB9LFxuICB9O1xuXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShlbnZlbG9wZSk7XG59O1xuXG5jb25zdCBtYWtlRGVidWdnZXIgPSBlbmFibGVkID0+IChtZXNzYWdlKSA9PiB7XG4gIGlmICghZW5hYmxlZCkgcmV0dXJuO1xuICBMb2dnZXIuZGVidWcoYFJFRElTOiAke21lc3NhZ2V9YCk7XG59O1xuXG5jbGFzcyBNZWV0aW5nTWVzc2FnZVF1ZXVlIHtcbiAgY29uc3RydWN0b3IoZXZlbnRFbWl0dGVyLCBhc3luY01lc3NhZ2VzID0gW10sIGRlYnVnID0gKCkgPT4geyB9KSB7XG4gICAgdGhpcy5hc3luY01lc3NhZ2VzID0gYXN5bmNNZXNzYWdlcztcbiAgICB0aGlzLmVtaXR0ZXIgPSBldmVudEVtaXR0ZXI7XG4gICAgdGhpcy5xdWV1ZSA9IG5ldyBQb3dlclF1ZXVlKCk7XG4gICAgdGhpcy5kZWJ1ZyA9IGRlYnVnO1xuXG4gICAgdGhpcy5oYW5kbGVUYXNrID0gdGhpcy5oYW5kbGVUYXNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5xdWV1ZS50YXNrSGFuZGxlciA9IHRoaXMuaGFuZGxlVGFzaztcbiAgfVxuXG4gIGhhbmRsZVRhc2soZGF0YSwgbmV4dCkge1xuICAgIGNvbnN0IHsgY2hhbm5lbCB9ID0gZGF0YTtcbiAgICBjb25zdCB7IGVudmVsb3BlIH0gPSBkYXRhLnBhcnNlZE1lc3NhZ2U7XG4gICAgY29uc3QgeyBoZWFkZXIgfSA9IGRhdGEucGFyc2VkTWVzc2FnZS5jb3JlO1xuICAgIGNvbnN0IHsgYm9keSB9ID0gZGF0YS5wYXJzZWRNZXNzYWdlLmNvcmU7XG4gICAgY29uc3QgeyBtZWV0aW5nSWQgfSA9IGhlYWRlcjtcbiAgICBjb25zdCBldmVudE5hbWUgPSBoZWFkZXIubmFtZTtcbiAgICBjb25zdCBpc0FzeW5jID0gdGhpcy5hc3luY01lc3NhZ2VzLmluY2x1ZGVzKGNoYW5uZWwpXG4gICAgICB8fCB0aGlzLmFzeW5jTWVzc2FnZXMuaW5jbHVkZXMoZXZlbnROYW1lKTtcblxuICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcblxuICAgIGNoZWNrKGV2ZW50TmFtZSwgU3RyaW5nKTtcbiAgICBjaGVjayhib2R5LCBPYmplY3QpO1xuXG4gICAgY29uc3QgY2FsbE5leHQgPSAoKSA9PiB7XG4gICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICB0aGlzLmRlYnVnKGAke2V2ZW50TmFtZX0gY29tcGxldGVkICR7aXNBc3luYyA/ICdhc3luYycgOiAnc3luYyd9YCk7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgY29uc3QgcXVldWVMZW5ndGggPSB0aGlzLnF1ZXVlLmxlbmd0aCgpO1xuICAgICAgaWYgKHF1ZXVlTGVuZ3RoID4gMTAwKSB7XG4gICAgICAgIExvZ2dlci5lcnJvcihgcHJldiBxdWV1ZSBzaXplPSR7cXVldWVMZW5ndGh9IGApO1xuICAgICAgfVxuICAgICAgbmV4dCgpO1xuICAgIH07XG5cbiAgICBjb25zdCBvbkVycm9yID0gKHJlYXNvbikgPT4ge1xuICAgICAgTG9nZ2VyLmVycm9yKGAke2V2ZW50TmFtZX06ICR7cmVhc29uLnN0YWNrID8gcmVhc29uLnN0YWNrIDogcmVhc29ufWApO1xuICAgICAgY2FsbE5leHQoKTtcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuZGVidWcoYCR7SlNPTi5zdHJpbmdpZnkoZGF0YS5wYXJzZWRNZXNzYWdlLmNvcmUpfSBlbWl0dGVkYCk7XG5cbiAgICAgIGlmIChpc0FzeW5jKSB7XG4gICAgICAgIGNhbGxOZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZW1pdHRlclxuICAgICAgICAuZW1pdEFzeW5jKGV2ZW50TmFtZSwgeyBlbnZlbG9wZSwgaGVhZGVyLCBib2R5IH0sIG1lZXRpbmdJZClcbiAgICAgICAgLnRoZW4oY2FsbE5leHQpXG4gICAgICAgIC5jYXRjaChvbkVycm9yKTtcbiAgICB9IGNhdGNoIChyZWFzb24pIHtcbiAgICAgIG9uRXJyb3IocmVhc29uKTtcbiAgICB9XG4gIH1cblxuICBhZGQoLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLnF1ZXVlLmFkZCguLi5hcmdzKTtcbiAgfVxufVxuXG5jbGFzcyBSZWRpc1B1YlN1YiB7XG4gIHN0YXRpYyBoYW5kbGVQdWJsaXNoRXJyb3IoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgTG9nZ2VyLmVycm9yKGVycik7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgIHRoaXMuZGlkU2VuZFJlcXVlc3RFdmVudCA9IGZhbHNlO1xuICAgIGNvbnN0IGhvc3QgPSBwcm9jZXNzLmVudi5SRURJU19IT1NUIHx8IE1ldGVvci5zZXR0aW5ncy5wcml2YXRlLnJlZGlzLmhvc3Q7XG4gICAgY29uc3QgcmVkaXNDb25mID0gTWV0ZW9yLnNldHRpbmdzLnByaXZhdGUucmVkaXM7XG4gICAgY29uc3QgeyBwYXNzd29yZCwgcG9ydCB9ID0gcmVkaXNDb25mO1xuXG4gICAgaWYgKHBhc3N3b3JkKSB7XG4gICAgICB0aGlzLnB1YiA9IFJlZGlzLmNyZWF0ZUNsaWVudCh7IGhvc3QsIHBvcnQsIHBhc3N3b3JkIH0pO1xuICAgICAgdGhpcy5zdWIgPSBSZWRpcy5jcmVhdGVDbGllbnQoeyBob3N0LCBwb3J0LCBwYXNzd29yZCB9KTtcbiAgICAgIHRoaXMucHViLmF1dGgocGFzc3dvcmQpO1xuICAgICAgdGhpcy5zdWIuYXV0aChwYXNzd29yZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHViID0gUmVkaXMuY3JlYXRlQ2xpZW50KHsgaG9zdCwgcG9ydCB9KTtcbiAgICAgIHRoaXMuc3ViID0gUmVkaXMuY3JlYXRlQ2xpZW50KHsgaG9zdCwgcG9ydCB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyMigpO1xuICAgIHRoaXMubWV0dGluZ3NRdWV1ZXMgPSB7fTtcblxuICAgIHRoaXMuaGFuZGxlU3Vic2NyaWJlID0gdGhpcy5oYW5kbGVTdWJzY3JpYmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZU1lc3NhZ2UgPSB0aGlzLmhhbmRsZU1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmRlYnVnID0gbWFrZURlYnVnZ2VyKHRoaXMuY29uZmlnLmRlYnVnKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5zdWIub24oJ3BzdWJzY3JpYmUnLCBNZXRlb3IuYmluZEVudmlyb25tZW50KHRoaXMuaGFuZGxlU3Vic2NyaWJlKSk7XG4gICAgdGhpcy5zdWIub24oJ3BtZXNzYWdlJywgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCh0aGlzLmhhbmRsZU1lc3NhZ2UpKTtcblxuICAgIGNvbnN0IGNoYW5uZWxzVG9TdWJzY3JpYmUgPSB0aGlzLmNvbmZpZy5zdWJzY3JpYmVUbztcblxuICAgIGNoYW5uZWxzVG9TdWJzY3JpYmUuZm9yRWFjaCgoY2hhbm5lbCkgPT4ge1xuICAgICAgdGhpcy5zdWIucHN1YnNjcmliZShjaGFubmVsKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZGVidWcoYFN1YnNjcmliZWQgdG8gJyR7Y2hhbm5lbHNUb1N1YnNjcmliZX0nYCk7XG4gIH1cblxuICB1cGRhdGVDb25maWcoY29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmNvbmZpZywgY29uZmlnKTtcbiAgICB0aGlzLmRlYnVnID0gbWFrZURlYnVnZ2VyKHRoaXMuY29uZmlnLmRlYnVnKTtcbiAgfVxuXG5cbiAgLy8gVE9ETzogTW92ZSB0aGlzIG91dCBvZiB0aGlzIGNsYXNzLCBtYXliZSBwYXNzIGFzIGEgY2FsbGJhY2sgdG8gaW5pdD9cbiAgaGFuZGxlU3Vic2NyaWJlKCkge1xuICAgIGlmICh0aGlzLmRpZFNlbmRSZXF1ZXN0RXZlbnQpIHJldHVybjtcblxuICAgIC8vIHBvcHVsYXRlIGNvbGxlY3Rpb25zIHdpdGggcHJlLWV4aXN0aW5nIGRhdGFcbiAgICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcbiAgICBjb25zdCBDSEFOTkVMID0gUkVESVNfQ09ORklHLmNoYW5uZWxzLnRvQWtrYUFwcHM7XG4gICAgY29uc3QgRVZFTlRfTkFNRSA9ICdHZXRBbGxNZWV0aW5nc1JlcU1zZyc7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgcmVxdWVzdGVySWQ6ICdub2RlSlNhcHAnLFxuICAgIH07XG5cbiAgICB0aGlzLnB1Ymxpc2hTeXN0ZW1NZXNzYWdlKENIQU5ORUwsIEVWRU5UX05BTUUsIGJvZHkpO1xuICAgIHRoaXMuZGlkU2VuZFJlcXVlc3RFdmVudCA9IHRydWU7XG4gIH1cblxuICBoYW5kbGVNZXNzYWdlKHBhdHRlcm4sIGNoYW5uZWwsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCBwYXJzZWRNZXNzYWdlID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcbiAgICBjb25zdCB7IG5hbWU6IGV2ZW50TmFtZSwgbWVldGluZ0lkIH0gPSBwYXJzZWRNZXNzYWdlLmNvcmUuaGVhZGVyO1xuICAgIGNvbnN0IHsgaWdub3JlZDogaWdub3JlZE1lc3NhZ2VzLCBhc3luYyB9ID0gdGhpcy5jb25maWc7XG5cbiAgICBpZiAoaWdub3JlZE1lc3NhZ2VzLmluY2x1ZGVzKGNoYW5uZWwpXG4gICAgICB8fCBpZ25vcmVkTWVzc2FnZXMuaW5jbHVkZXMoZXZlbnROYW1lKSkge1xuICAgICAgaWYgKGV2ZW50TmFtZSA9PT0gJ0NoZWNrQWxpdmVQb25nU3lzTXNnJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmRlYnVnKGAke2V2ZW50TmFtZX0gc2tpcHBlZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXVlSWQgPSBtZWV0aW5nSWQgfHwgTk9fTUVFVElOR19JRDtcblxuICAgIGlmICghKHF1ZXVlSWQgaW4gdGhpcy5tZXR0aW5nc1F1ZXVlcykpIHtcbiAgICAgIHRoaXMubWV0dGluZ3NRdWV1ZXNbbWVldGluZ0lkXSA9IG5ldyBNZWV0aW5nTWVzc2FnZVF1ZXVlKHRoaXMuZW1pdHRlciwgYXN5bmMsIHRoaXMuZGVidWcpO1xuICAgIH1cblxuICAgIHRoaXMubWV0dGluZ3NRdWV1ZXNbbWVldGluZ0lkXS5hZGQoe1xuICAgICAgcGF0dGVybixcbiAgICAgIGNoYW5uZWwsXG4gICAgICBldmVudE5hbWUsXG4gICAgICBwYXJzZWRNZXNzYWdlLFxuICAgIH0pO1xuICB9XG5cbiAgZGVzdHJveU1lZXRpbmdRdWV1ZShpZCkge1xuICAgIGRlbGV0ZSB0aGlzLm1ldHRpbmdzUXVldWVzW2lkXTtcbiAgfVxuXG4gIG9uKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5lbWl0dGVyLm9uKC4uLmFyZ3MpO1xuICB9XG5cbiAgcHVibGlzaFZvaWNlTWVzc2FnZShjaGFubmVsLCBldmVudE5hbWUsIHZvaWNlQ29uZiwgcGF5bG9hZCkge1xuICAgIGNvbnN0IGhlYWRlciA9IHtcbiAgICAgIG5hbWU6IGV2ZW50TmFtZSxcbiAgICAgIHZvaWNlQ29uZixcbiAgICB9O1xuXG4gICAgY29uc3QgZW52ZWxvcGUgPSBtYWtlRW52ZWxvcGUoY2hhbm5lbCwgZXZlbnROYW1lLCBoZWFkZXIsIHBheWxvYWQpO1xuXG4gICAgcmV0dXJuIHRoaXMucHViLnB1Ymxpc2goY2hhbm5lbCwgZW52ZWxvcGUsIFJlZGlzUHViU3ViLmhhbmRsZVB1Ymxpc2hFcnJvcik7XG4gIH1cblxuICBwdWJsaXNoU3lzdGVtTWVzc2FnZShjaGFubmVsLCBldmVudE5hbWUsIHBheWxvYWQpIHtcbiAgICBjb25zdCBoZWFkZXIgPSB7XG4gICAgICBuYW1lOiBldmVudE5hbWUsXG4gICAgfTtcblxuICAgIGNvbnN0IGVudmVsb3BlID0gbWFrZUVudmVsb3BlKGNoYW5uZWwsIGV2ZW50TmFtZSwgaGVhZGVyLCBwYXlsb2FkKTtcblxuICAgIHJldHVybiB0aGlzLnB1Yi5wdWJsaXNoKGNoYW5uZWwsIGVudmVsb3BlLCBSZWRpc1B1YlN1Yi5oYW5kbGVQdWJsaXNoRXJyb3IpO1xuICB9XG5cbiAgcHVibGlzaE1lZXRpbmdNZXNzYWdlKGNoYW5uZWwsIGV2ZW50TmFtZSwgbWVldGluZ0lkLCBwYXlsb2FkKSB7XG4gICAgY29uc3QgaGVhZGVyID0ge1xuICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgICAgbWVldGluZ0lkLFxuICAgIH07XG5cbiAgICBjb25zdCBlbnZlbG9wZSA9IG1ha2VFbnZlbG9wZShjaGFubmVsLCBldmVudE5hbWUsIGhlYWRlciwgcGF5bG9hZCk7XG5cbiAgICByZXR1cm4gdGhpcy5wdWIucHVibGlzaChjaGFubmVsLCBlbnZlbG9wZSwgUmVkaXNQdWJTdWIuaGFuZGxlUHVibGlzaEVycm9yKTtcbiAgfVxuXG4gIHB1Ymxpc2hVc2VyTWVzc2FnZShjaGFubmVsLCBldmVudE5hbWUsIG1lZXRpbmdJZCwgdXNlcklkLCBwYXlsb2FkKSB7XG4gICAgY29uc3QgaGVhZGVyID0ge1xuICAgICAgbmFtZTogZXZlbnROYW1lLFxuICAgICAgbWVldGluZ0lkLFxuICAgICAgdXNlcklkLFxuICAgIH07XG5cbiAgICBpZiAoIW1lZXRpbmdJZCB8fCAhdXNlcklkKSB7XG4gICAgICBMb2dnZXIud2FybihgUHVibGlzaGluZyAke2V2ZW50TmFtZX0gd2l0aCBwb3RlbnRpYWxseSBtaXNzaW5nIGRhdGEgdXNlcklkPSR7dXNlcklkfSBtZWV0aW5nSWQ9JHttZWV0aW5nSWR9YCk7XG4gICAgfVxuICAgIGNvbnN0IGVudmVsb3BlID0gbWFrZUVudmVsb3BlKGNoYW5uZWwsIGV2ZW50TmFtZSwgaGVhZGVyLCBwYXlsb2FkLCB7IG1lZXRpbmdJZCwgdXNlcklkIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMucHViLnB1Ymxpc2goY2hhbm5lbCwgZW52ZWxvcGUsIFJlZGlzUHViU3ViLmhhbmRsZVB1Ymxpc2hFcnJvcik7XG4gIH1cbn1cblxuY29uc3QgUmVkaXNQdWJTdWJTaW5nbGV0b24gPSBuZXcgUmVkaXNQdWJTdWIoKTtcblxuTWV0ZW9yLnN0YXJ0dXAoKCkgPT4ge1xuICBjb25zdCBSRURJU19DT05GSUcgPSBNZXRlb3Iuc2V0dGluZ3MucHJpdmF0ZS5yZWRpcztcblxuICBSZWRpc1B1YlN1YlNpbmdsZXRvbi51cGRhdGVDb25maWcoUkVESVNfQ09ORklHKTtcbiAgUmVkaXNQdWJTdWJTaW5nbGV0b24uaW5pdCgpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IFJlZGlzUHViU3ViU2luZ2xldG9uO1xuIiwiaW1wb3J0IHsgTWV0ZW9yIH0gZnJvbSAnbWV0ZW9yL21ldGVvcic7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IFlBTUwgZnJvbSAneWFtbCc7XG5cbmNvbnN0IFlBTUxfRklMRV9QQVRIID0gJ2Fzc2V0cy9hcHAvY29uZmlnL3NldHRpbmdzLnltbCc7XG5cbnRyeSB7XG4gIGlmIChmcy5leGlzdHNTeW5jKFlBTUxfRklMRV9QQVRIKSkge1xuICAgIGNvbnN0IFNFVFRJTkdTID0gWUFNTC5wYXJzZShmcy5yZWFkRmlsZVN5bmMoWUFNTF9GSUxFX1BBVEgsICd1dGYtOCcpKTtcblxuICAgIE1ldGVvci5zZXR0aW5ncyA9IFNFVFRJTkdTO1xuICAgIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUFVCTElDX1NFVFRJTkdTID0gU0VUVElOR1MucHVibGljO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignRmlsZSBkb2VzblxcJ3QgZXhpc3RzJyk7XG4gIH1cbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG9uIGxvYWQgY29uZmlndXJhdGlvbiBmaWxlLicsIGVycm9yKTtcbn1cbiIsIi8vIFVzZWQgaW4gRmxhc2ggYW5kIEhUTUwgdG8gc2hvdyBhIGxlZ2l0aW1hdGUgYnJlYWsgaW4gdGhlIGxpbmVcbmNvbnN0IEJSRUFLX0xJTkUgPSAnPGJyLz4nO1xuXG4vLyBTb2Z0IHJldHVybiBpbiBIVE1MIHRvIHNpZ25pZnkgYSBicm9rZW4gbGluZSB3aXRob3V0XG4vLyBkaXNwbGF5aW5nIHRoZSBlc2NhcGVkICc8YnIvPicgbGluZSBicmVhayB0ZXh0XG5jb25zdCBDQVJSSUFHRV9SRVRVUk4gPSAnXFxyJztcblxuLy8gSGFuZGxlIHRoaXMgdGhlIHNhbWUgYXMgY2FycmlhZ2UgcmV0dXJuLCBpbiBjYXNlIHRleHQgY29waWVkIGhhcyB0aGlzXG5jb25zdCBORVdfTElORSA9ICdcXG4nO1xuXG5leHBvcnQgeyBCUkVBS19MSU5FLCBDQVJSSUFHRV9SRVRVUk4sIE5FV19MSU5FIH07XG4iLCJleHBvcnQgY29uc3QgWExTID0gJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCc7XG5leHBvcnQgY29uc3QgWExTWCA9ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCc7XG5leHBvcnQgY29uc3QgRE9DID0gJ2FwcGxpY2F0aW9uL21zd29yZCc7XG5leHBvcnQgY29uc3QgRE9DWCA9ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCc7XG5leHBvcnQgY29uc3QgUFBUID0gJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50JztcbmV4cG9ydCBjb25zdCBQUFRYID0gJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb24nO1xuZXhwb3J0IGNvbnN0IE9EVCA9ICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnRleHQnO1xuZXhwb3J0IGNvbnN0IFJURiA9ICdhcHBsaWNhdGlvbi9ydGYnO1xuZXhwb3J0IGNvbnN0IFRYVCA9ICd0ZXh0L3BsYWluJztcbmV4cG9ydCBjb25zdCBPRFMgPSAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5zcHJlYWRzaGVldCc7XG5leHBvcnQgY29uc3QgT0RQID0gJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQucHJlc2VudGF0aW9uJztcbmV4cG9ydCBjb25zdCBQREYgPSAnYXBwbGljYXRpb24vcGRmJztcbmV4cG9ydCBjb25zdCBKUEVHID0gJ2ltYWdlL2pwZWcnO1xuZXhwb3J0IGNvbnN0IFBORyA9ICdpbWFnZS9wbmcnO1xuZXhwb3J0IGNvbnN0IFNWRyA9ICdpbWFnZS9zdmcreG1sJztcblxuZXhwb3J0IGNvbnN0IFVQTE9BRF9TVVBPUlRFRCA9IFtcbiAgWExTLFxuICBYTFNYLFxuICBET0MsXG4gIERPQ1gsXG4gIFBQVCxcbiAgUFBUWCxcbiAgT0RULFxuICBSVEYsXG4gIFRYVCxcbiAgT0RTLFxuICBPRFAsXG4gIFBERixcbiAgSlBFRyxcbiAgUE5HLFxuXTtcbiIsIi8vXG4vLyBSZWd1bGFyIEV4cHJlc3Npb24gZm9yIFVSTCB2YWxpZGF0aW9uXG4vL1xuLy8gQXV0aG9yOiBEaWVnbyBQZXJpbmlcbi8vIFVwZGF0ZWQ6IDIwMTAvMTIvMDVcbi8vIExpY2Vuc2U6IE1JVFxuLy9cbi8vIENvcHlyaWdodCAoYykgMjAxMC0yMDEzIERpZWdvIFBlcmluaSAoaHR0cDovL3d3dy5pcG9ydC5pdClcbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvblxuLy8gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb25cbi8vIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dFxuLy8gcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsXG4vLyBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlXG4vLyBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZ1xuLy8gY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuLy8gaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbi8vIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFU1xuLy8gT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbi8vIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUXG4vLyBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSxcbi8vIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lOR1xuLy8gRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUlxuLy8gT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuLy9cbi8vIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gY29tcG9zZWQgJiBjb21tZW50ZWRcbi8vIGNvdWxkIGJlIGVhc2lseSB0d2Vha2VkIGZvciBSRkMgY29tcGxpYW5jZSxcbi8vIGl0IHdhcyBleHByZXNzbHkgbW9kaWZpZWQgdG8gZml0ICYgc2F0aXNmeVxuLy8gdGhlc2UgdGVzdCBmb3IgYW4gVVJMIHNob3J0ZW5lcjpcbi8vXG4vLyAgIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4XG4vL1xuLy8gTm90ZXMgb24gcG9zc2libGUgZGlmZmVyZW5jZXMgZnJvbSBhIHN0YW5kYXJkL2dlbmVyaWMgdmFsaWRhdGlvbjpcbi8vXG4vLyAtIHV0Zi04IGNoYXIgY2xhc3MgdGFrZSBpbiBjb25zaWRlcmF0aW9uIHRoZSBmdWxsIFVuaWNvZGUgcmFuZ2Vcbi8vIC0gVExEcyBoYXZlIGJlZW4gbWFkZSBtYW5kYXRvcnkgc28gc2luZ2xlIG5hbWVzIGxpa2UgXCJsb2NhbGhvc3RcIiBmYWlsc1xuLy8gLSBwcm90b2NvbHMgaGF2ZSBiZWVuIHJlc3RyaWN0ZWQgdG8gZnRwLCBodHRwIGFuZCBodHRwcyBvbmx5IGFzIHJlcXVlc3RlZFxuLy9cbi8vIENoYW5nZXM6XG4vL1xuLy8gLSBJUCBhZGRyZXNzIGRvdHRlZCBub3RhdGlvbiB2YWxpZGF0aW9uLCByYW5nZTogMS4wLjAuMCAtIDIyMy4yNTUuMjU1LjI1NVxuLy8gICBmaXJzdCBhbmQgbGFzdCBJUCBhZGRyZXNzIG9mIGVhY2ggY2xhc3MgaXMgY29uc2lkZXJlZCBpbnZhbGlkXG4vLyAgIChzaW5jZSB0aGV5IGFyZSBicm9hZGNhc3QvbmV0d29yayBhZGRyZXNzZXMpXG4vL1xuLy8gLSBBZGRlZCBleGNsdXNpb24gb2YgcHJpdmF0ZSwgcmVzZXJ2ZWQgYW5kL29yIGxvY2FsIG5ldHdvcmtzIHJhbmdlc1xuLy9cbi8vIC0gTWFkZSBzdGFydGluZyBwYXRoIHNsYXNoIG9wdGlvbmFsIChodHRwOi8vZXhhbXBsZS5jb20/Zm9vPWJhcilcbi8vXG4vLyAtIEFsbG93IGEgZG90ICguKSBhdCB0aGUgZW5kIG9mIGhvc3RuYW1lcyAoaHR0cDovL2V4YW1wbGUuY29tLilcbi8vXG4vLyBDb21wcmVzc2VkIG9uZS1saW5lIHZlcnNpb25zOlxuLy9cbi8vIEphdmFzY3JpcHQgdmVyc2lvbiAobWVyZ2UgaW50byBvbmUgbGluZSlcbi8vXG4vLyAvXig/Oig/Omh0dHBzP3xmdHApOlxcL1xcLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcXC5cXGR7MSwzfSl7M30pXG4vLyAoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KVxuLy8gKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn1cbi8vICg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKVxuLy8gKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKVxcLj8pXG4vLyAoPzo6XFxkezIsNX0pPyg/OlsvPyNdXFxTKik/JC9pXG4vL1xuLy8gUEhQIHZlcnNpb24gKG1lcmdlIGludG8gb25lIGxpbmUpXG4vL1xuLy8gX14oPzooPzpodHRwcz98ZnRwKTovLykoPzpcXFMrKD86OlxcUyopP0ApPyg/Oig/ISg/OjEwfDEyNylcbi8vICg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pXG4vLyAoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSlcbi8vIHsyfSg/OlxcLig/OlsxLTldXFxkP3wxXFxkXFxkfDJbMC00XVxcZHwyNVswLTRdKSl8KD86KD86W2EtelxceHswMGExfS1cXHh7ZmZmZn0wLTldLSopXG4vLyAqW2EtelxceHswMGExfS1cXHh7ZmZmZn0wLTldKykoPzpcXC4oPzpbYS16XFx4ezAwYTF9LVxceHtmZmZmfTAtOV0tKikqW2EtelxceHswMGExfS1cXHh7ZmZmZn0wLTldKylcbi8vICooPzpcXC4oPzpbYS16XFx4ezAwYTF9LVxceHtmZmZmfV17Mix9KSlcXC4/KSg/OjpcXGR7Miw1fSk/KD86Wy8/I11cXFMqKT8kX2l1U1xuLy9cblxuZXhwb3J0IGRlZmF1bHQgbmV3IFJlZ0V4cChcblxuICAvLyBwcm90b2NvbCBpZGVudGlmaWVyXG4gICcoPzooPzpodHRwcz98ZnRwKTovLyknICtcblxuICAvLyB1c2VyOnBhc3MgYXV0aGVudGljYXRpb25cbiAgJyg/OlxcXFxTKyg/OjpcXFxcUyopP0ApPycgK1xuICAnKD86JyArXG5cbiAgICAvLyBJUCBhZGRyZXNzIGV4Y2x1c2lvblxuICAgIC8vIHByaXZhdGUgJiBsb2NhbCBuZXR3b3Jrc1xuICAgICcoPyEoPzoxMHwxMjcpKD86XFxcXC5cXFxcZHsxLDN9KXszfSknICtcbiAgICAnKD8hKD86MTY5XFxcXC4yNTR8MTkyXFxcXC4xNjgpKD86XFxcXC5cXFxcZHsxLDN9KXsyfSknICtcbiAgICAnKD8hMTcyXFxcXC4oPzoxWzYtOV18MlxcXFxkfDNbMC0xXSkoPzpcXFxcLlxcXFxkezEsM30pezJ9KScgK1xuXG4gICAgLy8gSVAgYWRkcmVzcyBkb3R0ZWQgbm90YXRpb24gb2N0ZXRzXG4gICAgLy8gZXhjbHVkZXMgbG9vcGJhY2sgbmV0d29yayAwLjAuMC4wXG4gICAgLy8gZXhjbHVkZXMgcmVzZXJ2ZWQgc3BhY2UgPj0gMjI0LjAuMC4wXG4gICAgLy8gZXhjbHVkZXMgbmV0d29yayAmIGJyb2FjYXN0IGFkZHJlc3Nlc1xuICAgIC8vIChmaXJzdCAmIGxhc3QgSVAgYWRkcmVzcyBvZiBlYWNoIGNsYXNzKVxuICAgICcoPzpbMS05XVxcXFxkP3wxXFxcXGRcXFxcZHwyWzAxXVxcXFxkfDIyWzAtM10pJyArXG4gICAgJyg/OlxcXFwuKD86MT9cXFxcZHsxLDJ9fDJbMC00XVxcXFxkfDI1WzAtNV0pKXsyfScgK1xuICAgICcoPzpcXFxcLig/OlsxLTldXFxcXGQ/fDFcXFxcZFxcXFxkfDJbMC00XVxcXFxkfDI1WzAtNF0pKScgK1xuICAnfCcgK1xuXG4gICAgLy8gaG9zdCBuYW1lXG4gICAgJyg/Oig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XS0qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKScgK1xuXG4gICAgLy8gZG9tYWluIG5hbWVcbiAgICAnKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0tKikqW2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldKykqJyArXG5cbiAgICAvLyBUTEQgaWRlbnRpZmllclxuICAgICcoPzpcXFxcLig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmXXsyLH0pKScgK1xuXG4gICAgLy8gVExEIG1heSBlbmQgd2l0aCBkb3RcbiAgICAnXFxcXC4/JyArXG4gICcpJyArXG5cbiAgLy8gcG9ydCBudW1iZXJcbiAgJyg/OjpcXFxcZHsyLDV9KT8nICtcblxuICAvLyByZXNvdXJjZSBwYXRoXG4gICcoPzpbLz8jXVxcXFxTKik/JywgJ2ltZycsXG4pO1xuIiwiaW1wb3J0ICcvaW1wb3J0cy9zdGFydHVwL3NlcnZlcic7XG5cbi8vIDJ4XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9tZWV0aW5ncy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvdXNlcnMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL2Fubm90YXRpb25zL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9jdXJzb3Ivc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3BvbGxzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9jYXB0aW9ucy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9ucy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvcHJlc2VudGF0aW9uLXBvZHMvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3ByZXNlbnRhdGlvbi11cGxvYWQtdG9rZW4vc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3NsaWRlcy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvYnJlYWtvdXRzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0L3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9ncm91cC1jaGF0LW1zZy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvc2NyZWVuc2hhcmUvc2VydmVyJztcbmltcG9ydCAnL2ltcG9ydHMvYXBpL3VzZXJzLXNldHRpbmdzL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS92b2ljZS11c2Vycy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvd2hpdGVib2FyZC1tdWx0aS11c2VyL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS92aWRlby1zdHJlYW1zL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9uZXR3b3JrLWluZm9ybWF0aW9uL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS91c2Vycy1pbmZvcy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvbm90ZS9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvZXh0ZXJuYWwtdmlkZW9zL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9ndWVzdC11c2Vycy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvcGluZy1wb25nL3NlcnZlcic7XG5pbXBvcnQgJy9pbXBvcnRzL2FwaS9sb2NhbC1zZXR0aW5ncy9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvdm9pY2UtY2FsbC1zdGF0ZXMvc2VydmVyJztcblxuLy8gQ29tbW9uc1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvbG9nLWNsaWVudC9zZXJ2ZXInO1xuaW1wb3J0ICcvaW1wb3J0cy9hcGkvY29tbW9uL3NlcnZlci9oZWxwZXJzJztcbmltcG9ydCAnL2ltcG9ydHMvc3RhcnR1cC9zZXJ2ZXIvbG9nZ2VyJztcblxuLy8gTmVlZGVkIGZvciBBdG1vc3BoZXJlIHBhY2thZ2UgUm9ja2V0Q2hhdC9tZXRlb3Itc3RyZWFtZXJcbi8vIEl0IGlzIG91dCBvZiBkYXRlIGFuZCB3YXMgd3JpdHRlbiB3aGVuIE1ldGVvciBjb250YWluZWQgbG9kYXNoXG4vLyBwYWNrYWdlLiBIb3dldmVyLCB3ZSBub3cgaW1wb3J0IGxvZGFzaCBhcyBhbiBucG0gcGFja2FnZVxuLy8gaW4gb3JkZXIgdG8gY29udHJvbCB2ZXJzaW9ucywgdXBkYXRlIGZsZXhpYmx5LCBldGMuLlxuLy8gU2V0dGluZyB0aGUgZ2xvYmFsLl8gdG8gdXRpbGl6ZSB0aGUgbnBtIGxvZGFzaCBwYWNrYWdlIGlzIGFuIGludGVyaW0gZml4XG4vLyBhbmQgaXRzIGludHJvZHVjdGlvbiB3YXMgaW5zcGlyZWQgYnlcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9Sb2NrZXRDaGF0L21ldGVvci1zdHJlYW1lci9pc3N1ZXMvNDAjaXNzdWVjb21tZW50LTQ5NzYyNzg5M1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuZ2xvYmFsLl8gPSBfO1xuIl19
